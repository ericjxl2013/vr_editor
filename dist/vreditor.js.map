{"version":3,"sources":["node_modules/_browser-pack@6.1.0@browser-pack/_prelude.js","src/editor/editor.ts","src/editor/index.ts","src/index.ts","src/lib/events.ts","src/lib/index.ts","src/main.ts","src/ui/container-element.ts","src/ui/element.ts","src/ui/index.ts","src/ui/link.ts","src/ui/panel.ts"],"names":[],"mappings":"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","file":"vreditor.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { Events } from '../lib';\r\n\r\nexport class Editor extends Events {\r\n\r\n  // 某个name对应的某个事件，name与Function是1对1的关系；\r\n  private _hooks: { [key: string]: Function } = {};\r\n\r\n  public constructor() {\r\n    super();\r\n  }\r\n\r\n  /**\r\n   * 添加全局函数，函数名与函数本体一一对象，不能重名；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public method(name: string, fn: Function): void {\r\n    if (this._hooks[name] !== undefined) {\r\n      throw new Error(\"can't override hook: \" + name);\r\n    }\r\n    this._hooks[name] = fn;\r\n  };\r\n\r\n  /**\r\n   * 移除某个函数；\r\n   * @param name 函数名；\r\n   */\r\n  public methodRemove(name: string): void {\r\n    delete this._hooks[name];\r\n  };\r\n\r\n  /**\r\n   * 执行某个函数；\r\n   * @param name 函数名；\r\n   */\r\n  public call(name: string, ...args: any[]): any {\r\n    if (this._hooks[name]) {\r\n      var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n      try {\r\n        return this._hooks[name].apply(null, args);\r\n      } catch (ex) {\r\n        console.error(\r\n          \"%c%s %c(editor.method error)\",\r\n          \"color: #06f\",\r\n          name,\r\n          \"color: #f00\"\r\n        );\r\n        console.error(ex.stack);\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n}","export * from './editor';","export * from './lib';\r\nexport * from './editor';\r\nexport * from './ui';\r\n","export class Events {\r\n\r\n  public get suspendEvents(): boolean {\r\n    return this._suspendEvents;\r\n  }\r\n  public set suspendEvents(val: boolean) {\r\n    this._suspendEvents = val;\r\n  }\r\n  private _suspendEvents: boolean = false;\r\n\r\n  // 某个name对应的事件数组，name与Function是1对多的关系；\r\n  private _events: { [key: string]: Function[] } = {};\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n  /**\r\n   * 添加事件数组，若name相同，则在数组末尾继续添加；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public on(name: string, fn: Function): EventHandle {\r\n    let events: Function[] = this._events[name];\r\n    if (events === undefined) {\r\n      this._events[name] = [fn];\r\n    } else {\r\n      if (events.indexOf(fn) == -1) {\r\n        events.push(fn);\r\n      }\r\n    }\r\n    return new EventHandle(this, name, fn);\r\n  }\r\n\r\n  /**\r\n   * emit后只执行一次；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public once(name: string, fn: Function): EventHandle {\r\n    let self = this;\r\n    let evt: EventHandle = this.on(name, function (\r\n      arg0: any,\r\n      arg1: any,\r\n      arg2: any,\r\n      arg3: any,\r\n      arg4: any,\r\n      arg5: any,\r\n      arg6: any,\r\n      arg7: any\r\n    ) {\r\n      fn.call(self, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7);\r\n      evt.unbind();\r\n    });\r\n    return evt;\r\n  }\r\n\r\n  /**\r\n   * 执行事件；\r\n   * @param name 函数名；\r\n   * @param arg0 函数参数1，可选；\r\n   * @param arg1 函数参数2，可选；\r\n   * @param arg2 函数参数3，可选；\r\n   * @param arg3 函数参数4，可选；\r\n   * @param arg4 函数参数5，可选；\r\n   * @param arg5 函数参数6，可选；\r\n   * @param arg6 函数参数7，可选；\r\n   * @param arg7 函数参数8，可选；\r\n   */\r\n  public emit(name: string,\r\n    arg0?: any,\r\n    arg1?: any,\r\n    arg2?: any,\r\n    arg3?: any,\r\n    arg4?: any,\r\n    arg5?: any,\r\n    arg6?: any,\r\n    arg7?: any\r\n  ): Events {\r\n    if (this._suspendEvents) return this;\r\n\r\n    let events: Function[] = this._events[name];\r\n    if (!events) return this;\r\n\r\n    // 返回新数组\r\n    events = events.slice(0);\r\n\r\n    for (let i: number = 0; i < events.length; i++) {\r\n      if (!events[i]) continue;\r\n      try {\r\n        events[i].call(this, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7);\r\n      } catch (ex) {\r\n        console.info(\"%c%s %c(event error)\", \"color: #06f\", name, \"color: #f00\");\r\n        console.log(ex.stack);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * 取消Events事件绑定，若name为空，则清空events；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public unbind(name?: string, fn?: Function): Events {\r\n    if (name) {\r\n      let events: Function[] = this._events[name];\r\n      if (!events) return this;\r\n\r\n      if (fn) {\r\n        let i: number = events.indexOf(fn);\r\n        if (i !== -1) {\r\n          if (events.length === 1) {\r\n            delete this._events[name];\r\n          } else {\r\n            events.splice(i, 1);\r\n          }\r\n        }\r\n      } else {\r\n        delete this._events[name];\r\n      }\r\n    } else {\r\n      this._events = {};\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n}\r\n\r\n\r\nexport class EventHandle {\r\n\r\n  public name: Nullable<string>;\r\n\r\n  public owner: Nullable<Events>;\r\n\r\n  public fn: Nullable<Function>;\r\n\r\n  public constructor(owner: Events, name: string, fn: Function) {\r\n    this.owner = owner;\r\n    this.name = name;\r\n    this.fn = fn;\r\n  }\r\n\r\n  public unbind(): void {\r\n    if (!this.owner) return;\r\n\r\n    this.owner.unbind(this.name!, this.fn!);\r\n\r\n    this.owner = null;\r\n    this.name = null;\r\n    this.fn = null;\r\n  }\r\n\r\n  public call(): void {\r\n    if (!this.fn) return;\r\n\r\n    this.fn.call(\r\n      this.owner!,\r\n      arguments[0],\r\n      arguments[1],\r\n      arguments[2],\r\n      arguments[3],\r\n      arguments[4],\r\n      arguments[5],\r\n      arguments[6],\r\n      arguments[7]\r\n    );\r\n  }\r\n\r\n  public on(name: string, fn: Function): EventHandle {\r\n    return this.owner!.on(name, fn);\r\n  }\r\n\r\n}","export * from './events';","import { Editor } from './editor';\r\n\r\nexport * from './index';\r\n\r\n// 添加到全局变量\r\nwindow.editor = new Editor();\r\n\r\n/* TEST\r\neditor.once('load', () => {\r\n  console.log('once');\r\n});\r\n\r\neditor.on('array', () => {\r\n  console.log('1');\r\n});\r\neditor.on('array', () => {\r\n  console.log('2');\r\n});\r\neditor.on('array', () => {\r\n  console.log('3');\r\n});\r\n\r\neditor.on('array', (args0: any, args1: any) => {\r\n  console.log(args0 + ' +++ ' +  args1);\r\n});\r\n\r\neditor.method('method', (a: any) => {\r\n  console.log(a);\r\n});\r\n\r\n\r\neditor.emit('load');\r\neditor.emit('load');\r\n\r\neditor.emit('array', 'abc', 'dfg');\r\neditor.emit('array');\r\n\r\neditor.call('method', 123);\r\n*/\r\n\r\nlet parent: HTMLElement = document.getElementById('test')!;\r\n\r\nconsole.log('children');\r\n\r\nconsole.log(parent);\r\nconsole.log(parent.childNodes);\r\n\r\nfor(let i: number = 0; i < parent.children.length; i++) {\r\n  console.log((<HTMLElement>(parent.children[i])).ui = new Element());\r\n  console.log(parent.children[i] instanceof HTMLElement);\r\n}\r\n\r\nconsole.log('childNodes');\r\n\r\nfor(let i: number = 0; i < parent.childNodes.length; i++) {\r\n  console.log(parent.childNodes[i] instanceof HTMLElement);\r\n}\r\n","import { Element } from './element';\r\n\r\nexport class ContainerElement extends Element {\r\n\r\n\r\n  private _innerElement: Nullable<HTMLElement> = null;\r\n  public get innerElement(): Nullable<HTMLElement> {\r\n    return this._innerElement;\r\n  }\r\n  public set innerElement(val: Nullable<HTMLElement>) {\r\n    if (this._innerElement) {\r\n      this._observer.disconnect();\r\n    }\r\n\r\n    this._innerElement = val;\r\n\r\n    this._observer.observe(this._innerElement!, this._observerOptions);\r\n  }\r\n\r\n  private _observerChanged: boolean = false;\r\n\r\n  private _observer: MutationObserver;\r\n\r\n  private _observerOptions: {} = {\r\n    childList: true,\r\n    attributes: true,\r\n    characterData: false,\r\n    subtree: true,\r\n    attributeOldValue: false,\r\n    characterDataOldValue: false\r\n  };\r\n\r\n\r\n  public get flexible(): boolean {\r\n    return this.element ? this.element.classList.contains('flexible') : false;\r\n  }\r\n  public set flexible(val: boolean) {\r\n    if (!this.element || this.element.classList.contains('flexible') === val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.element.classList.add('flexible');\r\n    } else {\r\n      this.element.classList.remove('flexible');\r\n    }\r\n  }\r\n\r\n  public get flex(): boolean {\r\n    return this.element ? this.element.classList.contains('flex') : false;\r\n  }\r\n  public set flex(val: boolean) {\r\n    if (!this.element || this.element.classList.contains('flex') === val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.element.classList.add('flex');\r\n    } else {\r\n      this.element.classList.remove('flex');\r\n    }\r\n  }\r\n\r\n  public get flexDirection(): Nullable<string> {\r\n    return this._innerElement ? this._innerElement!.style.flexDirection : null;\r\n  }\r\n  public set flexDirection(val: Nullable<string>) {\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexDirection = val;\r\n      this._innerElement.style.webkitFlexDirection = val!;\r\n    }\r\n  }\r\n\r\n  public get flexWrap(): Nullable<string> {\r\n    return this._innerElement ? this._innerElement!.style.flexWrap : null;\r\n  }\r\n  public set flexWrap(val: Nullable<string>) {\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexWrap = val;\r\n      this._innerElement.style.webkitFlexWrap = val!;\r\n    }\r\n  }\r\n\r\n  public get flexGrow(): Nullable<string> {\r\n    return this.element ? this.element.style.flexGrow : null;\r\n  }\r\n  public set flexGrow(val: Nullable<string>) {\r\n    if (!!val) this.flex = true;\r\n\r\n    if (this.element) {\r\n      this.element.style.flexGrow = val;\r\n      this.element.style.webkitFlexGrow = val!;\r\n    }\r\n\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexGrow = val;\r\n      this._innerElement.style.webkitFlexGrow = val!;\r\n    }\r\n  }\r\n\r\n  public get flexShrink(): Nullable<string> {\r\n    return this.element ? this.element.style.flexShrink : null;\r\n  }\r\n  public set flexShrink(val: Nullable<string>) {\r\n    if (!!val) this.flex = true;\r\n\r\n    if (this.element) {\r\n      this.element.style.flexShrink = val;\r\n      this.element.style.webkitFlexShrink = val!;\r\n    }\r\n\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexShrink = val;\r\n      this._innerElement.style.webkitFlexShrink = val!;\r\n    }\r\n  }\r\n\r\n  public get scroll(): boolean {\r\n    return this.class ? this.class.contains('scrollable') : false;\r\n  }\r\n  public set scroll(val: boolean) {\r\n    if (this.class) this.class.add('scrollable');\r\n  }\r\n\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    let self = this;\r\n\r\n    this._observer = new MutationObserver(function () {\r\n      if (self._observerChanged)\r\n        return;\r\n      self._observerChanged = true;\r\n      setTimeout(self.observerTimeout, 0);\r\n    });\r\n  }\r\n\r\n  private observerTimeout(): void {\r\n    this._observerChanged = false;\r\n    this.emit('nodesChanged');\r\n  };\r\n\r\n\r\n  public append(element: HTMLElement | Element): void {\r\n    let html: boolean = element instanceof HTMLElement;\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n    this._innerElement!.appendChild(node);\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  }\r\n\r\n\r\n  public appendBefore(element: HTMLElement | Element, reference: HTMLElement | Element | null): void {\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (reference instanceof Element) reference = reference.element;\r\n\r\n    this._innerElement!.insertBefore(node, reference);\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  };\r\n\r\n  public appendAfter(element: HTMLElement | Element, reference: HTMLElement | Element | null): void {\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (reference instanceof Element) reference = reference.element;\r\n\r\n    if (reference) {\r\n      this._innerElement!.insertBefore(node, reference.nextSibling);\r\n    } else {\r\n      this._innerElement!.appendChild(node);\r\n    }\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  };\r\n\r\n\r\n  public prepend(element: HTMLElement | Element): void {\r\n    let first = this._innerElement!.firstChild;\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (first) {\r\n      this._innerElement!.insertBefore(node, first);\r\n    } else {\r\n      this._innerElement!.appendChild(node);\r\n    }\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  };\r\n\r\n  public remove(element: HTMLElement | Element): void {\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (!node.parentNode || node.parentNode !== this._innerElement)\r\n      return;\r\n\r\n    this._innerElement.removeChild(node);\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = null;\r\n      this.emit('remove', element);\r\n    }\r\n  };\r\n\r\n\r\n  public clear(): void {\r\n    let node: ChildNode;\r\n\r\n    this._observer.disconnect();\r\n\r\n    let i: number = this._innerElement!.childNodes.length;\r\n    while (i--) {\r\n      node = this._innerElement!.childNodes[i];\r\n\r\n      // if (!node.ui)\r\n      //   continue;\r\n\r\n      // node.ui.destroy();\r\n    }\r\n    this._innerElement!.innerHTML = '';\r\n\r\n    this._observer.observe(this._innerElement!, this._observerOptions);\r\n  };\r\n\r\n\r\n}","import { Events, EventHandle } from \"../lib\";\r\nimport { Link } from \"./link\";\r\n\r\nexport class Element extends Events {\r\n\r\n  private _parent: Nullable<Element> = null;\r\n  private _destroyed: boolean = false;\r\n\r\n  // TODO\r\n  private _link: Nullable<Link> = null;\r\n  /*\r\n    on get set .schema.has .schema.get .history .history.combine .entity\r\n  */\r\n  private _linkOnSet: Nullable<EventHandle> = null;\r\n  private _linkOnUnset: Nullable<EventHandle> = null;\r\n  public path: string = '';\r\n\r\n  public renderChanges = false;\r\n  // TODO\r\n  // // render changes only from next ticks\r\n  // setTimeout(function() {\r\n  //   if (self.renderChanges === null) self.renderChanges = true;\r\n  // }, 0);\r\n\r\n  public disabledClick = false;\r\n  private _disabled = false;\r\n  private _disabledParent = false;\r\n\r\n  private _evtParentDestroy: Nullable<EventHandle> = null;\r\n  private _evtParentDisable: Nullable<EventHandle> = null;\r\n  private _evtParentEnable: Nullable<EventHandle> = null;\r\n\r\n  // HTMLElement \r\n  private _element: Nullable<HTMLElement> = null;\r\n  public innerElement: Nullable<HTMLElement> = null;\r\n  public get element(): Nullable<HTMLElement> {\r\n    return this._element;\r\n  }\r\n  public set element(val: Nullable<HTMLElement>) {\r\n    if (this._element) return;\r\n\r\n    this._element = val;\r\n    // this._element!.ui = this;\r\n\r\n    if (!this._element) return;\r\n\r\n    let self = this;\r\n    // click 事件\r\n    this._element.addEventListener('click', (evt) => {\r\n      if (self.disabled && !self.disabledClick) return;\r\n      self.emit(\"click\", evt);\r\n    }, false);\r\n    // hover 事件\r\n    this._element.addEventListener('mouseover', (evt) => {\r\n      self.emit('hover', evt);\r\n    }, false);\r\n    // blur 事件，mouse out\r\n    this._element.addEventListener('mouseout', (evt) => {\r\n      self.emit('blur', evt);\r\n    }, false);\r\n\r\n    if (!this.innerElement) this.innerElement = this._element;\r\n  }\r\n\r\n  public get parent(): Nullable<Element> {\r\n    return this._parent;\r\n  }\r\n  public set parent(val: Nullable<Element>) {\r\n    if (this._parent) {\r\n      this._parent = null;\r\n      this._evtParentDestroy!.unbind();\r\n      this._evtParentDisable!.unbind();\r\n      this._evtParentEnable!.unbind();\r\n    }\r\n\r\n    if (val) {\r\n      this._parent = val;\r\n      this._evtParentDestroy = this._parent.once(\r\n        \"destroy\",\r\n        this._parentDestroy\r\n      );\r\n      this._evtParentDisable = this._parent.on(\"disable\", this._parentDisable);\r\n      this._evtParentEnable = this._parent.on(\"enable\", this._parentEnable);\r\n\r\n      if (this._disabledParent !== this._parent.disabled) {\r\n        this._disabledParent = this._parent.disabled;\r\n\r\n        if (this._disabledParent) {\r\n          this.class!.add(\"disabled\");\r\n          this.emit(\"disable\");\r\n        } else {\r\n          this.class!.remove(\"disabled\");\r\n          this.emit(\"enable\");\r\n        }\r\n      }\r\n    }\r\n\r\n    this.emit(\"parent\");\r\n  }\r\n\r\n  public get disabled(): boolean {\r\n    return this._disabled || this._disabledParent;\r\n  }\r\n  public set disabled(val: boolean) {\r\n    if (this._disabled === val) return;\r\n\r\n    this._disabled = !!val;\r\n    this.emit(this._disabled || this._disabledParent ? 'disable' : 'enable');\r\n\r\n    if (this._disabled || this._disabledParent) {\r\n      if (this.class) this.class.add('disabled');\r\n    } else {\r\n      if (this.class) this.class.remove('disabled');\r\n    }\r\n  }\r\n\r\n  public get disabledSelf(): boolean {\r\n    return this._disabled;\r\n  }\r\n\r\n  public get enabled(): boolean {\r\n    return !this._disabled;\r\n  }\r\n  public set enabled(val: boolean) {\r\n    this.disabled = !val;\r\n  }\r\n\r\n  public get hidden(): boolean {\r\n    return this._element ? this._element.classList.contains('hidden') : false;\r\n  }\r\n  public set hidden(val: boolean) {\r\n    if (!this._element) return;\r\n\r\n    if (this._element.classList.contains('hidden') === !!val) return;\r\n\r\n    if (val) {\r\n      this._element.classList.add('hidden');\r\n      this.emit('hide');\r\n    } else {\r\n      this._element.classList.remove('hidden');\r\n      this.emit('show');\r\n\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public get value(): any {\r\n    if (!this._link) return null;\r\n    return this._link.get(this.path);\r\n  }\r\n  public set value(val: any) {\r\n    if (!this._link) return;\r\n    this._link.set(this.path, val);\r\n  }\r\n\r\n  /* DOM Element */\r\n\r\n  public get class(): Nullable<DOMTokenList> {\r\n    if (this._element) {\r\n      return this._element.classList;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public get style(): Nullable<CSSStyleDeclaration> {\r\n    if (this._element) {\r\n      return this._element.style;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // flex-grow 属性用于设置或检索弹性盒子的扩展比率，用作css动画效果\r\n  public get flexGrow(): Nullable<string> {\r\n    return this._element ? this._element.style.flexGrow : null;\r\n  }\r\n  public set flexGrow(val: Nullable<string>) {\r\n    if (this._element) {\r\n      this._element.style.flexGrow = val;\r\n      this._element.style.webkitFlexGrow = val!;\r\n    }\r\n  }\r\n\r\n  // flex-shrink 属性规定项目将相对于同一容器内其他灵活的项目进行收缩的量，用作css动画效果\r\n  public get flexShrink(): Nullable<string> {\r\n    return this._element ? this._element.style.flexShrink : null;\r\n  }\r\n  public set flexShrink(val: Nullable<string>) {\r\n    if (this._element) {\r\n      this._element.style.flexShrink = val;\r\n      this._element.style.webkitFlexShrink = val!;\r\n    }\r\n  }\r\n\r\n\r\n  public constructor() {\r\n    super();\r\n    // this._element!.addEventListener('click', )\r\n\r\n  }\r\n\r\n  // 设置元素闪烁效果\r\n  public flash(): void {\r\n    if (this.class) {\r\n      this.class.add('flash');\r\n      setTimeout(this._onFlashDelay, 200);\r\n    }\r\n  }\r\n\r\n\r\n  private _onFlashDelay(): void {\r\n    if (this.class) {\r\n      this.class.remove('flash');\r\n    }\r\n  }\r\n\r\n  public link(link: Link, path: string): void {\r\n    let self = this;\r\n\r\n    if (this._link) this.unlink();\r\n    this._link = link;\r\n    this.path = path;\r\n\r\n    this.emit(\"link\", path);\r\n\r\n    // add :set link\r\n    if (this._onLinkChange) {\r\n      let renderChanges = this.renderChanges;\r\n      this.renderChanges = false;\r\n      this._linkOnSet = this._link.on(this.path + \":set\", function (value: any) {\r\n        self._onLinkChange(value);\r\n      });\r\n      this._linkOnUnset = this._link.on(this.path + \":unset\", function (value: any) {\r\n        self._onLinkChange(value);\r\n      });\r\n      this._onLinkChange(this._link.get(this.path));\r\n      this.renderChanges = renderChanges;\r\n    }\r\n  };\r\n\r\n\r\n  public unlink(): void {\r\n    if (!this._link) return;\r\n\r\n    this.emit(\"unlink\", this.path);\r\n\r\n    // remove :set link\r\n    if (this._linkOnSet) {\r\n      this._linkOnSet.unbind();\r\n      this._linkOnSet = null;\r\n\r\n      this._linkOnUnset!.unbind();\r\n      this._linkOnUnset = null;\r\n    }\r\n\r\n    this._link = null;\r\n    this.path = \"\";\r\n  };\r\n\r\n  private _onLinkChange(value: any): void {\r\n\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n    if (this._destroyed) return;\r\n\r\n    this._destroyed = true;\r\n\r\n    if (this._parent) {\r\n      this._evtParentDestroy!.unbind();\r\n      this._evtParentDisable!.unbind();\r\n      this._evtParentEnable!.unbind();\r\n      this._parent = null;\r\n    }\r\n\r\n    if (this._element && this._element.parentNode) {\r\n      this._element.parentNode.removeChild(this._element);\r\n    }\r\n\r\n    this.unlink();\r\n\r\n    this.emit('destroy');\r\n\r\n    this.unbind();\r\n  };\r\n\r\n  private _parentDestroy(): void {\r\n    this.destroy();\r\n  };\r\n\r\n  private _parentDisable(): void {\r\n    if (this._disabledParent) return;\r\n\r\n    this._disabledParent = true;\r\n\r\n    if (!this._disabled) {\r\n      this.emit(\"disable\");\r\n      this.class!.add(\"disabled\");\r\n    }\r\n  };\r\n\r\n  private _parentEnable(): void {\r\n    if (!this._disabledParent) return;\r\n\r\n    this._disabledParent = false;\r\n\r\n    if (!this._disabled) {\r\n      this.emit(\"enable\");\r\n      this.class!.remove(\"disabled\");\r\n    }\r\n  };\r\n\r\n\r\n}","export * from './link';\r\nexport * from './element';\r\nexport * from './container-element';\r\nexport * from './panel';","import { Element } from '../ui';\r\nimport { EventHandle } from '../lib';\r\n\r\n// TODO\r\nexport class Link {\r\n\r\n  private _element: Element;\r\n\r\n  private _value: { [key: string]: any } = {};\r\n\r\n  public constructor(ele: Element) {\r\n    this._element = ele;\r\n  }\r\n\r\n  public get(path: string): any {\r\n    return this._value[path];\r\n  }\r\n\r\n  public set(path: string, value: any): void {\r\n    this._value[path] = value;\r\n  }\r\n\r\n  public on(name: string, fn: Function): EventHandle {\r\n    return this._element.on(name, fn);\r\n  }\r\n}","export class Panel {\r\n\r\n\r\n  public constructor() {\r\n    \r\n  }\r\n\r\n  public test(): void {\r\n\r\n  }\r\n\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9lZGl0b3IvZWRpdG9yLnRzIiwic3JjL2VkaXRvci9pbmRleC50cyIsInNyYy9pbmRleC50cyIsInNyYy9saWIvZXZlbnRzLnRzIiwic3JjL2xpYi9pbmRleC50cyIsInNyYy9tYWluLnRzIiwic3JjL3VpL2NvbnRhaW5lci1lbGVtZW50LnRzIiwic3JjL3VpL2VsZW1lbnQudHMiLCJzcmMvdWkvaW5kZXgudHMiLCJzcmMvdWkvbGluay50cyIsInNyYy91aS9wYW5lbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBLDhCQUFnQztBQUVoQztJQUE0QiwwQkFBTTtJQUtoQztRQUFBLFlBQ0UsaUJBQU8sU0FDUjtRQUxELHNDQUFzQztRQUM5QixZQUFNLEdBQWdDLEVBQUUsQ0FBQzs7SUFJakQsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSx1QkFBTSxHQUFiLFVBQWMsSUFBWSxFQUFFLEVBQVk7UUFDdEMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLFNBQVMsRUFBRTtZQUNuQyxNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ2pEO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUFBLENBQUM7SUFFRjs7O09BR0c7SUFDSSw2QkFBWSxHQUFuQixVQUFvQixJQUFZO1FBQzlCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBQUEsQ0FBQztJQUVGOzs7T0FHRztJQUNJLHFCQUFJLEdBQVgsVUFBWSxJQUFZO1FBQUUsY0FBYzthQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7WUFBZCw2QkFBYzs7UUFDdEMsSUFBSSxJQUFJ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Q0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDaEM7SUFDSCxDQUFDO0lBQUEsQ0FBQztJQUdKLGNBQUM7QUFBRCxDQXRUQSxBQXNUQyxDQXRUNEIsWUFBTSxHQXNUbEM7QUF0VFksMEJBQU87Ozs7Ozs7QUNIcEIsNEJBQXVCO0FBQ3ZCLCtCQUEwQjtBQUMxQix5Q0FBb0M7QUFDcEMsNkJBQXdCOzs7O0FDQXhCLE9BQU87QUFDUDtJQU1FLGNBQW1CLEdBQVk7UUFGdkIsV0FBTSxHQUEyQixFQUFFLENBQUM7UUFHMUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7SUFDdEIsQ0FBQztJQUVNLGtCQUFHLEdBQVYsVUFBVyxJQUFZO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRU0sa0JBQUcsR0FBVixVQUFXLElBQVksRUFBRSxLQUFVO1FBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUFFTSxpQkFBRSxHQUFULFVBQVUsSUFBWSxFQUFFLEVBQVk7UUFDbEMsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUNILFdBQUM7QUFBRCxDQXJCQSxBQXFCQyxJQUFBO0FBckJZLG9CQUFJOzs7O0FDSmpCO0lBR0U7SUFFQSxDQUFDO0lBRU0sb0JBQUksR0FBWDtJQUVBLENBQUM7SUFFSCxZQUFDO0FBQUQsQ0FYQSxBQVdDLElBQUE7QUFYWSxzQkFBSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4uL2xpYic7XHJcblxyXG5leHBvcnQgY2xhc3MgRWRpdG9yIGV4dGVuZHMgRXZlbnRzIHtcclxuXHJcbiAgLy8g5p+Q5LiqbmFtZeWvueW6lOeahOafkOS4quS6i+S7tu+8jG5hbWXkuI5GdW5jdGlvbuaYrzHlr7kx55qE5YWz57O777ybXHJcbiAgcHJpdmF0ZSBfaG9va3M6IHsgW2tleTogc3RyaW5nXTogRnVuY3Rpb24gfSA9IHt9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5re75Yqg5YWo5bGA5Ye95pWw77yM5Ye95pWw5ZCN5LiO5Ye95pWw5pys5L2T5LiA5LiA5a+56LGh77yM5LiN6IO96YeN5ZCN77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGZuIOWHveaVsOacrOS9k++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2QobmFtZTogc3RyaW5nLCBmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9ob29rc1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbid0IG92ZXJyaWRlIGhvb2s6IFwiICsgbmFtZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9ob29rc1tuYW1lXSA9IGZuO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIOenu+mZpOafkOS4quWHveaVsO+8m1xyXG4gICAqIEBwYXJhbSBuYW1lIOWHveaVsOWQje+8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2RSZW1vdmUobmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBkZWxldGUgdGhpcy5faG9va3NbbmFtZV07XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICog5omn6KGM5p+Q5Liq5Ye95pWw77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICovXHJcbiAgcHVibGljIGNhbGwobmFtZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IGFueSB7XHJcbiAgICBpZiAodGhpcy5faG9va3NbbmFtZV0pIHtcclxuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faG9va3NbbmFtZV0uYXBwbHkobnVsbCwgYXJncyk7XHJcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiJWMlcyAlYyhlZGl0b3IubWV0aG9kIGVycm9yKVwiLFxyXG4gICAgICAgICAgXCJjb2xvcjogIzA2ZlwiLFxyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIFwiY29sb3I6ICNmMDBcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihleC5zdGFjayk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2VkaXRvcic7IiwiZXhwb3J0ICogZnJvbSAnLi9saWInO1xyXG5leHBvcnQgKiBmcm9tICcuL2VkaXRvcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdWknO1xyXG4iLCJleHBvcnQgY2xhc3MgRXZlbnRzIHtcclxuXHJcbiAgcHVibGljIGdldCBzdXNwZW5kRXZlbnRzKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N1c3BlbmRFdmVudHM7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc3VzcGVuZEV2ZW50cyh2YWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuX3N1c3BlbmRFdmVudHMgPSB2YWw7XHJcbiAgfVxyXG4gIHByaXZhdGUgX3N1c3BlbmRFdmVudHM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgLy8g5p+Q5LiqbmFtZeWvueW6lOeahOS6i+S7tuaVsOe7hO+8jG5hbWXkuI5GdW5jdGlvbuaYrzHlr7nlpJrnmoTlhbPns7vvvJtcclxuICBwcml2YXRlIF9ldmVudHM6IHsgW2tleTogc3RyaW5nXTogRnVuY3Rpb25bXSB9ID0ge307XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmt7vliqDkuovku7bmlbDnu4TvvIzoi6VuYW1l55u45ZCM77yM5YiZ5Zyo5pWw57uE5pyr5bC+57un57ut5re75Yqg77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGZuIOWHveaVsOacrOS9k++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBvbihuYW1lOiBzdHJpbmcsIGZuOiBGdW5jdGlvbik6IEV2ZW50SGFuZGxlIHtcclxuICAgIGxldCBldmVudHM6IEZ1bmN0aW9uW10gPSB0aGlzLl9ldmVudHNbbmFtZV07XHJcbiAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5fZXZlbnRzW25hbWVdID0gW2ZuXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChldmVudHMuaW5kZXhPZihmbikgPT0gLTEpIHtcclxuICAgICAgICBldmVudHMucHVzaChmbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgRXZlbnRIYW5kbGUodGhpcywgbmFtZSwgZm4pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZW1pdOWQjuWPquaJp+ihjOS4gOasoe+8m1xyXG4gICAqIEBwYXJhbSBuYW1lIOWHveaVsOWQje+8m1xyXG4gICAqIEBwYXJhbSBmbiDlh73mlbDmnKzkvZPvvJtcclxuICAgKi9cclxuICBwdWJsaWMgb25jZShuYW1lOiBzdHJpbmcsIGZuOiBGdW5jdGlvbik6IEV2ZW50SGFuZGxlIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIGxldCBldnQ6IEV2ZW50SGFuZGxlID0gdGhpcy5vbihuYW1lLCBmdW5jdGlvbiAoXHJcbiAgICAgIGFyZzA6IGFueSxcclxuICAgICAgYXJnMTogYW55LFxyXG4gICAgICBhcmcyOiBhbnksXHJcbiAgICAgIGFyZzM6IGFueSxcclxuICAgICAgYXJnNDogYW55LFxyXG4gICAgICBhcmc1OiBhbnksXHJcbiAgICAgIGFyZzY6IGFueSxcclxuICAgICAgYXJnNzogYW55XHJcbiAgICApIHtcclxuICAgICAgZm4uY2FsbChzZWxmLCBhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1LCBhcmc2LCBhcmc3KTtcclxuICAgICAgZXZ0LnVuYmluZCgpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZXZ0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5omn6KGM5LqL5Lu277ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGFyZzAg5Ye95pWw5Y+C5pWwMe+8jOWPr+mAie+8m1xyXG4gICAqIEBwYXJhbSBhcmcxIOWHveaVsOWPguaVsDLvvIzlj6/pgInvvJtcclxuICAgKiBAcGFyYW0gYXJnMiDlh73mlbDlj4LmlbAz77yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzMg5Ye95pWw5Y+C5pWwNO+8jOWPr+mAie+8m1xyXG4gICAqIEBwYXJhbSBhcmc0IOWHveaVsOWPguaVsDXvvIzlj6/pgInvvJtcclxuICAgKiBAcGFyYW0gYXJnNSDlh73mlbDlj4LmlbA277yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzYg5Ye95pWw5Y+C5pWwN++8jOWPr+mAie+8m1xyXG4gICAqIEBwYXJhbSBhcmc3IOWHveaVsOWPguaVsDjvvIzlj6/pgInvvJtcclxuICAgKi9cclxuICBwdWJsaWMgZW1pdChuYW1lOiBzdHJpbmcsXHJcbiAgICBhcmcwPzogYW55LFxyXG4gICAgYXJnMT86IGFueSxcclxuICAgIGFyZzI/OiBhbnksXHJcbiAgICBhcmczPzogYW55LFxyXG4gICAgYXJnND86IGFueSxcclxuICAgIGFyZzU/OiBhbnksXHJcbiAgICBhcmc2PzogYW55LFxyXG4gICAgYXJnNz86IGFueVxyXG4gICk6IEV2ZW50cyB7XHJcbiAgICBpZiAodGhpcy5fc3VzcGVuZEV2ZW50cykgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgbGV0IGV2ZW50czogRnVuY3Rpb25bXSA9IHRoaXMuX2V2ZW50c1tuYW1lXTtcclxuICAgIGlmICghZXZlbnRzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgICAvLyDov5Tlm57mlrDmlbDnu4RcclxuICAgIGV2ZW50cyA9IGV2ZW50cy5zbGljZSgwKTtcclxuXHJcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICghZXZlbnRzW2ldKSBjb250aW51ZTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBldmVudHNbaV0uY2FsbCh0aGlzLCBhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1LCBhcmc2LCBhcmc3KTtcclxuICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oXCIlYyVzICVjKGV2ZW50IGVycm9yKVwiLCBcImNvbG9yOiAjMDZmXCIsIG5hbWUsIFwiY29sb3I6ICNmMDBcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXguc3RhY2spO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICog5Y+W5raIRXZlbnRz5LqL5Lu257uR5a6a77yM6IulbmFtZeS4uuepuu+8jOWImea4heepumV2ZW50c++8m1xyXG4gICAqIEBwYXJhbSBuYW1lIOWHveaVsOWQje+8m1xyXG4gICAqIEBwYXJhbSBmbiDlh73mlbDmnKzkvZPvvJtcclxuICAgKi9cclxuICBwdWJsaWMgdW5iaW5kKG5hbWU/OiBzdHJpbmcsIGZuPzogRnVuY3Rpb24pOiBFdmVudHMge1xyXG4gICAgaWYgKG5hbWUpIHtcclxuICAgICAgbGV0IGV2ZW50czogRnVuY3Rpb25bXSA9IHRoaXMuX2V2ZW50c1tuYW1lXTtcclxuICAgICAgaWYgKCFldmVudHMpIHJldHVybiB0aGlzO1xyXG5cclxuICAgICAgaWYgKGZuKSB7XHJcbiAgICAgICAgbGV0IGk6IG51bWJlciA9IGV2ZW50cy5pbmRleE9mKGZuKTtcclxuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcclxuICAgICAgICAgIGlmIChldmVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbbmFtZV07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW25hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZSB7XHJcblxyXG4gIHB1YmxpYyBuYW1lOiBOdWxsYWJsZTxzdHJpbmc+O1xyXG5cclxuICBwdWJsaWMgb3duZXI6IE51bGxhYmxlPEV2ZW50cz47XHJcblxyXG4gIHB1YmxpYyBmbjogTnVsbGFibGU8RnVuY3Rpb24+O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3Iob3duZXI6IEV2ZW50cywgbmFtZTogc3RyaW5nLCBmbjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMub3duZXIgPSBvd25lcjtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmZuID0gZm47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5iaW5kKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLm93bmVyKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5vd25lci51bmJpbmQodGhpcy5uYW1lISwgdGhpcy5mbiEpO1xyXG5cclxuICAgIHRoaXMub3duZXIgPSBudWxsO1xyXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcclxuICAgIHRoaXMuZm4gPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNhbGwoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZm4pIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmZuLmNhbGwoXHJcbiAgICAgIHRoaXMub3duZXIhLFxyXG4gICAgICBhcmd1bWVudHNbMF0sXHJcbiAgICAgIGFyZ3VtZW50c1sxXSxcclxuICAgICAgYXJndW1lbnRzWzJdLFxyXG4gICAgICBhcmd1bWVudHNbM10sXHJcbiAgICAgIGFyZ3VtZW50c1s0XSxcclxuICAgICAgYXJndW1lbnRzWzVdLFxyXG4gICAgICBhcmd1bWVudHNbNl0sXHJcbiAgICAgIGFyZ3VtZW50c1s3XVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvbihuYW1lOiBzdHJpbmcsIGZuOiBGdW5jdGlvbik6IEV2ZW50SGFuZGxlIHtcclxuICAgIHJldHVybiB0aGlzLm93bmVyIS5vbihuYW1lLCBmbik7XHJcbiAgfVxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vZXZlbnRzJzsiLCJpbXBvcnQgeyBFZGl0b3IgfSBmcm9tICcuL2VkaXRvcic7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2luZGV4JztcclxuXHJcbi8vIOa3u+WKoOWIsOWFqOWxgOWPmOmHj1xyXG53aW5kb3cuZWRpdG9yID0gbmV3IEVkaXRvcigpO1xyXG5cclxuLyogVEVTVFxyXG5lZGl0b3Iub25jZSgnbG9hZCcsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnb25jZScpO1xyXG59KTtcclxuXHJcbmVkaXRvci5vbignYXJyYXknLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJzEnKTtcclxufSk7XHJcbmVkaXRvci5vbignYXJyYXknLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJzInKTtcclxufSk7XHJcbmVkaXRvci5vbignYXJyYXknLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJzMnKTtcclxufSk7XHJcblxyXG5lZGl0b3Iub24oJ2FycmF5JywgKGFyZ3MwOiBhbnksIGFyZ3MxOiBhbnkpID0+IHtcclxuICBjb25zb2xlLmxvZyhhcmdzMCArICcgKysrICcgKyAgYXJnczEpO1xyXG59KTtcclxuXHJcbmVkaXRvci5tZXRob2QoJ21ldGhvZCcsIChhOiBhbnkpID0+IHtcclxuICBjb25zb2xlLmxvZyhhKTtcclxufSk7XHJcblxyXG5cclxuZWRpdG9yLmVtaXQoJ2xvYWQnKTtcclxuZWRpdG9yLmVtaXQoJ2xvYWQnKTtcclxuXHJcbmVkaXRvci5lbWl0KCdhcnJheScsICdhYmMnLCAnZGZnJyk7XHJcbmVkaXRvci5lbWl0KCdhcnJheScpO1xyXG5cclxuZWRpdG9yLmNhbGwoJ21ldGhvZCcsIDEyMyk7XHJcbiovXHJcblxyXG5sZXQgcGFyZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0JykhO1xyXG5cclxuY29uc29sZS5sb2coJ2NoaWxkcmVuJyk7XHJcblxyXG5jb25zb2xlLmxvZyhwYXJlbnQpO1xyXG5jb25zb2xlLmxvZyhwYXJlbnQuY2hpbGROb2Rlcyk7XHJcblxyXG5mb3IobGV0IGk6IG51bWJlciA9IDA7IGkgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICBjb25zb2xlLmxvZygoPEhUTUxFbGVtZW50PihwYXJlbnQuY2hpbGRyZW5baV0pKS51aSA9IG5ldyBFbGVtZW50KCkpO1xyXG4gIGNvbnNvbGUubG9nKHBhcmVudC5jaGlsZHJlbltpXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcclxufVxyXG5cclxuY29uc29sZS5sb2coJ2NoaWxkTm9kZXMnKTtcclxuXHJcbmZvcihsZXQgaTogbnVtYmVyID0gMDsgaSA8IHBhcmVudC5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgY29uc29sZS5sb2cocGFyZW50LmNoaWxkTm9kZXNbaV0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk7XHJcbn1cclxuIiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4vZWxlbWVudCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfaW5uZXJFbGVtZW50OiBOdWxsYWJsZTxIVE1MRWxlbWVudD4gPSBudWxsO1xyXG4gIHB1YmxpYyBnZXQgaW5uZXJFbGVtZW50KCk6IE51bGxhYmxlPEhUTUxFbGVtZW50PiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5uZXJFbGVtZW50O1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGlubmVyRWxlbWVudCh2YWw6IE51bGxhYmxlPEhUTUxFbGVtZW50Pikge1xyXG4gICAgaWYgKHRoaXMuX2lubmVyRWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faW5uZXJFbGVtZW50ID0gdmFsO1xyXG5cclxuICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5faW5uZXJFbGVtZW50ISwgdGhpcy5fb2JzZXJ2ZXJPcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29ic2VydmVyQ2hhbmdlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIF9vYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcjtcclxuXHJcbiAgcHJpdmF0ZSBfb2JzZXJ2ZXJPcHRpb25zOiB7fSA9IHtcclxuICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgIGF0dHJpYnV0ZXM6IHRydWUsXHJcbiAgICBjaGFyYWN0ZXJEYXRhOiBmYWxzZSxcclxuICAgIHN1YnRyZWU6IHRydWUsXHJcbiAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogZmFsc2UsXHJcbiAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IGZhbHNlXHJcbiAgfTtcclxuXHJcblxyXG4gIHB1YmxpYyBnZXQgZmxleGlibGUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50ID8gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmxleGlibGUnKSA6IGZhbHNlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZsZXhpYmxlKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQgfHwgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmxleGlibGUnKSA9PT0gdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmxleGlibGUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4aWJsZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBmbGV4KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCA/IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsZXgnKSA6IGZhbHNlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZsZXgodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCB8fCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbGV4JykgPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGZsZXhEaXJlY3Rpb24oKTogTnVsbGFibGU8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5uZXJFbGVtZW50ID8gdGhpcy5faW5uZXJFbGVtZW50IS5zdHlsZS5mbGV4RGlyZWN0aW9uIDogbnVsbDtcclxuICB9XHJcbiAgcHVibGljIHNldCBmbGV4RGlyZWN0aW9uKHZhbDogTnVsbGFibGU8c3RyaW5nPikge1xyXG4gICAgaWYgKHRoaXMuX2lubmVyRWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUuZmxleERpcmVjdGlvbiA9IHZhbDtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLndlYmtpdEZsZXhEaXJlY3Rpb24gPSB2YWwhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBmbGV4V3JhcCgpOiBOdWxsYWJsZTxzdHJpbmc+IHtcclxuICAgIHJldHVybiB0aGlzLl9pbm5lckVsZW1lbnQgPyB0aGlzLl9pbm5lckVsZW1lbnQhLnN0eWxlLmZsZXhXcmFwIDogbnVsbDtcclxuICB9XHJcbiAgcHVibGljIHNldCBmbGV4V3JhcCh2YWw6IE51bGxhYmxlPHN0cmluZz4pIHtcclxuICAgIGlmICh0aGlzLl9pbm5lckVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLmZsZXhXcmFwID0gdmFsO1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUud2Via2l0RmxleFdyYXAgPSB2YWwhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBmbGV4R3JvdygpOiBOdWxsYWJsZTxzdHJpbmc+IHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPyB0aGlzLmVsZW1lbnQuc3R5bGUuZmxleEdyb3cgOiBudWxsO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZsZXhHcm93KHZhbDogTnVsbGFibGU8c3RyaW5nPikge1xyXG4gICAgaWYgKCEhdmFsKSB0aGlzLmZsZXggPSB0cnVlO1xyXG5cclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmZsZXhHcm93ID0gdmFsO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2Via2l0RmxleEdyb3cgPSB2YWwhO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9pbm5lckVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLmZsZXhHcm93ID0gdmFsO1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUud2Via2l0RmxleEdyb3cgPSB2YWwhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBmbGV4U2hyaW5rKCk6IE51bGxhYmxlPHN0cmluZz4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCA/IHRoaXMuZWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rIDogbnVsbDtcclxuICB9XHJcbiAgcHVibGljIHNldCBmbGV4U2hyaW5rKHZhbDogTnVsbGFibGU8c3RyaW5nPikge1xyXG4gICAgaWYgKCEhdmFsKSB0aGlzLmZsZXggPSB0cnVlO1xyXG5cclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmZsZXhTaHJpbmsgPSB2YWw7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53ZWJraXRGbGV4U2hyaW5rID0gdmFsITtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5faW5uZXJFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rID0gdmFsO1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUud2Via2l0RmxleFNocmluayA9IHZhbCE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHNjcm9sbCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNsYXNzID8gdGhpcy5jbGFzcy5jb250YWlucygnc2Nyb2xsYWJsZScpIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc2Nyb2xsKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MpIHRoaXMuY2xhc3MuYWRkKCdzY3JvbGxhYmxlJyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChzZWxmLl9vYnNlcnZlckNoYW5nZWQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICBzZWxmLl9vYnNlcnZlckNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICBzZXRUaW1lb3V0KHNlbGYub2JzZXJ2ZXJUaW1lb3V0LCAwKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvYnNlcnZlclRpbWVvdXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9vYnNlcnZlckNoYW5nZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuZW1pdCgnbm9kZXNDaGFuZ2VkJyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIHB1YmxpYyBhcHBlbmQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50KTogdm9pZCB7XHJcbiAgICBsZXQgaHRtbDogYm9vbGVhbiA9IGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcclxuICAgIGxldCBub2RlOiBIVE1MRWxlbWVudCA9IGh0bWwgPyA8SFRNTEVsZW1lbnQ+ZWxlbWVudCA6ICg8RWxlbWVudD5lbGVtZW50KS5lbGVtZW50ITtcclxuICAgIHRoaXMuX2lubmVyRWxlbWVudCEuYXBwZW5kQ2hpbGQobm9kZSk7XHJcblxyXG4gICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICg8RWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICB0aGlzLmVtaXQoJ2FwcGVuZCcsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBhcHBlbmRCZWZvcmUoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50LCByZWZlcmVuY2U6IEhUTUxFbGVtZW50IHwgRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcclxuICAgIGxldCBodG1sOiBib29sZWFuID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk7XHJcbiAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQgPSBodG1sID8gPEhUTUxFbGVtZW50PmVsZW1lbnQgOiAoPEVsZW1lbnQ+ZWxlbWVudCkuZWxlbWVudCE7XHJcblxyXG4gICAgaWYgKHJlZmVyZW5jZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHJlZmVyZW5jZSA9IHJlZmVyZW5jZS5lbGVtZW50O1xyXG5cclxuICAgIHRoaXMuX2lubmVyRWxlbWVudCEuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZmVyZW5jZSk7XHJcblxyXG4gICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICg8RWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICB0aGlzLmVtaXQoJ2FwcGVuZCcsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBhcHBlbmRBZnRlcihlbGVtZW50OiBIVE1MRWxlbWVudCB8IEVsZW1lbnQsIHJlZmVyZW5jZTogSFRNTEVsZW1lbnQgfCBFbGVtZW50IHwgbnVsbCk6IHZvaWQge1xyXG4gICAgbGV0IGh0bWw6IGJvb2xlYW4gPSAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcclxuICAgIGxldCBub2RlOiBIVE1MRWxlbWVudCA9IGh0bWwgPyA8SFRNTEVsZW1lbnQ+ZWxlbWVudCA6ICg8RWxlbWVudD5lbGVtZW50KS5lbGVtZW50ITtcclxuXHJcbiAgICBpZiAocmVmZXJlbmNlIGluc3RhbmNlb2YgRWxlbWVudCkgcmVmZXJlbmNlID0gcmVmZXJlbmNlLmVsZW1lbnQ7XHJcblxyXG4gICAgaWYgKHJlZmVyZW5jZSkge1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQhLmluc2VydEJlZm9yZShub2RlLCByZWZlcmVuY2UubmV4dFNpYmxpbmcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50IS5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWh0bWwpIHtcclxuICAgICAgKDxFbGVtZW50PmVsZW1lbnQpLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgIHRoaXMuZW1pdCgnYXBwZW5kJywgZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4gIHB1YmxpYyBwcmVwZW5kKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgRWxlbWVudCk6IHZvaWQge1xyXG4gICAgbGV0IGZpcnN0ID0gdGhpcy5faW5uZXJFbGVtZW50IS5maXJzdENoaWxkO1xyXG4gICAgbGV0IGh0bWw6IGJvb2xlYW4gPSAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcclxuICAgIGxldCBub2RlOiBIVE1MRWxlbWVudCA9IGh0bWwgPyA8SFRNTEVsZW1lbnQ+ZWxlbWVudCA6ICg8RWxlbWVudD5lbGVtZW50KS5lbGVtZW50ITtcclxuXHJcbiAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50IS5pbnNlcnRCZWZvcmUobm9kZSwgZmlyc3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50IS5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWh0bWwpIHtcclxuICAgICAgKDxFbGVtZW50PmVsZW1lbnQpLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgIHRoaXMuZW1pdCgnYXBwZW5kJywgZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHVibGljIHJlbW92ZShlbGVtZW50OiBIVE1MRWxlbWVudCB8IEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGxldCBodG1sOiBib29sZWFuID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk7XHJcbiAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQgPSBodG1sID8gPEhUTUxFbGVtZW50PmVsZW1lbnQgOiAoPEVsZW1lbnQ+ZWxlbWVudCkuZWxlbWVudCE7XHJcblxyXG4gICAgaWYgKCFub2RlLnBhcmVudE5vZGUgfHwgbm9kZS5wYXJlbnROb2RlICE9PSB0aGlzLl9pbm5lckVsZW1lbnQpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9pbm5lckVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSk7XHJcblxyXG4gICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICg8RWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSBudWxsO1xyXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZScsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICBsZXQgbm9kZTogQ2hpbGROb2RlO1xyXG5cclxuICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICBsZXQgaTogbnVtYmVyID0gdGhpcy5faW5uZXJFbGVtZW50IS5jaGlsZE5vZGVzLmxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgbm9kZSA9IHRoaXMuX2lubmVyRWxlbWVudCEuY2hpbGROb2Rlc1tpXTtcclxuXHJcbiAgICAgIC8vIGlmICghbm9kZS51aSlcclxuICAgICAgLy8gICBjb250aW51ZTtcclxuXHJcbiAgICAgIC8vIG5vZGUudWkuZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faW5uZXJFbGVtZW50IS5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICB0aGlzLl9vYnNlcnZlci5vYnNlcnZlKHRoaXMuX2lubmVyRWxlbWVudCEsIHRoaXMuX29ic2VydmVyT3B0aW9ucyk7XHJcbiAgfTtcclxuXHJcblxyXG59IiwiaW1wb3J0IHsgRXZlbnRzLCBFdmVudEhhbmRsZSB9IGZyb20gXCIuLi9saWJcIjtcclxuaW1wb3J0IHsgTGluayB9IGZyb20gXCIuL2xpbmtcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbGVtZW50IGV4dGVuZHMgRXZlbnRzIHtcclxuXHJcbiAgcHJpdmF0ZSBfcGFyZW50OiBOdWxsYWJsZTxFbGVtZW50PiA9IG51bGw7XHJcbiAgcHJpdmF0ZSBfZGVzdHJveWVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIC8vIFRPRE9cclxuICBwcml2YXRlIF9saW5rOiBOdWxsYWJsZTxMaW5rPiA9IG51bGw7XHJcbiAgLypcclxuICAgIG9uIGdldCBzZXQgLnNjaGVtYS5oYXMgLnNjaGVtYS5nZXQgLmhpc3RvcnkgLmhpc3RvcnkuY29tYmluZSAuZW50aXR5XHJcbiAgKi9cclxuICBwcml2YXRlIF9saW5rT25TZXQ6IE51bGxhYmxlPEV2ZW50SGFuZGxlPiA9IG51bGw7XHJcbiAgcHJpdmF0ZSBfbGlua09uVW5zZXQ6IE51bGxhYmxlPEV2ZW50SGFuZGxlPiA9IG51bGw7XHJcbiAgcHVibGljIHBhdGg6IHN0cmluZyA9ICcnO1xyXG5cclxuICBwdWJsaWMgcmVuZGVyQ2hhbmdlcyA9IGZhbHNlO1xyXG4gIC8vIFRPRE9cclxuICAvLyAvLyByZW5kZXIgY2hhbmdlcyBvbmx5IGZyb20gbmV4dCB0aWNrc1xyXG4gIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgLy8gICBpZiAoc2VsZi5yZW5kZXJDaGFuZ2VzID09PSBudWxsKSBzZWxmLnJlbmRlckNoYW5nZXMgPSB0cnVlO1xyXG4gIC8vIH0sIDApO1xyXG5cclxuICBwdWJsaWMgZGlzYWJsZWRDbGljayA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX2Rpc2FibGVkID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBfZGlzYWJsZWRQYXJlbnQgPSBmYWxzZTtcclxuXHJcbiAgcHJpdmF0ZSBfZXZ0UGFyZW50RGVzdHJveTogTnVsbGFibGU8RXZlbnRIYW5kbGU+ID0gbnVsbDtcclxuICBwcml2YXRlIF9ldnRQYXJlbnREaXNhYmxlOiBOdWxsYWJsZTxFdmVudEhhbmRsZT4gPSBudWxsO1xyXG4gIHByaXZhdGUgX2V2dFBhcmVudEVuYWJsZTogTnVsbGFibGU8RXZlbnRIYW5kbGU+ID0gbnVsbDtcclxuXHJcbiAgLy8gSFRNTEVsZW1lbnQgXHJcbiAgcHJpdmF0ZSBfZWxlbWVudDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+ID0gbnVsbDtcclxuICBwdWJsaWMgaW5uZXJFbGVtZW50OiBOdWxsYWJsZTxIVE1MRWxlbWVudD4gPSBudWxsO1xyXG4gIHB1YmxpYyBnZXQgZWxlbWVudCgpOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZWxlbWVudCh2YWw6IE51bGxhYmxlPEhUTUxFbGVtZW50Pikge1xyXG4gICAgaWYgKHRoaXMuX2VsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdmFsO1xyXG4gICAgLy8gdGhpcy5fZWxlbWVudCEudWkgPSB0aGlzO1xyXG5cclxuICAgIGlmICghdGhpcy5fZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIC8vIGNsaWNrIOS6i+S7tlxyXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgaWYgKHNlbGYuZGlzYWJsZWQgJiYgIXNlbGYuZGlzYWJsZWRDbGljaykgcmV0dXJuO1xyXG4gICAgICBzZWxmLmVtaXQoXCJjbGlja1wiLCBldnQpO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gICAgLy8gaG92ZXIg5LqL5Lu2XHJcbiAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChldnQpID0+IHtcclxuICAgICAgc2VsZi5lbWl0KCdob3ZlcicsIGV2dCk7XHJcbiAgICB9LCBmYWxzZSk7XHJcbiAgICAvLyBibHVyIOS6i+S7tu+8jG1vdXNlIG91dFxyXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChldnQpID0+IHtcclxuICAgICAgc2VsZi5lbWl0KCdibHVyJywgZXZ0KTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaW5uZXJFbGVtZW50KSB0aGlzLmlubmVyRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBhcmVudCgpOiBOdWxsYWJsZTxFbGVtZW50PiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHBhcmVudCh2YWw6IE51bGxhYmxlPEVsZW1lbnQ+KSB7XHJcbiAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XHJcbiAgICAgIHRoaXMuX2V2dFBhcmVudERlc3Ryb3khLnVuYmluZCgpO1xyXG4gICAgICB0aGlzLl9ldnRQYXJlbnREaXNhYmxlIS51bmJpbmQoKTtcclxuICAgICAgdGhpcy5fZXZ0UGFyZW50RW5hYmxlIS51bmJpbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuX3BhcmVudCA9IHZhbDtcclxuICAgICAgdGhpcy5fZXZ0UGFyZW50RGVzdHJveSA9IHRoaXMuX3BhcmVudC5vbmNlKFxyXG4gICAgICAgIFwiZGVzdHJveVwiLFxyXG4gICAgICAgIHRoaXMuX3BhcmVudERlc3Ryb3lcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fZXZ0UGFyZW50RGlzYWJsZSA9IHRoaXMuX3BhcmVudC5vbihcImRpc2FibGVcIiwgdGhpcy5fcGFyZW50RGlzYWJsZSk7XHJcbiAgICAgIHRoaXMuX2V2dFBhcmVudEVuYWJsZSA9IHRoaXMuX3BhcmVudC5vbihcImVuYWJsZVwiLCB0aGlzLl9wYXJlbnRFbmFibGUpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkUGFyZW50ICE9PSB0aGlzLl9wYXJlbnQuZGlzYWJsZWQpIHtcclxuICAgICAgICB0aGlzLl9kaXNhYmxlZFBhcmVudCA9IHRoaXMuX3BhcmVudC5kaXNhYmxlZDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkUGFyZW50KSB7XHJcbiAgICAgICAgICB0aGlzLmNsYXNzIS5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgIHRoaXMuZW1pdChcImRpc2FibGVcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgdGhpcy5lbWl0KFwiZW5hYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZW1pdChcInBhcmVudFwiKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWQgfHwgdGhpcy5fZGlzYWJsZWRQYXJlbnQ7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZGlzYWJsZWQodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5fZGlzYWJsZWQgPT09IHZhbCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2Rpc2FibGVkID0gISF2YWw7XHJcbiAgICB0aGlzLmVtaXQodGhpcy5fZGlzYWJsZWQgfHwgdGhpcy5fZGlzYWJsZWRQYXJlbnQgPyAnZGlzYWJsZScgOiAnZW5hYmxlJyk7XHJcblxyXG4gICAgaWYgKHRoaXMuX2Rpc2FibGVkIHx8IHRoaXMuX2Rpc2FibGVkUGFyZW50KSB7XHJcbiAgICAgIGlmICh0aGlzLmNsYXNzKSB0aGlzLmNsYXNzLmFkZCgnZGlzYWJsZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmNsYXNzKSB0aGlzLmNsYXNzLnJlbW92ZSgnZGlzYWJsZWQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGlzYWJsZWRTZWxmKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBlbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICF0aGlzLl9kaXNhYmxlZDtcclxuICB9XHJcbiAgcHVibGljIHNldCBlbmFibGVkKHZhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5kaXNhYmxlZCA9ICF2YWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGhpZGRlbigpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50ID8gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgaGlkZGVuKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKCF0aGlzLl9lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgaWYgKHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSA9PT0gISF2YWwpIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgIHRoaXMuZW1pdCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgdGhpcy5lbWl0KCdzaG93Jyk7XHJcblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVE9ET1xyXG4gIHB1YmxpYyBnZXQgdmFsdWUoKTogYW55IHtcclxuICAgIGlmICghdGhpcy5fbGluaykgcmV0dXJuIG51bGw7XHJcbiAgICByZXR1cm4gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IGFueSkge1xyXG4gICAgaWYgKCF0aGlzLl9saW5rKSByZXR1cm47XHJcbiAgICB0aGlzLl9saW5rLnNldCh0aGlzLnBhdGgsIHZhbCk7XHJcbiAgfVxyXG5cclxuICAvKiBET00gRWxlbWVudCAqL1xyXG5cclxuICBwdWJsaWMgZ2V0IGNsYXNzKCk6IE51bGxhYmxlPERPTVRva2VuTGlzdD4ge1xyXG4gICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHN0eWxlKCk6IE51bGxhYmxlPENTU1N0eWxlRGVjbGFyYXRpb24+IHtcclxuICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50LnN0eWxlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyBmbGV4LWdyb3cg5bGe5oCn55So5LqO6K6+572u5oiW5qOA57Si5by55oCn55uS5a2Q55qE5omp5bGV5q+U546H77yM55So5L2cY3Nz5Yqo55S75pWI5p6cXHJcbiAgcHVibGljIGdldCBmbGV4R3JvdygpOiBOdWxsYWJsZTxzdHJpbmc+IHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50ID8gdGhpcy5fZWxlbWVudC5zdHlsZS5mbGV4R3JvdyA6IG51bGw7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZmxleEdyb3codmFsOiBOdWxsYWJsZTxzdHJpbmc+KSB7XHJcbiAgICBpZiAodGhpcy5fZWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmZsZXhHcm93ID0gdmFsO1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLndlYmtpdEZsZXhHcm93ID0gdmFsITtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGZsZXgtc2hyaW5rIOWxnuaAp+inhOWumumhueebruWwhuebuOWvueS6juWQjOS4gOWuueWZqOWGheWFtuS7lueBtea0u+eahOmhueebrui/m+ihjOaUtue8qeeahOmHj++8jOeUqOS9nGNzc+WKqOeUu+aViOaenFxyXG4gIHB1YmxpYyBnZXQgZmxleFNocmluaygpOiBOdWxsYWJsZTxzdHJpbmc+IHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50ID8gdGhpcy5fZWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rIDogbnVsbDtcclxuICB9XHJcbiAgcHVibGljIHNldCBmbGV4U2hyaW5rKHZhbDogTnVsbGFibGU8c3RyaW5nPikge1xyXG4gICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rID0gdmFsO1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLndlYmtpdEZsZXhTaHJpbmsgPSB2YWwhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICAvLyB0aGlzLl9lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIClcclxuXHJcbiAgfVxyXG5cclxuICAvLyDorr7nva7lhYPntKDpl6rng4HmlYjmnpxcclxuICBwdWJsaWMgZmxhc2goKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jbGFzcykge1xyXG4gICAgICB0aGlzLmNsYXNzLmFkZCgnZmxhc2gnKTtcclxuICAgICAgc2V0VGltZW91dCh0aGlzLl9vbkZsYXNoRGVsYXksIDIwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBfb25GbGFzaERlbGF5KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MpIHtcclxuICAgICAgdGhpcy5jbGFzcy5yZW1vdmUoJ2ZsYXNoJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbGluayhsaW5rOiBMaW5rLCBwYXRoOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICBpZiAodGhpcy5fbGluaykgdGhpcy51bmxpbmsoKTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5wYXRoID0gcGF0aDtcclxuXHJcbiAgICB0aGlzLmVtaXQoXCJsaW5rXCIsIHBhdGgpO1xyXG5cclxuICAgIC8vIGFkZCA6c2V0IGxpbmtcclxuICAgIGlmICh0aGlzLl9vbkxpbmtDaGFuZ2UpIHtcclxuICAgICAgbGV0IHJlbmRlckNoYW5nZXMgPSB0aGlzLnJlbmRlckNoYW5nZXM7XHJcbiAgICAgIHRoaXMucmVuZGVyQ2hhbmdlcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9saW5rT25TZXQgPSB0aGlzLl9saW5rLm9uKHRoaXMucGF0aCArIFwiOnNldFwiLCBmdW5jdGlvbiAodmFsdWU6IGFueSkge1xyXG4gICAgICAgIHNlbGYuX29uTGlua0NoYW5nZSh2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9saW5rT25VbnNldCA9IHRoaXMuX2xpbmsub24odGhpcy5wYXRoICsgXCI6dW5zZXRcIiwgZnVuY3Rpb24gKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICBzZWxmLl9vbkxpbmtDaGFuZ2UodmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5fb25MaW5rQ2hhbmdlKHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCkpO1xyXG4gICAgICB0aGlzLnJlbmRlckNoYW5nZXMgPSByZW5kZXJDaGFuZ2VzO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICBwdWJsaWMgdW5saW5rKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLl9saW5rKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5lbWl0KFwidW5saW5rXCIsIHRoaXMucGF0aCk7XHJcblxyXG4gICAgLy8gcmVtb3ZlIDpzZXQgbGlua1xyXG4gICAgaWYgKHRoaXMuX2xpbmtPblNldCkge1xyXG4gICAgICB0aGlzLl9saW5rT25TZXQudW5iaW5kKCk7XHJcbiAgICAgIHRoaXMuX2xpbmtPblNldCA9IG51bGw7XHJcblxyXG4gICAgICB0aGlzLl9saW5rT25VbnNldCEudW5iaW5kKCk7XHJcbiAgICAgIHRoaXMuX2xpbmtPblVuc2V0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9saW5rID0gbnVsbDtcclxuICAgIHRoaXMucGF0aCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25MaW5rQ2hhbmdlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5fZGVzdHJveWVkKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgIHRoaXMuX2V2dFBhcmVudERlc3Ryb3khLnVuYmluZCgpO1xyXG4gICAgICB0aGlzLl9ldnRQYXJlbnREaXNhYmxlIS51bmJpbmQoKTtcclxuICAgICAgdGhpcy5fZXZ0UGFyZW50RW5hYmxlIS51bmJpbmQoKTtcclxuICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudW5saW5rKCk7XHJcblxyXG4gICAgdGhpcy5lbWl0KCdkZXN0cm95Jyk7XHJcblxyXG4gICAgdGhpcy51bmJpbmQoKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9wYXJlbnREZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfcGFyZW50RGlzYWJsZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9kaXNhYmxlZFBhcmVudCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2Rpc2FibGVkUGFyZW50ID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuX2Rpc2FibGVkKSB7XHJcbiAgICAgIHRoaXMuZW1pdChcImRpc2FibGVcIik7XHJcbiAgICAgIHRoaXMuY2xhc3MhLmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3BhcmVudEVuYWJsZSgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5fZGlzYWJsZWRQYXJlbnQpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9kaXNhYmxlZFBhcmVudCA9IGZhbHNlO1xyXG5cclxuICAgIGlmICghdGhpcy5fZGlzYWJsZWQpIHtcclxuICAgICAgdGhpcy5lbWl0KFwiZW5hYmxlXCIpO1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2xpbmsnO1xyXG5leHBvcnQgKiBmcm9tICcuL2VsZW1lbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NvbnRhaW5lci1lbGVtZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi9wYW5lbCc7IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3VpJztcclxuaW1wb3J0IHsgRXZlbnRIYW5kbGUgfSBmcm9tICcuLi9saWInO1xyXG5cclxuLy8gVE9ET1xyXG5leHBvcnQgY2xhc3MgTGluayB7XHJcblxyXG4gIHByaXZhdGUgX2VsZW1lbnQ6IEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgX3ZhbHVlOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihlbGU6IEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0KHBhdGg6IHN0cmluZyk6IGFueSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVbcGF0aF07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0KHBhdGg6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5fdmFsdWVbcGF0aF0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvbihuYW1lOiBzdHJpbmcsIGZuOiBGdW5jdGlvbik6IEV2ZW50SGFuZGxlIHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50Lm9uKG5hbWUsIGZuKTtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUGFuZWwge1xyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdGVzdCgpOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxufSJdfQ=="}