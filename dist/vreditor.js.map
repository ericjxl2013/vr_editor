{"version":3,"sources":["node_modules/_browser-pack@6.1.0@browser-pack/_prelude.js","src/editor/editor.ts","src/editor/hierarchy/hierarchy-search.ts","src/editor/hierarchy/hierarchy.ts","src/editor/hierarchy/index.ts","src/editor/hotkeys.ts","src/editor/index.ts","src/editor/layout.ts","src/editor/viewport/index.ts","src/editor/viewport/viewport.ts","src/engine/babylon-engine.ts","src/engine/index.ts","src/engine/very-engine.ts","src/index.ts","src/lib/events.ts","src/lib/index.ts","src/main.ts","src/ui/bubble.ts","src/ui/button.ts","src/ui/canvas.ts","src/ui/checkbox.ts","src/ui/container-element.ts","src/ui/element.ts","src/ui/index.ts","src/ui/label.ts","src/ui/link.ts","src/ui/list-item.ts","src/ui/list.ts","src/ui/overlay.ts","src/ui/panel.ts","src/ui/text-field.ts","src/ui/textarea-field.ts","src/ui/tooltip.ts","src/ui/tree-item.ts","src/ui/tree.ts"],"names":[],"mappings":"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","file":"vreditor.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { Events } from '../lib';\r\n\r\nexport class Editor extends Events {\r\n\r\n  // 某个name对应的某个事件，name与Function是1对1的关系；\r\n  private _hooks: { [key: string]: Function } = {};\r\n\r\n  public constructor() {\r\n    super();\r\n  }\r\n\r\n  /**\r\n   * 添加全局函数，函数名与函数本体一一对象，不能重名；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public method(name: string, fn: Function): void {\r\n    if (this._hooks[name] !== undefined) {\r\n      throw new Error(\"can't override hook: \" + name);\r\n    }\r\n    this._hooks[name] = fn;\r\n  };\r\n\r\n  /**\r\n   * 移除某个函数；\r\n   * @param name 函数名；\r\n   */\r\n  public methodRemove(name: string): void {\r\n    delete this._hooks[name];\r\n  };\r\n\r\n  /**\r\n   * 执行某个函数；\r\n   * @param name 函数名；\r\n   */\r\n  public call(name: string, ...args: any[]): any {\r\n    if (this._hooks[name]) {\r\n      var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n      try {\r\n        return this._hooks[name].apply(null, args);\r\n      } catch (ex) {\r\n        console.error(\r\n          \"%c%s %c(editor.method error)\",\r\n          \"color: #06f\",\r\n          name,\r\n          \"color: #f00\"\r\n        );\r\n        console.error(ex.stack);\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n}","import { List, TextField } from \"../../ui\";\r\nimport { VeryEngine } from \"../../engine\";\r\n\r\nexport class HierarchySearch {\r\n\r\n  public results: List;\r\n\r\n  public search: TextField;\r\n\r\n  public constructor() {\r\n\r\n    this.results = new List();\r\n    this.results.element!.tabIndex = 0;\r\n    this.results.hidden = true;\r\n    this.results.class!.add('search-results');\r\n    VeryEngine.hierarchyPanel.append(this.results);\r\n\r\n    this.search = new TextField('搜索');\r\n    this.init();\r\n  }\r\n\r\n\r\n  public init(): void {\r\n\r\n    let self = this;\r\n\r\n    var lastSearch = '';\r\n    this.search.blurOnEnter = false;\r\n    this.search.keyChange = true;\r\n    this.search.class!.add('search');\r\n    this.search.renderChanges = false;\r\n    VeryEngine.hierarchyPanel.element!.insertBefore(this.search.element!, VeryEngine.hierarchyPanel.innerElement);\r\n\r\n\r\n\r\n    var searchClear = document.createElement('div');\r\n    searchClear.innerHTML = '&#57650;';\r\n    searchClear.classList.add('clear');\r\n    this.search.element!.appendChild(searchClear);\r\n\r\n    searchClear.addEventListener('click', function () {\r\n      self.search.value = '';\r\n    }, false);\r\n\r\n\r\n  }\r\n\r\n\r\n}","import { Panel, Button, Tooltip, Tree, TreeItem } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\nimport { HierarchySearch } from './hierarchy-search';\r\n\r\nexport class Hierarchy {\r\n\r\n  public hierarchyMain: Panel;\r\n\r\n  public constructor() {\r\n    this.hierarchyMain = new Panel();\r\n    this.hierarchyMain.class!.add('hierarchy-controls');\r\n    this.hierarchyMain.parent = VeryEngine.hierarchyPanel;\r\n    VeryEngine.hierarchyPanel.headerAppend(this.hierarchyMain);\r\n    console.log('hierarchy-controls');\r\n\r\n    // controls delete (Button)\r\n    var btnDelete: Button = new Button('&#57636;');\r\n    btnDelete.class!.add('delete');\r\n    btnDelete.style!.fontWeight = '200';\r\n    btnDelete.on('click', function () {\r\n      var type = editor.call('selector:type');\r\n      if (type !== 'entity')\r\n        return;\r\n      editor.call('entities:delete', editor.call('selector:items'));\r\n    });\r\n    this.hierarchyMain.append(btnDelete);\r\n\r\n    var tooltipDelete = Tooltip.attach({\r\n      target: btnDelete.element!,\r\n      text: '删除',\r\n      align: 'top',\r\n      root: VeryEngine.rootPanel\r\n    });\r\n    tooltipDelete.class!.add('innactive');\r\n\r\n    // controls duplicate\r\n    var btnDuplicate: Button = new Button('&#57638;');\r\n    btnDuplicate.disabled = true;\r\n    btnDuplicate.class!.add('duplicate');\r\n    btnDuplicate.on('click', function () {\r\n      var type = editor.call('selector:type');\r\n      var items = editor.call('selector:items');\r\n\r\n      if (type === 'entity' && items.length)\r\n        editor.call('entities:duplicate', items);\r\n    });\r\n    this.hierarchyMain.append(btnDuplicate);\r\n\r\n    var tooltipDuplicate = Tooltip.attach({\r\n      target: btnDuplicate.element!,\r\n      text: '复制',\r\n      align: 'top',\r\n      root: VeryEngine.rootPanel\r\n    });\r\n    tooltipDuplicate.class!.add('innactive');\r\n\r\n    // TODO: Menu\r\n    // var menuEntities = ui.Menu.fromData(editor.call('menu:entities:new'));\r\n    // root.append(menuEntities);\r\n\r\n    // controls add\r\n    var btnAdd: Button = new Button('&#57632;');\r\n    btnAdd.class!.add('add');\r\n    btnAdd.on('click', function () {\r\n      // menuEntities.open = true;\r\n      // var rect = btnAdd.element.getBoundingClientRect();\r\n      // menuEntities.position(rect.left, rect.top);\r\n    });\r\n    this.hierarchyMain.append(btnAdd);\r\n\r\n    Tooltip.attach({\r\n      target: btnAdd.element!,\r\n      text: '添加',\r\n      align: 'top',\r\n      root: VeryEngine.rootPanel\r\n    });\r\n\r\n    this.init();\r\n\r\n  }\r\n\r\n  public init(): void {\r\n    // left control\r\n    // hierarchy index\r\n    var uiItemIndex = {};\r\n    var awaitingParent = {};\r\n    let panel: Panel = VeryEngine.hierarchyPanel;\r\n\r\n    var hierarchy: Tree = new Tree();\r\n    VeryEngine.hierarchyTree = hierarchy;\r\n\r\n    // TODO: hierarchy权限管理\r\n    // hierarchy.allowRenaming = editor.call('permissions:write');\r\n    hierarchy.draggable = hierarchy.allowRenaming;\r\n    hierarchy.class!.add('hierarchy');\r\n    panel.append(hierarchy);\r\n\r\n    var resizeQueued = false;\r\n    var resizeTree = function () {\r\n      resizeQueued = false;\r\n      hierarchy.element!.style.width = '';\r\n      hierarchy.element!.style.width = (panel.innerElement!.scrollWidth - 5) + 'px';\r\n    };\r\n    var resizeQueue = function () {\r\n      if (resizeQueued) return;\r\n      resizeQueued = true;\r\n      requestAnimationFrame(resizeTree);\r\n    };\r\n    panel.on('resize', resizeQueue);\r\n    hierarchy.on('open', resizeQueue);\r\n    hierarchy.on('close', resizeQueue);\r\n    setInterval(resizeQueue, 1000);\r\n\r\n    // return hierarchy\r\n    editor.method('entities:hierarchy', function () {\r\n      return hierarchy;\r\n    });\r\n\r\n    // list item selected\r\n    hierarchy.on('select', function (item: TreeItem) {\r\n      // open items till parent\r\n      var parent = item.parent;\r\n      while (parent && parent instanceof TreeItem) {\r\n        parent.open = true;\r\n        parent = parent.parent;\r\n      }\r\n      // focus\r\n      item.elementTitle.focus();\r\n      // add selection\r\n      // TODO\r\n      console.log('selector:add entity');\r\n      // editor.call('selector:add', 'entity', item.entity);\r\n    });\r\n\r\n    // list item deselected\r\n    hierarchy.on('deselect', function (item: TreeItem) {\r\n      // TODO:\r\n      console.log('selector:remove entity');\r\n      // editor.call('selector:remove', item.entity);\r\n    });\r\n\r\n    // scrolling on drag\r\n    var dragScroll = 0;\r\n    var dragTimer: NodeJS.Timer | null = null;;\r\n    var dragLastEvt;\r\n    var dragEvt = function (evt: MouseEvent) {\r\n      if (!hierarchy._dragging) {\r\n        clearInterval(Number(dragTimer));\r\n        window.removeEventListener('mousemove', dragEvt);\r\n        return;\r\n      }\r\n      var rect = panel.innerElement!.getBoundingClientRect();\r\n\r\n      if ((evt.clientY - rect.top) < 32 && panel.innerElement!.scrollTop > 0) {\r\n        dragScroll = -1;\r\n      } else if ((rect.bottom - evt.clientY) < 32 && (panel.innerElement!.scrollHeight - (rect.height + panel.innerElement!.scrollTop)) > 0) {\r\n        dragScroll = 1;\r\n      } else {\r\n        dragScroll = 0;\r\n      }\r\n    };\r\n\r\n    hierarchy.on('dragstart', function () {\r\n      dragTimer = setInterval(function () {\r\n        if (dragScroll === 0)\r\n          return;\r\n\r\n        panel.innerElement!.scrollTop += dragScroll * 8;\r\n        hierarchy._dragOver = null;\r\n        hierarchy._updateDragHandle();\r\n      }, 1000 / 60);\r\n\r\n      dragScroll = 0;\r\n      window.addEventListener('mousemove', dragEvt, false);\r\n\r\n      // TODO:\r\n      console.log('get drag TreeItem entity resourceId');\r\n      // var resourceId = hierarchy._dragItems[0].entity.get('resource_id');\r\n      // editor.call('drop:set', 'entity', { resource_id: resourceId });\r\n      // editor.call('drop:activate', true);\r\n    });\r\n\r\n    hierarchy.on('dragend', function () {\r\n      editor.call('drop:activate', false);\r\n      editor.call('drop:set');\r\n    });\r\n\r\n    // TODO\r\n    // var target = editor.call('drop:target', {\r\n    //   ref: panel.innerElement,\r\n    //   type: 'entity',\r\n    //   hole: true,\r\n    //   passThrough: true\r\n    // });\r\n    // target.element.style.outline = 'none';\r\n\r\n    var classList = ['tree-item-entity', 'entity-id-' + 'ids-to-be-done', 'c-model'];\r\n    // if (isRoot) {\r\n    //   classList.push('tree-item-root');\r\n    // }\r\n\r\n    var rootElement = new TreeItem({\r\n      text: 'Scene',\r\n      classList: classList\r\n    });\r\n    rootElement.class!.remove('c-model');\r\n    hierarchy.element!.appendChild(rootElement.element!);\r\n    hierarchy.emit('append', rootElement);\r\n\r\n    for (let i: number = 0; i < 10; i++) {\r\n      var element1 = new TreeItem({\r\n        text: '物体名' + (i + 1),\r\n        classList: classList\r\n      });\r\n      hierarchy.emit('append', element1);\r\n      rootElement.append(element1);\r\n\r\n      for (let k = 0; k < 5; k++) {\r\n        var element2 = new TreeItem({\r\n          text: '子物体名' + (k + 1),\r\n          classList: classList\r\n        });\r\n        hierarchy.emit('append', element2);\r\n        element1.append(element2);\r\n        for (let x = 0; x < 5; x++) {\r\n          var element3 = new TreeItem({\r\n            text: '二级子物体' + (x + 1),\r\n            classList: classList\r\n          });\r\n          hierarchy.emit('append', element3);\r\n\r\n          element2.append(element3);\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    // element.append();\r\n\r\n    // Search Field\r\n    let searchField = new HierarchySearch();\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}","export * from './hierarchy';\r\nexport * from './hierarchy-search';","export class Hotkeys {\r\n\r\n  public static ctrl: boolean = false;\r\n  public static shift: boolean = false;\r\n  public static alt: boolean = false;\r\n\r\n\r\n\r\n}","export * from './editor';\r\nexport * from './layout';\r\nexport * from './viewport';\r\nexport * from './hierarchy';\r\nexport * from './hotkeys';","import { Panel } from '../ui';\r\nimport { VeryEngine } from '../engine';\r\n\r\nexport class Layout {\r\n\r\n  private ignoreClasses: RegExp = /(ui-list-item)|(ui-button)|(ui-text-field)|(ui-number-field)/i;\r\n  private ignoreElements: RegExp = /(input)|(textarea)/i;\r\n\r\n\r\n  public constructor() {\r\n    let self = this;\r\n    // prevent drag'n'select\r\n    window.addEventListener('mousedown', function (evt) {\r\n      // don't prevent for certain cases\r\n      if (evt.target) {\r\n        if (self.ignoreClasses.test((<HTMLElement>evt.target).className)) {\r\n          return;\r\n        } else if (self.ignoreElements.test((<HTMLElement>evt.target).tagName)) {\r\n          return;\r\n        } else if ((<HTMLElement>evt.target).classList.contains('selectable')) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      // blur inputs\r\n      if (window.getSelection) {\r\n        let focusNode = window.getSelection()!.focusNode;\r\n        if (focusNode) {\r\n          if ((<HTMLElement>focusNode).tagName === 'INPUT') {\r\n            (<HTMLElement>focusNode).blur();\r\n          } else if (focusNode.firstChild && (<HTMLElement>focusNode.firstChild).tagName === 'INPUT') {\r\n            (<HTMLElement>focusNode.firstChild).blur();\r\n          }\r\n        }\r\n      }\r\n\r\n      // prevent default will prevent blur, dragstart and selection\r\n      evt.preventDefault();\r\n    }, false);\r\n  }\r\n\r\n  public init(): void {\r\n    // main container\r\n    let root: Panel = new Panel();\r\n    root.element!.id = 'ui-root';\r\n    root.flex = true;\r\n    root.flexDirection = 'column';\r\n    root.flexWrap = 'nowrap';\r\n    root.scroll = true;\r\n    document.body.appendChild(root.element!);\r\n    // expose\r\n    editor.method('layout.root', function () { return root; });\r\n    VeryEngine.rootPanel = root;\r\n\r\n    // top panel TODO: top干嘛用？\r\n    let top = new Panel();\r\n    top.style!.backgroundColor = '#5f6f72';\r\n    top.style!.cursor = 'pointer';\r\n    top.element!.id = 'ui-top';\r\n    top.flexShrink = '0';\r\n    top.once('click', function () {\r\n      top.destroy();\r\n      // TODO\r\n      top.style!.marginTop = '';\r\n    });\r\n    root.append(top);\r\n\r\n    // middle panel\r\n    let middle = new Panel();\r\n    middle.element!.id = 'ui-middle';\r\n    middle.flexible = true;\r\n    middle.flexGrow = '1';\r\n    root.append(middle);\r\n\r\n    // bottom panel (status)\r\n    let bottom = new Panel();\r\n    bottom.element!.id = 'ui-bottom';\r\n    bottom.flexShrink = '0';\r\n    root.append(bottom);\r\n    // expose\r\n    editor.method('layout.bottom', function () { return bottom; });\r\n\r\n    // toolbar panel (left)\r\n    let toolbar = new Panel();\r\n    toolbar.element!.id = 'ui-toolbar';\r\n    toolbar.flexShrink = '0';\r\n    toolbar.style!.width = '45px';\r\n    middle.append(toolbar);\r\n    // expose\r\n    editor.method('layout.toolbar', function () { return toolbar; });\r\n    VeryEngine.toolbarPanel = toolbar;\r\n\r\n    // hierarchy\r\n    let hierarchyPanel = new Panel('树形结构窗口');\r\n    hierarchyPanel.enabled = false;\r\n    hierarchyPanel.class!.add('hierarchy');\r\n    hierarchyPanel.flexShrink = '0';\r\n    let hierarchyPanelSize = editor.call('localStorage:get', 'editor:layout:hierarchy:width') || '256px';\r\n    hierarchyPanel.style!.width = hierarchyPanelSize;\r\n    hierarchyPanel.innerElement!.style.width = hierarchyPanelSize;\r\n    hierarchyPanel.foldable = true;\r\n    hierarchyPanel.folded = editor.call('localStorage:get', 'editor:layout:hierarchy:fold') || false;\r\n    hierarchyPanel.horizontal = true;\r\n    hierarchyPanel.scroll = true;\r\n    hierarchyPanel.resizable = 'right';\r\n    hierarchyPanel.resizeMin = 196;\r\n    hierarchyPanel.resizeMax = 512;\r\n\r\n    hierarchyPanel.on('resize', function () {\r\n      editor.call('localStorage:set', 'editor:layout:hierarchy:width', hierarchyPanel.style!.width);\r\n    });\r\n    hierarchyPanel.on('fold', function () {\r\n      editor.call('localStorage:set', 'editor:layout:hierarchy:fold', true);\r\n    });\r\n    hierarchyPanel.on('unfold', function () {\r\n      editor.call('localStorage:set', 'editor:layout:hierarchy:fold', false);\r\n    });\r\n\r\n    middle.append(hierarchyPanel);\r\n    // expose\r\n    editor.method('layout.left', function () { return hierarchyPanel; });\r\n    editor.on('permissions:writeState', function (state: boolean) {\r\n      hierarchyPanel.enabled = state;\r\n    });\r\n    if (window.innerWidth <= 480) {\r\n      hierarchyPanel.folded = true;\r\n    }\r\n    VeryEngine.hierarchyPanel = hierarchyPanel;\r\n\r\n    // center panel\r\n    let center = new Panel();\r\n    center.flexible = true;\r\n    center.flexGrow = '1';\r\n    center.flexDirection = 'column';\r\n    middle.append(center);\r\n\r\n    // viewport panel\r\n    let viewport = new Panel();\r\n    viewport.flexible = true;\r\n    viewport.flexGrow = '1';\r\n    viewport.class!.add('viewport');\r\n    center.append(viewport);\r\n    // expose\r\n    editor.method('layout.viewport', function () { return viewport; });\r\n    VeryEngine.viewPanel = viewport;\r\n\r\n    // assets panel\r\n    let assetsPanel = new Panel('资源窗口');\r\n    assetsPanel.class!.add('assets');\r\n    assetsPanel.foldable = true;\r\n    assetsPanel.folded = editor.call('localStorage:get', 'editor:layout:assets:fold') || false;\r\n    assetsPanel.flexShrink = '0';\r\n    assetsPanel.innerElement!.style.height = editor.call('localStorage:get', 'editor:layout:assets:height') || '212px';\r\n    assetsPanel.scroll = true;\r\n    assetsPanel.resizable = 'top';\r\n    assetsPanel.resizeMin = 106;\r\n    assetsPanel.resizeMax = 106 * 6;\r\n    assetsPanel.headerSize = -1;\r\n\r\n    assetsPanel.on('resize', function () {\r\n      editor.call('localStorage:set', 'editor:layout:assets:height', assetsPanel.innerElement!.style.height);\r\n    });\r\n    assetsPanel.on('fold', function () {\r\n      editor.call('localStorage:set', 'editor:layout:assets:fold', true);\r\n    });\r\n    assetsPanel.on('unfold', function () {\r\n      editor.call('localStorage:set', 'editor:layout:assets:fold', false);\r\n    });\r\n\r\n    center.append(assetsPanel);\r\n    // expose\r\n    editor.method('layout.assets', function () { return assetsPanel; });\r\n    if (window.innerHeight <= 480) {\r\n      assetsPanel.folded = true;\r\n    }\r\n    VeryEngine.assetPanel = assetsPanel;\r\n\r\n\r\n    // attributes panel\r\n    let attributesPanel = new Panel('属性窗口');\r\n    attributesPanel.enabled = false;\r\n    attributesPanel.class!.add('attributes');\r\n    attributesPanel.flexShrink = '0';\r\n    let attributesPanelWidth = editor.call('localStorage:get', 'editor:layout:attributes:width') || '320px';\r\n    attributesPanel.style!.width = attributesPanelWidth;\r\n    attributesPanel.innerElement!.style.width = attributesPanelWidth;\r\n    attributesPanel.horizontal = true;\r\n    attributesPanel.foldable = true;\r\n    attributesPanel.folded = editor.call('localStorage:get', 'editor:layout:attributes:fold') || false;\r\n    attributesPanel.scroll = true;\r\n    attributesPanel.resizable = 'left';\r\n    attributesPanel.resizeMin = 256;\r\n    attributesPanel.resizeMax = 512;\r\n\r\n    attributesPanel.on('resize', function () {\r\n      editor.call('localStorage:set', 'editor:layout:attributes:width', attributesPanel.innerElement!.style.width);\r\n    });\r\n    attributesPanel.on('fold', function () {\r\n      editor.call('localStorage:set', 'editor:layout:attributes:fold', true);\r\n    });\r\n    attributesPanel.on('unfold', function () {\r\n      editor.call('localStorage:set', 'editor:layout:attributes:fold', false);\r\n    });\r\n\r\n    middle.append(attributesPanel);\r\n    // expose\r\n    editor.method('layout.right', function () { return attributesPanel; });\r\n    editor.on('permissions:writeState', function (state: boolean) {\r\n      attributesPanel.enabled = state;\r\n    });\r\n    if (window.innerWidth <= 720) {\r\n      attributesPanel.folded = true;\r\n    }\r\n    VeryEngine.attributesPanel = attributesPanel;\r\n  }\r\n\r\n\r\n}","export * from './viewport';","import { Canvas } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\n\r\nexport class Viewport {\r\n\r\n  public canvas: Canvas;\r\n\r\n  private _engine: BABYLON.Engine;\r\n  private _scene: BABYLON.Scene;\r\n  private _canvas: HTMLCanvasElement;\r\n\r\n\r\n  public constructor() {\r\n\r\n    let self = this;\r\n\r\n    this.canvas = new Canvas('canvas-3d');\r\n    VeryEngine.viewCanvas = this.canvas;\r\n\r\n    this._canvas = <HTMLCanvasElement>this.canvas.element;\r\n    // add canvas\r\n    editor.call('layout.viewport').prepend(this.canvas);\r\n\r\n    // get canvas\r\n    editor.method('viewport:canvas', function () {\r\n      return self.canvas;\r\n    });\r\n\r\n    // update viewpot 视窗大小\r\n    setInterval(function () {\r\n      let rect = VeryEngine.viewPanel.element!.getBoundingClientRect();\r\n      self.canvas.resize(Math.floor(rect.width), Math.floor(rect.height));\r\n    }, 1000 / 60);\r\n\r\n    this._engine = new BABYLON.Engine(this._canvas, true);\r\n    let engine = this._engine;\r\n    window.addEventListener(\"resize\", function () {\r\n      engine.resize();\r\n    });\r\n    this._scene = new BABYLON.Scene(this._engine);\r\n\r\n    // TODO: 设定相机\r\n    var camera = new BABYLON.ArcRotateCamera(\"MainCamera\", 0, 0, 10, new BABYLON.Vector3(0, 0, 0), this._scene);\r\n    camera.setPosition(new BABYLON.Vector3(20, 200, 400));\r\n    camera.attachControl(this._canvas, true);\r\n    camera.lowerBetaLimit = 0.1;\r\n    camera.upperBetaLimit = (Math.PI / 2) * 0.99;\r\n    camera.lowerRadiusLimit = 150;\r\n\r\n    // 加载过度动画开\r\n    engine.displayLoadingUI();\r\n\r\n    let inputMap: { [key: string]: boolean } = {};\r\n\r\n    // TODO: 加载scene.babylon场景文件，当前为默认\r\n    BABYLON.SceneLoader.Append(\"./scene/\", \"scene.babylon\", this._scene, function (scene) {\r\n      // do something with the scene\r\n      // 加载过度动画关\r\n      engine.hideLoadingUI();\r\n\r\n      // Keyboard events\r\n      var blue = scene.getMeshByName('blue')!;\r\n\r\n      scene.actionManager = new BABYLON.ActionManager(scene);\r\n      scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyDownTrigger, function (evt) {\r\n        inputMap[evt.sourceEvent.key] = evt.sourceEvent.type == \"keydown\";\r\n      }));\r\n      scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyUpTrigger, function (evt) {\r\n        inputMap[evt.sourceEvent.key] = evt.sourceEvent.type == \"keydown\";\r\n      }));\r\n\r\n\r\n      // // Game/Render loop\r\n      scene.onBeforeRenderObservable.add(() => {\r\n\r\n        if (inputMap[\"w\"] || inputMap[\"ArrowUp\"]) {\r\n          blue.position.z -= 100 * engine.getDeltaTime() / 1000;\r\n        }\r\n        if (inputMap[\"a\"] || inputMap[\"ArrowLeft\"]) {\r\n          blue.position.x += 100 * engine.getDeltaTime() / 1000;\r\n        }\r\n        if (inputMap[\"s\"] || inputMap[\"ArrowDown\"]) {\r\n          blue.position.z += 100 * engine.getDeltaTime() / 1000;\r\n        }\r\n        if (inputMap[\"d\"] || inputMap[\"ArrowRight\"]) {\r\n          blue.position.x -= 100 * engine.getDeltaTime() / 1000;\r\n        }\r\n      })\r\n\r\n      // // sphere\r\n      var sphere = scene.getMeshByName('sphere')!;\r\n      sphere.actionManager = new BABYLON.ActionManager(scene);\r\n\r\n      sphere.actionManager.registerAction(new BABYLON.SetValueAction(\r\n        { trigger: BABYLON.ActionManager.OnIntersectionEnterTrigger, parameter: blue },\r\n        sphere, \"scaling\", new BABYLON.Vector3(2, 2, 2)));\r\n\r\n      sphere.actionManager.registerAction(new BABYLON.SetValueAction(\r\n        { trigger: BABYLON.ActionManager.OnIntersectionExitTrigger, parameter: blue }\r\n        , sphere, \"scaling\", new BABYLON.Vector3(1, 1, 1)));\r\n\r\n    });\r\n\r\n    this._engine.runRenderLoop(() => {\r\n      if (this._canvas.width !== this._canvas.clientWidth) {\r\n        this._engine.resize();\r\n      }\r\n\r\n      if (this._scene) {\r\n        this._scene.render();\r\n      }\r\n\r\n      // if (this._showFps) {\r\n      // \tthis.updateFpsPos();\r\n      // }\r\n\r\n\r\n    });\r\n    // return this;\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n}","export class BabylonEngine {\r\n  public static Canvas: HTMLCanvasElement;\r\n  public static Engine: BABYLON.Engine;\r\n  public static Scene: BABYLON.Scene;\r\n}","export * from './babylon-engine';\r\nexport * from './very-engine';","import { Viewport } from \"../editor\";\r\nimport { Canvas, Panel, Tree } from \"../ui\";\r\n\r\nexport class VeryEngine {\r\n\r\n  public static viewPanel: Panel;\r\n  public static rootPanel: Panel;\r\n  public static toolbarPanel: Panel;\r\n\r\n  public static hierarchyPanel: Panel;\r\n  public static hierarchyTree: Tree;\r\n\r\n  public static assetPanel: Panel;\r\n  public static attributesPanel: Panel;\r\n\r\n  public static viewport: Viewport;\r\n\r\n  public static viewCanvas: Canvas;\r\n\r\n\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n\r\n}","export * from './lib';\r\nexport * from './editor';\r\nexport * from './ui';\r\n\r\n\r\nexport * from './engine';\r\n","export class Events {\r\n\r\n  public get suspendEvents(): boolean {\r\n    return this._suspendEvents;\r\n  }\r\n  public set suspendEvents(val: boolean) {\r\n    this._suspendEvents = val;\r\n  }\r\n  private _suspendEvents: boolean = false;\r\n\r\n  // 某个name对应的事件数组，name与Function是1对多的关系；\r\n  private _events: { [key: string]: Function[] } = {};\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n  /**\r\n   * 添加事件数组，若name相同，则在数组末尾继续添加；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public on(name: string, fn: Function): EventHandle {\r\n    let events: Function[] = this._events[name];\r\n    if (events === undefined) {\r\n      this._events[name] = [fn];\r\n    } else {\r\n      if (events.indexOf(fn) == -1) {\r\n        events.push(fn);\r\n      }\r\n    }\r\n    return new EventHandle(this, name, fn);\r\n  }\r\n\r\n  /**\r\n   * emit后只执行一次；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public once(name: string, fn: Function): EventHandle {\r\n    let self = this;\r\n    let evt: EventHandle = this.on(name, function (\r\n      arg0: any,\r\n      arg1: any,\r\n      arg2: any,\r\n      arg3: any,\r\n      arg4: any,\r\n      arg5: any,\r\n      arg6: any,\r\n      arg7: any\r\n    ) {\r\n      fn.call(self, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7);\r\n      evt.unbind();\r\n    });\r\n    return evt;\r\n  }\r\n\r\n  /**\r\n   * 执行事件；\r\n   * @param name 函数名；\r\n   * @param arg0 函数参数1，可选；\r\n   * @param arg1 函数参数2，可选；\r\n   * @param arg2 函数参数3，可选；\r\n   * @param arg3 函数参数4，可选；\r\n   * @param arg4 函数参数5，可选；\r\n   * @param arg5 函数参数6，可选；\r\n   * @param arg6 函数参数7，可选；\r\n   * @param arg7 函数参数8，可选；\r\n   */\r\n  public emit(name: string,\r\n    arg0?: any,\r\n    arg1?: any,\r\n    arg2?: any,\r\n    arg3?: any,\r\n    arg4?: any,\r\n    arg5?: any,\r\n    arg6?: any,\r\n    arg7?: any\r\n  ): Events {\r\n    if (this._suspendEvents) return this;\r\n\r\n    let events: Function[] = this._events[name];\r\n    if (!events) return this;\r\n\r\n    // 返回新数组\r\n    events = events.slice(0);\r\n\r\n    for (let i: number = 0; i < events.length; i++) {\r\n      if (!events[i]) continue;\r\n      try {\r\n        events[i].call(this, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7);\r\n      } catch (ex) {\r\n        console.info(\"%c%s %c(event error)\", \"color: #06f\", name, \"color: #f00\");\r\n        console.log(ex.stack);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * 取消Events事件绑定，若name为空，则清空events；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public unbind(name?: string, fn?: Function): Events {\r\n    if (name) {\r\n      let events: Function[] = this._events[name];\r\n      if (!events) return this;\r\n\r\n      if (fn) {\r\n        let i: number = events.indexOf(fn);\r\n        if (i !== -1) {\r\n          if (events.length === 1) {\r\n            delete this._events[name];\r\n          } else {\r\n            events.splice(i, 1);\r\n          }\r\n        }\r\n      } else {\r\n        delete this._events[name];\r\n      }\r\n    } else {\r\n      this._events = {};\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n}\r\n\r\n\r\nexport class EventHandle {\r\n\r\n  public name: Nullable<string>;\r\n\r\n  public owner: Nullable<Events>;\r\n\r\n  public fn: Nullable<Function>;\r\n\r\n  public constructor(owner: Events, name: string, fn: Function) {\r\n    this.owner = owner;\r\n    this.name = name;\r\n    this.fn = fn;\r\n  }\r\n\r\n  public unbind(): void {\r\n    if (!this.owner) return;\r\n\r\n    this.owner.unbind(this.name!, this.fn!);\r\n\r\n    this.owner = null;\r\n    this.name = null;\r\n    this.fn = null;\r\n  }\r\n\r\n  public call(): void {\r\n    if (!this.fn) return;\r\n\r\n    this.fn.call(\r\n      this.owner!,\r\n      arguments[0],\r\n      arguments[1],\r\n      arguments[2],\r\n      arguments[3],\r\n      arguments[4],\r\n      arguments[5],\r\n      arguments[6],\r\n      arguments[7]\r\n    );\r\n  }\r\n\r\n  public on(name: string, fn: Function): EventHandle {\r\n    return this.owner!.on(name, fn);\r\n  }\r\n\r\n}","export * from './events';","import { Editor, Layout, Viewport, Hierarchy } from './editor';\r\n\r\nimport { Element, Canvas } from './ui';\r\nimport { VeryEngine } from './engine';\r\n\r\nexport * from './index';\r\n\r\n// 添加到全局变量\r\nwindow.editor = new Editor();\r\n\r\n// 整体布局\r\nlet layout = new Layout();\r\nlayout.init();\r\n\r\n// 编辑视窗\r\nlet viewport = new Viewport();\r\nVeryEngine.viewport = viewport;\r\n\r\n// 层级菜单\r\nlet hierarchy = new Hierarchy();\r\n\r\n/* TEST\r\neditor.once('load', () => {\r\n  console.log('once');\r\n});\r\n\r\neditor.on('array', () => {\r\n  console.log('1');\r\n});\r\neditor.on('array', () => {\r\n  console.log('2');\r\n});\r\neditor.on('array', () => {\r\n  console.log('3');\r\n});\r\n\r\neditor.on('array', (args0: any, args1: any) => {\r\n  console.log(args0 + ' +++ ' +  args1);\r\n});\r\n\r\neditor.method('method', (a: any) => {\r\n  console.log(a);\r\n});\r\n\r\n\r\neditor.emit('load');\r\neditor.emit('load');\r\n\r\neditor.emit('array', 'abc', 'dfg');\r\neditor.emit('array');\r\n\r\neditor.call('method', 123);\r\n*/\r\n\r\n// let parent: HTMLElement = document.getElementById('test')!;\r\n\r\n// console.log('children');\r\n\r\n// console.log(parent);\r\n// console.log(parent.childNodes);\r\n\r\n// for(let i: number = 0; i < parent.children.length; i++) {\r\n//   (<HTMLElement>(parent.children[i])).ui = new Element();\r\n//   console.warn((<HTMLElement>(parent.children[i])).ui === undefined);\r\n//   console.log((<HTMLElement>(parent.children[i])).ui);\r\n//   (<HTMLElement>(parent.children[i])).ui.destroy();\r\n//   console.log(parent.children[i] instanceof HTMLElement);\r\n// }\r\n\r\n// console.log('childNodes');\r\n\r\n// for(let i: number = 0; i < parent.childNodes.length; i++) {\r\n//   console.log(parent.childNodes[i] instanceof HTMLElement);\r\n// }\r\n","import { Element } from \"./element\";\r\n\r\nexport class Bubble extends Element {\r\n\r\n\r\n  public constructor(id?: string, tabindex?: number) {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-bubble');\r\n\r\n    let pulseCircle: HTMLDivElement = document.createElement('div');\r\n    pulseCircle.classList.add('pulse');\r\n    this.element.appendChild(pulseCircle);\r\n\r\n    let centerCircle: HTMLDivElement = document.createElement('div');\r\n    centerCircle.classList.add('center');\r\n    this.element.appendChild(centerCircle);\r\n\r\n    this.on('click', this._onClick);\r\n\r\n    if (id !== undefined)\r\n      this.element.id = id;\r\n\r\n    if (tabindex !== undefined)\r\n      this.element.setAttribute('tabindex', tabindex.toString());\r\n  }\r\n\r\n  private _onClick(): void {\r\n    if (this.class!.contains('active')) {\r\n      this.deactivate();\r\n    } else {\r\n      this.activate();\r\n    }\r\n  }\r\n\r\n  public activate(): void {\r\n    this.class!.add('active');\r\n    this.emit('activate');\r\n  }\r\n\r\n  public deactivate(): void {\r\n    this.class!.remove('active');\r\n    this.emit('deactivate');\r\n  }\r\n\r\n  public position(x: number, y: number) {\r\n    let rect = this.element!.getBoundingClientRect();\r\n\r\n    let left = x || 0;\r\n    let top = y || 0;\r\n\r\n    this.element!.style.left = (typeof left === 'number') ? left + 'px' : left;\r\n    this.element!.style.top = (typeof top === 'number') ? top + 'px' : top;\r\n  }\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class Button extends Element {\r\n\r\n\r\n  private _text: string;\r\n  public get text(): string {\r\n    return this._text;\r\n  }\r\n  public set text(val: string) {\r\n    if (this._text === val) return;\r\n    this._text = val;\r\n    this.element!.innerHTML = this._text;\r\n  }\r\n\r\n\r\n  public constructor(text?: string) {\r\n    super();\r\n\r\n    this._text = text ? text : '';\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-button');\r\n    this.element.innerHTML = this._text;\r\n    this.element.ui = this;\r\n    this.element.tabIndex = 0;\r\n\r\n    // space > click\r\n    this.element.addEventListener('keydown', this._onKeyDown, false);\r\n    this.on('click', this._onClick);\r\n\r\n  }\r\n\r\n\r\n  private _onKeyDown(evt: KeyboardEvent): void {\r\n    if (evt.keyCode === 27)\r\n      return (<HTMLElement>evt.target).blur();\r\n\r\n    if (evt.keyCode !== 32 || this.disabled)\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n    this.emit('click');\r\n  }\r\n\r\n  private _onClick(): void {\r\n    this.element!.blur();\r\n  };\r\n\r\n  // TODO\r\n  public _onLinkChange(value: any): void {\r\n    (<HTMLButtonElement>this.element).value = value;\r\n  };\r\n\r\n\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class Canvas extends Element {\r\n\r\n  public get width(): number {\r\n    return this.element ? (<HTMLCanvasElement>this.element).width : 0;\r\n  }\r\n  public set width(val: number) {\r\n    if (!this.element) return;\r\n    if ((<HTMLCanvasElement>this.element).width === val) return;\r\n\r\n    (<HTMLCanvasElement>this.element).width = val;\r\n    this.emit(\"resize\", (<HTMLCanvasElement>this.element).width, (<HTMLCanvasElement>this.element).height);\r\n  }\r\n\r\n  public get height(): number {\r\n    return this.element ? (<HTMLCanvasElement>this.element).height : 0;\r\n  }\r\n  public set height(val: number) {\r\n    if (!this.element) return;\r\n    if ((<HTMLCanvasElement>this.element).height === val) return;\r\n\r\n    (<HTMLCanvasElement>this.element).height = val;\r\n    this.emit(\"resize\", (<HTMLCanvasElement>this.element).width, (<HTMLCanvasElement>this.element).height);\r\n  }\r\n\r\n  public constructor(id?: string) {\r\n    super();\r\n\r\n    this.element = document.createElement('canvas');\r\n    this.element.classList.add('ui-canvas');\r\n\r\n    if (id !== undefined) this.element.id = id;\r\n\r\n    this.element.onselectstart = this.onselectstart;\r\n\r\n  }\r\n\r\n  private onselectstart(): boolean {\r\n    return false;\r\n  };\r\n\r\n  public resize(width: number, height: number): void {\r\n    if ((<HTMLCanvasElement>this.element).width === width && (<HTMLCanvasElement>this.element).height === height) return;\r\n\r\n    (<HTMLCanvasElement>this.element).width = width;\r\n    (<HTMLCanvasElement>this.element).height = height;\r\n    this.emit(\"resize\", (<HTMLCanvasElement>this.element).width, (<HTMLCanvasElement>this.element).height);\r\n  };\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class Checkbox extends Element {\r\n\r\n\r\n  private _text: string;\r\n\r\n  public get value(): boolean {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this.element!.classList.contains('checked');\r\n    }\r\n  }\r\n  public set value(val: boolean) {\r\n    if (this._link) {\r\n      this._link.set(this.path, val);\r\n    } else {\r\n      if (this.element!.classList.contains('checked') !== val)\r\n        this._onLinkChange(val);\r\n    }\r\n  }\r\n\r\n  public constructor(text?: string) {\r\n    super();\r\n\r\n    this._text = text || '';\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-checkbox', 'noSelect');\r\n    this.element.tabIndex = 0;\r\n\r\n    this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n\r\n    this.on('click', this._onClick);\r\n    this.on('change', this._onChange);\r\n\r\n  }\r\n\r\n  private _onClick(): void {\r\n    this.value = !this.value;\r\n    this.element!.blur();\r\n  }\r\n\r\n  private _onChange(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  }\r\n\r\n  private _onKeyDown(evt: KeyboardEvent): void {\r\n    if (evt.keyCode === 27)  // Escape\r\n      return (<HTMLElement>evt.target).blur();\r\n\r\n    // Space\r\n    if (evt.keyCode !== 32 || this.disabled)\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n    this.value = !this.value;\r\n  }\r\n\r\n  // TODO\r\n  public _onLinkChange(value: boolean) {\r\n    if (value === null) {\r\n      this.element!.classList.remove('checked');\r\n      this.element!.classList.add('null');\r\n    } else if (value) {\r\n      this.element!.classList.add('checked');\r\n      this.element!.classList.remove('null');\r\n    } else {\r\n      this.element!.classList.remove('checked', 'null');\r\n    }\r\n    this.emit('change', value);\r\n  }\r\n\r\n\r\n}","import { Element } from './element';\r\n\r\nexport class ContainerElement extends Element {\r\n\r\n\r\n  private _innerElement: Nullable<HTMLElement> = null;\r\n  public get innerElement(): Nullable<HTMLElement> {\r\n    return this._innerElement;\r\n  }\r\n  public set innerElement(val: Nullable<HTMLElement>) {\r\n    if (this._innerElement) {\r\n      this._observer.disconnect();\r\n    }\r\n\r\n    this._innerElement = val;\r\n\r\n    this._observer.observe(this._innerElement!, this._observerOptions);\r\n  }\r\n\r\n  private _observerChanged: boolean = false;\r\n\r\n  private _observer: MutationObserver;\r\n\r\n  private _observerOptions: {} = {\r\n    childList: true,\r\n    attributes: true,\r\n    characterData: false,\r\n    subtree: true,\r\n    attributeOldValue: false,\r\n    characterDataOldValue: false\r\n  };\r\n\r\n\r\n  public get flexible(): boolean {\r\n    return this.element ? this.element.classList.contains('flexible') : false;\r\n  }\r\n  public set flexible(val: boolean) {\r\n    if (!this.element || this.element.classList.contains('flexible') === val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.element.classList.add('flexible');\r\n    } else {\r\n      this.element.classList.remove('flexible');\r\n    }\r\n  }\r\n\r\n  public get flex(): boolean {\r\n    return this.element ? this.element.classList.contains('flex') : false;\r\n  }\r\n  public set flex(val: boolean) {\r\n    if (!this.element || this.element.classList.contains('flex') === val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.element.classList.add('flex');\r\n    } else {\r\n      this.element.classList.remove('flex');\r\n    }\r\n  }\r\n\r\n  public get flexDirection(): string {\r\n    return this._innerElement ? (this._innerElement!.style.flexDirection || '') : '';\r\n  }\r\n  public set flexDirection(val: string) {\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexDirection = val;\r\n      this._innerElement.style.webkitFlexDirection = val!;\r\n    }\r\n  }\r\n\r\n  public get flexWrap(): string {\r\n    return this._innerElement ? (this._innerElement!.style.flexWrap || '') : '';\r\n  }\r\n  public set flexWrap(val: string) {\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexWrap = val;\r\n      this._innerElement.style.webkitFlexWrap = val!;\r\n    }\r\n  }\r\n\r\n  public get flexGrow(): string {\r\n    return this.element ? (this.element.style.flexGrow || '') : '';\r\n  }\r\n  public set flexGrow(val: string) {\r\n    if (!!val) this.flex = true;\r\n\r\n    if (this.element) {\r\n      this.element.style.flexGrow = val;\r\n      this.element.style.webkitFlexGrow = val!;\r\n    }\r\n\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexGrow = val;\r\n      this._innerElement.style.webkitFlexGrow = val!;\r\n    }\r\n  }\r\n\r\n  public get flexShrink(): string {\r\n    return this.element ? (this.element.style.flexShrink || '') : '';\r\n  }\r\n  public set flexShrink(val: string) {\r\n    if (!!val) this.flex = true;\r\n\r\n    if (this.element) {\r\n      this.element.style.flexShrink = val;\r\n      this.element.style.webkitFlexShrink = val!;\r\n    }\r\n\r\n    if (this._innerElement) {\r\n      this._innerElement.style.flexShrink = val;\r\n      this._innerElement.style.webkitFlexShrink = val!;\r\n    }\r\n  }\r\n\r\n  public get scroll(): boolean {\r\n    return this.class ? this.class.contains('scrollable') : false;\r\n  }\r\n  public set scroll(val: boolean) {\r\n    if (this.class) this.class.add('scrollable');\r\n  }\r\n\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    let self = this;\r\n\r\n    let observerTimeout = function() {\r\n      self._observerChanged = false;\r\n      self.emit('nodesChanged');\r\n      // console.warn('nodesChanged');\r\n    };\r\n\r\n    this._observer = new MutationObserver(function () {\r\n      if (self._observerChanged)\r\n        return;\r\n      self._observerChanged = true;\r\n      setTimeout(observerTimeout, 0);\r\n    });\r\n\r\n  }\r\n\r\n  public append(element: HTMLElement | Element): void {\r\n    let html: boolean = element instanceof HTMLElement;\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n    this._innerElement!.appendChild(node);\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  }\r\n\r\n\r\n  public appendBefore(element: HTMLElement | Element, reference: HTMLElement | Element | null): void {\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (reference instanceof Element) reference = reference.element;\r\n\r\n    this._innerElement!.insertBefore(node, reference);\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  };\r\n\r\n  public appendAfter(element: HTMLElement | Element, reference: HTMLElement | Element | null): void {\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (reference instanceof Element) reference = reference.element;\r\n\r\n    if (reference) {\r\n      this._innerElement!.insertBefore(node, reference.nextSibling);\r\n    } else {\r\n      this._innerElement!.appendChild(node);\r\n    }\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  };\r\n\r\n\r\n  public prepend(element: HTMLElement | Element): void {\r\n    let first = this._innerElement!.firstChild;\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (first) {\r\n      this._innerElement!.insertBefore(node, first);\r\n    } else {\r\n      this._innerElement!.appendChild(node);\r\n    }\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = this;\r\n      this.emit('append', element);\r\n    }\r\n  };\r\n\r\n  public remove(element: HTMLElement | Element): void {\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    if (!node.parentElement || node.parentElement !== this._innerElement)\r\n      return;\r\n\r\n    this._innerElement.removeChild(node);\r\n\r\n    if (!html) {\r\n      (<Element>element).parent = null;\r\n      this.emit('remove', element);\r\n    }\r\n  };\r\n\r\n  // TODO：怕不对\r\n  public clear(): void {\r\n    let node: HTMLElement;\r\n\r\n    this._observer.disconnect();\r\n\r\n    let i: number = this._innerElement!.children.length;\r\n    while (i--) {\r\n      node = <HTMLElement>(this._innerElement!.children[i]);\r\n\r\n      if (!node.ui)\r\n        continue;\r\n\r\n      node.ui.destroy();\r\n    }\r\n    this._innerElement!.innerHTML = '';\r\n\r\n    this._observer.observe(this._innerElement!, this._observerOptions);\r\n  };\r\n\r\n\r\n}","import { Events, EventHandle } from \"../lib\";\r\nimport { Link } from \"./link\";\r\n\r\nexport class Element extends Events {\r\n\r\n  private _parent: Nullable<Element> = null;\r\n  private _destroyed: boolean = false;\r\n\r\n  // TODO\r\n  public _link: Nullable<Link> = null;\r\n  /*\r\n    on get set .schema.has .schema.get .history .history.combine .entity\r\n  */\r\n  private _linkOnSet: Nullable<EventHandle> = null;\r\n  private _linkOnUnset: Nullable<EventHandle> = null;\r\n  public path: string = '';\r\n\r\n  public renderChanges = false;\r\n  // TODO\r\n  // // render changes only from next ticks\r\n  // setTimeout(function() {\r\n  //   if (self.renderChanges === null) self.renderChanges = true;\r\n  // }, 0);\r\n\r\n  public disabledClick = false;\r\n  private _disabled = false;\r\n  private _disabledParent = false;\r\n\r\n  private _evtParentDestroy: Nullable<EventHandle> = null;\r\n  private _evtParentDisable: Nullable<EventHandle> = null;\r\n  private _evtParentEnable: Nullable<EventHandle> = null;\r\n\r\n  // HTMLElement \r\n  private _element: Nullable<HTMLElement> = null;\r\n  // public innerElement: Nullable<HTMLElement> = null;\r\n  public get element(): Nullable<HTMLElement> {\r\n    return this._element;\r\n  }\r\n  public set element(val: Nullable<HTMLElement>) {\r\n    if (this._element) return;\r\n\r\n    this._element = val;\r\n    this._element!.ui = this;\r\n\r\n    if (!this._element) return;\r\n\r\n    let self = this;\r\n    // click 事件\r\n    this._element.addEventListener('click', (evt) => {\r\n      if (self.disabled && !self.disabledClick) return;\r\n      self.emit(\"click\", evt);\r\n    }, false);\r\n    // hover 事件\r\n    this._element.addEventListener('mouseover', (evt) => {\r\n      self.emit('hover', evt);\r\n    }, false);\r\n    // blur 事件，mouse out\r\n    this._element.addEventListener('mouseout', (evt) => {\r\n      self.emit('blur', evt);\r\n    }, false);\r\n\r\n    // if (!this.innerElement) this.innerElement = this._element;\r\n  }\r\n\r\n  public get parent(): Nullable<Element> {\r\n    return this._parent;\r\n  }\r\n  public set parent(val: Nullable<Element>) {\r\n    if (this._parent) {\r\n      this._parent = null;\r\n      this._evtParentDestroy!.unbind();\r\n      this._evtParentDisable!.unbind();\r\n      this._evtParentEnable!.unbind();\r\n    }\r\n\r\n    if (val) {\r\n      this._parent = val;\r\n      this._evtParentDestroy = this._parent.once(\r\n        \"destroy\",\r\n        this._parentDestroy\r\n      );\r\n      this._evtParentDisable = this._parent.on(\"disable\", this._parentDisable);\r\n      this._evtParentEnable = this._parent.on(\"enable\", this._parentEnable);\r\n\r\n      if (this._disabledParent !== this._parent.disabled) {\r\n        this._disabledParent = this._parent.disabled;\r\n\r\n        if (this._disabledParent) {\r\n          this.class!.add(\"disabled\");\r\n          this.emit(\"disable\");\r\n        } else {\r\n          this.class!.remove(\"disabled\");\r\n          this.emit(\"enable\");\r\n        }\r\n      }\r\n    }\r\n\r\n    this.emit(\"parent\");\r\n  }\r\n\r\n  public get disabled(): boolean {\r\n    return this._disabled || this._disabledParent;\r\n  }\r\n  public set disabled(val: boolean) {\r\n    if (this._disabled === val) return;\r\n\r\n    this._disabled = !!val;\r\n    this.emit(this._disabled || this._disabledParent ? 'disable' : 'enable');\r\n\r\n    if (this._disabled || this._disabledParent) {\r\n      if (this.class) this.class.add('disabled');\r\n    } else {\r\n      if (this.class) this.class.remove('disabled');\r\n    }\r\n  }\r\n\r\n  public get disabledSelf(): boolean {\r\n    return this._disabled;\r\n  }\r\n\r\n  public get enabled(): boolean {\r\n    return !this._disabled;\r\n  }\r\n  public set enabled(val: boolean) {\r\n    this.disabled = !val;\r\n  }\r\n\r\n  public get hidden(): boolean {\r\n    return this._element ? this._element.classList.contains('hidden') : false;\r\n  }\r\n  public set hidden(val: boolean) {\r\n    if (!this._element) return;\r\n\r\n    if (this._element.classList.contains('hidden') === !!val) return;\r\n\r\n    if (val) {\r\n      this._element.classList.add('hidden');\r\n      this.emit('hide');\r\n    } else {\r\n      this._element.classList.remove('hidden');\r\n      this.emit('show');\r\n\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public get value(): any {\r\n    if (!this._link) return null;\r\n    return this._link.get(this.path);\r\n  }\r\n  public set value(val: any) {\r\n    if (!this._link) return;\r\n    this._link.set(this.path, val);\r\n  }\r\n\r\n  /* DOM Element */\r\n\r\n  public get class(): Nullable<DOMTokenList> {\r\n    if (this._element) {\r\n      return this._element.classList;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public get style(): Nullable<CSSStyleDeclaration> {\r\n    if (this._element) {\r\n      return this._element.style;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // flex-grow 属性用于设置或检索弹性盒子的扩展比率，用作css动画效果\r\n  public get flexGrow(): string {\r\n    return this._element ? (this._element.style.flexGrow || '') : '';\r\n  }\r\n  public set flexGrow(val: string) {\r\n    if (this._element) {\r\n      this._element.style.flexGrow = val;\r\n      this._element.style.webkitFlexGrow = val!;\r\n    }\r\n  }\r\n\r\n  // flex-shrink 属性规定项目将相对于同一容器内其他灵活的项目进行收缩的量，用作css动画效果\r\n  public get flexShrink(): string {\r\n    return this._element ? (this._element.style.flexShrink || '') : '';\r\n  }\r\n  public set flexShrink(val: string) {\r\n    if (this._element) {\r\n      this._element.style.flexShrink = val;\r\n      this._element.style.webkitFlexShrink = val!;\r\n    }\r\n  }\r\n\r\n\r\n  public constructor() {\r\n    super();\r\n    // this._element!.addEventListener('click', )\r\n\r\n    this._parent = null;\r\n    // let self = this;\r\n    // this._parentDestroy = function () {\r\n    //   self.destroy();\r\n    // };\r\n  }\r\n\r\n  // 设置元素闪烁效果\r\n  public flash(): void {\r\n    if (this.class) {\r\n      this.class.add('flash');\r\n      setTimeout(this._onFlashDelay, 200);\r\n    }\r\n  }\r\n\r\n\r\n  private _onFlashDelay(): void {\r\n    if (this.class) {\r\n      this.class.remove('flash');\r\n    }\r\n  }\r\n\r\n  public link(link: Link, path: string): void {\r\n    let self = this;\r\n\r\n    if (this._link) this.unlink();\r\n    this._link = link;\r\n    this.path = path;\r\n\r\n    this.emit(\"link\", path);\r\n\r\n    // add :set link\r\n    if (this._onLinkChange) {\r\n      let renderChanges = this.renderChanges;\r\n      this.renderChanges = false;\r\n      this._linkOnSet = this._link.on(this.path + \":set\", function (value: any) {\r\n        self._onLinkChange(value);\r\n      });\r\n      this._linkOnUnset = this._link.on(this.path + \":unset\", function (value: any) {\r\n        self._onLinkChange(value);\r\n      });\r\n      this._onLinkChange(this._link.get(this.path));\r\n      this.renderChanges = renderChanges;\r\n    }\r\n  };\r\n\r\n\r\n  public unlink(): void {\r\n    if (!this._link) return;\r\n\r\n    this.emit(\"unlink\", this.path);\r\n\r\n    // remove :set link\r\n    if (this._linkOnSet) {\r\n      this._linkOnSet.unbind();\r\n      this._linkOnSet = null;\r\n\r\n      this._linkOnUnset!.unbind();\r\n      this._linkOnUnset = null;\r\n    }\r\n\r\n    this._link = null;\r\n    this.path = \"\";\r\n  };\r\n\r\n  public _onLinkChange(value: any): void {\r\n\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n    if (this._destroyed) return;\r\n\r\n    this._destroyed = true;\r\n\r\n    if (this._parent) {\r\n      this._evtParentDestroy!.unbind();\r\n      this._evtParentDisable!.unbind();\r\n      this._evtParentEnable!.unbind();\r\n      this._parent = null;\r\n    }\r\n\r\n    if (this._element && this._element.parentNode) {\r\n      this._element.parentNode.removeChild(this._element);\r\n    }\r\n\r\n    this.unlink();\r\n\r\n    this.emit('destroy');\r\n\r\n    this.unbind();\r\n\r\n    console.error('destroy');\r\n  };\r\n\r\n  private _parentDestroy(): void {\r\n    this.destroy();\r\n  };\r\n\r\n  private _parentDisable(): void {\r\n    if (this._disabledParent) return;\r\n\r\n    this._disabledParent = true;\r\n\r\n    if (!this._disabled) {\r\n      this.emit(\"disable\");\r\n      this.class!.add(\"disabled\");\r\n    }\r\n  };\r\n\r\n  private _parentEnable(): void {\r\n    if (!this._disabledParent) return;\r\n\r\n    this._disabledParent = false;\r\n\r\n    if (!this._disabled) {\r\n      this.emit(\"enable\");\r\n      this.class!.remove(\"disabled\");\r\n    }\r\n  };\r\n\r\n\r\n}","export * from './link';\r\nexport * from './element';\r\nexport * from './container-element';\r\nexport * from './panel';\r\nexport * from './canvas';\r\nexport * from './button';\r\nexport * from './label';\r\nexport * from './text-field';\r\nexport * from './textarea-field';\r\nexport * from './tree';\r\nexport * from './tree-item';\r\nexport * from './list';\r\nexport * from './list-item';\r\nexport * from './checkbox';\r\nexport * from './bubble';\r\nexport * from './overlay';\r\nexport * from './tooltip';","import { Element } from \"./element\";\r\n\r\nexport class Label extends Element {\r\n\r\n  private _text: string;\r\n  public get text(): string {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this._text;\r\n    }\r\n  }\r\n  public set text(val: string) {\r\n    if (this._link) {\r\n      // TODO \r\n      this._link.set(this.path, val)\r\n      val = this._link.get(this.path);\r\n      this._setText(val);\r\n    } else {\r\n      if (this._text === val) return;\r\n\r\n      if (val === undefined || val === null) {\r\n        this._text = '';\r\n      } else {\r\n        this._text = val;\r\n      }\r\n\r\n      this._setText(this._text);\r\n      this.emit('change', val);\r\n    }\r\n  }\r\n\r\n  // if unsafe is true then use innerHTML for the\r\n  // contents\r\n  private _unsafe: boolean;\r\n\r\n  public get placeholder(): string {\r\n    return this.element!.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    this.element!.setAttribute('placeholder', val);\r\n  }\r\n\r\n  public get value(): string {\r\n    return this.text;\r\n  }\r\n  public set value(val: string) {\r\n    this.text = val;\r\n  }\r\n\r\n\r\n  public constructor(text?: string, placeholder?: string, unsafe?: boolean) {\r\n    super();\r\n\r\n    this._text = text ? text : '';\r\n    this._unsafe = unsafe ? unsafe : false;\r\n\r\n    this.element = document.createElement('span');\r\n    this.element.classList.add('ui-label');\r\n\r\n    if (this._text)\r\n      this._setText(this._text);\r\n\r\n    this.on('change', this._onChange);\r\n\r\n    if (placeholder) {\r\n      this.placeholder = placeholder;\r\n    }\r\n  }\r\n\r\n  private _setText(text: string): void {\r\n    if (this._unsafe) {\r\n      this.element!.innerHTML = text;\r\n    } else {\r\n      this.element!.textContent = text;\r\n    }\r\n  }\r\n\r\n  private _onChange(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n  public _onLinkChange(value: any) {\r\n    this.text = value;\r\n    this.emit('change', value);\r\n  };\r\n\r\n\r\n\r\n}","import { Element } from '../ui';\r\nimport { EventHandle } from '../lib';\r\n\r\n// TODO\r\nexport class Link {\r\n\r\n  private _element: Element;\r\n\r\n  private _value: { [key: string]: any } = {};\r\n\r\n  public constructor(ele: Element) {\r\n    this._element = ele;\r\n  }\r\n\r\n  public get(path: string): any {\r\n    return this._value[path];\r\n  }\r\n\r\n  // TODO\r\n  public set(path: string, value: any): void {\r\n    this._value[path] = value;\r\n  }\r\n\r\n  public on(name: string, fn: Function): EventHandle {\r\n    return this._element.on(name, fn);\r\n  }\r\n}","import { Element } from \"./element\";\r\n\r\nexport class ListItem extends Element {\r\n\r\n  private _text: string;\r\n  public get text(): string {\r\n    return this._text;\r\n  }\r\n  public set text(val: string) {\r\n    if (this._text === val) return;\r\n    this._text = val;\r\n    this.elementText.textContent = this._text;\r\n  }\r\n\r\n  private _selected: boolean;\r\n  public get selected(): boolean {\r\n    return this._selected;\r\n  }\r\n  public set selected(val: boolean) {\r\n    if (this._selected === val)\r\n      return;\r\n\r\n    this._selected = val;\r\n\r\n    if (this._selected) {\r\n      this.element!.classList.add('selected');\r\n    } else {\r\n      this.element!.classList.remove('selected');\r\n    }\r\n\r\n    this.emit(this.selected ? 'select' : 'deselect');\r\n\r\n    if (this.parent)\r\n      this.parent.emit(this.selected ? 'select' : 'deselect', this);\r\n\r\n    this.emit('change', this.selected);\r\n  }\r\n\r\n  private _allowDeselect: boolean;\r\n\r\n  public elementText: HTMLElement;\r\n\r\n  public constructor(text?: string, selected?: boolean, allowDeselect?: boolean) {\r\n    super();\r\n\r\n    this._text = text || '';\r\n    this._selected = selected || false;\r\n    this._allowDeselect = allowDeselect || false;\r\n\r\n    this.element = document.createElement('li');\r\n    this.element.classList.add('ui-list-item');\r\n\r\n    this.elementText = document.createElement('span');\r\n    this.elementText.textContent = this._text;\r\n    this.element.appendChild(this.elementText);\r\n\r\n    this.on('click', this._onClick);\r\n  }\r\n\r\n\r\n  private _onClick(): void {\r\n    if (!this.selected) {\r\n      this.selected = true;\r\n    } else if (this._allowDeselect) {\r\n      this.selected = false;\r\n    }\r\n  }\r\n\r\n\r\n\r\n}","import { ContainerElement } from \"./container-element\";\r\nimport { ListItem } from \"./list-item\";\r\nimport { Hotkeys } from \"../editor\";\r\n\r\nexport class List extends ContainerElement {\r\n\r\n\r\n  private _selectable: boolean;\r\n  public get selectable(): boolean {\r\n    return this._selectable;\r\n  }\r\n  public set selectable(val: boolean) {\r\n    if (this._selectable === !!val)\r\n      return;\r\n\r\n    this._selectable = val;\r\n\r\n    if (this._selectable) {\r\n      this.class!.add('selectable');\r\n    } else {\r\n      this.class!.remove('selectable');\r\n    }\r\n  }\r\n\r\n  private _changing: boolean;\r\n\r\n  private _selected: ListItem[];\r\n  public get selected(): ListItem[] {\r\n    return this._selected.slice(0);\r\n  }\r\n  public set selected(val: ListItem[]) {\r\n    this._changing = true;\r\n\r\n    // deselecting\r\n    let items: ListItem[] = this.selected;\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (val.indexOf(items[i]) !== -1)\r\n        continue;\r\n\r\n      items[i].selected = false;\r\n    }\r\n\r\n    // selecting\r\n    for (let i = 0; i < val.length; i++) {\r\n      val[i].selected = true;\r\n    }\r\n\r\n    this._changing = false;\r\n  }\r\n\r\n  public constructor(selectable?: boolean) {\r\n    super();\r\n\r\n    this.element = document.createElement('ul');\r\n    this.element.classList.add('ui-list');\r\n\r\n    this._selectable = selectable || true;\r\n\r\n    this._changing = false;\r\n    this._selected = [];\r\n\r\n    this.on('select', this._onSelect);\r\n    this.on('deselect', this._onDeselect);\r\n    this.on('append', this._onAppend);\r\n  }\r\n\r\n  private _onSelect(item: ListItem): void {\r\n    let ind: number = this._selected.indexOf(item);\r\n    if (ind === -1)\r\n      this._selected.push(item);\r\n\r\n    if (this._changing)\r\n      return;\r\n\r\n    if (List._ctrl && List._ctrl()) {\r\n\r\n    } else if (List._shift && List._shift() && this.selected.length) {\r\n\r\n    } else {\r\n      this._changing = true;\r\n\r\n      let items: ListItem[] = this.selected;\r\n\r\n      if (items.length > 1) {\r\n        for (let i = 0; i < items.length; i++) {\r\n          if (items[i] === item)\r\n            continue;\r\n\r\n          items[i].selected = false;\r\n        }\r\n      }\r\n\r\n      this._changing = false;\r\n    }\r\n\r\n    this.emit('change');\r\n  }\r\n\r\n  private _onDeselect(item: ListItem): void {\r\n    let ind: number = this._selected.indexOf(item);\r\n    if (ind !== -1) this._selected.splice(ind, 1);\r\n\r\n    if (this._changing)\r\n      return;\r\n\r\n    if (List._ctrl && List._ctrl()) {\r\n\r\n    } else {\r\n      this._changing = true;\r\n\r\n      let items: ListItem[] = this.selected;\r\n\r\n      if (items.length) {\r\n        for (let i = 0; i < items.length; i++)\r\n          items[i].selected = false;\r\n\r\n        item.selected = true;\r\n      }\r\n\r\n      this._changing = false;\r\n    }\r\n\r\n    this.emit('change');\r\n  }\r\n\r\n  private _onAppend(item: ListItem): void {\r\n    if (!item.selected)\r\n      return;\r\n\r\n    let ind = this._selected.indexOf(item);\r\n    if (ind === -1) this._selected.push(item);\r\n  }\r\n\r\n  public clear(): void {\r\n    this._selected = [];\r\n    ContainerElement.prototype.clear.call(this);\r\n  }\r\n\r\n  public static _ctrl(): boolean {\r\n    return Hotkeys.ctrl;\r\n  }\r\n\r\n  public static _shift(): boolean {\r\n    return Hotkeys.shift;\r\n  }\r\n\r\n}","import { ContainerElement } from \"./container-element\";\r\n\r\nexport class Overlay extends ContainerElement {\r\n\r\n\r\n  public elementOverlay: HTMLElement;\r\n\r\n\r\n  public get clickable(): boolean {\r\n    return this.elementOverlay.classList.contains('clickable');\r\n  }\r\n  public set clickable(val: boolean) {\r\n    if (val) {\r\n      this.elementOverlay.classList.add('clickable');\r\n    } else {\r\n      this.elementOverlay.classList.remove('clickable');\r\n    }\r\n  }\r\n\r\n  public get rect(): ClientRect | DOMRect {\r\n    return this.innerElement!.getBoundingClientRect();\r\n  }\r\n\r\n  public get center(): boolean {\r\n    return this.element!.classList.contains('center');\r\n  }\r\n  public set center(val: boolean) {\r\n    if (val) {\r\n      this.element!.classList.add('center');\r\n      this.innerElement!.style.left = '';\r\n      this.innerElement!.style.top = '';\r\n    } else {\r\n      this.element!.classList.remove('center');\r\n    }\r\n  }\r\n\r\n  public get transparent(): boolean {\r\n    return this.element!.classList.contains('transparent');\r\n  }\r\n  public set transparent(val: boolean) {\r\n    if (val) {\r\n      this.element!.classList.add('transparent');\r\n    } else {\r\n      this.element!.classList.remove('transparent');\r\n    }\r\n  }\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-overlay', 'center');\r\n\r\n    this.elementOverlay = document.createElement('div');\r\n    this.elementOverlay.ui = this;\r\n    this.elementOverlay.classList.add('overlay', 'clickable');\r\n    this.element.appendChild(this.elementOverlay);\r\n\r\n    this.elementOverlay.addEventListener('mousedown', this._onMouseDown.bind(this), false);\r\n\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.classList.add('content');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n  }\r\n\r\n  private _onMouseDown(evt: MouseEvent): void {\r\n    if (!this.clickable)\r\n      return;\r\n\r\n    let self = this;\r\n\r\n    // some field might be in focus\r\n    document.body.blur();\r\n\r\n    // wait till blur takes in account\r\n    requestAnimationFrame(function () {\r\n      // hide overlay\r\n      self.hidden = true;\r\n    });\r\n\r\n    evt.preventDefault();\r\n  }\r\n\r\n  public position(x: number, y: number): void {\r\n    let area = this.elementOverlay.getBoundingClientRect();\r\n    let rect = this.innerElement!.getBoundingClientRect();\r\n\r\n    x = Math.max(0, Math.min(area.width - rect.width, x));\r\n    y = Math.max(0, Math.min(area.height - rect.height, y));\r\n\r\n    this.innerElement!.style.left = x + 'px';\r\n    this.innerElement!.style.top = y + 'px';\r\n  }\r\n\r\n\r\n}","import { ContainerElement } from './container-element';\r\nimport { Element } from './element';\r\n\r\nexport class Panel extends ContainerElement {\r\n\r\n  private headerElement: Nullable<HTMLElement> = null;\r\n  private headerElementTitle: Nullable<HTMLElement> = null;\r\n  private _handleElement: Nullable<HTMLElement> = null;\r\n\r\n  private _resizeEvtMove: any;\r\n  private _resizeEvtEnd: any;\r\n  private _resizeEvtTouchMove: any;\r\n  private _resizeEvtTouchEnd: any;\r\n\r\n  private _resizeData: { [key: string]: number } = { end: 0 };\r\n  private _resizeLimits: { [key: string]: number } = {\r\n    min: 0,\r\n    max: Infinity\r\n  };\r\n  private _handle: string = '';\r\n  public headerSize: number = 0;\r\n  private _resizeTouchId: number = -100;\r\n\r\n  public title: string = '';\r\n\r\n  public get folded(): boolean {\r\n    return this.class ? this.class.contains('foldable') && this.class.contains('folded') : false;\r\n  }\r\n  public set folded(val: boolean) {\r\n    if (this.hidden)\r\n      return;\r\n\r\n    if (this.class!.contains('folded') === !!val)\r\n      return;\r\n\r\n    if (this.headerElement && this.headerSize === 0)\r\n      this.headerSize = this.headerElement.clientHeight;\r\n\r\n    if (val) {\r\n      this.class!.add('folded');\r\n\r\n      if (this.class!.contains('foldable'))\r\n        this.emit('fold');\r\n    } else {\r\n      this.class!.remove('folded');\r\n\r\n      if (this.class!.contains('foldable'))\r\n        this.emit('unfold');\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get horizontal(): boolean {\r\n    return this.class ? this.class.contains('horizontal') : false;\r\n  }\r\n  public set horizontal(val: boolean) {\r\n    if (val) {\r\n      this.class!.add('horizontal');\r\n    } else {\r\n      this.class!.remove('horizontal');\r\n    }\r\n    this._reflow();\r\n  }\r\n\r\n  public get resizable(): string {\r\n    return this._handle;\r\n  }\r\n  public set resizable(val: string) {\r\n    if (this._handle === val)\r\n      return;\r\n\r\n    var oldHandle = this._handle;\r\n    this._handle = val;\r\n\r\n    if (this._handle !== '') {\r\n      if (!this._handleElement) {\r\n        this._handleElement = document.createElement('div');\r\n        this._handleElement.ui = this;\r\n        this._handleElement.classList.add('handle');\r\n        this._handleElement.addEventListener('mousedown', this._resizeStart.bind(this), false);\r\n        this._handleElement.addEventListener('touchstart', this._resizeStart.bind(this), false);\r\n      }\r\n\r\n      if (this._handleElement.parentNode)\r\n        this.element!.removeChild(this._handleElement);\r\n      // TODO\r\n      // append in right place\r\n      this.element!.appendChild(this._handleElement);\r\n      this.class!.add('resizable', 'resizable-' + this._handle);\r\n    } else {\r\n      if (this._handleElement) this.element!.removeChild(this._handleElement);\r\n\r\n      this.class!.remove('resizable', 'resizable-' + oldHandle);\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get resizeMin(): number {\r\n    return this._resizeLimits.min;\r\n  }\r\n  public set resizeMin(val: number) {\r\n    this._resizeLimits.min = Math.max(0, Math.min(this._resizeLimits.max, val));\r\n  }\r\n\r\n  public get resizeMax(): number {\r\n    return this._resizeLimits.max;\r\n  }\r\n  public set resizeMax(val: number) {\r\n    this._resizeLimits.max = Math.max(this._resizeLimits.min, val);\r\n  }\r\n\r\n  public get foldable(): boolean {\r\n    return this.class ? this.class.contains('foldable') : false;\r\n  }\r\n  public set foldable(val: boolean) {\r\n    if (val) {\r\n      this.class!.add('foldable');\r\n\r\n      if (this.class!.contains('folded'))\r\n        this.emit('fold');\r\n    } else {\r\n      this.class!.remove('foldable');\r\n\r\n      if (this.class!.contains('folded'))\r\n        this.emit('unfold');\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get header(): string {\r\n    return this.headerElementTitle ? (this.headerElementTitle.textContent || '') : '';\r\n  }\r\n  public set header(val: string) {\r\n    if (!this.headerElement && val) {\r\n      this.headerElement = document.createElement('header');\r\n      this.headerElement.classList.add('ui-header');\r\n\r\n      this.headerElementTitle = document.createElement('span');\r\n      this.headerElementTitle.classList.add('title');\r\n      this.headerElementTitle.textContent = val;\r\n      this.headerElement.appendChild(this.headerElementTitle);\r\n\r\n      let first = this.element!.firstChild;\r\n      if (first) {\r\n        this.element!.insertBefore(this.headerElement, first);\r\n      } else {\r\n        this.element!.appendChild(this.headerElement);\r\n      }\r\n\r\n      this.class!.remove('noHeader');\r\n\r\n      let self = this;\r\n\r\n      // folding\r\n      this.headerElement.addEventListener('click', function (evt) {\r\n        if (!self.foldable || (evt.target !== self.headerElement && evt.target !== self.headerElementTitle))\r\n          return;\r\n\r\n        self.folded = !self.folded;\r\n      }, false);\r\n    } else if (this.headerElement && !val) {\r\n      if (this.headerElement.parentNode) {\r\n        this.headerElement.parentNode.removeChild(this.headerElement);\r\n      }\r\n      this.headerElement = null;\r\n      this.headerElementTitle = null;\r\n      this.class!.add('noHeader');\r\n    } else {\r\n      this.headerElementTitle!.textContent = val || '';\r\n      this.class!.remove('noHeader');\r\n    }\r\n  }\r\n\r\n  public constructor(title?: string) {\r\n    super();\r\n\r\n    let self = this;\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-panel', 'noHeader', 'noAnimation');\r\n\r\n    // this.on('nodesChanged', this._onNodesChanged);\r\n\r\n    // content\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.ui = this;\r\n    this.innerElement.classList.add('content');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n    if (title) {\r\n      this.title = title;\r\n      this.header = title;\r\n    }\r\n\r\n    // this.innerElement.addEventListener('scroll', this._onScroll, false);\r\n\r\n    this._resizeEvtMove = function (evt: MouseEvent) {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      self._resizeMove(evt.clientX, evt.clientY);\r\n    };\r\n\r\n    this._resizeEvtEnd = function (evt: MouseEvent) {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      self._resizeEnd();\r\n    };\r\n\r\n    this._resizeEvtTouchMove = function (evt: TouchEvent) {\r\n      for (let i = 0; i < evt.changedTouches.length; i++) {\r\n        let touch = evt.changedTouches[i];\r\n\r\n        if (touch.identifier !== self._resizeTouchId)\r\n          continue;\r\n\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        self._resizeMove(touch.clientX, touch.clientY);\r\n\r\n        return;\r\n      }\r\n    };\r\n\r\n    this._resizeEvtTouchEnd = function (evt: TouchEvent) {\r\n      for (let i = 0; i < evt.changedTouches.length; i++) {\r\n        let touch = evt.changedTouches[i];\r\n\r\n        if (touch.identifier !== self._resizeTouchId)\r\n          continue;\r\n\r\n        self._resizeTouchId = -100;\r\n\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        self._resizeEnd();\r\n\r\n        return;\r\n      }\r\n    };\r\n\r\n    // HACK\r\n    // skip 2 frames before enabling transitions\r\n    requestAnimationFrame(function () {\r\n      requestAnimationFrame(function () {\r\n        self.class!.remove('noAnimation');\r\n      });\r\n    });\r\n\r\n    // on parent change\r\n    this.on('parent', this._onParent);\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  private _resizeMove(x: number, y: number): void {\r\n    if (this._resizeData.end === 0) {\r\n      this._resizeData = {\r\n        x: x,\r\n        y: y,\r\n        width: this.innerElement!.clientWidth,\r\n        height: this.innerElement!.clientHeight,\r\n        end: 1\r\n      };\r\n    } else {\r\n      if (this._handle === 'left' || this._handle === 'right') {\r\n        // horizontal\r\n        let offsetX = this._resizeData.x - x;\r\n\r\n        if (this._handle === 'right')\r\n          offsetX = -offsetX;\r\n\r\n        let width = Math.max(this._resizeLimits.min, Math.min(this._resizeLimits.max, (this._resizeData.width + offsetX)));\r\n\r\n        this.style!.width = (width + 4) + 'px';\r\n        this.innerElement!.style.width = (width + 4) + 'px';\r\n      } else {\r\n        // vertical\r\n        let offsetY = this._resizeData.y - y;\r\n\r\n        if (this._handle === 'bottom')\r\n          offsetY = -offsetY;\r\n\r\n        let height = Math.max(this._resizeLimits.min, Math.min(this._resizeLimits.max, (this._resizeData.height + offsetY)));\r\n\r\n        this.style!.height = (height + (this.headerSize === -1 ? 0 : this.headerSize || 32)) + 'px';\r\n        this.innerElement!.style.height = height + 'px';\r\n      }\r\n    }\r\n\r\n    this.emit('resize');\r\n  };\r\n\r\n  private _resizeEnd(): void {\r\n    window.removeEventListener('mousemove', this._resizeEvtMove, false);\r\n    window.removeEventListener('mouseup', this._resizeEvtEnd, false);\r\n\r\n    // window.removeEventListener('touchmove', this._resizeEvtTouchMove, false);\r\n    // window.removeEventListener('touchend', this._resizeEvtTouchEnd, false);\r\n\r\n    this.class!.remove('noAnimation', 'resizing');\r\n    this._resizeData.end = 0;\r\n  };\r\n\r\n  private _resizeStart(evt: Event): void {\r\n    if (this._handle === '')\r\n      return;\r\n    if ((<TouchEvent>evt).changedTouches) {\r\n      for (let i = 0; i < (<TouchEvent>evt).changedTouches.length; i++) {\r\n        let touch = (<TouchEvent>evt).changedTouches[i];\r\n        if (<HTMLElement>touch.target !== this.element)\r\n          continue;\r\n\r\n        this._resizeTouchId = touch.identifier;\r\n      }\r\n    }\r\n\r\n    this.class!.add('noAnimation', 'resizing');\r\n    this._resizeData.end = 0;\r\n\r\n    window.addEventListener('mousemove', this._resizeEvtMove, false);\r\n    window.addEventListener('mouseup', this._resizeEvtEnd, false);\r\n\r\n    window.addEventListener('touchmove', this._resizeEvtTouchMove, false);\r\n    window.addEventListener('touchend', this._resizeEvtTouchEnd, false);\r\n\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n  };\r\n\r\n  private _onParent(): void {\r\n    // HACK\r\n    // wait till DOM parses, then reflow\r\n    requestAnimationFrame(this._reflow.bind(this));\r\n  };\r\n\r\n  private _reflow(): void {\r\n    if (this.hidden)\r\n      return;\r\n\r\n    if (this.folded) {\r\n      if (this.horizontal) {\r\n        this.style!.height = '';\r\n        this.style!.width = (this.headerSize || 32) + 'px';\r\n      } else {\r\n        this.style!.height = (this.headerSize || 32) + 'px';\r\n      }\r\n    } else if (this.foldable) {\r\n      if (this.horizontal) {\r\n        this.style!.height = '';\r\n        this.style!.width = this.innerElement!.clientWidth + 'px';\r\n      } else {\r\n        this.style!.height = ((this.headerSize || 32) + this.innerElement!.clientHeight) + 'px';\r\n      }\r\n    }\r\n  };\r\n\r\n  private _onNodesChanged(): void {\r\n    if (!this.foldable || this.folded || this.horizontal || this.hidden)\r\n      return;\r\n\r\n    this.style!.height = (Math.max(0, (this.headerSize || 32)) + this.innerElement!.clientHeight) + 'px';\r\n  };\r\n\r\n  public headerAppend(element: HTMLElement | Element): void {\r\n    if (!this.headerElement)\r\n      return;\r\n\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    this.headerElement.insertBefore(node, this.headerElementTitle);\r\n\r\n    if (!html)\r\n      (<Element>element).parent = this;\r\n  };\r\n\r\n  // TODO\r\n  private _onScroll(evt: any) {\r\n    this.emit('scroll', evt);\r\n  };\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class TextField extends Element {\r\n\r\n  public elementInput: HTMLInputElement;\r\n\r\n  public evtKeyChange: boolean;\r\n  public ignoreChange: boolean;\r\n  public blurOnEnter: boolean;\r\n  public refocusable: boolean;\r\n\r\n\r\n  public get value(): string {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this.elementInput.value;\r\n    }\r\n  }\r\n  public set value(val: string) {\r\n    if (this._link) {\r\n      // TODO\r\n      // if (!this._link.set(this.path, value)) {\r\n      //   this.elementInput.value = this._link.get(this.path);\r\n      // }\r\n    } else {\r\n      if (this.elementInput.value === val)\r\n        return;\r\n\r\n      this.elementInput.value = val || '';\r\n      this.emit('change', val);\r\n    }\r\n  }\r\n\r\n\r\n  public get placeholder(): string {\r\n    return this.element!.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('placeholder');\r\n    } else {\r\n      this.element!.setAttribute('placeholder', val);\r\n    }\r\n  }\r\n\r\n  public get proxy(): string {\r\n    return this.element!.getAttribute('proxy') || '';\r\n  }\r\n  public set proxy(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('proxy');\r\n    } else {\r\n      this.element!.setAttribute('proxy', val);\r\n    }\r\n  }\r\n\r\n  public get keyChange(): boolean {\r\n    return this.evtKeyChange;\r\n  }\r\n  public set keyChange(val: boolean) {\r\n    if (this.evtKeyChange === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.elementInput.addEventListener('keyup', this._onChange, false);\r\n    } else {\r\n      this.elementInput.removeEventListener('keyup', this._onChange);\r\n    }\r\n  }\r\n\r\n\r\n  public constructor(placeholder?: string, value?: string) {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-text-field');\r\n\r\n    this.elementInput = document.createElement('input');\r\n    this.elementInput.ui = this;\r\n    this.elementInput.classList.add('field');\r\n    this.elementInput.type = 'text';\r\n    this.elementInput.tabIndex = 0;\r\n    this.elementInput.addEventListener('focus', this._onInputFocus.bind(this), false);\r\n    this.elementInput.addEventListener('blur', this._onInputBlur.bind(this), false);\r\n    this.element.appendChild(this.elementInput);\r\n\r\n    if (value !== undefined)\r\n      this.value = value;\r\n\r\n    this.elementInput.addEventListener('change', this._onChange.bind(this), false);\r\n    this.elementInput.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n    this.elementInput.addEventListener('contextmenu', this._onFullSelect.bind(this), false);\r\n    this.evtKeyChange = false;\r\n    this.ignoreChange = false;\r\n\r\n    this.blurOnEnter = true;\r\n    this.refocusable = true;\r\n\r\n    this.on('disable', this._onDisable);\r\n    this.on('enable', this._onEnable);\r\n    this.on('change', this._onChangeField);\r\n\r\n    if (placeholder)\r\n      this.placeholder = placeholder;\r\n\r\n  }\r\n\r\n  public _onLinkChange(value: string): void {\r\n    this.elementInput.value = value;\r\n    this.emit('change', value);\r\n  }\r\n\r\n  private _onChange(): void {\r\n    if (this.ignoreChange) return;\r\n\r\n    this.value = this.value || '';\r\n\r\n    if (!this._link)\r\n      this.emit('change', this.value);\r\n  }\r\n\r\n  private _onKeyDown(evt: KeyboardEvent) {\r\n    if (evt.keyCode === 27) {\r\n      (<HTMLInputElement>evt.target).blur();\r\n    } else if (this.blurOnEnter && evt.keyCode === 13) {\r\n      let focused: boolean = false;\r\n\r\n      let parent: Nullable<Element> = this.parent;\r\n      while (parent) {\r\n        if (parent.element && parent.element.focus) {\r\n          parent.element.focus();\r\n          focused = true;\r\n          break;\r\n        }\r\n        parent = parent.parent;\r\n      }\r\n\r\n      if (!focused)\r\n        (<HTMLElement>evt.target).blur();\r\n    }\r\n  }\r\n\r\n  private _onFullSelect(): void {\r\n    this.elementInput.select();\r\n  }\r\n\r\n  public focus(select: boolean): void {\r\n    this.elementInput.focus();\r\n    if (select) this.elementInput.select();\r\n  }\r\n\r\n  private _onInputFocus(): void {\r\n    this.class!.add('focus');\r\n    this.emit('input:focus');\r\n  }\r\n\r\n  private _onInputBlur(): void {\r\n    this.class!.remove('focus');\r\n    this.emit('input:blur');\r\n  }\r\n\r\n  private _onDisable(): void {\r\n    this.elementInput.readOnly = true;\r\n  }\r\n\r\n  private _onEnable(): void {\r\n    this.elementInput.readOnly = false;\r\n  }\r\n\r\n  private _onChangeField(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  }\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class TextAreaField extends Element {\r\n\r\n  public elementInput: HTMLTextAreaElement;\r\n  public evtKeyChange: boolean;\r\n  public ignoreChange: boolean;\r\n  public blurOnEnter: boolean;\r\n  public refocusable: boolean;\r\n\r\n  public get value(): string {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this.elementInput.value;\r\n    }\r\n  }\r\n  public set value(val: string) {\r\n    if (this._link) {\r\n      // TODO\r\n      // if (!this._link.set(this.path, value)) {\r\n      //   this.elementInput.value = this._link.get(this.path);\r\n      // }\r\n\r\n      this._link.set(this.path, val);\r\n      this.elementInput.value = this._link.get(this.path);\r\n    } else {\r\n      if (this.elementInput.value === val)\r\n        return;\r\n\r\n      this.elementInput.value = val || '';\r\n      this.emit('change', val);\r\n    }\r\n  }\r\n\r\n  public get placeholder(): string {\r\n    return this.element!.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('placeholder');\r\n    } else {\r\n      this.element!.setAttribute('placeholder', val);\r\n    }\r\n  }\r\n\r\n  public get keyChange(): boolean {\r\n    return this.evtKeyChange;\r\n  }\r\n  public set keyChange(val: boolean) {\r\n    if (this.evtKeyChange === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.elementInput.addEventListener('keyup', this._onChange.bind(this), false);\r\n    } else {\r\n      this.elementInput.removeEventListener('keyup', this._onChange.bind(this));\r\n    }\r\n  }\r\n\r\n  public get proxy(): string {\r\n    return this.element!.getAttribute('proxy') || '';\r\n  }\r\n  public set proxy(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('proxy');\r\n    } else {\r\n      this.element!.setAttribute('proxy', val);\r\n    }\r\n  }\r\n\r\n  public constructor(placeholder?: string, value?: string, blurOnEnter?: boolean) {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-textarea-field');\r\n\r\n    this.elementInput = document.createElement('textarea');\r\n    this.elementInput.ui = this;\r\n    this.elementInput.classList.add('field');\r\n    this.elementInput.tabIndex = 0;\r\n    this.elementInput.addEventListener('focus', this._onInputFocus.bind(this), false);\r\n    this.elementInput.addEventListener('blur', this._onInputBlur.bind(this), false);\r\n    this.element.appendChild(this.elementInput);\r\n\r\n    if (value !== undefined)\r\n      this.value = value;\r\n\r\n    this.elementInput.addEventListener('change', this._onChange.bind(this), false);\r\n    this.elementInput.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n    this.elementInput.addEventListener('contextmenu', this._onFullSelect.bind(this), false);\r\n    this.evtKeyChange = false;\r\n    this.ignoreChange = false;\r\n\r\n    this.blurOnEnter = blurOnEnter !== undefined ? blurOnEnter : true;\r\n    this.refocusable = true;\r\n\r\n    this.on('disable', this._onDisable);\r\n    this.on('enable', this._onEnable);\r\n    this.on('change', this._onChangeField);\r\n\r\n    if (placeholder)\r\n      this.placeholder = placeholder;\r\n\r\n  }\r\n\r\n  private _onChange(): void {\r\n    if (this.ignoreChange) return;\r\n\r\n    this.value = this.value || '';\r\n\r\n    if (!this._link)\r\n      this.emit('change', this.value);\r\n  }\r\n\r\n  private _onKeyDown(evt: KeyboardEvent): void {\r\n    if (evt.keyCode === 27) {\r\n      (<HTMLElement>evt.target).blur();\r\n    } else if (this.blurOnEnter && evt.keyCode === 13 && !evt.shiftKey) {\r\n      let focused: boolean = false;\r\n\r\n      let parent: Nullable<Element> = this.parent;\r\n      while (parent) {\r\n        if (parent.element && parent.element.focus) {\r\n          parent.element.focus();\r\n          focused = true;\r\n          break;\r\n        }\r\n        parent = parent.parent;\r\n      }\r\n\r\n      if (!focused)\r\n        (<HTMLElement>evt.target).blur();\r\n    }\r\n  }\r\n\r\n  private _onFullSelect(): void {\r\n    this.elementInput.select();\r\n  }\r\n\r\n  private _onInputFocus(): void {\r\n    this.class!.add('focus');\r\n    this.emit('input:focus');\r\n  }\r\n\r\n  private _onInputBlur(): void {\r\n    this.class!.remove('focus');\r\n    this.emit('input:blur');\r\n  }\r\n\r\n  private _onDisable(): void {\r\n    this.elementInput.readOnly = true;\r\n  }\r\n\r\n  private _onEnable() {\r\n    this.elementInput.readOnly = false;\r\n  }\r\n\r\n  private _onChangeField(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n  public focus(select: boolean) {\r\n    this.elementInput.focus();\r\n    if (select) this.elementInput.select();\r\n  }\r\n\r\n  public _onLinkChange(value: string) {\r\n    this.elementInput.value = value;\r\n    this.emit('change', value);\r\n  }\r\n\r\n\r\n\r\n}","import { ContainerElement } from \"./container-element\";\r\n\r\nexport class Tooltip extends ContainerElement {\r\n\r\n  public arrow: HTMLElement;\r\n  public hoverable: boolean;\r\n  public x: number;\r\n  public y: number;\r\n\r\n  private _align: string;\r\n  public get align(): string {\r\n    return this._align;\r\n  }\r\n  public set align(val: string) {\r\n    if (this._align === val)\r\n      return;\r\n\r\n    this.class!.remove('align-' + this._align);\r\n    this._align = val;\r\n    this.class!.add('align-' + this._align);\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get html(): string {\r\n    return this.innerElement!.innerHTML;\r\n  }\r\n  public set html(val: string) {\r\n    if (this.innerElement!.innerHTML === val)\r\n      return;\r\n\r\n    this.innerElement!.innerHTML = val;\r\n  }\r\n\r\n  public get text(): string {\r\n    return this.innerElement!.textContent || '';\r\n  }\r\n  public set text(val: string) {\r\n    if (this.innerElement!.textContent === val)\r\n      return;\r\n\r\n    this.innerElement!.textContent = val;\r\n  }\r\n\r\n  public get flip(): boolean {\r\n    return this.class!.contains('flip');\r\n  }\r\n  public set flip(val: boolean) {\r\n    if (this.class!.contains('flip') === val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.class!.add('flip');\r\n    } else {\r\n      this.class!.remove('flip');\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public constructor(args?: TooltipArgs) {\r\n    super();\r\n    args = args || {};\r\n    let self = this;\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-tooltip', 'align-left');\r\n\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.classList.add('inner');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n    this.arrow = document.createElement('div');\r\n    this.arrow.classList.add('arrow');\r\n    this.element.appendChild(this.arrow);\r\n\r\n    this.hoverable = args.hoverable || false;\r\n    this.x = args.x || 0;\r\n    this.y = args.y || 0;\r\n    this._align = 'left';\r\n    this.align = args.align || 'left';\r\n\r\n    this.on('show', this._reflow);\r\n    this.hidden = args.hidden !== undefined ? args.hidden : true;\r\n    if (args.html) {\r\n      this.html = args.html;\r\n    } else {\r\n      this.text = args.text || '';\r\n    }\r\n\r\n    this.element.addEventListener('mouseover', this._onMouseOver.bind(this), false);\r\n    this.element.addEventListener('mouseleave', this._onMouseLeave.bind(this), false);\r\n\r\n  }\r\n\r\n  private _onMouseOver(evt: MouseEvent): void {\r\n    if (!this.hoverable)\r\n      return;\r\n\r\n    this.hidden = false;\r\n    this.emit('hover', evt);\r\n  }\r\n\r\n  private _onMouseLeave(): void {\r\n    if (!this.hoverable)\r\n      return;\r\n\r\n    this.hidden = true;\r\n  }\r\n\r\n  public position(x: number, y: number): void {\r\n    x = Math.floor(x);\r\n    y = Math.floor(y);\r\n\r\n    if (this.x === x && this.y === y)\r\n      return;\r\n\r\n    this.x = x;\r\n    this.y = y;\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  private _reflow(): void {\r\n    if (this.hidden)\r\n      return;\r\n\r\n    this.element!.style.top = '';\r\n    this.element!.style.right = '';\r\n    this.element!.style.bottom = '';\r\n    this.element!.style.left = '';\r\n\r\n    this.arrow.style.top = '';\r\n    this.arrow.style.right = '';\r\n    this.arrow.style.bottom = '';\r\n    this.arrow.style.left = '';\r\n\r\n    this.element!.style.display = 'block';\r\n\r\n    // alignment\r\n    switch (this._align) {\r\n      case 'top':\r\n        this.element!.style.top = this.y + 'px';\r\n        if (this.flip) {\r\n          this.element!.style.right = 'calc(100% - ' + this.x + 'px)';\r\n        } else {\r\n          this.element!.style.left = this.x + 'px';\r\n        }\r\n        break;\r\n      case 'right':\r\n        this.element!.style.top = this.y + 'px';\r\n        this.element!.style.right = 'calc(100% - ' + this.x + 'px)';\r\n        break;\r\n      case 'bottom':\r\n        this.element!.style.bottom = 'calc(100% - ' + this.y + 'px)';\r\n        if (this.flip) {\r\n          this.element!.style.right = 'calc(100% - ' + this.x + 'px)';\r\n        } else {\r\n          this.element!.style.left = this.x + 'px';\r\n        }\r\n        break;\r\n      case 'left':\r\n        this.element!.style.top = this.y + 'px';\r\n        this.element!.style.left = this.x + 'px';\r\n        break;\r\n    }\r\n\r\n    // limit to screen bounds\r\n    let rect = this.element!.getBoundingClientRect();\r\n\r\n    if (rect.left < 0) {\r\n      this.element!.style.left = '0px';\r\n      this.element!.style.right = '';\r\n    }\r\n    if (rect.top < 0) {\r\n      this.element!.style.top = '0px';\r\n      this.element!.style.bottom = '';\r\n    }\r\n    if (rect.right > window.innerWidth) {\r\n      this.element!.style.right = '0px';\r\n      this.element!.style.left = '';\r\n      this.arrow.style.left = Math.floor(rect.right - window.innerWidth + 8) + 'px';\r\n    }\r\n    if (rect.bottom > window.innerHeight) {\r\n      this.element!.style.bottom = '0px';\r\n      this.element!.style.top = '';\r\n      this.arrow.style.top = Math.floor(rect.bottom - window.innerHeight + 8) + 'px';\r\n    }\r\n\r\n    this.element!.style.display = '';\r\n  }\r\n\r\n  public evtHover(): void {\r\n\r\n  }\r\n\r\n  public evtBlur(): void {\r\n\r\n  }\r\n\r\n\r\n  public static attach(args: TooltipArgs): Tooltip {\r\n    let data: TooltipArgs = {\r\n      align: args.align,\r\n      hoverable: args.hoverable\r\n    }\r\n\r\n    if (args.html) {\r\n      data.html = args.html;\r\n    } else {\r\n      data.text = args.text || '';\r\n    }\r\n\r\n    let item: Tooltip = new Tooltip(data);\r\n\r\n    item.evtHover = function () {\r\n      let rect = args.target!.getBoundingClientRect();\r\n      let off = 16;\r\n\r\n      switch (item.align) {\r\n        case 'top':\r\n          if (rect.width < 64) off = rect.width / 2;\r\n          item.flip = rect.left + off > window.innerWidth / 2;\r\n          if (item.flip) {\r\n            item.position(rect.right - off, rect.bottom);\r\n          } else {\r\n            item.position(rect.left + off, rect.bottom);\r\n          }\r\n          break;\r\n        case 'right':\r\n          if (rect.height < 64) off = rect.height / 2;\r\n          item.flip = false;\r\n          item.position(rect.left, rect.top + off);\r\n          break;\r\n        case 'bottom':\r\n          if (rect.width < 64) off = rect.width / 2;\r\n          item.flip = rect.left + off > window.innerWidth / 2;\r\n          if (item.flip) {\r\n            item.position(rect.right - off, rect.top);\r\n          } else {\r\n            item.position(rect.left + off, rect.top);\r\n          }\r\n          break;\r\n        case 'left':\r\n          if (rect.height < 64) off = rect.height / 2;\r\n          item.flip = false;\r\n          item.position(rect.right, rect.top + off);\r\n          break;\r\n      }\r\n\r\n      item.hidden = false;\r\n    };\r\n\r\n    item.evtBlur = function () {\r\n      item.hidden = true;\r\n    };\r\n\r\n    args.target!.addEventListener('mouseover', item.evtHover, false);\r\n    args.target!.addEventListener('mouseout', item.evtBlur, false);\r\n\r\n    item.on('destroy', function () {\r\n      args.target!.removeEventListener('mouseover', item.evtHover);\r\n      args.target!.removeEventListener('mouseout', item.evtBlur);\r\n    });\r\n\r\n    args.root!.append(item);\r\n\r\n    return item;\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport interface TooltipArgs {\r\n\r\n  target?: HTMLElement;\r\n  text?: string;\r\n  align?: string;\r\n  root?: ContainerElement;\r\n  hoverable?: boolean;\r\n  html?: string;\r\n  x?: number;\r\n  y?: number;\r\n  hidden?: boolean;\r\n\r\n}","import { Element } from \"./element\";\r\nimport { Tree } from \"./tree\";\r\nimport { TextField } from \"./text-field\";\r\n\r\nexport class TreeItem extends Element {\r\n\r\n  public tree: Nullable<Tree>;\r\n\r\n  public elementTitle: HTMLElement;\r\n  public elementIcon: HTMLElement;\r\n  public elementText: HTMLElement;\r\n\r\n  public _children: number;\r\n  public selectable: boolean;\r\n\r\n  public _onMouseUp: any;\r\n  private _dragRelease: any;\r\n\r\n  private _dragging: boolean;\r\n  private _allowDrop: boolean;\r\n\r\n  public _dragId: number = -1;\r\n\r\n  public get selected(): boolean {\r\n    return this.class!.contains('selected');\r\n  }\r\n  public set selected(val: boolean) {\r\n    if (this.class!.contains('selected') === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.class!.add('selected');\r\n\r\n      this.emit('select');\r\n      if (this.tree)\r\n        this.tree.emit('select', this);\r\n\r\n    } else {\r\n      this.class!.remove('selected');\r\n\r\n      this.emit('deselect');\r\n      if (this.tree)\r\n        this.tree.emit('deselect', this);\r\n    }\r\n  }\r\n\r\n  public get text(): string {\r\n    return this.elementText.textContent || '';\r\n  }\r\n  public set text(val: string) {\r\n    if (this.elementText.textContent === val)\r\n      return;\r\n    this.elementText.textContent = val;\r\n  }\r\n\r\n  public get open(): boolean {\r\n    return this.class!.contains('open');\r\n  }\r\n  public set open(val: boolean) {\r\n    if (this.class!.contains('open') === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.class!.add('open');\r\n      this.emit('open');\r\n      this.tree!.emit('open', this);\r\n    } else {\r\n      this.class!.remove('open');\r\n      this.emit('close');\r\n      this.tree!.emit('close', this);\r\n    }\r\n  }\r\n\r\n  public get prev(): Nullable<TreeItem> {\r\n    if ((<HTMLElement>this.element).previousElementSibling && (<HTMLElement>(<HTMLElement>this.element).previousElementSibling).ui && (<HTMLElement>(<HTMLElement>this.element).previousElementSibling).ui instanceof TreeItem) {\r\n      return (<TreeItem>(<HTMLElement>(<HTMLElement>this.element).previousElementSibling).ui);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public get next(): Nullable<TreeItem> {\r\n    if ((<HTMLElement>this.element).nextElementSibling && (<HTMLElement>(<HTMLElement>this.element).nextElementSibling).ui && (<HTMLElement>(<HTMLElement>this.element).nextElementSibling).ui instanceof TreeItem) {\r\n      return (<TreeItem>(<HTMLElement>(<HTMLElement>this.element).nextElementSibling).ui);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  public get allowDrop(): boolean {\r\n    return this._allowDrop;\r\n  }\r\n  public set allowDrop(val: boolean) {\r\n    this._allowDrop = val;\r\n  }\r\n\r\n\r\n  public constructor(args: TreeItemArgs) {\r\n    super();\r\n\r\n    let self = this;\r\n    args = args || {};\r\n\r\n    this.tree = null;\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-tree-item');\r\n\r\n    if (args.classList) {\r\n      args.classList.forEach(function (className: string): void {\r\n        self.element!.classList.add(className);\r\n      }, this);\r\n    }\r\n\r\n    this.elementTitle = document.createElement('div');\r\n    this.elementTitle.classList.add('title');\r\n    this.elementTitle.draggable = true;\r\n    this.elementTitle.tabIndex = 0;\r\n    this.elementTitle.ui = this;\r\n    this.element.appendChild(this.elementTitle);\r\n\r\n    this.elementIcon = document.createElement('span');\r\n    this.elementIcon.classList.add('icon');\r\n    this.elementTitle.appendChild(this.elementIcon);\r\n\r\n    this.elementText = document.createElement('span');\r\n    this.elementText.textContent = args.text || '';\r\n    this.elementText.classList.add('text');\r\n    this.elementTitle.appendChild(this.elementText);\r\n\r\n    this._children = 0;\r\n    this.selectable = true;\r\n\r\n    this._onMouseUp = function (evt: MouseEvent) {\r\n      window.removeEventListener('mouseup', self._dragRelease);\r\n      self._dragRelease = null;\r\n\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n\r\n      self._dragging = false;\r\n      self.emit('dragend');\r\n    };\r\n\r\n    this.elementTitle.addEventListener('click', this._onClick, false);\r\n    this.elementTitle.addEventListener('dblclick', this._onDblClick, false);\r\n\r\n    this._dragRelease = null;\r\n    this._dragging = false;\r\n    this._allowDrop = (args.allowDrop !== undefined ? !!args.allowDrop : true);\r\n\r\n    this.elementTitle.addEventListener('mousedown', this._onMouseDown, false);\r\n    this.elementTitle.addEventListener('dragstart', this._onDragStart, false);\r\n    this.elementTitle.addEventListener('mouseover', this._onMouseOver, false);\r\n\r\n    this.on('destroy', this._onDestroy);\r\n    this.on('append', this._onAppend);\r\n    this.on('remove', this._onRemove);\r\n    this.on('select', this._onSelect);\r\n    this.on('deselect', this._onDeselect);\r\n\r\n    this.elementTitle.addEventListener('keydown', this._onKeyDown, false);\r\n\r\n\r\n  }\r\n\r\n  // TODO\r\n  public child(index: number): HTMLElement {\r\n    return <HTMLElement>this.element!.children[index + 1];\r\n  };\r\n\r\n  private _onClick(evt: MouseEvent): void {\r\n    let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n    // 可能点击title或者title子项\r\n    if (!(<TreeItem>htmlEle.ui)) {\r\n      if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n        htmlEle = htmlEle.parentElement;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (evt.button !== 0 || !(<TreeItem>htmlEle.ui).selectable)\r\n      return;\r\n\r\n    let rect = htmlEle.getBoundingClientRect();\r\n\r\n    if ((<TreeItem>htmlEle.ui)._children && (evt.clientX - rect.left) < 0) {\r\n      (<TreeItem>htmlEle.ui).open = !(<TreeItem>htmlEle.ui).open;\r\n    } else {\r\n      (<TreeItem>htmlEle.ui).tree!._onItemClick((<TreeItem>htmlEle.ui));\r\n      evt.stopPropagation();\r\n    }\r\n  };\r\n\r\n  private _onDblClick(evt: MouseEvent): void {\r\n    let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n    // 可能点击title或者title子项\r\n    if (!(<TreeItem>htmlEle.ui)) {\r\n      if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n        htmlEle = htmlEle.parentElement;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!(<TreeItem>htmlEle.ui).tree!.allowRenaming || evt.button !== 0)\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    let rect = htmlEle.getBoundingClientRect();\r\n\r\n    if ((<TreeItem>htmlEle.ui)._children && (evt.clientX - rect.left) < 0) {\r\n      return;\r\n    } else {\r\n      (<TreeItem>htmlEle.ui)._onRename(true);\r\n    }\r\n  };\r\n\r\n  private _onMouseDown(evt: MouseEvent): void {\r\n    let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n    // 可能点击title或者title子项\r\n    if (!(<TreeItem>htmlEle.ui)) {\r\n      if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n        htmlEle = htmlEle.parentElement;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    if ((<TreeItem>htmlEle.ui).tree && !(<TreeItem>htmlEle.ui).tree!.draggable)\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n\r\n  };\r\n\r\n  private _onDragStart = function (evt: MouseEvent): void {\r\n    let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n    \r\n    // 可能点击title或者title子项\r\n    if (!(<TreeItem>htmlEle.ui)) {\r\n      if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n        htmlEle = htmlEle.parentElement;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!(<TreeItem>htmlEle.ui).tree!.draggable) {\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n      return;\r\n    }\r\n\r\n    (<TreeItem>htmlEle.ui)._dragging = true;\r\n\r\n    if ((<TreeItem>htmlEle.ui)._dragRelease)\r\n      window.removeEventListener('mouseup', (<TreeItem>htmlEle.ui)._dragRelease);\r\n\r\n    (<TreeItem>htmlEle.ui)._dragRelease = (<TreeItem>htmlEle.ui)._onMouseUp;\r\n    window.addEventListener('mouseup', (<TreeItem>htmlEle.ui)._dragRelease, false);\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n\r\n    console.log('drag start');\r\n\r\n    (<TreeItem>htmlEle.ui).emit('dragstart');\r\n  };\r\n\r\n  private _onMouseOver(evt: MouseEvent): void {\r\n    let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n    // 可能点击title或者title子项\r\n    if (!(<TreeItem>htmlEle.ui)) {\r\n      if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n        htmlEle = htmlEle.parentElement;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    evt.stopPropagation();\r\n    (<TreeItem>htmlEle.ui).emit('mouseover', evt);\r\n\r\n  };\r\n\r\n\r\n  private _onSelect(): void {\r\n    this.elementTitle.focus();\r\n  };\r\n\r\n  private _onDeselect(): void {\r\n    this.elementTitle.blur();\r\n  };\r\n\r\n\r\n  private _onKeyDown(evt: KeyboardEvent) {\r\n    let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n    if (!(<TreeItem>htmlEle.ui)) return;\r\n\r\n    let currentItem: TreeItem = <TreeItem>htmlEle.ui;\r\n\r\n    if ((evt.target && htmlEle.tagName.toLowerCase() === 'input'))\r\n      return;\r\n\r\n    if ([9, 38, 40, 37, 39].indexOf(evt.keyCode) === -1)\r\n      return;\r\n\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n\r\n    let selectedItem: Nullable<TreeItem> = null;\r\n    let item: Nullable<TreeItem> = null;\r\n    switch (evt.keyCode) {\r\n      case 9: // tab\r\n        break;\r\n      case 40: // down\r\n        let downItem = currentItem.element!.nextElementSibling;\r\n        if (downItem)\r\n          item = <TreeItem>(<HTMLElement>downItem).ui;\r\n\r\n        if (currentItem._children && currentItem.open) {\r\n          let first = currentItem.element!.firstElementChild!.nextElementSibling;\r\n          if (first && (<HTMLElement>first).ui) {\r\n            selectedItem = <TreeItem>(<HTMLElement>first).ui;\r\n            // first.ui.selected = true;\r\n          } else if (item) {\r\n            selectedItem = item;\r\n            // item.selected = true;\r\n          }\r\n        } else if (item) {\r\n          selectedItem = item;\r\n          // item.selected = true;\r\n        } else if (currentItem.parent && currentItem.parent instanceof TreeItem) {\r\n          let parent: Nullable<TreeItem> = currentItem.parent;\r\n\r\n          let findNext = function (from: TreeItem): Nullable<TreeItem> {\r\n            let next = from.next;\r\n            if (next) {\r\n              selectedItem = next;\r\n              // next.selected = true;\r\n            } else if (from.parent instanceof TreeItem) {\r\n              return from.parent;\r\n            }\r\n            return null;\r\n          };\r\n          parent = findNext(parent);\r\n          while (parent) {\r\n            parent = findNext(parent);\r\n          }\r\n        }\r\n        break;\r\n      case 38: // up\r\n        let itemUp = currentItem.element!.previousElementSibling;\r\n        if (itemUp)\r\n          item = <TreeItem>(<HTMLElement>itemUp).ui;\r\n\r\n        if (item) {\r\n          if (item._children && item.open && item !== currentItem.parent) {\r\n            let lastItem = item.element!.lastElementChild;\r\n            let last: Nullable<TreeItem> = null;\r\n            if (lastItem && (<HTMLElement>lastItem).ui)\r\n              last = <TreeItem>(<HTMLElement>lastItem).ui;\r\n\r\n            if (last) {\r\n              let findLast = function (inside: TreeItem): Nullable<TreeItem> {\r\n                if (inside._children && inside.open) {\r\n                  if (inside.element!.lastElementChild && (<HTMLElement>inside.element!.lastElementChild).ui) {\r\n                    return <TreeItem>(<HTMLElement>inside.element!.lastElementChild).ui;\r\n                  }\r\n                  return null;\r\n                } else {\r\n                  return null;\r\n                }\r\n              }\r\n\r\n              let found: boolean = false;\r\n              while (!found) {\r\n                let deeper: Nullable<TreeItem> = findLast(last);\r\n                if (deeper) {\r\n                  last = deeper\r\n                } else {\r\n                  found = true;\r\n                }\r\n              }\r\n\r\n              selectedItem = last;\r\n              // last.selected = true;\r\n            } else {\r\n              selectedItem = item;\r\n              // item.selected = true;\r\n            }\r\n          } else {\r\n            selectedItem = item;\r\n            // item.selected = true;\r\n          }\r\n        } else if (currentItem.parent && currentItem.parent instanceof TreeItem) {\r\n          selectedItem = currentItem.parent;\r\n          // this.ui.parent.selected = true;\r\n        }\r\n\r\n        break;\r\n      case 37: // left (close)\r\n        if (currentItem.parent !== currentItem.tree && currentItem.open)\r\n          currentItem.open = false;\r\n        break;\r\n      case 39: // right (open)\r\n        if (currentItem._children && !currentItem.open)\r\n          currentItem.open = true;\r\n        break;\r\n    }\r\n\r\n    if (selectedItem) {\r\n      if (!(Tree._ctrl && Tree._ctrl()) && !(Tree._shift && Tree._shift()))\r\n        currentItem.tree!.clear();\r\n      selectedItem.selected = true;\r\n    }\r\n  }\r\n\r\n  // TODO,关联En\r\n  private _onRename(select: boolean): void {\r\n    if (select) {\r\n      this.tree!.clear();\r\n      this.tree!._onItemClick(this);\r\n    }\r\n\r\n    var self = this;\r\n    this.class!.add('rename');\r\n    console.log('rename');\r\n    // add remaning field\r\n    var field = new TextField();\r\n    field.parent = this;\r\n    field.renderChanges = false;\r\n    field.value = this.text;\r\n    field.elementInput.readOnly = !this.tree!.allowRenaming;\r\n    field.elementInput.addEventListener('blur', function () {\r\n      field.destroy();\r\n      self.class!.remove('rename');\r\n    }, false);\r\n    field.on('click', function (evt: MouseEvent) {\r\n      evt.stopPropagation();\r\n    });\r\n    field.element!.addEventListener('dblclick', function (evt) {\r\n      evt.stopPropagation();\r\n    });\r\n    field.on('change', function (value: string) {\r\n      value = value.trim();\r\n      if (value) {\r\n        // TODO\r\n        // if (self.entity) {\r\n        //   self.entity.set('name', value);\r\n        // }\r\n\r\n        self.emit('rename', value);\r\n      }\r\n\r\n      field.destroy();\r\n      self.class!.remove('rename');\r\n    });\r\n    this.elementTitle.appendChild(field.element!);\r\n    field.elementInput.focus();\r\n    field.elementInput.select();\r\n  }\r\n\r\n  private _onDestroy(): void {\r\n    this.elementTitle.removeEventListener('click', this._onClick);\r\n    this.elementTitle.removeEventListener('dblclick', this._onDblClick);\r\n    this.elementTitle.removeEventListener('mousedown', this._onMouseDown);\r\n    this.elementTitle.removeEventListener('dragstart', this._onDragStart);\r\n    this.elementTitle.removeEventListener('mouseover', this._onMouseOver);\r\n    this.elementTitle.removeEventListener('keydown', this._onKeyDown);\r\n  }\r\n\r\n  private _onAppend(item: TreeItem): void {\r\n    if (this.parent)\r\n      this.parent.emit('append', item);\r\n  }\r\n\r\n  private _onRemove(item: TreeItem): void {\r\n    if (this.parent)\r\n      this.parent.emit('remove', item);\r\n  }\r\n\r\n\r\n  public focus(): void {\r\n    this.elementTitle.focus();\r\n  }\r\n\r\n  public append(item: TreeItem): void {\r\n    if (this._children === 1) {\r\n      this.element!.children[1].classList.remove('single');\r\n    }\r\n\r\n    item.parent = this;\r\n    this.element!.appendChild(item.element!);\r\n    this._children++;\r\n\r\n    if (this._children === 1) {\r\n      item.class!.add('single');\r\n      this.class!.add('container');\r\n    } else if (this._children > 1) {\r\n      item.class!.remove('single');\r\n    }\r\n\r\n    let appendChildren = function (treeItem: TreeItem): void {\r\n      treeItem.emit('append', treeItem);\r\n\r\n      if (treeItem._children) {\r\n        for (let i = 1; i < treeItem.element!.children.length; i++) {\r\n          appendChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n        }\r\n      }\r\n    };\r\n    appendChildren(item);\r\n  }\r\n\r\n  public appendBefore(item: TreeItem, referenceItem: TreeItem): void {\r\n    if (this._children === 1) {\r\n      this.element!.children[1].classList.remove('single');\r\n    }\r\n\r\n    item.parent = this;\r\n    this.element!.insertBefore(item.element!, referenceItem.element);\r\n    this._children++;\r\n\r\n    if (this._children === 1) {\r\n      item.class!.add('single');\r\n      this.class!.add('container');\r\n    } else if (this._children > 1) {\r\n      item.class!.remove('single');\r\n    }\r\n\r\n    var appendChildren = function (treeItem: TreeItem): void {\r\n      treeItem.emit('append', treeItem);\r\n\r\n      if (treeItem._children) {\r\n        for (var i = 1; i < treeItem.element!.children.length; i++) {\r\n          appendChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n        }\r\n      }\r\n    };\r\n    appendChildren(item);\r\n  }\r\n\r\n  public appendAfter(item: TreeItem, referenceItem: TreeItem): void {\r\n    item.parent = this;\r\n\r\n    // might be last\r\n    if (!referenceItem)\r\n      this.append(item);\r\n\r\n    this.element!.insertBefore(item.element!, referenceItem.element!.nextElementSibling);\r\n    this._children++;\r\n\r\n    if (this._children === 1) {\r\n      item.class!.add('single');\r\n      this.class!.add('container');\r\n    } else if (this._children === 2) {\r\n      this.element!.children[1].classList.remove('single');\r\n    }\r\n\r\n    var appendChildren = function (treeItem: TreeItem): void {\r\n      treeItem.emit('append', treeItem);\r\n\r\n      if (treeItem._children) {\r\n        for (var i = 1; i < treeItem.element!.children.length; i++) {\r\n          appendChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n        }\r\n      }\r\n    };\r\n    appendChildren(item);\r\n  }\r\n\r\n\r\n  public remove(item: TreeItem): void {\r\n    if (!this._children || !this.element!.contains(item.element))\r\n      return;\r\n\r\n    this.element!.removeChild(item.element!);\r\n    this._children--;\r\n\r\n    if (this._children === 0) {\r\n      this.class!.remove('container');\r\n    } else if (this._children === 1 && this.element!.children.length > 2) {\r\n      this.element!.children[1].classList.add('single');\r\n    }\r\n\r\n    let removeChildren = function (treeItem: TreeItem): void {\r\n      treeItem.emit('remove', treeItem);\r\n\r\n      if (treeItem._children) {\r\n        for (let i: number = 1; i < treeItem.element!.children.length; i++) {\r\n          if ((<HTMLElement>treeItem.element!.children[i]).ui && (<HTMLElement>treeItem.element!.children[i]).ui instanceof TreeItem) {\r\n            removeChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    removeChildren(item);\r\n  }\r\n}","import { ContainerElement } from \"./container-element\";\r\nimport { TreeItem } from \"./tree-item\";\r\nimport { Hotkeys } from \"../editor\";\r\nimport { Element } from \"./element\";\r\n\r\nexport class Tree extends ContainerElement {\r\n\r\n  private elementDrag: HTMLElement;\r\n  public draggable: boolean;\r\n  public _dragging: boolean;\r\n  public _dragItems: TreeItem[] = [];\r\n  public _dragOver: Nullable<TreeItem>;\r\n  private _dragArea: string;\r\n  private _evtDragMove: any;\r\n  public reordering: boolean;\r\n  public dragInstant: boolean;\r\n  private _selected: TreeItem[] = [];\r\n\r\n  public allowRenaming: boolean = true;\r\n\r\n  public get selected(): TreeItem[] {\r\n    return this._selected.slice(0);\r\n  }\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-tree');\r\n\r\n\r\n    this.elementDrag = document.createElement('div');\r\n    this.elementDrag.classList.add('drag-handle');\r\n    this.element.appendChild(this.elementDrag);\r\n\r\n    let self = this;\r\n    this.elementDrag.addEventListener('mousemove', function (evt: MouseEvent): void {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n\r\n      self._onDragMove(evt);\r\n    });\r\n    this.element.addEventListener('mouseleave', function (evt: MouseEvent): void {\r\n      self._onDragOut();\r\n    });\r\n\r\n    this.on('select', this._onSelect);\r\n    this.on('deselect', this._onDeselect);\r\n    this.on('append', this._onAppend);\r\n    this.on('remove', this._onRemove);\r\n\r\n    this.draggable = true;\r\n    this._dragging = false;\r\n    this._dragItems = [];\r\n    this._dragOver = null;\r\n    this._dragArea = 'inside';\r\n    this._evtDragMove = null;\r\n    this.reordering = true;\r\n    this.dragInstant = true;\r\n\r\n    this._selected = [];\r\n\r\n  }\r\n\r\n  public static _ctrl(): boolean {\r\n    return Hotkeys.ctrl;\r\n  }\r\n\r\n  public static _shift(): boolean {\r\n    return Hotkeys.shift;\r\n  }\r\n\r\n\r\n  private _onDragMove(evt: MouseEvent): void {\r\n    if (!this.draggable)\r\n      return;\r\n\r\n    this._hoverCalculate(evt);\r\n    this.emit('dragmove', evt);\r\n  }\r\n\r\n  private _hoverCalculate(evt: MouseEvent): void {\r\n    if (!this.draggable || !this._dragOver)\r\n      return;\r\n\r\n    let rect = this.elementDrag.getBoundingClientRect();\r\n    let area: number = Math.floor((evt.clientY - rect.top) / rect.height * 5);\r\n\r\n    let oldArea = this._dragArea;\r\n    let oldDragOver = this._dragOver;\r\n\r\n    if (this._dragOver.parent === this) {\r\n      let parent = false;\r\n      for (let i = 0; i < this._dragItems.length; i++) {\r\n        if (this._dragItems[i].parent === this._dragOver) {\r\n          parent = true;\r\n          this._dragOver = null;\r\n          break;\r\n        }\r\n      }\r\n      if (!parent)\r\n        this._dragArea = 'inside';\r\n    } else {\r\n      // check if we are trying to drag item inside any of its children\r\n      let invalid = false;\r\n      for (let i = 0; i < this._dragItems.length; i++) {\r\n        let parent = this._dragOver.parent;\r\n        while (parent) {\r\n          if (parent === this._dragItems[i]) {\r\n            invalid = true;\r\n            break;\r\n          }\r\n\r\n          parent = parent.parent;\r\n        }\r\n      }\r\n\r\n      if (invalid) {\r\n        this._dragOver = null;\r\n      } else if (this.reordering && area <= 1 && this._dragItems.indexOf(this._dragOver.prev!) === -1) {\r\n        this._dragArea = 'before';\r\n      } else if (this.reordering && area >= 4 && this._dragItems.indexOf(this._dragOver.next!) === -1 && (this._dragOver._children === 0 || !this._dragOver.open)) {\r\n        this._dragArea = 'after';\r\n      } else {\r\n        let parent = false;\r\n        if (this.reordering && this._dragOver.open) {\r\n          for (let i = 0; i < this._dragItems.length; i++) {\r\n            if (this._dragItems[i].parent === this._dragOver) {\r\n              parent = true;\r\n              this._dragArea = 'before';\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (!parent)\r\n          this._dragArea = 'inside';\r\n      }\r\n    }\r\n\r\n    if (oldArea !== this._dragArea || oldDragOver !== this._dragOver)\r\n      this._updateDragHandle();\r\n  }\r\n\r\n\r\n  public _onItemClick(item: TreeItem): void {\r\n    if (Tree._ctrl && Tree._ctrl()) {\r\n      // 按住ctrl键，针对某个item，按第1次选中，按第2次取消选中\r\n      item.selected = !item.selected;\r\n    } else if (Tree._shift && Tree._shift() && this._selected.length) {\r\n      // shift按住以后，往上往下都可进行选择，不断添加选择项，不减少\r\n      let from: TreeItem = this._selected[this._selected.length - 1];\r\n      let to: TreeItem = item;\r\n\r\n      let up: TreeItem[] = [];\r\n      let down: TreeItem[] = [];\r\n\r\n      let prev = function (refItem: TreeItem): Nullable<TreeItem> {\r\n        if (!refItem) return null;\r\n        let result: Nullable<TreeItem> = null;\r\n        let prevItem = refItem.element!.previousElementSibling;\r\n        let item: Nullable<TreeItem> = null;\r\n        if (prevItem) item = <TreeItem>(<HTMLElement>prevItem).ui;\r\n\r\n        if (item) {\r\n          if (refItem.parent && refItem.parent === item && refItem.parent instanceof TreeItem) {\r\n            result = refItem.parent;\r\n          } else if (item.open && item._children) {  // 没有open貌似就没有选中\r\n            // element above is open, find last available element\r\n            let lastItem = item.element!.lastElementChild;\r\n            let last: Nullable<TreeItem> = null;\r\n            if (lastItem && (<HTMLElement>lastItem).ui)\r\n              last = <TreeItem>(<HTMLElement>lastItem).ui;\r\n\r\n            if (last) {\r\n              let findLast = function (inside: Nullable<TreeItem>) {\r\n                if (inside && inside.open && inside._children) {\r\n                  if (inside.element!.lastElementChild && (<HTMLElement>inside.element!.lastChild).ui) {\r\n                    return <TreeItem>(<HTMLElement>inside.element!.lastChild).ui;\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                } else {\r\n                  return null;\r\n                }\r\n              }\r\n\r\n              let found: boolean = false;\r\n              while (!found) {\r\n                let deeper: Nullable<TreeItem> = findLast(last);\r\n                if (deeper) {\r\n                  last = deeper;\r\n                } else {\r\n                  found = true;\r\n                }\r\n              }\r\n\r\n              result = last;\r\n            } else {\r\n              result = item;\r\n            }\r\n          } else {\r\n            result = item;\r\n          }\r\n        }\r\n\r\n        return result;\r\n      };\r\n\r\n      let next = function (refItem: TreeItem): Nullable<TreeItem> {\r\n        let result: Nullable<TreeItem> = null;\r\n        let nextItem = refItem.element!.nextElementSibling;\r\n        let item: Nullable<TreeItem> = null;\r\n        if (nextItem) item = <TreeItem>(<HTMLElement>nextItem).ui;\r\n\r\n        if (refItem.open && refItem._children) {\r\n          // select a child\r\n          let first = refItem.element!.firstElementChild!.nextElementSibling;\r\n          if (first && (<HTMLElement>first).ui) {\r\n            result = <TreeItem>(<HTMLElement>first).ui;\r\n          } else if (item) {\r\n            result = item;\r\n          }\r\n        } else if (item) {\r\n          // select next item\r\n          result = item;\r\n        } else if (refItem.parent && refItem.parent instanceof TreeItem) {\r\n          // no next element, go to parent\r\n          let parent: Nullable<TreeItem> = refItem.parent;\r\n\r\n          let findNext = function (from: TreeItem): Nullable<TreeItem> {\r\n            let next: Nullable<TreeItem> = from.next;\r\n            if (next) {\r\n              result = next;\r\n            } else if (from.parent instanceof TreeItem) {\r\n              return from.parent;\r\n            }\r\n            return null;\r\n          }\r\n          parent = findNext(parent);\r\n          while (parent) {\r\n            parent = findNext(parent);\r\n          }\r\n        }\r\n\r\n        return result;\r\n      };\r\n\r\n      let done: boolean = false;\r\n      let path: TreeItem[] = [];\r\n      let lookUp: boolean = true;\r\n      let lookDown: boolean = true;\r\n      let lookingUp: boolean = true;\r\n      // TODO\r\n      while (!done && !path) {\r\n        lookingUp = !lookingUp;\r\n\r\n        let item: Nullable<TreeItem> = null;\r\n        let lookFrom: TreeItem = from;\r\n        if ((!lookDown || lookingUp) && lookUp) {\r\n          // up\r\n          if (up.length)\r\n            lookFrom = up[up.length - 1];\r\n\r\n          item = prev(lookFrom);\r\n          if (item) {\r\n            up.push(item);\r\n\r\n            if (item === to) {\r\n              done = true;\r\n              path = up;\r\n              break;\r\n            }\r\n          } else {\r\n            lookUp = false;\r\n          }\r\n        } else if (lookDown) {\r\n          // down\r\n          if (down.length)\r\n            lookFrom = down[down.length - 1];\r\n\r\n          item = next(lookFrom);\r\n          if (item) {\r\n            down.push(item);\r\n\r\n            if (item === to) {\r\n              done = true;\r\n              path = down;\r\n              break;\r\n            }\r\n          } else {\r\n            lookDown = false;\r\n          }\r\n        } else {\r\n          done = true;\r\n        }\r\n      }\r\n\r\n      if (path) {\r\n        for (let i = 0; i < path.length; i++) {\r\n          path[i].selected = true;\r\n        }\r\n      }\r\n\r\n\r\n    } else {\r\n      let selected: boolean = item.selected && ((this._selected.indexOf(item) === -1) || (this._selected.length === 1 && this._selected[0] === item));\r\n      this.clear();\r\n\r\n      if (!selected)\r\n        item.selected = true;\r\n    }\r\n  }\r\n\r\n  private _onSelect(item: TreeItem): void {\r\n    this._selected.push(item);\r\n  }\r\n\r\n  private _onDeselect(item: TreeItem): void {\r\n    let index: number = this._selected.indexOf(item);\r\n    if (index === -1)\r\n      return;\r\n\r\n    this._selected.splice(index, 1);\r\n  }\r\n\r\n\r\n  private _onDragStart(item: TreeItem): void {\r\n    if (!this.draggable || this._dragging)\r\n      return;\r\n\r\n    this._dragItems = [];\r\n\r\n    if (this._selected && this._selected.length > 1 && this._selected.indexOf(item) !== -1) {\r\n      let items: TreeItem[] = [];\r\n      let index: { [key: number]: TreeItem } = {};\r\n      let defaultLevel = -1;\r\n\r\n      // build index\r\n      for (let i: number = 0; i < this._selected.length; i++) {\r\n        // cant drag parent\r\n        if (this._selected[i].parent === this)\r\n          return;\r\n\r\n        this._selected[i]._dragId = i + 1;\r\n        index[this._selected[i]._dragId] = this._selected[i];\r\n      }\r\n\r\n      for (let i: number = 0; i < this._selected.length; i++) {\r\n        let s: TreeItem = this._selected[i];\r\n        let level: number = 0;\r\n        let child: boolean = false;\r\n        let parent: Nullable<Element> = this._selected[i].parent;\r\n        if (!parent || !(parent instanceof TreeItem))\r\n          parent = null;\r\n\r\n        while (parent) {\r\n          if (parent._dragId && index[parent._dragId]) {\r\n            // child, to be ignored\r\n            child = true;\r\n            break;\r\n          }\r\n\r\n          parent = parent.parent;\r\n          if (!(parent instanceof TreeItem)) {\r\n            parent = null;\r\n            break;\r\n          }\r\n\r\n          level++;\r\n        }\r\n\r\n        if (!child) {\r\n          if (defaultLevel === -1) {\r\n            defaultLevel = level;\r\n          } else if (defaultLevel !== level) {\r\n            // multi-level drag no allowed\r\n            return;\r\n          }\r\n\r\n          items.push(this._selected[i]);\r\n        }\r\n      }\r\n\r\n      // clean ids\r\n      for (let i: number = 0; i < this._selected.length; i++)\r\n        this._selected[i]._dragId = -1;\r\n\r\n      this._dragItems = items;\r\n\r\n      // sort items by their number of apperance in hierarchy\r\n      if (items.length > 1) {\r\n        let commonParent: Nullable<TreeItem> = null;\r\n\r\n        // find common parent\r\n        let findCommonParent = function (items: TreeItem[]): TreeItem[] {\r\n          let parents: TreeItem[] = [];\r\n          for (let i: number = 0; i < items.length; i++) {\r\n            if (items[i].parent && items[i].parent instanceof TreeItem) {\r\n              if (parents.indexOf(<TreeItem>items[i].parent) === -1)\r\n                parents.push(<TreeItem>items[i].parent);\r\n            }\r\n          }\r\n          if (parents.length === 1) {\r\n            commonParent = parents[0];\r\n          }\r\n          return parents;\r\n        };\r\n        let parents: TreeItem[] = items;\r\n        while (!commonParent && parents)\r\n          parents = findCommonParent(parents);\r\n\r\n        // calculate ind number\r\n        for (let i: number = 0; i < items.length; i++) {\r\n          let ind: number = 0;\r\n\r\n          let countChildren = function (item: TreeItem): number {\r\n            if (!item._children) {\r\n              return 0;\r\n            } else {\r\n              let count: number = 0;\r\n              let children = item.element!.children;\r\n              for (let i: number = 0; i < children.length; i++) {\r\n                if ((<HTMLElement>children[i]).ui && (<HTMLElement>children[i]).ui instanceof TreeItem)\r\n                  count += countChildren(<TreeItem>(<HTMLElement>children[i]).ui) + 1;\r\n              }\r\n              return count;\r\n            }\r\n          };\r\n\r\n          let scanUpForIndex = function (item: TreeItem): Nullable<TreeItem> {\r\n            ind++;\r\n            let sibling = item.element!.previousElementSibling;\r\n            let siblingItem: Nullable<TreeItem> = null;\r\n            if (sibling && (<HTMLElement>sibling).ui && (<HTMLElement>sibling).ui instanceof TreeItem) {\r\n              siblingItem = <TreeItem>(<HTMLElement>sibling).ui;\r\n            }\r\n\r\n            if (siblingItem) {\r\n              ind += countChildren(siblingItem);\r\n              return siblingItem;\r\n            } else if (item.parent === commonParent) {\r\n              return null;\r\n            } else {\r\n              if (item.parent instanceof TreeItem) {\r\n                return <TreeItem>item.parent;\r\n              } else {\r\n                return null;\r\n              }\r\n            }\r\n          };\r\n\r\n          let prev: Nullable<TreeItem> = scanUpForIndex(items[i]);\r\n          while (prev)\r\n            prev = scanUpForIndex(prev);\r\n\r\n          items[i]._dragId = ind;\r\n        }\r\n\r\n        items.sort(function (a, b) {\r\n          return a._dragId - b._dragId;\r\n        });\r\n      }\r\n    } else {\r\n      // single drag\r\n      this._dragItems = [item];\r\n    }\r\n\r\n    if (this._dragItems.length) {\r\n      this._dragging = true;\r\n\r\n      this.class!.add('dragging');\r\n      for (let i: number = 0; i < this._dragItems.length; i++) {\r\n        this._dragItems[i].class!.add('dragged');\r\n      }\r\n\r\n      this._updateDragHandle();\r\n      this.emit('dragstart');\r\n    }\r\n  }\r\n\r\n  private _onDragOver(item: TreeItem, evt: MouseEvent): void {\r\n    if (!this.draggable || !this._dragging || (this._dragItems.indexOf(item) !== -1 && !this._dragOver) || this._dragOver === item)\r\n      return;\r\n\r\n    let dragOver = null;\r\n\r\n    if (item.allowDrop) {\r\n      if (this._dragItems.indexOf(item) === -1)\r\n        dragOver = item;\r\n\r\n      if (this._dragOver === null && dragOver)\r\n        this.emit('dragin');\r\n    }\r\n\r\n\r\n\r\n    this._dragOver = dragOver;\r\n\r\n    this._updateDragHandle();\r\n    this._onDragMove(evt);\r\n  }\r\n\r\n  private _onDragEnd(): void {\r\n    if (!this.draggable || !this._dragging)\r\n      return;\r\n\r\n    // TODO\r\n    let reparentedItems: ReparentDragItems[] = [];\r\n    this._dragging = false;\r\n    this.class!.remove('dragging');\r\n\r\n    let lastDraggedItem: Nullable<TreeItem> = this._dragOver;\r\n\r\n    for (let i: number = 0; i < this._dragItems.length; i++) {\r\n      this._dragItems[i].class!.remove('dragged');\r\n\r\n      if (this._dragOver && this._dragOver !== this._dragItems[i]) {\r\n\r\n        let oldParent: Nullable<Element> = this._dragItems[i].parent;\r\n\r\n        if (oldParent !== this._dragOver || this._dragArea !== 'inside') {\r\n          let newParent: Nullable<Element> = null;\r\n\r\n          if (this.dragInstant) {\r\n            if (this._dragItems[i].parent)\r\n              (<TreeItem>(this._dragItems[i].parent!)).remove(this._dragItems[i]);\r\n          }\r\n\r\n          if (this._dragArea === 'before') {\r\n            newParent = this._dragOver.parent;\r\n            if (this.dragInstant)\r\n              (<TreeItem>this._dragOver.parent).appendBefore(this._dragItems[i], this._dragOver);\r\n          } else if (this._dragArea === 'inside') {\r\n            newParent = this._dragOver;\r\n            if (this.dragInstant) {\r\n              this._dragOver.open = true;\r\n              this._dragOver.append(this._dragItems[i]);\r\n            }\r\n          } else if (this._dragArea === 'after') {\r\n            newParent = this._dragOver.parent;\r\n            if (this.dragInstant) {\r\n              (<TreeItem>this._dragOver.parent).appendAfter(this._dragItems[i], lastDraggedItem!);\r\n              lastDraggedItem = this._dragItems[i];\r\n            }\r\n          }\r\n\r\n          reparentedItems.push({\r\n            item: this._dragItems[i],\r\n            old: oldParent,\r\n            new: newParent\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    this.emit('reparent', reparentedItems);\r\n\r\n    this._dragItems = [];\r\n\r\n    if (this._dragOver)\r\n      this._dragOver = null;\r\n\r\n    this.emit('dragend');\r\n  }\r\n\r\n  private _onDragOut(): void {\r\n    if (!this.draggable || !this._dragging || !this._dragOver)\r\n      return;\r\n\r\n    this._dragOver = null;\r\n    this._updateDragHandle();\r\n    this.emit('dragout');\r\n  }\r\n\r\n  public _updateDragHandle(): void {\r\n    if (!this.draggable || !this._dragging)\r\n      return;\r\n\r\n    if (!this._dragOver) {\r\n      this.elementDrag.classList.add('hidden');\r\n    } else {\r\n      let rect = this._dragOver.elementTitle.getBoundingClientRect();\r\n\r\n      this.elementDrag.classList.remove('before', 'inside', 'after', 'hidden')\r\n      this.elementDrag.classList.add(this._dragArea);\r\n\r\n      this.elementDrag.style.top = rect.top + 'px';\r\n      this.elementDrag.style.left = rect.left + 'px';\r\n      this.elementDrag.style.width = (rect.width - 4) + 'px';\r\n    }\r\n  }\r\n\r\n  private _onAppend(item: TreeItem): void {\r\n    item.tree = this;\r\n\r\n    let self = this;\r\n\r\n    item.on('dragstart', function () {\r\n      // can't drag root  TODO\r\n      if (item.parent === self)\r\n        return;\r\n\r\n      self._onDragStart(item);\r\n    });\r\n\r\n    item.on('mouseover', function (evt: MouseEvent) {\r\n      self._onDragOver(item, evt);\r\n    });\r\n\r\n    item.on('dragend', function () {\r\n      self._onDragEnd();\r\n    });\r\n  }\r\n\r\n  private _onRemove(item: TreeItem): void {\r\n    item.tree = null;\r\n    item.unbind('dragstart');\r\n    item.unbind('mouseover');\r\n    item.unbind('dragend');\r\n  }\r\n\r\n\r\n  public clear(): void {\r\n    if (!this._selected.length)\r\n      return;\r\n\r\n    let i: number = this._selected.length;\r\n    while (i--) {\r\n      this._selected[i].selected = false;\r\n    }\r\n    this._selected = [];\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport interface ReparentDragItems {\r\n  item: TreeItem;\r\n  old: Nullable<Element>;\r\n  new: Nullable<Element>;\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9lZGl0b3IvZWRpdG9yLnRzIiwic3JjL2VkaXRvci9oaWVyYXJjaHkvaGllcmFyY2h5LXNlYXJjaC50cyIsInNyYy9lZGl0b3IvaGllcmFyY2h5L2hpZXJhcmNoeS50cyIsInNyYy9lZGl0b3IvaGllcmFyY2h5L2luZGV4LnRzIiwic3JjL2VkaXRvci9ob3RrZXlzLnRzIiwic3JjL2VkaXRvci9pbmRleC50cyIsInNyYy9lZGl0b3IvbGF5b3V0LnRzIiwic3JjL2VkaXRvci92aWV3cG9ydC9pbmRleC50cyIsInNyYy9lZGl0b3Ivdmlld3BvcnQvdmlld3BvcnQudHMiLCJzcmMvZW5naW5lL2JhYnlsb24tZW5naW5lLnRzIiwic3JjL2VuZ2luZS9pbmRleC50cyIsInNyYy9lbmdpbmUvdmVyeS1lbmdpbmUudHMiLCJzcmMvaW5kZXgudHMiLCJzcmMvbGliL2V2ZW50cy50cyIsInNyYy9saWIvaW5kZXgudHMiLCJzcmMvbWFpbi50cyIsInNyYy91aS9idWJibGUudHMiLCJzcmMvdWkvYnV0dG9uLnRzIiwic3JjL3VpL2NhbnZhcy50cyIsInNyYy91aS9jaGVja2JveC50cyIsInNyYy91aS9jb250YWluZXItZWxlbWVudC50cyIsInNyYy91aS9lbGVtZW50LnRzIiwic3JjL3VpL2luZGV4LnRzIiwic3JjL3VpL2xhYmVsLnRzIiwic3JjL3VpL2xpbmsudHMiLCJzcmMvdWkvbGlzdC1pdGVtLnRzIiwic3JjL3VpL2xpc3QudHMiLCJzcmMvdWkvb3ZlcmxheS50cyIsInNyYy91aS9wYW5lbC50cyIsInNyYy91aS90ZXh0LWZpZWxkLnRzIiwic3JjL3VpL3RleHRhcmVhLWZpZWxkLnRzIiwic3JjL3VpL3Rvb2x0aXAudHMiLCJzcmMvdWkvdHJlZS1pdGVtLnRzIiwic3JjL3VpL3RyZWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQSw4QkFBZ0M7QUFFaEM7SUFBNEIsMEJBQU07SUFLaEM7UUFBQSxZQUNFLGlCQUFPLFNBQ1I7UUFMRCxzQ0FBc0M7UUFDOUIsWUFBTSxHQUFnQyxFQUFFLENBQUM7O0lBSWpELENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksdUJBQU0sR0FBYixVQUFjLElBQVksRUFBRSxFQUFZO1FBQ3RDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxTQUFTLEVBQUU7WUFDbkMsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUMsQ0FBQztTQUNqRDtRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFBQSxDQUFDO0lBRUY7OztPQUdHO0lBQ0ksNkJBQVksR0FBbkIsVUFBb0IsSUFBWTtRQUM5QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUFBLENBQUM7SUFFRjs7O09BR0c7SUFDSSxxQkFBSSxHQUFYLFVBQVksSUFBWTtRQUFFLGNBQWM7YUFBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO1lBQWQsNkJBQWM7O1FBQ3RDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNyQixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXBELElBQUk7Z0JBQ0YsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7YUFDNUM7WUFBQyxPQUFPLEVBQUUsRUFBRTtnQkFDWCxPQUFPLENBQUMsS0FBSyxDQUNYLDhCQUE4QixFQUM5QixhQUFhLEVBQ2IsSUFBSSxFQUNKLGFBQWEsQ0FDZCxDQUFDO2dCQUNGLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3pCO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFBQSxDQUFDO0lBQ0osYUFBQztBQUFELENBbkRBLEFBbURDLENBbkQyQixZQUFNLEdBbURqQztBQW5EWSx3QkFBTTs7OztBQ0ZuQiwrQkFBMkM7QUFDM0MsdUNBQTBDO0FBRTFDO0lBTUU7UUFFRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksU0FBSSxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFRLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDMUMsbUJBQVUsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUUvQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksY0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFHTSw4QkFBSSxHQUFYO1FBRUUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWhCLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDbEMsbUJBQVUsQ0FBQyxjQUFjLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQVEsRUFBRSxtQkFBVSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUk5RyxJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hELFdBQVcsQ0FBQyxTQUFTLEdBQUcsVUFBVSxDQUFDO1FBQ25DLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBUSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUU5QyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUN6QixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFHWixDQUFDO0lBR0gsc0JBQUM7QUFBRCxDQTdDQSxBQTZDQyxJQUFBO0FBN0NZLDBDQUFlOzs7O0FDSDVCLCtCQUFrRTtBQUNsRSx1Q0FBMEM7QUFDMUMsdURBQXFEO0FBRXJEO0lBSUU7UUFDRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksVUFBSyxFQUFFLENBQUM7UUFDakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsbUJBQVUsQ0FBQyxjQUFjLENBQUM7UUFDdEQsbUJBQVUsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMzRCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFFbEMsMkJBQTJCO1FBQzNCLElBQUksU0FBUyxHQUFXLElBQUksV0FBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQy9DLFNBQVMsQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9CLFNBQVMsQ0FBQyxLQUFNLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUNwQyxTQUFTLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRTtZQUNwQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ3hDLElBQUksSUFBSSxLQUFLLFFBQVE7Z0JBQ25CLE9BQU87WUFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFckMsSUFBSSxhQUFhLEdBQUcsWUFBTyxDQUFDLE1BQU0sQ0FBQztZQUNqQyxNQUFNLEVBQUUsU0FBUyxDQUFDLE9BQVE7WUFDMUIsSUFBSSxFQUFFLElBQUk7WUFDVixLQUFLLEVBQUUsS0FBSztZQUNaLElBQUksRUFBRSxtQkFBVSxDQUFDLFNBQVM7U0FDM0IsQ0FBQyxDQUFDO1FBQ0gsYUFBYSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFdEMscUJBQXFCO1FBQ3JCLElBQUksWUFBWSxHQUFXLElBQUksV0FBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2xELFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQzdCLFlBQVksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3JDLFlBQVksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDeEMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBRTFDLElBQUksSUFBSSxLQUFLLFFBQVEsSUFBSSxLQUFLLENBQUMsTUFBTTtnQkFDbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRXhDLElBQUksZ0JBQWdCLEdBQUcsWUFBTyxDQUFDLE1BQU0sQ0FBQztZQUNwQyxNQUFNLEVBQUUsWUFBWSxDQUFDLE9BQVE7WUFDN0IsSUFBSSxFQUFFLElBQUk7WUFDVixLQUFLLEVBQUUsS0FBSztZQUNaLElBQUksRUFBRSxtQkFBVSxDQUFDLFNBQVM7U0FDM0IsQ0FBQyxDQUFDO1FBQ0gsZ0JBQWdCLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUV6QyxhQUFhO1FBQ2IseUVBQXlFO1FBQ3pFLDZCQUE2QjtRQUU3QixlQUFlO1FBQ2YsSUFBSSxNQUFNLEdBQVcsSUFBSSxXQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUMsTUFBTSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUU7WUFDakIsNEJBQTRCO1lBQzVCLHFEQUFxRDtZQUNyRCw4Q0FBOEM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVsQyxZQUFPLENBQUMsTUFBTSxDQUFDO1lBQ2IsTUFBTSxFQUFFLE1BQU0sQ0FBQyxPQUFRO1lBQ3ZCLElBQUksRUFBRSxJQUFJO1lBQ1YsS0FBSyxFQUFFLEtBQUs7WUFDWixJQUFJLEVBQUUsbUJBQVUsQ0FBQyxTQUFTO1NBQzNCLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVkLENBQUM7SUFFTSx3QkFBSSxHQUFYO1FBQ0UsZUFBZTtRQUNmLGtCQUFrQjtRQUNsQixJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDckIsSUFBSSxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLElBQUksS0FBSyxHQUFVLG1CQUFVLENBQUMsY0FBYyxDQUFDO1FBRTdDLElBQUksU0FBUyxHQUFTLElBQUksU0FBSSxFQUFFLENBQUM7UUFDakMsbUJBQVUsQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDO1FBRXJDLHNCQUFzQjtRQUN0Qiw4REFBOEQ7UUFDOUQsU0FBUyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDO1FBQzlDLFNBQVMsQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2xDLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFeEIsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksVUFBVSxHQUFHO1lBQ2YsWUFBWSxHQUFHLEtBQUssQ0FBQztZQUNyQixTQUFTLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBQ3BDLFNBQVMsQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxZQUFhLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNoRixDQUFDLENBQUM7UUFDRixJQUFJLFdBQVcsR0FBRztZQUNoQixJQUFJLFlBQVk7Z0JBQUUsT0FBTztZQUN6QixZQUFZLEdBQUcsSUFBSSxDQUFDO1lBQ3BCLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3BDLENBQUMsQ0FBQztRQUNGLEtBQUssQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ2hDLFNBQVMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ2xDLFNBQVMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ25DLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFL0IsbUJBQW1CO1FBQ25CLE1BQU0sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUU7WUFDbEMsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQyxDQUFDLENBQUM7UUFFSCxxQkFBcUI7UUFDckIsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsVUFBVSxJQUFjO1lBQzdDLHlCQUF5QjtZQUN6QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ3pCLE9BQU8sTUFBTSxJQUFJLE1BQU0sWUFBWSxhQUFRLEVBQUU7Z0JBQzNDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUNuQixNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQzthQUN4QjtZQUNELFFBQVE7WUFDUixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzFCLGdCQUFnQjtZQUNoQixPQUFPO1lBQ1AsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQ25DLHNEQUFzRDtRQUN4RCxDQUFDLENBQUMsQ0FBQztRQUVILHVCQUF1QjtRQUN2QixTQUFTLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxVQUFVLElBQWM7WUFDL0MsUUFBUTtZQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUN0QywrQ0FBK0M7UUFDakQsQ0FBQyxDQUFDLENBQUM7UUFFSCxvQkFBb0I7UUFDcEIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLElBQUksU0FBUyxHQUF3QixJQUFJLENBQUM7UUFBQSxDQUFDO1FBQzNDLElBQUksV0FBVyxDQUFDO1FBQ2hCLElBQUksT0FBTyxHQUFHLFVBQVUsR0FBZTtZQUNyQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRTtnQkFDeEIsYUFBYSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNqRCxPQUFPO2FBQ1I7WUFDRCxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsWUFBYSxDQUFDLHFCQUFxQixFQUFFLENBQUM7WUFFdkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxLQUFLLENBQUMsWUFBYSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3RFLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUNqQjtpQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQWEsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxZQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3JJLFVBQVUsR0FBRyxDQUFDLENBQUM7YUFDaEI7aUJBQU07Z0JBQ0wsVUFBVSxHQUFHLENBQUMsQ0FBQzthQUNoQjtRQUNILENBQUMsQ0FBQztRQUVGLFNBQVMsQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFO1lBQ3hCLFNBQVMsR0FBRyxXQUFXLENBQUM7Z0JBQ3RCLElBQUksVUFBVSxLQUFLLENBQUM7b0JBQ2xCLE9BQU87Z0JBRVQsS0FBSyxDQUFDLFlBQWEsQ0FBQyxTQUFTLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztnQkFDaEQsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBQzNCLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1lBQ2hDLENBQUMsRUFBRSxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFFZCxVQUFVLEdBQUcsQ0FBQyxDQUFDO1lBQ2YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFckQsUUFBUTtZQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLENBQUMsQ0FBQztZQUNuRCxzRUFBc0U7WUFDdEUsa0VBQWtFO1lBQ2xFLHNDQUFzQztRQUN4QyxDQUFDLENBQUMsQ0FBQztRQUVILFNBQVMsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFO1lBQ3RCLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPO1FBQ1AsNENBQTRDO1FBQzVDLDZCQUE2QjtRQUM3QixvQkFBb0I7UUFDcEIsZ0JBQWdCO1FBQ2hCLHNCQUFzQjtRQUN0QixNQUFNO1FBQ04seUNBQXlDO1FBRXpDLElBQUksU0FBUyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsWUFBWSxHQUFHLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2pGLGdCQUFnQjtRQUNoQixzQ0FBc0M7UUFDdEMsSUFBSTtRQUVKLElBQUksV0FBVyxHQUFHLElBQUksYUFBUSxDQUFDO1lBQzdCLElBQUksRUFBRSxPQUFPO1lBQ2IsU0FBUyxFQUFFLFNBQVM7U0FDckIsQ0FBQyxDQUFDO1FBQ0gsV0FBVyxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckMsU0FBUyxDQUFDLE9BQVEsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLE9BQVEsQ0FBQyxDQUFDO1FBQ3JELFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRXRDLEtBQUssSUFBSSxDQUFDLEdBQVcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxRQUFRLEdBQUcsSUFBSSxhQUFRLENBQUM7Z0JBQzFCLElBQUksRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNyQixTQUFTLEVBQUUsU0FBUzthQUNyQixDQUFDLENBQUM7WUFDSCxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNuQyxXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRTdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzFCLElBQUksUUFBUSxHQUFHLElBQUksYUFBUSxDQUFDO29CQUMxQixJQUFJLEVBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDdEIsU0FBUyxFQUFFLFNBQVM7aUJBQ3JCLENBQUMsQ0FBQztnQkFDSCxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFDbkMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDMUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDMUIsSUFBSSxRQUFRLEdBQUcsSUFBSSxhQUFRLENBQUM7d0JBQzFCLElBQUksRUFBRSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUN2QixTQUFTLEVBQUUsU0FBUztxQkFDckIsQ0FBQyxDQUFDO29CQUNILFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO29CQUVuQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUUzQjthQUNGO1NBQ0Y7UUFFRCxvQkFBb0I7UUFFcEIsZUFBZTtRQUNmLElBQUksV0FBVyxHQUFHLElBQUksa0NBQWUsRUFBRSxDQUFDO0lBRTFDLENBQUM7SUFRSCxnQkFBQztBQUFELENBdFBBLEFBc1BDLElBQUE7QUF0UFksOEJBQVM7Ozs7Ozs7QUNKdEIsaUNBQTRCO0FBQzVCLHdDQUFtQzs7OztBQ0RuQztJQUFBO0lBUUEsQ0FBQztJQU5lLFlBQUksR0FBWSxLQUFLLENBQUM7SUFDdEIsYUFBSyxHQUFZLEtBQUssQ0FBQztJQUN2QixXQUFHLEdBQVksS0FBSyxDQUFDO0lBSXJDLGNBQUM7Q0FSRCxBQVFDLElBQUE7QUFSWSwwQkFBTzs7Ozs7OztBQ0FwQiw4QkFBeUI7QUFDekIsOEJBQXlCO0FBQ3pCLGdDQUEyQjtBQUMzQixpQ0FBNEI7QUFDNUIsK0JBQTBCOzs7O0FDSjFCLDRCQUE4QjtBQUM5QixvQ0FBdUM7QUFFdkM7SUFNRTtRQUpRLGtCQUFhLEdBQVcsK0RBQStELENBQUM7UUFDeEYsbUJBQWMsR0FBVyxxQkFBcUIsQ0FBQztRQUlyRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsd0JBQXdCO1FBQ3hCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsVUFBVSxHQUFHO1lBQ2hELGtDQUFrQztZQUNsQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEVBQUU7Z0JBQ2QsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBZSxHQUFHLENBQUMsTUFBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO29CQUNoRSxPQUFPO2lCQUNSO3FCQUFNLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQWUsR0FBRyxDQUFDLE1BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtvQkFDdEUsT0FBTztpQkFDUjtxQkFBTSxJQUFrQixHQUFHLENBQUMsTUFBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUU7b0JBQ3JFLE9BQU87aUJBQ1I7YUFDRjtZQUVELGNBQWM7WUFDZCxJQUFJLE1BQU0sQ0FBQyxZQUFZLEVBQUU7Z0JBQ3ZCLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUcsQ0FBQyxTQUFTLENBQUM7Z0JBQ2pELElBQUksU0FBUyxFQUFFO29CQUNiLElBQWtCLFNBQVUsQ0FBQyxPQUFPLEtBQUssT0FBTyxFQUFFO3dCQUNsQyxTQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7cUJBQ2pDO3lCQUFNLElBQUksU0FBUyxDQUFDLFVBQVUsSUFBa0IsU0FBUyxDQUFDLFVBQVcsQ0FBQyxPQUFPLEtBQUssT0FBTyxFQUFFO3dCQUM1RSxTQUFTLENBQUMsVUFBVyxDQUFDLElBQUksRUFBRSxDQUFDO3FCQUM1QztpQkFDRjthQUNGO1lBRUQsNkRBQTZEO1lBQzdELEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDWixDQUFDO0lBRU0scUJBQUksR0FBWDtRQUNFLGlCQUFpQjtRQUNqQixJQUFJLElBQUksR0FBVSxJQUFJLFVBQUssRUFBRSxDQUFDO1FBQzlCLElBQUksQ0FBQyxPQUFRLENBQUMsRUFBRSxHQUFHLFNBQVMsQ0FBQztRQUM3QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQztRQUM5QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBUSxDQUFDLENBQUM7UUFDekMsU0FBUztRQUNULE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLGNBQWMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRCxtQkFBVSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFFNUIsMEJBQTBCO1FBQzFCLElBQUksR0FBRyxHQUFHLElBQUksVUFBSyxFQUFFLENBQUM7UUFDdEIsR0FBRyxDQUFDLEtBQU0sQ0FBQyxlQUFlLEdBQUcsU0FBUyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxLQUFNLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUM5QixHQUFHLENBQUMsT0FBUSxDQUFDLEVBQUUsR0FBRyxRQUFRLENBQUM7UUFDM0IsR0FBRyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7UUFDckIsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2QsT0FBTztZQUNQLEdBQUcsQ0FBQyxLQUFNLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFakIsZUFBZTtRQUNmLElBQUksTUFBTSxHQUFHLElBQUksVUFBSyxFQUFFLENBQUM7UUFDekIsTUFBTSxDQUFDLE9BQVEsQ0FBQyxFQUFFLEdBQUcsV0FBVyxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFcEIsd0JBQXdCO1FBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksVUFBSyxFQUFFLENBQUM7UUFDekIsTUFBTSxDQUFDLE9BQVEsQ0FBQyxFQUFFLEdBQUcsV0FBVyxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEIsU0FBUztRQUNULE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFLGNBQWMsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUUvRCx1QkFBdUI7UUFDdkIsSUFBSSxPQUFPLEdBQUcsSUFBSSxVQUFLLEVBQUUsQ0FBQztRQUMxQixPQUFPLENBQUMsT0FBUSxDQUFDLEVBQUUsR0FBRyxZQUFZLENBQUM7UUFDbkMsT0FBTyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7UUFDekIsT0FBTyxDQUFDLEtBQU0sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkIsU0FBUztRQUNULE1BQU0sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxPQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pFLG1CQUFVLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQztRQUVsQyxZQUFZO1FBQ1osSUFBSSxjQUFjLEdBQUcsSUFBSSxVQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekMsY0FBYyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDL0IsY0FBYyxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkMsY0FBYyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7UUFDaEMsSUFBSSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLCtCQUErQixDQUFDLElBQUksT0FBTyxDQUFDO1FBQ3JHLGNBQWMsQ0FBQyxLQUFNLENBQUMsS0FBSyxHQUFHLGtCQUFrQixDQUFDO1FBQ2pELGNBQWMsQ0FBQyxZQUFhLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxrQkFBa0IsQ0FBQztRQUM5RCxjQUFjLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUMvQixjQUFjLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsOEJBQThCLENBQUMsSUFBSSxLQUFLLENBQUM7UUFDakcsY0FBYyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDakMsY0FBYyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDN0IsY0FBYyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7UUFDbkMsY0FBYyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFDL0IsY0FBYyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFFL0IsY0FBYyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSwrQkFBK0IsRUFBRSxjQUFjLENBQUMsS0FBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hHLENBQUMsQ0FBQyxDQUFDO1FBQ0gsY0FBYyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUU7WUFDeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSw4QkFBOEIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4RSxDQUFDLENBQUMsQ0FBQztRQUNILGNBQWMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsOEJBQThCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDekUsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzlCLFNBQVM7UUFDVCxNQUFNLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxjQUFjLE9BQU8sY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckUsTUFBTSxDQUFDLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxVQUFVLEtBQWM7WUFDMUQsY0FBYyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLE1BQU0sQ0FBQyxVQUFVLElBQUksR0FBRyxFQUFFO1lBQzVCLGNBQWMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQzlCO1FBQ0QsbUJBQVUsQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1FBRTNDLGVBQWU7UUFDZixJQUFJLE1BQU0sR0FBRyxJQUFJLFVBQUssRUFBRSxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLE1BQU0sQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFdEIsaUJBQWlCO1FBQ2pCLElBQUksUUFBUSxHQUFHLElBQUksVUFBSyxFQUFFLENBQUM7UUFDM0IsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDekIsUUFBUSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7UUFDeEIsUUFBUSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QixTQUFTO1FBQ1QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxjQUFjLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkUsbUJBQVUsQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1FBRWhDLGVBQWU7UUFDZixJQUFJLFdBQVcsR0FBRyxJQUFJLFVBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwQyxXQUFXLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqQyxXQUFXLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUM1QixXQUFXLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsMkJBQTJCLENBQUMsSUFBSSxLQUFLLENBQUM7UUFDM0YsV0FBVyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7UUFDN0IsV0FBVyxDQUFDLFlBQWEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsNkJBQTZCLENBQUMsSUFBSSxPQUFPLENBQUM7UUFDbkgsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDMUIsV0FBVyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDOUIsV0FBVyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFDNUIsV0FBVyxDQUFDLFNBQVMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLFdBQVcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFNUIsV0FBVyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDdkIsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSw2QkFBNkIsRUFBRSxXQUFXLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RyxDQUFDLENBQUMsQ0FBQztRQUNILFdBQVcsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFO1lBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsMkJBQTJCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckUsQ0FBQyxDQUFDLENBQUM7UUFDSCxXQUFXLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRTtZQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLDJCQUEyQixFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3RFLENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMzQixTQUFTO1FBQ1QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsY0FBYyxPQUFPLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLElBQUksTUFBTSxDQUFDLFdBQVcsSUFBSSxHQUFHLEVBQUU7WUFDN0IsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDM0I7UUFDRCxtQkFBVSxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7UUFHcEMsbUJBQW1CO1FBQ25CLElBQUksZUFBZSxHQUFHLElBQUksVUFBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLGVBQWUsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ2hDLGVBQWUsQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3pDLGVBQWUsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQ2pDLElBQUksb0JBQW9CLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxnQ0FBZ0MsQ0FBQyxJQUFJLE9BQU8sQ0FBQztRQUN4RyxlQUFlLENBQUMsS0FBTSxDQUFDLEtBQUssR0FBRyxvQkFBb0IsQ0FBQztRQUNwRCxlQUFlLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsb0JBQW9CLENBQUM7UUFDakUsZUFBZSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDbEMsZUFBZSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDaEMsZUFBZSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLCtCQUErQixDQUFDLElBQUksS0FBSyxDQUFDO1FBQ25HLGVBQWUsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzlCLGVBQWUsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDO1FBQ25DLGVBQWUsQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ2hDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBRWhDLGVBQWUsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsZ0NBQWdDLEVBQUUsZUFBZSxDQUFDLFlBQWEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0csQ0FBQyxDQUFDLENBQUM7UUFDSCxlQUFlLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRTtZQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLCtCQUErQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pFLENBQUMsQ0FBQyxDQUFDO1FBQ0gsZUFBZSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSwrQkFBK0IsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMxRSxDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDL0IsU0FBUztRQUNULE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLGNBQWMsT0FBTyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RSxNQUFNLENBQUMsRUFBRSxDQUFDLHdCQUF3QixFQUFFLFVBQVUsS0FBYztZQUMxRCxlQUFlLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksTUFBTSxDQUFDLFVBQVUsSUFBSSxHQUFHLEVBQUU7WUFDNUIsZUFBZSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDL0I7UUFDRCxtQkFBVSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7SUFDL0MsQ0FBQztJQUdILGFBQUM7QUFBRCxDQXROQSxBQXNOQyxJQUFBO0FBdE5ZLHdCQUFNOzs7Ozs7O0FDSG5CLGdDQUEyQjs7OztBQ0EzQiwrQkFBa0M7QUFDbEMsdUNBQTBDO0FBRTFDO0lBU0U7UUFBQSxpQkE0R0M7UUExR0MsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWhCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxXQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdEMsbUJBQVUsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUVwQyxJQUFJLENBQUMsT0FBTyxHQUFzQixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUN0RCxhQUFhO1FBQ2IsTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFcEQsYUFBYTtRQUNiLE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUU7WUFDL0IsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3JCLENBQUMsQ0FBQyxDQUFDO1FBRUgsc0JBQXNCO1FBQ3RCLFdBQVcsQ0FBQztZQUNWLElBQUksSUFBSSxHQUFHLG1CQUFVLENBQUMsU0FBUyxDQUFDLE9BQVEsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1lBQ2pFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDdEUsQ0FBQyxFQUFFLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQztRQUVkLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUMxQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO1lBQ2hDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNsQixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUU5QyxhQUFhO1FBQ2IsSUFBSSxNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QyxNQUFNLENBQUMsY0FBYyxHQUFHLEdBQUcsQ0FBQztRQUM1QixNQUFNLENBQUMsY0FBYyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDN0MsTUFBTSxDQUFDLGdCQUFnQixHQUFHLEdBQUcsQ0FBQztRQUU5QixVQUFVO1FBQ1YsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFFMUIsSUFBSSxRQUFRLEdBQStCLEVBQUUsQ0FBQztRQUU5QyxrQ0FBa0M7UUFDbEMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsS0FBSztZQUNsRiw4QkFBOEI7WUFDOUIsVUFBVTtZQUNWLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUV2QixrQkFBa0I7WUFDbEIsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUUsQ0FBQztZQUV4QyxLQUFLLENBQUMsYUFBYSxHQUFHLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN2RCxLQUFLLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLGdCQUFnQixFQUFFLFVBQVUsR0FBRztnQkFDcEgsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDO1lBQ3BFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDSixLQUFLLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLGNBQWMsRUFBRSxVQUFVLEdBQUc7Z0JBQ2xILFFBQVEsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxJQUFJLFNBQVMsQ0FBQztZQUNwRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBR0osc0JBQXNCO1lBQ3RCLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxHQUFHLENBQUM7Z0JBRWpDLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRTtvQkFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUM7aUJBQ3ZEO2dCQUNELElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRTtvQkFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUM7aUJBQ3ZEO2dCQUNELElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRTtvQkFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUM7aUJBQ3ZEO2dCQUNELElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRTtvQkFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUM7aUJBQ3ZEO1lBQ0gsQ0FBQyxDQUFDLENBQUE7WUFFRixZQUFZO1lBQ1osSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUUsQ0FBQztZQUM1QyxNQUFNLENBQUMsYUFBYSxHQUFHLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQzVELEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxhQUFhLENBQUMsMEJBQTBCLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxFQUM5RSxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVwRCxNQUFNLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQzVELEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxhQUFhLENBQUMseUJBQXlCLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxFQUMzRSxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV4RCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDO1lBQ3pCLElBQUksS0FBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEtBQUssS0FBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUU7Z0JBQ25ELEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDdkI7WUFFRCxJQUFJLEtBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ2YsS0FBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUN0QjtZQUVELHVCQUF1QjtZQUN2Qix3QkFBd0I7WUFDeEIsSUFBSTtRQUdOLENBQUMsQ0FBQyxDQUFDO1FBQ0gsZUFBZTtJQUVqQixDQUFDO0lBS0gsZUFBQztBQUFELENBMUhBLEFBMEhDLElBQUE7QUExSFksNEJBQVE7Ozs7QUNIckI7SUFBQTtJQUlBLENBQUM7SUFBRCxvQkFBQztBQUFELENBSkEsQUFJQyxJQUFBO0FBSlksc0NBQWE7Ozs7Ozs7QUNBMUIsc0NBQWlDO0FBQ2pDLG1DQUE4Qjs7OztBQ0U5QjtJQWtCRTtJQUVBLENBQUM7SUFHSCxpQkFBQztBQUFELENBdkJBLEFBdUJDLElBQUE7QUF2QlksZ0NBQVU7Ozs7Ozs7QUNIdkIsMkJBQXNCO0FBQ3RCLDhCQUF5QjtBQUN6QiwwQkFBcUI7QUFHckIsOEJBQXlCOzs7O0FDTHpCO0lBYUU7UUFMUSxtQkFBYyxHQUFZLEtBQUssQ0FBQztRQUV4QyxzQ0FBc0M7UUFDOUIsWUFBTyxHQUFrQyxFQUFFLENBQUM7SUFJcEQsQ0FBQztJQWJELHNCQUFXLGlDQUFhO2FBQXhCO1lBQ0UsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQzdCLENBQUM7YUFDRCxVQUF5QixHQUFZO1lBQ25DLElBQUksQ0FBQyxjQUFjLEdBQUcsR0FBRyxDQUFDO1FBQzVCLENBQUM7OztPQUhBO0lBYUQ7Ozs7T0FJRztJQUNJLG1CQUFFLEdBQVQsVUFBVSxJQUFZLEVBQUUsRUFBWTtRQUNsQyxJQUFJLE1BQU0sR0FBZSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVDLElBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtZQUN4QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDM0I7YUFBTTtZQUNMLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRTtnQkFDNUIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUNqQjtTQUNGO1FBQ0QsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRDs7OztPQUlHO0lBQ0kscUJBQUksR0FBWCxVQUFZLElBQVksRUFBRSxFQUFZO1FBQ3BDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLEdBQUcsR0FBZ0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsVUFDbkMsSUFBUyxFQUNULElBQVMsRUFDVCxJQUFTLEVBQ1QsSUFBUyxFQUNULElBQVMsRUFDVCxJQUFTLEVBQ1QsSUFBUyxFQUNULElBQVM7WUFFVCxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDOUQsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2YsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7T0FXRztJQUNJLHFCQUFJLEdBQVgsVUFBWSxJQUFZLEVBQ3RCLElBQVUsRUFDVixJQUFVLEVBQ1YsSUFBVSxFQUNWLElBQVUsRUFDVixJQUFVLEVBQ1YsSUFBVSxFQUNWLElBQVUsRUFDVixJQUFVO1FBRVYsSUFBSSxJQUFJLENBQUMsY0FBYztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBRXJDLElBQUksTUFBTSxHQUFlLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLE1BQU07WUFBRSxPQUFPLElBQUksQ0FBQztRQUV6QixRQUFRO1FBQ1IsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFekIsS0FBSyxJQUFJLENBQUMsR0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQUUsU0FBUztZQUN6QixJQUFJO2dCQUNGLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzthQUN0RTtZQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUNYLE9BQU8sQ0FBQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDekUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDdkI7U0FDRjtRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUFBLENBQUM7SUFFRjs7OztPQUlHO0lBQ0ksdUJBQU0sR0FBYixVQUFjLElBQWEsRUFBRSxFQUFhO1FBQ3hDLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxNQUFNLEdBQWUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsTUFBTTtnQkFBRSxPQUFPLElBQUksQ0FBQztZQUV6QixJQUFJLEVBQUUsRUFBRTtnQkFDTixJQUFJLENBQUMsR0FBVyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtvQkFDWixJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO3dCQUN2QixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7cUJBQzNCO3lCQUFNO3dCQUNMLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO3FCQUNyQjtpQkFDRjthQUNGO2lCQUFNO2dCQUNMLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMzQjtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztTQUNuQjtRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUFBLENBQUM7SUFFSixhQUFDO0FBQUQsQ0FqSUEsQUFpSUMsSUFBQTtBQWpJWSx3QkFBTTtBQW9JbkI7SUFRRSxxQkFBbUIsS0FBYSxFQUFFLElBQVksRUFBRSxFQUFZO1FBQzFELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVNLDRCQUFNLEdBQWI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPO1FBRXhCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUcsQ0FBQyxDQUFDO1FBRXhDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBQ2pCLENBQUM7SUFFTSwwQkFBSSxHQUFYO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQUUsT0FBTztRQUVyQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FDVixJQUFJLENBQUMsS0FBTSxFQUNYLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFDWixTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQ1osU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUNaLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFDWixTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQ1osU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUNaLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFDWixTQUFTLENBQUMsQ0FBQyxDQUFDLENBQ2IsQ0FBQztJQUNKLENBQUM7SUFFTSx3QkFBRSxHQUFULFVBQVUsSUFBWSxFQUFFLEVBQVk7UUFDbEMsT0FBTyxJQUFJLENBQUMsS0FBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVILGtCQUFDO0FBQUQsQ0E1Q0EsQUE0Q0MsSUFBQTtBQTVDWSxrQ0FBVzs7Ozs7OztBQ3BJeEIsOEJBQXlCOzs7Ozs7O0FDQXpCLG1DQUErRDtBQUcvRCxtQ0FBc0M7QUFFdEMsNkJBQXdCO0FBRXhCLFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksZUFBTSxFQUFFLENBQUM7QUFFN0IsT0FBTztBQUNQLElBQUksTUFBTSxHQUFHLElBQUksZUFBTSxFQUFFLENBQUM7QUFDMUIsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO0FBRWQsT0FBTztBQUNQLElBQUksUUFBUSxHQUFHLElBQUksaUJBQVEsRUFBRSxDQUFDO0FBQzlCLG1CQUFVLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUUvQixPQUFPO0FBQ1AsSUFBSSxTQUFTLEdBQUcsSUFBSSxrQkFBUyxFQUFFLENBQUM7QUFFaEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUErQkU7QUFFRiw4REFBOEQ7QUFFOUQsMkJBQTJCO0FBRTNCLHVCQUF1QjtBQUN2QixrQ0FBa0M7QUFFbEMsNERBQTREO0FBQzVELDREQUE0RDtBQUM1RCx3RUFBd0U7QUFDeEUseURBQXlEO0FBQ3pELHNEQUFzRDtBQUN0RCw0REFBNEQ7QUFDNUQsSUFBSTtBQUVKLDZCQUE2QjtBQUU3Qiw4REFBOEQ7QUFDOUQsOERBQThEO0FBQzlELElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekVKLHFDQUFvQztBQUVwQztJQUE0QiwwQkFBTztJQUdqQyxnQkFBbUIsRUFBVyxFQUFFLFFBQWlCO1FBQWpELFlBQ0UsaUJBQU8sU0FvQlI7UUFsQkMsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUV4QyxJQUFJLFdBQVcsR0FBbUIsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRSxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNuQyxLQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUV0QyxJQUFJLFlBQVksR0FBbUIsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNqRSxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyQyxLQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUV2QyxLQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFaEMsSUFBSSxFQUFFLEtBQUssU0FBUztZQUNsQixLQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFFdkIsSUFBSSxRQUFRLEtBQUssU0FBUztZQUN4QixLQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7O0lBQy9ELENBQUM7SUFFTyx5QkFBUSxHQUFoQjtRQUNFLElBQUksSUFBSSxDQUFDLEtBQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDbEMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQ25CO2FBQU07WUFDTCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDakI7SUFDSCxDQUFDO0lBRU0seUJBQVEsR0FBZjtRQUNFLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVNLDJCQUFVLEdBQWpCO1FBQ0UsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRU0seUJBQVEsR0FBZixVQUFnQixDQUFTLEVBQUUsQ0FBUztRQUNsQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBUSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFFakQsSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQixJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWpCLElBQUksQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLE9BQU8sSUFBSSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDM0UsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUN6RSxDQUFDO0lBRUgsYUFBQztBQUFELENBdERBLEFBc0RDLENBdEQyQixpQkFBTyxHQXNEbEM7QUF0RFksd0JBQU07Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRm5CLHFDQUFvQztBQUVwQztJQUE0QiwwQkFBTztJQWNqQyxnQkFBbUIsSUFBYTtRQUFoQyxZQUNFLGlCQUFPLFNBY1I7UUFaQyxLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFFOUIsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN4QyxLQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxLQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BDLEtBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxHQUFHLEtBQUksQ0FBQztRQUN2QixLQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFFMUIsZ0JBQWdCO1FBQ2hCLEtBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLEtBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDakUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDOztJQUVsQyxDQUFDO0lBekJELHNCQUFXLHdCQUFJO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQzthQUNELFVBQWdCLEdBQVc7WUFDekIsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEdBQUc7Z0JBQUUsT0FBTztZQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztZQUNqQixJQUFJLENBQUMsT0FBUSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3ZDLENBQUM7OztPQUxBO0lBMEJPLDJCQUFVLEdBQWxCLFVBQW1CLEdBQWtCO1FBQ25DLElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ3BCLE9BQXFCLEdBQUcsQ0FBQyxNQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFMUMsSUFBSSxHQUFHLENBQUMsT0FBTyxLQUFLLEVBQUUsSUFBSSxJQUFJLENBQUMsUUFBUTtZQUNyQyxPQUFPO1FBRVQsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3RCLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFTyx5QkFBUSxHQUFoQjtRQUNFLElBQUksQ0FBQyxPQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUFBLENBQUM7SUFFRixPQUFPO0lBQ0EsOEJBQWEsR0FBcEIsVUFBcUIsS0FBVTtRQUNULElBQUksQ0FBQyxPQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNsRCxDQUFDO0lBQUEsQ0FBQztJQUlKLGFBQUM7QUFBRCxDQXZEQSxBQXVEQyxDQXZEMkIsaUJBQU8sR0F1RGxDO0FBdkRZLHdCQUFNOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ZuQixxQ0FBb0M7QUFFcEM7SUFBNEIsMEJBQU87SUF3QmpDLGdCQUFtQixFQUFXO1FBQTlCLFlBQ0UsaUJBQU8sU0FTUjtRQVBDLEtBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRCxLQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFeEMsSUFBSSxFQUFFLEtBQUssU0FBUztZQUFFLEtBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUUzQyxLQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsR0FBRyxLQUFJLENBQUMsYUFBYSxDQUFDOztJQUVsRCxDQUFDO0lBaENELHNCQUFXLHlCQUFLO2FBQWhCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBcUIsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwRSxDQUFDO2FBQ0QsVUFBaUIsR0FBVztZQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87Z0JBQUUsT0FBTztZQUMxQixJQUF3QixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssS0FBSyxHQUFHO2dCQUFFLE9BQU87WUFFeEMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFzQixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssRUFBc0IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RyxDQUFDOzs7T0FQQTtJQVNELHNCQUFXLDBCQUFNO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBcUIsSUFBSSxDQUFDLE9BQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyRSxDQUFDO2FBQ0QsVUFBa0IsR0FBVztZQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87Z0JBQUUsT0FBTztZQUMxQixJQUF3QixJQUFJLENBQUMsT0FBUSxDQUFDLE1BQU0sS0FBSyxHQUFHO2dCQUFFLE9BQU87WUFFekMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQy9DLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFzQixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssRUFBc0IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RyxDQUFDOzs7T0FQQTtJQXFCTyw4QkFBYSxHQUFyQjtRQUNFLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUFBLENBQUM7SUFFSyx1QkFBTSxHQUFiLFVBQWMsS0FBYSxFQUFFLE1BQWM7UUFDekMsSUFBd0IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLEtBQUssS0FBSyxJQUF3QixJQUFJLENBQUMsT0FBUSxDQUFDLE1BQU0sS0FBSyxNQUFNO1lBQUUsT0FBTztRQUVqRyxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDNUIsSUFBSSxDQUFDLE9BQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ2xELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFzQixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssRUFBc0IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6RyxDQUFDO0lBQUEsQ0FBQztJQUVKLGFBQUM7QUFBRCxDQWhEQSxBQWdEQyxDQWhEMkIsaUJBQU8sR0FnRGxDO0FBaERZLHdCQUFNOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ZuQixxQ0FBb0M7QUFFcEM7SUFBOEIsNEJBQU87SUFxQm5DLGtCQUFtQixJQUFhO1FBQWhDLFlBQ0UsaUJBQU8sU0FhUjtRQVhDLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUV4QixLQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0MsS0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN0RCxLQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFFMUIsS0FBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsS0FBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFNUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hDLEtBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzs7SUFFcEMsQ0FBQztJQTlCRCxzQkFBVywyQkFBSzthQUFoQjtZQUNFLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNsQztpQkFBTTtnQkFDTCxPQUFPLElBQUksQ0FBQyxPQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQzthQUNwRDtRQUNILENBQUM7YUFDRCxVQUFpQixHQUFZO1lBQzNCLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQ2hDO2lCQUFNO2dCQUNMLElBQUksSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUc7b0JBQ3JELElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDM0I7UUFDSCxDQUFDOzs7T0FSQTtJQTBCTywyQkFBUSxHQUFoQjtRQUNFLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVPLDRCQUFTLEdBQWpCO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhO1lBQ3JCLE9BQU87UUFFVCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRU8sNkJBQVUsR0FBbEIsVUFBbUIsR0FBa0I7UUFDbkMsSUFBSSxHQUFHLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRyxTQUFTO1lBQ2hDLE9BQXFCLEdBQUcsQ0FBQyxNQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFMUMsUUFBUTtRQUNSLElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxFQUFFLElBQUksSUFBSSxDQUFDLFFBQVE7WUFDckMsT0FBTztRQUVULEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN0QixHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDM0IsQ0FBQztJQUVELE9BQU87SUFDQSxnQ0FBYSxHQUFwQixVQUFxQixLQUFjO1FBQ2pDLElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtZQUNsQixJQUFJLENBQUMsT0FBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3JDO2FBQU0sSUFBSSxLQUFLLEVBQUU7WUFDaEIsSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxPQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUNuRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFHSCxlQUFDO0FBQUQsQ0E3RUEsQUE2RUMsQ0E3RTZCLGlCQUFPLEdBNkVwQztBQTdFWSw0QkFBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGckIscUNBQW9DO0FBRXBDO0lBQXNDLG9DQUFPO0lBeUgzQztRQUFBLFlBQ0UsaUJBQU8sU0FpQlI7UUF4SU8sbUJBQWEsR0FBMEIsSUFBSSxDQUFDO1FBYzVDLHNCQUFnQixHQUFZLEtBQUssQ0FBQztRQUlsQyxzQkFBZ0IsR0FBTztZQUM3QixTQUFTLEVBQUUsSUFBSTtZQUNmLFVBQVUsRUFBRSxJQUFJO1lBQ2hCLGFBQWEsRUFBRSxLQUFLO1lBQ3BCLE9BQU8sRUFBRSxJQUFJO1lBQ2IsaUJBQWlCLEVBQUUsS0FBSztZQUN4QixxQkFBcUIsRUFBRSxLQUFLO1NBQzdCLENBQUM7UUFnR0EsSUFBSSxJQUFJLEdBQUcsS0FBSSxDQUFDO1FBRWhCLElBQUksZUFBZSxHQUFHO1lBQ3BCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7WUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMxQixnQ0FBZ0M7UUFDbEMsQ0FBQyxDQUFDO1FBRUYsS0FBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGdCQUFnQixDQUFDO1lBQ3BDLElBQUksSUFBSSxDQUFDLGdCQUFnQjtnQkFDdkIsT0FBTztZQUNULElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFDN0IsVUFBVSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsQ0FBQzs7SUFFTCxDQUFDO0lBdklELHNCQUFXLDBDQUFZO2FBQXZCO1lBQ0UsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQzVCLENBQUM7YUFDRCxVQUF3QixHQUEwQjtZQUNoRCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7YUFDN0I7WUFFRCxJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsQ0FBQztZQUV6QixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3JFLENBQUM7OztPQVRBO0lBeUJELHNCQUFXLHNDQUFRO2FBQW5CO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUM1RSxDQUFDO2FBQ0QsVUFBb0IsR0FBWTtZQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRztnQkFDdEUsT0FBTztZQUVULElBQUksR0FBRyxFQUFFO2dCQUNQLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQzthQUN4QztpQkFBTTtnQkFDTCxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDM0M7UUFDSCxDQUFDOzs7T0FWQTtJQVlELHNCQUFXLGtDQUFJO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3hFLENBQUM7YUFDRCxVQUFnQixHQUFZO1lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHO2dCQUNsRSxPQUFPO1lBRVQsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3BDO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUN2QztRQUNILENBQUM7OztPQVZBO0lBWUQsc0JBQVcsMkNBQWE7YUFBeEI7WUFDRSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWMsQ0FBQyxLQUFLLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDbkYsQ0FBQzthQUNELFVBQXlCLEdBQVc7WUFDbEMsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO2dCQUN0QixJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxhQUFhLEdBQUcsR0FBRyxDQUFDO2dCQUM3QyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsR0FBRyxHQUFJLENBQUM7YUFDckQ7UUFDSCxDQUFDOzs7T0FOQTtJQVFELHNCQUFXLHNDQUFRO2FBQW5CO1lBQ0UsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFjLENBQUMsS0FBSyxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQzlFLENBQUM7YUFDRCxVQUFvQixHQUFXO1lBQzdCLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQztnQkFDeEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHLEdBQUksQ0FBQzthQUNoRDtRQUNILENBQUM7OztPQU5BO0lBUUQsc0JBQVcsc0NBQVE7YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDakUsQ0FBQzthQUNELFVBQW9CLEdBQVc7WUFDN0IsSUFBSSxDQUFDLENBQUMsR0FBRztnQkFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztZQUU1QixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7Z0JBQ2xDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLGNBQWMsR0FBRyxHQUFJLENBQUM7YUFDMUM7WUFFRCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7Z0JBQ3hDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLGNBQWMsR0FBRyxHQUFJLENBQUM7YUFDaEQ7UUFDSCxDQUFDOzs7T0FiQTtJQWVELHNCQUFXLHdDQUFVO2FBQXJCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ25FLENBQUM7YUFDRCxVQUFzQixHQUFXO1lBQy9CLElBQUksQ0FBQyxDQUFDLEdBQUc7Z0JBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFFNUIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO2dCQUNwQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxHQUFJLENBQUM7YUFDNUM7WUFFRCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7Z0JBQzFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLGdCQUFnQixHQUFHLEdBQUksQ0FBQzthQUNsRDtRQUNILENBQUM7OztPQWJBO0lBZUQsc0JBQVcsb0NBQU07YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDaEUsQ0FBQzthQUNELFVBQWtCLEdBQVk7WUFDNUIsSUFBSSxJQUFJLENBQUMsS0FBSztnQkFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMvQyxDQUFDOzs7T0FIQTtJQTBCTSxpQ0FBTSxHQUFiLFVBQWMsT0FBOEI7UUFDMUMsSUFBSSxJQUFJLEdBQVksT0FBTyxZQUFZLFdBQVcsQ0FBQztRQUNuRCxJQUFJLElBQUksR0FBZ0IsSUFBSSxDQUFDLENBQUMsQ0FBYyxPQUFPLENBQUMsQ0FBQyxDQUFXLE9BQVEsQ0FBQyxPQUFRLENBQUM7UUFDbEYsSUFBSSxDQUFDLGFBQWMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdEMsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNDLE9BQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQzlCO0lBQ0gsQ0FBQztJQUdNLHVDQUFZLEdBQW5CLFVBQW9CLE9BQThCLEVBQUUsU0FBdUM7UUFDekYsSUFBSSxJQUFJLEdBQVksQ0FBQyxPQUFPLFlBQVksV0FBVyxDQUFDLENBQUM7UUFDckQsSUFBSSxJQUFJLEdBQWdCLElBQUksQ0FBQyxDQUFDLENBQWMsT0FBTyxDQUFDLENBQUMsQ0FBVyxPQUFRLENBQUMsT0FBUSxDQUFDO1FBRWxGLElBQUksU0FBUyxZQUFZLGlCQUFPO1lBQUUsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUM7UUFFaEUsSUFBSSxDQUFDLGFBQWMsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRWxELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDQyxPQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7SUFBQSxDQUFDO0lBRUssc0NBQVcsR0FBbEIsVUFBbUIsT0FBOEIsRUFBRSxTQUF1QztRQUN4RixJQUFJLElBQUksR0FBWSxDQUFDLE9BQU8sWUFBWSxXQUFXLENBQUMsQ0FBQztRQUNyRCxJQUFJLElBQUksR0FBZ0IsSUFBSSxDQUFDLENBQUMsQ0FBYyxPQUFPLENBQUMsQ0FBQyxDQUFXLE9BQVEsQ0FBQyxPQUFRLENBQUM7UUFFbEYsSUFBSSxTQUFTLFlBQVksaUJBQU87WUFBRSxTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQztRQUVoRSxJQUFJLFNBQVMsRUFBRTtZQUNiLElBQUksQ0FBQyxhQUFjLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDL0Q7YUFBTTtZQUNMLElBQUksQ0FBQyxhQUFjLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3ZDO1FBRUQsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNDLE9BQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQzlCO0lBQ0gsQ0FBQztJQUFBLENBQUM7SUFHSyxrQ0FBTyxHQUFkLFVBQWUsT0FBOEI7UUFDM0MsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGFBQWMsQ0FBQyxVQUFVLENBQUM7UUFDM0MsSUFBSSxJQUFJLEdBQVksQ0FBQyxPQUFPLFlBQVksV0FBVyxDQUFDLENBQUM7UUFDckQsSUFBSSxJQUFJLEdBQWdCLElBQUksQ0FBQyxDQUFDLENBQWMsT0FBTyxDQUFDLENBQUMsQ0FBVyxPQUFRLENBQUMsT0FBUSxDQUFDO1FBRWxGLElBQUksS0FBSyxFQUFFO1lBQ1QsSUFBSSxDQUFDLGFBQWMsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQy9DO2FBQU07WUFDTCxJQUFJLENBQUMsYUFBYyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN2QztRQUVELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDQyxPQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7SUFBQSxDQUFDO0lBRUssaUNBQU0sR0FBYixVQUFjLE9BQThCO1FBQzFDLElBQUksSUFBSSxHQUFZLENBQUMsT0FBTyxZQUFZLFdBQVcsQ0FBQyxDQUFDO1FBQ3JELElBQUksSUFBSSxHQUFnQixJQUFJLENBQUMsQ0FBQyxDQUFjLE9BQU8sQ0FBQyxDQUFDLENBQVcsT0FBUSxDQUFDLE9BQVEsQ0FBQztRQUVsRixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLElBQUksQ0FBQyxhQUFhO1lBQ2xFLE9BQU87UUFFVCxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVyQyxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ0MsT0FBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDOUI7SUFDSCxDQUFDO0lBQUEsQ0FBQztJQUVGLFdBQVc7SUFDSixnQ0FBSyxHQUFaO1FBQ0UsSUFBSSxJQUFpQixDQUFDO1FBRXRCLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFNUIsSUFBSSxDQUFDLEdBQVcsSUFBSSxDQUFDLGFBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO1FBQ3BELE9BQU8sQ0FBQyxFQUFFLEVBQUU7WUFDVixJQUFJLEdBQWdCLENBQUMsSUFBSSxDQUFDLGFBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV0RCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ1YsU0FBUztZQUVYLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDbkI7UUFDRCxJQUFJLENBQUMsYUFBYyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFFbkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBQUEsQ0FBQztJQUdKLHVCQUFDO0FBQUQsQ0EvT0EsQUErT0MsQ0EvT3FDLGlCQUFPLEdBK081QztBQS9PWSw0Q0FBZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRjdCLDhCQUE2QztBQUc3QztJQUE2QiwyQkFBTTtJQStMakM7UUFBQSxZQUNFLGlCQUFPLFNBUVI7UUF0TU8sYUFBTyxHQUFzQixJQUFJLENBQUM7UUFDbEMsZ0JBQVUsR0FBWSxLQUFLLENBQUM7UUFFcEMsT0FBTztRQUNBLFdBQUssR0FBbUIsSUFBSSxDQUFDO1FBQ3BDOztVQUVFO1FBQ00sZ0JBQVUsR0FBMEIsSUFBSSxDQUFDO1FBQ3pDLGtCQUFZLEdBQTBCLElBQUksQ0FBQztRQUM1QyxVQUFJLEdBQVcsRUFBRSxDQUFDO1FBRWxCLG1CQUFhLEdBQUcsS0FBSyxDQUFDO1FBQzdCLE9BQU87UUFDUCx5Q0FBeUM7UUFDekMsMEJBQTBCO1FBQzFCLGdFQUFnRTtRQUNoRSxTQUFTO1FBRUYsbUJBQWEsR0FBRyxLQUFLLENBQUM7UUFDckIsZUFBUyxHQUFHLEtBQUssQ0FBQztRQUNsQixxQkFBZSxHQUFHLEtBQUssQ0FBQztRQUV4Qix1QkFBaUIsR0FBMEIsSUFBSSxDQUFDO1FBQ2hELHVCQUFpQixHQUEwQixJQUFJLENBQUM7UUFDaEQsc0JBQWdCLEdBQTBCLElBQUksQ0FBQztRQUV2RCxlQUFlO1FBQ1AsY0FBUSxHQUEwQixJQUFJLENBQUM7UUFtSzdDLDZDQUE2QztRQUU3QyxLQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQzs7UUFDcEIsbUJBQW1CO1FBQ25CLHNDQUFzQztRQUN0QyxvQkFBb0I7UUFDcEIsS0FBSztJQUNQLENBQUM7SUF4S0Qsc0JBQVcsNEJBQU87UUFEbEIscURBQXFEO2FBQ3JEO1lBQ0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3ZCLENBQUM7YUFDRCxVQUFtQixHQUEwQjtZQUMzQyxJQUFJLElBQUksQ0FBQyxRQUFRO2dCQUFFLE9BQU87WUFFMUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7WUFDcEIsSUFBSSxDQUFDLFFBQVMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO1lBRXpCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUTtnQkFBRSxPQUFPO1lBRTNCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztZQUNoQixXQUFXO1lBQ1gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBQyxHQUFHO2dCQUMxQyxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYTtvQkFBRSxPQUFPO2dCQUNqRCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMxQixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDVixXQUFXO1lBQ1gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsVUFBQyxHQUFHO2dCQUM5QyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMxQixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDVixvQkFBb0I7WUFDcEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsVUFBQyxHQUFHO2dCQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN6QixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFFViw2REFBNkQ7UUFDL0QsQ0FBQzs7O09BekJBO0lBMkJELHNCQUFXLDJCQUFNO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3RCLENBQUM7YUFDRCxVQUFrQixHQUFzQjtZQUN0QyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ2hCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO2dCQUNwQixJQUFJLENBQUMsaUJBQWtCLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxpQkFBa0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDakMsSUFBSSxDQUFDLGdCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDO2FBQ2pDO1lBRUQsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FDeEMsU0FBUyxFQUNULElBQUksQ0FBQyxjQUFjLENBQ3BCLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQ3pFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUV0RSxJQUFJLElBQUksQ0FBQyxlQUFlLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7b0JBQ2xELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7b0JBRTdDLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTt3QkFDeEIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7d0JBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7cUJBQ3RCO3lCQUFNO3dCQUNMLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3FCQUNyQjtpQkFDRjthQUNGO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QixDQUFDOzs7T0FoQ0E7SUFrQ0Qsc0JBQVcsNkJBQVE7YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQztRQUNoRCxDQUFDO2FBQ0QsVUFBb0IsR0FBWTtZQUM5QixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssR0FBRztnQkFBRSxPQUFPO1lBRW5DLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUV6RSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtnQkFDMUMsSUFBSSxJQUFJLENBQUMsS0FBSztvQkFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQzthQUM1QztpQkFBTTtnQkFDTCxJQUFJLElBQUksQ0FBQyxLQUFLO29CQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQy9DO1FBQ0gsQ0FBQzs7O09BWkE7SUFjRCxzQkFBVyxpQ0FBWTthQUF2QjtZQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUN4QixDQUFDOzs7T0FBQTtJQUVELHNCQUFXLDRCQUFPO2FBQWxCO1lBQ0UsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDekIsQ0FBQzthQUNELFVBQW1CLEdBQVk7WUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUN2QixDQUFDOzs7T0FIQTtJQUtELHNCQUFXLDJCQUFNO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUM1RSxDQUFDO2FBQ0QsVUFBa0IsR0FBWTtZQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVE7Z0JBQUUsT0FBTztZQUUzQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRztnQkFBRSxPQUFPO1lBRWpFLElBQUksR0FBRyxFQUFFO2dCQUNQLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNuQjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFFbkI7UUFDSCxDQUFDOzs7T0FkQTtJQWlCRCxzQkFBVywwQkFBSztRQURoQixPQUFPO2FBQ1A7WUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUs7Z0JBQUUsT0FBTyxJQUFJLENBQUM7WUFDN0IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkMsQ0FBQzthQUNELFVBQWlCLEdBQVE7WUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLO2dCQUFFLE9BQU87WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNqQyxDQUFDOzs7T0FKQTtJQVFELHNCQUFXLDBCQUFLO1FBRmhCLGlCQUFpQjthQUVqQjtZQUNFLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDakIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQzthQUNoQztZQUNELE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzs7O09BQUE7SUFFRCxzQkFBVywwQkFBSzthQUFoQjtZQUNFLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDakIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQzthQUM1QjtZQUNELE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzs7O09BQUE7SUFHRCxzQkFBVyw2QkFBUTtRQURuQix5Q0FBeUM7YUFDekM7WUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDbkUsQ0FBQzthQUNELFVBQW9CLEdBQVc7WUFDN0IsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO2dCQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxjQUFjLEdBQUcsR0FBSSxDQUFDO2FBQzNDO1FBQ0gsQ0FBQzs7O09BTkE7SUFTRCxzQkFBVywrQkFBVTtRQURyQixxREFBcUQ7YUFDckQ7WUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDckUsQ0FBQzthQUNELFVBQXNCLEdBQVc7WUFDL0IsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO2dCQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxHQUFJLENBQUM7YUFDN0M7UUFDSCxDQUFDOzs7T0FOQTtJQW9CRCxXQUFXO0lBQ0osdUJBQUssR0FBWjtRQUNFLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNkLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3hCLFVBQVUsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3JDO0lBQ0gsQ0FBQztJQUdPLCtCQUFhLEdBQXJCO1FBQ0UsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDNUI7SUFDSCxDQUFDO0lBRU0sc0JBQUksR0FBWCxVQUFZLElBQVUsRUFBRSxJQUFZO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUVoQixJQUFJLElBQUksQ0FBQyxLQUFLO1lBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWpCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXhCLGdCQUFnQjtRQUNoQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDdEIsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUN2QyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxFQUFFLFVBQVUsS0FBVTtnQkFDdEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLEVBQUUsVUFBVSxLQUFVO2dCQUMxRSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztTQUNwQztJQUNILENBQUM7SUFBQSxDQUFDO0lBR0ssd0JBQU0sR0FBYjtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSztZQUFFLE9BQU87UUFFeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRS9CLG1CQUFtQjtRQUNuQixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztZQUV2QixJQUFJLENBQUMsWUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzVCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1NBQzFCO1FBRUQsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUFBLENBQUM7SUFFSywrQkFBYSxHQUFwQixVQUFxQixLQUFVO0lBRS9CLENBQUM7SUFHTSx5QkFBTyxHQUFkO1FBQ0UsSUFBSSxJQUFJLENBQUMsVUFBVTtZQUFFLE9BQU87UUFFNUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFFdkIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxpQkFBa0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNqQyxJQUFJLENBQUMsaUJBQWtCLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDakMsSUFBSSxDQUFDLGdCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1NBQ3JCO1FBRUQsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFO1lBQzdDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDckQ7UUFFRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFFZCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXJCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUVkLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUFBLENBQUM7SUFFTSxnQ0FBYyxHQUF0QjtRQUNFLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBQUEsQ0FBQztJQUVNLGdDQUFjLEdBQXRCO1FBQ0UsSUFBSSxJQUFJLENBQUMsZUFBZTtZQUFFLE9BQU87UUFFakMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFFNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNyQixJQUFJLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUM3QjtJQUNILENBQUM7SUFBQSxDQUFDO0lBRU0sK0JBQWEsR0FBckI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWU7WUFBRSxPQUFPO1FBRWxDLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO1FBRTdCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDaEM7SUFDSCxDQUFDO0lBQUEsQ0FBQztJQUdKLGNBQUM7QUFBRCxDQTdUQSxBQTZUQyxDQTdUNEIsWUFBTSxHQTZUbEM7QUE3VFksMEJBQU87Ozs7Ozs7QUNIcEIsNEJBQXVCO0FBQ3ZCLCtCQUEwQjtBQUMxQix5Q0FBb0M7QUFDcEMsNkJBQXdCO0FBQ3hCLDhCQUF5QjtBQUN6Qiw4QkFBeUI7QUFDekIsNkJBQXdCO0FBQ3hCLGtDQUE2QjtBQUM3QixzQ0FBaUM7QUFDakMsNEJBQXVCO0FBQ3ZCLGlDQUE0QjtBQUM1Qiw0QkFBdUI7QUFDdkIsaUNBQTRCO0FBQzVCLGdDQUEyQjtBQUMzQiw4QkFBeUI7QUFDekIsK0JBQTBCO0FBQzFCLCtCQUEwQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoQjFCLHFDQUFvQztBQUVwQztJQUEyQix5QkFBTztJQWlEaEMsZUFBbUIsSUFBYSxFQUFFLFdBQW9CLEVBQUUsTUFBZ0I7UUFBeEUsWUFDRSxpQkFBTyxTQWdCUjtRQWRDLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUM5QixLQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFFdkMsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUV2QyxJQUFJLEtBQUksQ0FBQyxLQUFLO1lBQ1osS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFNUIsS0FBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRWxDLElBQUksV0FBVyxFQUFFO1lBQ2YsS0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7U0FDaEM7O0lBQ0gsQ0FBQztJQS9ERCxzQkFBVyx1QkFBSTthQUFmO1lBQ0UsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2xDO2lCQUFNO2dCQUNMLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQzthQUNuQjtRQUNILENBQUM7YUFDRCxVQUFnQixHQUFXO1lBQ3pCLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxRQUFRO2dCQUNSLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUE7Z0JBQzlCLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDcEI7aUJBQU07Z0JBQ0wsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEdBQUc7b0JBQUUsT0FBTztnQkFFL0IsSUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7b0JBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO2lCQUNqQjtxQkFBTTtvQkFDTCxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztpQkFDbEI7Z0JBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQzFCO1FBQ0gsQ0FBQzs7O09BbkJBO0lBeUJELHNCQUFXLDhCQUFXO2FBQXRCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDekQsQ0FBQzthQUNELFVBQXVCLEdBQVc7WUFDaEMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2pELENBQUM7OztPQUhBO0lBS0Qsc0JBQVcsd0JBQUs7YUFBaEI7WUFDRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDbkIsQ0FBQzthQUNELFVBQWlCLEdBQVc7WUFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDbEIsQ0FBQzs7O09BSEE7SUF5Qk8sd0JBQVEsR0FBaEIsVUFBaUIsSUFBWTtRQUMzQixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1NBQ2hDO2FBQU07WUFDTCxJQUFJLENBQUMsT0FBUSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7U0FDbEM7SUFDSCxDQUFDO0lBRU8seUJBQVMsR0FBakI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWE7WUFDckIsT0FBTztRQUVULElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFBQSxDQUFDO0lBRUssNkJBQWEsR0FBcEIsVUFBcUIsS0FBVTtRQUM3QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBQUEsQ0FBQztJQUlKLFlBQUM7QUFBRCxDQTFGQSxBQTBGQyxDQTFGMEIsaUJBQU8sR0EwRmpDO0FBMUZZLHNCQUFLOzs7O0FDQ2xCLE9BQU87QUFDUDtJQU1FLGNBQW1CLEdBQVk7UUFGdkIsV0FBTSxHQUEyQixFQUFFLENBQUM7UUFHMUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7SUFDdEIsQ0FBQztJQUVNLGtCQUFHLEdBQVYsVUFBVyxJQUFZO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsT0FBTztJQUNBLGtCQUFHLEdBQVYsVUFBVyxJQUFZLEVBQUUsS0FBVTtRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUM1QixDQUFDO0lBRU0saUJBQUUsR0FBVCxVQUFVLElBQVksRUFBRSxFQUFZO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFDSCxXQUFDO0FBQUQsQ0F0QkEsQUFzQkMsSUFBQTtBQXRCWSxvQkFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKakIscUNBQW9DO0FBRXBDO0lBQThCLDRCQUFPO0lBd0NuQyxrQkFBbUIsSUFBYSxFQUFFLFFBQWtCLEVBQUUsYUFBdUI7UUFBN0UsWUFDRSxpQkFBTyxTQWNSO1FBWkMsS0FBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3hCLEtBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxJQUFJLEtBQUssQ0FBQztRQUNuQyxLQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsSUFBSSxLQUFLLENBQUM7UUFFN0MsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUUzQyxLQUFJLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEQsS0FBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEdBQUcsS0FBSSxDQUFDLEtBQUssQ0FBQztRQUMxQyxLQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFM0MsS0FBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDOztJQUNsQyxDQUFDO0lBcERELHNCQUFXLDBCQUFJO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEIsQ0FBQzthQUNELFVBQWdCLEdBQVc7WUFDekIsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEdBQUc7Z0JBQUUsT0FBTztZQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztZQUNqQixJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQzVDLENBQUM7OztPQUxBO0lBUUQsc0JBQVcsOEJBQVE7YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDeEIsQ0FBQzthQUNELFVBQW9CLEdBQVk7WUFDOUIsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLEdBQUc7Z0JBQ3hCLE9BQU87WUFFVCxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztZQUVyQixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ2xCLElBQUksQ0FBQyxPQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQzthQUN6QztpQkFBTTtnQkFDTCxJQUFJLENBQUMsT0FBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDNUM7WUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUM7WUFFakQsSUFBSSxJQUFJLENBQUMsTUFBTTtnQkFDYixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUVoRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckMsQ0FBQzs7O09BbkJBO0lBMkNPLDJCQUFRLEdBQWhCO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FDdEI7YUFBTSxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7U0FDdkI7SUFDSCxDQUFDO0lBSUgsZUFBQztBQUFELENBcEVBLEFBb0VDLENBcEU2QixpQkFBTyxHQW9FcEM7QUFwRVksNEJBQVE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRnJCLHlEQUF1RDtBQUV2RCxvQ0FBb0M7QUFFcEM7SUFBMEIsd0JBQWdCO0lBOEN4QyxjQUFtQixVQUFvQjtRQUF2QyxZQUNFLGlCQUFPLFNBYVI7UUFYQyxLQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXRDLEtBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVSxJQUFJLElBQUksQ0FBQztRQUV0QyxLQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixLQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUVwQixLQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RDLEtBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzs7SUFDcEMsQ0FBQztJQXhERCxzQkFBVyw0QkFBVTthQUFyQjtZQUNFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUMxQixDQUFDO2FBQ0QsVUFBc0IsR0FBWTtZQUNoQyxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssQ0FBQyxDQUFDLEdBQUc7Z0JBQzVCLE9BQU87WUFFVCxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztZQUV2QixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQy9CO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQ2xDO1FBQ0gsQ0FBQzs7O09BWkE7SUFpQkQsc0JBQVcsMEJBQVE7YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLENBQUM7YUFDRCxVQUFvQixHQUFlO1lBQ2pDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBRXRCLGNBQWM7WUFDZCxJQUFJLEtBQUssR0FBZSxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3RDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNyQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUM5QixTQUFTO2dCQUVYLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO2FBQzNCO1lBRUQsWUFBWTtZQUNaLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNuQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzthQUN4QjtZQUVELElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLENBQUM7OztPQW5CQTtJQXFDTyx3QkFBUyxHQUFqQixVQUFrQixJQUFjO1FBQzlCLElBQUksR0FBRyxHQUFXLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQztZQUNaLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTVCLElBQUksSUFBSSxDQUFDLFNBQVM7WUFDaEIsT0FBTztRQUVULElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUU7U0FFL0I7YUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO1NBRWhFO2FBQU07WUFDTCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUV0QixJQUFJLEtBQUssR0FBZSxJQUFJLENBQUMsUUFBUSxDQUFDO1lBRXRDLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ3BCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNyQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJO3dCQUNuQixTQUFTO29CQUVYLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO2lCQUMzQjthQUNGO1lBRUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7U0FDeEI7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFFTywwQkFBVyxHQUFuQixVQUFvQixJQUFjO1FBQ2hDLElBQUksR0FBRyxHQUFXLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9DLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQztZQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUU5QyxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQ2hCLE9BQU87UUFFVCxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFO1NBRS9CO2FBQU07WUFDTCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUV0QixJQUFJLEtBQUssR0FBZSxJQUFJLENBQUMsUUFBUSxDQUFDO1lBRXRDLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRTtnQkFDaEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO29CQUNuQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztnQkFFNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7YUFDdEI7WUFFRCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztTQUN4QjtRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUVPLHdCQUFTLEdBQWpCLFVBQWtCLElBQWM7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRO1lBQ2hCLE9BQU87UUFFVCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRU0sb0JBQUssR0FBWjtRQUNFLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLG9DQUFnQixDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFYSxVQUFLLEdBQW5CO1FBQ0UsT0FBTyxnQkFBTyxDQUFDLElBQUksQ0FBQztJQUN0QixDQUFDO0lBRWEsV0FBTSxHQUFwQjtRQUNFLE9BQU8sZ0JBQU8sQ0FBQyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVILFdBQUM7QUFBRCxDQTlJQSxBQThJQyxDQTlJeUIsb0NBQWdCLEdBOEl6QztBQTlJWSxvQkFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKakIseURBQXVEO0FBRXZEO0lBQTZCLDJCQUFnQjtJQTZDM0M7UUFBQSxZQUNFLGlCQUFPLFNBZ0JSO1FBZEMsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFbkQsS0FBSSxDQUFDLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BELEtBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxHQUFHLEtBQUksQ0FBQztRQUM5QixLQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQzFELEtBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUU5QyxLQUFJLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxLQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV2RixLQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEQsS0FBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNDLEtBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQzs7SUFFOUMsQ0FBQztJQXhERCxzQkFBVyw4QkFBUzthQUFwQjtZQUNFLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdELENBQUM7YUFDRCxVQUFxQixHQUFZO1lBQy9CLElBQUksR0FBRyxFQUFFO2dCQUNQLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUNoRDtpQkFBTTtnQkFDTCxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDbkQ7UUFDSCxDQUFDOzs7T0FQQTtJQVNELHNCQUFXLHlCQUFJO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxZQUFhLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUNwRCxDQUFDOzs7T0FBQTtJQUVELHNCQUFXLDJCQUFNO2FBQWpCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDcEQsQ0FBQzthQUNELFVBQWtCLEdBQVk7WUFDNUIsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN0QyxJQUFJLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO2dCQUNuQyxJQUFJLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO2FBQ25DO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxPQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUMxQztRQUNILENBQUM7OztPQVRBO0lBV0Qsc0JBQVcsZ0NBQVc7YUFBdEI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6RCxDQUFDO2FBQ0QsVUFBdUIsR0FBWTtZQUNqQyxJQUFJLEdBQUcsRUFBRTtnQkFDUCxJQUFJLENBQUMsT0FBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDNUM7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQy9DO1FBQ0gsQ0FBQzs7O09BUEE7SUE0Qk8sOEJBQVksR0FBcEIsVUFBcUIsR0FBZTtRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFDakIsT0FBTztRQUVULElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUVoQiwrQkFBK0I7UUFDL0IsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVyQixrQ0FBa0M7UUFDbEMscUJBQXFCLENBQUM7WUFDcEIsZUFBZTtZQUNmLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLENBQUMsQ0FBQyxDQUFDO1FBRUgsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFTSwwQkFBUSxHQUFmLFVBQWdCLENBQVMsRUFBRSxDQUFTO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUN2RCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBYSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFFdEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEQsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFeEQsSUFBSSxDQUFDLFlBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDekMsSUFBSSxDQUFDLFlBQWEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDMUMsQ0FBQztJQUdILGNBQUM7QUFBRCxDQTlGQSxBQThGQyxDQTlGNEIsb0NBQWdCLEdBOEY1QztBQTlGWSwwQkFBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGcEIseURBQXVEO0FBR3ZEO0lBQTJCLHlCQUFnQjtJQTZLekMsZUFBbUIsS0FBYztRQUFqQyxZQUNFLGlCQUFPLFNBOEVSO1FBMVBPLG1CQUFhLEdBQTBCLElBQUksQ0FBQztRQUM1Qyx3QkFBa0IsR0FBMEIsSUFBSSxDQUFDO1FBQ2pELG9CQUFjLEdBQTBCLElBQUksQ0FBQztRQU83QyxpQkFBVyxHQUE4QixFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQztRQUNwRCxtQkFBYSxHQUE4QjtZQUNqRCxHQUFHLEVBQUUsQ0FBQztZQUNOLEdBQUcsRUFBRSxRQUFRO1NBQ2QsQ0FBQztRQUNNLGFBQU8sR0FBVyxFQUFFLENBQUM7UUFDdEIsZ0JBQVUsR0FBVyxDQUFDLENBQUM7UUFDdEIsb0JBQWMsR0FBVyxDQUFDLEdBQUcsQ0FBQztRQUUvQixXQUFLLEdBQVcsRUFBRSxDQUFDO1FBNEp4QixJQUFJLElBQUksR0FBRyxLQUFJLENBQUM7UUFDaEIsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBRWxFLGlEQUFpRDtRQUVqRCxVQUFVO1FBQ1YsS0FBSSxDQUFDLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xELEtBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxHQUFHLEtBQUksQ0FBQztRQUM1QixLQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDM0MsS0FBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsS0FBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRTVDLElBQUksS0FBSyxFQUFFO1lBQ1QsS0FBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDbkIsS0FBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7U0FDckI7UUFFRCx1RUFBdUU7UUFFdkUsS0FBSSxDQUFDLGNBQWMsR0FBRyxVQUFVLEdBQWU7WUFDN0MsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3JCLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0QixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQztRQUVGLEtBQUksQ0FBQyxhQUFhLEdBQUcsVUFBVSxHQUFlO1lBQzVDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNyQixHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDdEIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3BCLENBQUMsQ0FBQztRQUVGLEtBQUksQ0FBQyxtQkFBbUIsR0FBRyxVQUFVLEdBQWU7WUFDbEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNsRCxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUVsQyxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDLGNBQWM7b0JBQzFDLFNBQVM7Z0JBRVgsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUNyQixHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBRS9DLE9BQU87YUFDUjtRQUNILENBQUMsQ0FBQztRQUVGLEtBQUksQ0FBQyxrQkFBa0IsR0FBRyxVQUFVLEdBQWU7WUFDakQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNsRCxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUVsQyxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDLGNBQWM7b0JBQzFDLFNBQVM7Z0JBRVgsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLEdBQUcsQ0FBQztnQkFFM0IsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUNyQixHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztnQkFFbEIsT0FBTzthQUNSO1FBQ0gsQ0FBQyxDQUFDO1FBRUYsT0FBTztRQUNQLDRDQUE0QztRQUM1QyxxQkFBcUIsQ0FBQztZQUNwQixxQkFBcUIsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDcEMsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILG1CQUFtQjtRQUNuQixLQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7O0lBSXBDLENBQUM7SUF0T0Qsc0JBQVcseUJBQU07YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDL0YsQ0FBQzthQUNELFVBQWtCLEdBQVk7WUFDNUIsSUFBSSxJQUFJLENBQUMsTUFBTTtnQkFDYixPQUFPO1lBRVQsSUFBSSxJQUFJLENBQUMsS0FBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRztnQkFDMUMsT0FBTztZQUVULElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUM7Z0JBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUM7WUFFcEQsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBRTFCLElBQUksSUFBSSxDQUFDLEtBQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO29CQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3JCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUU3QixJQUFJLElBQUksQ0FBQyxLQUFNLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQztvQkFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUN2QjtZQUVELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNqQixDQUFDOzs7T0F4QkE7SUEwQkQsc0JBQVcsNkJBQVU7YUFBckI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDaEUsQ0FBQzthQUNELFVBQXNCLEdBQVk7WUFDaEMsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7YUFDL0I7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7YUFDbEM7WUFDRCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDakIsQ0FBQzs7O09BUkE7SUFVRCxzQkFBVyw0QkFBUzthQUFwQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN0QixDQUFDO2FBQ0QsVUFBcUIsR0FBVztZQUM5QixJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssR0FBRztnQkFDdEIsT0FBTztZQUVULElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDN0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7WUFFbkIsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7b0JBQ3hCLElBQUksQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDcEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO29CQUM5QixJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQzVDLElBQUksQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUN2RixJQUFJLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztpQkFDekY7Z0JBRUQsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVU7b0JBQ2hDLElBQUksQ0FBQyxPQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDakQsT0FBTztnQkFDUCx3QkFBd0I7Z0JBQ3hCLElBQUksQ0FBQyxPQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDL0MsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDM0Q7aUJBQU07Z0JBQ0wsSUFBSSxJQUFJLENBQUMsY0FBYztvQkFBRSxJQUFJLENBQUMsT0FBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBRXhFLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxZQUFZLEdBQUcsU0FBUyxDQUFDLENBQUM7YUFDM0Q7WUFFRCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDakIsQ0FBQzs7O09BOUJBO0lBZ0NELHNCQUFXLDRCQUFTO2FBQXBCO1lBQ0UsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQztRQUNoQyxDQUFDO2FBQ0QsVUFBcUIsR0FBVztZQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDOUUsQ0FBQzs7O09BSEE7SUFLRCxzQkFBVyw0QkFBUzthQUFwQjtZQUNFLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUM7UUFDaEMsQ0FBQzthQUNELFVBQXFCLEdBQVc7WUFDOUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNqRSxDQUFDOzs7T0FIQTtJQUtELHNCQUFXLDJCQUFRO2FBQW5CO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzlELENBQUM7YUFDRCxVQUFvQixHQUFZO1lBQzlCLElBQUksR0FBRyxFQUFFO2dCQUNQLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUU1QixJQUFJLElBQUksQ0FBQyxLQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztvQkFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNyQjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFFL0IsSUFBSSxJQUFJLENBQUMsS0FBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7b0JBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDdkI7WUFFRCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDakIsQ0FBQzs7O09BZkE7SUFpQkQsc0JBQVcseUJBQU07YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDcEYsQ0FBQzthQUNELFVBQWtCLEdBQVc7WUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksR0FBRyxFQUFFO2dCQUM5QixJQUFJLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RELElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFOUMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3pELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMvQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztnQkFDMUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBRXhELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFRLENBQUMsVUFBVSxDQUFDO2dCQUNyQyxJQUFJLEtBQUssRUFBRTtvQkFDVCxJQUFJLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUN2RDtxQkFBTTtvQkFDTCxJQUFJLENBQUMsT0FBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7aUJBQy9DO2dCQUVELElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUUvQixJQUFJLE1BQUksR0FBRyxJQUFJLENBQUM7Z0JBRWhCLFVBQVU7Z0JBQ1YsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBVSxHQUFHO29CQUN4RCxJQUFJLENBQUMsTUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssTUFBSSxDQUFDLGFBQWEsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLE1BQUksQ0FBQyxrQkFBa0IsQ0FBQzt3QkFDakcsT0FBTztvQkFFVCxNQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsTUFBSSxDQUFDLE1BQU0sQ0FBQztnQkFDN0IsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ1g7aUJBQU0sSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUNyQyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFO29CQUNqQyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2lCQUMvRDtnQkFDRCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztnQkFDMUIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztnQkFDL0IsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDN0I7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLGtCQUFtQixDQUFDLFdBQVcsR0FBRyxHQUFHLElBQUksRUFBRSxDQUFDO2dCQUNqRCxJQUFJLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQzthQUNoQztRQUNILENBQUM7OztPQXhDQTtJQThITywyQkFBVyxHQUFuQixVQUFvQixDQUFTLEVBQUUsQ0FBUztRQUN0QyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxLQUFLLENBQUMsRUFBRTtZQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHO2dCQUNqQixDQUFDLEVBQUUsQ0FBQztnQkFDSixDQUFDLEVBQUUsQ0FBQztnQkFDSixLQUFLLEVBQUUsSUFBSSxDQUFDLFlBQWEsQ0FBQyxXQUFXO2dCQUNyQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQWEsQ0FBQyxZQUFZO2dCQUN2QyxHQUFHLEVBQUUsQ0FBQzthQUNQLENBQUM7U0FDSDthQUFNO1lBQ0wsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLE1BQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLE9BQU8sRUFBRTtnQkFDdkQsYUFBYTtnQkFDYixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBRXJDLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxPQUFPO29CQUMxQixPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUM7Z0JBRXJCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFbkgsSUFBSSxDQUFDLEtBQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUN2QyxJQUFJLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO2FBQ3JEO2lCQUFNO2dCQUNMLFdBQVc7Z0JBQ1gsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUVyQyxJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssUUFBUTtvQkFDM0IsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDO2dCQUVyQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXJILElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUM1RixJQUFJLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQzthQUNqRDtTQUNGO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQUEsQ0FBQztJQUVNLDBCQUFVLEdBQWxCO1FBQ0UsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3BFLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVqRSw0RUFBNEU7UUFDNUUsMEVBQTBFO1FBRTFFLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUFBLENBQUM7SUFFTSw0QkFBWSxHQUFwQixVQUFxQixHQUFVO1FBQzdCLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ3JCLE9BQU87UUFDVCxJQUFpQixHQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBZ0IsR0FBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2hFLElBQUksS0FBSyxHQUFnQixHQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNoRCxJQUFpQixLQUFLLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxPQUFPO29CQUM1QyxTQUFTO2dCQUVYLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQzthQUN4QztTQUNGO1FBRUQsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUV6QixNQUFNLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDakUsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRTlELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXBFLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNyQixHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUFBLENBQUM7SUFFTSx5QkFBUyxHQUFqQjtRQUNFLE9BQU87UUFDUCxvQ0FBb0M7UUFDcEMscUJBQXFCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBQUEsQ0FBQztJQUVNLHVCQUFPLEdBQWY7UUFDRSxJQUFJLElBQUksQ0FBQyxNQUFNO1lBQ2IsT0FBTztRQUVULElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNmLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO2dCQUN4QixJQUFJLENBQUMsS0FBTSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDO2FBQ3BEO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7YUFDckQ7U0FDRjthQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN4QixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztnQkFDeEIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQWEsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO2FBQzNEO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFhLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDO2FBQ3pGO1NBQ0Y7SUFDSCxDQUFDO0lBQUEsQ0FBQztJQUVNLCtCQUFlLEdBQXZCO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxNQUFNO1lBQ2pFLE9BQU87UUFFVCxJQUFJLENBQUMsS0FBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFhLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ3ZHLENBQUM7SUFBQSxDQUFDO0lBRUssNEJBQVksR0FBbkIsVUFBb0IsT0FBOEI7UUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhO1lBQ3JCLE9BQU87UUFFVCxJQUFJLElBQUksR0FBWSxDQUFDLE9BQU8sWUFBWSxXQUFXLENBQUMsQ0FBQztRQUNyRCxJQUFJLElBQUksR0FBZ0IsSUFBSSxDQUFDLENBQUMsQ0FBYyxPQUFPLENBQUMsQ0FBQyxDQUFXLE9BQVEsQ0FBQyxPQUFRLENBQUM7UUFFbEYsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBRS9ELElBQUksQ0FBQyxJQUFJO1lBQ0csT0FBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDckMsQ0FBQztJQUFBLENBQUM7SUFFRixPQUFPO0lBQ0MseUJBQVMsR0FBakIsVUFBa0IsR0FBUTtRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBQUEsQ0FBQztJQUVKLFlBQUM7QUFBRCxDQWhZQSxBQWdZQyxDQWhZMEIsb0NBQWdCLEdBZ1kxQztBQWhZWSxzQkFBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIbEIscUNBQW9DO0FBRXBDO0lBQStCLDZCQUFPO0lBc0VwQyxtQkFBbUIsV0FBb0IsRUFBRSxLQUFjO1FBQXZELFlBQ0UsaUJBQU8sU0FpQ1I7UUEvQkMsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUU1QyxLQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEQsS0FBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLEdBQUcsS0FBSSxDQUFDO1FBQzVCLEtBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QyxLQUFJLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7UUFDaEMsS0FBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2xGLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEtBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2hGLEtBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUU1QyxJQUFJLEtBQUssS0FBSyxTQUFTO1lBQ3JCLEtBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBRXJCLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEtBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQy9FLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLEtBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2pGLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLEtBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3hGLEtBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzFCLEtBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBRTFCLEtBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLEtBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBRXhCLEtBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNwQyxLQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBRXZDLElBQUksV0FBVztZQUNiLEtBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDOztJQUVuQyxDQUFDO0lBOUZELHNCQUFXLDRCQUFLO2FBQWhCO1lBQ0UsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2xDO2lCQUFNO2dCQUNMLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7YUFDaEM7UUFDSCxDQUFDO2FBQ0QsVUFBaUIsR0FBVztZQUMxQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ2QsT0FBTztnQkFDUCwyQ0FBMkM7Z0JBQzNDLHlEQUF5RDtnQkFDekQsSUFBSTthQUNMO2lCQUFNO2dCQUNMLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEtBQUssR0FBRztvQkFDakMsT0FBTztnQkFFVCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxHQUFHLElBQUksRUFBRSxDQUFDO2dCQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUMxQjtRQUNILENBQUM7OztPQWRBO0lBaUJELHNCQUFXLGtDQUFXO2FBQXRCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDekQsQ0FBQzthQUNELFVBQXVCLEdBQVc7WUFDaEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDUixJQUFJLENBQUMsT0FBUSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUM5QztpQkFBTTtnQkFDTCxJQUFJLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUM7YUFDaEQ7UUFDSCxDQUFDOzs7T0FQQTtJQVNELHNCQUFXLDRCQUFLO2FBQWhCO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbkQsQ0FBQzthQUNELFVBQWlCLEdBQVc7WUFDMUIsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDUixJQUFJLENBQUMsT0FBUSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUN4QztpQkFBTTtnQkFDTCxJQUFJLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7YUFDMUM7UUFDSCxDQUFDOzs7T0FQQTtJQVNELHNCQUFXLGdDQUFTO2FBQXBCO1lBQ0UsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQzNCLENBQUM7YUFDRCxVQUFxQixHQUFZO1lBQy9CLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxDQUFDLENBQUMsR0FBRztnQkFDN0IsT0FBTztZQUVULElBQUksR0FBRyxFQUFFO2dCQUNQLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDcEU7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ2hFO1FBQ0gsQ0FBQzs7O09BVkE7SUFpRE0saUNBQWEsR0FBcEIsVUFBcUIsS0FBYTtRQUNoQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVPLDZCQUFTLEdBQWpCO1FBQ0UsSUFBSSxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU87UUFFOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQztRQUU5QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUs7WUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVPLDhCQUFVLEdBQWxCLFVBQW1CLEdBQWtCO1FBQ25DLElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxFQUFFLEVBQUU7WUFDSCxHQUFHLENBQUMsTUFBTyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3ZDO2FBQU0sSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEtBQUssRUFBRSxFQUFFO1lBQ2pELElBQUksT0FBTyxHQUFZLEtBQUssQ0FBQztZQUU3QixJQUFJLFFBQU0sR0FBc0IsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUM1QyxPQUFPLFFBQU0sRUFBRTtnQkFDYixJQUFJLFFBQU0sQ0FBQyxPQUFPLElBQUksUUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUU7b0JBQzFDLFFBQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQ3ZCLE9BQU8sR0FBRyxJQUFJLENBQUM7b0JBQ2YsTUFBTTtpQkFDUDtnQkFDRCxRQUFNLEdBQUcsUUFBTSxDQUFDLE1BQU0sQ0FBQzthQUN4QjtZQUVELElBQUksQ0FBQyxPQUFPO2dCQUNJLEdBQUcsQ0FBQyxNQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDcEM7SUFDSCxDQUFDO0lBRU8saUNBQWEsR0FBckI7UUFDRSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFTSx5QkFBSyxHQUFaLFVBQWEsTUFBZTtRQUMxQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQUksTUFBTTtZQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDekMsQ0FBQztJQUVPLGlDQUFhLEdBQXJCO1FBQ0UsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRU8sZ0NBQVksR0FBcEI7UUFDRSxJQUFJLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFTyw4QkFBVSxHQUFsQjtRQUNFLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUNwQyxDQUFDO0lBRU8sNkJBQVMsR0FBakI7UUFDRSxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDckMsQ0FBQztJQUVPLGtDQUFjLEdBQXRCO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhO1lBQ3JCLE9BQU87UUFFVCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRUgsZ0JBQUM7QUFBRCxDQS9LQSxBQStLQyxDQS9LOEIsaUJBQU8sR0ErS3JDO0FBL0tZLDhCQUFTOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0Z0QixxQ0FBb0M7QUFFcEM7SUFBbUMsaUNBQU87SUFxRXhDLHVCQUFtQixXQUFvQixFQUFFLEtBQWMsRUFBRSxXQUFxQjtRQUE5RSxZQUNFLGlCQUFPLFNBZ0NSO1FBOUJDLEtBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxLQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUVoRCxLQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdkQsS0FBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLEdBQUcsS0FBSSxDQUFDO1FBQzVCLEtBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QyxLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDL0IsS0FBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsS0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbEYsS0FBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEYsS0FBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsS0FBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRTVDLElBQUksS0FBSyxLQUFLLFNBQVM7WUFDckIsS0FBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFckIsS0FBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0UsS0FBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsS0FBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDakYsS0FBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLEVBQUUsS0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDeEYsS0FBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDMUIsS0FBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFFMUIsS0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNsRSxLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUV4QixLQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxLQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDcEMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xDLEtBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUV2QyxJQUFJLFdBQVc7WUFDYixLQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQzs7SUFFbkMsQ0FBQztJQTlGRCxzQkFBVyxnQ0FBSzthQUFoQjtZQUNFLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNsQztpQkFBTTtnQkFDTCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2FBQ2hDO1FBQ0gsQ0FBQzthQUNELFVBQWlCLEdBQVc7WUFDMUIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNkLE9BQU87Z0JBQ1AsMkNBQTJDO2dCQUMzQyx5REFBeUQ7Z0JBQ3pELElBQUk7Z0JBRUosSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDL0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3JEO2lCQUFNO2dCQUNMLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEtBQUssR0FBRztvQkFDakMsT0FBTztnQkFFVCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxHQUFHLElBQUksRUFBRSxDQUFDO2dCQUNwQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUMxQjtRQUNILENBQUM7OztPQWpCQTtJQW1CRCxzQkFBVyxzQ0FBVzthQUF0QjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQVEsQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3pELENBQUM7YUFDRCxVQUF1QixHQUFXO1lBQ2hDLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQ1IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDOUM7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLE9BQVEsQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQ2hEO1FBQ0gsQ0FBQzs7O09BUEE7SUFTRCxzQkFBVyxvQ0FBUzthQUFwQjtZQUNFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztRQUMzQixDQUFDO2FBQ0QsVUFBcUIsR0FBWTtZQUMvQixJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssQ0FBQyxDQUFDLEdBQUc7Z0JBQzdCLE9BQU87WUFFVCxJQUFJLEdBQUcsRUFBRTtnQkFDUCxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQzthQUMvRTtpQkFBTTtnQkFDTCxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQzNFO1FBQ0gsQ0FBQzs7O09BVkE7SUFZRCxzQkFBVyxnQ0FBSzthQUFoQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQVEsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ25ELENBQUM7YUFDRCxVQUFpQixHQUFXO1lBQzFCLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQ1IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDeEM7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLE9BQVEsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQzFDO1FBQ0gsQ0FBQzs7O09BUEE7SUE0Q08saUNBQVMsR0FBakI7UUFDRSxJQUFJLElBQUksQ0FBQyxZQUFZO1lBQUUsT0FBTztRQUU5QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO1FBRTlCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSztZQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRU8sa0NBQVUsR0FBbEIsVUFBbUIsR0FBa0I7UUFDbkMsSUFBSSxHQUFHLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUNSLEdBQUcsQ0FBQyxNQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDbEM7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFO1lBQ2xFLElBQUksT0FBTyxHQUFZLEtBQUssQ0FBQztZQUU3QixJQUFJLFFBQU0sR0FBc0IsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUM1QyxPQUFPLFFBQU0sRUFBRTtnQkFDYixJQUFJLFFBQU0sQ0FBQyxPQUFPLElBQUksUUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUU7b0JBQzFDLFFBQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQ3ZCLE9BQU8sR0FBRyxJQUFJLENBQUM7b0JBQ2YsTUFBTTtpQkFDUDtnQkFDRCxRQUFNLEdBQUcsUUFBTSxDQUFDLE1BQU0sQ0FBQzthQUN4QjtZQUVELElBQUksQ0FBQyxPQUFPO2dCQUNJLEdBQUcsQ0FBQyxNQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDcEM7SUFDSCxDQUFDO0lBRU8scUNBQWEsR0FBckI7UUFDRSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFTyxxQ0FBYSxHQUFyQjtRQUNFLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVPLG9DQUFZLEdBQXBCO1FBQ0UsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRU8sa0NBQVUsR0FBbEI7UUFDRSxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDcEMsQ0FBQztJQUVPLGlDQUFTLEdBQWpCO1FBQ0UsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQ3JDLENBQUM7SUFFTyxzQ0FBYyxHQUF0QjtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYTtZQUNyQixPQUFPO1FBRVQsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUFBLENBQUM7SUFFSyw2QkFBSyxHQUFaLFVBQWEsTUFBZTtRQUMxQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQUksTUFBTTtZQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDekMsQ0FBQztJQUVNLHFDQUFhLEdBQXBCLFVBQXFCLEtBQWE7UUFDaEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFJSCxvQkFBQztBQUFELENBL0tBLEFBK0tDLENBL0trQyxpQkFBTyxHQStLekM7QUEvS1ksc0NBQWE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRjFCLHlEQUF1RDtBQUV2RDtJQUE2QiwyQkFBZ0I7SUEwRDNDLGlCQUFtQixJQUFrQjtRQUFyQyxZQUNFLGlCQUFPLFNBZ0NSO1FBL0JDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ2xCLElBQUksSUFBSSxHQUFHLEtBQUksQ0FBQztRQUVoQixLQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0MsS0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQztRQUV2RCxLQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEQsS0FBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pDLEtBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUU1QyxLQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsS0FBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2xDLEtBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVyQyxLQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDO1FBQ3pDLEtBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsS0FBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQixLQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDO1FBRWxDLEtBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QixLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDN0QsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2IsS0FBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ3ZCO2FBQU07WUFDTCxLQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1NBQzdCO1FBRUQsS0FBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsS0FBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEYsS0FBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsS0FBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7O0lBRXBGLENBQUM7SUFuRkQsc0JBQVcsMEJBQUs7YUFBaEI7WUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDckIsQ0FBQzthQUNELFVBQWlCLEdBQVc7WUFDMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLEdBQUc7Z0JBQ3JCLE9BQU87WUFFVCxJQUFJLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQ2xCLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFeEMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2pCLENBQUM7OztPQVZBO0lBWUQsc0JBQVcseUJBQUk7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLFlBQWEsQ0FBQyxTQUFTLENBQUM7UUFDdEMsQ0FBQzthQUNELFVBQWdCLEdBQVc7WUFDekIsSUFBSSxJQUFJLENBQUMsWUFBYSxDQUFDLFNBQVMsS0FBSyxHQUFHO2dCQUN0QyxPQUFPO1lBRVQsSUFBSSxDQUFDLFlBQWEsQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ3JDLENBQUM7OztPQU5BO0lBUUQsc0JBQVcseUJBQUk7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLFlBQWEsQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDO1FBQzlDLENBQUM7YUFDRCxVQUFnQixHQUFXO1lBQ3pCLElBQUksSUFBSSxDQUFDLFlBQWEsQ0FBQyxXQUFXLEtBQUssR0FBRztnQkFDeEMsT0FBTztZQUVULElBQUksQ0FBQyxZQUFhLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUN2QyxDQUFDOzs7T0FOQTtJQVFELHNCQUFXLHlCQUFJO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RDLENBQUM7YUFDRCxVQUFnQixHQUFZO1lBQzFCLElBQUksSUFBSSxDQUFDLEtBQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRztnQkFDdEMsT0FBTztZQUVULElBQUksR0FBRyxFQUFFO2dCQUNQLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3pCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzVCO1lBRUQsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2pCLENBQUM7OztPQVpBO0lBaURPLDhCQUFZLEdBQXBCLFVBQXFCLEdBQWU7UUFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTO1lBQ2pCLE9BQU87UUFFVCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRU8sK0JBQWEsR0FBckI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFDakIsT0FBTztRQUVULElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFTSwwQkFBUSxHQUFmLFVBQWdCLENBQVMsRUFBRSxDQUFTO1FBQ2xDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWxCLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQzlCLE9BQU87UUFFVCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRVgsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFTyx5QkFBTyxHQUFmO1FBQ0UsSUFBSSxJQUFJLENBQUMsTUFBTTtZQUNiLE9BQU87UUFFVCxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRTlCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFFM0IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUV0QyxZQUFZO1FBQ1osUUFBUSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ25CLEtBQUssS0FBSztnQkFDUixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7Z0JBQ3hDLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDYixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsY0FBYyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO2lCQUM3RDtxQkFBTTtvQkFDTCxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7aUJBQzFDO2dCQUNELE1BQU07WUFDUixLQUFLLE9BQU87Z0JBQ1YsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsY0FBYyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUM1RCxNQUFNO1lBQ1IsS0FBSyxRQUFRO2dCQUNYLElBQUksQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxjQUFjLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQzdELElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDYixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsY0FBYyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO2lCQUM3RDtxQkFBTTtvQkFDTCxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7aUJBQzFDO2dCQUNELE1BQU07WUFDUixLQUFLLE1BQU07Z0JBQ1QsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7Z0JBQ3pDLE1BQU07U0FDVDtRQUVELHlCQUF5QjtRQUN6QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBUSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFFakQsSUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRTtZQUNqQixJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7U0FDaEM7UUFDRCxJQUFJLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7WUFDaEMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztTQUNqQztRQUNELElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxPQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDbEMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1NBQy9FO1FBQ0QsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLEVBQUU7WUFDcEMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNuQyxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1lBQzdCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDaEY7UUFFRCxJQUFJLENBQUMsT0FBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFTSwwQkFBUSxHQUFmO0lBRUEsQ0FBQztJQUVNLHlCQUFPLEdBQWQ7SUFFQSxDQUFDO0lBR2EsY0FBTSxHQUFwQixVQUFxQixJQUFpQjtRQUNwQyxJQUFJLElBQUksR0FBZ0I7WUFDdEIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztTQUMxQixDQUFBO1FBRUQsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ3ZCO2FBQU07WUFDTCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1NBQzdCO1FBRUQsSUFBSSxJQUFJLEdBQVksSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdEMsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFPLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUNoRCxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7WUFFYixRQUFRLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ2xCLEtBQUssS0FBSztvQkFDUixJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTt3QkFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7b0JBQzFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7b0JBQ3BELElBQUksSUFBSSxDQUFDLElBQUksRUFBRTt3QkFDYixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztxQkFDOUM7eUJBQU07d0JBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7cUJBQzdDO29CQUNELE1BQU07Z0JBQ1IsS0FBSyxPQUFPO29CQUNWLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFO3dCQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztvQkFDNUMsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7b0JBQ2xCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUN6QyxNQUFNO2dCQUNSLEtBQUssUUFBUTtvQkFDWCxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTt3QkFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7b0JBQzFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7b0JBQ3BELElBQUksSUFBSSxDQUFDLElBQUksRUFBRTt3QkFDYixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDM0M7eUJBQU07d0JBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7cUJBQzFDO29CQUNELE1BQU07Z0JBQ1IsS0FBSyxNQUFNO29CQUNULElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFO3dCQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztvQkFDNUMsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7b0JBQ2xCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUMxQyxNQUFNO2FBQ1Q7WUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN0QixDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsT0FBTyxHQUFHO1lBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDckIsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLE1BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsTUFBTyxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRS9ELElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxNQUFPLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM3RCxJQUFJLENBQUMsTUFBTyxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV4QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFHSCxjQUFDO0FBQUQsQ0E3UUEsQUE2UUMsQ0E3UTRCLG9DQUFnQixHQTZRNUM7QUE3UVksMEJBQU87Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRnBCLHFDQUFvQztBQUNwQywrQkFBOEI7QUFDOUIsMkNBQXlDO0FBRXpDO0lBQThCLDRCQUFPO0lBOEZuQyxrQkFBbUIsSUFBa0I7UUFBckMsWUFDRSxpQkFBTyxTQWtFUjtRQWhKTSxhQUFPLEdBQVcsQ0FBQyxDQUFDLENBQUM7UUE0TnBCLGtCQUFZLEdBQUcsVUFBVSxHQUFlO1lBQzlDLElBQUksT0FBTyxHQUE2QixHQUFHLENBQUMsTUFBTSxDQUFDO1lBRW5ELHFCQUFxQjtZQUNyQixJQUFJLENBQVksT0FBTyxDQUFDLEVBQUcsRUFBRTtnQkFDM0IsSUFBSSxPQUFPLENBQUMsYUFBYSxJQUFjLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsRUFBRTtvQkFDakUsT0FBTyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUM7aUJBQ2pDO3FCQUFNO29CQUNMLE9BQU87aUJBQ1I7YUFDRjtZQUVELElBQUksQ0FBWSxPQUFPLENBQUMsRUFBRyxDQUFDLElBQUssQ0FBQyxTQUFTLEVBQUU7Z0JBQzNDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFDdEIsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUNyQixPQUFPO2FBQ1I7WUFFVSxPQUFPLENBQUMsRUFBRyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFFeEMsSUFBZSxPQUFPLENBQUMsRUFBRyxDQUFDLFlBQVk7Z0JBQ3JDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQWEsT0FBTyxDQUFDLEVBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUVsRSxPQUFPLENBQUMsRUFBRyxDQUFDLFlBQVksR0FBYyxPQUFPLENBQUMsRUFBRyxDQUFDLFVBQVUsQ0FBQztZQUN4RSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFhLE9BQU8sQ0FBQyxFQUFHLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBRS9FLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0QixHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7WUFFckIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUVmLE9BQU8sQ0FBQyxFQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQztRQTVLQSxJQUFJLElBQUksR0FBRyxLQUFJLENBQUM7UUFDaEIsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFFbEIsS0FBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFFakIsS0FBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUUzQyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxTQUFpQjtnQkFDaEQsSUFBSSxDQUFDLE9BQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3pDLENBQUMsRUFBRSxLQUFJLENBQUMsQ0FBQztTQUNWO1FBRUQsS0FBSSxDQUFDLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xELEtBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QyxLQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDbkMsS0FBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLEtBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxHQUFHLEtBQUksQ0FBQztRQUM1QixLQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxLQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFNUMsS0FBSSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xELEtBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2QyxLQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFaEQsS0FBSSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xELEtBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQy9DLEtBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2QyxLQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFaEQsS0FBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbkIsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFFdkIsS0FBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLEdBQWU7WUFDekMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDekQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7WUFFekIsR0FBRyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3JCLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUV0QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztZQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZCLENBQUMsQ0FBQztRQUVGLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbEUsS0FBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsS0FBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV4RSxLQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixLQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixLQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUUzRSxLQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxLQUFJLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzFFLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLEtBQUksQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDMUUsS0FBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsS0FBSSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUUxRSxLQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxLQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDcEMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xDLEtBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsQyxLQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXRDLEtBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLEtBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7O0lBR3hFLENBQUM7SUE5SUQsc0JBQVcsOEJBQVE7YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFNLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzFDLENBQUM7YUFDRCxVQUFvQixHQUFZO1lBQzlCLElBQUksSUFBSSxDQUFDLEtBQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUc7Z0JBQzVDLE9BQU87WUFFVCxJQUFJLEdBQUcsRUFBRTtnQkFDUCxJQUFJLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFFNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxJQUFJLENBQUMsSUFBSTtvQkFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7YUFFbEM7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBRS9CLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3RCLElBQUksSUFBSSxDQUFDLElBQUk7b0JBQ1gsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ3BDO1FBQ0gsQ0FBQzs7O09BbkJBO0lBcUJELHNCQUFXLDBCQUFJO2FBQWY7WUFDRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQztRQUM1QyxDQUFDO2FBQ0QsVUFBZ0IsR0FBVztZQUN6QixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxLQUFLLEdBQUc7Z0JBQ3RDLE9BQU87WUFDVCxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDckMsQ0FBQzs7O09BTEE7SUFPRCxzQkFBVywwQkFBSTthQUFmO1lBQ0UsT0FBTyxJQUFJLENBQUMsS0FBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN0QyxDQUFDO2FBQ0QsVUFBZ0IsR0FBWTtZQUMxQixJQUFJLElBQUksQ0FBQyxLQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHO2dCQUN4QyxPQUFPO1lBRVQsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2xCLElBQUksQ0FBQyxJQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzthQUMvQjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLElBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ2hDO1FBQ0gsQ0FBQzs7O09BZEE7SUFnQkQsc0JBQVcsMEJBQUk7YUFBZjtZQUNFLElBQWtCLElBQUksQ0FBQyxPQUFRLENBQUMsc0JBQXNCLElBQWdDLElBQUksQ0FBQyxPQUFRLENBQUMsc0JBQXVCLENBQUMsRUFBRSxJQUFnQyxJQUFJLENBQUMsT0FBUSxDQUFDLHNCQUF1QixDQUFDLEVBQUUsWUFBWSxRQUFRLEVBQUU7Z0JBQzFOLE9BQThDLElBQUksQ0FBQyxPQUFRLENBQUMsc0JBQXVCLENBQUMsRUFBRyxDQUFDO2FBQ3pGO2lCQUFNO2dCQUNMLE9BQU8sSUFBSSxDQUFDO2FBQ2I7UUFDSCxDQUFDOzs7T0FBQTtJQUVELHNCQUFXLDBCQUFJO2FBQWY7WUFDRSxJQUFrQixJQUFJLENBQUMsT0FBUSxDQUFDLGtCQUFrQixJQUFnQyxJQUFJLENBQUMsT0FBUSxDQUFDLGtCQUFtQixDQUFDLEVBQUUsSUFBZ0MsSUFBSSxDQUFDLE9BQVEsQ0FBQyxrQkFBbUIsQ0FBQyxFQUFFLFlBQVksUUFBUSxFQUFFO2dCQUM5TSxPQUE4QyxJQUFJLENBQUMsT0FBUSxDQUFDLGtCQUFtQixDQUFDLEVBQUcsQ0FBQzthQUNyRjtpQkFBTTtnQkFDTCxPQUFPLElBQUksQ0FBQzthQUNiO1FBQ0gsQ0FBQzs7O09BQUE7SUFHRCxzQkFBVywrQkFBUzthQUFwQjtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN6QixDQUFDO2FBQ0QsVUFBcUIsR0FBWTtZQUMvQixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUN4QixDQUFDOzs7T0FIQTtJQTJFRCxPQUFPO0lBQ0Esd0JBQUssR0FBWixVQUFhLEtBQWE7UUFDeEIsT0FBb0IsSUFBSSxDQUFDLE9BQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFBQSxDQUFDO0lBRU0sMkJBQVEsR0FBaEIsVUFBaUIsR0FBZTtRQUM5QixJQUFJLE9BQU8sR0FBNkIsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUVuRCxxQkFBcUI7UUFDckIsSUFBSSxDQUFZLE9BQU8sQ0FBQyxFQUFHLEVBQUU7WUFDM0IsSUFBSSxPQUFPLENBQUMsYUFBYSxJQUFjLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDakUsT0FBTyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUM7YUFDakM7aUJBQU07Z0JBQ0wsT0FBTzthQUNSO1NBQ0Y7UUFFRCxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQVksT0FBTyxDQUFDLEVBQUcsQ0FBQyxVQUFVO1lBQ3hELE9BQU87UUFFVCxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUUzQyxJQUFlLE9BQU8sQ0FBQyxFQUFHLENBQUMsU0FBUyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzFELE9BQU8sQ0FBQyxFQUFHLENBQUMsSUFBSSxHQUFHLENBQVksT0FBTyxDQUFDLEVBQUcsQ0FBQyxJQUFJLENBQUM7U0FDNUQ7YUFBTTtZQUNNLE9BQU8sQ0FBQyxFQUFHLENBQUMsSUFBSyxDQUFDLFlBQVksQ0FBWSxPQUFPLENBQUMsRUFBRyxDQUFDLENBQUM7WUFDbEUsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ3ZCO0lBQ0gsQ0FBQztJQUFBLENBQUM7SUFFTSw4QkFBVyxHQUFuQixVQUFvQixHQUFlO1FBQ2pDLElBQUksT0FBTyxHQUE2QixHQUFHLENBQUMsTUFBTSxDQUFDO1FBRW5ELHFCQUFxQjtRQUNyQixJQUFJLENBQVksT0FBTyxDQUFDLEVBQUcsRUFBRTtZQUMzQixJQUFJLE9BQU8sQ0FBQyxhQUFhLElBQWMsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxFQUFFO2dCQUNqRSxPQUFPLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQzthQUNqQztpQkFBTTtnQkFDTCxPQUFPO2FBQ1I7U0FDRjtRQUVELElBQUksQ0FBWSxPQUFPLENBQUMsRUFBRyxDQUFDLElBQUssQ0FBQyxhQUFhLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2pFLE9BQU87UUFFVCxHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDdEIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFFM0MsSUFBZSxPQUFPLENBQUMsRUFBRyxDQUFDLFNBQVMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNyRSxPQUFPO1NBQ1I7YUFBTTtZQUNNLE9BQU8sQ0FBQyxFQUFHLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hDO0lBQ0gsQ0FBQztJQUFBLENBQUM7SUFFTSwrQkFBWSxHQUFwQixVQUFxQixHQUFlO1FBQ2xDLElBQUksT0FBTyxHQUE2QixHQUFHLENBQUMsTUFBTSxDQUFDO1FBRW5ELHFCQUFxQjtRQUNyQixJQUFJLENBQVksT0FBTyxDQUFDLEVBQUcsRUFBRTtZQUMzQixJQUFJLE9BQU8sQ0FBQyxhQUFhLElBQWMsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxFQUFFO2dCQUNqRSxPQUFPLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQzthQUNqQztpQkFBTTtnQkFDTCxPQUFPO2FBQ1I7U0FDRjtRQUVELElBQWUsT0FBTyxDQUFDLEVBQUcsQ0FBQyxJQUFJLElBQUksQ0FBWSxPQUFPLENBQUMsRUFBRyxDQUFDLElBQUssQ0FBQyxTQUFTO1lBQ3hFLE9BQU87UUFFVCxHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7SUFFeEIsQ0FBQztJQUFBLENBQUM7SUFvQ00sK0JBQVksR0FBcEIsVUFBcUIsR0FBZTtRQUNsQyxJQUFJLE9BQU8sR0FBNkIsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUVuRCxxQkFBcUI7UUFDckIsSUFBSSxDQUFZLE9BQU8sQ0FBQyxFQUFHLEVBQUU7WUFDM0IsSUFBSSxPQUFPLENBQUMsYUFBYSxJQUFjLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDakUsT0FBTyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUM7YUFDakM7aUJBQU07Z0JBQ0wsT0FBTzthQUNSO1NBQ0Y7UUFFRCxHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDWCxPQUFPLENBQUMsRUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFaEQsQ0FBQztJQUFBLENBQUM7SUFHTSw0QkFBUyxHQUFqQjtRQUNFLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUFBLENBQUM7SUFFTSw4QkFBVyxHQUFuQjtRQUNFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUFBLENBQUM7SUFHTSw2QkFBVSxHQUFsQixVQUFtQixHQUFrQjtRQUNuQyxJQUFJLE9BQU8sR0FBNkIsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUVuRCxJQUFJLENBQVksT0FBTyxDQUFDLEVBQUc7WUFBRSxPQUFPO1FBRXBDLElBQUksV0FBVyxHQUF1QixPQUFPLENBQUMsRUFBRSxDQUFDO1FBRWpELElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEtBQUssT0FBTyxDQUFDO1lBQzNELE9BQU87UUFFVCxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pELE9BQU87UUFFVCxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDckIsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBRXRCLElBQUksWUFBWSxHQUF1QixJQUFJLENBQUM7UUFDNUMsSUFBSSxJQUFJLEdBQXVCLElBQUksQ0FBQztRQUNwQyxRQUFRLEdBQUcsQ0FBQyxPQUFPLEVBQUU7WUFDbkIsS0FBSyxDQUFDLEVBQUUsTUFBTTtnQkFDWixNQUFNO1lBQ1IsS0FBSyxFQUFFLEVBQUUsT0FBTztnQkFDZCxJQUFJLFFBQVEsR0FBRyxXQUFXLENBQUMsT0FBUSxDQUFDLGtCQUFrQixDQUFDO2dCQUN2RCxJQUFJLFFBQVE7b0JBQ1YsSUFBSSxHQUEyQixRQUFTLENBQUMsRUFBRSxDQUFDO2dCQUU5QyxJQUFJLFdBQVcsQ0FBQyxTQUFTLElBQUksV0FBVyxDQUFDLElBQUksRUFBRTtvQkFDN0MsSUFBSSxLQUFLLEdBQUcsV0FBVyxDQUFDLE9BQVEsQ0FBQyxpQkFBa0IsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDdkUsSUFBSSxLQUFLLElBQWtCLEtBQU0sQ0FBQyxFQUFFLEVBQUU7d0JBQ3BDLFlBQVksR0FBMkIsS0FBTSxDQUFDLEVBQUUsQ0FBQzt3QkFDakQsNEJBQTRCO3FCQUM3Qjt5QkFBTSxJQUFJLElBQUksRUFBRTt3QkFDZixZQUFZLEdBQUcsSUFBSSxDQUFDO3dCQUNwQix3QkFBd0I7cUJBQ3pCO2lCQUNGO3FCQUFNLElBQUksSUFBSSxFQUFFO29CQUNmLFlBQVksR0FBRyxJQUFJLENBQUM7b0JBQ3BCLHdCQUF3QjtpQkFDekI7cUJBQU0sSUFBSSxXQUFXLENBQUMsTUFBTSxJQUFJLFdBQVcsQ0FBQyxNQUFNLFlBQVksUUFBUSxFQUFFO29CQUN2RSxJQUFJLFFBQU0sR0FBdUIsV0FBVyxDQUFDLE1BQU0sQ0FBQztvQkFFcEQsSUFBSSxRQUFRLEdBQUcsVUFBVSxJQUFjO3dCQUNyQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO3dCQUNyQixJQUFJLElBQUksRUFBRTs0QkFDUixZQUFZLEdBQUcsSUFBSSxDQUFDOzRCQUNwQix3QkFBd0I7eUJBQ3pCOzZCQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sWUFBWSxRQUFRLEVBQUU7NEJBQzFDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQzt5QkFDcEI7d0JBQ0QsT0FBTyxJQUFJLENBQUM7b0JBQ2QsQ0FBQyxDQUFDO29CQUNGLFFBQU0sR0FBRyxRQUFRLENBQUMsUUFBTSxDQUFDLENBQUM7b0JBQzFCLE9BQU8sUUFBTSxFQUFFO3dCQUNiLFFBQU0sR0FBRyxRQUFRLENBQUMsUUFBTSxDQUFDLENBQUM7cUJBQzNCO2lCQUNGO2dCQUNELE1BQU07WUFDUixLQUFLLEVBQUUsRUFBRSxLQUFLO2dCQUNaLElBQUksTUFBTSxHQUFHLFdBQVcsQ0FBQyxPQUFRLENBQUMsc0JBQXNCLENBQUM7Z0JBQ3pELElBQUksTUFBTTtvQkFDUixJQUFJLEdBQTJCLE1BQU8sQ0FBQyxFQUFFLENBQUM7Z0JBRTVDLElBQUksSUFBSSxFQUFFO29CQUNSLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxXQUFXLENBQUMsTUFBTSxFQUFFO3dCQUM5RCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBUSxDQUFDLGdCQUFnQixDQUFDO3dCQUM5QyxJQUFJLElBQUksR0FBdUIsSUFBSSxDQUFDO3dCQUNwQyxJQUFJLFFBQVEsSUFBa0IsUUFBUyxDQUFDLEVBQUU7NEJBQ3hDLElBQUksR0FBMkIsUUFBUyxDQUFDLEVBQUUsQ0FBQzt3QkFFOUMsSUFBSSxJQUFJLEVBQUU7NEJBQ1IsSUFBSSxRQUFRLEdBQUcsVUFBVSxNQUFnQjtnQ0FDdkMsSUFBSSxNQUFNLENBQUMsU0FBUyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7b0NBQ25DLElBQUksTUFBTSxDQUFDLE9BQVEsQ0FBQyxnQkFBZ0IsSUFBa0IsTUFBTSxDQUFDLE9BQVEsQ0FBQyxnQkFBaUIsQ0FBQyxFQUFFLEVBQUU7d0NBQzFGLE9BQStCLE1BQU0sQ0FBQyxPQUFRLENBQUMsZ0JBQWlCLENBQUMsRUFBRSxDQUFDO3FDQUNyRTtvQ0FDRCxPQUFPLElBQUksQ0FBQztpQ0FDYjtxQ0FBTTtvQ0FDTCxPQUFPLElBQUksQ0FBQztpQ0FDYjs0QkFDSCxDQUFDLENBQUE7NEJBRUQsSUFBSSxLQUFLLEdBQVksS0FBSyxDQUFDOzRCQUMzQixPQUFPLENBQUMsS0FBSyxFQUFFO2dDQUNiLElBQUksTUFBTSxHQUF1QixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7Z0NBQ2hELElBQUksTUFBTSxFQUFFO29DQUNWLElBQUksR0FBRyxNQUFNLENBQUE7aUNBQ2Q7cUNBQU07b0NBQ0wsS0FBSyxHQUFHLElBQUksQ0FBQztpQ0FDZDs2QkFDRjs0QkFFRCxZQUFZLEdBQUcsSUFBSSxDQUFDOzRCQUNwQix3QkFBd0I7eUJBQ3pCOzZCQUFNOzRCQUNMLFlBQVksR0FBRyxJQUFJLENBQUM7NEJBQ3BCLHdCQUF3Qjt5QkFDekI7cUJBQ0Y7eUJBQU07d0JBQ0wsWUFBWSxHQUFHLElBQUksQ0FBQzt3QkFDcEIsd0JBQXdCO3FCQUN6QjtpQkFDRjtxQkFBTSxJQUFJLFdBQVcsQ0FBQyxNQUFNLElBQUksV0FBVyxDQUFDLE1BQU0sWUFBWSxRQUFRLEVBQUU7b0JBQ3ZFLFlBQVksR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDO29CQUNsQyxrQ0FBa0M7aUJBQ25DO2dCQUVELE1BQU07WUFDUixLQUFLLEVBQUUsRUFBRSxlQUFlO2dCQUN0QixJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssV0FBVyxDQUFDLElBQUksSUFBSSxXQUFXLENBQUMsSUFBSTtvQkFDN0QsV0FBVyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7Z0JBQzNCLE1BQU07WUFDUixLQUFLLEVBQUUsRUFBRSxlQUFlO2dCQUN0QixJQUFJLFdBQVcsQ0FBQyxTQUFTLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSTtvQkFDNUMsV0FBVyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Z0JBQzFCLE1BQU07U0FDVDtRQUVELElBQUksWUFBWSxFQUFFO1lBQ2hCLElBQUksQ0FBQyxDQUFDLFdBQUksQ0FBQyxLQUFLLElBQUksV0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQUksQ0FBQyxNQUFNLElBQUksV0FBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNsRSxXQUFXLENBQUMsSUFBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzVCLFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1NBQzlCO0lBQ0gsQ0FBQztJQUVELFlBQVk7SUFDSiw0QkFBUyxHQUFqQixVQUFrQixNQUFlO1FBQy9CLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxDQUFDLElBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNuQixJQUFJLENBQUMsSUFBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RCLHFCQUFxQjtRQUNyQixJQUFJLEtBQUssR0FBRyxJQUFJLHNCQUFTLEVBQUUsQ0FBQztRQUM1QixLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNwQixLQUFLLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztRQUM1QixLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDeEIsS0FBSyxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSyxDQUFDLGFBQWEsQ0FBQztRQUN4RCxLQUFLLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtZQUMxQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDaEIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0IsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ1YsS0FBSyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxHQUFlO1lBQ3pDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQztRQUNILEtBQUssQ0FBQyxPQUFRLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLFVBQVUsR0FBRztZQUN2RCxHQUFHLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUM7UUFDSCxLQUFLLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLEtBQWE7WUFDeEMsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNyQixJQUFJLEtBQUssRUFBRTtnQkFDVCxPQUFPO2dCQUNQLHFCQUFxQjtnQkFDckIsb0NBQW9DO2dCQUNwQyxJQUFJO2dCQUVKLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQzVCO1lBRUQsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLE9BQVEsQ0FBQyxDQUFDO1FBQzlDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDM0IsS0FBSyxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRU8sNkJBQVUsR0FBbEI7UUFDRSxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRU8sNEJBQVMsR0FBakIsVUFBa0IsSUFBYztRQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNO1lBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFTyw0QkFBUyxHQUFqQixVQUFrQixJQUFjO1FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU07WUFDYixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUdNLHdCQUFLLEdBQVo7UUFDRSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFTSx5QkFBTSxHQUFiLFVBQWMsSUFBYztRQUMxQixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxPQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdEQ7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBUSxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRWpCLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDMUIsSUFBSSxDQUFDLEtBQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDOUI7YUFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxFQUFFO1lBQzdCLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzlCO1FBRUQsSUFBSSxjQUFjLEdBQUcsVUFBVSxRQUFrQjtZQUMvQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUVsQyxJQUFJLFFBQVEsQ0FBQyxTQUFTLEVBQUU7Z0JBQ3RCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQzFELGNBQWMsQ0FBeUIsUUFBUSxDQUFDLE9BQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7aUJBQzNFO2FBQ0Y7UUFDSCxDQUFDLENBQUM7UUFDRixjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVNLCtCQUFZLEdBQW5CLFVBQW9CLElBQWMsRUFBRSxhQUF1QjtRQUN6RCxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxPQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdEQ7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBUSxFQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFakIsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLENBQUMsRUFBRTtZQUN4QixJQUFJLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsS0FBTSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUM5QjthQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUU7WUFDN0IsSUFBSSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDOUI7UUFFRCxJQUFJLGNBQWMsR0FBRyxVQUFVLFFBQWtCO1lBQy9DLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBRWxDLElBQUksUUFBUSxDQUFDLFNBQVMsRUFBRTtnQkFDdEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxPQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDMUQsY0FBYyxDQUF5QixRQUFRLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztpQkFDM0U7YUFDRjtRQUNILENBQUMsQ0FBQztRQUNGLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRU0sOEJBQVcsR0FBbEIsVUFBbUIsSUFBYyxFQUFFLGFBQXVCO1FBQ3hELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBRW5CLGdCQUFnQjtRQUNoQixJQUFJLENBQUMsYUFBYTtZQUNoQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXBCLElBQUksQ0FBQyxPQUFRLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFRLEVBQUUsYUFBYSxDQUFDLE9BQVEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3JGLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUVqQixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzFCLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzlCO2FBQU0sSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLENBQUMsRUFBRTtZQUMvQixJQUFJLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3REO1FBRUQsSUFBSSxjQUFjLEdBQUcsVUFBVSxRQUFrQjtZQUMvQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUVsQyxJQUFJLFFBQVEsQ0FBQyxTQUFTLEVBQUU7Z0JBQ3RCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQzFELGNBQWMsQ0FBeUIsUUFBUSxDQUFDLE9BQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7aUJBQzNFO2FBQ0Y7UUFDSCxDQUFDLENBQUM7UUFDRixjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUdNLHlCQUFNLEdBQWIsVUFBYyxJQUFjO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUMxRCxPQUFPO1FBRVQsSUFBSSxDQUFDLE9BQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUVqQixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ2pDO2FBQU0sSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3BFLElBQUksQ0FBQyxPQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDbkQ7UUFFRCxJQUFJLGNBQWMsR0FBRyxVQUFVLFFBQWtCO1lBQy9DLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBRWxDLElBQUksUUFBUSxDQUFDLFNBQVMsRUFBRTtnQkFDdEIsS0FBSyxJQUFJLENBQUMsR0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxPQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDbEUsSUFBa0IsUUFBUSxDQUFDLE9BQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFFLENBQUMsRUFBRSxJQUFrQixRQUFRLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUUsQ0FBQyxFQUFFLFlBQVksUUFBUSxFQUFFO3dCQUMxSCxjQUFjLENBQXlCLFFBQVEsQ0FBQyxPQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO3FCQUMzRTtpQkFDRjthQUNGO1FBQ0gsQ0FBQyxDQUFDO1FBQ0YsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFDSCxlQUFDO0FBQUQsQ0EzbEJBLEFBMmxCQyxDQTNsQjZCLGlCQUFPLEdBMmxCcEM7QUEzbEJZLDRCQUFROzs7Ozs7Ozs7Ozs7Ozs7OztBQ0pyQix5REFBdUQ7QUFDdkQseUNBQXVDO0FBQ3ZDLG9DQUFvQztBQUdwQztJQUEwQix3QkFBZ0I7SUFtQnhDO1FBQUEsWUFDRSxpQkFBTyxTQXFDUjtRQXBETSxnQkFBVSxHQUFlLEVBQUUsQ0FBQztRQU0zQixlQUFTLEdBQWUsRUFBRSxDQUFDO1FBRTVCLG1CQUFhLEdBQVksSUFBSSxDQUFDO1FBU25DLEtBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxLQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFHdEMsS0FBSSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pELEtBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5QyxLQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFM0MsSUFBSSxJQUFJLEdBQUcsS0FBSSxDQUFDO1FBQ2hCLEtBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLFVBQVUsR0FBZTtZQUN0RSxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckIsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBRXRCLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUM7UUFDSCxLQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRSxVQUFVLEdBQWU7WUFDbkUsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3BCLENBQUMsQ0FBQyxDQUFDO1FBRUgsS0FBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xDLEtBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN0QyxLQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRWxDLEtBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLEtBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLEtBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLEtBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLEtBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1FBQzFCLEtBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLEtBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBRXhCLEtBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDOztJQUV0QixDQUFDO0lBMUNELHNCQUFXLDBCQUFRO2FBQW5CO1lBQ0UsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDOzs7T0FBQTtJQTBDYSxVQUFLLEdBQW5CO1FBQ0UsT0FBTyxnQkFBTyxDQUFDLElBQUksQ0FBQztJQUN0QixDQUFDO0lBRWEsV0FBTSxHQUFwQjtRQUNFLE9BQU8sZ0JBQU8sQ0FBQyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUdPLDBCQUFXLEdBQW5CLFVBQW9CLEdBQWU7UUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTO1lBQ2pCLE9BQU87UUFFVCxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFTyw4QkFBZSxHQUF2QixVQUF3QixHQUFlO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFDcEMsT0FBTztRQUVULElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUNwRCxJQUFJLElBQUksR0FBVyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztRQUUxRSxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzdCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFakMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxJQUFJLEVBQUU7WUFDbEMsSUFBSSxRQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ25CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDL0MsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNoRCxRQUFNLEdBQUcsSUFBSSxDQUFDO29CQUNkLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO29CQUN0QixNQUFNO2lCQUNQO2FBQ0Y7WUFDRCxJQUFJLENBQUMsUUFBTTtnQkFDVCxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztTQUM3QjthQUFNO1lBQ0wsaUVBQWlFO1lBQ2pFLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNwQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQy9DLElBQUksUUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO2dCQUNuQyxPQUFPLFFBQU0sRUFBRTtvQkFDYixJQUFJLFFBQU0sS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFO3dCQUNqQyxPQUFPLEdBQUcsSUFBSSxDQUFDO3dCQUNmLE1BQU07cUJBQ1A7b0JBRUQsUUFBTSxHQUFHLFFBQU0sQ0FBQyxNQUFNLENBQUM7aUJBQ3hCO2FBQ0Y7WUFFRCxJQUFJLE9BQU8sRUFBRTtnQkFDWCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQzthQUN2QjtpQkFBTSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO2dCQUMvRixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQzthQUMzQjtpQkFBTSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDM0osSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7YUFDMUI7aUJBQU07Z0JBQ0wsSUFBSSxRQUFNLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUU7b0JBQzFDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTt3QkFDL0MsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsU0FBUyxFQUFFOzRCQUNoRCxRQUFNLEdBQUcsSUFBSSxDQUFDOzRCQUNkLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDOzRCQUMxQixNQUFNO3lCQUNQO3FCQUNGO2lCQUNGO2dCQUNELElBQUksQ0FBQyxRQUFNO29CQUNULElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO2FBQzdCO1NBQ0Y7UUFFRCxJQUFJLE9BQU8sS0FBSyxJQUFJLENBQUMsU0FBUyxJQUFJLFdBQVcsS0FBSyxJQUFJLENBQUMsU0FBUztZQUM5RCxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBR00sMkJBQVksR0FBbkIsVUFBb0IsSUFBYztRQUNoQyxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQzlCLG1DQUFtQztZQUNuQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUNoQzthQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUU7WUFDaEUsbUNBQW1DO1lBQ25DLElBQUksSUFBSSxHQUFhLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDL0QsSUFBSSxFQUFFLEdBQWEsSUFBSSxDQUFDO1lBRXhCLElBQUksRUFBRSxHQUFlLEVBQUUsQ0FBQztZQUN4QixJQUFJLElBQUksR0FBZSxFQUFFLENBQUM7WUFFMUIsSUFBSSxJQUFJLEdBQUcsVUFBVSxPQUFpQjtnQkFDcEMsSUFBSSxDQUFDLE9BQU87b0JBQUUsT0FBTyxJQUFJLENBQUM7Z0JBQzFCLElBQUksTUFBTSxHQUF1QixJQUFJLENBQUM7Z0JBQ3RDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxPQUFRLENBQUMsc0JBQXNCLENBQUM7Z0JBQ3ZELElBQUksSUFBSSxHQUF1QixJQUFJLENBQUM7Z0JBQ3BDLElBQUksUUFBUTtvQkFBRSxJQUFJLEdBQTJCLFFBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBRTFELElBQUksSUFBSSxFQUFFO29CQUNSLElBQUksT0FBTyxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLElBQUksSUFBSSxPQUFPLENBQUMsTUFBTSxZQUFZLG9CQUFRLEVBQUU7d0JBQ25GLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO3FCQUN6Qjt5QkFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFHLGdCQUFnQjt3QkFDekQscURBQXFEO3dCQUNyRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBUSxDQUFDLGdCQUFnQixDQUFDO3dCQUM5QyxJQUFJLElBQUksR0FBdUIsSUFBSSxDQUFDO3dCQUNwQyxJQUFJLFFBQVEsSUFBa0IsUUFBUyxDQUFDLEVBQUU7NEJBQ3hDLElBQUksR0FBMkIsUUFBUyxDQUFDLEVBQUUsQ0FBQzt3QkFFOUMsSUFBSSxJQUFJLEVBQUU7NEJBQ1IsSUFBSSxRQUFRLEdBQUcsVUFBVSxNQUEwQjtnQ0FDakQsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO29DQUM3QyxJQUFJLE1BQU0sQ0FBQyxPQUFRLENBQUMsZ0JBQWdCLElBQWtCLE1BQU0sQ0FBQyxPQUFRLENBQUMsU0FBVSxDQUFDLEVBQUUsRUFBRTt3Q0FDbkYsT0FBK0IsTUFBTSxDQUFDLE9BQVEsQ0FBQyxTQUFVLENBQUMsRUFBRSxDQUFDO3FDQUM5RDt5Q0FBTTt3Q0FDTCxPQUFPLElBQUksQ0FBQztxQ0FDYjtpQ0FDRjtxQ0FBTTtvQ0FDTCxPQUFPLElBQUksQ0FBQztpQ0FDYjs0QkFDSCxDQUFDLENBQUE7NEJBRUQsSUFBSSxLQUFLLEdBQVksS0FBSyxDQUFDOzRCQUMzQixPQUFPLENBQUMsS0FBSyxFQUFFO2dDQUNiLElBQUksTUFBTSxHQUF1QixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7Z0NBQ2hELElBQUksTUFBTSxFQUFFO29DQUNWLElBQUksR0FBRyxNQUFNLENBQUM7aUNBQ2Y7cUNBQU07b0NBQ0wsS0FBSyxHQUFHLElBQUksQ0FBQztpQ0FDZDs2QkFDRjs0QkFFRCxNQUFNLEdBQUcsSUFBSSxDQUFDO3lCQUNmOzZCQUFNOzRCQUNMLE1BQU0sR0FBRyxJQUFJLENBQUM7eUJBQ2Y7cUJBQ0Y7eUJBQU07d0JBQ0wsTUFBTSxHQUFHLElBQUksQ0FBQztxQkFDZjtpQkFDRjtnQkFFRCxPQUFPLE1BQU0sQ0FBQztZQUNoQixDQUFDLENBQUM7WUFFRixJQUFJLElBQUksR0FBRyxVQUFVLE9BQWlCO2dCQUNwQyxJQUFJLE1BQU0sR0FBdUIsSUFBSSxDQUFDO2dCQUN0QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsT0FBUSxDQUFDLGtCQUFrQixDQUFDO2dCQUNuRCxJQUFJLElBQUksR0FBdUIsSUFBSSxDQUFDO2dCQUNwQyxJQUFJLFFBQVE7b0JBQUUsSUFBSSxHQUEyQixRQUFTLENBQUMsRUFBRSxDQUFDO2dCQUUxRCxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLFNBQVMsRUFBRTtvQkFDckMsaUJBQWlCO29CQUNqQixJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBUSxDQUFDLGlCQUFrQixDQUFDLGtCQUFrQixDQUFDO29CQUNuRSxJQUFJLEtBQUssSUFBa0IsS0FBTSxDQUFDLEVBQUUsRUFBRTt3QkFDcEMsTUFBTSxHQUEyQixLQUFNLENBQUMsRUFBRSxDQUFDO3FCQUM1Qzt5QkFBTSxJQUFJLElBQUksRUFBRTt3QkFDZixNQUFNLEdBQUcsSUFBSSxDQUFDO3FCQUNmO2lCQUNGO3FCQUFNLElBQUksSUFBSSxFQUFFO29CQUNmLG1CQUFtQjtvQkFDbkIsTUFBTSxHQUFHLElBQUksQ0FBQztpQkFDZjtxQkFBTSxJQUFJLE9BQU8sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFDLE1BQU0sWUFBWSxvQkFBUSxFQUFFO29CQUMvRCxnQ0FBZ0M7b0JBQ2hDLElBQUksUUFBTSxHQUF1QixPQUFPLENBQUMsTUFBTSxDQUFDO29CQUVoRCxJQUFJLFFBQVEsR0FBRyxVQUFVLElBQWM7d0JBQ3JDLElBQUksSUFBSSxHQUF1QixJQUFJLENBQUMsSUFBSSxDQUFDO3dCQUN6QyxJQUFJLElBQUksRUFBRTs0QkFDUixNQUFNLEdBQUcsSUFBSSxDQUFDO3lCQUNmOzZCQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sWUFBWSxvQkFBUSxFQUFFOzRCQUMxQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7eUJBQ3BCO3dCQUNELE9BQU8sSUFBSSxDQUFDO29CQUNkLENBQUMsQ0FBQTtvQkFDRCxRQUFNLEdBQUcsUUFBUSxDQUFDLFFBQU0sQ0FBQyxDQUFDO29CQUMxQixPQUFPLFFBQU0sRUFBRTt3QkFDYixRQUFNLEdBQUcsUUFBUSxDQUFDLFFBQU0sQ0FBQyxDQUFDO3FCQUMzQjtpQkFDRjtnQkFFRCxPQUFPLE1BQU0sQ0FBQztZQUNoQixDQUFDLENBQUM7WUFFRixJQUFJLElBQUksR0FBWSxLQUFLLENBQUM7WUFDMUIsSUFBSSxJQUFJLEdBQWUsRUFBRSxDQUFDO1lBQzFCLElBQUksTUFBTSxHQUFZLElBQUksQ0FBQztZQUMzQixJQUFJLFFBQVEsR0FBWSxJQUFJLENBQUM7WUFDN0IsSUFBSSxTQUFTLEdBQVksSUFBSSxDQUFDO1lBQzlCLE9BQU87WUFDUCxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNyQixTQUFTLEdBQUcsQ0FBQyxTQUFTLENBQUM7Z0JBRXZCLElBQUksTUFBSSxHQUF1QixJQUFJLENBQUM7Z0JBQ3BDLElBQUksUUFBUSxHQUFhLElBQUksQ0FBQztnQkFDOUIsSUFBSSxDQUFDLENBQUMsUUFBUSxJQUFJLFNBQVMsQ0FBQyxJQUFJLE1BQU0sRUFBRTtvQkFDdEMsS0FBSztvQkFDTCxJQUFJLEVBQUUsQ0FBQyxNQUFNO3dCQUNYLFFBQVEsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFFL0IsTUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDdEIsSUFBSSxNQUFJLEVBQUU7d0JBQ1IsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFJLENBQUMsQ0FBQzt3QkFFZCxJQUFJLE1BQUksS0FBSyxFQUFFLEVBQUU7NEJBQ2YsSUFBSSxHQUFHLElBQUksQ0FBQzs0QkFDWixJQUFJLEdBQUcsRUFBRSxDQUFDOzRCQUNWLE1BQU07eUJBQ1A7cUJBQ0Y7eUJBQU07d0JBQ0wsTUFBTSxHQUFHLEtBQUssQ0FBQztxQkFDaEI7aUJBQ0Y7cUJBQU0sSUFBSSxRQUFRLEVBQUU7b0JBQ25CLE9BQU87b0JBQ1AsSUFBSSxJQUFJLENBQUMsTUFBTTt3QkFDYixRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBRW5DLE1BQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ3RCLElBQUksTUFBSSxFQUFFO3dCQUNSLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBSSxDQUFDLENBQUM7d0JBRWhCLElBQUksTUFBSSxLQUFLLEVBQUUsRUFBRTs0QkFDZixJQUFJLEdBQUcsSUFBSSxDQUFDOzRCQUNaLElBQUksR0FBRyxJQUFJLENBQUM7NEJBQ1osTUFBTTt5QkFDUDtxQkFDRjt5QkFBTTt3QkFDTCxRQUFRLEdBQUcsS0FBSyxDQUFDO3FCQUNsQjtpQkFDRjtxQkFBTTtvQkFDTCxJQUFJLEdBQUcsSUFBSSxDQUFDO2lCQUNiO2FBQ0Y7WUFFRCxJQUFJLElBQUksRUFBRTtnQkFDUixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDcEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7aUJBQ3pCO2FBQ0Y7U0FHRjthQUFNO1lBQ0wsSUFBSSxRQUFRLEdBQVksSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDaEosSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBRWIsSUFBSSxDQUFDLFFBQVE7Z0JBQ1gsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FDeEI7SUFDSCxDQUFDO0lBRU8sd0JBQVMsR0FBakIsVUFBa0IsSUFBYztRQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU8sMEJBQVcsR0FBbkIsVUFBb0IsSUFBYztRQUNoQyxJQUFJLEtBQUssR0FBVyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRCxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUM7WUFDZCxPQUFPO1FBRVQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFHTywyQkFBWSxHQUFwQixVQUFxQixJQUFjO1FBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQ25DLE9BQU87UUFFVCxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUVyQixJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ3RGLElBQUksS0FBSyxHQUFlLEVBQUUsQ0FBQztZQUMzQixJQUFJLEtBQUssR0FBZ0MsRUFBRSxDQUFDO1lBQzVDLElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBRXRCLGNBQWM7WUFDZCxLQUFLLElBQUksQ0FBQyxHQUFXLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3RELG1CQUFtQjtnQkFDbkIsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJO29CQUNuQyxPQUFPO2dCQUVULElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2xDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDdEQ7WUFFRCxLQUFLLElBQUksQ0FBQyxHQUFXLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3RELElBQUksQ0FBQyxHQUFhLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BDLElBQUksS0FBSyxHQUFXLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxLQUFLLEdBQVksS0FBSyxDQUFDO2dCQUMzQixJQUFJLFFBQU0sR0FBc0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7Z0JBQ3pELElBQUksQ0FBQyxRQUFNLElBQUksQ0FBQyxDQUFDLFFBQU0sWUFBWSxvQkFBUSxDQUFDO29CQUMxQyxRQUFNLEdBQUcsSUFBSSxDQUFDO2dCQUVoQixPQUFPLFFBQU0sRUFBRTtvQkFDYixJQUFJLFFBQU0sQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLFFBQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTt3QkFDM0MsdUJBQXVCO3dCQUN2QixLQUFLLEdBQUcsSUFBSSxDQUFDO3dCQUNiLE1BQU07cUJBQ1A7b0JBRUQsUUFBTSxHQUFHLFFBQU0sQ0FBQyxNQUFNLENBQUM7b0JBQ3ZCLElBQUksQ0FBQyxDQUFDLFFBQU0sWUFBWSxvQkFBUSxDQUFDLEVBQUU7d0JBQ2pDLFFBQU0sR0FBRyxJQUFJLENBQUM7d0JBQ2QsTUFBTTtxQkFDUDtvQkFFRCxLQUFLLEVBQUUsQ0FBQztpQkFDVDtnQkFFRCxJQUFJLENBQUMsS0FBSyxFQUFFO29CQUNWLElBQUksWUFBWSxLQUFLLENBQUMsQ0FBQyxFQUFFO3dCQUN2QixZQUFZLEdBQUcsS0FBSyxDQUFDO3FCQUN0Qjt5QkFBTSxJQUFJLFlBQVksS0FBSyxLQUFLLEVBQUU7d0JBQ2pDLDhCQUE4Qjt3QkFDOUIsT0FBTztxQkFDUjtvQkFFRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDL0I7YUFDRjtZQUVELFlBQVk7WUFDWixLQUFLLElBQUksQ0FBQyxHQUFXLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO2dCQUNwRCxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQztZQUVqQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztZQUV4Qix1REFBdUQ7WUFDdkQsSUFBSSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDcEIsSUFBSSxjQUFZLEdBQXVCLElBQUksQ0FBQztnQkFFNUMscUJBQXFCO2dCQUNyQixJQUFJLGdCQUFnQixHQUFHLFVBQVUsS0FBaUI7b0JBQ2hELElBQUksT0FBTyxHQUFlLEVBQUUsQ0FBQztvQkFDN0IsS0FBSyxJQUFJLENBQUMsR0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7d0JBQzdDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxZQUFZLG9CQUFRLEVBQUU7NEJBQzFELElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBVyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dDQUNuRCxPQUFPLENBQUMsSUFBSSxDQUFXLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQzt5QkFDM0M7cUJBQ0Y7b0JBQ0QsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTt3QkFDeEIsY0FBWSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDM0I7b0JBQ0QsT0FBTyxPQUFPLENBQUM7Z0JBQ2pCLENBQUMsQ0FBQztnQkFDRixJQUFJLE9BQU8sR0FBZSxLQUFLLENBQUM7Z0JBQ2hDLE9BQU8sQ0FBQyxjQUFZLElBQUksT0FBTztvQkFDN0IsT0FBTyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO3dDQUc3QixDQUFDO29CQUNSLElBQUksR0FBRyxHQUFXLENBQUMsQ0FBQztvQkFFcEIsSUFBSSxhQUFhLEdBQUcsVUFBVSxJQUFjO3dCQUMxQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTs0QkFDbkIsT0FBTyxDQUFDLENBQUM7eUJBQ1Y7NkJBQU07NEJBQ0wsSUFBSSxLQUFLLEdBQVcsQ0FBQyxDQUFDOzRCQUN0QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQzs0QkFDdEMsS0FBSyxJQUFJLEdBQUMsR0FBVyxDQUFDLEVBQUUsR0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsR0FBQyxFQUFFLEVBQUU7Z0NBQ2hELElBQWtCLFFBQVEsQ0FBQyxHQUFDLENBQUUsQ0FBQyxFQUFFLElBQWtCLFFBQVEsQ0FBQyxHQUFDLENBQUUsQ0FBQyxFQUFFLFlBQVksb0JBQVE7b0NBQ3BGLEtBQUssSUFBSSxhQUFhLENBQXlCLFFBQVEsQ0FBQyxHQUFDLENBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7NkJBQ3ZFOzRCQUNELE9BQU8sS0FBSyxDQUFDO3lCQUNkO29CQUNILENBQUMsQ0FBQztvQkFFRixJQUFJLGNBQWMsR0FBRyxVQUFVLElBQWM7d0JBQzNDLEdBQUcsRUFBRSxDQUFDO3dCQUNOLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFRLENBQUMsc0JBQXNCLENBQUM7d0JBQ25ELElBQUksV0FBVyxHQUF1QixJQUFJLENBQUM7d0JBQzNDLElBQUksT0FBTyxJQUFrQixPQUFRLENBQUMsRUFBRSxJQUFrQixPQUFRLENBQUMsRUFBRSxZQUFZLG9CQUFRLEVBQUU7NEJBQ3pGLFdBQVcsR0FBMkIsT0FBUSxDQUFDLEVBQUUsQ0FBQzt5QkFDbkQ7d0JBRUQsSUFBSSxXQUFXLEVBQUU7NEJBQ2YsR0FBRyxJQUFJLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQzs0QkFDbEMsT0FBTyxXQUFXLENBQUM7eUJBQ3BCOzZCQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxjQUFZLEVBQUU7NEJBQ3ZDLE9BQU8sSUFBSSxDQUFDO3lCQUNiOzZCQUFNOzRCQUNMLElBQUksSUFBSSxDQUFDLE1BQU0sWUFBWSxvQkFBUSxFQUFFO2dDQUNuQyxPQUFpQixJQUFJLENBQUMsTUFBTSxDQUFDOzZCQUM5QjtpQ0FBTTtnQ0FDTCxPQUFPLElBQUksQ0FBQzs2QkFDYjt5QkFDRjtvQkFDSCxDQUFDLENBQUM7b0JBRUYsSUFBSSxJQUFJLEdBQXVCLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDeEQsT0FBTyxJQUFJO3dCQUNULElBQUksR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBRTlCLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDOztnQkE1Q3pCLHVCQUF1QjtnQkFDdkIsS0FBSyxJQUFJLENBQUMsR0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFOzRCQUFwQyxDQUFDO2lCQTRDVDtnQkFFRCxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUM7b0JBQ3ZCLE9BQU8sQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO2dCQUMvQixDQUFDLENBQUMsQ0FBQzthQUNKO1NBQ0Y7YUFBTTtZQUNMLGNBQWM7WUFDZCxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDMUI7UUFFRCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO1lBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBRXRCLElBQUksQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzVCLEtBQUssSUFBSSxDQUFDLEdBQVcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDdkQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQzFDO1lBRUQsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUN4QjtJQUNILENBQUM7SUFFTywwQkFBVyxHQUFuQixVQUFvQixJQUFjLEVBQUUsR0FBZTtRQUNqRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUk7WUFDNUgsT0FBTztRQUVULElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztRQUVwQixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3RDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFFbEIsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksSUFBSSxRQUFRO2dCQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3ZCO1FBSUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFFMUIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRU8seUJBQVUsR0FBbEI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTO1lBQ3BDLE9BQU87UUFFVCxPQUFPO1FBQ1AsSUFBSSxlQUFlLEdBQXdCLEVBQUUsQ0FBQztRQUM5QyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixJQUFJLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUUvQixJQUFJLGVBQWUsR0FBdUIsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUV6RCxLQUFLLElBQUksQ0FBQyxHQUFXLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRTVDLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBRTNELElBQUksU0FBUyxHQUFzQixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztnQkFFN0QsSUFBSSxTQUFTLEtBQUssSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFFBQVEsRUFBRTtvQkFDL0QsSUFBSSxTQUFTLEdBQXNCLElBQUksQ0FBQztvQkFFeEMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO3dCQUNwQixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTTs0QkFDaEIsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU8sQ0FBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3ZFO29CQUVELElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxRQUFRLEVBQUU7d0JBQy9CLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQzt3QkFDbEMsSUFBSSxJQUFJLENBQUMsV0FBVzs0QkFDUCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7cUJBQ3RGO3lCQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxRQUFRLEVBQUU7d0JBQ3RDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO3dCQUMzQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7NEJBQ3BCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzs0QkFDM0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO3lCQUMzQztxQkFDRjt5QkFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssT0FBTyxFQUFFO3dCQUNyQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7d0JBQ2xDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTs0QkFDVCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxlQUFnQixDQUFDLENBQUM7NEJBQ3BGLGVBQWUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO3lCQUN0QztxQkFDRjtvQkFFRCxlQUFlLENBQUMsSUFBSSxDQUFDO3dCQUNuQixJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7d0JBQ3hCLEdBQUcsRUFBRSxTQUFTO3dCQUNkLEdBQUcsRUFBRSxTQUFTO3FCQUNmLENBQUMsQ0FBQztpQkFDSjthQUNGO1NBQ0Y7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxlQUFlLENBQUMsQ0FBQztRQUV2QyxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUVyQixJQUFJLElBQUksQ0FBQyxTQUFTO1lBQ2hCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBRXhCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVPLHlCQUFVLEdBQWxCO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFDdkQsT0FBTztRQUVULElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVNLGdDQUFpQixHQUF4QjtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFDcEMsT0FBTztRQUVULElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ25CLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUMxQzthQUFNO1lBQ0wsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUUvRCxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUE7WUFDeEUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUUvQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUM7WUFDN0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQy9DLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1NBQ3hEO0lBQ0gsQ0FBQztJQUVPLHdCQUFTLEdBQWpCLFVBQWtCLElBQWM7UUFDOUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFFakIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWhCLElBQUksQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFO1lBQ25CLHdCQUF3QjtZQUN4QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSTtnQkFDdEIsT0FBTztZQUVULElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxVQUFVLEdBQWU7WUFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRTtZQUNqQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDcEIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRU8sd0JBQVMsR0FBakIsVUFBa0IsSUFBYztRQUM5QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBR00sb0JBQUssR0FBWjtRQUNFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU07WUFDeEIsT0FBTztRQUVULElBQUksQ0FBQyxHQUFXLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1FBQ3RDLE9BQU8sQ0FBQyxFQUFFLEVBQUU7WUFDVixJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7U0FDcEM7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBR0gsV0FBQztBQUFELENBcm5CQSxBQXFuQkMsQ0FybkJ5QixvQ0FBZ0IsR0FxbkJ6QztBQXJuQlksb0JBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuLi9saWInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVkaXRvciBleHRlbmRzIEV2ZW50cyB7XHJcblxyXG4gIC8vIOafkOS4qm5hbWXlr7nlupTnmoTmn5DkuKrkuovku7bvvIxuYW1l5LiORnVuY3Rpb27mmK8x5a+5MeeahOWFs+ezu++8m1xyXG4gIHByaXZhdGUgX2hvb2tzOiB7IFtrZXk6IHN0cmluZ106IEZ1bmN0aW9uIH0gPSB7fTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOa3u+WKoOWFqOWxgOWHveaVsO+8jOWHveaVsOWQjeS4juWHveaVsOacrOS9k+S4gOS4gOWvueixoe+8jOS4jeiDvemHjeWQje+8m1xyXG4gICAqIEBwYXJhbSBuYW1lIOWHveaVsOWQje+8m1xyXG4gICAqIEBwYXJhbSBmbiDlh73mlbDmnKzkvZPvvJtcclxuICAgKi9cclxuICBwdWJsaWMgbWV0aG9kKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5faG9va3NbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBvdmVycmlkZSBob29rOiBcIiArIG5hbWUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faG9va3NbbmFtZV0gPSBmbjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiDnp7vpmaTmn5DkuKrlh73mlbDvvJtcclxuICAgKiBAcGFyYW0gbmFtZSDlh73mlbDlkI3vvJtcclxuICAgKi9cclxuICBwdWJsaWMgbWV0aG9kUmVtb3ZlKG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgZGVsZXRlIHRoaXMuX2hvb2tzW25hbWVdO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIOaJp+ihjOafkOS4quWHveaVsO+8m1xyXG4gICAqIEBwYXJhbSBuYW1lIOWHveaVsOWQje+8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBjYWxsKG5hbWU6IHN0cmluZywgLi4uYXJnczogYW55W10pOiBhbnkge1xyXG4gICAgaWYgKHRoaXMuX2hvb2tzW25hbWVdKSB7XHJcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hvb2tzW25hbWVdLmFwcGx5KG51bGwsIGFyZ3MpO1xyXG4gICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIiVjJXMgJWMoZWRpdG9yLm1ldGhvZCBlcnJvcilcIixcclxuICAgICAgICAgIFwiY29sb3I6ICMwNmZcIixcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBcImNvbG9yOiAjZjAwXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXguc3RhY2spO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG59IiwiaW1wb3J0IHsgTGlzdCwgVGV4dEZpZWxkIH0gZnJvbSBcIi4uLy4uL3VpXCI7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZW5naW5lXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSGllcmFyY2h5U2VhcmNoIHtcclxuXHJcbiAgcHVibGljIHJlc3VsdHM6IExpc3Q7XHJcblxyXG4gIHB1YmxpYyBzZWFyY2g6IFRleHRGaWVsZDtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIHRoaXMucmVzdWx0cyA9IG5ldyBMaXN0KCk7XHJcbiAgICB0aGlzLnJlc3VsdHMuZWxlbWVudCEudGFiSW5kZXggPSAwO1xyXG4gICAgdGhpcy5yZXN1bHRzLmhpZGRlbiA9IHRydWU7XHJcbiAgICB0aGlzLnJlc3VsdHMuY2xhc3MhLmFkZCgnc2VhcmNoLXJlc3VsdHMnKTtcclxuICAgIFZlcnlFbmdpbmUuaGllcmFyY2h5UGFuZWwuYXBwZW5kKHRoaXMucmVzdWx0cyk7XHJcblxyXG4gICAgdGhpcy5zZWFyY2ggPSBuZXcgVGV4dEZpZWxkKCfmkJzntKInKTtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBpbml0KCk6IHZvaWQge1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICB2YXIgbGFzdFNlYXJjaCA9ICcnO1xyXG4gICAgdGhpcy5zZWFyY2guYmx1ck9uRW50ZXIgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VhcmNoLmtleUNoYW5nZSA9IHRydWU7XHJcbiAgICB0aGlzLnNlYXJjaC5jbGFzcyEuYWRkKCdzZWFyY2gnKTtcclxuICAgIHRoaXMuc2VhcmNoLnJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuICAgIFZlcnlFbmdpbmUuaGllcmFyY2h5UGFuZWwuZWxlbWVudCEuaW5zZXJ0QmVmb3JlKHRoaXMuc2VhcmNoLmVsZW1lbnQhLCBWZXJ5RW5naW5lLmhpZXJhcmNoeVBhbmVsLmlubmVyRWxlbWVudCk7XHJcblxyXG5cclxuXHJcbiAgICB2YXIgc2VhcmNoQ2xlYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHNlYXJjaENsZWFyLmlubmVySFRNTCA9ICcmIzU3NjUwOyc7XHJcbiAgICBzZWFyY2hDbGVhci5jbGFzc0xpc3QuYWRkKCdjbGVhcicpO1xyXG4gICAgdGhpcy5zZWFyY2guZWxlbWVudCEuYXBwZW5kQ2hpbGQoc2VhcmNoQ2xlYXIpO1xyXG5cclxuICAgIHNlYXJjaENsZWFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBzZWxmLnNlYXJjaC52YWx1ZSA9ICcnO1xyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuXHJcbiAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBQYW5lbCwgQnV0dG9uLCBUb29sdGlwLCBUcmVlLCBUcmVlSXRlbSB9IGZyb20gJy4uLy4uL3VpJztcclxuaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gJy4uLy4uL2VuZ2luZSc7XHJcbmltcG9ydCB7IEhpZXJhcmNoeVNlYXJjaCB9IGZyb20gJy4vaGllcmFyY2h5LXNlYXJjaCc7XHJcblxyXG5leHBvcnQgY2xhc3MgSGllcmFyY2h5IHtcclxuXHJcbiAgcHVibGljIGhpZXJhcmNoeU1haW46IFBhbmVsO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmhpZXJhcmNoeU1haW4gPSBuZXcgUGFuZWwoKTtcclxuICAgIHRoaXMuaGllcmFyY2h5TWFpbi5jbGFzcyEuYWRkKCdoaWVyYXJjaHktY29udHJvbHMnKTtcclxuICAgIHRoaXMuaGllcmFyY2h5TWFpbi5wYXJlbnQgPSBWZXJ5RW5naW5lLmhpZXJhcmNoeVBhbmVsO1xyXG4gICAgVmVyeUVuZ2luZS5oaWVyYXJjaHlQYW5lbC5oZWFkZXJBcHBlbmQodGhpcy5oaWVyYXJjaHlNYWluKTtcclxuICAgIGNvbnNvbGUubG9nKCdoaWVyYXJjaHktY29udHJvbHMnKTtcclxuXHJcbiAgICAvLyBjb250cm9scyBkZWxldGUgKEJ1dHRvbilcclxuICAgIHZhciBidG5EZWxldGU6IEJ1dHRvbiA9IG5ldyBCdXR0b24oJyYjNTc2MzY7Jyk7XHJcbiAgICBidG5EZWxldGUuY2xhc3MhLmFkZCgnZGVsZXRlJyk7XHJcbiAgICBidG5EZWxldGUuc3R5bGUhLmZvbnRXZWlnaHQgPSAnMjAwJztcclxuICAgIGJ0bkRlbGV0ZS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciB0eXBlID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnR5cGUnKTtcclxuICAgICAgaWYgKHR5cGUgIT09ICdlbnRpdHknKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmRlbGV0ZScsIGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5oaWVyYXJjaHlNYWluLmFwcGVuZChidG5EZWxldGUpO1xyXG5cclxuICAgIHZhciB0b29sdGlwRGVsZXRlID0gVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICB0YXJnZXQ6IGJ0bkRlbGV0ZS5lbGVtZW50ISxcclxuICAgICAgdGV4dDogJ+WIoOmZpCcsXHJcbiAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgcm9vdDogVmVyeUVuZ2luZS5yb290UGFuZWxcclxuICAgIH0pO1xyXG4gICAgdG9vbHRpcERlbGV0ZS5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuXHJcbiAgICAvLyBjb250cm9scyBkdXBsaWNhdGVcclxuICAgIHZhciBidG5EdXBsaWNhdGU6IEJ1dHRvbiA9IG5ldyBCdXR0b24oJyYjNTc2Mzg7Jyk7XHJcbiAgICBidG5EdXBsaWNhdGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgYnRuRHVwbGljYXRlLmNsYXNzIS5hZGQoJ2R1cGxpY2F0ZScpO1xyXG4gICAgYnRuRHVwbGljYXRlLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHR5cGUgPSBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6dHlwZScpO1xyXG4gICAgICB2YXIgaXRlbXMgPSBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aXRlbXMnKTtcclxuXHJcbiAgICAgIGlmICh0eXBlID09PSAnZW50aXR5JyAmJiBpdGVtcy5sZW5ndGgpXHJcbiAgICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmR1cGxpY2F0ZScsIGl0ZW1zKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5oaWVyYXJjaHlNYWluLmFwcGVuZChidG5EdXBsaWNhdGUpO1xyXG5cclxuICAgIHZhciB0b29sdGlwRHVwbGljYXRlID0gVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICB0YXJnZXQ6IGJ0bkR1cGxpY2F0ZS5lbGVtZW50ISxcclxuICAgICAgdGV4dDogJ+WkjeWIticsXHJcbiAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgcm9vdDogVmVyeUVuZ2luZS5yb290UGFuZWxcclxuICAgIH0pO1xyXG4gICAgdG9vbHRpcER1cGxpY2F0ZS5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuXHJcbiAgICAvLyBUT0RPOiBNZW51XHJcbiAgICAvLyB2YXIgbWVudUVudGl0aWVzID0gdWkuTWVudS5mcm9tRGF0YShlZGl0b3IuY2FsbCgnbWVudTplbnRpdGllczpuZXcnKSk7XHJcbiAgICAvLyByb290LmFwcGVuZChtZW51RW50aXRpZXMpO1xyXG5cclxuICAgIC8vIGNvbnRyb2xzIGFkZFxyXG4gICAgdmFyIGJ0bkFkZDogQnV0dG9uID0gbmV3IEJ1dHRvbignJiM1NzYzMjsnKTtcclxuICAgIGJ0bkFkZC5jbGFzcyEuYWRkKCdhZGQnKTtcclxuICAgIGJ0bkFkZC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIG1lbnVFbnRpdGllcy5vcGVuID0gdHJ1ZTtcclxuICAgICAgLy8gdmFyIHJlY3QgPSBidG5BZGQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgLy8gbWVudUVudGl0aWVzLnBvc2l0aW9uKHJlY3QubGVmdCwgcmVjdC50b3ApO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmhpZXJhcmNoeU1haW4uYXBwZW5kKGJ0bkFkZCk7XHJcblxyXG4gICAgVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICB0YXJnZXQ6IGJ0bkFkZC5lbGVtZW50ISxcclxuICAgICAgdGV4dDogJ+a3u+WKoCcsXHJcbiAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgcm9vdDogVmVyeUVuZ2luZS5yb290UGFuZWxcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuaW5pdCgpO1xyXG5cclxuICB9XHJcblxyXG4gIHB1YmxpYyBpbml0KCk6IHZvaWQge1xyXG4gICAgLy8gbGVmdCBjb250cm9sXHJcbiAgICAvLyBoaWVyYXJjaHkgaW5kZXhcclxuICAgIHZhciB1aUl0ZW1JbmRleCA9IHt9O1xyXG4gICAgdmFyIGF3YWl0aW5nUGFyZW50ID0ge307XHJcbiAgICBsZXQgcGFuZWw6IFBhbmVsID0gVmVyeUVuZ2luZS5oaWVyYXJjaHlQYW5lbDtcclxuXHJcbiAgICB2YXIgaGllcmFyY2h5OiBUcmVlID0gbmV3IFRyZWUoKTtcclxuICAgIFZlcnlFbmdpbmUuaGllcmFyY2h5VHJlZSA9IGhpZXJhcmNoeTtcclxuXHJcbiAgICAvLyBUT0RPOiBoaWVyYXJjaHnmnYPpmZDnrqHnkIZcclxuICAgIC8vIGhpZXJhcmNoeS5hbGxvd1JlbmFtaW5nID0gZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJyk7XHJcbiAgICBoaWVyYXJjaHkuZHJhZ2dhYmxlID0gaGllcmFyY2h5LmFsbG93UmVuYW1pbmc7XHJcbiAgICBoaWVyYXJjaHkuY2xhc3MhLmFkZCgnaGllcmFyY2h5Jyk7XHJcbiAgICBwYW5lbC5hcHBlbmQoaGllcmFyY2h5KTtcclxuXHJcbiAgICB2YXIgcmVzaXplUXVldWVkID0gZmFsc2U7XHJcbiAgICB2YXIgcmVzaXplVHJlZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmVzaXplUXVldWVkID0gZmFsc2U7XHJcbiAgICAgIGhpZXJhcmNoeS5lbGVtZW50IS5zdHlsZS53aWR0aCA9ICcnO1xyXG4gICAgICBoaWVyYXJjaHkuZWxlbWVudCEuc3R5bGUud2lkdGggPSAocGFuZWwuaW5uZXJFbGVtZW50IS5zY3JvbGxXaWR0aCAtIDUpICsgJ3B4JztcclxuICAgIH07XHJcbiAgICB2YXIgcmVzaXplUXVldWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChyZXNpemVRdWV1ZWQpIHJldHVybjtcclxuICAgICAgcmVzaXplUXVldWVkID0gdHJ1ZTtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlc2l6ZVRyZWUpO1xyXG4gICAgfTtcclxuICAgIHBhbmVsLm9uKCdyZXNpemUnLCByZXNpemVRdWV1ZSk7XHJcbiAgICBoaWVyYXJjaHkub24oJ29wZW4nLCByZXNpemVRdWV1ZSk7XHJcbiAgICBoaWVyYXJjaHkub24oJ2Nsb3NlJywgcmVzaXplUXVldWUpO1xyXG4gICAgc2V0SW50ZXJ2YWwocmVzaXplUXVldWUsIDEwMDApO1xyXG5cclxuICAgIC8vIHJldHVybiBoaWVyYXJjaHlcclxuICAgIGVkaXRvci5tZXRob2QoJ2VudGl0aWVzOmhpZXJhcmNoeScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGhpZXJhcmNoeTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGxpc3QgaXRlbSBzZWxlY3RlZFxyXG4gICAgaGllcmFyY2h5Lm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoaXRlbTogVHJlZUl0ZW0pIHtcclxuICAgICAgLy8gb3BlbiBpdGVtcyB0aWxsIHBhcmVudFxyXG4gICAgICB2YXIgcGFyZW50ID0gaXRlbS5wYXJlbnQ7XHJcbiAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICBwYXJlbnQub3BlbiA9IHRydWU7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcclxuICAgICAgfVxyXG4gICAgICAvLyBmb2N1c1xyXG4gICAgICBpdGVtLmVsZW1lbnRUaXRsZS5mb2N1cygpO1xyXG4gICAgICAvLyBhZGQgc2VsZWN0aW9uXHJcbiAgICAgIC8vIFRPRE9cclxuICAgICAgY29uc29sZS5sb2coJ3NlbGVjdG9yOmFkZCBlbnRpdHknKTtcclxuICAgICAgLy8gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmFkZCcsICdlbnRpdHknLCBpdGVtLmVudGl0eSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsaXN0IGl0ZW0gZGVzZWxlY3RlZFxyXG4gICAgaGllcmFyY2h5Lm9uKCdkZXNlbGVjdCcsIGZ1bmN0aW9uIChpdGVtOiBUcmVlSXRlbSkge1xyXG4gICAgICAvLyBUT0RPOlxyXG4gICAgICBjb25zb2xlLmxvZygnc2VsZWN0b3I6cmVtb3ZlIGVudGl0eScpO1xyXG4gICAgICAvLyBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6cmVtb3ZlJywgaXRlbS5lbnRpdHkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc2Nyb2xsaW5nIG9uIGRyYWdcclxuICAgIHZhciBkcmFnU2Nyb2xsID0gMDtcclxuICAgIHZhciBkcmFnVGltZXI6IE5vZGVKUy5UaW1lciB8IG51bGwgPSBudWxsOztcclxuICAgIHZhciBkcmFnTGFzdEV2dDtcclxuICAgIHZhciBkcmFnRXZ0ID0gZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICBpZiAoIWhpZXJhcmNoeS5fZHJhZ2dpbmcpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKE51bWJlcihkcmFnVGltZXIpKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZHJhZ0V2dCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciByZWN0ID0gcGFuZWwuaW5uZXJFbGVtZW50IS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgIGlmICgoZXZ0LmNsaWVudFkgLSByZWN0LnRvcCkgPCAzMiAmJiBwYW5lbC5pbm5lckVsZW1lbnQhLnNjcm9sbFRvcCA+IDApIHtcclxuICAgICAgICBkcmFnU2Nyb2xsID0gLTE7XHJcbiAgICAgIH0gZWxzZSBpZiAoKHJlY3QuYm90dG9tIC0gZXZ0LmNsaWVudFkpIDwgMzIgJiYgKHBhbmVsLmlubmVyRWxlbWVudCEuc2Nyb2xsSGVpZ2h0IC0gKHJlY3QuaGVpZ2h0ICsgcGFuZWwuaW5uZXJFbGVtZW50IS5zY3JvbGxUb3ApKSA+IDApIHtcclxuICAgICAgICBkcmFnU2Nyb2xsID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkcmFnU2Nyb2xsID0gMDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBoaWVyYXJjaHkub24oJ2RyYWdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgZHJhZ1RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChkcmFnU2Nyb2xsID09PSAwKVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBwYW5lbC5pbm5lckVsZW1lbnQhLnNjcm9sbFRvcCArPSBkcmFnU2Nyb2xsICogODtcclxuICAgICAgICBoaWVyYXJjaHkuX2RyYWdPdmVyID0gbnVsbDtcclxuICAgICAgICBoaWVyYXJjaHkuX3VwZGF0ZURyYWdIYW5kbGUoKTtcclxuICAgICAgfSwgMTAwMCAvIDYwKTtcclxuXHJcbiAgICAgIGRyYWdTY3JvbGwgPSAwO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZHJhZ0V2dCwgZmFsc2UpO1xyXG5cclxuICAgICAgLy8gVE9ETzpcclxuICAgICAgY29uc29sZS5sb2coJ2dldCBkcmFnIFRyZWVJdGVtIGVudGl0eSByZXNvdXJjZUlkJyk7XHJcbiAgICAgIC8vIHZhciByZXNvdXJjZUlkID0gaGllcmFyY2h5Ll9kcmFnSXRlbXNbMF0uZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKTtcclxuICAgICAgLy8gZWRpdG9yLmNhbGwoJ2Ryb3A6c2V0JywgJ2VudGl0eScsIHsgcmVzb3VyY2VfaWQ6IHJlc291cmNlSWQgfSk7XHJcbiAgICAgIC8vIGVkaXRvci5jYWxsKCdkcm9wOmFjdGl2YXRlJywgdHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBoaWVyYXJjaHkub24oJ2RyYWdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVkaXRvci5jYWxsKCdkcm9wOmFjdGl2YXRlJywgZmFsc2UpO1xyXG4gICAgICBlZGl0b3IuY2FsbCgnZHJvcDpzZXQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRPRE9cclxuICAgIC8vIHZhciB0YXJnZXQgPSBlZGl0b3IuY2FsbCgnZHJvcDp0YXJnZXQnLCB7XHJcbiAgICAvLyAgIHJlZjogcGFuZWwuaW5uZXJFbGVtZW50LFxyXG4gICAgLy8gICB0eXBlOiAnZW50aXR5JyxcclxuICAgIC8vICAgaG9sZTogdHJ1ZSxcclxuICAgIC8vICAgcGFzc1Rocm91Z2g6IHRydWVcclxuICAgIC8vIH0pO1xyXG4gICAgLy8gdGFyZ2V0LmVsZW1lbnQuc3R5bGUub3V0bGluZSA9ICdub25lJztcclxuXHJcbiAgICB2YXIgY2xhc3NMaXN0ID0gWyd0cmVlLWl0ZW0tZW50aXR5JywgJ2VudGl0eS1pZC0nICsgJ2lkcy10by1iZS1kb25lJywgJ2MtbW9kZWwnXTtcclxuICAgIC8vIGlmIChpc1Jvb3QpIHtcclxuICAgIC8vICAgY2xhc3NMaXN0LnB1c2goJ3RyZWUtaXRlbS1yb290Jyk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgdmFyIHJvb3RFbGVtZW50ID0gbmV3IFRyZWVJdGVtKHtcclxuICAgICAgdGV4dDogJ1NjZW5lJyxcclxuICAgICAgY2xhc3NMaXN0OiBjbGFzc0xpc3RcclxuICAgIH0pO1xyXG4gICAgcm9vdEVsZW1lbnQuY2xhc3MhLnJlbW92ZSgnYy1tb2RlbCcpO1xyXG4gICAgaGllcmFyY2h5LmVsZW1lbnQhLmFwcGVuZENoaWxkKHJvb3RFbGVtZW50LmVsZW1lbnQhKTtcclxuICAgIGhpZXJhcmNoeS5lbWl0KCdhcHBlbmQnLCByb290RWxlbWVudCk7XHJcblxyXG4gICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgdmFyIGVsZW1lbnQxID0gbmV3IFRyZWVJdGVtKHtcclxuICAgICAgICB0ZXh0OiAn54mp5L2T5ZCNJyArIChpICsgMSksXHJcbiAgICAgICAgY2xhc3NMaXN0OiBjbGFzc0xpc3RcclxuICAgICAgfSk7XHJcbiAgICAgIGhpZXJhcmNoeS5lbWl0KCdhcHBlbmQnLCBlbGVtZW50MSk7XHJcbiAgICAgIHJvb3RFbGVtZW50LmFwcGVuZChlbGVtZW50MSk7XHJcblxyXG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IDU7IGsrKykge1xyXG4gICAgICAgIHZhciBlbGVtZW50MiA9IG5ldyBUcmVlSXRlbSh7XHJcbiAgICAgICAgICB0ZXh0OiAn5a2Q54mp5L2T5ZCNJyArIChrICsgMSksXHJcbiAgICAgICAgICBjbGFzc0xpc3Q6IGNsYXNzTGlzdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGhpZXJhcmNoeS5lbWl0KCdhcHBlbmQnLCBlbGVtZW50Mik7XHJcbiAgICAgICAgZWxlbWVudDEuYXBwZW5kKGVsZW1lbnQyKTtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDU7IHgrKykge1xyXG4gICAgICAgICAgdmFyIGVsZW1lbnQzID0gbmV3IFRyZWVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJ+S6jOe6p+WtkOeJqeS9kycgKyAoeCArIDEpLFxyXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IGNsYXNzTGlzdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBoaWVyYXJjaHkuZW1pdCgnYXBwZW5kJywgZWxlbWVudDMpO1xyXG5cclxuICAgICAgICAgIGVsZW1lbnQyLmFwcGVuZChlbGVtZW50Myk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGVsZW1lbnQuYXBwZW5kKCk7XHJcblxyXG4gICAgLy8gU2VhcmNoIEZpZWxkXHJcbiAgICBsZXQgc2VhcmNoRmllbGQgPSBuZXcgSGllcmFyY2h5U2VhcmNoKCk7XHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2hpZXJhcmNoeSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaGllcmFyY2h5LXNlYXJjaCc7IiwiZXhwb3J0IGNsYXNzIEhvdGtleXMge1xyXG5cclxuICBwdWJsaWMgc3RhdGljIGN0cmw6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwdWJsaWMgc3RhdGljIHNoaWZ0OiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHVibGljIHN0YXRpYyBhbHQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcblxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vZWRpdG9yJztcclxuZXhwb3J0ICogZnJvbSAnLi9sYXlvdXQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZpZXdwb3J0JztcclxuZXhwb3J0ICogZnJvbSAnLi9oaWVyYXJjaHknO1xyXG5leHBvcnQgKiBmcm9tICcuL2hvdGtleXMnOyIsImltcG9ydCB7IFBhbmVsIH0gZnJvbSAnLi4vdWknO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSAnLi4vZW5naW5lJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMYXlvdXQge1xyXG5cclxuICBwcml2YXRlIGlnbm9yZUNsYXNzZXM6IFJlZ0V4cCA9IC8odWktbGlzdC1pdGVtKXwodWktYnV0dG9uKXwodWktdGV4dC1maWVsZCl8KHVpLW51bWJlci1maWVsZCkvaTtcclxuICBwcml2YXRlIGlnbm9yZUVsZW1lbnRzOiBSZWdFeHAgPSAvKGlucHV0KXwodGV4dGFyZWEpL2k7XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBwcmV2ZW50IGRyYWcnbidzZWxlY3RcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIC8vIGRvbid0IHByZXZlbnQgZm9yIGNlcnRhaW4gY2FzZXNcclxuICAgICAgaWYgKGV2dC50YXJnZXQpIHtcclxuICAgICAgICBpZiAoc2VsZi5pZ25vcmVDbGFzc2VzLnRlc3QoKDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0KS5jbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmlnbm9yZUVsZW1lbnRzLnRlc3QoKDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0KS50YWdOYW1lKSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoKDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0KS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGFibGUnKSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYmx1ciBpbnB1dHNcclxuICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcclxuICAgICAgICBsZXQgZm9jdXNOb2RlID0gd2luZG93LmdldFNlbGVjdGlvbigpIS5mb2N1c05vZGU7XHJcbiAgICAgICAgaWYgKGZvY3VzTm9kZSkge1xyXG4gICAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+Zm9jdXNOb2RlKS50YWdOYW1lID09PSAnSU5QVVQnKSB7XHJcbiAgICAgICAgICAgICg8SFRNTEVsZW1lbnQ+Zm9jdXNOb2RlKS5ibHVyKCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGZvY3VzTm9kZS5maXJzdENoaWxkICYmICg8SFRNTEVsZW1lbnQ+Zm9jdXNOb2RlLmZpcnN0Q2hpbGQpLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcclxuICAgICAgICAgICAgKDxIVE1MRWxlbWVudD5mb2N1c05vZGUuZmlyc3RDaGlsZCkuYmx1cigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gcHJldmVudCBkZWZhdWx0IHdpbGwgcHJldmVudCBibHVyLCBkcmFnc3RhcnQgYW5kIHNlbGVjdGlvblxyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0sIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBpbml0KCk6IHZvaWQge1xyXG4gICAgLy8gbWFpbiBjb250YWluZXJcclxuICAgIGxldCByb290OiBQYW5lbCA9IG5ldyBQYW5lbCgpO1xyXG4gICAgcm9vdC5lbGVtZW50IS5pZCA9ICd1aS1yb290JztcclxuICAgIHJvb3QuZmxleCA9IHRydWU7XHJcbiAgICByb290LmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcclxuICAgIHJvb3QuZmxleFdyYXAgPSAnbm93cmFwJztcclxuICAgIHJvb3Quc2Nyb2xsID0gdHJ1ZTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocm9vdC5lbGVtZW50ISk7XHJcbiAgICAvLyBleHBvc2VcclxuICAgIGVkaXRvci5tZXRob2QoJ2xheW91dC5yb290JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcm9vdDsgfSk7XHJcbiAgICBWZXJ5RW5naW5lLnJvb3RQYW5lbCA9IHJvb3Q7XHJcblxyXG4gICAgLy8gdG9wIHBhbmVsIFRPRE86IHRvcOW5suWYm+eUqO+8n1xyXG4gICAgbGV0IHRvcCA9IG5ldyBQYW5lbCgpO1xyXG4gICAgdG9wLnN0eWxlIS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzVmNmY3Mic7XHJcbiAgICB0b3Auc3R5bGUhLmN1cnNvciA9ICdwb2ludGVyJztcclxuICAgIHRvcC5lbGVtZW50IS5pZCA9ICd1aS10b3AnO1xyXG4gICAgdG9wLmZsZXhTaHJpbmsgPSAnMCc7XHJcbiAgICB0b3Aub25jZSgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRvcC5kZXN0cm95KCk7XHJcbiAgICAgIC8vIFRPRE9cclxuICAgICAgdG9wLnN0eWxlIS5tYXJnaW5Ub3AgPSAnJztcclxuICAgIH0pO1xyXG4gICAgcm9vdC5hcHBlbmQodG9wKTtcclxuXHJcbiAgICAvLyBtaWRkbGUgcGFuZWxcclxuICAgIGxldCBtaWRkbGUgPSBuZXcgUGFuZWwoKTtcclxuICAgIG1pZGRsZS5lbGVtZW50IS5pZCA9ICd1aS1taWRkbGUnO1xyXG4gICAgbWlkZGxlLmZsZXhpYmxlID0gdHJ1ZTtcclxuICAgIG1pZGRsZS5mbGV4R3JvdyA9ICcxJztcclxuICAgIHJvb3QuYXBwZW5kKG1pZGRsZSk7XHJcblxyXG4gICAgLy8gYm90dG9tIHBhbmVsIChzdGF0dXMpXHJcbiAgICBsZXQgYm90dG9tID0gbmV3IFBhbmVsKCk7XHJcbiAgICBib3R0b20uZWxlbWVudCEuaWQgPSAndWktYm90dG9tJztcclxuICAgIGJvdHRvbS5mbGV4U2hyaW5rID0gJzAnO1xyXG4gICAgcm9vdC5hcHBlbmQoYm90dG9tKTtcclxuICAgIC8vIGV4cG9zZVxyXG4gICAgZWRpdG9yLm1ldGhvZCgnbGF5b3V0LmJvdHRvbScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJvdHRvbTsgfSk7XHJcblxyXG4gICAgLy8gdG9vbGJhciBwYW5lbCAobGVmdClcclxuICAgIGxldCB0b29sYmFyID0gbmV3IFBhbmVsKCk7XHJcbiAgICB0b29sYmFyLmVsZW1lbnQhLmlkID0gJ3VpLXRvb2xiYXInO1xyXG4gICAgdG9vbGJhci5mbGV4U2hyaW5rID0gJzAnO1xyXG4gICAgdG9vbGJhci5zdHlsZSEud2lkdGggPSAnNDVweCc7XHJcbiAgICBtaWRkbGUuYXBwZW5kKHRvb2xiYXIpO1xyXG4gICAgLy8gZXhwb3NlXHJcbiAgICBlZGl0b3IubWV0aG9kKCdsYXlvdXQudG9vbGJhcicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRvb2xiYXI7IH0pO1xyXG4gICAgVmVyeUVuZ2luZS50b29sYmFyUGFuZWwgPSB0b29sYmFyO1xyXG5cclxuICAgIC8vIGhpZXJhcmNoeVxyXG4gICAgbGV0IGhpZXJhcmNoeVBhbmVsID0gbmV3IFBhbmVsKCfmoJHlvaLnu5PmnoTnqpflj6MnKTtcclxuICAgIGhpZXJhcmNoeVBhbmVsLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgIGhpZXJhcmNoeVBhbmVsLmNsYXNzIS5hZGQoJ2hpZXJhcmNoeScpO1xyXG4gICAgaGllcmFyY2h5UGFuZWwuZmxleFNocmluayA9ICcwJztcclxuICAgIGxldCBoaWVyYXJjaHlQYW5lbFNpemUgPSBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOmdldCcsICdlZGl0b3I6bGF5b3V0OmhpZXJhcmNoeTp3aWR0aCcpIHx8ICcyNTZweCc7XHJcbiAgICBoaWVyYXJjaHlQYW5lbC5zdHlsZSEud2lkdGggPSBoaWVyYXJjaHlQYW5lbFNpemU7XHJcbiAgICBoaWVyYXJjaHlQYW5lbC5pbm5lckVsZW1lbnQhLnN0eWxlLndpZHRoID0gaGllcmFyY2h5UGFuZWxTaXplO1xyXG4gICAgaGllcmFyY2h5UGFuZWwuZm9sZGFibGUgPSB0cnVlO1xyXG4gICAgaGllcmFyY2h5UGFuZWwuZm9sZGVkID0gZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpnZXQnLCAnZWRpdG9yOmxheW91dDpoaWVyYXJjaHk6Zm9sZCcpIHx8IGZhbHNlO1xyXG4gICAgaGllcmFyY2h5UGFuZWwuaG9yaXpvbnRhbCA9IHRydWU7XHJcbiAgICBoaWVyYXJjaHlQYW5lbC5zY3JvbGwgPSB0cnVlO1xyXG4gICAgaGllcmFyY2h5UGFuZWwucmVzaXphYmxlID0gJ3JpZ2h0JztcclxuICAgIGhpZXJhcmNoeVBhbmVsLnJlc2l6ZU1pbiA9IDE5NjtcclxuICAgIGhpZXJhcmNoeVBhbmVsLnJlc2l6ZU1heCA9IDUxMjtcclxuXHJcbiAgICBoaWVyYXJjaHlQYW5lbC5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOnNldCcsICdlZGl0b3I6bGF5b3V0OmhpZXJhcmNoeTp3aWR0aCcsIGhpZXJhcmNoeVBhbmVsLnN0eWxlIS53aWR0aCk7XHJcbiAgICB9KTtcclxuICAgIGhpZXJhcmNoeVBhbmVsLm9uKCdmb2xkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOnNldCcsICdlZGl0b3I6bGF5b3V0OmhpZXJhcmNoeTpmb2xkJywgdHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgIGhpZXJhcmNoeVBhbmVsLm9uKCd1bmZvbGQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjpsYXlvdXQ6aGllcmFyY2h5OmZvbGQnLCBmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtaWRkbGUuYXBwZW5kKGhpZXJhcmNoeVBhbmVsKTtcclxuICAgIC8vIGV4cG9zZVxyXG4gICAgZWRpdG9yLm1ldGhvZCgnbGF5b3V0LmxlZnQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBoaWVyYXJjaHlQYW5lbDsgfSk7XHJcbiAgICBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOndyaXRlU3RhdGUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgaGllcmFyY2h5UGFuZWwuZW5hYmxlZCA9IHN0YXRlO1xyXG4gICAgfSk7XHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNDgwKSB7XHJcbiAgICAgIGhpZXJhcmNoeVBhbmVsLmZvbGRlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBWZXJ5RW5naW5lLmhpZXJhcmNoeVBhbmVsID0gaGllcmFyY2h5UGFuZWw7XHJcblxyXG4gICAgLy8gY2VudGVyIHBhbmVsXHJcbiAgICBsZXQgY2VudGVyID0gbmV3IFBhbmVsKCk7XHJcbiAgICBjZW50ZXIuZmxleGlibGUgPSB0cnVlO1xyXG4gICAgY2VudGVyLmZsZXhHcm93ID0gJzEnO1xyXG4gICAgY2VudGVyLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcclxuICAgIG1pZGRsZS5hcHBlbmQoY2VudGVyKTtcclxuXHJcbiAgICAvLyB2aWV3cG9ydCBwYW5lbFxyXG4gICAgbGV0IHZpZXdwb3J0ID0gbmV3IFBhbmVsKCk7XHJcbiAgICB2aWV3cG9ydC5mbGV4aWJsZSA9IHRydWU7XHJcbiAgICB2aWV3cG9ydC5mbGV4R3JvdyA9ICcxJztcclxuICAgIHZpZXdwb3J0LmNsYXNzIS5hZGQoJ3ZpZXdwb3J0Jyk7XHJcbiAgICBjZW50ZXIuYXBwZW5kKHZpZXdwb3J0KTtcclxuICAgIC8vIGV4cG9zZVxyXG4gICAgZWRpdG9yLm1ldGhvZCgnbGF5b3V0LnZpZXdwb3J0JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdmlld3BvcnQ7IH0pO1xyXG4gICAgVmVyeUVuZ2luZS52aWV3UGFuZWwgPSB2aWV3cG9ydDtcclxuXHJcbiAgICAvLyBhc3NldHMgcGFuZWxcclxuICAgIGxldCBhc3NldHNQYW5lbCA9IG5ldyBQYW5lbCgn6LWE5rqQ56qX5Y+jJyk7XHJcbiAgICBhc3NldHNQYW5lbC5jbGFzcyEuYWRkKCdhc3NldHMnKTtcclxuICAgIGFzc2V0c1BhbmVsLmZvbGRhYmxlID0gdHJ1ZTtcclxuICAgIGFzc2V0c1BhbmVsLmZvbGRlZCA9IGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6Z2V0JywgJ2VkaXRvcjpsYXlvdXQ6YXNzZXRzOmZvbGQnKSB8fCBmYWxzZTtcclxuICAgIGFzc2V0c1BhbmVsLmZsZXhTaHJpbmsgPSAnMCc7XHJcbiAgICBhc3NldHNQYW5lbC5pbm5lckVsZW1lbnQhLnN0eWxlLmhlaWdodCA9IGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6Z2V0JywgJ2VkaXRvcjpsYXlvdXQ6YXNzZXRzOmhlaWdodCcpIHx8ICcyMTJweCc7XHJcbiAgICBhc3NldHNQYW5lbC5zY3JvbGwgPSB0cnVlO1xyXG4gICAgYXNzZXRzUGFuZWwucmVzaXphYmxlID0gJ3RvcCc7XHJcbiAgICBhc3NldHNQYW5lbC5yZXNpemVNaW4gPSAxMDY7XHJcbiAgICBhc3NldHNQYW5lbC5yZXNpemVNYXggPSAxMDYgKiA2O1xyXG4gICAgYXNzZXRzUGFuZWwuaGVhZGVyU2l6ZSA9IC0xO1xyXG5cclxuICAgIGFzc2V0c1BhbmVsLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjpsYXlvdXQ6YXNzZXRzOmhlaWdodCcsIGFzc2V0c1BhbmVsLmlubmVyRWxlbWVudCEuc3R5bGUuaGVpZ2h0KTtcclxuICAgIH0pO1xyXG4gICAgYXNzZXRzUGFuZWwub24oJ2ZvbGQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjpsYXlvdXQ6YXNzZXRzOmZvbGQnLCB0cnVlKTtcclxuICAgIH0pO1xyXG4gICAgYXNzZXRzUGFuZWwub24oJ3VuZm9sZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpzZXQnLCAnZWRpdG9yOmxheW91dDphc3NldHM6Zm9sZCcsIGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNlbnRlci5hcHBlbmQoYXNzZXRzUGFuZWwpO1xyXG4gICAgLy8gZXhwb3NlXHJcbiAgICBlZGl0b3IubWV0aG9kKCdsYXlvdXQuYXNzZXRzJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYXNzZXRzUGFuZWw7IH0pO1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8PSA0ODApIHtcclxuICAgICAgYXNzZXRzUGFuZWwuZm9sZGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIFZlcnlFbmdpbmUuYXNzZXRQYW5lbCA9IGFzc2V0c1BhbmVsO1xyXG5cclxuXHJcbiAgICAvLyBhdHRyaWJ1dGVzIHBhbmVsXHJcbiAgICBsZXQgYXR0cmlidXRlc1BhbmVsID0gbmV3IFBhbmVsKCflsZ7mgKfnqpflj6MnKTtcclxuICAgIGF0dHJpYnV0ZXNQYW5lbC5lbmFibGVkID0gZmFsc2U7XHJcbiAgICBhdHRyaWJ1dGVzUGFuZWwuY2xhc3MhLmFkZCgnYXR0cmlidXRlcycpO1xyXG4gICAgYXR0cmlidXRlc1BhbmVsLmZsZXhTaHJpbmsgPSAnMCc7XHJcbiAgICBsZXQgYXR0cmlidXRlc1BhbmVsV2lkdGggPSBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOmdldCcsICdlZGl0b3I6bGF5b3V0OmF0dHJpYnV0ZXM6d2lkdGgnKSB8fCAnMzIwcHgnO1xyXG4gICAgYXR0cmlidXRlc1BhbmVsLnN0eWxlIS53aWR0aCA9IGF0dHJpYnV0ZXNQYW5lbFdpZHRoO1xyXG4gICAgYXR0cmlidXRlc1BhbmVsLmlubmVyRWxlbWVudCEuc3R5bGUud2lkdGggPSBhdHRyaWJ1dGVzUGFuZWxXaWR0aDtcclxuICAgIGF0dHJpYnV0ZXNQYW5lbC5ob3Jpem9udGFsID0gdHJ1ZTtcclxuICAgIGF0dHJpYnV0ZXNQYW5lbC5mb2xkYWJsZSA9IHRydWU7XHJcbiAgICBhdHRyaWJ1dGVzUGFuZWwuZm9sZGVkID0gZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpnZXQnLCAnZWRpdG9yOmxheW91dDphdHRyaWJ1dGVzOmZvbGQnKSB8fCBmYWxzZTtcclxuICAgIGF0dHJpYnV0ZXNQYW5lbC5zY3JvbGwgPSB0cnVlO1xyXG4gICAgYXR0cmlidXRlc1BhbmVsLnJlc2l6YWJsZSA9ICdsZWZ0JztcclxuICAgIGF0dHJpYnV0ZXNQYW5lbC5yZXNpemVNaW4gPSAyNTY7XHJcbiAgICBhdHRyaWJ1dGVzUGFuZWwucmVzaXplTWF4ID0gNTEyO1xyXG5cclxuICAgIGF0dHJpYnV0ZXNQYW5lbC5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOnNldCcsICdlZGl0b3I6bGF5b3V0OmF0dHJpYnV0ZXM6d2lkdGgnLCBhdHRyaWJ1dGVzUGFuZWwuaW5uZXJFbGVtZW50IS5zdHlsZS53aWR0aCk7XHJcbiAgICB9KTtcclxuICAgIGF0dHJpYnV0ZXNQYW5lbC5vbignZm9sZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpzZXQnLCAnZWRpdG9yOmxheW91dDphdHRyaWJ1dGVzOmZvbGQnLCB0cnVlKTtcclxuICAgIH0pO1xyXG4gICAgYXR0cmlidXRlc1BhbmVsLm9uKCd1bmZvbGQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjpsYXlvdXQ6YXR0cmlidXRlczpmb2xkJywgZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWlkZGxlLmFwcGVuZChhdHRyaWJ1dGVzUGFuZWwpO1xyXG4gICAgLy8gZXhwb3NlXHJcbiAgICBlZGl0b3IubWV0aG9kKCdsYXlvdXQucmlnaHQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhdHRyaWJ1dGVzUGFuZWw7IH0pO1xyXG4gICAgZWRpdG9yLm9uKCdwZXJtaXNzaW9uczp3cml0ZVN0YXRlJywgZnVuY3Rpb24gKHN0YXRlOiBib29sZWFuKSB7XHJcbiAgICAgIGF0dHJpYnV0ZXNQYW5lbC5lbmFibGVkID0gc3RhdGU7XHJcbiAgICB9KTtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA3MjApIHtcclxuICAgICAgYXR0cmlidXRlc1BhbmVsLmZvbGRlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBWZXJ5RW5naW5lLmF0dHJpYnV0ZXNQYW5lbCA9IGF0dHJpYnV0ZXNQYW5lbDtcclxuICB9XHJcblxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vdmlld3BvcnQnOyIsImltcG9ydCB7IENhbnZhcyB9IGZyb20gJy4uLy4uL3VpJztcclxuaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gJy4uLy4uL2VuZ2luZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlld3BvcnQge1xyXG5cclxuICBwdWJsaWMgY2FudmFzOiBDYW52YXM7XHJcblxyXG4gIHByaXZhdGUgX2VuZ2luZTogQkFCWUxPTi5FbmdpbmU7XHJcbiAgcHJpdmF0ZSBfc2NlbmU6IEJBQllMT04uU2NlbmU7XHJcbiAgcHJpdmF0ZSBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKCdjYW52YXMtM2QnKTtcclxuICAgIFZlcnlFbmdpbmUudmlld0NhbnZhcyA9IHRoaXMuY2FudmFzO1xyXG5cclxuICAgIHRoaXMuX2NhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmNhbnZhcy5lbGVtZW50O1xyXG4gICAgLy8gYWRkIGNhbnZhc1xyXG4gICAgZWRpdG9yLmNhbGwoJ2xheW91dC52aWV3cG9ydCcpLnByZXBlbmQodGhpcy5jYW52YXMpO1xyXG5cclxuICAgIC8vIGdldCBjYW52YXNcclxuICAgIGVkaXRvci5tZXRob2QoJ3ZpZXdwb3J0OmNhbnZhcycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHNlbGYuY2FudmFzO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdXBkYXRlIHZpZXdwb3Qg6KeG56qX5aSn5bCPXHJcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGxldCByZWN0ID0gVmVyeUVuZ2luZS52aWV3UGFuZWwuZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIHNlbGYuY2FudmFzLnJlc2l6ZShNYXRoLmZsb29yKHJlY3Qud2lkdGgpLCBNYXRoLmZsb29yKHJlY3QuaGVpZ2h0KSk7XHJcbiAgICB9LCAxMDAwIC8gNjApO1xyXG5cclxuICAgIHRoaXMuX2VuZ2luZSA9IG5ldyBCQUJZTE9OLkVuZ2luZSh0aGlzLl9jYW52YXMsIHRydWUpO1xyXG4gICAgbGV0IGVuZ2luZSA9IHRoaXMuX2VuZ2luZTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgZW5naW5lLnJlc2l6ZSgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zY2VuZSA9IG5ldyBCQUJZTE9OLlNjZW5lKHRoaXMuX2VuZ2luZSk7XHJcblxyXG4gICAgLy8gVE9ETzog6K6+5a6a55u45py6XHJcbiAgICB2YXIgY2FtZXJhID0gbmV3IEJBQllMT04uQXJjUm90YXRlQ2FtZXJhKFwiTWFpbkNhbWVyYVwiLCAwLCAwLCAxMCwgbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKSwgdGhpcy5fc2NlbmUpO1xyXG4gICAgY2FtZXJhLnNldFBvc2l0aW9uKG5ldyBCQUJZTE9OLlZlY3RvcjMoMjAsIDIwMCwgNDAwKSk7XHJcbiAgICBjYW1lcmEuYXR0YWNoQ29udHJvbCh0aGlzLl9jYW52YXMsIHRydWUpO1xyXG4gICAgY2FtZXJhLmxvd2VyQmV0YUxpbWl0ID0gMC4xO1xyXG4gICAgY2FtZXJhLnVwcGVyQmV0YUxpbWl0ID0gKE1hdGguUEkgLyAyKSAqIDAuOTk7XHJcbiAgICBjYW1lcmEubG93ZXJSYWRpdXNMaW1pdCA9IDE1MDtcclxuXHJcbiAgICAvLyDliqDovb3ov4fluqbliqjnlLvlvIBcclxuICAgIGVuZ2luZS5kaXNwbGF5TG9hZGluZ1VJKCk7XHJcblxyXG4gICAgbGV0IGlucHV0TWFwOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuICAgIC8vIFRPRE86IOWKoOi9vXNjZW5lLmJhYnlsb27lnLrmma/mlofku7bvvIzlvZPliY3kuLrpu5jorqRcclxuICAgIEJBQllMT04uU2NlbmVMb2FkZXIuQXBwZW5kKFwiLi9zY2VuZS9cIiwgXCJzY2VuZS5iYWJ5bG9uXCIsIHRoaXMuX3NjZW5lLCBmdW5jdGlvbiAoc2NlbmUpIHtcclxuICAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIHNjZW5lXHJcbiAgICAgIC8vIOWKoOi9vei/h+W6puWKqOeUu+WFs1xyXG4gICAgICBlbmdpbmUuaGlkZUxvYWRpbmdVSSgpO1xyXG5cclxuICAgICAgLy8gS2V5Ym9hcmQgZXZlbnRzXHJcbiAgICAgIHZhciBibHVlID0gc2NlbmUuZ2V0TWVzaEJ5TmFtZSgnYmx1ZScpITtcclxuXHJcbiAgICAgIHNjZW5lLmFjdGlvbk1hbmFnZXIgPSBuZXcgQkFCWUxPTi5BY3Rpb25NYW5hZ2VyKHNjZW5lKTtcclxuICAgICAgc2NlbmUuYWN0aW9uTWFuYWdlci5yZWdpc3RlckFjdGlvbihuZXcgQkFCWUxPTi5FeGVjdXRlQ29kZUFjdGlvbihCQUJZTE9OLkFjdGlvbk1hbmFnZXIuT25LZXlEb3duVHJpZ2dlciwgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgIGlucHV0TWFwW2V2dC5zb3VyY2VFdmVudC5rZXldID0gZXZ0LnNvdXJjZUV2ZW50LnR5cGUgPT0gXCJrZXlkb3duXCI7XHJcbiAgICAgIH0pKTtcclxuICAgICAgc2NlbmUuYWN0aW9uTWFuYWdlci5yZWdpc3RlckFjdGlvbihuZXcgQkFCWUxPTi5FeGVjdXRlQ29kZUFjdGlvbihCQUJZTE9OLkFjdGlvbk1hbmFnZXIuT25LZXlVcFRyaWdnZXIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICBpbnB1dE1hcFtldnQuc291cmNlRXZlbnQua2V5XSA9IGV2dC5zb3VyY2VFdmVudC50eXBlID09IFwia2V5ZG93blwiO1xyXG4gICAgICB9KSk7XHJcblxyXG5cclxuICAgICAgLy8gLy8gR2FtZS9SZW5kZXIgbG9vcFxyXG4gICAgICBzY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKCgpID0+IHtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0TWFwW1wid1wiXSB8fCBpbnB1dE1hcFtcIkFycm93VXBcIl0pIHtcclxuICAgICAgICAgIGJsdWUucG9zaXRpb24ueiAtPSAxMDAgKiBlbmdpbmUuZ2V0RGVsdGFUaW1lKCkgLyAxMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5wdXRNYXBbXCJhXCJdIHx8IGlucHV0TWFwW1wiQXJyb3dMZWZ0XCJdKSB7XHJcbiAgICAgICAgICBibHVlLnBvc2l0aW9uLnggKz0gMTAwICogZW5naW5lLmdldERlbHRhVGltZSgpIC8gMTAwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlucHV0TWFwW1wic1wiXSB8fCBpbnB1dE1hcFtcIkFycm93RG93blwiXSkge1xyXG4gICAgICAgICAgYmx1ZS5wb3NpdGlvbi56ICs9IDEwMCAqIGVuZ2luZS5nZXREZWx0YVRpbWUoKSAvIDEwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dE1hcFtcImRcIl0gfHwgaW5wdXRNYXBbXCJBcnJvd1JpZ2h0XCJdKSB7XHJcbiAgICAgICAgICBibHVlLnBvc2l0aW9uLnggLT0gMTAwICogZW5naW5lLmdldERlbHRhVGltZSgpIC8gMTAwMDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyAvLyBzcGhlcmVcclxuICAgICAgdmFyIHNwaGVyZSA9IHNjZW5lLmdldE1lc2hCeU5hbWUoJ3NwaGVyZScpITtcclxuICAgICAgc3BoZXJlLmFjdGlvbk1hbmFnZXIgPSBuZXcgQkFCWUxPTi5BY3Rpb25NYW5hZ2VyKHNjZW5lKTtcclxuXHJcbiAgICAgIHNwaGVyZS5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKG5ldyBCQUJZTE9OLlNldFZhbHVlQWN0aW9uKFxyXG4gICAgICAgIHsgdHJpZ2dlcjogQkFCWUxPTi5BY3Rpb25NYW5hZ2VyLk9uSW50ZXJzZWN0aW9uRW50ZXJUcmlnZ2VyLCBwYXJhbWV0ZXI6IGJsdWUgfSxcclxuICAgICAgICBzcGhlcmUsIFwic2NhbGluZ1wiLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDIsIDIsIDIpKSk7XHJcblxyXG4gICAgICBzcGhlcmUuYWN0aW9uTWFuYWdlci5yZWdpc3RlckFjdGlvbihuZXcgQkFCWUxPTi5TZXRWYWx1ZUFjdGlvbihcclxuICAgICAgICB7IHRyaWdnZXI6IEJBQllMT04uQWN0aW9uTWFuYWdlci5PbkludGVyc2VjdGlvbkV4aXRUcmlnZ2VyLCBwYXJhbWV0ZXI6IGJsdWUgfVxyXG4gICAgICAgICwgc3BoZXJlLCBcInNjYWxpbmdcIiwgbmV3IEJBQllMT04uVmVjdG9yMygxLCAxLCAxKSkpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2VuZ2luZS5ydW5SZW5kZXJMb29wKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2NhbnZhcy53aWR0aCAhPT0gdGhpcy5fY2FudmFzLmNsaWVudFdpZHRoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLnJlc2l6ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fc2NlbmUpIHtcclxuICAgICAgICB0aGlzLl9zY2VuZS5yZW5kZXIoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaWYgKHRoaXMuX3Nob3dGcHMpIHtcclxuICAgICAgLy8gXHR0aGlzLnVwZGF0ZUZwc1BvcygpO1xyXG4gICAgICAvLyB9XHJcblxyXG5cclxuICAgIH0pO1xyXG4gICAgLy8gcmV0dXJuIHRoaXM7XHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgQmFieWxvbkVuZ2luZSB7XHJcbiAgcHVibGljIHN0YXRpYyBDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHB1YmxpYyBzdGF0aWMgRW5naW5lOiBCQUJZTE9OLkVuZ2luZTtcclxuICBwdWJsaWMgc3RhdGljIFNjZW5lOiBCQUJZTE9OLlNjZW5lO1xyXG59IiwiZXhwb3J0ICogZnJvbSAnLi9iYWJ5bG9uLWVuZ2luZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdmVyeS1lbmdpbmUnOyIsImltcG9ydCB7IFZpZXdwb3J0IH0gZnJvbSBcIi4uL2VkaXRvclwiO1xyXG5pbXBvcnQgeyBDYW52YXMsIFBhbmVsLCBUcmVlIH0gZnJvbSBcIi4uL3VpXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmVyeUVuZ2luZSB7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdmlld1BhbmVsOiBQYW5lbDtcclxuICBwdWJsaWMgc3RhdGljIHJvb3RQYW5lbDogUGFuZWw7XHJcbiAgcHVibGljIHN0YXRpYyB0b29sYmFyUGFuZWw6IFBhbmVsO1xyXG5cclxuICBwdWJsaWMgc3RhdGljIGhpZXJhcmNoeVBhbmVsOiBQYW5lbDtcclxuICBwdWJsaWMgc3RhdGljIGhpZXJhcmNoeVRyZWU6IFRyZWU7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgYXNzZXRQYW5lbDogUGFuZWw7XHJcbiAgcHVibGljIHN0YXRpYyBhdHRyaWJ1dGVzUGFuZWw6IFBhbmVsO1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHZpZXdwb3J0OiBWaWV3cG9ydDtcclxuXHJcbiAgcHVibGljIHN0YXRpYyB2aWV3Q2FudmFzOiBDYW52YXM7XHJcblxyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vbGliJztcclxuZXhwb3J0ICogZnJvbSAnLi9lZGl0b3InO1xyXG5leHBvcnQgKiBmcm9tICcuL3VpJztcclxuXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2VuZ2luZSc7XHJcbiIsImV4cG9ydCBjbGFzcyBFdmVudHMge1xyXG5cclxuICBwdWJsaWMgZ2V0IHN1c3BlbmRFdmVudHMoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3VzcGVuZEV2ZW50cztcclxuICB9XHJcbiAgcHVibGljIHNldCBzdXNwZW5kRXZlbnRzKHZhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5fc3VzcGVuZEV2ZW50cyA9IHZhbDtcclxuICB9XHJcbiAgcHJpdmF0ZSBfc3VzcGVuZEV2ZW50czogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAvLyDmn5DkuKpuYW1l5a+55bqU55qE5LqL5Lu25pWw57uE77yMbmFtZeS4jkZ1bmN0aW9u5pivMeWvueWkmueahOWFs+ezu++8m1xyXG4gIHByaXZhdGUgX2V2ZW50czogeyBba2V5OiBzdHJpbmddOiBGdW5jdGlvbltdIH0gPSB7fTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOa3u+WKoOS6i+S7tuaVsOe7hO+8jOiLpW5hbWXnm7jlkIzvvIzliJnlnKjmlbDnu4TmnKvlsL7nu6fnu63mt7vliqDvvJtcclxuICAgKiBAcGFyYW0gbmFtZSDlh73mlbDlkI3vvJtcclxuICAgKiBAcGFyYW0gZm4g5Ye95pWw5pys5L2T77ybXHJcbiAgICovXHJcbiAgcHVibGljIG9uKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogRXZlbnRIYW5kbGUge1xyXG4gICAgbGV0IGV2ZW50czogRnVuY3Rpb25bXSA9IHRoaXMuX2V2ZW50c1tuYW1lXTtcclxuICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLl9ldmVudHNbbmFtZV0gPSBbZm5dO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGV2ZW50cy5pbmRleE9mKGZuKSA9PSAtMSkge1xyXG4gICAgICAgIGV2ZW50cy5wdXNoKGZuKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBFdmVudEhhbmRsZSh0aGlzLCBuYW1lLCBmbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBlbWl05ZCO5Y+q5omn6KGM5LiA5qyh77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGZuIOWHveaVsOacrOS9k++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBvbmNlKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogRXZlbnRIYW5kbGUge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgbGV0IGV2dDogRXZlbnRIYW5kbGUgPSB0aGlzLm9uKG5hbWUsIGZ1bmN0aW9uIChcclxuICAgICAgYXJnMDogYW55LFxyXG4gICAgICBhcmcxOiBhbnksXHJcbiAgICAgIGFyZzI6IGFueSxcclxuICAgICAgYXJnMzogYW55LFxyXG4gICAgICBhcmc0OiBhbnksXHJcbiAgICAgIGFyZzU6IGFueSxcclxuICAgICAgYXJnNjogYW55LFxyXG4gICAgICBhcmc3OiBhbnlcclxuICAgICkge1xyXG4gICAgICBmbi5jYWxsKHNlbGYsIGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUsIGFyZzYsIGFyZzcpO1xyXG4gICAgICBldnQudW5iaW5kKCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBldnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmiafooYzkuovku7bvvJtcclxuICAgKiBAcGFyYW0gbmFtZSDlh73mlbDlkI3vvJtcclxuICAgKiBAcGFyYW0gYXJnMCDlh73mlbDlj4LmlbAx77yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzEg5Ye95pWw5Y+C5pWwMu+8jOWPr+mAie+8m1xyXG4gICAqIEBwYXJhbSBhcmcyIOWHveaVsOWPguaVsDPvvIzlj6/pgInvvJtcclxuICAgKiBAcGFyYW0gYXJnMyDlh73mlbDlj4LmlbA077yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzQg5Ye95pWw5Y+C5pWwNe+8jOWPr+mAie+8m1xyXG4gICAqIEBwYXJhbSBhcmc1IOWHveaVsOWPguaVsDbvvIzlj6/pgInvvJtcclxuICAgKiBAcGFyYW0gYXJnNiDlh73mlbDlj4LmlbA377yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzcg5Ye95pWw5Y+C5pWwOO+8jOWPr+mAie+8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBlbWl0KG5hbWU6IHN0cmluZyxcclxuICAgIGFyZzA/OiBhbnksXHJcbiAgICBhcmcxPzogYW55LFxyXG4gICAgYXJnMj86IGFueSxcclxuICAgIGFyZzM/OiBhbnksXHJcbiAgICBhcmc0PzogYW55LFxyXG4gICAgYXJnNT86IGFueSxcclxuICAgIGFyZzY/OiBhbnksXHJcbiAgICBhcmc3PzogYW55XHJcbiAgKTogRXZlbnRzIHtcclxuICAgIGlmICh0aGlzLl9zdXNwZW5kRXZlbnRzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgICBsZXQgZXZlbnRzOiBGdW5jdGlvbltdID0gdGhpcy5fZXZlbnRzW25hbWVdO1xyXG4gICAgaWYgKCFldmVudHMpIHJldHVybiB0aGlzO1xyXG5cclxuICAgIC8vIOi/lOWbnuaWsOaVsOe7hFxyXG4gICAgZXZlbnRzID0gZXZlbnRzLnNsaWNlKDApO1xyXG5cclxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFldmVudHNbaV0pIGNvbnRpbnVlO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGV2ZW50c1tpXS5jYWxsKHRoaXMsIGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUsIGFyZzYsIGFyZzcpO1xyXG4gICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbyhcIiVjJXMgJWMoZXZlbnQgZXJyb3IpXCIsIFwiY29sb3I6ICMwNmZcIiwgbmFtZSwgXCJjb2xvcjogI2YwMFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhleC5zdGFjayk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiDlj5bmtohFdmVudHPkuovku7bnu5HlrprvvIzoi6VuYW1l5Li656m677yM5YiZ5riF56m6ZXZlbnRz77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGZuIOWHveaVsOacrOS9k++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyB1bmJpbmQobmFtZT86IHN0cmluZywgZm4/OiBGdW5jdGlvbik6IEV2ZW50cyB7XHJcbiAgICBpZiAobmFtZSkge1xyXG4gICAgICBsZXQgZXZlbnRzOiBGdW5jdGlvbltdID0gdGhpcy5fZXZlbnRzW25hbWVdO1xyXG4gICAgICBpZiAoIWV2ZW50cykgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICBpZiAoZm4pIHtcclxuICAgICAgICBsZXQgaTogbnVtYmVyID0gZXZlbnRzLmluZGV4T2YoZm4pO1xyXG4gICAgICAgIGlmIChpICE9PSAtMSkge1xyXG4gICAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1tuYW1lXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbbmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlIHtcclxuXHJcbiAgcHVibGljIG5hbWU6IE51bGxhYmxlPHN0cmluZz47XHJcblxyXG4gIHB1YmxpYyBvd25lcjogTnVsbGFibGU8RXZlbnRzPjtcclxuXHJcbiAgcHVibGljIGZuOiBOdWxsYWJsZTxGdW5jdGlvbj47XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihvd25lcjogRXZlbnRzLCBuYW1lOiBzdHJpbmcsIGZuOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5vd25lciA9IG93bmVyO1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuZm4gPSBmbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1bmJpbmQoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMub3duZXIpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLm93bmVyLnVuYmluZCh0aGlzLm5hbWUhLCB0aGlzLmZuISk7XHJcblxyXG4gICAgdGhpcy5vd25lciA9IG51bGw7XHJcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xyXG4gICAgdGhpcy5mbiA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2FsbCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5mbikgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZm4uY2FsbChcclxuICAgICAgdGhpcy5vd25lciEsXHJcbiAgICAgIGFyZ3VtZW50c1swXSxcclxuICAgICAgYXJndW1lbnRzWzFdLFxyXG4gICAgICBhcmd1bWVudHNbMl0sXHJcbiAgICAgIGFyZ3VtZW50c1szXSxcclxuICAgICAgYXJndW1lbnRzWzRdLFxyXG4gICAgICBhcmd1bWVudHNbNV0sXHJcbiAgICAgIGFyZ3VtZW50c1s2XSxcclxuICAgICAgYXJndW1lbnRzWzddXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogRXZlbnRIYW5kbGUge1xyXG4gICAgcmV0dXJuIHRoaXMub3duZXIhLm9uKG5hbWUsIGZuKTtcclxuICB9XHJcblxyXG59IiwiZXhwb3J0ICogZnJvbSAnLi9ldmVudHMnOyIsImltcG9ydCB7IEVkaXRvciwgTGF5b3V0LCBWaWV3cG9ydCwgSGllcmFyY2h5IH0gZnJvbSAnLi9lZGl0b3InO1xyXG5cclxuaW1wb3J0IHsgRWxlbWVudCwgQ2FudmFzIH0gZnJvbSAnLi91aSc7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tICcuL2VuZ2luZSc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2luZGV4JztcclxuXHJcbi8vIOa3u+WKoOWIsOWFqOWxgOWPmOmHj1xyXG53aW5kb3cuZWRpdG9yID0gbmV3IEVkaXRvcigpO1xyXG5cclxuLy8g5pW05L2T5biD5bGAXHJcbmxldCBsYXlvdXQgPSBuZXcgTGF5b3V0KCk7XHJcbmxheW91dC5pbml0KCk7XHJcblxyXG4vLyDnvJbovpHop4bnqpdcclxubGV0IHZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KCk7XHJcblZlcnlFbmdpbmUudmlld3BvcnQgPSB2aWV3cG9ydDtcclxuXHJcbi8vIOWxgue6p+iPnOWNlVxyXG5sZXQgaGllcmFyY2h5ID0gbmV3IEhpZXJhcmNoeSgpO1xyXG5cclxuLyogVEVTVFxyXG5lZGl0b3Iub25jZSgnbG9hZCcsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnb25jZScpO1xyXG59KTtcclxuXHJcbmVkaXRvci5vbignYXJyYXknLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJzEnKTtcclxufSk7XHJcbmVkaXRvci5vbignYXJyYXknLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJzInKTtcclxufSk7XHJcbmVkaXRvci5vbignYXJyYXknLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJzMnKTtcclxufSk7XHJcblxyXG5lZGl0b3Iub24oJ2FycmF5JywgKGFyZ3MwOiBhbnksIGFyZ3MxOiBhbnkpID0+IHtcclxuICBjb25zb2xlLmxvZyhhcmdzMCArICcgKysrICcgKyAgYXJnczEpO1xyXG59KTtcclxuXHJcbmVkaXRvci5tZXRob2QoJ21ldGhvZCcsIChhOiBhbnkpID0+IHtcclxuICBjb25zb2xlLmxvZyhhKTtcclxufSk7XHJcblxyXG5cclxuZWRpdG9yLmVtaXQoJ2xvYWQnKTtcclxuZWRpdG9yLmVtaXQoJ2xvYWQnKTtcclxuXHJcbmVkaXRvci5lbWl0KCdhcnJheScsICdhYmMnLCAnZGZnJyk7XHJcbmVkaXRvci5lbWl0KCdhcnJheScpO1xyXG5cclxuZWRpdG9yLmNhbGwoJ21ldGhvZCcsIDEyMyk7XHJcbiovXHJcblxyXG4vLyBsZXQgcGFyZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0JykhO1xyXG5cclxuLy8gY29uc29sZS5sb2coJ2NoaWxkcmVuJyk7XHJcblxyXG4vLyBjb25zb2xlLmxvZyhwYXJlbnQpO1xyXG4vLyBjb25zb2xlLmxvZyhwYXJlbnQuY2hpbGROb2Rlcyk7XHJcblxyXG4vLyBmb3IobGV0IGk6IG51bWJlciA9IDA7IGkgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuLy8gICAoPEhUTUxFbGVtZW50PihwYXJlbnQuY2hpbGRyZW5baV0pKS51aSA9IG5ldyBFbGVtZW50KCk7XHJcbi8vICAgY29uc29sZS53YXJuKCg8SFRNTEVsZW1lbnQ+KHBhcmVudC5jaGlsZHJlbltpXSkpLnVpID09PSB1bmRlZmluZWQpO1xyXG4vLyAgIGNvbnNvbGUubG9nKCg8SFRNTEVsZW1lbnQ+KHBhcmVudC5jaGlsZHJlbltpXSkpLnVpKTtcclxuLy8gICAoPEhUTUxFbGVtZW50PihwYXJlbnQuY2hpbGRyZW5baV0pKS51aS5kZXN0cm95KCk7XHJcbi8vICAgY29uc29sZS5sb2cocGFyZW50LmNoaWxkcmVuW2ldIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xyXG4vLyB9XHJcblxyXG4vLyBjb25zb2xlLmxvZygnY2hpbGROb2RlcycpO1xyXG5cclxuLy8gZm9yKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgcGFyZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuLy8gICBjb25zb2xlLmxvZyhwYXJlbnQuY2hpbGROb2Rlc1tpXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcclxuLy8gfVxyXG4iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1YmJsZSBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGlkPzogc3RyaW5nLCB0YWJpbmRleD86IG51bWJlcikge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1idWJibGUnKTtcclxuXHJcbiAgICBsZXQgcHVsc2VDaXJjbGU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBwdWxzZUNpcmNsZS5jbGFzc0xpc3QuYWRkKCdwdWxzZScpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHB1bHNlQ2lyY2xlKTtcclxuXHJcbiAgICBsZXQgY2VudGVyQ2lyY2xlOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY2VudGVyQ2lyY2xlLmNsYXNzTGlzdC5hZGQoJ2NlbnRlcicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNlbnRlckNpcmNsZSk7XHJcblxyXG4gICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcclxuXHJcbiAgICBpZiAoaWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgdGhpcy5lbGVtZW50LmlkID0gaWQ7XHJcblxyXG4gICAgaWYgKHRhYmluZGV4ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgdGFiaW5kZXgudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWN0aXZhdGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhY3RpdmF0ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xhc3MhLmFkZCgnYWN0aXZlJyk7XHJcbiAgICB0aGlzLmVtaXQoJ2FjdGl2YXRlJyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGVhY3RpdmF0ZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICB0aGlzLmVtaXQoJ2RlYWN0aXZhdGUnKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgbGV0IHJlY3QgPSB0aGlzLmVsZW1lbnQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGxldCBsZWZ0ID0geCB8fCAwO1xyXG4gICAgbGV0IHRvcCA9IHkgfHwgMDtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmxlZnQgPSAodHlwZW9mIGxlZnQgPT09ICdudW1iZXInKSA/IGxlZnQgKyAncHgnIDogbGVmdDtcclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUudG9wID0gKHR5cGVvZiB0b3AgPT09ICdudW1iZXInKSA/IHRvcCArICdweCcgOiB0b3A7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG5cclxuICBwcml2YXRlIF90ZXh0OiBzdHJpbmc7XHJcbiAgcHVibGljIGdldCB0ZXh0KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGV4dDtcclxuICB9XHJcbiAgcHVibGljIHNldCB0ZXh0KHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5fdGV4dCA9PT0gdmFsKSByZXR1cm47XHJcbiAgICB0aGlzLl90ZXh0ID0gdmFsO1xyXG4gICAgdGhpcy5lbGVtZW50IS5pbm5lckhUTUwgPSB0aGlzLl90ZXh0O1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcih0ZXh0Pzogc3RyaW5nKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuX3RleHQgPSB0ZXh0ID8gdGV4dCA6ICcnO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLWJ1dHRvbicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLmVsZW1lbnQudWkgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50LnRhYkluZGV4ID0gMDtcclxuXHJcbiAgICAvLyBzcGFjZSA+IGNsaWNrXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xyXG4gICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSAyNylcclxuICAgICAgcmV0dXJuICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG5cclxuICAgIGlmIChldnQua2V5Q29kZSAhPT0gMzIgfHwgdGhpcy5kaXNhYmxlZClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5lbWl0KCdjbGljaycpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25DbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudCEuYmx1cigpO1xyXG4gIH07XHJcblxyXG4gIC8vIFRPRE9cclxuICBwdWJsaWMgX29uTGlua0NoYW5nZSh2YWx1ZTogYW55KTogdm9pZCB7XHJcbiAgICAoPEhUTUxCdXR0b25FbGVtZW50PnRoaXMuZWxlbWVudCkudmFsdWUgPSB2YWx1ZTtcclxuICB9O1xyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuL2VsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBFbGVtZW50IHtcclxuXHJcbiAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCA/ICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS53aWR0aCA6IDA7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgd2lkdGgodmFsOiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcbiAgICBpZiAoKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLndpZHRoID09PSB2YWwpIHJldHVybjtcclxuXHJcbiAgICAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkud2lkdGggPSB2YWw7XHJcbiAgICB0aGlzLmVtaXQoXCJyZXNpemVcIiwgKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLndpZHRoLCAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkuaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50ID8gKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLmhlaWdodCA6IDA7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgaGVpZ2h0KHZhbDogbnVtYmVyKSB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xyXG4gICAgaWYgKCg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS5oZWlnaHQgPT09IHZhbCkgcmV0dXJuO1xyXG5cclxuICAgICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS5oZWlnaHQgPSB2YWw7XHJcbiAgICB0aGlzLmVtaXQoXCJyZXNpemVcIiwgKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLndpZHRoLCAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkuaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihpZD86IHN0cmluZykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1jYW52YXMnKTtcclxuXHJcbiAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkgdGhpcy5lbGVtZW50LmlkID0gaWQ7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50Lm9uc2VsZWN0c3RhcnQgPSB0aGlzLm9uc2VsZWN0c3RhcnQ7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbnNlbGVjdHN0YXJ0KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyByZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICgoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkud2lkdGggPT09IHdpZHRoICYmICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS5oZWlnaHQgPT09IGhlaWdodCkgcmV0dXJuO1xyXG5cclxuICAgICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS53aWR0aCA9IHdpZHRoO1xyXG4gICAgKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLmhlaWdodCA9IGhlaWdodDtcclxuICAgIHRoaXMuZW1pdChcInJlc2l6ZVwiLCAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkud2lkdGgsICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS5oZWlnaHQpO1xyXG4gIH07XHJcblxyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuL2VsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja2JveCBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfdGV4dDogc3RyaW5nO1xyXG5cclxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrZWQnKTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLl9saW5rKSB7XHJcbiAgICAgIHRoaXMuX2xpbmsuc2V0KHRoaXMucGF0aCwgdmFsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpICE9PSB2YWwpXHJcbiAgICAgICAgdGhpcy5fb25MaW5rQ2hhbmdlKHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IodGV4dD86IHN0cmluZykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLl90ZXh0ID0gdGV4dCB8fCAnJztcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1jaGVja2JveCcsICdub1NlbGVjdCcpO1xyXG4gICAgdGhpcy5lbGVtZW50LnRhYkluZGV4ID0gMDtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcclxuICAgIHRoaXMub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlKTtcclxuXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy52YWx1ZSA9ICF0aGlzLnZhbHVlO1xyXG4gICAgdGhpcy5lbGVtZW50IS5ibHVyKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNoYW5nZSgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5yZW5kZXJDaGFuZ2VzKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5mbGFzaCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSAyNykgIC8vIEVzY2FwZVxyXG4gICAgICByZXR1cm4gKDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0KS5ibHVyKCk7XHJcblxyXG4gICAgLy8gU3BhY2VcclxuICAgIGlmIChldnQua2V5Q29kZSAhPT0gMzIgfHwgdGhpcy5kaXNhYmxlZClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy52YWx1ZSA9ICF0aGlzLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ET1xyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2VkJyk7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmFkZCgnbnVsbCcpO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcclxuICAgICAgdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QucmVtb3ZlKCdudWxsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnLCAnbnVsbCcpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi9lbGVtZW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG5cclxuICBwcml2YXRlIF9pbm5lckVsZW1lbnQ6IE51bGxhYmxlPEhUTUxFbGVtZW50PiA9IG51bGw7XHJcbiAgcHVibGljIGdldCBpbm5lckVsZW1lbnQoKTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+IHtcclxuICAgIHJldHVybiB0aGlzLl9pbm5lckVsZW1lbnQ7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgaW5uZXJFbGVtZW50KHZhbDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+KSB7XHJcbiAgICBpZiAodGhpcy5faW5uZXJFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9pbm5lckVsZW1lbnQgPSB2YWw7XHJcblxyXG4gICAgdGhpcy5fb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLl9pbm5lckVsZW1lbnQhLCB0aGlzLl9vYnNlcnZlck9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb2JzZXJ2ZXJDaGFuZ2VkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHByaXZhdGUgX29ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyO1xyXG5cclxuICBwcml2YXRlIF9vYnNlcnZlck9wdGlvbnM6IHt9ID0ge1xyXG4gICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcclxuICAgIGNoYXJhY3RlckRhdGE6IGZhbHNlLFxyXG4gICAgc3VidHJlZTogdHJ1ZSxcclxuICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiBmYWxzZSxcclxuICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogZmFsc2VcclxuICB9O1xyXG5cclxuXHJcbiAgcHVibGljIGdldCBmbGV4aWJsZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPyB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbGV4aWJsZScpIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZmxleGlibGUodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCB8fCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbGV4aWJsZScpID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmbGV4aWJsZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXhpYmxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGZsZXgoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50ID8gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmxleCcpIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZmxleCh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50IHx8IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsZXgnKSA9PT0gdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmxleCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZsZXgnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZmxleERpcmVjdGlvbigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lubmVyRWxlbWVudCA/ICh0aGlzLl9pbm5lckVsZW1lbnQhLnN0eWxlLmZsZXhEaXJlY3Rpb24gfHwgJycpIDogJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZmxleERpcmVjdGlvbih2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX2lubmVyRWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUuZmxleERpcmVjdGlvbiA9IHZhbDtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLndlYmtpdEZsZXhEaXJlY3Rpb24gPSB2YWwhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBmbGV4V3JhcCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lubmVyRWxlbWVudCA/ICh0aGlzLl9pbm5lckVsZW1lbnQhLnN0eWxlLmZsZXhXcmFwIHx8ICcnKSA6ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZsZXhXcmFwKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5faW5uZXJFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5zdHlsZS5mbGV4V3JhcCA9IHZhbDtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLndlYmtpdEZsZXhXcmFwID0gdmFsITtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZmxleEdyb3coKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPyAodGhpcy5lbGVtZW50LnN0eWxlLmZsZXhHcm93IHx8ICcnKSA6ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZsZXhHcm93KHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAoISF2YWwpIHRoaXMuZmxleCA9IHRydWU7XHJcblxyXG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZmxleEdyb3cgPSB2YWw7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53ZWJraXRGbGV4R3JvdyA9IHZhbCE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2lubmVyRWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUuZmxleEdyb3cgPSB2YWw7XHJcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5zdHlsZS53ZWJraXRGbGV4R3JvdyA9IHZhbCE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGZsZXhTaHJpbmsoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPyAodGhpcy5lbGVtZW50LnN0eWxlLmZsZXhTaHJpbmsgfHwgJycpIDogJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZmxleFNocmluayh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKCEhdmFsKSB0aGlzLmZsZXggPSB0cnVlO1xyXG5cclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmZsZXhTaHJpbmsgPSB2YWw7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53ZWJraXRGbGV4U2hyaW5rID0gdmFsITtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5faW5uZXJFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rID0gdmFsO1xyXG4gICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUud2Via2l0RmxleFNocmluayA9IHZhbCE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHNjcm9sbCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNsYXNzID8gdGhpcy5jbGFzcy5jb250YWlucygnc2Nyb2xsYWJsZScpIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc2Nyb2xsKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MpIHRoaXMuY2xhc3MuYWRkKCdzY3JvbGxhYmxlJyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgbGV0IG9ic2VydmVyVGltZW91dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLl9vYnNlcnZlckNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgc2VsZi5lbWl0KCdub2Rlc0NoYW5nZWQnKTtcclxuICAgICAgLy8gY29uc29sZS53YXJuKCdub2Rlc0NoYW5nZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChzZWxmLl9vYnNlcnZlckNoYW5nZWQpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICBzZWxmLl9vYnNlcnZlckNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICBzZXRUaW1lb3V0KG9ic2VydmVyVGltZW91dCwgMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXBwZW5kKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgRWxlbWVudCk6IHZvaWQge1xyXG4gICAgbGV0IGh0bWw6IGJvb2xlYW4gPSBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XHJcbiAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQgPSBodG1sID8gPEhUTUxFbGVtZW50PmVsZW1lbnQgOiAoPEVsZW1lbnQ+ZWxlbWVudCkuZWxlbWVudCE7XHJcbiAgICB0aGlzLl9pbm5lckVsZW1lbnQhLmFwcGVuZENoaWxkKG5vZGUpO1xyXG5cclxuICAgIGlmICghaHRtbCkge1xyXG4gICAgICAoPEVsZW1lbnQ+ZWxlbWVudCkucGFyZW50ID0gdGhpcztcclxuICAgICAgdGhpcy5lbWl0KCdhcHBlbmQnLCBlbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgYXBwZW5kQmVmb3JlKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgRWxlbWVudCwgcmVmZXJlbmNlOiBIVE1MRWxlbWVudCB8IEVsZW1lbnQgfCBudWxsKTogdm9pZCB7XHJcbiAgICBsZXQgaHRtbDogYm9vbGVhbiA9IChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xyXG4gICAgbGV0IG5vZGU6IEhUTUxFbGVtZW50ID0gaHRtbCA/IDxIVE1MRWxlbWVudD5lbGVtZW50IDogKDxFbGVtZW50PmVsZW1lbnQpLmVsZW1lbnQhO1xyXG5cclxuICAgIGlmIChyZWZlcmVuY2UgaW5zdGFuY2VvZiBFbGVtZW50KSByZWZlcmVuY2UgPSByZWZlcmVuY2UuZWxlbWVudDtcclxuXHJcbiAgICB0aGlzLl9pbm5lckVsZW1lbnQhLmluc2VydEJlZm9yZShub2RlLCByZWZlcmVuY2UpO1xyXG5cclxuICAgIGlmICghaHRtbCkge1xyXG4gICAgICAoPEVsZW1lbnQ+ZWxlbWVudCkucGFyZW50ID0gdGhpcztcclxuICAgICAgdGhpcy5lbWl0KCdhcHBlbmQnLCBlbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwdWJsaWMgYXBwZW5kQWZ0ZXIoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50LCByZWZlcmVuY2U6IEhUTUxFbGVtZW50IHwgRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcclxuICAgIGxldCBodG1sOiBib29sZWFuID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk7XHJcbiAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQgPSBodG1sID8gPEhUTUxFbGVtZW50PmVsZW1lbnQgOiAoPEVsZW1lbnQ+ZWxlbWVudCkuZWxlbWVudCE7XHJcblxyXG4gICAgaWYgKHJlZmVyZW5jZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHJlZmVyZW5jZSA9IHJlZmVyZW5jZS5lbGVtZW50O1xyXG5cclxuICAgIGlmIChyZWZlcmVuY2UpIHtcclxuICAgICAgdGhpcy5faW5uZXJFbGVtZW50IS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmZXJlbmNlLm5leHRTaWJsaW5nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudCEuYXBwZW5kQ2hpbGQobm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICg8RWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICB0aGlzLmVtaXQoJ2FwcGVuZCcsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICBwdWJsaWMgcHJlcGVuZChlbGVtZW50OiBIVE1MRWxlbWVudCB8IEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGxldCBmaXJzdCA9IHRoaXMuX2lubmVyRWxlbWVudCEuZmlyc3RDaGlsZDtcclxuICAgIGxldCBodG1sOiBib29sZWFuID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk7XHJcbiAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQgPSBodG1sID8gPEhUTUxFbGVtZW50PmVsZW1lbnQgOiAoPEVsZW1lbnQ+ZWxlbWVudCkuZWxlbWVudCE7XHJcblxyXG4gICAgaWYgKGZpcnN0KSB7XHJcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudCEuaW5zZXJ0QmVmb3JlKG5vZGUsIGZpcnN0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2lubmVyRWxlbWVudCEuYXBwZW5kQ2hpbGQobm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICg8RWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICB0aGlzLmVtaXQoJ2FwcGVuZCcsIGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHB1YmxpYyByZW1vdmUoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50KTogdm9pZCB7XHJcbiAgICBsZXQgaHRtbDogYm9vbGVhbiA9IChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xyXG4gICAgbGV0IG5vZGU6IEhUTUxFbGVtZW50ID0gaHRtbCA/IDxIVE1MRWxlbWVudD5lbGVtZW50IDogKDxFbGVtZW50PmVsZW1lbnQpLmVsZW1lbnQhO1xyXG5cclxuICAgIGlmICghbm9kZS5wYXJlbnRFbGVtZW50IHx8IG5vZGUucGFyZW50RWxlbWVudCAhPT0gdGhpcy5faW5uZXJFbGVtZW50KVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5faW5uZXJFbGVtZW50LnJlbW92ZUNoaWxkKG5vZGUpO1xyXG5cclxuICAgIGlmICghaHRtbCkge1xyXG4gICAgICAoPEVsZW1lbnQ+ZWxlbWVudCkucGFyZW50ID0gbnVsbDtcclxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmUnLCBlbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBUT0RP77ya5oCV5LiN5a+5XHJcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgbGV0IG5vZGU6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICBsZXQgaTogbnVtYmVyID0gdGhpcy5faW5uZXJFbGVtZW50IS5jaGlsZHJlbi5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgIG5vZGUgPSA8SFRNTEVsZW1lbnQ+KHRoaXMuX2lubmVyRWxlbWVudCEuY2hpbGRyZW5baV0pO1xyXG5cclxuICAgICAgaWYgKCFub2RlLnVpKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgbm9kZS51aS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9pbm5lckVsZW1lbnQhLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5faW5uZXJFbGVtZW50ISwgdGhpcy5fb2JzZXJ2ZXJPcHRpb25zKTtcclxuICB9O1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFdmVudHMsIEV2ZW50SGFuZGxlIH0gZnJvbSBcIi4uL2xpYlwiO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcIi4vbGlua1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVsZW1lbnQgZXh0ZW5kcyBFdmVudHMge1xyXG5cclxuICBwcml2YXRlIF9wYXJlbnQ6IE51bGxhYmxlPEVsZW1lbnQ+ID0gbnVsbDtcclxuICBwcml2YXRlIF9kZXN0cm95ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgLy8gVE9ET1xyXG4gIHB1YmxpYyBfbGluazogTnVsbGFibGU8TGluaz4gPSBudWxsO1xyXG4gIC8qXHJcbiAgICBvbiBnZXQgc2V0IC5zY2hlbWEuaGFzIC5zY2hlbWEuZ2V0IC5oaXN0b3J5IC5oaXN0b3J5LmNvbWJpbmUgLmVudGl0eVxyXG4gICovXHJcbiAgcHJpdmF0ZSBfbGlua09uU2V0OiBOdWxsYWJsZTxFdmVudEhhbmRsZT4gPSBudWxsO1xyXG4gIHByaXZhdGUgX2xpbmtPblVuc2V0OiBOdWxsYWJsZTxFdmVudEhhbmRsZT4gPSBudWxsO1xyXG4gIHB1YmxpYyBwYXRoOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgcHVibGljIHJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuICAvLyBUT0RPXHJcbiAgLy8gLy8gcmVuZGVyIGNoYW5nZXMgb25seSBmcm9tIG5leHQgdGlja3NcclxuICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gIC8vICAgaWYgKHNlbGYucmVuZGVyQ2hhbmdlcyA9PT0gbnVsbCkgc2VsZi5yZW5kZXJDaGFuZ2VzID0gdHJ1ZTtcclxuICAvLyB9LCAwKTtcclxuXHJcbiAgcHVibGljIGRpc2FibGVkQ2xpY2sgPSBmYWxzZTtcclxuICBwcml2YXRlIF9kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX2Rpc2FibGVkUGFyZW50ID0gZmFsc2U7XHJcblxyXG4gIHByaXZhdGUgX2V2dFBhcmVudERlc3Ryb3k6IE51bGxhYmxlPEV2ZW50SGFuZGxlPiA9IG51bGw7XHJcbiAgcHJpdmF0ZSBfZXZ0UGFyZW50RGlzYWJsZTogTnVsbGFibGU8RXZlbnRIYW5kbGU+ID0gbnVsbDtcclxuICBwcml2YXRlIF9ldnRQYXJlbnRFbmFibGU6IE51bGxhYmxlPEV2ZW50SGFuZGxlPiA9IG51bGw7XHJcblxyXG4gIC8vIEhUTUxFbGVtZW50IFxyXG4gIHByaXZhdGUgX2VsZW1lbnQ6IE51bGxhYmxlPEhUTUxFbGVtZW50PiA9IG51bGw7XHJcbiAgLy8gcHVibGljIGlubmVyRWxlbWVudDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+ID0gbnVsbDtcclxuICBwdWJsaWMgZ2V0IGVsZW1lbnQoKTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+IHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGVsZW1lbnQodmFsOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4pIHtcclxuICAgIGlmICh0aGlzLl9lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudCA9IHZhbDtcclxuICAgIHRoaXMuX2VsZW1lbnQhLnVpID0gdGhpcztcclxuXHJcbiAgICBpZiAoIXRoaXMuX2VsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBjbGljayDkuovku7ZcclxuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChzZWxmLmRpc2FibGVkICYmICFzZWxmLmRpc2FibGVkQ2xpY2spIHJldHVybjtcclxuICAgICAgc2VsZi5lbWl0KFwiY2xpY2tcIiwgZXZ0KTtcclxuICAgIH0sIGZhbHNlKTtcclxuICAgIC8vIGhvdmVyIOS6i+S7tlxyXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHNlbGYuZW1pdCgnaG92ZXInLCBldnQpO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gICAgLy8gYmx1ciDkuovku7bvvIxtb3VzZSBvdXRcclxuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHNlbGYuZW1pdCgnYmx1cicsIGV2dCk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgLy8gaWYgKCF0aGlzLmlubmVyRWxlbWVudCkgdGhpcy5pbm5lckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwYXJlbnQoKTogTnVsbGFibGU8RWxlbWVudD4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcclxuICB9XHJcbiAgcHVibGljIHNldCBwYXJlbnQodmFsOiBOdWxsYWJsZTxFbGVtZW50Pikge1xyXG4gICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xyXG4gICAgICB0aGlzLl9ldnRQYXJlbnREZXN0cm95IS51bmJpbmQoKTtcclxuICAgICAgdGhpcy5fZXZ0UGFyZW50RGlzYWJsZSEudW5iaW5kKCk7XHJcbiAgICAgIHRoaXMuX2V2dFBhcmVudEVuYWJsZSEudW5iaW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLl9wYXJlbnQgPSB2YWw7XHJcbiAgICAgIHRoaXMuX2V2dFBhcmVudERlc3Ryb3kgPSB0aGlzLl9wYXJlbnQub25jZShcclxuICAgICAgICBcImRlc3Ryb3lcIixcclxuICAgICAgICB0aGlzLl9wYXJlbnREZXN0cm95XHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX2V2dFBhcmVudERpc2FibGUgPSB0aGlzLl9wYXJlbnQub24oXCJkaXNhYmxlXCIsIHRoaXMuX3BhcmVudERpc2FibGUpO1xyXG4gICAgICB0aGlzLl9ldnRQYXJlbnRFbmFibGUgPSB0aGlzLl9wYXJlbnQub24oXCJlbmFibGVcIiwgdGhpcy5fcGFyZW50RW5hYmxlKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLl9kaXNhYmxlZFBhcmVudCAhPT0gdGhpcy5fcGFyZW50LmRpc2FibGVkKSB7XHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRQYXJlbnQgPSB0aGlzLl9wYXJlbnQuZGlzYWJsZWQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlZFBhcmVudCkge1xyXG4gICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICB0aGlzLmVtaXQoXCJkaXNhYmxlXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgIHRoaXMuZW1pdChcImVuYWJsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVtaXQoXCJwYXJlbnRcIik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGRpc2FibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkIHx8IHRoaXMuX2Rpc2FibGVkUGFyZW50O1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGRpc2FibGVkKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuX2Rpc2FibGVkID09PSB2YWwpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9kaXNhYmxlZCA9ICEhdmFsO1xyXG4gICAgdGhpcy5lbWl0KHRoaXMuX2Rpc2FibGVkIHx8IHRoaXMuX2Rpc2FibGVkUGFyZW50ID8gJ2Rpc2FibGUnIDogJ2VuYWJsZScpO1xyXG5cclxuICAgIGlmICh0aGlzLl9kaXNhYmxlZCB8fCB0aGlzLl9kaXNhYmxlZFBhcmVudCkge1xyXG4gICAgICBpZiAodGhpcy5jbGFzcykgdGhpcy5jbGFzcy5hZGQoJ2Rpc2FibGVkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5jbGFzcykgdGhpcy5jbGFzcy5yZW1vdmUoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGRpc2FibGVkU2VsZigpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAhdGhpcy5fZGlzYWJsZWQ7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZW5hYmxlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZGlzYWJsZWQgPSAhdmFsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBoaWRkZW4oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudCA/IHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSA6IGZhbHNlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGhpZGRlbih2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICghdGhpcy5fZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgIGlmICh0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgPT09ICEhdmFsKSByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICB0aGlzLmVtaXQoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgIHRoaXMuZW1pdCgnc2hvdycpO1xyXG5cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRPRE9cclxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IGFueSB7XHJcbiAgICBpZiAoIXRoaXMuX2xpbmspIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgdmFsdWUodmFsOiBhbnkpIHtcclxuICAgIGlmICghdGhpcy5fbGluaykgcmV0dXJuO1xyXG4gICAgdGhpcy5fbGluay5zZXQodGhpcy5wYXRoLCB2YWwpO1xyXG4gIH1cclxuXHJcbiAgLyogRE9NIEVsZW1lbnQgKi9cclxuXHJcbiAgcHVibGljIGdldCBjbGFzcygpOiBOdWxsYWJsZTxET01Ub2tlbkxpc3Q+IHtcclxuICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzdHlsZSgpOiBOdWxsYWJsZTxDU1NTdHlsZURlY2xhcmF0aW9uPiB7XHJcbiAgICBpZiAodGhpcy5fZWxlbWVudCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5zdHlsZTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLy8gZmxleC1ncm93IOWxnuaAp+eUqOS6juiuvue9ruaIluajgOe0ouW8ueaAp+ebkuWtkOeahOaJqeWxleavlOeOh++8jOeUqOS9nGNzc+WKqOeUu+aViOaenFxyXG4gIHB1YmxpYyBnZXQgZmxleEdyb3coKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50ID8gKHRoaXMuX2VsZW1lbnQuc3R5bGUuZmxleEdyb3cgfHwgJycpIDogJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZmxleEdyb3codmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZmxleEdyb3cgPSB2YWw7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUud2Via2l0RmxleEdyb3cgPSB2YWwhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gZmxleC1zaHJpbmsg5bGe5oCn6KeE5a6a6aG555uu5bCG55u45a+55LqO5ZCM5LiA5a655Zmo5YaF5YW25LuW54G15rS755qE6aG555uu6L+b6KGM5pS257yp55qE6YeP77yM55So5L2cY3Nz5Yqo55S75pWI5p6cXHJcbiAgcHVibGljIGdldCBmbGV4U2hyaW5rKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudCA/ICh0aGlzLl9lbGVtZW50LnN0eWxlLmZsZXhTaHJpbmsgfHwgJycpIDogJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZmxleFNocmluayh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rID0gdmFsO1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLndlYmtpdEZsZXhTaHJpbmsgPSB2YWwhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICAvLyB0aGlzLl9lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIClcclxuXHJcbiAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xyXG4gICAgLy8gbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gdGhpcy5fcGFyZW50RGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgc2VsZi5kZXN0cm95KCk7XHJcbiAgICAvLyB9O1xyXG4gIH1cclxuXHJcbiAgLy8g6K6+572u5YWD57Sg6Zeq54OB5pWI5p6cXHJcbiAgcHVibGljIGZsYXNoKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MpIHtcclxuICAgICAgdGhpcy5jbGFzcy5hZGQoJ2ZsYXNoJyk7XHJcbiAgICAgIHNldFRpbWVvdXQodGhpcy5fb25GbGFzaERlbGF5LCAyMDApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgX29uRmxhc2hEZWxheSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmNsYXNzKSB7XHJcbiAgICAgIHRoaXMuY2xhc3MucmVtb3ZlKCdmbGFzaCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGxpbmsobGluazogTGluaywgcGF0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHRoaXMuX2xpbmspIHRoaXMudW5saW5rKCk7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMucGF0aCA9IHBhdGg7XHJcblxyXG4gICAgdGhpcy5lbWl0KFwibGlua1wiLCBwYXRoKTtcclxuXHJcbiAgICAvLyBhZGQgOnNldCBsaW5rXHJcbiAgICBpZiAodGhpcy5fb25MaW5rQ2hhbmdlKSB7XHJcbiAgICAgIGxldCByZW5kZXJDaGFuZ2VzID0gdGhpcy5yZW5kZXJDaGFuZ2VzO1xyXG4gICAgICB0aGlzLnJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fbGlua09uU2V0ID0gdGhpcy5fbGluay5vbih0aGlzLnBhdGggKyBcIjpzZXRcIiwgZnVuY3Rpb24gKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICBzZWxmLl9vbkxpbmtDaGFuZ2UodmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5fbGlua09uVW5zZXQgPSB0aGlzLl9saW5rLm9uKHRoaXMucGF0aCArIFwiOnVuc2V0XCIsIGZ1bmN0aW9uICh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgc2VsZi5fb25MaW5rQ2hhbmdlKHZhbHVlKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuX29uTGlua0NoYW5nZSh0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpKTtcclxuICAgICAgdGhpcy5yZW5kZXJDaGFuZ2VzID0gcmVuZGVyQ2hhbmdlcztcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgcHVibGljIHVubGluaygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5fbGluaykgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZW1pdChcInVubGlua1wiLCB0aGlzLnBhdGgpO1xyXG5cclxuICAgIC8vIHJlbW92ZSA6c2V0IGxpbmtcclxuICAgIGlmICh0aGlzLl9saW5rT25TZXQpIHtcclxuICAgICAgdGhpcy5fbGlua09uU2V0LnVuYmluZCgpO1xyXG4gICAgICB0aGlzLl9saW5rT25TZXQgPSBudWxsO1xyXG5cclxuICAgICAgdGhpcy5fbGlua09uVW5zZXQhLnVuYmluZCgpO1xyXG4gICAgICB0aGlzLl9saW5rT25VbnNldCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fbGluayA9IG51bGw7XHJcbiAgICB0aGlzLnBhdGggPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5fZGVzdHJveWVkKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgIHRoaXMuX2V2dFBhcmVudERlc3Ryb3khLnVuYmluZCgpO1xyXG4gICAgICB0aGlzLl9ldnRQYXJlbnREaXNhYmxlIS51bmJpbmQoKTtcclxuICAgICAgdGhpcy5fZXZ0UGFyZW50RW5hYmxlIS51bmJpbmQoKTtcclxuICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudW5saW5rKCk7XHJcblxyXG4gICAgdGhpcy5lbWl0KCdkZXN0cm95Jyk7XHJcblxyXG4gICAgdGhpcy51bmJpbmQoKTtcclxuXHJcbiAgICBjb25zb2xlLmVycm9yKCdkZXN0cm95Jyk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfcGFyZW50RGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3BhcmVudERpc2FibGUoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5fZGlzYWJsZWRQYXJlbnQpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9kaXNhYmxlZFBhcmVudCA9IHRydWU7XHJcblxyXG4gICAgaWYgKCF0aGlzLl9kaXNhYmxlZCkge1xyXG4gICAgICB0aGlzLmVtaXQoXCJkaXNhYmxlXCIpO1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9wYXJlbnRFbmFibGUoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuX2Rpc2FibGVkUGFyZW50KSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fZGlzYWJsZWRQYXJlbnQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuX2Rpc2FibGVkKSB7XHJcbiAgICAgIHRoaXMuZW1pdChcImVuYWJsZVwiKTtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG59IiwiZXhwb3J0ICogZnJvbSAnLi9saW5rJztcclxuZXhwb3J0ICogZnJvbSAnLi9lbGVtZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi9jb250YWluZXItZWxlbWVudCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcGFuZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NhbnZhcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYnV0dG9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9sYWJlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdGV4dC1maWVsZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdGV4dGFyZWEtZmllbGQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3RyZWUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3RyZWUtaXRlbSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vbGlzdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vbGlzdC1pdGVtJztcclxuZXhwb3J0ICogZnJvbSAnLi9jaGVja2JveCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYnViYmxlJztcclxuZXhwb3J0ICogZnJvbSAnLi9vdmVybGF5JztcclxuZXhwb3J0ICogZnJvbSAnLi90b29sdGlwJzsiLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExhYmVsIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG4gIHByaXZhdGUgX3RleHQ6IHN0cmluZztcclxuICBwdWJsaWMgZ2V0IHRleHQoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl9saW5rKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgdGV4dCh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgLy8gVE9ETyBcclxuICAgICAgdGhpcy5fbGluay5zZXQodGhpcy5wYXRoLCB2YWwpXHJcbiAgICAgIHZhbCA9IHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgICAgIHRoaXMuX3NldFRleHQodmFsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB2YWwpIHJldHVybjtcclxuXHJcbiAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwgPT09IG51bGwpIHtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gJyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHZhbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fc2V0VGV4dCh0aGlzLl90ZXh0KTtcclxuICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gaWYgdW5zYWZlIGlzIHRydWUgdGhlbiB1c2UgaW5uZXJIVE1MIGZvciB0aGVcclxuICAvLyBjb250ZW50c1xyXG4gIHByaXZhdGUgX3Vuc2FmZTogYm9vbGVhbjtcclxuXHJcbiAgcHVibGljIGdldCBwbGFjZWhvbGRlcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpIHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHBsYWNlaG9sZGVyKHZhbDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQhLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCB2YWwpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMudGV4dDtcclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgdGhpcy50ZXh0ID0gdmFsO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcih0ZXh0Pzogc3RyaW5nLCBwbGFjZWhvbGRlcj86IHN0cmluZywgdW5zYWZlPzogYm9vbGVhbikge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLl90ZXh0ID0gdGV4dCA/IHRleHQgOiAnJztcclxuICAgIHRoaXMuX3Vuc2FmZSA9IHVuc2FmZSA/IHVuc2FmZSA6IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1sYWJlbCcpO1xyXG5cclxuICAgIGlmICh0aGlzLl90ZXh0KVxyXG4gICAgICB0aGlzLl9zZXRUZXh0KHRoaXMuX3RleHQpO1xyXG5cclxuICAgIHRoaXMub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlKTtcclxuXHJcbiAgICBpZiAocGxhY2Vob2xkZXIpIHtcclxuICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc2V0VGV4dCh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl91bnNhZmUpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNoYW5nZSgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5yZW5kZXJDaGFuZ2VzKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5mbGFzaCgpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBhbnkpIHtcclxuICAgIHRoaXMudGV4dCA9IHZhbHVlO1xyXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB2YWx1ZSk7XHJcbiAgfTtcclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi91aSc7XHJcbmltcG9ydCB7IEV2ZW50SGFuZGxlIH0gZnJvbSAnLi4vbGliJztcclxuXHJcbi8vIFRPRE9cclxuZXhwb3J0IGNsYXNzIExpbmsge1xyXG5cclxuICBwcml2YXRlIF9lbGVtZW50OiBFbGVtZW50O1xyXG5cclxuICBwcml2YXRlIF92YWx1ZTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoZWxlOiBFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldChwYXRoOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlW3BhdGhdO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ET1xyXG4gIHB1YmxpYyBzZXQocGF0aDogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLl92YWx1ZVtwYXRoXSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogRXZlbnRIYW5kbGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQub24obmFtZSwgZm4pO1xyXG4gIH1cclxufSIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdEl0ZW0gZXh0ZW5kcyBFbGVtZW50IHtcclxuXHJcbiAgcHJpdmF0ZSBfdGV4dDogc3RyaW5nO1xyXG4gIHB1YmxpYyBnZXQgdGV4dCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX3RleHQ7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgdGV4dCh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX3RleHQgPT09IHZhbCkgcmV0dXJuO1xyXG4gICAgdGhpcy5fdGV4dCA9IHZhbDtcclxuICAgIHRoaXMuZWxlbWVudFRleHQudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWQ6IGJvb2xlYW47XHJcbiAgcHVibGljIGdldCBzZWxlY3RlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZDtcclxuICB9XHJcbiAgcHVibGljIHNldCBzZWxlY3RlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLl9zZWxlY3RlZCA9PT0gdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fc2VsZWN0ZWQgPSB2YWw7XHJcblxyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVtaXQodGhpcy5zZWxlY3RlZCA/ICdzZWxlY3QnIDogJ2Rlc2VsZWN0Jyk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyZW50KVxyXG4gICAgICB0aGlzLnBhcmVudC5lbWl0KHRoaXMuc2VsZWN0ZWQgPyAnc2VsZWN0JyA6ICdkZXNlbGVjdCcsIHRoaXMpO1xyXG5cclxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5zZWxlY3RlZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9hbGxvd0Rlc2VsZWN0OiBib29sZWFuO1xyXG5cclxuICBwdWJsaWMgZWxlbWVudFRleHQ6IEhUTUxFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IodGV4dD86IHN0cmluZywgc2VsZWN0ZWQ/OiBib29sZWFuLCBhbGxvd0Rlc2VsZWN0PzogYm9vbGVhbikge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLl90ZXh0ID0gdGV4dCB8fCAnJztcclxuICAgIHRoaXMuX3NlbGVjdGVkID0gc2VsZWN0ZWQgfHwgZmFsc2U7XHJcbiAgICB0aGlzLl9hbGxvd0Rlc2VsZWN0ID0gYWxsb3dEZXNlbGVjdCB8fCBmYWxzZTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLWxpc3QtaXRlbScpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRUZXh0LnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRUZXh0KTtcclxuXHJcbiAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgX29uQ2xpY2soKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWQpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2FsbG93RGVzZWxlY3QpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IENvbnRhaW5lckVsZW1lbnQgfSBmcm9tIFwiLi9jb250YWluZXItZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBMaXN0SXRlbSB9IGZyb20gXCIuL2xpc3QtaXRlbVwiO1xyXG5pbXBvcnQgeyBIb3RrZXlzIH0gZnJvbSBcIi4uL2VkaXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3QgZXh0ZW5kcyBDb250YWluZXJFbGVtZW50IHtcclxuXHJcblxyXG4gIHByaXZhdGUgX3NlbGVjdGFibGU6IGJvb2xlYW47XHJcbiAgcHVibGljIGdldCBzZWxlY3RhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGFibGU7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc2VsZWN0YWJsZSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLl9zZWxlY3RhYmxlID09PSAhIXZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX3NlbGVjdGFibGUgPSB2YWw7XHJcblxyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGFibGUpIHtcclxuICAgICAgdGhpcy5jbGFzcyEuYWRkKCdzZWxlY3RhYmxlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3NlbGVjdGFibGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2NoYW5naW5nOiBib29sZWFuO1xyXG5cclxuICBwcml2YXRlIF9zZWxlY3RlZDogTGlzdEl0ZW1bXTtcclxuICBwdWJsaWMgZ2V0IHNlbGVjdGVkKCk6IExpc3RJdGVtW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkLnNsaWNlKDApO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHNlbGVjdGVkKHZhbDogTGlzdEl0ZW1bXSkge1xyXG4gICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlO1xyXG5cclxuICAgIC8vIGRlc2VsZWN0aW5nXHJcbiAgICBsZXQgaXRlbXM6IExpc3RJdGVtW10gPSB0aGlzLnNlbGVjdGVkO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodmFsLmluZGV4T2YoaXRlbXNbaV0pICE9PSAtMSlcclxuICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgIGl0ZW1zW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2VsZWN0aW5nXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YWxbaV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VsZWN0YWJsZT86IGJvb2xlYW4pIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1saXN0Jyk7XHJcblxyXG4gICAgdGhpcy5fc2VsZWN0YWJsZSA9IHNlbGVjdGFibGUgfHwgdHJ1ZTtcclxuXHJcbiAgICB0aGlzLl9jaGFuZ2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc2VsZWN0ZWQgPSBbXTtcclxuXHJcbiAgICB0aGlzLm9uKCdzZWxlY3QnLCB0aGlzLl9vblNlbGVjdCk7XHJcbiAgICB0aGlzLm9uKCdkZXNlbGVjdCcsIHRoaXMuX29uRGVzZWxlY3QpO1xyXG4gICAgdGhpcy5vbignYXBwZW5kJywgdGhpcy5fb25BcHBlbmQpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25TZWxlY3QoaXRlbTogTGlzdEl0ZW0pOiB2b2lkIHtcclxuICAgIGxldCBpbmQ6IG51bWJlciA9IHRoaXMuX3NlbGVjdGVkLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kID09PSAtMSlcclxuICAgICAgdGhpcy5fc2VsZWN0ZWQucHVzaChpdGVtKTtcclxuXHJcbiAgICBpZiAodGhpcy5fY2hhbmdpbmcpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAoTGlzdC5fY3RybCAmJiBMaXN0Ll9jdHJsKCkpIHtcclxuXHJcbiAgICB9IGVsc2UgaWYgKExpc3QuX3NoaWZ0ICYmIExpc3QuX3NoaWZ0KCkgJiYgdGhpcy5zZWxlY3RlZC5sZW5ndGgpIHtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jaGFuZ2luZyA9IHRydWU7XHJcblxyXG4gICAgICBsZXQgaXRlbXM6IExpc3RJdGVtW10gPSB0aGlzLnNlbGVjdGVkO1xyXG5cclxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoaXRlbXNbaV0gPT09IGl0ZW0pXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgIGl0ZW1zW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9jaGFuZ2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkRlc2VsZWN0KGl0ZW06IExpc3RJdGVtKTogdm9pZCB7XHJcbiAgICBsZXQgaW5kOiBudW1iZXIgPSB0aGlzLl9zZWxlY3RlZC5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZCAhPT0gLTEpIHRoaXMuX3NlbGVjdGVkLnNwbGljZShpbmQsIDEpO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGFuZ2luZylcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmIChMaXN0Ll9jdHJsICYmIExpc3QuX2N0cmwoKSkge1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2NoYW5naW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgIGxldCBpdGVtczogTGlzdEl0ZW1bXSA9IHRoaXMuc2VsZWN0ZWQ7XHJcblxyXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgIGl0ZW1zW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl9jaGFuZ2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkFwcGVuZChpdGVtOiBMaXN0SXRlbSk6IHZvaWQge1xyXG4gICAgaWYgKCFpdGVtLnNlbGVjdGVkKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IGluZCA9IHRoaXMuX3NlbGVjdGVkLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kID09PSAtMSkgdGhpcy5fc2VsZWN0ZWQucHVzaChpdGVtKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NlbGVjdGVkID0gW107XHJcbiAgICBDb250YWluZXJFbGVtZW50LnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBfY3RybCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBIb3RrZXlzLmN0cmw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIF9zaGlmdCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBIb3RrZXlzLnNoaWZ0O1xyXG4gIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSBcIi4vY29udGFpbmVyLWVsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPdmVybGF5IGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XHJcblxyXG5cclxuICBwdWJsaWMgZWxlbWVudE92ZXJsYXk6IEhUTUxFbGVtZW50O1xyXG5cclxuXHJcbiAgcHVibGljIGdldCBjbGlja2FibGUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50T3ZlcmxheS5jbGFzc0xpc3QuY29udGFpbnMoJ2NsaWNrYWJsZScpO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGNsaWNrYWJsZSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50T3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdjbGlja2FibGUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnY2xpY2thYmxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHJlY3QoKTogQ2xpZW50UmVjdCB8IERPTVJlY3Qge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5uZXJFbGVtZW50IS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY2VudGVyKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmNvbnRhaW5zKCdjZW50ZXInKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBjZW50ZXIodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmFkZCgnY2VudGVyJyk7XHJcbiAgICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS5sZWZ0ID0gJyc7XHJcbiAgICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS50b3AgPSAnJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZSgnY2VudGVyJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHRyYW5zcGFyZW50KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmNvbnRhaW5zKCd0cmFuc3BhcmVudCcpO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHRyYW5zcGFyZW50KHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoJ3RyYW5zcGFyZW50Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zcGFyZW50Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLW92ZXJsYXknLCAnY2VudGVyJyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheS51aSA9IHRoaXM7XHJcbiAgICB0aGlzLmVsZW1lbnRPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ292ZXJsYXknLCAnY2xpY2thYmxlJyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50T3ZlcmxheSk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuaW5uZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQnKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyRWxlbWVudCk7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25Nb3VzZURvd24oZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuY2xpY2thYmxlKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIHNvbWUgZmllbGQgbWlnaHQgYmUgaW4gZm9jdXNcclxuICAgIGRvY3VtZW50LmJvZHkuYmx1cigpO1xyXG5cclxuICAgIC8vIHdhaXQgdGlsbCBibHVyIHRha2VzIGluIGFjY291bnRcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGhpZGUgb3ZlcmxheVxyXG4gICAgICBzZWxmLmhpZGRlbiA9IHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgbGV0IGFyZWEgPSB0aGlzLmVsZW1lbnRPdmVybGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IHJlY3QgPSB0aGlzLmlubmVyRWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGFyZWEud2lkdGggLSByZWN0LndpZHRoLCB4KSk7XHJcbiAgICB5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYXJlYS5oZWlnaHQgLSByZWN0LmhlaWdodCwgeSkpO1xyXG5cclxuICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS5sZWZ0ID0geCArICdweCc7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCEuc3R5bGUudG9wID0geSArICdweCc7XHJcbiAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi9jb250YWluZXItZWxlbWVudCc7XHJcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuL2VsZW1lbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhbmVsIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XHJcblxyXG4gIHByaXZhdGUgaGVhZGVyRWxlbWVudDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+ID0gbnVsbDtcclxuICBwcml2YXRlIGhlYWRlckVsZW1lbnRUaXRsZTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+ID0gbnVsbDtcclxuICBwcml2YXRlIF9oYW5kbGVFbGVtZW50OiBOdWxsYWJsZTxIVE1MRWxlbWVudD4gPSBudWxsO1xyXG5cclxuICBwcml2YXRlIF9yZXNpemVFdnRNb3ZlOiBhbnk7XHJcbiAgcHJpdmF0ZSBfcmVzaXplRXZ0RW5kOiBhbnk7XHJcbiAgcHJpdmF0ZSBfcmVzaXplRXZ0VG91Y2hNb3ZlOiBhbnk7XHJcbiAgcHJpdmF0ZSBfcmVzaXplRXZ0VG91Y2hFbmQ6IGFueTtcclxuXHJcbiAgcHJpdmF0ZSBfcmVzaXplRGF0YTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHsgZW5kOiAwIH07XHJcbiAgcHJpdmF0ZSBfcmVzaXplTGltaXRzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xyXG4gICAgbWluOiAwLFxyXG4gICAgbWF4OiBJbmZpbml0eVxyXG4gIH07XHJcbiAgcHJpdmF0ZSBfaGFuZGxlOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgaGVhZGVyU2l6ZTogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIF9yZXNpemVUb3VjaElkOiBudW1iZXIgPSAtMTAwO1xyXG5cclxuICBwdWJsaWMgdGl0bGU6IHN0cmluZyA9ICcnO1xyXG5cclxuICBwdWJsaWMgZ2V0IGZvbGRlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNsYXNzID8gdGhpcy5jbGFzcy5jb250YWlucygnZm9sZGFibGUnKSAmJiB0aGlzLmNsYXNzLmNvbnRhaW5zKCdmb2xkZWQnKSA6IGZhbHNlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZvbGRlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLmhpZGRlbilcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICh0aGlzLmNsYXNzIS5jb250YWlucygnZm9sZGVkJykgPT09ICEhdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHRoaXMuaGVhZGVyRWxlbWVudCAmJiB0aGlzLmhlYWRlclNpemUgPT09IDApXHJcbiAgICAgIHRoaXMuaGVhZGVyU2l6ZSA9IHRoaXMuaGVhZGVyRWxlbWVudC5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ2ZvbGRlZCcpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdmb2xkYWJsZScpKVxyXG4gICAgICAgIHRoaXMuZW1pdCgnZm9sZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdmb2xkZWQnKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmNsYXNzIS5jb250YWlucygnZm9sZGFibGUnKSlcclxuICAgICAgICB0aGlzLmVtaXQoJ3VuZm9sZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3JlZmxvdygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBob3Jpem9udGFsKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY2xhc3MgPyB0aGlzLmNsYXNzLmNvbnRhaW5zKCdob3Jpem9udGFsJykgOiBmYWxzZTtcclxuICB9XHJcbiAgcHVibGljIHNldCBob3Jpem9udGFsKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ2hvcml6b250YWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnaG9yaXpvbnRhbCcpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fcmVmbG93KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHJlc2l6YWJsZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZTtcclxuICB9XHJcbiAgcHVibGljIHNldCByZXNpemFibGUodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLl9oYW5kbGUgPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHZhciBvbGRIYW5kbGUgPSB0aGlzLl9oYW5kbGU7XHJcbiAgICB0aGlzLl9oYW5kbGUgPSB2YWw7XHJcblxyXG4gICAgaWYgKHRoaXMuX2hhbmRsZSAhPT0gJycpIHtcclxuICAgICAgaWYgKCF0aGlzLl9oYW5kbGVFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVsZW1lbnQudWkgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGFuZGxlJyk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9yZXNpemVTdGFydC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fcmVzaXplU3RhcnQuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5faGFuZGxlRWxlbWVudC5wYXJlbnROb2RlKVxyXG4gICAgICAgIHRoaXMuZWxlbWVudCEucmVtb3ZlQ2hpbGQodGhpcy5faGFuZGxlRWxlbWVudCk7XHJcbiAgICAgIC8vIFRPRE9cclxuICAgICAgLy8gYXBwZW5kIGluIHJpZ2h0IHBsYWNlXHJcbiAgICAgIHRoaXMuZWxlbWVudCEuYXBwZW5kQ2hpbGQodGhpcy5faGFuZGxlRWxlbWVudCk7XHJcbiAgICAgIHRoaXMuY2xhc3MhLmFkZCgncmVzaXphYmxlJywgJ3Jlc2l6YWJsZS0nICsgdGhpcy5faGFuZGxlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLl9oYW5kbGVFbGVtZW50KSB0aGlzLmVsZW1lbnQhLnJlbW92ZUNoaWxkKHRoaXMuX2hhbmRsZUVsZW1lbnQpO1xyXG5cclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdyZXNpemFibGUnLCAncmVzaXphYmxlLScgKyBvbGRIYW5kbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3JlZmxvdygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCByZXNpemVNaW4oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXNpemVMaW1pdHMubWluO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHJlc2l6ZU1pbih2YWw6IG51bWJlcikge1xyXG4gICAgdGhpcy5fcmVzaXplTGltaXRzLm1pbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuX3Jlc2l6ZUxpbWl0cy5tYXgsIHZhbCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCByZXNpemVNYXgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXNpemVMaW1pdHMubWF4O1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHJlc2l6ZU1heCh2YWw6IG51bWJlcikge1xyXG4gICAgdGhpcy5fcmVzaXplTGltaXRzLm1heCA9IE1hdGgubWF4KHRoaXMuX3Jlc2l6ZUxpbWl0cy5taW4sIHZhbCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGZvbGRhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY2xhc3MgPyB0aGlzLmNsYXNzLmNvbnRhaW5zKCdmb2xkYWJsZScpIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgZm9sZGFibGUodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLmFkZCgnZm9sZGFibGUnKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmNsYXNzIS5jb250YWlucygnZm9sZGVkJykpXHJcbiAgICAgICAgdGhpcy5lbWl0KCdmb2xkJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ2ZvbGRhYmxlJyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ2ZvbGRlZCcpKVxyXG4gICAgICAgIHRoaXMuZW1pdCgndW5mb2xkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fcmVmbG93KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGhlYWRlcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuaGVhZGVyRWxlbWVudFRpdGxlID8gKHRoaXMuaGVhZGVyRWxlbWVudFRpdGxlLnRleHRDb250ZW50IHx8ICcnKSA6ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGhlYWRlcih2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKCF0aGlzLmhlYWRlckVsZW1lbnQgJiYgdmFsKSB7XHJcbiAgICAgIHRoaXMuaGVhZGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xyXG4gICAgICB0aGlzLmhlYWRlckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndWktaGVhZGVyJyk7XHJcblxyXG4gICAgICB0aGlzLmhlYWRlckVsZW1lbnRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgdGhpcy5oZWFkZXJFbGVtZW50VGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUnKTtcclxuICAgICAgdGhpcy5oZWFkZXJFbGVtZW50VGl0bGUudGV4dENvbnRlbnQgPSB2YWw7XHJcbiAgICAgIHRoaXMuaGVhZGVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmhlYWRlckVsZW1lbnRUaXRsZSk7XHJcblxyXG4gICAgICBsZXQgZmlyc3QgPSB0aGlzLmVsZW1lbnQhLmZpcnN0Q2hpbGQ7XHJcbiAgICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCEuaW5zZXJ0QmVmb3JlKHRoaXMuaGVhZGVyRWxlbWVudCwgZmlyc3QpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCEuYXBwZW5kQ2hpbGQodGhpcy5oZWFkZXJFbGVtZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdub0hlYWRlcicpO1xyXG5cclxuICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gZm9sZGluZ1xyXG4gICAgICB0aGlzLmhlYWRlckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgaWYgKCFzZWxmLmZvbGRhYmxlIHx8IChldnQudGFyZ2V0ICE9PSBzZWxmLmhlYWRlckVsZW1lbnQgJiYgZXZ0LnRhcmdldCAhPT0gc2VsZi5oZWFkZXJFbGVtZW50VGl0bGUpKVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBzZWxmLmZvbGRlZCA9ICFzZWxmLmZvbGRlZDtcclxuICAgICAgfSwgZmFsc2UpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmhlYWRlckVsZW1lbnQgJiYgIXZhbCkge1xyXG4gICAgICBpZiAodGhpcy5oZWFkZXJFbGVtZW50LnBhcmVudE5vZGUpIHtcclxuICAgICAgICB0aGlzLmhlYWRlckVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmhlYWRlckVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaGVhZGVyRWxlbWVudCA9IG51bGw7XHJcbiAgICAgIHRoaXMuaGVhZGVyRWxlbWVudFRpdGxlID0gbnVsbDtcclxuICAgICAgdGhpcy5jbGFzcyEuYWRkKCdub0hlYWRlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5oZWFkZXJFbGVtZW50VGl0bGUhLnRleHRDb250ZW50ID0gdmFsIHx8ICcnO1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ25vSGVhZGVyJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IodGl0bGU/OiBzdHJpbmcpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndWktcGFuZWwnLCAnbm9IZWFkZXInLCAnbm9BbmltYXRpb24nKTtcclxuXHJcbiAgICAvLyB0aGlzLm9uKCdub2Rlc0NoYW5nZWQnLCB0aGlzLl9vbk5vZGVzQ2hhbmdlZCk7XHJcblxyXG4gICAgLy8gY29udGVudFxyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuaW5uZXJFbGVtZW50LnVpID0gdGhpcztcclxuICAgIHRoaXMuaW5uZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQnKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyRWxlbWVudCk7XHJcblxyXG4gICAgaWYgKHRpdGxlKSB7XHJcbiAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgdGhpcy5oZWFkZXIgPSB0aXRsZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGlzLmlubmVyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCwgZmFsc2UpO1xyXG5cclxuICAgIHRoaXMuX3Jlc2l6ZUV2dE1vdmUgPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHNlbGYuX3Jlc2l6ZU1vdmUoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fcmVzaXplRXZ0RW5kID0gZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBzZWxmLl9yZXNpemVFbmQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fcmVzaXplRXZ0VG91Y2hNb3ZlID0gZnVuY3Rpb24gKGV2dDogVG91Y2hFdmVudCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCB0b3VjaCA9IGV2dC5jaGFuZ2VkVG91Y2hlc1tpXTtcclxuXHJcbiAgICAgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgIT09IHNlbGYuX3Jlc2l6ZVRvdWNoSWQpXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHNlbGYuX3Jlc2l6ZU1vdmUodG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9yZXNpemVFdnRUb3VjaEVuZCA9IGZ1bmN0aW9uIChldnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgdG91Y2ggPSBldnQuY2hhbmdlZFRvdWNoZXNbaV07XHJcblxyXG4gICAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyICE9PSBzZWxmLl9yZXNpemVUb3VjaElkKVxyXG4gICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgIHNlbGYuX3Jlc2l6ZVRvdWNoSWQgPSAtMTAwO1xyXG5cclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgc2VsZi5fcmVzaXplRW5kKCk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBIQUNLXHJcbiAgICAvLyBza2lwIDIgZnJhbWVzIGJlZm9yZSBlbmFibGluZyB0cmFuc2l0aW9uc1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmNsYXNzIS5yZW1vdmUoJ25vQW5pbWF0aW9uJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gb24gcGFyZW50IGNoYW5nZVxyXG4gICAgdGhpcy5vbigncGFyZW50JywgdGhpcy5fb25QYXJlbnQpO1xyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbiAgcHJpdmF0ZSBfcmVzaXplTW92ZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuX3Jlc2l6ZURhdGEuZW5kID09PSAwKSB7XHJcbiAgICAgIHRoaXMuX3Jlc2l6ZURhdGEgPSB7XHJcbiAgICAgICAgeDogeCxcclxuICAgICAgICB5OiB5LFxyXG4gICAgICAgIHdpZHRoOiB0aGlzLmlubmVyRWxlbWVudCEuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmlubmVyRWxlbWVudCEuY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgIGVuZDogMVxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuX2hhbmRsZSA9PT0gJ2xlZnQnIHx8IHRoaXMuX2hhbmRsZSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgIC8vIGhvcml6b250YWxcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMuX3Jlc2l6ZURhdGEueCAtIHg7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGUgPT09ICdyaWdodCcpXHJcbiAgICAgICAgICBvZmZzZXRYID0gLW9mZnNldFg7XHJcblxyXG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGgubWF4KHRoaXMuX3Jlc2l6ZUxpbWl0cy5taW4sIE1hdGgubWluKHRoaXMuX3Jlc2l6ZUxpbWl0cy5tYXgsICh0aGlzLl9yZXNpemVEYXRhLndpZHRoICsgb2Zmc2V0WCkpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHlsZSEud2lkdGggPSAod2lkdGggKyA0KSArICdweCc7XHJcbiAgICAgICAgdGhpcy5pbm5lckVsZW1lbnQhLnN0eWxlLndpZHRoID0gKHdpZHRoICsgNCkgKyAncHgnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHZlcnRpY2FsXHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSB0aGlzLl9yZXNpemVEYXRhLnkgLSB5O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faGFuZGxlID09PSAnYm90dG9tJylcclxuICAgICAgICAgIG9mZnNldFkgPSAtb2Zmc2V0WTtcclxuXHJcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGgubWF4KHRoaXMuX3Jlc2l6ZUxpbWl0cy5taW4sIE1hdGgubWluKHRoaXMuX3Jlc2l6ZUxpbWl0cy5tYXgsICh0aGlzLl9yZXNpemVEYXRhLmhlaWdodCArIG9mZnNldFkpKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3R5bGUhLmhlaWdodCA9IChoZWlnaHQgKyAodGhpcy5oZWFkZXJTaXplID09PSAtMSA/IDAgOiB0aGlzLmhlYWRlclNpemUgfHwgMzIpKSArICdweCc7XHJcbiAgICAgICAgdGhpcy5pbm5lckVsZW1lbnQhLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVtaXQoJ3Jlc2l6ZScpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3Jlc2l6ZUVuZCgpOiB2b2lkIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9yZXNpemVFdnRNb3ZlLCBmYWxzZSk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX3Jlc2l6ZUV2dEVuZCwgZmFsc2UpO1xyXG5cclxuICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9yZXNpemVFdnRUb3VjaE1vdmUsIGZhbHNlKTtcclxuICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX3Jlc2l6ZUV2dFRvdWNoRW5kLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdub0FuaW1hdGlvbicsICdyZXNpemluZycpO1xyXG4gICAgdGhpcy5fcmVzaXplRGF0YS5lbmQgPSAwO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX3Jlc2l6ZVN0YXJ0KGV2dDogRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9oYW5kbGUgPT09ICcnKVxyXG4gICAgICByZXR1cm47XHJcbiAgICBpZiAoKDxUb3VjaEV2ZW50PmV2dCkuY2hhbmdlZFRvdWNoZXMpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAoPFRvdWNoRXZlbnQ+ZXZ0KS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCB0b3VjaCA9ICg8VG91Y2hFdmVudD5ldnQpLmNoYW5nZWRUb3VjaGVzW2ldO1xyXG4gICAgICAgIGlmICg8SFRNTEVsZW1lbnQ+dG91Y2gudGFyZ2V0ICE9PSB0aGlzLmVsZW1lbnQpXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVzaXplVG91Y2hJZCA9IHRvdWNoLmlkZW50aWZpZXI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNsYXNzIS5hZGQoJ25vQW5pbWF0aW9uJywgJ3Jlc2l6aW5nJyk7XHJcbiAgICB0aGlzLl9yZXNpemVEYXRhLmVuZCA9IDA7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX3Jlc2l6ZUV2dE1vdmUsIGZhbHNlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fcmVzaXplRXZ0RW5kLCBmYWxzZSk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX3Jlc2l6ZUV2dFRvdWNoTW92ZSwgZmFsc2UpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fcmVzaXplRXZ0VG91Y2hFbmQsIGZhbHNlKTtcclxuXHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vblBhcmVudCgpOiB2b2lkIHtcclxuICAgIC8vIEhBQ0tcclxuICAgIC8vIHdhaXQgdGlsbCBET00gcGFyc2VzLCB0aGVuIHJlZmxvd1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlZmxvdy5iaW5kKHRoaXMpKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9yZWZsb3coKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5oaWRkZW4pXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodGhpcy5mb2xkZWQpIHtcclxuICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xyXG4gICAgICAgIHRoaXMuc3R5bGUhLmhlaWdodCA9ICcnO1xyXG4gICAgICAgIHRoaXMuc3R5bGUhLndpZHRoID0gKHRoaXMuaGVhZGVyU2l6ZSB8fCAzMikgKyAncHgnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc3R5bGUhLmhlaWdodCA9ICh0aGlzLmhlYWRlclNpemUgfHwgMzIpICsgJ3B4JztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLmZvbGRhYmxlKSB7XHJcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcclxuICAgICAgICB0aGlzLnN0eWxlIS5oZWlnaHQgPSAnJztcclxuICAgICAgICB0aGlzLnN0eWxlIS53aWR0aCA9IHRoaXMuaW5uZXJFbGVtZW50IS5jbGllbnRXaWR0aCArICdweCc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZSEuaGVpZ2h0ID0gKCh0aGlzLmhlYWRlclNpemUgfHwgMzIpICsgdGhpcy5pbm5lckVsZW1lbnQhLmNsaWVudEhlaWdodCkgKyAncHgnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25Ob2Rlc0NoYW5nZWQoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZm9sZGFibGUgfHwgdGhpcy5mb2xkZWQgfHwgdGhpcy5ob3Jpem9udGFsIHx8IHRoaXMuaGlkZGVuKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5zdHlsZSEuaGVpZ2h0ID0gKE1hdGgubWF4KDAsICh0aGlzLmhlYWRlclNpemUgfHwgMzIpKSArIHRoaXMuaW5uZXJFbGVtZW50IS5jbGllbnRIZWlnaHQpICsgJ3B4JztcclxuICB9O1xyXG5cclxuICBwdWJsaWMgaGVhZGVyQXBwZW5kKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgRWxlbWVudCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmhlYWRlckVsZW1lbnQpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBsZXQgaHRtbDogYm9vbGVhbiA9IChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xyXG4gICAgbGV0IG5vZGU6IEhUTUxFbGVtZW50ID0gaHRtbCA/IDxIVE1MRWxlbWVudD5lbGVtZW50IDogKDxFbGVtZW50PmVsZW1lbnQpLmVsZW1lbnQhO1xyXG5cclxuICAgIHRoaXMuaGVhZGVyRWxlbWVudC5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5oZWFkZXJFbGVtZW50VGl0bGUpO1xyXG5cclxuICAgIGlmICghaHRtbClcclxuICAgICAgKDxFbGVtZW50PmVsZW1lbnQpLnBhcmVudCA9IHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLy8gVE9ET1xyXG4gIHByaXZhdGUgX29uU2Nyb2xsKGV2dDogYW55KSB7XHJcbiAgICB0aGlzLmVtaXQoJ3Njcm9sbCcsIGV2dCk7XHJcbiAgfTtcclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRleHRGaWVsZCBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuICBwdWJsaWMgZWxlbWVudElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgZXZ0S2V5Q2hhbmdlOiBib29sZWFuO1xyXG4gIHB1YmxpYyBpZ25vcmVDaGFuZ2U6IGJvb2xlYW47XHJcbiAgcHVibGljIGJsdXJPbkVudGVyOiBib29sZWFuO1xyXG4gIHB1YmxpYyByZWZvY3VzYWJsZTogYm9vbGVhbjtcclxuXHJcblxyXG4gIHB1YmxpYyBnZXQgdmFsdWUoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl9saW5rKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudElucHV0LnZhbHVlO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgc2V0IHZhbHVlKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5fbGluaykge1xyXG4gICAgICAvLyBUT0RPXHJcbiAgICAgIC8vIGlmICghdGhpcy5fbGluay5zZXQodGhpcy5wYXRoLCB2YWx1ZSkpIHtcclxuICAgICAgLy8gICB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9IHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgICAgIC8vIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9PT0gdmFsKVxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdmFsIHx8ICcnO1xyXG4gICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGdldCBwbGFjZWhvbGRlcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpIHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHBsYWNlaG9sZGVyKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnJlbW92ZUF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHByb3h5KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50IS5nZXRBdHRyaWJ1dGUoJ3Byb3h5JykgfHwgJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgcHJveHkodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICghdmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEucmVtb3ZlQXR0cmlidXRlKCdwcm94eScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zZXRBdHRyaWJ1dGUoJ3Byb3h5JywgdmFsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQga2V5Q2hhbmdlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZXZ0S2V5Q2hhbmdlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGtleUNoYW5nZSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLmV2dEtleUNoYW5nZSA9PT0gISF2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25DaGFuZ2UsIGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25DaGFuZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwbGFjZWhvbGRlcj86IHN0cmluZywgdmFsdWU/OiBzdHJpbmcpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndWktdGV4dC1maWVsZCcpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnVpID0gdGhpcztcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmNsYXNzTGlzdC5hZGQoJ2ZpZWxkJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQudGFiSW5kZXggPSAwO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9vbklucHV0Rm9jdXMuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uSW5wdXRCbHVyLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRJbnB1dCk7XHJcblxyXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5fb25GdWxsU2VsZWN0LmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZXZ0S2V5Q2hhbmdlID0gZmFsc2U7XHJcbiAgICB0aGlzLmlnbm9yZUNoYW5nZSA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuYmx1ck9uRW50ZXIgPSB0cnVlO1xyXG4gICAgdGhpcy5yZWZvY3VzYWJsZSA9IHRydWU7XHJcblxyXG4gICAgdGhpcy5vbignZGlzYWJsZScsIHRoaXMuX29uRGlzYWJsZSk7XHJcbiAgICB0aGlzLm9uKCdlbmFibGUnLCB0aGlzLl9vbkVuYWJsZSk7XHJcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZUZpZWxkKTtcclxuXHJcbiAgICBpZiAocGxhY2Vob2xkZXIpXHJcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgX29uTGlua0NoYW5nZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNoYW5nZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlnbm9yZUNoYW5nZSkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlIHx8ICcnO1xyXG5cclxuICAgIGlmICghdGhpcy5fbGluaylcclxuICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLnZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uS2V5RG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIGlmIChldnQua2V5Q29kZSA9PT0gMjcpIHtcclxuICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmV2dC50YXJnZXQpLmJsdXIoKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5ibHVyT25FbnRlciAmJiBldnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgbGV0IGZvY3VzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgIGxldCBwYXJlbnQ6IE51bGxhYmxlPEVsZW1lbnQ+ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICBpZiAocGFyZW50LmVsZW1lbnQgJiYgcGFyZW50LmVsZW1lbnQuZm9jdXMpIHtcclxuICAgICAgICAgIHBhcmVudC5lbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWZvY3VzZWQpXHJcbiAgICAgICAgKDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0KS5ibHVyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkZ1bGxTZWxlY3QoKTogdm9pZCB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5zZWxlY3QoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBmb2N1cyhzZWxlY3Q6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmZvY3VzKCk7XHJcbiAgICBpZiAoc2VsZWN0KSB0aGlzLmVsZW1lbnRJbnB1dC5zZWxlY3QoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uSW5wdXRGb2N1cygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xhc3MhLmFkZCgnZm9jdXMnKTtcclxuICAgIHRoaXMuZW1pdCgnaW5wdXQ6Zm9jdXMnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uSW5wdXRCbHVyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdmb2N1cycpO1xyXG4gICAgdGhpcy5lbWl0KCdpbnB1dDpibHVyJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5yZWFkT25seSA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnJlYWRPbmx5ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNoYW5nZUZpZWxkKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnJlbmRlckNoYW5nZXMpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmZsYXNoKCk7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dEFyZWFGaWVsZCBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuICBwdWJsaWMgZWxlbWVudElucHV0OiBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gIHB1YmxpYyBldnRLZXlDaGFuZ2U6IGJvb2xlYW47XHJcbiAgcHVibGljIGlnbm9yZUNoYW5nZTogYm9vbGVhbjtcclxuICBwdWJsaWMgYmx1ck9uRW50ZXI6IGJvb2xlYW47XHJcbiAgcHVibGljIHJlZm9jdXNhYmxlOiBib29sZWFuO1xyXG5cclxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5fbGluaykge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgLy8gVE9ET1xyXG4gICAgICAvLyBpZiAoIXRoaXMuX2xpbmsuc2V0KHRoaXMucGF0aCwgdmFsdWUpKSB7XHJcbiAgICAgIC8vICAgdGhpcy5lbGVtZW50SW5wdXQudmFsdWUgPSB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICB0aGlzLl9saW5rLnNldCh0aGlzLnBhdGgsIHZhbCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9PT0gdmFsKVxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdmFsIHx8ICcnO1xyXG4gICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYWNlaG9sZGVyKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50IS5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJykgfHwgJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgcGxhY2Vob2xkZXIodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICghdmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEucmVtb3ZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgdmFsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQga2V5Q2hhbmdlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZXZ0S2V5Q2hhbmdlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGtleUNoYW5nZSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLmV2dEtleUNoYW5nZSA9PT0gISF2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50SW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9vbkNoYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcHJveHkoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQhLmdldEF0dHJpYnV0ZSgncHJveHknKSB8fCAnJztcclxuICB9XHJcbiAgcHVibGljIHNldCBwcm94eSh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKCF2YWwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5yZW1vdmVBdHRyaWJ1dGUoJ3Byb3h5Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnNldEF0dHJpYnV0ZSgncHJveHknLCB2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHBsYWNlaG9sZGVyPzogc3RyaW5nLCB2YWx1ZT86IHN0cmluZywgYmx1ck9uRW50ZXI/OiBib29sZWFuKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLXRleHRhcmVhLWZpZWxkJyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQudWkgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuY2xhc3NMaXN0LmFkZCgnZmllbGQnKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnRhYkluZGV4ID0gMDtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25JbnB1dEZvY3VzLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9vbklucHV0Qmx1ci5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50SW5wdXQpO1xyXG5cclxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX29uRnVsbFNlbGVjdC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmV2dEtleUNoYW5nZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5pZ25vcmVDaGFuZ2UgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLmJsdXJPbkVudGVyID0gYmx1ck9uRW50ZXIgIT09IHVuZGVmaW5lZCA/IGJsdXJPbkVudGVyIDogdHJ1ZTtcclxuICAgIHRoaXMucmVmb2N1c2FibGUgPSB0cnVlO1xyXG5cclxuICAgIHRoaXMub24oJ2Rpc2FibGUnLCB0aGlzLl9vbkRpc2FibGUpO1xyXG4gICAgdGhpcy5vbignZW5hYmxlJywgdGhpcy5fb25FbmFibGUpO1xyXG4gICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VGaWVsZCk7XHJcblxyXG4gICAgaWYgKHBsYWNlaG9sZGVyKVxyXG4gICAgICB0aGlzLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25DaGFuZ2UoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5pZ25vcmVDaGFuZ2UpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSB8fCAnJztcclxuXHJcbiAgICBpZiAoIXRoaXMuX2xpbmspXHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy52YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbktleURvd24oZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDI3KSB7XHJcbiAgICAgICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmJsdXJPbkVudGVyICYmIGV2dC5rZXlDb2RlID09PSAxMyAmJiAhZXZ0LnNoaWZ0S2V5KSB7XHJcbiAgICAgIGxldCBmb2N1c2VkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxFbGVtZW50PiA9IHRoaXMucGFyZW50O1xyXG4gICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHBhcmVudC5lbGVtZW50ICYmIHBhcmVudC5lbGVtZW50LmZvY3VzKSB7XHJcbiAgICAgICAgICBwYXJlbnQuZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFmb2N1c2VkKVxyXG4gICAgICAgICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25GdWxsU2VsZWN0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuc2VsZWN0KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbklucHV0Rm9jdXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNsYXNzIS5hZGQoJ2ZvY3VzJyk7XHJcbiAgICB0aGlzLmVtaXQoJ2lucHV0OmZvY3VzJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbklucHV0Qmx1cigpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnZm9jdXMnKTtcclxuICAgIHRoaXMuZW1pdCgnaW5wdXQ6Ymx1cicpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQucmVhZE9ubHkgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25FbmFibGUoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5yZWFkT25seSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25DaGFuZ2VGaWVsZCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5yZW5kZXJDaGFuZ2VzKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5mbGFzaCgpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBmb2N1cyhzZWxlY3Q6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmZvY3VzKCk7XHJcbiAgICBpZiAoc2VsZWN0KSB0aGlzLmVsZW1lbnRJbnB1dC5zZWxlY3QoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbHVlKTtcclxuICB9XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSBcIi4vY29udGFpbmVyLWVsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XHJcblxyXG4gIHB1YmxpYyBhcnJvdzogSFRNTEVsZW1lbnQ7XHJcbiAgcHVibGljIGhvdmVyYWJsZTogYm9vbGVhbjtcclxuICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gIHB1YmxpYyB5OiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgX2FsaWduOiBzdHJpbmc7XHJcbiAgcHVibGljIGdldCBhbGlnbigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX2FsaWduO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGFsaWduKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5fYWxpZ24gPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnYWxpZ24tJyArIHRoaXMuX2FsaWduKTtcclxuICAgIHRoaXMuX2FsaWduID0gdmFsO1xyXG4gICAgdGhpcy5jbGFzcyEuYWRkKCdhbGlnbi0nICsgdGhpcy5fYWxpZ24pO1xyXG5cclxuICAgIHRoaXMuX3JlZmxvdygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBodG1sKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5pbm5lckVsZW1lbnQhLmlubmVySFRNTDtcclxuICB9XHJcbiAgcHVibGljIHNldCBodG1sKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5pbm5lckVsZW1lbnQhLmlubmVySFRNTCA9PT0gdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQhLmlubmVySFRNTCA9IHZhbDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgdGV4dCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5uZXJFbGVtZW50IS50ZXh0Q29udGVudCB8fCAnJztcclxuICB9XHJcbiAgcHVibGljIHNldCB0ZXh0KHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5pbm5lckVsZW1lbnQhLnRleHRDb250ZW50ID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCEudGV4dENvbnRlbnQgPSB2YWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGZsaXAoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jbGFzcyEuY29udGFpbnMoJ2ZsaXAnKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBmbGlwKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdmbGlwJykgPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgdGhpcy5jbGFzcyEuYWRkKCdmbGlwJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ2ZsaXAnKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9yZWZsb3coKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzPzogVG9vbHRpcEFyZ3MpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS10b29sdGlwJywgJ2FsaWduLWxlZnQnKTtcclxuXHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW5uZXInKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyRWxlbWVudCk7XHJcblxyXG4gICAgdGhpcy5hcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5hcnJvdy5jbGFzc0xpc3QuYWRkKCdhcnJvdycpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuYXJyb3cpO1xyXG5cclxuICAgIHRoaXMuaG92ZXJhYmxlID0gYXJncy5ob3ZlcmFibGUgfHwgZmFsc2U7XHJcbiAgICB0aGlzLnggPSBhcmdzLnggfHwgMDtcclxuICAgIHRoaXMueSA9IGFyZ3MueSB8fCAwO1xyXG4gICAgdGhpcy5fYWxpZ24gPSAnbGVmdCc7XHJcbiAgICB0aGlzLmFsaWduID0gYXJncy5hbGlnbiB8fCAnbGVmdCc7XHJcblxyXG4gICAgdGhpcy5vbignc2hvdycsIHRoaXMuX3JlZmxvdyk7XHJcbiAgICB0aGlzLmhpZGRlbiA9IGFyZ3MuaGlkZGVuICE9PSB1bmRlZmluZWQgPyBhcmdzLmhpZGRlbiA6IHRydWU7XHJcbiAgICBpZiAoYXJncy5odG1sKSB7XHJcbiAgICAgIHRoaXMuaHRtbCA9IGFyZ3MuaHRtbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGV4dCA9IGFyZ3MudGV4dCB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5fb25Nb3VzZU92ZXIuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbk1vdXNlTGVhdmUuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uTW91c2VPdmVyKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmhvdmVyYWJsZSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XHJcbiAgICB0aGlzLmVtaXQoJ2hvdmVyJywgZXZ0KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uTW91c2VMZWF2ZSgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5ob3ZlcmFibGUpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmhpZGRlbiA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHggPSBNYXRoLmZsb29yKHgpO1xyXG4gICAgeSA9IE1hdGguZmxvb3IoeSk7XHJcblxyXG4gICAgaWYgKHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHkpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuXHJcbiAgICB0aGlzLl9yZWZsb3coKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3JlZmxvdygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmhpZGRlbilcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUudG9wID0gJyc7XHJcbiAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLnJpZ2h0ID0gJyc7XHJcbiAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmJvdHRvbSA9ICcnO1xyXG4gICAgdGhpcy5lbGVtZW50IS5zdHlsZS5sZWZ0ID0gJyc7XHJcblxyXG4gICAgdGhpcy5hcnJvdy5zdHlsZS50b3AgPSAnJztcclxuICAgIHRoaXMuYXJyb3cuc3R5bGUucmlnaHQgPSAnJztcclxuICAgIHRoaXMuYXJyb3cuc3R5bGUuYm90dG9tID0gJyc7XHJcbiAgICB0aGlzLmFycm93LnN0eWxlLmxlZnQgPSAnJztcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgIC8vIGFsaWdubWVudFxyXG4gICAgc3dpdGNoICh0aGlzLl9hbGlnbikge1xyXG4gICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUudG9wID0gdGhpcy55ICsgJ3B4JztcclxuICAgICAgICBpZiAodGhpcy5mbGlwKSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLnJpZ2h0ID0gJ2NhbGMoMTAwJSAtICcgKyB0aGlzLnggKyAncHgpJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5sZWZ0ID0gdGhpcy54ICsgJ3B4JztcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLnRvcCA9IHRoaXMueSArICdweCc7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5yaWdodCA9ICdjYWxjKDEwMCUgLSAnICsgdGhpcy54ICsgJ3B4KSc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5ib3R0b20gPSAnY2FsYygxMDAlIC0gJyArIHRoaXMueSArICdweCknO1xyXG4gICAgICAgIGlmICh0aGlzLmZsaXApIHtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUucmlnaHQgPSAnY2FsYygxMDAlIC0gJyArIHRoaXMueCArICdweCknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmxlZnQgPSB0aGlzLnggKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS50b3AgPSB0aGlzLnkgKyAncHgnO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUubGVmdCA9IHRoaXMueCArICdweCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbGltaXQgdG8gc2NyZWVuIGJvdW5kc1xyXG4gICAgbGV0IHJlY3QgPSB0aGlzLmVsZW1lbnQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGlmIChyZWN0LmxlZnQgPCAwKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUubGVmdCA9ICcwcHgnO1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLnJpZ2h0ID0gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAocmVjdC50b3AgPCAwKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUudG9wID0gJzBweCc7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUuYm90dG9tID0gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAocmVjdC5yaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUucmlnaHQgPSAnMHB4JztcclxuICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5sZWZ0ID0gJyc7XHJcbiAgICAgIHRoaXMuYXJyb3cuc3R5bGUubGVmdCA9IE1hdGguZmxvb3IocmVjdC5yaWdodCAtIHdpbmRvdy5pbm5lcldpZHRoICsgOCkgKyAncHgnO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUuYm90dG9tID0gJzBweCc7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUudG9wID0gJyc7XHJcbiAgICAgIHRoaXMuYXJyb3cuc3R5bGUudG9wID0gTWF0aC5mbG9vcihyZWN0LmJvdHRvbSAtIHdpbmRvdy5pbm5lckhlaWdodCArIDgpICsgJ3B4JztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBldnRIb3ZlcigpOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZXZ0Qmx1cigpOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIHN0YXRpYyBhdHRhY2goYXJnczogVG9vbHRpcEFyZ3MpOiBUb29sdGlwIHtcclxuICAgIGxldCBkYXRhOiBUb29sdGlwQXJncyA9IHtcclxuICAgICAgYWxpZ246IGFyZ3MuYWxpZ24sXHJcbiAgICAgIGhvdmVyYWJsZTogYXJncy5ob3ZlcmFibGVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJncy5odG1sKSB7XHJcbiAgICAgIGRhdGEuaHRtbCA9IGFyZ3MuaHRtbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRhdGEudGV4dCA9IGFyZ3MudGV4dCB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXRlbTogVG9vbHRpcCA9IG5ldyBUb29sdGlwKGRhdGEpO1xyXG5cclxuICAgIGl0ZW0uZXZ0SG92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGxldCByZWN0ID0gYXJncy50YXJnZXQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBsZXQgb2ZmID0gMTY7XHJcblxyXG4gICAgICBzd2l0Y2ggKGl0ZW0uYWxpZ24pIHtcclxuICAgICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgICAgaWYgKHJlY3Qud2lkdGggPCA2NCkgb2ZmID0gcmVjdC53aWR0aCAvIDI7XHJcbiAgICAgICAgICBpdGVtLmZsaXAgPSByZWN0LmxlZnQgKyBvZmYgPiB3aW5kb3cuaW5uZXJXaWR0aCAvIDI7XHJcbiAgICAgICAgICBpZiAoaXRlbS5mbGlwKSB7XHJcbiAgICAgICAgICAgIGl0ZW0ucG9zaXRpb24ocmVjdC5yaWdodCAtIG9mZiwgcmVjdC5ib3R0b20pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbS5wb3NpdGlvbihyZWN0LmxlZnQgKyBvZmYsIHJlY3QuYm90dG9tKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgIGlmIChyZWN0LmhlaWdodCA8IDY0KSBvZmYgPSByZWN0LmhlaWdodCAvIDI7XHJcbiAgICAgICAgICBpdGVtLmZsaXAgPSBmYWxzZTtcclxuICAgICAgICAgIGl0ZW0ucG9zaXRpb24ocmVjdC5sZWZ0LCByZWN0LnRvcCArIG9mZik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgaWYgKHJlY3Qud2lkdGggPCA2NCkgb2ZmID0gcmVjdC53aWR0aCAvIDI7XHJcbiAgICAgICAgICBpdGVtLmZsaXAgPSByZWN0LmxlZnQgKyBvZmYgPiB3aW5kb3cuaW5uZXJXaWR0aCAvIDI7XHJcbiAgICAgICAgICBpZiAoaXRlbS5mbGlwKSB7XHJcbiAgICAgICAgICAgIGl0ZW0ucG9zaXRpb24ocmVjdC5yaWdodCAtIG9mZiwgcmVjdC50b3ApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbS5wb3NpdGlvbihyZWN0LmxlZnQgKyBvZmYsIHJlY3QudG9wKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgaWYgKHJlY3QuaGVpZ2h0IDwgNjQpIG9mZiA9IHJlY3QuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgIGl0ZW0uZmxpcCA9IGZhbHNlO1xyXG4gICAgICAgICAgaXRlbS5wb3NpdGlvbihyZWN0LnJpZ2h0LCByZWN0LnRvcCArIG9mZik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgaXRlbS5oaWRkZW4gPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgaXRlbS5ldnRCbHVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpdGVtLmhpZGRlbiA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIGFyZ3MudGFyZ2V0IS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBpdGVtLmV2dEhvdmVyLCBmYWxzZSk7XHJcbiAgICBhcmdzLnRhcmdldCEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBpdGVtLmV2dEJsdXIsIGZhbHNlKTtcclxuXHJcbiAgICBpdGVtLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBhcmdzLnRhcmdldCEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgaXRlbS5ldnRIb3Zlcik7XHJcbiAgICAgIGFyZ3MudGFyZ2V0IS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGl0ZW0uZXZ0Qmx1cik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhcmdzLnJvb3QhLmFwcGVuZChpdGVtKTtcclxuXHJcbiAgICByZXR1cm4gaXRlbTtcclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvb2x0aXBBcmdzIHtcclxuXHJcbiAgdGFyZ2V0PzogSFRNTEVsZW1lbnQ7XHJcbiAgdGV4dD86IHN0cmluZztcclxuICBhbGlnbj86IHN0cmluZztcclxuICByb290PzogQ29udGFpbmVyRWxlbWVudDtcclxuICBob3ZlcmFibGU/OiBib29sZWFuO1xyXG4gIGh0bWw/OiBzdHJpbmc7XHJcbiAgeD86IG51bWJlcjtcclxuICB5PzogbnVtYmVyO1xyXG4gIGhpZGRlbj86IGJvb2xlYW47XHJcblxyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuL2VsZW1lbnRcIjtcclxuaW1wb3J0IHsgVHJlZSB9IGZyb20gXCIuL3RyZWVcIjtcclxuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSBcIi4vdGV4dC1maWVsZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVJdGVtIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG4gIHB1YmxpYyB0cmVlOiBOdWxsYWJsZTxUcmVlPjtcclxuXHJcbiAgcHVibGljIGVsZW1lbnRUaXRsZTogSFRNTEVsZW1lbnQ7XHJcbiAgcHVibGljIGVsZW1lbnRJY29uOiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgZWxlbWVudFRleHQ6IEhUTUxFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgX2NoaWxkcmVuOiBudW1iZXI7XHJcbiAgcHVibGljIHNlbGVjdGFibGU6IGJvb2xlYW47XHJcblxyXG4gIHB1YmxpYyBfb25Nb3VzZVVwOiBhbnk7XHJcbiAgcHJpdmF0ZSBfZHJhZ1JlbGVhc2U6IGFueTtcclxuXHJcbiAgcHJpdmF0ZSBfZHJhZ2dpbmc6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfYWxsb3dEcm9wOiBib29sZWFuO1xyXG5cclxuICBwdWJsaWMgX2RyYWdJZDogbnVtYmVyID0gLTE7XHJcblxyXG4gIHB1YmxpYyBnZXQgc2VsZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jbGFzcyEuY29udGFpbnMoJ3NlbGVjdGVkJyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc2VsZWN0ZWQodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ3NlbGVjdGVkJykgPT09ICEhdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICB0aGlzLmVtaXQoJ3NlbGVjdCcpO1xyXG4gICAgICBpZiAodGhpcy50cmVlKVxyXG4gICAgICAgIHRoaXMudHJlZS5lbWl0KCdzZWxlY3QnLCB0aGlzKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICB0aGlzLmVtaXQoJ2Rlc2VsZWN0Jyk7XHJcbiAgICAgIGlmICh0aGlzLnRyZWUpXHJcbiAgICAgICAgdGhpcy50cmVlLmVtaXQoJ2Rlc2VsZWN0JywgdGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHRleHQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnRUZXh0LnRleHRDb250ZW50IHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnRUZXh0LnRleHRDb250ZW50ID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuICAgIHRoaXMuZWxlbWVudFRleHQudGV4dENvbnRlbnQgPSB2YWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IG9wZW4oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jbGFzcyEuY29udGFpbnMoJ29wZW4nKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBvcGVuKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdvcGVuJykgPT09ICEhdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ29wZW4nKTtcclxuICAgICAgdGhpcy5lbWl0KCdvcGVuJyk7XHJcbiAgICAgIHRoaXMudHJlZSEuZW1pdCgnb3BlbicsIHRoaXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICAgIHRoaXMuZW1pdCgnY2xvc2UnKTtcclxuICAgICAgdGhpcy50cmVlIS5lbWl0KCdjbG9zZScsIHRoaXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwcmV2KCk6IE51bGxhYmxlPFRyZWVJdGVtPiB7XHJcbiAgICBpZiAoKDxIVE1MRWxlbWVudD50aGlzLmVsZW1lbnQpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgKDxIVE1MRWxlbWVudD4oPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCkucHJldmlvdXNFbGVtZW50U2libGluZykudWkgJiYgKDxIVE1MRWxlbWVudD4oPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCkucHJldmlvdXNFbGVtZW50U2libGluZykudWkgaW5zdGFuY2VvZiBUcmVlSXRlbSkge1xyXG4gICAgICByZXR1cm4gKDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50Pig8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50KS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS51aSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgbmV4dCgpOiBOdWxsYWJsZTxUcmVlSXRlbT4ge1xyXG4gICAgaWYgKCg8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50KS5uZXh0RWxlbWVudFNpYmxpbmcgJiYgKDxIVE1MRWxlbWVudD4oPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCkubmV4dEVsZW1lbnRTaWJsaW5nKS51aSAmJiAoPEhUTUxFbGVtZW50Pig8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50KS5uZXh0RWxlbWVudFNpYmxpbmcpLnVpIGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgcmV0dXJuICg8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD4oPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCkubmV4dEVsZW1lbnRTaWJsaW5nKS51aSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgZ2V0IGFsbG93RHJvcCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9hbGxvd0Ryb3A7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgYWxsb3dEcm9wKHZhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5fYWxsb3dEcm9wID0gdmFsO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzOiBUcmVlSXRlbUFyZ3MpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgYXJncyA9IGFyZ3MgfHwge307XHJcblxyXG4gICAgdGhpcy50cmVlID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS10cmVlLWl0ZW0nKTtcclxuXHJcbiAgICBpZiAoYXJncy5jbGFzc0xpc3QpIHtcclxuICAgICAgYXJncy5jbGFzc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBzZWxmLmVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5kcmFnZ2FibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUudGFiSW5kZXggPSAwO1xyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUudWkgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudFRpdGxlKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgdGhpcy5lbGVtZW50SWNvbi5jbGFzc0xpc3QuYWRkKCdpY29uJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRJY29uKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgdGhpcy5lbGVtZW50VGV4dC50ZXh0Q29udGVudCA9IGFyZ3MudGV4dCB8fCAnJztcclxuICAgIHRoaXMuZWxlbWVudFRleHQuY2xhc3NMaXN0LmFkZCgndGV4dCcpO1xyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50VGV4dCk7XHJcblxyXG4gICAgdGhpcy5fY2hpbGRyZW4gPSAwO1xyXG4gICAgdGhpcy5zZWxlY3RhYmxlID0gdHJ1ZTtcclxuXHJcbiAgICB0aGlzLl9vbk1vdXNlVXAgPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc2VsZi5fZHJhZ1JlbGVhc2UpO1xyXG4gICAgICBzZWxmLl9kcmFnUmVsZWFzZSA9IG51bGw7XHJcblxyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgc2VsZi5fZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgc2VsZi5lbWl0KCdkcmFnZW5kJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljaywgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLl9vbkRibENsaWNrLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5fZHJhZ1JlbGVhc2UgPSBudWxsO1xyXG4gICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuX2FsbG93RHJvcCA9IChhcmdzLmFsbG93RHJvcCAhPT0gdW5kZWZpbmVkID8gISFhcmdzLmFsbG93RHJvcCA6IHRydWUpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5fb25Nb3VzZU92ZXIsIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLm9uKCdkZXN0cm95JywgdGhpcy5fb25EZXN0cm95KTtcclxuICAgIHRoaXMub24oJ2FwcGVuZCcsIHRoaXMuX29uQXBwZW5kKTtcclxuICAgIHRoaXMub24oJ3JlbW92ZScsIHRoaXMuX29uUmVtb3ZlKTtcclxuICAgIHRoaXMub24oJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0KTtcclxuICAgIHRoaXMub24oJ2Rlc2VsZWN0JywgdGhpcy5fb25EZXNlbGVjdCk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xyXG5cclxuXHJcbiAgfVxyXG5cclxuICAvLyBUT0RPXHJcbiAgcHVibGljIGNoaWxkKGluZGV4OiBudW1iZXIpOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCEuY2hpbGRyZW5baW5kZXggKyAxXTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkNsaWNrKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgLy8g5Y+v6IO954K55Ye7dGl0bGXmiJbogIV0aXRsZeWtkOmhuVxyXG4gICAgaWYgKCEoPFRyZWVJdGVtPmh0bWxFbGUudWkpKSB7XHJcbiAgICAgIGlmIChodG1sRWxlLnBhcmVudEVsZW1lbnQgJiYgPFRyZWVJdGVtPihodG1sRWxlLnBhcmVudEVsZW1lbnQpLnVpKSB7XHJcbiAgICAgICAgaHRtbEVsZSA9IGh0bWxFbGUucGFyZW50RWxlbWVudDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXZ0LmJ1dHRvbiAhPT0gMCB8fCAhKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5zZWxlY3RhYmxlKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IHJlY3QgPSBodG1sRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGlmICgoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9jaGlsZHJlbiAmJiAoZXZ0LmNsaWVudFggLSByZWN0LmxlZnQpIDwgMCkge1xyXG4gICAgICAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLm9wZW4gPSAhKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5vcGVuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgKDxUcmVlSXRlbT5odG1sRWxlLnVpKS50cmVlIS5fb25JdGVtQ2xpY2soKDxUcmVlSXRlbT5odG1sRWxlLnVpKSk7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkRibENsaWNrKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgLy8g5Y+v6IO954K55Ye7dGl0bGXmiJbogIV0aXRsZeWtkOmhuVxyXG4gICAgaWYgKCEoPFRyZWVJdGVtPmh0bWxFbGUudWkpKSB7XHJcbiAgICAgIGlmIChodG1sRWxlLnBhcmVudEVsZW1lbnQgJiYgPFRyZWVJdGVtPihodG1sRWxlLnBhcmVudEVsZW1lbnQpLnVpKSB7XHJcbiAgICAgICAgaHRtbEVsZSA9IGh0bWxFbGUucGFyZW50RWxlbWVudDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoISg8VHJlZUl0ZW0+aHRtbEVsZS51aSkudHJlZSEuYWxsb3dSZW5hbWluZyB8fCBldnQuYnV0dG9uICE9PSAwKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgbGV0IHJlY3QgPSBodG1sRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGlmICgoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9jaGlsZHJlbiAmJiAoZXZ0LmNsaWVudFggLSByZWN0LmxlZnQpIDwgMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9vblJlbmFtZSh0cnVlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbk1vdXNlRG93bihldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGxldCBodG1sRWxlOiBIVE1MRWxlbWVudCA9IDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0O1xyXG5cclxuICAgIC8vIOWPr+iDveeCueWHu3RpdGxl5oiW6ICFdGl0bGXlrZDpoblcclxuICAgIGlmICghKDxUcmVlSXRlbT5odG1sRWxlLnVpKSkge1xyXG4gICAgICBpZiAoaHRtbEVsZS5wYXJlbnRFbGVtZW50ICYmIDxUcmVlSXRlbT4oaHRtbEVsZS5wYXJlbnRFbGVtZW50KS51aSkge1xyXG4gICAgICAgIGh0bWxFbGUgPSBodG1sRWxlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCg8VHJlZUl0ZW0+aHRtbEVsZS51aSkudHJlZSAmJiAhKDxUcmVlSXRlbT5odG1sRWxlLnVpKS50cmVlIS5kcmFnZ2FibGUpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcbiAgICBcclxuICAgIC8vIOWPr+iDveeCueWHu3RpdGxl5oiW6ICFdGl0bGXlrZDpoblcclxuICAgIGlmICghKDxUcmVlSXRlbT5odG1sRWxlLnVpKSkge1xyXG4gICAgICBpZiAoaHRtbEVsZS5wYXJlbnRFbGVtZW50ICYmIDxUcmVlSXRlbT4oaHRtbEVsZS5wYXJlbnRFbGVtZW50KS51aSkge1xyXG4gICAgICAgIGh0bWxFbGUgPSBodG1sRWxlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEoPFRyZWVJdGVtPmh0bWxFbGUudWkpLnRyZWUhLmRyYWdnYWJsZSkge1xyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5fZHJhZ2dpbmcgPSB0cnVlO1xyXG5cclxuICAgIGlmICgoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9kcmFnUmVsZWFzZSlcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9kcmFnUmVsZWFzZSk7XHJcblxyXG4gICAgKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5fZHJhZ1JlbGVhc2UgPSAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9vbk1vdXNlVXA7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICg8VHJlZUl0ZW0+aHRtbEVsZS51aSkuX2RyYWdSZWxlYXNlLCBmYWxzZSk7XHJcblxyXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ2RyYWcgc3RhcnQnKTtcclxuXHJcbiAgICAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLmVtaXQoJ2RyYWdzdGFydCcpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uTW91c2VPdmVyKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgLy8g5Y+v6IO954K55Ye7dGl0bGXmiJbogIV0aXRsZeWtkOmhuVxyXG4gICAgaWYgKCEoPFRyZWVJdGVtPmh0bWxFbGUudWkpKSB7XHJcbiAgICAgIGlmIChodG1sRWxlLnBhcmVudEVsZW1lbnQgJiYgPFRyZWVJdGVtPihodG1sRWxlLnBhcmVudEVsZW1lbnQpLnVpKSB7XHJcbiAgICAgICAgaHRtbEVsZSA9IGh0bWxFbGUucGFyZW50RWxlbWVudDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLmVtaXQoJ21vdXNlb3ZlcicsIGV2dCk7XHJcblxyXG4gIH07XHJcblxyXG5cclxuICBwcml2YXRlIF9vblNlbGVjdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmZvY3VzKCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25EZXNlbGVjdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmJsdXIoKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgaWYgKCEoPFRyZWVJdGVtPmh0bWxFbGUudWkpKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGN1cnJlbnRJdGVtOiBUcmVlSXRlbSA9IDxUcmVlSXRlbT5odG1sRWxlLnVpO1xyXG5cclxuICAgIGlmICgoZXZ0LnRhcmdldCAmJiBodG1sRWxlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JykpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAoWzksIDM4LCA0MCwgMzcsIDM5XS5pbmRleE9mKGV2dC5rZXlDb2RlKSA9PT0gLTEpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICBsZXQgc2VsZWN0ZWRJdGVtOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG4gICAgbGV0IGl0ZW06IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICBzd2l0Y2ggKGV2dC5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgOTogLy8gdGFiXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNDA6IC8vIGRvd25cclxuICAgICAgICBsZXQgZG93bkl0ZW0gPSBjdXJyZW50SXRlbS5lbGVtZW50IS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgaWYgKGRvd25JdGVtKVxyXG4gICAgICAgICAgaXRlbSA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PmRvd25JdGVtKS51aTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnRJdGVtLl9jaGlsZHJlbiAmJiBjdXJyZW50SXRlbS5vcGVuKSB7XHJcbiAgICAgICAgICBsZXQgZmlyc3QgPSBjdXJyZW50SXRlbS5lbGVtZW50IS5maXJzdEVsZW1lbnRDaGlsZCEubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgaWYgKGZpcnN0ICYmICg8SFRNTEVsZW1lbnQ+Zmlyc3QpLnVpKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PmZpcnN0KS51aTtcclxuICAgICAgICAgICAgLy8gZmlyc3QudWkuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgIC8vIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgICAgICAgIC8vIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEl0ZW0ucGFyZW50ICYmIGN1cnJlbnRJdGVtLnBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBjdXJyZW50SXRlbS5wYXJlbnQ7XHJcblxyXG4gICAgICAgICAgbGV0IGZpbmROZXh0ID0gZnVuY3Rpb24gKGZyb206IFRyZWVJdGVtKTogTnVsbGFibGU8VHJlZUl0ZW0+IHtcclxuICAgICAgICAgICAgbGV0IG5leHQgPSBmcm9tLm5leHQ7XHJcbiAgICAgICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0gbmV4dDtcclxuICAgICAgICAgICAgICAvLyBuZXh0LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmcm9tLnBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZyb20ucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHBhcmVudCA9IGZpbmROZXh0KHBhcmVudCk7XHJcbiAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IGZpbmROZXh0KHBhcmVudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDM4OiAvLyB1cFxyXG4gICAgICAgIGxldCBpdGVtVXAgPSBjdXJyZW50SXRlbS5lbGVtZW50IS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgIGlmIChpdGVtVXApXHJcbiAgICAgICAgICBpdGVtID0gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+aXRlbVVwKS51aTtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgIGlmIChpdGVtLl9jaGlsZHJlbiAmJiBpdGVtLm9wZW4gJiYgaXRlbSAhPT0gY3VycmVudEl0ZW0ucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGxldCBsYXN0SXRlbSA9IGl0ZW0uZWxlbWVudCEubGFzdEVsZW1lbnRDaGlsZDtcclxuICAgICAgICAgICAgbGV0IGxhc3Q6IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChsYXN0SXRlbSAmJiAoPEhUTUxFbGVtZW50Pmxhc3RJdGVtKS51aSlcclxuICAgICAgICAgICAgICBsYXN0ID0gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+bGFzdEl0ZW0pLnVpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxhc3QpIHtcclxuICAgICAgICAgICAgICBsZXQgZmluZExhc3QgPSBmdW5jdGlvbiAoaW5zaWRlOiBUcmVlSXRlbSk6IE51bGxhYmxlPFRyZWVJdGVtPiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zaWRlLl9jaGlsZHJlbiAmJiBpbnNpZGUub3Blbikge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoaW5zaWRlLmVsZW1lbnQhLmxhc3RFbGVtZW50Q2hpbGQgJiYgKDxIVE1MRWxlbWVudD5pbnNpZGUuZWxlbWVudCEubGFzdEVsZW1lbnRDaGlsZCkudWkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+aW5zaWRlLmVsZW1lbnQhLmxhc3RFbGVtZW50Q2hpbGQpLnVpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBsZXQgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICB3aGlsZSAoIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVlcGVyOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBmaW5kTGFzdChsYXN0KTtcclxuICAgICAgICAgICAgICAgIGlmIChkZWVwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgbGFzdCA9IGRlZXBlclxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0gbGFzdDtcclxuICAgICAgICAgICAgICAvLyBsYXN0LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgICAgIC8vIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgICAvLyBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRJdGVtLnBhcmVudCAmJiBjdXJyZW50SXRlbS5wYXJlbnQgaW5zdGFuY2VvZiBUcmVlSXRlbSkge1xyXG4gICAgICAgICAgc2VsZWN0ZWRJdGVtID0gY3VycmVudEl0ZW0ucGFyZW50O1xyXG4gICAgICAgICAgLy8gdGhpcy51aS5wYXJlbnQuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMzc6IC8vIGxlZnQgKGNsb3NlKVxyXG4gICAgICAgIGlmIChjdXJyZW50SXRlbS5wYXJlbnQgIT09IGN1cnJlbnRJdGVtLnRyZWUgJiYgY3VycmVudEl0ZW0ub3BlbilcclxuICAgICAgICAgIGN1cnJlbnRJdGVtLm9wZW4gPSBmYWxzZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOTogLy8gcmlnaHQgKG9wZW4pXHJcbiAgICAgICAgaWYgKGN1cnJlbnRJdGVtLl9jaGlsZHJlbiAmJiAhY3VycmVudEl0ZW0ub3BlbilcclxuICAgICAgICAgIGN1cnJlbnRJdGVtLm9wZW4gPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWxlY3RlZEl0ZW0pIHtcclxuICAgICAgaWYgKCEoVHJlZS5fY3RybCAmJiBUcmVlLl9jdHJsKCkpICYmICEoVHJlZS5fc2hpZnQgJiYgVHJlZS5fc2hpZnQoKSkpXHJcbiAgICAgICAgY3VycmVudEl0ZW0udHJlZSEuY2xlYXIoKTtcclxuICAgICAgc2VsZWN0ZWRJdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRPRE8s5YWz6IGURW5cclxuICBwcml2YXRlIF9vblJlbmFtZShzZWxlY3Q6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGlmIChzZWxlY3QpIHtcclxuICAgICAgdGhpcy50cmVlIS5jbGVhcigpO1xyXG4gICAgICB0aGlzLnRyZWUhLl9vbkl0ZW1DbGljayh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmNsYXNzIS5hZGQoJ3JlbmFtZScpO1xyXG4gICAgY29uc29sZS5sb2coJ3JlbmFtZScpO1xyXG4gICAgLy8gYWRkIHJlbWFuaW5nIGZpZWxkXHJcbiAgICB2YXIgZmllbGQgPSBuZXcgVGV4dEZpZWxkKCk7XHJcbiAgICBmaWVsZC5wYXJlbnQgPSB0aGlzO1xyXG4gICAgZmllbGQucmVuZGVyQ2hhbmdlcyA9IGZhbHNlO1xyXG4gICAgZmllbGQudmFsdWUgPSB0aGlzLnRleHQ7XHJcbiAgICBmaWVsZC5lbGVtZW50SW5wdXQucmVhZE9ubHkgPSAhdGhpcy50cmVlIS5hbGxvd1JlbmFtaW5nO1xyXG4gICAgZmllbGQuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGZpZWxkLmRlc3Ryb3koKTtcclxuICAgICAgc2VsZi5jbGFzcyEucmVtb3ZlKCdyZW5hbWUnKTtcclxuICAgIH0sIGZhbHNlKTtcclxuICAgIGZpZWxkLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICBmaWVsZC5lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICBmaWVsZC5vbignY2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIC8vIFRPRE9cclxuICAgICAgICAvLyBpZiAoc2VsZi5lbnRpdHkpIHtcclxuICAgICAgICAvLyAgIHNlbGYuZW50aXR5LnNldCgnbmFtZScsIHZhbHVlKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHNlbGYuZW1pdCgncmVuYW1lJywgdmFsdWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmaWVsZC5kZXN0cm95KCk7XHJcbiAgICAgIHNlbGYuY2xhc3MhLnJlbW92ZSgncmVuYW1lJyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmFwcGVuZENoaWxkKGZpZWxkLmVsZW1lbnQhKTtcclxuICAgIGZpZWxkLmVsZW1lbnRJbnB1dC5mb2N1cygpO1xyXG4gICAgZmllbGQuZWxlbWVudElucHV0LnNlbGVjdCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5fb25EYmxDbGljayk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLl9vbk1vdXNlT3Zlcik7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uQXBwZW5kKGl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5wYXJlbnQpXHJcbiAgICAgIHRoaXMucGFyZW50LmVtaXQoJ2FwcGVuZCcsIGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25SZW1vdmUoaXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnBhcmVudClcclxuICAgICAgdGhpcy5wYXJlbnQuZW1pdCgncmVtb3ZlJywgaXRlbSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGZvY3VzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUuZm9jdXMoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhcHBlbmQoaXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNoaWxkcmVuWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ3NpbmdsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZW0ucGFyZW50ID0gdGhpcztcclxuICAgIHRoaXMuZWxlbWVudCEuYXBwZW5kQ2hpbGQoaXRlbS5lbGVtZW50ISk7XHJcbiAgICB0aGlzLl9jaGlsZHJlbisrO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMSkge1xyXG4gICAgICBpdGVtLmNsYXNzIS5hZGQoJ3NpbmdsZScpO1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ2NvbnRhaW5lcicpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaGlsZHJlbiA+IDEpIHtcclxuICAgICAgaXRlbS5jbGFzcyEucmVtb3ZlKCdzaW5nbGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYXBwZW5kQ2hpbGRyZW4gPSBmdW5jdGlvbiAodHJlZUl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgIHRyZWVJdGVtLmVtaXQoJ2FwcGVuZCcsIHRyZWVJdGVtKTtcclxuXHJcbiAgICAgIGlmICh0cmVlSXRlbS5fY2hpbGRyZW4pIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBhcHBlbmRDaGlsZHJlbig8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD50cmVlSXRlbS5lbGVtZW50IS5jaGlsZHJlbltpXSkudWkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFwcGVuZENoaWxkcmVuKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFwcGVuZEJlZm9yZShpdGVtOiBUcmVlSXRlbSwgcmVmZXJlbmNlSXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNoaWxkcmVuWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ3NpbmdsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZW0ucGFyZW50ID0gdGhpcztcclxuICAgIHRoaXMuZWxlbWVudCEuaW5zZXJ0QmVmb3JlKGl0ZW0uZWxlbWVudCEsIHJlZmVyZW5jZUl0ZW0uZWxlbWVudCk7XHJcbiAgICB0aGlzLl9jaGlsZHJlbisrO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMSkge1xyXG4gICAgICBpdGVtLmNsYXNzIS5hZGQoJ3NpbmdsZScpO1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ2NvbnRhaW5lcicpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaGlsZHJlbiA+IDEpIHtcclxuICAgICAgaXRlbS5jbGFzcyEucmVtb3ZlKCdzaW5nbGUnKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYXBwZW5kQ2hpbGRyZW4gPSBmdW5jdGlvbiAodHJlZUl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgIHRyZWVJdGVtLmVtaXQoJ2FwcGVuZCcsIHRyZWVJdGVtKTtcclxuXHJcbiAgICAgIGlmICh0cmVlSXRlbS5fY2hpbGRyZW4pIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBhcHBlbmRDaGlsZHJlbig8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD50cmVlSXRlbS5lbGVtZW50IS5jaGlsZHJlbltpXSkudWkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFwcGVuZENoaWxkcmVuKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFwcGVuZEFmdGVyKGl0ZW06IFRyZWVJdGVtLCByZWZlcmVuY2VJdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgaXRlbS5wYXJlbnQgPSB0aGlzO1xyXG5cclxuICAgIC8vIG1pZ2h0IGJlIGxhc3RcclxuICAgIGlmICghcmVmZXJlbmNlSXRlbSlcclxuICAgICAgdGhpcy5hcHBlbmQoaXRlbSk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50IS5pbnNlcnRCZWZvcmUoaXRlbS5lbGVtZW50ISwgcmVmZXJlbmNlSXRlbS5lbGVtZW50IS5uZXh0RWxlbWVudFNpYmxpbmcpO1xyXG4gICAgdGhpcy5fY2hpbGRyZW4rKztcclxuXHJcbiAgICBpZiAodGhpcy5fY2hpbGRyZW4gPT09IDEpIHtcclxuICAgICAgaXRlbS5jbGFzcyEuYWRkKCdzaW5nbGUnKTtcclxuICAgICAgdGhpcy5jbGFzcyEuYWRkKCdjb250YWluZXInKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5fY2hpbGRyZW4gPT09IDIpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5jaGlsZHJlblsxXS5jbGFzc0xpc3QucmVtb3ZlKCdzaW5nbGUnKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYXBwZW5kQ2hpbGRyZW4gPSBmdW5jdGlvbiAodHJlZUl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgIHRyZWVJdGVtLmVtaXQoJ2FwcGVuZCcsIHRyZWVJdGVtKTtcclxuXHJcbiAgICAgIGlmICh0cmVlSXRlbS5fY2hpbGRyZW4pIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBhcHBlbmRDaGlsZHJlbig8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD50cmVlSXRlbS5lbGVtZW50IS5jaGlsZHJlbltpXSkudWkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFwcGVuZENoaWxkcmVuKGl0ZW0pO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyByZW1vdmUoaXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5fY2hpbGRyZW4gfHwgIXRoaXMuZWxlbWVudCEuY29udGFpbnMoaXRlbS5lbGVtZW50KSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCEucmVtb3ZlQ2hpbGQoaXRlbS5lbGVtZW50ISk7XHJcbiAgICB0aGlzLl9jaGlsZHJlbi0tO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ2NvbnRhaW5lcicpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMSAmJiB0aGlzLmVsZW1lbnQhLmNoaWxkcmVuLmxlbmd0aCA+IDIpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5jaGlsZHJlblsxXS5jbGFzc0xpc3QuYWRkKCdzaW5nbGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVtb3ZlQ2hpbGRyZW4gPSBmdW5jdGlvbiAodHJlZUl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgIHRyZWVJdGVtLmVtaXQoJ3JlbW92ZScsIHRyZWVJdGVtKTtcclxuXHJcbiAgICAgIGlmICh0cmVlSXRlbS5fY2hpbGRyZW4pIHtcclxuICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAxOyBpIDwgdHJlZUl0ZW0uZWxlbWVudCEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PnRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuW2ldKS51aSAmJiAoPEhUTUxFbGVtZW50PnRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuW2ldKS51aSBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNoaWxkcmVuKDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PnRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuW2ldKS51aSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmVtb3ZlQ2hpbGRyZW4oaXRlbSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gXCIuL2NvbnRhaW5lci1lbGVtZW50XCI7XHJcbmltcG9ydCB7IFRyZWVJdGVtIH0gZnJvbSBcIi4vdHJlZS1pdGVtXCI7XHJcbmltcG9ydCB7IEhvdGtleXMgfSBmcm9tIFwiLi4vZWRpdG9yXCI7XHJcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZSBleHRlbmRzIENvbnRhaW5lckVsZW1lbnQge1xyXG5cclxuICBwcml2YXRlIGVsZW1lbnREcmFnOiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgZHJhZ2dhYmxlOiBib29sZWFuO1xyXG4gIHB1YmxpYyBfZHJhZ2dpbmc6IGJvb2xlYW47XHJcbiAgcHVibGljIF9kcmFnSXRlbXM6IFRyZWVJdGVtW10gPSBbXTtcclxuICBwdWJsaWMgX2RyYWdPdmVyOiBOdWxsYWJsZTxUcmVlSXRlbT47XHJcbiAgcHJpdmF0ZSBfZHJhZ0FyZWE6IHN0cmluZztcclxuICBwcml2YXRlIF9ldnREcmFnTW92ZTogYW55O1xyXG4gIHB1YmxpYyByZW9yZGVyaW5nOiBib29sZWFuO1xyXG4gIHB1YmxpYyBkcmFnSW5zdGFudDogYm9vbGVhbjtcclxuICBwcml2YXRlIF9zZWxlY3RlZDogVHJlZUl0ZW1bXSA9IFtdO1xyXG5cclxuICBwdWJsaWMgYWxsb3dSZW5hbWluZzogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIHB1YmxpYyBnZXQgc2VsZWN0ZWQoKTogVHJlZUl0ZW1bXSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWQuc2xpY2UoMCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLXRyZWUnKTtcclxuXHJcblxyXG4gICAgdGhpcy5lbGVtZW50RHJhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50RHJhZy5jbGFzc0xpc3QuYWRkKCdkcmFnLWhhbmRsZScpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudERyYWcpO1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuZWxlbWVudERyYWcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgc2VsZi5fb25EcmFnTW92ZShldnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgc2VsZi5fb25EcmFnT3V0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm9uKCdzZWxlY3QnLCB0aGlzLl9vblNlbGVjdCk7XHJcbiAgICB0aGlzLm9uKCdkZXNlbGVjdCcsIHRoaXMuX29uRGVzZWxlY3QpO1xyXG4gICAgdGhpcy5vbignYXBwZW5kJywgdGhpcy5fb25BcHBlbmQpO1xyXG4gICAgdGhpcy5vbigncmVtb3ZlJywgdGhpcy5fb25SZW1vdmUpO1xyXG5cclxuICAgIHRoaXMuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLl9kcmFnSXRlbXMgPSBbXTtcclxuICAgIHRoaXMuX2RyYWdPdmVyID0gbnVsbDtcclxuICAgIHRoaXMuX2RyYWdBcmVhID0gJ2luc2lkZSc7XHJcbiAgICB0aGlzLl9ldnREcmFnTW92ZSA9IG51bGw7XHJcbiAgICB0aGlzLnJlb3JkZXJpbmcgPSB0cnVlO1xyXG4gICAgdGhpcy5kcmFnSW5zdGFudCA9IHRydWU7XHJcblxyXG4gICAgdGhpcy5fc2VsZWN0ZWQgPSBbXTtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIF9jdHJsKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIEhvdGtleXMuY3RybDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgX3NoaWZ0KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIEhvdGtleXMuc2hpZnQ7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBfb25EcmFnTW92ZShldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5kcmFnZ2FibGUpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9ob3ZlckNhbGN1bGF0ZShldnQpO1xyXG4gICAgdGhpcy5lbWl0KCdkcmFnbW92ZScsIGV2dCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9ob3ZlckNhbGN1bGF0ZShldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5kcmFnZ2FibGUgfHwgIXRoaXMuX2RyYWdPdmVyKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IHJlY3QgPSB0aGlzLmVsZW1lbnREcmFnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IGFyZWE6IG51bWJlciA9IE1hdGguZmxvb3IoKGV2dC5jbGllbnRZIC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQgKiA1KTtcclxuXHJcbiAgICBsZXQgb2xkQXJlYSA9IHRoaXMuX2RyYWdBcmVhO1xyXG4gICAgbGV0IG9sZERyYWdPdmVyID0gdGhpcy5fZHJhZ092ZXI7XHJcblxyXG4gICAgaWYgKHRoaXMuX2RyYWdPdmVyLnBhcmVudCA9PT0gdGhpcykge1xyXG4gICAgICBsZXQgcGFyZW50ID0gZmFsc2U7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZHJhZ0l0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RyYWdJdGVtc1tpXS5wYXJlbnQgPT09IHRoaXMuX2RyYWdPdmVyKSB7XHJcbiAgICAgICAgICBwYXJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5fZHJhZ092ZXIgPSBudWxsO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICghcGFyZW50KVxyXG4gICAgICAgIHRoaXMuX2RyYWdBcmVhID0gJ2luc2lkZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgdHJ5aW5nIHRvIGRyYWcgaXRlbSBpbnNpZGUgYW55IG9mIGl0cyBjaGlsZHJlblxyXG4gICAgICBsZXQgaW52YWxpZCA9IGZhbHNlO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RyYWdJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLl9kcmFnT3Zlci5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgaWYgKHBhcmVudCA9PT0gdGhpcy5fZHJhZ0l0ZW1zW2ldKSB7XHJcbiAgICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGludmFsaWQpIHtcclxuICAgICAgICB0aGlzLl9kcmFnT3ZlciA9IG51bGw7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZW9yZGVyaW5nICYmIGFyZWEgPD0gMSAmJiB0aGlzLl9kcmFnSXRlbXMuaW5kZXhPZih0aGlzLl9kcmFnT3Zlci5wcmV2ISkgPT09IC0xKSB7XHJcbiAgICAgICAgdGhpcy5fZHJhZ0FyZWEgPSAnYmVmb3JlJztcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnJlb3JkZXJpbmcgJiYgYXJlYSA+PSA0ICYmIHRoaXMuX2RyYWdJdGVtcy5pbmRleE9mKHRoaXMuX2RyYWdPdmVyLm5leHQhKSA9PT0gLTEgJiYgKHRoaXMuX2RyYWdPdmVyLl9jaGlsZHJlbiA9PT0gMCB8fCAhdGhpcy5fZHJhZ092ZXIub3BlbikpIHtcclxuICAgICAgICB0aGlzLl9kcmFnQXJlYSA9ICdhZnRlcic7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHBhcmVudCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnJlb3JkZXJpbmcgJiYgdGhpcy5fZHJhZ092ZXIub3Blbikge1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9kcmFnSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYWdJdGVtc1tpXS5wYXJlbnQgPT09IHRoaXMuX2RyYWdPdmVyKSB7XHJcbiAgICAgICAgICAgICAgcGFyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB0aGlzLl9kcmFnQXJlYSA9ICdiZWZvcmUnO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGFyZW50KVxyXG4gICAgICAgICAgdGhpcy5fZHJhZ0FyZWEgPSAnaW5zaWRlJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChvbGRBcmVhICE9PSB0aGlzLl9kcmFnQXJlYSB8fCBvbGREcmFnT3ZlciAhPT0gdGhpcy5fZHJhZ092ZXIpXHJcbiAgICAgIHRoaXMuX3VwZGF0ZURyYWdIYW5kbGUoKTtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgX29uSXRlbUNsaWNrKGl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICBpZiAoVHJlZS5fY3RybCAmJiBUcmVlLl9jdHJsKCkpIHtcclxuICAgICAgLy8g5oyJ5L2PY3RybOmUru+8jOmSiOWvueafkOS4qml0ZW3vvIzmjInnrKwx5qyh6YCJ5Lit77yM5oyJ56ysMuasoeWPlua2iOmAieS4rVxyXG4gICAgICBpdGVtLnNlbGVjdGVkID0gIWl0ZW0uc2VsZWN0ZWQ7XHJcbiAgICB9IGVsc2UgaWYgKFRyZWUuX3NoaWZ0ICYmIFRyZWUuX3NoaWZ0KCkgJiYgdGhpcy5fc2VsZWN0ZWQubGVuZ3RoKSB7XHJcbiAgICAgIC8vIHNoaWZ05oyJ5L2P5Lul5ZCO77yM5b6A5LiK5b6A5LiL6YO95Y+v6L+b6KGM6YCJ5oup77yM5LiN5pat5re75Yqg6YCJ5oup6aG577yM5LiN5YeP5bCRXHJcbiAgICAgIGxldCBmcm9tOiBUcmVlSXRlbSA9IHRoaXMuX3NlbGVjdGVkW3RoaXMuX3NlbGVjdGVkLmxlbmd0aCAtIDFdO1xyXG4gICAgICBsZXQgdG86IFRyZWVJdGVtID0gaXRlbTtcclxuXHJcbiAgICAgIGxldCB1cDogVHJlZUl0ZW1bXSA9IFtdO1xyXG4gICAgICBsZXQgZG93bjogVHJlZUl0ZW1bXSA9IFtdO1xyXG5cclxuICAgICAgbGV0IHByZXYgPSBmdW5jdGlvbiAocmVmSXRlbTogVHJlZUl0ZW0pOiBOdWxsYWJsZTxUcmVlSXRlbT4ge1xyXG4gICAgICAgIGlmICghcmVmSXRlbSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogTnVsbGFibGU8VHJlZUl0ZW0+ID0gbnVsbDtcclxuICAgICAgICBsZXQgcHJldkl0ZW0gPSByZWZJdGVtLmVsZW1lbnQhLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgbGV0IGl0ZW06IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgaWYgKHByZXZJdGVtKSBpdGVtID0gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+cHJldkl0ZW0pLnVpO1xyXG5cclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgaWYgKHJlZkl0ZW0ucGFyZW50ICYmIHJlZkl0ZW0ucGFyZW50ID09PSBpdGVtICYmIHJlZkl0ZW0ucGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVmSXRlbS5wYXJlbnQ7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ub3BlbiAmJiBpdGVtLl9jaGlsZHJlbikgeyAgLy8g5rKh5pyJb3BlbuiyjOS8vOWwseayoeaciemAieS4rVxyXG4gICAgICAgICAgICAvLyBlbGVtZW50IGFib3ZlIGlzIG9wZW4sIGZpbmQgbGFzdCBhdmFpbGFibGUgZWxlbWVudFxyXG4gICAgICAgICAgICBsZXQgbGFzdEl0ZW0gPSBpdGVtLmVsZW1lbnQhLmxhc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICAgICAgICAgIGxldCBsYXN0OiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAobGFzdEl0ZW0gJiYgKDxIVE1MRWxlbWVudD5sYXN0SXRlbSkudWkpXHJcbiAgICAgICAgICAgICAgbGFzdCA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50Pmxhc3RJdGVtKS51aTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsYXN0KSB7XHJcbiAgICAgICAgICAgICAgbGV0IGZpbmRMYXN0ID0gZnVuY3Rpb24gKGluc2lkZTogTnVsbGFibGU8VHJlZUl0ZW0+KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zaWRlICYmIGluc2lkZS5vcGVuICYmIGluc2lkZS5fY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGluc2lkZS5lbGVtZW50IS5sYXN0RWxlbWVudENoaWxkICYmICg8SFRNTEVsZW1lbnQ+aW5zaWRlLmVsZW1lbnQhLmxhc3RDaGlsZCkudWkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+aW5zaWRlLmVsZW1lbnQhLmxhc3RDaGlsZCkudWk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgbGV0IGZvdW5kOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgd2hpbGUgKCFmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlZXBlcjogTnVsbGFibGU8VHJlZUl0ZW0+ID0gZmluZExhc3QobGFzdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVlcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGxhc3QgPSBkZWVwZXI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICByZXN1bHQgPSBsYXN0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgbGV0IG5leHQgPSBmdW5jdGlvbiAocmVmSXRlbTogVHJlZUl0ZW0pOiBOdWxsYWJsZTxUcmVlSXRlbT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgbGV0IG5leHRJdGVtID0gcmVmSXRlbS5lbGVtZW50IS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgbGV0IGl0ZW06IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgaWYgKG5leHRJdGVtKSBpdGVtID0gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+bmV4dEl0ZW0pLnVpO1xyXG5cclxuICAgICAgICBpZiAocmVmSXRlbS5vcGVuICYmIHJlZkl0ZW0uX2NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAvLyBzZWxlY3QgYSBjaGlsZFxyXG4gICAgICAgICAgbGV0IGZpcnN0ID0gcmVmSXRlbS5lbGVtZW50IS5maXJzdEVsZW1lbnRDaGlsZCEubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgaWYgKGZpcnN0ICYmICg8SFRNTEVsZW1lbnQ+Zmlyc3QpLnVpKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PmZpcnN0KS51aTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgLy8gc2VsZWN0IG5leHQgaXRlbVxyXG4gICAgICAgICAgcmVzdWx0ID0gaXRlbTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJlZkl0ZW0ucGFyZW50ICYmIHJlZkl0ZW0ucGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgIC8vIG5vIG5leHQgZWxlbWVudCwgZ28gdG8gcGFyZW50XHJcbiAgICAgICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxUcmVlSXRlbT4gPSByZWZJdGVtLnBhcmVudDtcclxuXHJcbiAgICAgICAgICBsZXQgZmluZE5leHQgPSBmdW5jdGlvbiAoZnJvbTogVHJlZUl0ZW0pOiBOdWxsYWJsZTxUcmVlSXRlbT4ge1xyXG4gICAgICAgICAgICBsZXQgbmV4dDogTnVsbGFibGU8VHJlZUl0ZW0+ID0gZnJvbS5uZXh0O1xyXG4gICAgICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdCA9IG5leHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbS5wYXJlbnQgaW5zdGFuY2VvZiBUcmVlSXRlbSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBmcm9tLnBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHBhcmVudCA9IGZpbmROZXh0KHBhcmVudCk7XHJcbiAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IGZpbmROZXh0KHBhcmVudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgbGV0IGRvbmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgbGV0IHBhdGg6IFRyZWVJdGVtW10gPSBbXTtcclxuICAgICAgbGV0IGxvb2tVcDogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgIGxldCBsb29rRG93bjogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgIGxldCBsb29raW5nVXA6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAvLyBUT0RPXHJcbiAgICAgIHdoaWxlICghZG9uZSAmJiAhcGF0aCkge1xyXG4gICAgICAgIGxvb2tpbmdVcCA9ICFsb29raW5nVXA7XHJcblxyXG4gICAgICAgIGxldCBpdGVtOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG4gICAgICAgIGxldCBsb29rRnJvbTogVHJlZUl0ZW0gPSBmcm9tO1xyXG4gICAgICAgIGlmICgoIWxvb2tEb3duIHx8IGxvb2tpbmdVcCkgJiYgbG9va1VwKSB7XHJcbiAgICAgICAgICAvLyB1cFxyXG4gICAgICAgICAgaWYgKHVwLmxlbmd0aClcclxuICAgICAgICAgICAgbG9va0Zyb20gPSB1cFt1cC5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAgICAgICBpdGVtID0gcHJldihsb29rRnJvbSk7XHJcbiAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICB1cC5wdXNoKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHRvKSB7XHJcbiAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgcGF0aCA9IHVwO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsb29rVXAgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGxvb2tEb3duKSB7XHJcbiAgICAgICAgICAvLyBkb3duXHJcbiAgICAgICAgICBpZiAoZG93bi5sZW5ndGgpXHJcbiAgICAgICAgICAgIGxvb2tGcm9tID0gZG93bltkb3duLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgICAgICAgIGl0ZW0gPSBuZXh0KGxvb2tGcm9tKTtcclxuICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGRvd24ucHVzaChpdGVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtID09PSB0bykge1xyXG4gICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHBhdGggPSBkb3duO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsb29rRG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwYXRoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBwYXRoW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHNlbGVjdGVkOiBib29sZWFuID0gaXRlbS5zZWxlY3RlZCAmJiAoKHRoaXMuX3NlbGVjdGVkLmluZGV4T2YoaXRlbSkgPT09IC0xKSB8fCAodGhpcy5fc2VsZWN0ZWQubGVuZ3RoID09PSAxICYmIHRoaXMuX3NlbGVjdGVkWzBdID09PSBpdGVtKSk7XHJcbiAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgIGlmICghc2VsZWN0ZWQpXHJcbiAgICAgICAgaXRlbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vblNlbGVjdChpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgdGhpcy5fc2VsZWN0ZWQucHVzaChpdGVtKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uRGVzZWxlY3QoaXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgIGxldCBpbmRleDogbnVtYmVyID0gdGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCA9PT0gLTEpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9zZWxlY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgX29uRHJhZ1N0YXJ0KGl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZHJhZ2dhYmxlIHx8IHRoaXMuX2RyYWdnaW5nKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fZHJhZ0l0ZW1zID0gW107XHJcblxyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkICYmIHRoaXMuX3NlbGVjdGVkLmxlbmd0aCA+IDEgJiYgdGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihpdGVtKSAhPT0gLTEpIHtcclxuICAgICAgbGV0IGl0ZW1zOiBUcmVlSXRlbVtdID0gW107XHJcbiAgICAgIGxldCBpbmRleDogeyBba2V5OiBudW1iZXJdOiBUcmVlSXRlbSB9ID0ge307XHJcbiAgICAgIGxldCBkZWZhdWx0TGV2ZWwgPSAtMTtcclxuXHJcbiAgICAgIC8vIGJ1aWxkIGluZGV4XHJcbiAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLl9zZWxlY3RlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIGNhbnQgZHJhZyBwYXJlbnRcclxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRbaV0ucGFyZW50ID09PSB0aGlzKVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9zZWxlY3RlZFtpXS5fZHJhZ0lkID0gaSArIDE7XHJcbiAgICAgICAgaW5kZXhbdGhpcy5fc2VsZWN0ZWRbaV0uX2RyYWdJZF0gPSB0aGlzLl9zZWxlY3RlZFtpXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMuX3NlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHM6IFRyZWVJdGVtID0gdGhpcy5fc2VsZWN0ZWRbaV07XHJcbiAgICAgICAgbGV0IGxldmVsOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBjaGlsZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBwYXJlbnQ6IE51bGxhYmxlPEVsZW1lbnQ+ID0gdGhpcy5fc2VsZWN0ZWRbaV0ucGFyZW50O1xyXG4gICAgICAgIGlmICghcGFyZW50IHx8ICEocGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pKVxyXG4gICAgICAgICAgcGFyZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgaWYgKHBhcmVudC5fZHJhZ0lkICYmIGluZGV4W3BhcmVudC5fZHJhZ0lkXSkge1xyXG4gICAgICAgICAgICAvLyBjaGlsZCwgdG8gYmUgaWdub3JlZFxyXG4gICAgICAgICAgICBjaGlsZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgICAgICBpZiAoIShwYXJlbnQgaW5zdGFuY2VvZiBUcmVlSXRlbSkpIHtcclxuICAgICAgICAgICAgcGFyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbGV2ZWwrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2hpbGQpIHtcclxuICAgICAgICAgIGlmIChkZWZhdWx0TGV2ZWwgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGRlZmF1bHRMZXZlbCA9IGxldmVsO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChkZWZhdWx0TGV2ZWwgIT09IGxldmVsKSB7XHJcbiAgICAgICAgICAgIC8vIG11bHRpLWxldmVsIGRyYWcgbm8gYWxsb3dlZFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaXRlbXMucHVzaCh0aGlzLl9zZWxlY3RlZFtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjbGVhbiBpZHNcclxuICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMuX3NlbGVjdGVkLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkW2ldLl9kcmFnSWQgPSAtMTtcclxuXHJcbiAgICAgIHRoaXMuX2RyYWdJdGVtcyA9IGl0ZW1zO1xyXG5cclxuICAgICAgLy8gc29ydCBpdGVtcyBieSB0aGVpciBudW1iZXIgb2YgYXBwZXJhbmNlIGluIGhpZXJhcmNoeVxyXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGxldCBjb21tb25QYXJlbnQ6IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIGZpbmQgY29tbW9uIHBhcmVudFxyXG4gICAgICAgIGxldCBmaW5kQ29tbW9uUGFyZW50ID0gZnVuY3Rpb24gKGl0ZW1zOiBUcmVlSXRlbVtdKTogVHJlZUl0ZW1bXSB7XHJcbiAgICAgICAgICBsZXQgcGFyZW50czogVHJlZUl0ZW1bXSA9IFtdO1xyXG4gICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtc1tpXS5wYXJlbnQgJiYgaXRlbXNbaV0ucGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgICAgICBpZiAocGFyZW50cy5pbmRleE9mKDxUcmVlSXRlbT5pdGVtc1tpXS5wYXJlbnQpID09PSAtMSlcclxuICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaCg8VHJlZUl0ZW0+aXRlbXNbaV0ucGFyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHBhcmVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNvbW1vblBhcmVudCA9IHBhcmVudHNbMF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gcGFyZW50cztcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBwYXJlbnRzOiBUcmVlSXRlbVtdID0gaXRlbXM7XHJcbiAgICAgICAgd2hpbGUgKCFjb21tb25QYXJlbnQgJiYgcGFyZW50cylcclxuICAgICAgICAgIHBhcmVudHMgPSBmaW5kQ29tbW9uUGFyZW50KHBhcmVudHMpO1xyXG5cclxuICAgICAgICAvLyBjYWxjdWxhdGUgaW5kIG51bWJlclxyXG4gICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgbGV0IGluZDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgICBsZXQgY291bnRDaGlsZHJlbiA9IGZ1bmN0aW9uIChpdGVtOiBUcmVlSXRlbSk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIGlmICghaXRlbS5fY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBsZXQgY291bnQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gaXRlbS5lbGVtZW50IS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmNoaWxkcmVuW2ldKS51aSAmJiAoPEhUTUxFbGVtZW50PmNoaWxkcmVuW2ldKS51aSBpbnN0YW5jZW9mIFRyZWVJdGVtKVxyXG4gICAgICAgICAgICAgICAgICBjb3VudCArPSBjb3VudENoaWxkcmVuKDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PmNoaWxkcmVuW2ldKS51aSkgKyAxO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgbGV0IHNjYW5VcEZvckluZGV4ID0gZnVuY3Rpb24gKGl0ZW06IFRyZWVJdGVtKTogTnVsbGFibGU8VHJlZUl0ZW0+IHtcclxuICAgICAgICAgICAgaW5kKys7XHJcbiAgICAgICAgICAgIGxldCBzaWJsaW5nID0gaXRlbS5lbGVtZW50IS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgICBsZXQgc2libGluZ0l0ZW06IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChzaWJsaW5nICYmICg8SFRNTEVsZW1lbnQ+c2libGluZykudWkgJiYgKDxIVE1MRWxlbWVudD5zaWJsaW5nKS51aSBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgc2libGluZ0l0ZW0gPSA8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD5zaWJsaW5nKS51aTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHNpYmxpbmdJdGVtKSB7XHJcbiAgICAgICAgICAgICAgaW5kICs9IGNvdW50Q2hpbGRyZW4oc2libGluZ0l0ZW0pO1xyXG4gICAgICAgICAgICAgIHJldHVybiBzaWJsaW5nSXRlbTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnBhcmVudCA9PT0gY29tbW9uUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaWYgKGl0ZW0ucGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8VHJlZUl0ZW0+aXRlbS5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBsZXQgcHJldjogTnVsbGFibGU8VHJlZUl0ZW0+ID0gc2NhblVwRm9ySW5kZXgoaXRlbXNbaV0pO1xyXG4gICAgICAgICAgd2hpbGUgKHByZXYpXHJcbiAgICAgICAgICAgIHByZXYgPSBzY2FuVXBGb3JJbmRleChwcmV2KTtcclxuXHJcbiAgICAgICAgICBpdGVtc1tpXS5fZHJhZ0lkID0gaW5kO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXRlbXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgcmV0dXJuIGEuX2RyYWdJZCAtIGIuX2RyYWdJZDtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gc2luZ2xlIGRyYWdcclxuICAgICAgdGhpcy5fZHJhZ0l0ZW1zID0gW2l0ZW1dO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9kcmFnSXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuX2RyYWdnaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgIHRoaXMuY2xhc3MhLmFkZCgnZHJhZ2dpbmcnKTtcclxuICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMuX2RyYWdJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoaXMuX2RyYWdJdGVtc1tpXS5jbGFzcyEuYWRkKCdkcmFnZ2VkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX3VwZGF0ZURyYWdIYW5kbGUoKTtcclxuICAgICAgdGhpcy5lbWl0KCdkcmFnc3RhcnQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uRHJhZ092ZXIoaXRlbTogVHJlZUl0ZW0sIGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmRyYWdnYWJsZSB8fCAhdGhpcy5fZHJhZ2dpbmcgfHwgKHRoaXMuX2RyYWdJdGVtcy5pbmRleE9mKGl0ZW0pICE9PSAtMSAmJiAhdGhpcy5fZHJhZ092ZXIpIHx8IHRoaXMuX2RyYWdPdmVyID09PSBpdGVtKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IGRyYWdPdmVyID0gbnVsbDtcclxuXHJcbiAgICBpZiAoaXRlbS5hbGxvd0Ryb3ApIHtcclxuICAgICAgaWYgKHRoaXMuX2RyYWdJdGVtcy5pbmRleE9mKGl0ZW0pID09PSAtMSlcclxuICAgICAgICBkcmFnT3ZlciA9IGl0ZW07XHJcblxyXG4gICAgICBpZiAodGhpcy5fZHJhZ092ZXIgPT09IG51bGwgJiYgZHJhZ092ZXIpXHJcbiAgICAgICAgdGhpcy5lbWl0KCdkcmFnaW4nKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHRoaXMuX2RyYWdPdmVyID0gZHJhZ092ZXI7XHJcblxyXG4gICAgdGhpcy5fdXBkYXRlRHJhZ0hhbmRsZSgpO1xyXG4gICAgdGhpcy5fb25EcmFnTW92ZShldnQpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25EcmFnRW5kKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmRyYWdnYWJsZSB8fCAhdGhpcy5fZHJhZ2dpbmcpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBsZXQgcmVwYXJlbnRlZEl0ZW1zOiBSZXBhcmVudERyYWdJdGVtc1tdID0gW107XHJcbiAgICB0aGlzLl9kcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG5cclxuICAgIGxldCBsYXN0RHJhZ2dlZEl0ZW06IE51bGxhYmxlPFRyZWVJdGVtPiA9IHRoaXMuX2RyYWdPdmVyO1xyXG5cclxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLl9kcmFnSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGhpcy5fZHJhZ0l0ZW1zW2ldLmNsYXNzIS5yZW1vdmUoJ2RyYWdnZWQnKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLl9kcmFnT3ZlciAmJiB0aGlzLl9kcmFnT3ZlciAhPT0gdGhpcy5fZHJhZ0l0ZW1zW2ldKSB7XHJcblxyXG4gICAgICAgIGxldCBvbGRQYXJlbnQ6IE51bGxhYmxlPEVsZW1lbnQ+ID0gdGhpcy5fZHJhZ0l0ZW1zW2ldLnBhcmVudDtcclxuXHJcbiAgICAgICAgaWYgKG9sZFBhcmVudCAhPT0gdGhpcy5fZHJhZ092ZXIgfHwgdGhpcy5fZHJhZ0FyZWEgIT09ICdpbnNpZGUnKSB7XHJcbiAgICAgICAgICBsZXQgbmV3UGFyZW50OiBOdWxsYWJsZTxFbGVtZW50PiA9IG51bGw7XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuZHJhZ0luc3RhbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYWdJdGVtc1tpXS5wYXJlbnQpXHJcbiAgICAgICAgICAgICAgKDxUcmVlSXRlbT4odGhpcy5fZHJhZ0l0ZW1zW2ldLnBhcmVudCEpKS5yZW1vdmUodGhpcy5fZHJhZ0l0ZW1zW2ldKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5fZHJhZ0FyZWEgPT09ICdiZWZvcmUnKSB7XHJcbiAgICAgICAgICAgIG5ld1BhcmVudCA9IHRoaXMuX2RyYWdPdmVyLnBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ0luc3RhbnQpXHJcbiAgICAgICAgICAgICAgKDxUcmVlSXRlbT50aGlzLl9kcmFnT3Zlci5wYXJlbnQpLmFwcGVuZEJlZm9yZSh0aGlzLl9kcmFnSXRlbXNbaV0sIHRoaXMuX2RyYWdPdmVyKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZHJhZ0FyZWEgPT09ICdpbnNpZGUnKSB7XHJcbiAgICAgICAgICAgIG5ld1BhcmVudCA9IHRoaXMuX2RyYWdPdmVyO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnSW5zdGFudCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuX2RyYWdPdmVyLm9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHRoaXMuX2RyYWdPdmVyLmFwcGVuZCh0aGlzLl9kcmFnSXRlbXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2RyYWdBcmVhID09PSAnYWZ0ZXInKSB7XHJcbiAgICAgICAgICAgIG5ld1BhcmVudCA9IHRoaXMuX2RyYWdPdmVyLnBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ0luc3RhbnQpIHtcclxuICAgICAgICAgICAgICAoPFRyZWVJdGVtPnRoaXMuX2RyYWdPdmVyLnBhcmVudCkuYXBwZW5kQWZ0ZXIodGhpcy5fZHJhZ0l0ZW1zW2ldLCBsYXN0RHJhZ2dlZEl0ZW0hKTtcclxuICAgICAgICAgICAgICBsYXN0RHJhZ2dlZEl0ZW0gPSB0aGlzLl9kcmFnSXRlbXNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXBhcmVudGVkSXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgIGl0ZW06IHRoaXMuX2RyYWdJdGVtc1tpXSxcclxuICAgICAgICAgICAgb2xkOiBvbGRQYXJlbnQsXHJcbiAgICAgICAgICAgIG5ldzogbmV3UGFyZW50XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVtaXQoJ3JlcGFyZW50JywgcmVwYXJlbnRlZEl0ZW1zKTtcclxuXHJcbiAgICB0aGlzLl9kcmFnSXRlbXMgPSBbXTtcclxuXHJcbiAgICBpZiAodGhpcy5fZHJhZ092ZXIpXHJcbiAgICAgIHRoaXMuX2RyYWdPdmVyID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmVtaXQoJ2RyYWdlbmQnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uRHJhZ091dCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5kcmFnZ2FibGUgfHwgIXRoaXMuX2RyYWdnaW5nIHx8ICF0aGlzLl9kcmFnT3ZlcilcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2RyYWdPdmVyID0gbnVsbDtcclxuICAgIHRoaXMuX3VwZGF0ZURyYWdIYW5kbGUoKTtcclxuICAgIHRoaXMuZW1pdCgnZHJhZ291dCcpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIF91cGRhdGVEcmFnSGFuZGxlKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmRyYWdnYWJsZSB8fCAhdGhpcy5fZHJhZ2dpbmcpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAoIXRoaXMuX2RyYWdPdmVyKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudERyYWcuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgcmVjdCA9IHRoaXMuX2RyYWdPdmVyLmVsZW1lbnRUaXRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudERyYWcuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJywgJ2luc2lkZScsICdhZnRlcicsICdoaWRkZW4nKVxyXG4gICAgICB0aGlzLmVsZW1lbnREcmFnLmNsYXNzTGlzdC5hZGQodGhpcy5fZHJhZ0FyZWEpO1xyXG5cclxuICAgICAgdGhpcy5lbGVtZW50RHJhZy5zdHlsZS50b3AgPSByZWN0LnRvcCArICdweCc7XHJcbiAgICAgIHRoaXMuZWxlbWVudERyYWcuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArICdweCc7XHJcbiAgICAgIHRoaXMuZWxlbWVudERyYWcuc3R5bGUud2lkdGggPSAocmVjdC53aWR0aCAtIDQpICsgJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uQXBwZW5kKGl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICBpdGVtLnRyZWUgPSB0aGlzO1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICBpdGVtLm9uKCdkcmFnc3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGNhbid0IGRyYWcgcm9vdCAgVE9ET1xyXG4gICAgICBpZiAoaXRlbS5wYXJlbnQgPT09IHNlbGYpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgc2VsZi5fb25EcmFnU3RhcnQoaXRlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdGVtLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgIHNlbGYuX29uRHJhZ092ZXIoaXRlbSwgZXZ0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0ZW0ub24oJ2RyYWdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNlbGYuX29uRHJhZ0VuZCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vblJlbW92ZShpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgaXRlbS50cmVlID0gbnVsbDtcclxuICAgIGl0ZW0udW5iaW5kKCdkcmFnc3RhcnQnKTtcclxuICAgIGl0ZW0udW5iaW5kKCdtb3VzZW92ZXInKTtcclxuICAgIGl0ZW0udW5iaW5kKCdkcmFnZW5kJyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLl9zZWxlY3RlZC5sZW5ndGgpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBsZXQgaTogbnVtYmVyID0gdGhpcy5fc2VsZWN0ZWQubGVuZ3RoO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB0aGlzLl9zZWxlY3RlZFtpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fc2VsZWN0ZWQgPSBbXTtcclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlcGFyZW50RHJhZ0l0ZW1zIHtcclxuICBpdGVtOiBUcmVlSXRlbTtcclxuICBvbGQ6IE51bGxhYmxlPEVsZW1lbnQ+O1xyXG4gIG5ldzogTnVsbGFibGU8RWxlbWVudD47XHJcbn0iXX0="}