var VR=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=51)}([function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(57),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(68),t),n(r(17),t),n(r(46),t),n(r(78),t),n(r(79),t),n(r(80),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(62),t),n(r(30),t),n(r(31),t),n(r(63),t),n(r(64),t),n(r(81),t),n(r(47),t),n(r(82),t),n(r(83),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(87),t),n(r(88),t),n(r(89),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(65),t),n(r(66),t),n(r(67),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(43),t),n(r(71),t),n(r(23),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(41),t),n(r(42),t),n(r(76),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(73),t),n(r(74),t),n(r(44),t),n(r(75),t),n(r(16),t),n(r(45),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(84),t),n(r(85),t),n(r(86),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(55),t),n(r(29),t),n(r(56),t),n(r(58),t),n(r(59),t),n(r(60),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(69),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(54),t),n(r(61),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(13),t),n(r(18),t),n(r(32),t),n(r(19),t),n(r(33),t),n(r(34),t),n(r(20),t),n(r(35),t),n(r(36),t),n(r(37),t),n(r(38),t),n(r(21),t),n(r(39),t),n(r(22),t),n(r(77),t),n(r(40),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionType=void 0,function(e){e[e.ID=0]="ID",e[e.SPECIAL_ID=1]="SPECIAL_ID",e[e.KEYWORD=2]="KEYWORD",e[e.STRING=3]="STRING",e[e.NUMBER=4]="NUMBER",e[e.BOOL=5]="BOOL",e[e.OPERATOR=6]="OPERATOR",e[e.INTEGER=7]="INTEGER",e[e.FLOAT=8]="FLOAT",e[e.DOUBLE=9]="DOUBLE",e[e.EOI=10]="EOI"}(t.ExpressionType||(t.ExpressionType={}))},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(27),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(70),t),n(r(72),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateConst=void 0;var i=function(){function e(){}return e.STATE_SEPARATOR=".",e.ASSOCIATED_STATE_PREFIX="关联状态:",e.VARIABLE_SYMBOL="*",e.STATE_INDEX=-1,e.LogCount=0,e.AssignmentPrefix="公式变量赋值_",e.AssignmentFormulaCount=0,e.TriggerCount=0,e.ActionCount=0,e.StateCount=0,e.STATE_VALUE="空",e}();t.StateConst=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryExpression=void 0;var i=r(12),n=function(){function e(e){this.name="",this._value=i.ConstantExpression.Empty(),this._value=e}return Object.defineProperty(e.prototype,"varType",{get:function(){return this._value.expType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryExpression"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"VeryExpression|公式变量"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){return null===this._value},enumerable:!1,configurable:!0}),e.prototype.setValue=function(e){this._value=e},e.prototype.getValue=function(){return this._value.evaluate()},e.prototype.initValue=function(e,t){var r=parseFloat(e);return isNaN(r)?(t.isRight=!1,t.message="类型: "+this.varType+"，值："+e+"，该变量值和类型不匹配，转化错误，请检查！",null):r},e.prototype.clone=function(){return new e(this._value)},e}();t.VeryExpression=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryTemplateExpression=t.VeryVarExpression=t.BinaryExpression=t.BinaryOperator=t.ConstantExpression=t.TrueExpression=void 0;var i=r(30),n=r(11),a=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"bool"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"TrueExpression"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(){return!0},e.prototype.clone=function(){return new e},e.prototype.toString=function(){return"true"},e}();t.TrueExpression=a;var o,s=function(){function e(e,t){this._expType="string",this._value=e,this._expType=t}return Object.defineProperty(e.prototype,"expType",{get:function(){return this._expType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"ConstantExpression"},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(){return this._value},e.prototype.clone=function(){return new e(this._value,this._expType)},e.Empty=function(){return new e(null,"string")},e.prototype.isEmpty=function(){return"string"===this._expType&&null===this._value},e.prototype.toString=function(){return null!==this._value?this._value.toString():"null"},e}();t.ConstantExpression=s,function(e){e.Add="+",e.Subtract="-",e.Multiply="*",e.Divide="/",e.Modulo="%",e.Power="^",e.LT="<",e.LT_EQ="<=",e.EQ="=",e.GT_EQ=">=",e.GT=">",e.NEQ="!=",e.And="&&",e.Or="||",e.Not="!"}(o=t.BinaryOperator||(t.BinaryOperator={}));var u=function(){function e(e,t,r){this._expType="",this.isRight=!0,this._op=o.EQ,this._isSealed=!1,this._left=e,this._right=t,this._op=r,this._expType=this.resultAutoType(e,t,r),"null"===this._expType&&(this.isRight=!1,console.error("公式两边类型不匹配，左侧类型："+e.expType+"，右侧类型："+t.expType+"，计算类型："+r.toString()))}return Object.defineProperty(e.prototype,"expType",{get:function(){return this._expType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"BinaryExpression"},enumerable:!1,configurable:!0}),e.init=function(){this._opDic["+"]=o.Add,this._opDic["-"]=o.Subtract,this._opDic["*"]=o.Multiply,this._opDic["/"]=o.Divide,this._opDic["%"]=o.Modulo,this._opDic["**"]=o.Power,this._opDic["^"]=o.Power,this._opDic["<"]=o.LT,this._opDic["<="]=o.LT_EQ,this._opDic["=="]=o.EQ,this._opDic[">="]=o.GT_EQ,this._opDic[">"]=o.GT,this._opDic["!="]=o.NEQ,this._opDic["&&"]=o.And,this._opDic["||"]=o.Or,this._opDic["!"]=o.Not,this._opDic["！"]=o.Not,this._priority.Add(o.Not,2),this._priority.Add(o.Power,3),this._priority.Add(o.Multiply,4),this._priority.Add(o.Divide,4),this._priority.Add(o.Modulo,4),this._priority.Add(o.Add,5),this._priority.Add(o.Subtract,5),this._priority.Add(o.LT,6),this._priority.Add(o.LT_EQ,6),this._priority.Add(o.EQ,6),this._priority.Add(o.GT_EQ,6),this._priority.Add(o.GT,6),this._priority.Add(o.NEQ,6),this._priority.Add(o.And,7),this._priority.Add(o.Or,7)},e.prototype.resultAutoType=function(e,t,r){return r===o.Add?"string"===e.expType||"string"===t.expType?"string":"bool"===e.expType||"bool"===t.expType?"null":"number"===e.expType||"number"===t.expType?"number":"vector3"===e.expType||"vector3"===t.expType?"vector3":"vector2"===e.expType||"vector2"===t.expType?"vector2":"null":r===o.Divide||r===o.Multiply||r===o.Modulo||r===o.Power||r===o.Subtract?"string"===e.expType||"string"===t.expType||"bool"===e.expType||"bool"===e.expType?"null":"vector3"===e.expType&&"vector3"===t.expType&&r===o.Subtract?"vector3":"vector2"===e.expType&&"vector2"===t.expType&&r===o.Subtract?"vector2":"number"===e.expType&&"vector3"===t.expType&&r===o.Multiply||"vector3"===e.expType&&"number"===t.expType&&r==o.Multiply?"vector3":"number"===e.expType&&"vector2"===t.expType&&r===o.Multiply||"vector2"===e.expType&&"number"===t.expType&&r==o.Multiply?"vector2":"vector3"===e.expType&&"number"===t.expType&&r===o.Divide?"vector3":"vector2"===e.expType&&"number"===t.expType&&r===o.Divide?"vector2":"number"===e.expType||"number"===t.expType?"number":"null":r===o.LT||r===o.LT_EQ||r===o.GT_EQ||r===o.GT?"string"===e.expType||"string"===t.expType||"bool"===e.expType||"bool"===t.expType?"null":"bool":r===o.NEQ||r===o.EQ?t.expType!==e.expType?"null":"bool":r===o.Not?"bool"!==t.expType?"null":"bool":"string"},e.prototype.setLeftExp=function(e){this._left=e},e.prototype.setRightExp=function(e){this._right=e},e.prototype.getOp=function(){return this._op},e.prototype.getLeftExp=function(){return this._left},e.prototype.getRightExp=function(){return this._right},e.prototype.isSealed=function(){return this._isSealed},e.prototype.setSeal=function(){this._isSealed=!0},e.prototype.toString=function(){return"("+this._left.toString()+" "+this._op.toString()+" "+this._right.toString()+")"},e.prototype.clone=function(){return new e(this._left.clone(),this._right.clone(),this._op)},e.prototype.evaluate=function(){if("null"===this._expType)return null;"FunctionExpression"===this._left.className&&this._left.evaluate(),"FunctionExpression"===this._right.className&&this._right.evaluate(),this._expType=this.resultAutoType(this._left,this._right,this._op);var e=this._left.evaluate(),t=this._right.evaluate();if(null===e||null===t)return null;if(this._op===o.Add)return"string"===this._expType?e.toString()+t.toString():"number"===this._expType?e+t:"vector3"===this._expType||"vector2"===this._expType?e.add(t):null;if(this._op===o.Subtract)return"number"===this._expType?e-t:"vector3"===this._expType||"vector2"===this._expType?e.subtract(t):null;if(this._op===o.Multiply){if("number"===this._expType)return e*t;if("vector3"===this._expType)return"number"==typeof e?t.multiplyByFloats(e,e,e):"number"==typeof t?e.multiplyByFloats(t,t,t):null;if("vector2"===this._expType)return"number"==typeof e?t.multiplyByFloats(e,e):"number"==typeof t?e.multiplyByFloats(t,t):null}else{if(this._op!==o.Divide){if(this._op===o.Modulo)return"number"==typeof e&&"number"==typeof t?e%t:null;if(this._op===o.Power)return"number"==typeof e&&"number"==typeof t?Math.pow(e,t):null;if(this._op===o.And){var r=this.getBoolean(e),i=this.getBoolean(t);return r&&i}if(this._op===o.Or){r=this.getBoolean(e),i=this.getBoolean(t);return r||i}return this._op===o.LT?e<t:this._op===o.LT_EQ?e<=t:this._op===o.GT_EQ?e>=t:this._op===o.GT?e>t:this._op===o.EQ?e===t:this._op===o.NEQ?e!==t:this._op===o.Not?!this.getBoolean(t):!this.getBoolean(e)}if("number"===this._expType)return e/t;if("vector3"===this._expType)return"number"==typeof t?new BABYLON.Vector3(e.x/t,e.y/t,e.z/t):null;if("vector2"===this._expType)return"number"==typeof t?new BABYLON.Vector2(e.x/t,e.y/t):null}},e.prototype.getBoolean=function(e){return"number"==typeof e?0!==e:"string"==typeof e?""!==e:"boolean"==typeof e&&e},e.prototype.getPriority=function(){var t=e._priority.GetValue(this._op);return null===t?100:t},e.prototype.getPriorityOp=function(t){var r=e._priority.GetValue(t);return null===r?100:r},e._opDic={},e._priority=new i.Dictionary,e}();t.BinaryExpression=u;var l=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"expType",{get:function(){return this._value?this._value.varType:"null"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryVarExpression"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(){return this._value.getValue()},e.prototype.clone=function(){return new e(this._value.clone())},e.prototype.toString=function(){return this._value?this._value.toString():"null"},e}();t.VeryVarExpression=l;var c=function(){function e(){this._isTemplate=!1,this._template=new n.VE_Template("","")}return Object.defineProperty(e.prototype,"expType",{get:function(){return"bool"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryTemplateExpression"},enumerable:!1,configurable:!0}),e.prototype.setTemplate=function(e){this._isTemplate=!0,this._template=e},e.prototype.evaluate=function(){return!!this._isTemplate&&(!!this._template&&null!==this._template.templateInstance)},e.prototype.clone=function(){var t=new e;return t._template=this._template,t._isTemplate=this._isTemplate,t},e.prototype.toString=function(){return this._isTemplate&&this._template?(null===this._template.templateInstance).toString():"false"},e}();t.VeryTemplateExpression=c,u.init()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParseError=t.SeverityExp=t.NameLocation=void 0;var i,n=function(){function e(e){this._value="",this._line=0,this._pos=0,this._value=e,this._line=1,this._pos=1}return e.prototype.getValue=function(){return this._value},e.prototype.getLine=function(){return this._line},e.prototype.getPos=function(){return this._pos},e}();t.NameLocation=n,function(e){e[e.Warning=0]="Warning",e[e.Error=1]="Error"}(i=t.SeverityExp||(t.SeverityExp={}));var a=function(){function e(e,t,r){this._pos=e,this._message=t,this._severity=r}return e.Warning=function(t,r){var n=r;return t.getLine()>0&&(n="公式解析警告 >>> 错误字符序号："+t.getPos()+"，警告信息："+r),new e(t,n,i.Warning)},e.Error=function(t,r){var n=r;return t.getLine()>0&&(n="公式解析错误 >>> 错误字符序号："+t.getPos()+"，警告信息："+r),new e(t,n,i.Error)},e.prototype.getPosition=function(){return this._pos},e.prototype.getMessage=function(){return this._message},e.prototype.getSeverity=function(){return this._severity},e.prototype.toString=function(){return"类型："+this._severity.toString()+"，信息："+this._message},e}();t.ParseError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardQuery=void 0;var i=function(){function e(){this.itemBuffer=[],this.endReached=!1,this.problemCollector=[],this.endOfInputIndicator=void 0}return e.prototype.next=function(){return this.nextOffset(1)},e.prototype.nextOffset=function(e){for(;this.itemBuffer.length<=e&&!this.endReached;){var t=this.fetch();void 0!==t?this.itemBuffer.push(t):this.endReached=!0}return e>=this.itemBuffer.length?(void 0===this.endOfInputIndicator&&(this.endOfInputIndicator=this.endOfInput()),this.endOfInputIndicator):this.itemBuffer[e]},e.prototype.current=function(){return this.nextOffset(0)},e.prototype.consume=function(){var e=this.current();return this.consumeNext(1),e},e.prototype.consumeNext=function(e){if(!(e<0))for(;e-- >0;)if(0!==this.itemBuffer.length)this.itemBuffer.shift();else{if(this.endReached)return;void 0===this.fetch()&&(this.endReached=!0)}},e.prototype.getProblemCollector=function(){return this.problemCollector},e.prototype.setProblemCollector=function(e){this.problemCollector=e},e}();t.ForwardQuery=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scope=void 0;var i=r(37),n=function(){function e(){this._parent=void 0,this._context={}}return e.Create=function(){var t=new e;return t._parent=e.GetRootScope(),t},e.GetRootScope=function(){return void 0===e._root&&(e._root=new e,e._root.setVariable("PI","number",Math.PI).makeConstant(Math.PI),e._root.setVariable("EULER","number",Math.E).makeConstant(Math.E)),e._root},e.CreateWithParent=function(t){var r=e.Create();return r._parent=t,r},e.prototype.find=function(e){return this._context[e]?this._context[e]:void 0!==this._parent?this._parent.find(e):null},e.prototype.setVariable=function(e,t,r){var i=this.find(e);return null!==i?(i.setType(t),i.setValue(r),i):this.createVariable(e,t,r)},e.prototype.createVariable=function(e,t,r){if(this._context[e])return this._context[e].setType(t),this._context[e].setValue(r),this._context[e];var n=new i.Variable(e,t,r);return this._context[e]=n,n},e.prototype.setValue=function(e,t){this._context[e]&&this._context[e].setValue(t)},e.prototype.isCreated=function(e){return!!this._context[e]||void 0!==this._parent&&null!==this._parent.find(e)},e.prototype.clear=function(){this._context={}},e}();t.Scope=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_ExpressionParsing=void 0;var i=r(35),n=r(18),a=r(13),o=r(39),s=r(32),u=r(38),l=r(0),c=r(40),p=r(6),h=function(){function e(){}return e.init=function(){this._bracketPair["("]=")",this._bracketPair["["]="]",this._bracketPair["{"]="}",this._bracketPair["（"]="）",this._bracketPair["【"]="】"},e.parsing=function(e,t,r,n,a,o,s){return this._scope=r,this._projectName=n,this._objectID=a,this._fsmID=o,this._varScope=s,t=this.replace(t),this._tokenizer=new i.Tokenizer(t),this.errors=[],this.parse()},e.replace=function(e){return e=(e=(e=e.replace(/（/g,"(")).replace(/）/g,")")).replace(/！/g,"!")},e.parse=function(){var e=this.buildExpression();return this._tokenizer.current().isEnd()||(this._tokenizer.addError(this._tokenizer.current(),"未定义字符："+this._tokenizer.current().getSource()+" "),this._tokenizer.consume()),this.errors=this._tokenizer.getProblemCollector(),e},e.buildExpression=function(){var e=this.relationalExp();if(this._tokenizer.current().isOperator("&&")){this._tokenizer.consume();var t=this.buildExpression();return this.reOrder(e,t,n.BinaryOperator.Add)}if(this._tokenizer.current().isOperator("||")){this._tokenizer.consume();t=this.buildExpression();return this.reOrder(e,t,n.BinaryOperator.Or)}return e},e.relationalExp=function(){var e=this.algebraExp();if(this._tokenizer.current().isOperator("<")){this._tokenizer.consume();var t=this.relationalExp();return this.reOrder(e,t,n.BinaryOperator.LT)}if(this._tokenizer.current().isOperator("<=")){this._tokenizer.consume();t=this.relationalExp();return this.reOrder(e,t,n.BinaryOperator.LT_EQ)}if(this._tokenizer.current().isOperator("==")){this._tokenizer.consume();t=this.relationalExp();return this.reOrder(e,t,n.BinaryOperator.EQ)}if(this._tokenizer.current().isOperator(">=")){this._tokenizer.consume();t=this.relationalExp();return this.reOrder(e,t,n.BinaryOperator.GT_EQ)}if(this._tokenizer.current().isOperator(">")){this._tokenizer.consume();t=this.relationalExp();return this.reOrder(e,t,n.BinaryOperator.GT)}if(this._tokenizer.current().isOperator("!=")){this._tokenizer.consume();t=this.relationalExp();return this.reOrder(e,t,n.BinaryOperator.NEQ)}return e},e.algebraExp=function(){var e=this.productExp();if(this._tokenizer.current().isOperator("+")){this._tokenizer.consume();var t=this.algebraExp();return this.reOrder(e,t,n.BinaryOperator.Add)}if(this._tokenizer.current().isOperator("-")){this._tokenizer.consume();t=this.algebraExp();return this.reOrder(e,t,n.BinaryOperator.Subtract)}return e},e.productExp=function(){var e=this.exponentExp();if(this._tokenizer.current().isOperator("*")){this._tokenizer.consume();var t=this.productExp();return this.reOrder(e,t,n.BinaryOperator.Multiply)}if(this._tokenizer.current().isOperator("/")){this._tokenizer.consume();t=this.productExp();return this.reOrder(e,t,n.BinaryOperator.Divide)}if(this._tokenizer.current().isOperator("%")){this._tokenizer.consume();t=this.productExp();return this.reOrder(e,t,n.BinaryOperator.Modulo)}return e},e.exponentExp=function(){var e=this.atomExp();return this._tokenizer.current().isOperator("!","！")&&(e=new n.BinaryExpression(e,e,n.BinaryOperator.Not)),e},e.atomExp=function(){if(this._tokenizer.current().isOperator("-"))return this._tokenizer.consume(),(r=new n.BinaryExpression(new n.ConstantExpression(0,"number"),this.atomExp(),n.BinaryOperator.Subtract)).setSeal(),r;if(this._tokenizer.current().isOperator("!","！")&&(this._tokenizer.next().isIdentifier()||this._tokenizer.next().isKeyword()||this._tokenizer.next().isStartBracket())){this._tokenizer.consume();var e=this.atomExp();return"bool"===e.expType?new n.BinaryExpression(e,e,n.BinaryOperator.Not):(this._tokenizer.addError(this._tokenizer.current(),"取非运算(!)后应跟着bool值类型！"),n.ConstantExpression.Empty())}if(this._tokenizer.current().isOperator("+")&&this._tokenizer.next().isStartBracket()&&this._tokenizer.consume(),this._tokenizer.current().isOperator("+")&&this._tokenizer.next().isConstant()&&this._tokenizer.consume(),this._tokenizer.current().isOperator("+")&&this._tokenizer.next().isIdentifier()&&this._tokenizer.consume(),this._tokenizer.current().isOperator("*")&&this._tokenizer.next().isIdentifier()){this._tokenizer.consume();var t="*"+this._tokenizer.current().getContents();return null===(b=c.VE_Expressions.getParseExpression(this._projectName,this._objectID,t,this._varScope))?null===c.VE_Expressions.getTemplateExpression(this._projectName,this._objectID,t,this._varScope)?(this._tokenizer.addError(this._tokenizer.current(),"VeryVar变量名："+t+"，该VeryVar变量未定义，无法在系统中查找到，请检查！"),this._tokenizer.consume(),n.ConstantExpression.Empty()):(this._tokenizer.addError(this._tokenizer.current(),"VeryVar变量名："+t+"，公式中不支持模板变量，请检查！"),this._tokenizer.consume(),n.ConstantExpression.Empty()):(this._tokenizer.consume(),b)}if(this._tokenizer.current().isStartBracket()){var r,i=this._bracketPair[this._tokenizer.consume().getTrigger()];return"BinaryExpression"===(r=this.buildExpression()).className&&r.setSeal(),this.expectTrigger(a.ExpressionType.OPERATOR,i),r}if(this._tokenizer.current().isConstant()){var o=void 0,s="string";return this._tokenizer.current().isBool()?(o="true"===this._tokenizer.current().getContents().toLowerCase(),s="bool"):this._tokenizer.current().isNumber()?(o=parseFloat(this._tokenizer.current().getContents()),s="number"):(o=this._tokenizer.current().getContents(),s="string"),this._tokenizer.consume(),new n.ConstantExpression(o,s)}if(this._tokenizer.current().isIdentifier()){if(this._tokenizer.next().isStartBracket()){var h=this._bracketPair[this._tokenizer.next().getTrigger()];return this.functionCall(h)}var _=void 0,f=this._tokenizer.current(),y=this._tokenizer.consume().getContents();if(y.endsWith(".")&&this._tokenizer.current().isOperator("*")&&this._tokenizer.next().isIdentifier()){this._tokenizer.consume();var b;t=y+"*"+this._tokenizer.current().getContents();return null===(b=c.VE_Expressions.getParseExpression(this._projectName,this._objectID,t,this._varScope))?(null===c.VE_Expressions.getTemplateExpression(this._projectName,this._objectID,t,this._varScope)?this._tokenizer.addError(f,"VeryVar变量名："+t+"，该VeryVar变量未定义，无法在系统中查找到，请检查！"):this._tokenizer.addError(this._tokenizer.current(),"VeryVar变量名："+t+"，公式中不支持模板变量，请检查！"),this._tokenizer.consume(),n.ConstantExpression.Empty()):(this._tokenizer.consume(),b)}return null===(_=this._scope.find(y))?(this._tokenizer.addError(f,"变量名："+y+"，该变量在变量作用域中未定义，也未定义该表达式，无法识别！另外，赋值响应右侧如果是公式，不允许引用模板变量！"),n.ConstantExpression.Empty()):new u.VariableExpression(_)}if(this._tokenizer.current().isKeyword()){if("this"===this._tokenizer.current().getContents().toLowerCase().trim()){if(this._varScope===l.VariableScope.Fsm&&""!==this._fsmID){var m=p.VE_Manager.objects(this._projectName);if(null!==m){var g=m.getVeryObject(this._objectID);if(null!=g){var v=g.getFsm(this._fsmID);if(null!=v)return this._tokenizer.consume(),new n.VeryVarExpression(v.fsmVar)}}}return this._tokenizer.addError(this._tokenizer.current(),"关键字：this，该关键字只能使用与状态定义中的触发启动条件和状态逻辑表达式，此处超出使用范围，请检查！"),this._tokenizer.consume(),n.ConstantExpression.Empty()}return"null"===this._tokenizer.current().getContents().toLowerCase().trim()||"none"===this._tokenizer.current().getContents().toLowerCase().trim()?(this._tokenizer.consume(),new n.VeryTemplateExpression):(this._tokenizer.addError(this._tokenizer.current(),"关键字："+this._tokenizer.current().getContents()+"，该关键字暂无定义，请勿使用！"),this._tokenizer.consume(),n.ConstantExpression.Empty())}return this._tokenizer.current().isSpecialIdentifier()?(this._tokenizer.addError(this._tokenizer.current(),"特殊ID："+this._tokenizer.current().getSource()+"，暂时未定义，请勿使用！"),this._tokenizer.consume(),n.ConstantExpression.Empty()):(this._tokenizer.addError(this._tokenizer.current(),"检测到无效字符："+this._tokenizer.current().getSource()+"，请检查！"),this._tokenizer.consume(),n.ConstantExpression.Empty())},e.reOrder=function(e,t,r){if("BinaryExpression"===t.className){var i=t;if(!i.isSealed()&&i.getPriority()===i.getPriorityOp(r))return this.replaceLeft(i,e,r),t}return new n.BinaryExpression(e,t,r)},e.replaceLeft=function(e,t,r){if("BinaryExpression"===e.getLeftExp().className){var i=e.getLeftExp();if(!i.isSealed()&&i.getPriority()===i.getPriorityOp(r))return void this.replaceLeft(i,t,r)}e.setLeftExp(new n.BinaryExpression(t,e.getLeftExp(),r))},e.functionCall=function(e){var t=new o.FunctionExpression,r=this._tokenizer.consume();if(!s.CustomFunctions.hasFunction(r.getContents()))return this._tokenizer.addError(r,"未定义函数："+r.getContents()+"！"),n.ConstantExpression.Empty();var i=s.CustomFunctions.createFunction(r.getContents());for(t.setFunction(i),this._tokenizer.consume();!this._tokenizer.current().isOperator(e)&&!this._tokenizer.current().isEnd();)0!==t.paraCount()&&this.expectTrigger(a.ExpressionType.OPERATOR,","),t.addPara(this.buildExpression());return this.expectTrigger(a.ExpressionType.OPERATOR,e),t.evaluate(),t.paraCount()>i.parameterNumber()&&i.parameterNumber()>=0?(this._tokenizer.addError(r,"函数参数不一致，当前函数："+r.getContents()+"，规定参数个数Max："+i.parameterNumber()+"，当前参数个数："+t.paraCount()+"，请检查！"),n.ConstantExpression.Empty()):t},e.expectTrigger=function(e,t){this._tokenizer.current().matches(e,t)?this._tokenizer.consume():this._tokenizer.addError(this._tokenizer.current(),"期望获得："+t+"，当前值为："+this._tokenizer.current().getTrigger()+"，请检查！")},e.getProjectCollector=function(){return this._tokenizer.getProblemCollector()},e._bracketPair={},e.errors=[],e._projectName="",e._objectID="",e._fsmID="",e._varScope=l.VariableScope.Local,e}();t.VE_ExpressionParsing=h,h.init()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BabylonEngine=void 0;var i=function(){};t.BabylonEngine=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_AssignmentTypeJudge=void 0;var i=function(){function e(){}return e.allow=function(e,t){return e.varType===t.varType},e.allowExpression=function(e,t){return e.varType===t.expType},e}();t.VE_AssignmentTypeJudge=i},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(26),t),n(r(52),t),n(r(53),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryTableRow=void 0;var i=function(){function e(e){this._rowData=[],e.forEach((function(e,t,r){r[t]||(r[t]="")})),this._rowData=e}return Object.defineProperty(e.prototype,"Count",{get:function(){return this._rowData?this._rowData.length:0},enumerable:!1,configurable:!0}),e.prototype.getData=function(e){return this._rowData[e]},e.prototype.add=function(e){this._rowData.push(e)},e.prototype.insert=function(e,t){this._rowData.push(t);var r=this._rowData.slice(e);r.push(t),this._rowData=r},e.prototype.remove=function(e){this._rowData.splice(e,1)},e.prototype.removeEnd=function(){this._rowData.pop()},e.prototype.isEmpty=function(){if(!this._rowData)return!0;for(var e=0;e<this._rowData.length;e++)if(""!==this._rowData[e]&&null!==this._rowData[e]&&void 0!==this._rowData[e])return!1;return!0},e}();t.VeryTableRow=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowError=void 0;var i=function(){function e(){}return e.initZone=function(){this.errorZone||(this.errorZone=document.getElementById("errorZone"))},e.showMsg=function(e,t){this.initZone(),this.errorContentNow||(this.errorContentNow=this.errorContentPrefix),this.errorContentNow+=e+t+"<br/>",this.errorZone.style.display="block",this.errorZone.innerHTML=this.errorContentNow+"</div>";var r=this.errorZone.querySelector(".close"),i=this;r.addEventListener("click",(function(){i.errorZone.style.display="none"}))},e.show=function(e){this.showMsg("打印信息>>>",e)},e.showError=function(e){this.showMsg("错误信息>>>",e)},e.showWarn=function(e){this.showMsg("警告信息>>>",e)},e.clear=function(){e.initZone(),e.errorContentNow=e.errorContentPrefix,e.errorZone.innerHTML=e.errorContentNow+"</div>";var t=e.errorZone.querySelector(".close"),r=e;t.addEventListener("click",(function(){r.errorZone.style.display="none"}))},e.close=function(){e.initZone(),"none"===e.errorZone.style.display?e.errorZone.style.display="block":e.errorZone.style.display="none"},e.errorContentPrefix='<div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">&times;</button>',e}();t.ShowError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderManager=t.AnalisysType=void 0;var i,n=r(11),a=r(15),o=r(9),s=r(6),u=r(2),l=r(4),c=r(7),p=r(48),h=r(5);!function(e){e[e.Global=0]="Global",e[e.Object=1]="Object",e[e.Template=2]="Template"}(i=t.AnalisysType||(t.AnalisysType={}));var _=function(){function e(){this._currentType=i.Global,this._projectName="",this._lastFsmID="",this._lastObjectID="",this._activeTemplate=null,this._activeObject=null,this._activeFsmData=null,this._activeStateData=null,this._emptyLine=!1}return e.prototype.load=function(e,t){this._projectName=e,this._table=t,s.VE_Manager.createProject(e);var r=s.VE_Manager.templates(e),_=s.VE_Manager.objects(e),f=s.VE_Manager.variables(e);if(t){for(var y=1;y<t.RowCount;y++)if(!t.getData(y,0).startsWith("//"))if(t.getRow(y).isEmpty())this._emptyLine=!0;else if(t.getData(y,0).startsWith("模板_")){this._activeFsmData=null,this._activeStateData=null,this._currentType=i.Template;var b=t.getData(y,0).replace(/ /g,"").substring(3);if(b.indexOf(":")>-1||b.indexOf("：")>-1);else{if(!u.VE_StringFormat.isIDLegal(b))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,0),"模板对象名："+t.getData(y,0)+"，当前模板对象名不合法，包含非法字符，请检查！",t.ID)),!1;if(r.isCreatedTemplate(b))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,0),"模板对象名："+t.getData(y,0)+"，当前模板已创建，请勿使用重复的模板对象名！",t.ID)),!1;this._lastObjectID=b,this._emptyLine=!0;var m=new n.VE_Template(e,b);r.addTemplate(b,m),this._activeTemplate=m}}else if(""!==t.getData(y,0)){this._activeFsmData=null,this._activeStateData=null,this._currentType=i.Object;var g=t.getData(y,0),v="";if(g.indexOf("=")>-1){var d=g.split("=");if(2!==d.length)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,0),"对象名："+t.getData(y,0)+"，当前对象名格式错误，应为“对象名”或者“对象名=场景物体名”的形式，请检查！",t.ID)),!1;g=d[0].trim(),v=d[1].trim()}if(!u.VE_StringFormat.isIDLegal(g))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,0),"对象名："+t.getData(y,0)+"，当前对象名不合法，包含非法字符，请检查！",t.ID)),!1;var P=null;if(""===v)P=new h.GameObject("__"+g+"_Empty");else if(null===(P=h.GameObject.Find(v)))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,0),"对象名："+v+"，当前对象在场景中不存在，请检查！",t.ID)),!1;if(this._lastObjectID=g,this._emptyLine=!0,_.isCreated(g))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,0),"对象名："+t.getData(y,0)+"，当前对象已创建，请勿使用重复的对象名！",t.ID)),!1;var V=new a.VeryEngineObject(e,g,P);_.add(g,V),this._activeObject=V}else if(""!==t.getData(y,5)&&""===t.getData(y,1)&&""===t.getData(y,2)&&""===t.getData(y,3)&&""===t.getData(y,4)&&""===t.getData(y,6)&&""===t.getData(y,7)&&""===t.getData(y,8)){var E=t.getData(y,5);if(this._currentType===i.Global){if(this._emptyLine=!0,2!==(D=u.VE_StringFormat.paraSegment(E)).length&&3!==D.length)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"全局变量："+t.getData(y,5)+"，当前全局变量格式不正确，请检查！",t.ID)),!1;var A=D[0].trim();if(!u.VE_StringFormat.isIDLegal(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"全局变量："+t.getData(y,5)+"，当前变量名不合法，包含非法字符，请检查！",t.ID)),!1;var T=[D[1].trim()];if(2===D.length?T[1]="":T[1]=D[2].trim(),f.varData.isCreatedVariable(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"全局变量："+t.getData(y,5)+"，当前全局变量名已创建，请检查！",t.ID)),!1;f.varData.addVariable(A,T,t.pos(y,5))}else if(E.indexOf("=")>-1){if(2===(T=E.split("=")).length&&T[0].trim()===this._lastFsmID){if(this._emptyLine=!1,null===this._activeFsmData)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"状态赋值："+t.getData(y,5)+"，当前状态不属于任何对象和模板对象，请检查！",t.ID)),!1;(w=new o.VE_StateData(this._activeFsmData,T[1].trim(),!1)).rowIndex=y,this._activeFsmData.addState(w),this._activeStateData=w}else{if(this._emptyLine=!0,3!==(D=u.VE_StringFormat.paraSegment(E)).length)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"局部公式变量："+t.getData(y,5)+"，当前局部公式变量格式不正确，请检查！",t.ID)),!1;A=D[0].trim();if(!u.VE_StringFormat.isIDLegal(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"变量："+t.getData(y,5)+"，当前变量名不合法，包含非法字符，请检查！",t.ID)),!1;var j=[D[1].trim(),D[2].trim()];if(this._currentType===i.Object){if(this._activeObject.varData.isCreatedVariable(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"对象名："+this._activeObject.objectID+"，局部变量："+t.getData(y,5)+"，当前局部变量名已创建，请检查！",t.ID)),!1;if(this._activeObject.dataSource.isCreatedFsm(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"对象名："+this._activeObject.objectID+"，局部变量："+t.getData(y,5)+"，局部变量名不能与状态名相同，当前状态已创建，请检查！",t.ID)),!1;this._activeObject.varData.addVariable(A,j,t.pos(y,5))}else{if(this._currentType!==i.Template)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"局部变量："+t.getData(y,5)+"，当前局部变量所属未知，格式错误，请检查！",t.ID)),!1;if(this._activeTemplate.varData.isCreatedVariable(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"模板对象名："+this._activeTemplate.templateID+"，局部变量："+t.getData(y,5)+"，当前局部变量名已创建，请检查！",t.ID)),!1;if(this._activeTemplate.dataSource.isCreatedFsm(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"模板对象名："+t.getData(y,5)+"，当前局部变量所属未知，格式错误，请检查！",t.ID)),!1;this._activeTemplate.varData.addVariable(A,j,t.pos(y,5))}}}else{if(this._emptyLine=!0,2!==(D=u.VE_StringFormat.paraSegment(E)).length&&3!==D.length)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"局部变量："+t.getData(y,5)+"，当前局部变量格式不正确，请检查！",t.ID)),!1;A=D[0].trim();if(!u.VE_StringFormat.isIDLegal(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"变量："+t.getData(y,5)+"，当前变量名不合法，包含非法字符，请检查！",t.ID)),!1;T=[D[1].trim()];if(2===D.length?T[1]="":T[1]=D[2].trim(),this._currentType===i.Object){if(this._activeObject.varData.isCreatedVariable(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"对象名："+this._activeObject.objectID+"，局部变量："+t.getData(y,5)+"，当前局部变量名已创建，请检查！",t.ID)),!1;if(this._activeObject.dataSource.isCreatedFsm(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"对象名："+this._activeObject.objectID+"，局部变量："+t.getData(y,5)+"，局部变量名不能与状态名相同，当前状态已创建，请检查！",t.ID)),!1;this._activeObject.varData.addVariable(A,T,t.pos(y,5))}else{if(this._currentType!==i.Template)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"局部变量："+t.getData(y,5)+"，当前局部变量所属未知，格式错误，请检查！",t.ID)),!1;if(this._activeTemplate.varData.isCreatedVariable(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"模板对象名："+this._activeTemplate.templateID+"，局部变量："+t.getData(y,5)+"，当前局部变量名已创建，请检查！",t.ID)),!1;if(this._activeTemplate.dataSource.isCreatedFsm(A))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"模板对象名："+this._activeTemplate.templateID+"，局部变量："+t.getData(y,5)+"，局部变量名不能与状态名相同，当前状态已创建，请检查！",t.ID)),!1;this._activeTemplate.varData.addVariable(A,T,t.pos(y,5))}}}else{var O=!1;if(""!==(E=t.getData(y,5))?(O=!0,this._emptyLine=!1):this._emptyLine&&(this._emptyLine=!1,O=!0,E=this._lastObjectID+"_空状态_"+c.StateConst.StateCount+++","+c.StateConst.STATE_VALUE),O)if(E.indexOf("=")>-1){var N=E.split("="),I=N[0].trim();if(2!==N.length||I!==this._lastFsmID)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"状态赋值："+t.getData(y,5)+"，状态名："+I+"，当前状态未定义，请检查！",t.ID)),!1;if(null===this._activeFsmData)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"状态赋值："+t.getData(y,5)+"，当前状态不属于任何对象和模板对象，请检查！",t.ID)),!1;(w=new o.VE_StateData(this._activeFsmData,N[1].trim(),!1)).rowIndex=y,this._activeFsmData.addState(w),this._activeStateData=w}else{var D;if(2!==(D=u.VE_StringFormat.paraSegment(E)).length)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"状态："+t.getData(y,5)+"，当前状态格式不正确，应为“状态名，状态值”的形式，请检查！",t.ID)),!1;I=D[0].trim();if(!u.VE_StringFormat.isIDLegal(I))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"状态名："+t.getData(y,5)+"，当前状态名不合法，包含非法字符，请检查！",t.ID)),!1;if(D[1]=D[1].trim(),this._lastFsmID=I,this._currentType===i.Object){if(this._activeObject.varData.isCreatedVariable(I))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"对象名："+this._lastObjectID+"，状态名："+I+"，状态名与局部变量名不能相同，当前局部变量已创建，请检查！",t.ID)),!1;if(this._activeObject.dataSource.isCreatedFsm(I))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"对象名："+this._lastObjectID+"，状态名："+I+"，当前状态已创建，请检查！",t.ID)),!1;this._activeObject.dataSource.createFsm(I,t.pos(y,5)),this._activeFsmData=this._activeObject.dataSource.getFsmData(I),this._activeFsmData.initFsm("string",D[1]),(w=new o.VE_StateData(this._activeFsmData,D[1],!0)).rowIndex=y,this._activeFsmData.addState(w),this._activeStateData=w}else{if(this._currentType!==i.Template)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"局部变量："+t.getData(y,5)+"，当前局部变量所属未知，格式错误，请检查！",t.ID)),!1;if(this._activeTemplate.varData.isCreatedVariable(I))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"模板对象名："+this._lastObjectID+"，状态名："+I+"，状态名与局部变量名不能相同，当前局部变量已创建，请检查！",t.ID)),!1;if(this._activeTemplate.dataSource.isCreatedFsm(I))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,5),"模板对象名："+this._lastObjectID+"，状态名："+I+"，当前状态已创建，请检查！",t.ID)),!1;var w;this._activeTemplate.dataSource.createFsm(I,t.pos(y,5)),this._activeFsmData=this._activeTemplate.dataSource.getFsmData(I),this._activeFsmData.initFsm("string",D[1]),(w=new o.VE_StateData(this._activeFsmData,D[1],!0)).rowIndex=y,this._activeFsmData.addState(w),this._activeStateData=w}}if(""!==t.getData(y,2)||""!==t.getData(y,3)){if(null===this._activeFsmData||null===this._activeStateData)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,2),"触发："+t.getData(y,2)+"，当前触发不属于任何对象和模板对象，请检查！",t.ID)),!1;var S=t.getData(y,2);""===t.getData(y,2)&&(S=this._lastObjectID+"_"+this._lastFsmID+"_空触发_"+c.StateConst.TriggerCount++);var x=S.replace(/./g,"");if(!u.VE_StringFormat.isIDLegal(x))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,2),"触发名："+t.getData(y,2)+"，当前触发名不合法，包含非法字符，请检查！",t.ID)),!1;if(""!==t.getData(y,3)){if(this._activeFsmData.dataSource.isCreatedTrigger(S))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,2),"触发："+t.getData(y,2)+"，当前触发已在该对象中定义，请勿重复定义，请检查！",t.ID)),!1;this._activeFsmData.dataSource.addTrigger(S,u.VE_StringFormat.paraSegment(t.getData(y,3)),t.pos(y,2))}var C=new o.VE_StateTriggerData(S);this._activeStateData.addTrigger(C,t.pos(y,2)),""!==t.getData(y,1)&&(C.logicalSwitch=t.getData(y,1)),""!==t.getData(y,4)&&(C.logicalExp=t.getData(y,4))}else{if(""!==t.getData(y,1))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,1),"触发启动条件："+t.getData(y,1)+"，当前无触发，请勿定义触发启动条件，请检查！",t.ID)),!1;if(""!==t.getData(y,4)){if(null===this._activeFsmData||null===this._activeStateData)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,4),"状态逻辑条件："+t.getData(y,4)+"，当前状态逻辑条件不属于任何对象和模板对象，请检查！",t.ID)),!1;if(""!==this._activeStateData.logicalExp)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,4),"状态逻辑条件："+t.getData(y,4)+"，在状态的某个值中，无触发的状态逻辑条件只能填写1个，作为关联状态的逻辑条件，此处为第2个，不符合规则，请检查！",t.ID)),!1;this._activeStateData.logicalExp=t.getData(y,4)}}if(""!==t.getData(y,6)||""!==t.getData(y,7)){if(null===this._activeFsmData||null===this._activeStateData)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,6),"响应："+t.getData(y,6)+"，当前响应不属于任何对象和模板对象，请检查！",t.ID)),!1;if(""!==t.getData(y,7)){var B=t.getData(y,7).toLowerCase();if(B.startsWith("log(")||B.startsWith("log（")||B.startsWith("调试（")||B.startsWith("调试(")){var M=e+"__log__"+c.StateConst.LogCount++,L=new o.VE_StateActionData(M,"true","false");this._activeStateData.addAction(L,t.pos(y,7));var U=t.getData(y,7).substring(4);B.startsWith("调试")&&(U=t.getData(y,7).substring(3)),this._activeFsmData.dataSource.addAction(M,["调试","调试",U.substring(0,U.length-1)],["true","false"],t.pos(y,7)),""!==t.getData(y,6)&&l.VE_ErrorManager.Add(l.VE_Error.warning(t.pos(y,6),"响应名："+t.getData(y,6)+"，该处不应该再有响应定义，但是填写了响应名，请检查！",t.ID))}else if(B.startsWith("error(")||B.startsWith("error（")||B.startsWith("错误（")||B.startsWith("错误(")){M=e+"__log__"+c.StateConst.LogCount++,L=new o.VE_StateActionData(M,"true","false");this._activeStateData.addAction(L,t.pos(y,7));U=t.getData(y,7).substring(6);B.startsWith("错误")&&(U=t.getData(y,7).substring(3)),this._activeFsmData.dataSource.addAction(M,["调试","错误",U.substring(0,U.length-1)],["true","false"],t.pos(y,7)),""!==t.getData(y,6)&&l.VE_ErrorManager.Add(l.VE_Error.warning(t.pos(y,6),"响应名："+t.getData(y,6)+"，该处不应该再有响应定义，但是填写了响应名，请检查！",t.ID))}else if(B.startsWith("warn(")||B.startsWith("warn（")||B.startsWith("警告（")||B.startsWith("警告(")){M=e+"__log__"+c.StateConst.LogCount++,L=new o.VE_StateActionData(M,"true","false");this._activeStateData.addAction(L,t.pos(y,7));U=t.getData(y,7).substring(5);B.startsWith("警告")&&(U=t.getData(y,7).substring(3)),this._activeFsmData.dataSource.addAction(M,["调试","警告",U.substring(0,U.length-1)],["true","false"],t.pos(y,7)),""!==t.getData(y,6)&&l.VE_ErrorManager.Add(l.VE_Error.warning(t.pos(y,6),"响应名："+t.getData(y,6)+"，该处不应该再有响应定义，但是填写了响应名，请检查！",t.ID))}else{if(1===(k=u.VE_StringFormat.paraSegment(t.getData(y,7))).length&&k[0].indexOf("=")>-1){""!==t.getData(y,6)&&l.VE_ErrorManager.Add(l.VE_Error.warning(t.pos(y,6),"响应名："+t.getData(y,6)+"，该处不应该再有响应定义，但是填写了响应名，请检查！",t.ID));var F=t.getData(y,7).indexOf("=");(L=new o.VE_StateActionData("")).setAssignmentAction(t.getData(y,7),t.getData(y,7).substring(0,F).trim(),t.getData(y,7).substring(F+1).trim()),this._activeStateData.addAction(L,t.pos(y,7))}else{var R=void 0;if(2!==(R=""!==t.getData(y,6)?u.VE_StringFormat.paraSegment(t.getData(y,6)):[this._lastObjectID+"_"+this._lastFsmID+"_空响应_"+c.StateConst.ActionCount++,"true","false","false"]).length&&3!==R.length&&4!==R.length)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,6),"响应："+t.getData(y,6)+"，响应格式不正确，应为“响应ID，启动标志（bool），每帧运行标志（bool）”的形式，请检查！",t.ID)),!1;L=void 0;if(L=2===R.length?new o.VE_StateActionData(R[0],R[1]):3===R.length?new o.VE_StateActionData(R[0],R[1],R[2]):new o.VE_StateActionData(R[0],R[1],R[2],R[3]),this._activeStateData.addAction(L,t.pos(y,6)),!u.VE_StringFormat.isIDLegal(R[0]))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,6),"响应名："+t.getData(y,6)+"，当前响应名不合法，包含非法字符，请检查！",t.ID)),!1;if(this._activeFsmData.dataSource.isCreatedAction(R[0]))return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,6),"响应："+t.getData(y,6)+"，当前响应已在该对象中定义，请勿重复定义，请检查！",t.ID)),!1;2==R.length?this._activeFsmData.dataSource.addAction(R[0],u.VE_StringFormat.paraSegment(t.getData(y,7)),[R[1],"false"],t.pos(y,6)):this._activeFsmData.dataSource.addAction(R[0],u.VE_StringFormat.paraSegment(t.getData(y,7)),[R[1],R[2]],t.pos(y,6))}}}else{var k;if(2!==(k=u.VE_StringFormat.paraSegment(t.getData(y,6))).length&&3!==k.length&&4!==k.length)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,6),"响应："+t.getData(y,6)+"，响应格式不正确，应为“响应ID，启动标志（bool），每帧运行标志（bool）”的形式，请检查！",t.ID)),!1;L=void 0;L=2===k.length?new o.VE_StateActionData(k[0],k[1]):3===k.length?new o.VE_StateActionData(k[0],k[1],k[2]):new o.VE_StateActionData(k[0],k[1],k[2],k[3]),this._activeStateData.addAction(L,t.pos(y,6))}}if(""!==t.getData(y,8)){if(null===this._activeFsmData||null===this._activeStateData)return l.VE_ErrorManager.Add(l.VE_Error.error(t.pos(y,8),"关联状态："+t.getData(y,8)+"，当前关联状态不属于任何对象和模板对象，请检查！",t.ID)),!1;this._activeStateData.addAssociatedState(t.getData(y,8),t.pos(y,8))}}return p.CreateInstance.createProject(e)}return l.VE_ErrorManager.Add(l.VE_Error.error("","表格内容不存在，引擎无法启动！","null")),!1},e}();t.LoaderManager=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_FsmData=void 0;var i=function(){function e(e,t){this._fsmType="",this._initialValStr="",this._states=[],this._dataSource=t,this._fsmID=e}return Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fsmID",{get:function(){return this._fsmID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fsmType",{get:function(){return this._fsmType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialValStr",{get:function(){return this._initialValStr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._states.length},enumerable:!1,configurable:!0}),e.prototype.initFsm=function(e,t){this._fsmType=e,this._initialValStr=t},e.prototype.addState=function(e){this._states.push(e)},e.prototype.getStateData=function(e){return this._states[e]},e}();t.VE_FsmData=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dictionary=void 0;var i=function(){function e(){this._keys=[],this._values=[]}return Object.defineProperty(e.prototype,"count",{get:function(){return this.Count()},enumerable:!1,configurable:!0}),e.prototype.Add=function(e,t){return this._keys.push(e),this._values.push(t)},e.prototype.Remove=function(e){var t=this._keys.indexOf(e,0);this._keys.splice(t,1),this._values.splice(t,1)},e.prototype.Count=function(){return this._keys.length},e.prototype.SetValue=function(e,t){var r=this._keys.indexOf(e,0);return-1!=r&&(this._keys[r]=e,this._values[r]=t,!0)},e.prototype.GetValue=function(e){var t=this._keys.indexOf(e,0);return-1!=t?this._values[t]:null},e.prototype.ContainsKey=function(e){for(var t=this._keys,r=0;r<t.length;++r)if(t[r]==e)return!0;return!1},e.prototype.GetKeys=function(){return this._keys},e.prototype.GetValues=function(){return this._values},e}();t.Dictionary=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorInfo=void 0;var i=function(){function e(){this.isRight=!0,this.message=""}return e.prototype.clear=function(){this.isRight=!0,this.message=""},e}();t.ErrorInfo=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomFunctions=t.ATan=t.Tan=t.ACos=t.Cos=t.ASin=t.Sin=t.Round=t.Random=t.Abs=t.Sqrt=t.Lg=t.Ln=t.Pow=void 0;var i=r(14),n=r(4),a=r(0),o=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"pow"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 2},e.prototype.evaluate=function(e){var t=Math.pow(e[0].evaluate(),e[1].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：Pow函数参数错误，参数1类型："+e[0].expType+"，参数1值："+e[0].evaluate()+"，参数2类型："+e[1].expType+"，参数2值："+e[1].evaluate()+"，请检查！"):t},e}();t.Pow=o;var s=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"ln"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.log(e[0].evaluate());return NaN===t||t===1/0?void i.ShowError.showError("表达式编译错误：Ln函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Ln=s;var u=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"lg"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.log10(e[0].evaluate());return NaN===t||t===1/0?void i.ShowError.showError("表达式编译错误：Lg函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Lg=u;var l=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"sqrt"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.sqrt(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：Sqrt函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Sqrt=l;var c=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"abs"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.abs(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：Abs函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Abs=c;var p=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"random"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 2},e.prototype.evaluate=function(e){var t=e[0].evaluate(),r=e[1].evaluate()-e[0].evaluate(),n=Math.random()*r+t;return NaN===n?void i.ShowError.showError("表达式编译错误：Random函数参数错误，参数1类型："+e[0].expType+"，参数1值："+e[0].evaluate()+"，参数2类型："+e[1].expType+"，参数2值："+e[1].evaluate()+"，请检查！"):n},e}();t.Random=p;var h=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"round"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.round(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：Round函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Round=h;var _=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"sin"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.sin(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：Sin函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Sin=_;var f=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"asin"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.asin(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：ASin函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.ASin=f;var y=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"cos"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.cos(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：Cos函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Cos=y;var b=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"acos"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.acos(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：ACos函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.ACos=b;var m=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"tan"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.tan(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：Tan函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.Tan=m;var g=function(){function e(){}return Object.defineProperty(e.prototype,"expType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"atan"},enumerable:!1,configurable:!0}),e.prototype.parameterNumber=function(){return 1},e.prototype.evaluate=function(e){var t=Math.atan(e[0].evaluate());return NaN===t?void i.ShowError.showError("表达式编译错误：ATan函数参数错误，参数类型："+e[0].expType+"，参数值："+e[0].evaluate()+"，请检查！"):t},e}();t.ATan=g;var v=function(){function e(){}return e.hasFunction=function(e){return e=e.toLowerCase(),!!this._functionsDic[e]},e.addFunction=function(e){var t=new e.prototype.constructor,r=t.className.toLowerCase();this._functionsDic[r]?n.VE_ErrorManager.Add(new n.VE_Error("","自定义函数初始化错误，函数ID重复，当前函数ID："+t.className+"，请为当前自定义函数重新分配ID！","",a.Severity.Error)):this._functionsDic[r]=e},e.createFunction=function(e){return new(this._functionsDic[e.trim().toLowerCase()].prototype.constructor)},e.remove=function(e){e=e.toLowerCase(),delete this._functionsDic[e]},e._functionsDic={},e}();t.CustomFunctions=v,v.addFunction(o),v.addFunction(s),v.addFunction(u),v.addFunction(l),v.addFunction(c),v.addFunction(p),v.addFunction(h),v.addFunction(_),v.addFunction(f),v.addFunction(y),v.addFunction(b),v.addFunction(m),v.addFunction(g)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpChar=void 0;var i=function(){function e(e,t,r){this._value="",this._line=0,this._pos=0,this._value=e,this._line=t,this._pos=r}return e.prototype.getValue=function(){return this._value},e.prototype.getLine=function(){return this._line},e.prototype.getPos=function(){return this._pos},e.prototype.isDigit=function(){return/\d/.test(this._value)},e.prototype.isLetterOrCharactor=function(){if(/[！；：，。《》？、“”‘’（）【】￥]/.test(this._value))return!1;var e=/[a-zA-Z]/.test(this._value);return e||(e=escape(this._value).indexOf("%u")>-1),e},e.prototype.isWhiteSpace=function(){return" "===this._value},e.prototype.isNewLine=function(){return"\n"===this._value},e.prototype.isEndOfInput=function(){return"\0"===this._value},e.prototype.is=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++)if(e[r]===this._value&&"\0"!==e[r])return!0;return!1},e.prototype.toString=function(){return this._value},e}();t.ExpChar=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var i=r(13),n=function(){function e(){this.type=i.ExpressionType.STRING,this._source="",this._contents="",this._trigger="",this._line=0,this._pos=0}return e.Create=function(t,r){var i=new e;return i.type=t,i._line=r.getLine(),i._pos=r.getPos(),i},e.CreateAndFill=function(t,r){var i=new e;return i.type=t,i._line=r.getLine(),i._pos=r.getPos(),i._contents=r.getValue(),i._trigger=r.getValue(),i._source=r.toString(),i},e.prototype.addToTrigger=function(e){return this._trigger+=e.getValue(),this._source+=e.getValue(),this},e.prototype.addToSource=function(e){return this._source+=e.getValue(),this},e.prototype.addToContentChar=function(e){return this.addToContent(e.getValue()),this},e.prototype.addToContent=function(e){return this._contents+=e,this._source+=e,this},e.prototype.getTrigger=function(){return this._trigger},e.prototype.getTokenType=function(){return this.type},e.prototype.getContents=function(){return this._contents},e.prototype.getSource=function(){return this._source},e.prototype.getValue=function(){return this._source},e.prototype.getLine=function(){return this._line},e.prototype.getPos=function(){return this._pos},e.prototype.setTokenType=function(e){this.type=e},e.prototype.setTrigger=function(e){this._trigger=e},e.prototype.setContent=function(e){this._contents=e},e.prototype.setSource=function(e){this._source=e},e.prototype.isEnd=function(){return this.type===i.ExpressionType.EOI},e.prototype.is=function(e){return this.type===e},e.prototype.matches=function(e,t){return!!this.is(e)&&(""!==t&&this.getTrigger()===t)},e.prototype.isOperator=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this.is(i.ExpressionType.OPERATOR);for(var r=0;r<e.length;r++)if(this.matches(i.ExpressionType.OPERATOR,e[r]))return!0;return!1},e.prototype.isStartBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&("("===this._trigger||"（"===this._trigger)},e.prototype.isEndBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&(")"===this._trigger||"）"===this._trigger)},e.prototype.isStartSquareBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&("["===this._trigger||"【"===this._trigger)},e.prototype.isEndSquareBracket=function(){return!!this.is(i.ExpressionType.OPERATOR)&&("]"===this._trigger||"】"===this._trigger)},e.prototype.isStartBrace=function(){return!!this.is(i.ExpressionType.OPERATOR)&&"{"===this._trigger},e.prototype.isEndBrace=function(){return!!this.is(i.ExpressionType.OPERATOR)&&"}"===this._trigger},e.prototype.isKeyword=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this.is(i.ExpressionType.KEYWORD);for(var r=0;r<e.length;r++)if(this.matches(i.ExpressionType.KEYWORD,e[r]))return!0;return!1},e.prototype.isIdentifier=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this.is(i.ExpressionType.ID);for(var r=0;r<e.length;r++)if(this.matches(i.ExpressionType.ID,e[r]))return!0;return!1},e.prototype.isSpecialIdentifier=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this.is(i.ExpressionType.SPECIAL_ID);for(var r=0;r<e.length;r++)if(this.matches(i.ExpressionType.SPECIAL_ID,e[r]))return!0;return!1},e.prototype.isSpecialIdentifierWithContent=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this.matches(i.ExpressionType.SPECIAL_ID,e))return!1;if(0===t.length)return!0;for(var n=0;n<t.length;n++)if(this.getContents()===t[n])return!0;return!1},e.prototype.isNumber=function(){return this.is(i.ExpressionType.NUMBER)},e.prototype.isBool=function(){return this.is(i.ExpressionType.BOOL)},e.prototype.isString=function(){return this.is(i.ExpressionType.STRING)},e.prototype.isConstant=function(){return this.isNumber()||this.isBool()||this.isString()},e.prototype.toString=function(){return this.getTokenType().toString()+": "+this.getContents()+" ("+this._line+": "+this._pos+"), Trigger: "+this.getTrigger()},e}();t.Token=n},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=void 0;var a=r(20),o=r(34),s=r(36),u=r(13),l=r(19),c=function(e){function t(t){var r=e.call(this)||this;return r._decimalSeparator=".",r._lineComment="//",r._blockCommentStart="/*",r._blockCommentEnd="*/",r._brackets=["(",")","（","）","[","]","{","}","【","】"],r._treatSinglePipeAsBracket=!0,r._specialIdStarters=[],r._specialIdTerminators=[],r._keywords={},r._keywordsCaseSensitive=!1,r._stringDelimiters={},r._boolConstant=[],r._inputExp=new s.TokenReader(t),r._stringDelimiters={},r._stringDelimiters['"']="\\",r._stringDelimiters["'"]="\0",r._boolConstant=[],r._boolConstant.push("false"),r._boolConstant.push("true"),r._keywords={},r._keywords.this="this",r._keywords.null="null",r._keywords.none="none",r._keywords[void 0]="undefined",r}return n(t,e),t.prototype.endOfInput=function(){return o.Token.CreateAndFill(u.ExpressionType.EOI,this._inputExp.current())},t.prototype.fetch=function(){for(;this._inputExp.current().isWhiteSpace();)this._inputExp.consume();if(!this._inputExp.current().isEndOfInput())return this.isAtStartOfLineComment(!0)?(this.skipToEndOfLine(),this.fetch()):this.isAtStartOfBlockComment(!0)?(this.skipBlockComment(),this.fetch()):this.isAtStartOfNumber()?this.fetchNumber():this.isAtStartOfIdentifier()?this.fetchId():this._stringDelimiters[this._inputExp.current().getValue()]?this.fetchString():this.isAtBracket(!1)?o.Token.CreateAndFill(u.ExpressionType.OPERATOR,this._inputExp.consume()):this.isAtStartOfSpecialId()?this.fetchSpecialId():this.isOperator(this._inputExp.current())?this.fetchOperator():(this.problemCollector.push(l.ParseError.Error(this._inputExp.current(),"无效的输入字符: "+this._inputExp.current().getValue())),this._inputExp.consume(),this.fetch())},t.prototype.fetchNumber=function(){var e=o.Token.Create(u.ExpressionType.NUMBER,this._inputExp.current());e.addToContentChar(this._inputExp.consume());for(var t=!1;this._inputExp.current().isDigit()||this._inputExp.current().is(this._decimalSeparator);)this._inputExp.current().is(this._decimalSeparator)?(t&&this.problemCollector.push(l.ParseError.Error(this._inputExp.current(),"公式中有多个小数点！")),t=!0,e.addToContentChar(this._inputExp.consume())):e.addToContentChar(this._inputExp.consume());return e},t.prototype.fetchId=function(){var e=o.Token.Create(u.ExpressionType.ID,this._inputExp.current());for(e.addToContentChar(this._inputExp.consume());this.isIdentifierChar(this._inputExp.current());)e.addToContentChar(this._inputExp.consume());if(!this._inputExp.current().isEndOfInput()&&this._specialIdTerminators.indexOf(this._inputExp.current().getValue())>-1){var t=o.Token.Create(u.ExpressionType.SPECIAL_ID,e);return t.setTrigger(this._inputExp.current().getValue()),t.setContent(e.getContents()),t.setSource(e.getContents()),t.addToSource(this._inputExp.current()),this._inputExp.consume(),this.handleKeywords(t)}return this.handleKeywords(e)},t.prototype.fetchString=function(){var e=this._inputExp.current().getValue(),t=o.Token.Create(u.ExpressionType.STRING,this._inputExp.current());for(t.addToTrigger(this._inputExp.consume());!this._inputExp.current().isNewLine()&&!this._inputExp.current().is(e)&&!this._inputExp.current().isEndOfInput();)t.addToContentChar(this._inputExp.consume());return this._inputExp.current().is(e)?t.addToSource(this._inputExp.consume()):this.problemCollector.push(l.ParseError.Error(this._inputExp.current(),"常量字符串没有结束分隔符！")),t},t.prototype.isAtStartOfLineComment=function(e){return""!==this._lineComment&&this.canConsumeThisString(this._lineComment,e)},t.prototype.canConsumeThisString=function(e,t){for(var r=0;r<e.length;r++)if(!this._inputExp.nextOffset(r).is(e[r]))return!1;return t&&this._inputExp.consumeNext(e.length),!0},t.prototype.skipToEndOfLine=function(){for(;!this._inputExp.current().isEndOfInput()&&!this._inputExp.current().isNewLine();)this._inputExp.consume()},t.prototype.isAtStartOfBlockComment=function(e){return this.canConsumeThisString(this._blockCommentStart,e)},t.prototype.skipBlockComment=function(){for(;!this._inputExp.current().isEndOfInput();){if(this.isAtEndOfBlockComment())return;this._inputExp.consume()}this.problemCollector.push(l.ParseError.Error(this._inputExp.current(),"块注释没有结束符！"))},t.prototype.isAtEndOfBlockComment=function(){return this.canConsumeThisString(this._blockCommentEnd,!0)},t.prototype.isAtStartOfNumber=function(){return!!this._inputExp.current().isDigit()||!(!this._inputExp.current().is(".")||!this._inputExp.next().isDigit())},t.prototype.isAtStartOfIdentifier=function(){return this._inputExp.current().isLetterOrCharactor()||this._inputExp.current().is("_")||this._inputExp.current().is("#")},t.prototype.isIdentifierChar=function(e){return e.isDigit()||e.isLetterOrCharactor()||e.is("_")||e.is(".")||e.is("#")||e.is(":")||e.is("：")},t.prototype.isAtBracket=function(e){for(var t=!0,r=0;r<this._brackets.length;r++)this._inputExp.current().is(this._brackets[r])||(t=!1);return!!t||!(e||!this._treatSinglePipeAsBracket||!this._inputExp.current().is("|")||!this._inputExp.next().is("|"))},t.prototype.isAtStartOfSpecialId=function(){return this._specialIdStarters.indexOf(this._inputExp.current().getValue())>-1},t.prototype.fetchSpecialId=function(){var e=o.Token.Create(u.ExpressionType.SPECIAL_ID,this._inputExp.current());for(e.addToTrigger(this._inputExp.consume());this.isIdentifierChar(this._inputExp.current());)e.addToContentChar(this._inputExp.consume());return this.handleKeywords(e)},t.prototype.handleKeywords=function(e){var t="";if(this._keywordsCaseSensitive?this._keywords[e.getContents()]&&(t=this._keywords[e.getContents()]):this._keywords[e.getContents().toLowerCase()]&&(t=this._keywords[e.getContents().toLowerCase()]),""!=t){var r=o.Token.Create(u.ExpressionType.KEYWORD,e);return r.setTrigger(t),r.setContent(e.getContents()),r.setSource(e.getSource()),r}return e.is(u.ExpressionType.SPECIAL_ID)||(t=e.getContents().toLowerCase(),this._boolConstant.indexOf(t)>-1&&e.setTokenType(u.ExpressionType.BOOL)),e},t.prototype.isOperator=function(e){return!(e.isEndOfInput()||e.isDigit()||e.isLetterOrCharactor()||e.isWhiteSpace())&&!(this.isAtBracket(!0)||this.isAtStartOfBlockComment(!1)||this.isAtStartOfLineComment(!1)||this.isAtStartOfNumber()||this.isAtStartOfIdentifier()||this._stringDelimiters[e.getValue()])},t.prototype.fetchOperator=function(){var e=o.Token.Create(u.ExpressionType.OPERATOR,this._inputExp.current());return e.addToTrigger(this._inputExp.consume()),(e.isOperator("*")&&this._inputExp.current().is("*")||e.isOperator("&")&&this._inputExp.current().is("&")||e.isOperator("|")&&this._inputExp.current().is("|")||e.isOperator("<")&&this._inputExp.current().is("=")||e.isOperator(">")&&this._inputExp.current().is("=")||(e.isOperator("!")||e.isOperator("！"))&&this._inputExp.current().is("=")||e.isOperator("=")&&this._inputExp.current().is("="))&&e.addToTrigger(this._inputExp.consume()),e},t.prototype.addError=function(e,t){this.getProblemCollector().push(l.ParseError.Error(e,t))},t.prototype.addWarning=function(e,t){this.getProblemCollector().push(l.ParseError.Warning(e,t))},t}(a.ForwardQuery);t.Tokenizer=c},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.TokenReader=void 0;var a=r(20),o=r(33),s=function(e){function t(t){var r=e.call(this)||this;return r._inputExp="",r._line=1,r._pos=0,r._count=0,r._operator=0,r._inputExp=t,r._count=t.length,r._operator=0,r}return n(t,e),t.prototype.endOfInput=function(){return new o.ExpChar("\0",this._line,this._pos)},t.prototype.fetch=function(){if(this._operator<=this._count-1){var e=this._inputExp[this._operator];return this._operator++,"\n"===e&&(this._line++,this._pos=0),this._pos++,new o.ExpChar(e,this._line,this._pos)}},t.prototype.toString=function(){return 0===this.itemBuffer.length?this._line+":"+this._pos+": Buffer empty":this.itemBuffer.length<2?this._line+":"+this._pos+": "+this.current().toString():this._line+":"+this._pos+": "+this.current().toString()+", "+this.next().toString()},t}(a.ForwardQuery);t.TokenReader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;var i=function(){function e(e,t,r){this._expType="string",this._value=null,this._name="",this._constant=!1,this._name=e,this._expType=t,this._value=r}return Object.defineProperty(e.prototype,"expType",{get:function(){return this._expType},enumerable:!1,configurable:!0}),e.prototype.setType=function(e){this._constant||(this._expType=e)},e.prototype.setValue=function(e){this._constant||(this._value=e)},e.prototype.makeConstant=function(e){this.setValue(e),this._constant=!0},e.prototype.getValue=function(){return this._value},e.prototype.getName=function(){return this._name},e.prototype.isConstant=function(){return this._constant},e.prototype.toString=function(){return"Type: "+this._expType+" --- "+this._name+": "+this._value.toString()},e}();t.Variable=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableExpression=void 0;var i=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"expType",{get:function(){return this._value.expType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VariableExpression"},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(){return this._value.getValue()},e.prototype.toString=function(){return this._value.getName()},e.prototype.clone=function(){return new e(this._value)},e}();t.VariableExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionExpression=void 0;var i=function(){function e(){this._paras=[]}return Object.defineProperty(e.prototype,"expType",{get:function(){return this._function.expType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._function.className},enumerable:!1,configurable:!0}),e.prototype.setFunction=function(e){this._function=e},e.prototype.addPara=function(e){this._paras.push(e)},e.prototype.paraCount=function(){return this._paras.length},e.prototype.evaluate=function(){var e=null;try{e=this._function.evaluate(this._paras)}catch(e){return console.error("自定义函数编译错误，错误信息："+e),null}return e},e.prototype.clone=function(){var t=new e;t._function=this._function;for(var r=0;r<this._paras.length;r++)t._paras.push(this._paras[r].clone());return t},e.prototype.toString=function(){for(var e=this._function.className+"(",t=0;t<this._paras.length;t++)e+=t>0?","+this._paras[t].toString():this._paras[t].toString();return e+")"},e}();t.FunctionExpression=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Expressions=void 0;var i=r(21),n=r(18),a=r(22),o=r(0),s=r(10),u=r(6),l=r(7),c=function(){function e(){}return e.createSceneExpression=function(t,r,i){var n=a.VE_ExpressionParsing.parsing(t,r,e._scope,"","","",o.VariableScope.Scene);return a.VE_ExpressionParsing.errors.length>0&&(i.isRight=!1,i.message=e.errorMessage(a.VE_ExpressionParsing.errors)),n},e.createGlobalExpression=function(t,r,i,n){var s=a.VE_ExpressionParsing.parsing(t,r,e._scope,i,"","",o.VariableScope.Global);return a.VE_ExpressionParsing.errors.length>0&&(n.isRight=!1,n.message=e.errorMessage(a.VE_ExpressionParsing.errors)),s},e.createLocalExpression=function(t,r,i,n,s){var u=a.VE_ExpressionParsing.parsing(t,r,e._scope,i,n,"",o.VariableScope.Local);return a.VE_ExpressionParsing.errors.length>0&&(s.isRight=!1,s.message=e.errorMessage(a.VE_ExpressionParsing.errors)),u},e.createFsmExpression=function(t,r,i,n,s,u){var l=a.VE_ExpressionParsing.parsing(t,r,e._scope,i,n,s,o.VariableScope.Fsm);return a.VE_ExpressionParsing.errors.length>0&&(u.isRight=!1,u.message=e.errorMessage(a.VE_ExpressionParsing.errors)),l},e.getParseExpression=function(e,t,r,i){if(r.indexOf(l.StateConst.STATE_SEPARATOR)>-1){var a=r.split(l.StateConst.STATE_SEPARATOR);if(2!==a.length)return null;if(t=a[0].trim(),r=a[1].trim().substring(1),i===o.VariableScope.Local||i===o.VariableScope.Fsm){if(c=u.VE_Manager.objects(e)){if(p=c.getVeryObject(t)){if(p.isCreatedVariable(r)){var s=p.getVariable(r);return new n.VeryVarExpression(s)}if(p.isCreatedExpression(r))return p.getExpression(r);if(p.isCreatedFsm(r)){s=p.getFsm(r).fsmVar;return new n.VeryVarExpression(s)}return null}return null}return null}return null}if(r.startsWith(l.StateConst.VARIABLE_SYMBOL)){if(r=r.substring(1),i===o.VariableScope.Local||i===o.VariableScope.Fsm){var c;if(c=u.VE_Manager.objects(e)){var p;if(p=c.getVeryObject(t)){if(p.isCreatedVariable(r)){s=p.getVariable(r);return new n.VeryVarExpression(s)}if(p.isCreatedExpression(r))return p.getExpression(r);if(p.isCreatedFsm(r)){s=p.getFsm(r).fsmVar;return new n.VeryVarExpression(s)}return this.getParseGlobal(e,r)}return null}return null}return i===o.VariableScope.Global?this.getParseGlobal(e,r):this.getParseScene(r)}return null},e.getParseGlobal=function(e,t){var r=u.VE_Manager.variables(e);if(r){if(r.isCreatedVariable(t)){var i=r.getVariable(t);return new n.VeryVarExpression(i)}return r.isCreatedExpression(t)?r.getExpression(t):this.getParseScene(t)}return null},e.getParseScene=function(e){if(s.VerySceneVariables.Variables.isCreated(e)){var t=s.VerySceneVariables.Variables.getVariable(e);return new n.VeryVarExpression(t)}return s.VerySceneVariables.Variables.isCreatedExpression(e)?s.VerySceneVariables.Variables.getExpression(e):null},e.errorMessage=function(e){for(var t="",r=0;r<e.length;r++)t+="\n("+(r+1)+") "+e[r].getMessage()+" ;";return t+="\n"},e.getTemplateExpression=function(e,t,r,i){if(r.indexOf(l.StateConst.STATE_SEPARATOR)>-1){var a=r.split(l.StateConst.STATE_SEPARATOR);if(2!==a.length)return null;if(t=a[0].trim(),r=a[1].trim().substring(1),i===o.VariableScope.Local||i===o.VariableScope.Fsm){if(c=u.VE_Manager.objects(e)){if(p=c.getVeryObject(t)){if(p.isCreatedTemplate(r)){var s=p.getTemplate(r);return(_=new n.VeryTemplateExpression).setTemplate(s),_}return null}return null}return null}return null}if(r.startsWith(l.StateConst.VARIABLE_SYMBOL)){if(r=r.substring(1),i===o.VariableScope.Local||i===o.VariableScope.Fsm){var c;if(c=u.VE_Manager.objects(e)){var p;if(p=c.getVeryObject(t)){if(p.isCreatedTemplate(r)){s=p.getTemplate(r);return(_=new n.VeryTemplateExpression).setTemplate(s),_}if(h=u.VE_Manager.variables(e)){if(h.isCreatedTemplate(r)){s=h.getTemplate(r);return(_=new n.VeryTemplateExpression).setTemplate(s),_}return null}return null}return null}return null}if(i===o.VariableScope.Global){var h;if(h=u.VE_Manager.variables(e)){if(h.isCreatedTemplate(r)){var _;s=h.getTemplate(r);return(_=new n.VeryTemplateExpression).setTemplate(s),_}return null}return null}return null}return null},e._scope=i.Scope.Create(),e}();t.VE_Expressions=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Projects=void 0;var i=function(){function e(){this._objects={},this._variables={},this._templates={},this.projects=[]}return e.prototype.addProject=function(e){-1===this.projects.indexOf(e)&&this.projects.push(e)},e.prototype.isCreatedObjects=function(e){return!!this._objects[e]},e.prototype.addObjects=function(e,t){this._objects[e]=t},e.prototype.getObjects=function(e){return this._objects[e]},e.prototype.isCreatedVariables=function(e){return!!this._variables[e]},e.prototype.addVariables=function(e,t){this._variables[e]=t},e.prototype.getVariables=function(e){return this._variables[e]},e.prototype.isCreatedTemplates=function(e){return!!this._templates[e]},e.prototype.addTemplates=function(e,t){this._templates[e]=t},e.prototype.getTemplates=function(e){return this._templates[e]},e.prototype.isCreatedGlobals=function(e){return!!this._variables[e]},e.prototype.getGlobalVars=function(e){return this._variables[e].varData},e.prototype.clear=function(){for(var e=0;e<this.projects.length;e++)this.disposeProject(this.projects[e]);this.projects=[]},e.prototype.clearProject=function(e){this.disposeProject(e);var t=this.projects.indexOf(e);t>-1&&this.projects.splice(t,1)},e.prototype.disposeProject=function(e){this._objects[e]&&this._objects[e].clear(),delete this._objects[e],this._templates[e]&&this._templates[e].clear(),delete this._templates[e],this._variables[e]&&this._variables[e].clear(),delete this._variables[e]},e.prototype.sleep=function(){},e.prototype.dispose=function(){this.clear()},e}();t.VE_Projects=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Manager=void 0;var i=r(41),n=r(15),a=r(11),o=r(1),s=r(7),u=function(){function e(){}return Object.defineProperty(e,"projects",{get:function(){return null===this._projects&&(this._projects=new i.VE_Projects),this._projects},enumerable:!1,configurable:!0}),e.createProject=function(t){e.projects.addProject(t),e.projects.isCreatedObjects(t)||e.projects.addObjects(t,new n.VE_Objects(t)),e.projects.isCreatedTemplates(t)||e.projects.addTemplates(t,new a.VE_Templates(t)),e.projects.isCreatedVariables(t)||e.projects.addVariables(t,new o.VE_Variables(t))},e.globalVarData=function(t){return e.projects.isCreatedGlobals(t)||e.projects.addVariables(t,new o.VE_Variables(t)),e.projects.getGlobalVars(t)},e.templates=function(t){return e.projects.isCreatedTemplates(t)||e.projects.addTemplates(t,new a.VE_Templates(t)),e.projects.getTemplates(t)},e.variables=function(t){return e.projects.isCreatedVariables(t)||e.projects.addVariables(t,new o.VE_Variables(t)),e.projects.getVariables(t)},e.objects=function(t){return e.projects.isCreatedObjects(t)||e.projects.addObjects(t,new n.VE_Objects(t)),e.projects.getObjects(t)},e.clear=function(){e.projects.clear(),this._projects=null},e.clearProject=function(t){e.projects.clearProject(t)},e.dispose=function(){e.projects&&(e.clear(),s.StateConst.LogCount=0,s.StateConst.AssignmentFormulaCount=0,s.StateConst.TriggerCount=0,s.StateConst.ActionCount=0,s.StateConst.StateCount=0)},e._projects=null,e}();t.VE_Manager=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=t.GameObject=void 0;var i=r(23),n=function(){function e(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null),this._transform=t?new a("",t):r?new a("",null,r):e?new a(e):new a}return Object.defineProperty(e.prototype,"gameObject",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform},set:function(e){this._transform=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.transform.name},set:function(e){this.transform.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._transform.isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mesh",{get:function(){return this._transform.mesh},enumerable:!1,configurable:!0}),e.Find=function(t,r){r||(r=i.BabylonEngine.Scene);var n=r.getNodeByName(t);return n?n instanceof BABYLON.AbstractMesh?new e("",n):n instanceof BABYLON.TransformNode?new e("",null,n):(console.error("GameObject.Find函数查找到不支持的类型："+n.getClassName()),null):null},e.Destroy=function(e){e&&e.transform.destroy()},e.CreateInstance=function(t){if(!t)return null;if(t.isEmpty)return new e;if(t.transform.mesh){return new e("",t.transform.mesh instanceof BABYLON.Mesh?t.transform.mesh.createInstance(t.name+"_instance"):t.transform.mesh.sourceMesh.createInstance(t.name+"_instance"))}return new e("",null,t.transform.transformNode.clone(t.name+"_intance"))},e}();t.GameObject=n;var a=function(){function e(t,r,i){if(void 0===r&&(r=null),void 0===i&&(i=null),this._transformNode=null,this._mesh=null,this._name="",this._tempVec=BABYLON.Vector3.Zero(),this._parent=null,this.forward=BABYLON.Vector3.Forward(),this.localScale=new BABYLON.Vector3(1,1,1),r?(this._mesh=r,this._transformNode=r,this._name=r.name):i?(this._mesh=null,this._transformNode=i,this._name=i.name):t?(this._mesh=null,this._transformNode=new BABYLON.TransformNode(t),this._name=t):(this._mesh=null,this._transformNode=null,this._name=""),this._transformNode){var n=this._transformNode.parent;n&&(n instanceof BABYLON.AbstractMesh?this._parent=new e(n.name,n):this._parent=new e(n.name,null,n))}else this._parent=null}return Object.defineProperty(e.prototype,"transformNode",{get:function(){return this._mesh?this._mesh:this._transformNode?this._transformNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mesh",{get:function(){return this._mesh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMesh",{get:function(){return!!this._mesh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this._transformNode&&!this._mesh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._transformNode&&(this._transformNode.name=e),this._mesh&&(this._mesh.name=e),this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this.isEmpty||(e&&!e.isEmpty?(this._transformNode.setParent(e.transformNode),this._parent=e):(this._transformNode.setParent(null),this._parent=null))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localPosition",{get:function(){return this.isEmpty?BABYLON.Vector3.Zero():(this._tempVec.copyFrom(this.transformNode.position),this._tempVec)},set:function(e){this.isEmpty||(this.transformNode.position=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.isEmpty?BABYLON.Vector3.Zero():(this._tempVec.copyFrom(this.transformNode.getAbsolutePosition()),this._tempVec)},set:function(e){this.isEmpty||this.transformNode.setAbsolutePosition(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localEulerAngles",{get:function(){if(this.isEmpty)return BABYLON.Vector3.Zero();var e=180/Math.PI;return this.transformNode.rotation.multiplyByFloats(e,e,e)},set:function(e){if(!this.isEmpty){var t=Math.PI/180;this.transformNode.rotation=e.multiplyByFloats(t,t,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localRotation",{get:function(){return this.isEmpty?BABYLON.Vector3.Zero():(this._tempVec.copyFrom(this.transformNode.rotation),this._tempVec)},set:function(e){this.isEmpty||(this.transformNode.rotation=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eulerAngles",{get:function(){if(this.isEmpty)return BABYLON.Vector3.Zero();var e=this.transformNode.parent,t=180/Math.PI;this.transformNode.setParent(null);var r=this.transformNode.rotation.multiplyByFloats(t,t,t);return this.transformNode.setParent(e),r},set:function(e){if(!this.isEmpty){var t=this.transformNode.parent,r=Math.PI/180;this.transformNode.setParent(null),this.transformNode.rotation=e.multiplyByFloats(r,r,r),this.transformNode.setParent(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){if(this.isEmpty)return BABYLON.Vector3.Zero();var e=this.transformNode.parent;return this.transformNode.setParent(null),this._tempVec.copyFrom(this.transformNode.rotation),this.transformNode.setParent(e),this._tempVec},set:function(e){if(!this.isEmpty){var t=this.transformNode.parent;this.transformNode.setParent(null),this.transformNode.rotation=e,this.transformNode.setParent(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childCount",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hierarchyCount",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.translate=function(e,t){this.transformNode&&this.transformNode.translate(e,1,t)},e.prototype.translateRelativeTo=function(e,t){if(this.transformNode){var r=e.clone();t&&t.transformNode&&(r=this.transformDirection(r)),this.transformNode.translate(r,1,BABYLON.Space.WORLD)}},e.prototype.rotate=function(e,t){if(this.transformNode){var r=BABYLON.Vector3.Zero().copyFrom(e.normalize()),i=e.length();this.transformNode.rotate(r,i,t)}},e.prototype.rotateAround=function(e,t,r){this.transformNode&&this.transformNode.rotateAround(e,t,r)},e.prototype.transformPosition=function(e){if(this.transformNode){var t=this.transformNode.computeWorldMatrix();return BABYLON.Vector3.TransformCoordinates(e,t)}return e},e.prototype.transformDirection=function(e){if(this.transformNode){var t=this.transformNode.computeWorldMatrix();return BABYLON.Vector3.TransformCoordinates(e,t).subtract(this.transformNode.getAbsolutePosition())}return e},e.prototype.inverseTransformPosition=function(e){if(this.transformNode){var t=BABYLON.Matrix.Invert(this.transformNode.computeWorldMatrix());return BABYLON.Vector3.TransformCoordinates(e,t)}return e},e.prototype.inverseTransformDirection=function(e){if(this.transformNode){var t=BABYLON.Matrix.Invert(this.transformNode.computeWorldMatrix()),r=BABYLON.Vector3.TransformCoordinates(e,t),i=BABYLON.Vector3.TransformCoordinates(BABYLON.Vector3.Zero(),t);return r.subtract(i)}return e},e.prototype.destroy=function(){this.mesh&&this.mesh.dispose(),this.transformNode&&this.transformNode.dispose()},e}();t.Transform=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_StateAction=void 0;var i=r(0),n=r(1),a=function(){function e(){this._type=i.StateActionType.Action,this._action=null,this._assignment=null,this._enabled=new n.VeryBool,this._everyFrame=new n.VeryBool}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"action",{get:function(){return this._action},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"everyFrame",{get:function(){return this._everyFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assignment",{get:function(){return this._assignment},enumerable:!1,configurable:!0}),e.prototype.setAction=function(e,t,r,a){void 0===t&&(t=new n.VeryBool),void 0===r&&(r=new n.VeryBool),void 0===a&&(a=!1),this._action=e,this._enabled=t,this._everyFrame=r,this._action.isSequence=a,this._type=i.StateActionType.Action},e.prototype.setAssignment=function(e){this._assignment=e,this._type=i.StateActionType.Assignment},e}();t.VE_StateAction=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_SequenceActions=void 0;var i=r(0),n=r(5),a=function(){function e(){this._sequenceState=i.SequenceActionState.Initial,this._activeActionIndex=-1,this._stateActions=[],this._activeActions=[],this._associatedStates=[],this._observer=null}return Object.defineProperty(e.prototype,"sequenceState",{get:function(){return this._sequenceState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"StateActions",{get:function(){return this._stateActions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ActiveActions",{get:function(){return this._activeActions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AssociatedStates",{get:function(){return this._associatedStates},enumerable:!1,configurable:!0}),e.prototype.sequenceAction=function(e,t){var r=this;this._activeActions=[],this._stateActions=[],this._associatedStates=[],this._sequenceState=i.SequenceActionState.Running;for(var a=0;a<e.length;a++)e[a].type===i.StateActionType.Action&&e[a].action.type===i.ActionType.Animation&&(e[a].action.SequenceState=i.SequenceActionState.Prepared),this._stateActions.push(e[a]);for(a=0;a<t.length;a++)this._associatedStates.push(t[a]);this.activate(0)&&this.checkActionsFinished(),this._observer=n.BabylonEngine.Scene.onBeforeRenderObservable.add((function(){r.update()}))},e.prototype.activate=function(e){for(var t=e;t<this.StateActions.length;t++)if(this._activeActionIndex=t,this.StateActions[t].type===i.StateActionType.Assignment)this.StateActions[t].assignment.assign();else{var r=this.StateActions[t].action;if(r.type!==i.ActionType.Normal&&r.isSequence)return this.ActiveActions.push(this.StateActions[t]),r.sequenceAction(this,this.StateActions[t].enabled.getValue(),this.StateActions[t].everyFrame.getValue()),!1;r.action(this.StateActions[t].enabled.getValue(),this.StateActions[t].everyFrame.getValue())}return!0},e.prototype.pause=function(){this.ActiveActions.length>0&&(this._sequenceState=i.SequenceActionState.Pause,this.ActiveActions[0].action.pause())},e.prototype.resume=function(){this.ActiveActions.length>0&&(this._sequenceState=i.SequenceActionState.Running,this.ActiveActions[0].action.resume())},e.prototype.stop=function(){this.ActiveActions.length>0&&(this._sequenceState=i.SequenceActionState.Initial,this.ActiveActions[0].action.stop(),this.actionRecover(),this.destroy())},e.prototype.checkActionsFinished=function(){if(0==this.ActiveActions.length&&(++this._activeActionIndex>=this.StateActions.length||this.activate(this._activeActionIndex))&&(this._sequenceState=i.SequenceActionState.Initial,this.actionRecover(),this.AssociatedStates.length>0)){for(var e=0;e<this.AssociatedStates.length;e++)this.AssociatedStates[e].connect();this.destroy()}},e.prototype.actionRecover=function(){for(var e=0;e<this.StateActions.length;e++)this.StateActions[e].type===i.StateActionType.Action&&this.StateActions[e].action.type===i.ActionType.Animation&&(this.StateActions[e].action.SequenceState=i.SequenceActionState.Initial)},e.prototype.finishAction=function(e){if(this.ActiveActions.length>0)for(var t=0;t<this.ActiveActions.length;t++)if(this.ActiveActions[t].type===i.StateActionType.Action&&this.ActiveActions[t].action===e)return void this._activeActions.splice(t,1)},e.prototype.update=function(){this._sequenceState===i.SequenceActionState.Running&&this.checkActionsFinished()},e.prototype.destroy=function(){this._observer&&n.BabylonEngine.Scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},e}();t.VE_SequenceActions=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryVarManager=void 0;var i=r(6),n=r(4),a=r(17),o=r(0),s=function(){function e(){}return e.hasVarType=function(e){return e=e.toLowerCase(),!!this._veryVarFunctions[e]},e.addVarType=function(e){if(!n.GameGlobal.PlatformLoaded)for(var t=new e.prototype.constructor,r=t.ID.split("|"),i=0;i<r.length;i++){var a=r[i].trim().toLowerCase();this._veryVarFunctions[a]?n.VE_ErrorManager.Add(new n.VE_Error("","变量类型重复，当前变量类型："+a+"，重复变量："+t.className+"，请为当前变量重新分配变量类型！","",o.Severity.Error)):this._veryVarFunctions[a]=e}},e.createVariable=function(e,t,r,i){if(t=t.toLowerCase(),!this._veryVarFunctions[t])return i.isRight=!1,i.message="变量创建错误：当前变量类型在平台中不存在，请检查！变量类型："+t,null;var n;try{if(!(n=new this._veryVarFunctions[t].prototype.constructor))return i.isRight=!1,i.message="变量创建错误：当前类型在平台中不存在，请检查！类型名："+t,null;var a=n.initValue(r,i);return i.isRight?(n.setValue(a),n.name=e,n):null}catch(e){return console.log("变量创建错误："+e.message),i.isRight=!1,i.message="变量创建错误：当前类型在平台中不存在，请检查！类型名："+t+"，错误原因："+e.message,null}},e.getVarType=function(e){return e=e.toLowerCase(),this._veryVarFunctions&&this._veryVarFunctions[e]?this._veryVarFunctions[e]:null},e.remove=function(e){e=e.toLowerCase(),delete this._veryVarFunctions[e]},e.getVariable=function(e,t,r,n){if(""===t)return this.getSceneVariable(e,n);if(""===r)return this.getGlobalVariable(e,t,n);var o=i.VE_Manager.objects(t);if(o){var s=o.getVeryObject(r);return s?s.isCreatedVariable(e)?s.getVariable(e):s.isCreatedExpression(e)?new a.VeryExpression(s.getExpression(e)):s.isCreatedFsm(e)?s.getFsm(e).fsmVar:this.getGlobalVariable(e,t,n):this.getGlobalVariable(e,t,n)}return this.getGlobalVariable(e,t,n)},e.getTemplateVariable=function(e,t,r,n,o){if(""===r)return o.isRight=!1,o.message="无法在当前项目中查找到当前模板变量："+e+"；\n",null;if(""!==n){var s=i.VE_Manager.objects(r);if(s){if(s.isCreated(n)){var u=s.getVeryObject(n);return u.isCreatedTemplate(e)?null===(l=u.getTemplate(e)).templateInstance?(o.isRight=!1,o.message+="当前模板变量未实例化，请先实例化该模板对象，模板变量名："+e+"；\n",null):l.templateInstance.isCreatedVariable(t)?l.templateInstance.getVariable(t):l.templateInstance.isCreatedExpression(t)?new a.VeryExpression(l.templateInstance.getExpression(t)):l.templateInstance.isCreatedFsm(t)?l.templateInstance.getFsm(t).fsmVar:(o.isRight=!1,o.message+="当前模板变量中无法查找到该变量，模板变量名："+e+"，变量名："+t+"；\n",null):(o.isRight=!1,o.message+="无法在当前项目中查找到当前模板变量："+e+"；\n",null)}return o.isRight=!1,o.message+="无法在当前项目中查找到当前对象："+n+"；\n",null}return o.isRight=!1,o.message+="无法在当前项目中查找到当前对象："+n+"；\n",null}var l,c=i.VE_Manager.variables(r);return c&&c.isCreatedTemplate(e)?null===(l=c.getTemplate(e)).templateInstance?(o.isRight=!1,o.message+="当前模板变量未实例化，请先实例化该模板对象，模板变量名："+e+"；\n",null):l.templateInstance.isCreatedVariable(t)?l.templateInstance.getVariable(t):l.templateInstance.isCreatedExpression(t)?new a.VeryExpression(l.templateInstance.getExpression(t)):l.templateInstance.isCreatedFsm(t)?l.templateInstance.getFsm(t).fsmVar:(o.isRight=!1,o.message+="当前模板变量中无法查找到该变量，模板变量名："+e+"，变量名："+t+"；\n",null):(o.isRight=!1,o.message+="无法在当前项目中查找到当前模板变量："+e+"；\n",null)},e.getGlobalVariable=function(e,t,r){if(""===t)return this.getSceneVariable(e,r);var n=i.VE_Manager.variables(t);return n?n.isCreatedVariable(e)?n.getVariable(e):n.isCreatedExpression(e)?new a.VeryExpression(n.getExpression(e)):this.getSceneVariable(e,r):this.getSceneVariable(e,r)},e.getSceneVariable=function(e,t){return t.isRight=!1,t.message="暂时不支持场景变量！",null},e.dispose=function(){e._veryVarFunctions={}},e._veryVarFunctions={},e}();t.VeryVarManager=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_TypeConvert=void 0;var i=function(){function e(){}return e.boolConvert=function(e,t){return"true"===(e=e.toLowerCase().trim())||"开"===e||("false"===e||"关"===e||(t.isRight=!1,t.message="bool|开关类型转换错误，格式不正确，原始字符串："+e),!1)},e.intConvert=function(e,t){e=e.toLowerCase().trim();var r=parseFloat(e);return isNaN(r)?(t.isRight=!1,t.message="number|数字类型转化错误，格式不正确，原始字符串："+e,-1):Math.round(r)},e.floatConvert=function(e,t){e=e.toLowerCase().trim();var r=parseFloat(e);return isNaN(r)?(t.isRight=!1,t.message="number|数字类型转化错误，格式不正确，原始字符串："+e,-1):r},e}();t.VE_TypeConvert=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateInstance=void 0;var i=r(6),n=r(1),a=r(2),o=r(4),s=r(12),u=r(7),l=r(8),c=r(3),p=r(0),h=r(24),_=r(10),f=function(){function e(){}return e.createProject=function(e){for(var t=i.VE_Manager.templates(e),r=i.VE_Manager.objects(e),h=i.VE_Manager.variables(e),_=0;_<h.varData.count;_++){var f=h.varData.getVariableID(_);if("公式"!==(A=h.varData.getVariableParas(f))[0]&&"expression"!==A[0].toLowerCase())if(n.VeryVarManager.hasVarType(A[0])){var y=new a.ErrorInfo,b=n.VeryVarManager.createVariable(f,A[0],A[1],y);if(!y.isRight||null===b)return o.VE_ErrorManager.Add(o.VE_Error.error(h.varData.getPos(f),"项目："+e+"，全局变量："+f+"，"+A[0]+"，"+A[1]+"，全局变量创建失败，失败原因："+y.message+"，请检查！","")),!1;h.addVariable(f,b)}else{if(!t.isCreatedTemplate(A[0]))return o.VE_ErrorManager.Add(o.VE_Error.error(h.varData.getPos(f),"项目："+e+"，全局变量："+f+"，"+A[0]+"，"+A[1]+"，全局变量创建失败，当前变量不存在，请检查！","")),!1;h.addTemplate(f,t.getTemplate(A[0]).clone("__global__",f))}}for(_=0;_<h.varData.count;_++){f=h.varData.getVariableID(_);if("公式"===(A=h.varData.getVariableParas(f))[0]||"expression"===A[0].toLowerCase()){y=new a.ErrorInfo;var m=s.VE_Expressions.createGlobalExpression(f,A[1],e,y);if(!y.isRight||null===m)return o.VE_ErrorManager.Add(o.VE_Error.error(h.varData.getPos(f),"项目："+e+"，全局变量："+f+","+A[0]+","+A[1]+"，全局变量创建失败，公式创建错误：\n"+y.message,"")),!1;h.addExpression(f,m)}}for(_=0;_<r.count;_++)for(var g=r.getObjectID(_),v=r.getVeryObject(g),d=0;d<v.varData.count;d++){f=v.varData.getVariableID(d);if("公式"!==(A=v.varData.getVariableParas(f))[0]&&"expression"!==A[0].toLowerCase().trim())if(n.VeryVarManager.hasVarType(A[0])){y=new a.ErrorInfo;if(null===(b=n.VeryVarManager.createVariable(f,A[0],A[1],y))||!y.isRight)return o.VE_ErrorManager.Add(o.VE_Error.error(v.varData.getPos(f),"项目："+e+"，全局变量："+f+"，"+A[0]+"，"+A[1]+"，全局变量创建失败，失败原因："+y.message+"，请检查！","")),!1;v.addVariable(f,b)}else{if(!t.isCreatedTemplate(A[0]))return o.VE_ErrorManager.Add(o.VE_Error.error(v.varData.getPos(f),"项目："+e+"，对象："+g+"，局部变量："+f+","+A[0]+","+A[1]+"，局部变量创建失败，当前变量不存在，请检查！","")),!1;v.addTemplate(f,t.getTemplate(A[0]).clone(g,f))}}for(_=0;_<r.count;_++)for(g=r.getObjectID(_),v=r.getVeryObject(g),d=0;d<v.dataSource.fsmCount;d++){var P=v.dataSource.getFsmID(d),V=v.dataSource.getFsmData(P);(b=new n.VeryString).setValue(V.initialValStr);var E=new u.VE_Fsm(e,g,P,b,v);v.addFsm(P,E)}for(_=0;_<r.count;_++)for(g=r.getObjectID(_),v=r.getVeryObject(g),d=0;d<v.varData.count;d++){var A;f=v.varData.getVariableID(d);if("公式"===(A=v.varData.getVariableParas(f))[0]||"expression"===A[0].toLowerCase().trim()){y=new a.ErrorInfo,b=s.VE_Expressions.createLocalExpression(f,A[1],e,g,y);if(!y.isRight||null===b)return o.VE_ErrorManager.Add(o.VE_Error.error(v.varData.getPos(f),"项目："+e+"，对象："+g+"，局部变量："+f+","+A[0]+","+A[1]+"，局部变量创建失败，公式创建错误：\n"+y.message,"")),!1;v.addExpression(f,b)}}for(_=0;_<r.count;_++)for(g=r.getObjectID(_),v=r.getVeryObject(g),d=0;d<v.dataSource.triggerCount;d++){var T=v.dataSource.getTriggerID(d),j=v.dataSource.getTriggerPara(T);if(!l.VE_Triggers.hasTrigger(j[0]))return o.VE_ErrorManager.Add(o.VE_Error.error(v.dataSource.getTriggerPos(T),"项目："+e+"，对象："+g+"，触发："+T+"，触发类型："+j[0]+"，当前系统中不存在该触发类型，请检查！","")),!1;y=new a.ErrorInfo;var O=l.VE_Triggers.createTrigger(v,T,j[0],j.slice(1),y);if(!y.isRight||null===O)return o.VE_ErrorManager.Add(o.VE_Error.error(v.dataSource.getTriggerPos(T),"项目："+e+"，对象："+g+"，触发："+T+"，触发创建错误，原因："+y.message+"，请检查！","")),!1;"Trigger_Custom"===O.className&&l.VE_CustomTriggerManager.AddTriggerEvent(e,g,T,O.customEvent.bind(O)),v.addTrigger(T,O)}for(_=0;_<r.count;_++)for(g=r.getObjectID(_),v=r.getVeryObject(g),d=0;d<v.dataSource.actionCount;d++){var N=v.dataSource.getActionID(d),I=v.dataSource.getActionPara(N);if(!c.VE_Actions.hasAction(I[0]))return o.VE_ErrorManager.Add(o.VE_Error.error(v.dataSource.getActionPos(N),"项目："+e+"，对象："+g+"，响应："+N+"，响应类型："+I[0]+"，当前系统中不存在该响应类型，请检查！","")),!1;y=new a.ErrorInfo;var D=c.VE_Actions.createAction(v,N,I[0],I.slice(1),v.dataSource.getActionInitVal(N),y);if(!y.isRight||null===D)return o.VE_ErrorManager.Add(o.VE_Error.error(v.dataSource.getActionPos(N),"项目："+e+"，对象："+g+"，响应："+N+"，响应创建错误，原因："+y.message+"，请检查！","")),!1;v.addAction(N,D)}for(_=0;_<r.count;_++)for(g=r.getObjectID(_),v=r.getVeryObject(g),d=0;d<v.dataSource.fsmCount;d++){P=v.dataSource.getFsmID(d),V=v.dataSource.getFsmData(P),E=v.getFsm(P);for(var w=0;w<V.count;w++){var S=V.getStateData(w);if(E.hasStateValue(S.ValStr))return o.VE_ErrorManager.Add(o.VE_Error.error("（"+S.rowIndex+"，F）","项目："+e+"，对象："+g+"，状态："+P+"，当前状态值重复，同一个状态的值不允许重复，请检查！","")),!1;if((K=new u.VE_State(E,E.count+1)).setConstValue(S.ValStr),S.isSequence&&K.setSequence(),""!==S.logicalExp){y=new a.ErrorInfo;var x=s.VE_Expressions.createFsmExpression("",S.logicalExp,e,g,P,y);if(!y.isRight||null===x)return o.VE_ErrorManager.Add(o.VE_Error.error("（"+S.rowIndex.toString()+"，E）","项目："+e+"，对象："+g+"，状态："+P+"，状态逻辑表达式："+S.logicalExp+"，逻辑表达式创建失败，公式创建错误：\n"+y.message,"")),!1;K.logicalAssociated=x}for(var C=0;C<S.triggerCount;C++){var B=S.getTrigger(C),M=S.getTriggerPos(C);if(null===(O=l.VE_Triggers.findTrigger(v,B.triggerID)))return o.VE_ErrorManager.Add(o.VE_Error.error(M,"项目："+e+"，对象："+g+"，状态："+P+"，触发："+B.triggerID+"，当前触发无法在系统中查找到，请检查！","")),!1;x=null;if(""!==B.logicalExp){y=new a.ErrorInfo;if(x=s.VE_Expressions.createFsmExpression("",B.logicalExp,e,g,P,y),!y.isRight||null===x)return o.VE_ErrorManager.Add(o.VE_Error.error(M,"项目："+e+"，对象："+g+"，状态："+P+"，状态逻辑表达式："+B.logicalExp+"，逻辑表达式创建失败，公式创建错误：\n"+y.message,"")),!1}if(O.addTriggerTarget(x,K),""!==B.logicalSwitch){y=new a.ErrorInfo;var L=s.VE_Expressions.createFsmExpression("",B.logicalSwitch,e,g,P,y);if(!y.isRight||null===L)return o.VE_ErrorManager.Add(o.VE_Error.error(M,"项目："+e+"，对象："+g+"，状态："+P+"，触发启动条件："+B.logicalSwitch+"，触发启动条件创建失败，公式创建错误：\n"+y.message,"")),!1;O.addLogicalSwitch(L)}}for(C=0;C<S.actionCount;C++){var U=S.getAction(C),F=S.getActionPos(C);if(U.type===p.StateActionType.Action){if(null===(D=c.VE_Actions.findAction(v,U.actionID)))return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，当前响应无法在系统中查找到，请检查！","")),!1;y=new a.ErrorInfo;var R=null,k=U.enabled.trim().toLowerCase();if("false"===k||"停止"===k)(R=new n.VeryBool).setValue(!1);else if("true"===k||"启动"===k)(R=new n.VeryBool).setValue(!0);else{if(!(U.enabled.indexOf(u.StateConst.VARIABLE_SYMBOL)>-1))return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，参数："+U.enabled+"，响应启动参数允许填写格式为：“启动/true”、“停止/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数不符合，请检查！","")),!1;if(y.clear(),R=n.VarTools.GetVeryVarWithExpression(e,g,U.enabled,y),!y.isRight||null===R)return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，参数："+U.enabled+"，响应启动参数格式不正确，错误信息："+y.message,"")),!1;if("bool"!==R.varType)return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，参数："+U.enabled+"，响应启动参数变量必须返回bool值类型，当前变量类型："+R.varType,"")),!1}var G=null,W=U.everyFrame.trim().toLowerCase();if("false"===W||"一次"===W)(G=new n.VeryBool).setValue(!1);else if("true"===W||"持续"===W)(G=new n.VeryBool).setValue(!0);else{if(!(U.everyFrame.indexOf(u.StateConst.VARIABLE_SYMBOL)>-1))return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，参数："+U.everyFrame+"，响应帧循环参数允许填写格式为：“持续/true”、“一次/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数不符合，请检查！","")),!1;if(y.clear(),G=n.VarTools.GetVeryVarWithExpression(e,g,U.everyFrame,y),!y.isRight||null===G)return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，参数："+U.everyFrame+"，响应帧循环参数格式不正确，错误信息："+y.message,"")),!1;if("bool"!==G.varType)return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，参数："+U.everyFrame+"，响应帧循环参数变量必须返回bool值类型，当前变量类型："+G.varType,"")),!1}var Y=U.isSequence.trim().toLowerCase(),z=!1;if("false"===Y||"同时"===Y)z=!1;else{if("true"!==Y&&"依次"!==Y)return o.VE_ErrorManager.Add(o.VE_Error.error(F,"项目："+e+"，对象："+g+"，状态："+P+"，响应："+U.actionID+"，参数："+U.isSequence+"，响应依次运行状态允许填写格式为：“同时/false”、“依次/true”，不允许填写变量，请检查！","")),!1;z=!0}var q=new u.VE_StateAction;q.setAction(D,R,G,z),K.addAction(q)}else if(!this.assignmentAction(e,g,P,h,r,v,U,K))return!1}E.addState(K)}}for(_=0;_<r.count;_++)for(g=r.getObjectID(_),v=r.getVeryObject(g),d=0;d<v.dataSource.fsmCount;d++)for(P=v.dataSource.getFsmID(d),V=v.dataSource.getFsmData(P),E=v.getFsm(P),w=0;w<V.count;w++){S=V.getStateData(w);var K=E.getStateInSequence(w);for(C=0;C<S.associatedStateCount;C++){for(var Z=S.getAssociatedState(C),Q=S.getAssociatedStatePos(C),X=new u.VE_AssociatedState(K),H=Z.split(/,|，/),J=0;J<H.length;J++){Z=H[J].trim();var $=u.StateConst.STATE_VALUE,ee=Z.split("=");if(1===ee.length);else{if(2!==ee.length)return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态格式错误，应为“状态名 = 状态值”的形式，请检查！","")),!1;$=ee[1].trim()}var te=ee[0].trim();if(te.indexOf(u.StateConst.STATE_SEPARATOR)>-1){for(var re=te.split(u.StateConst.STATE_SEPARATOR),ie=0;ie<re.length;ie++)re[ie]=re[ie].trim();if(3===re.length){if(!r.isCreated(re[0]))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“对象名.*模板变量.状态名”，无法查找到该对象，请检查！","")),!1;var ne=r.getVeryObject(re[0]);if(!re[1].startsWith(u.StateConst.VARIABLE_SYMBOL))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“对象名.*模板变量.状态名”，模板变量填写格式不正确，请检查！","")),!1;f=re[1].substring(1);if(!ne.isCreatedTemplate(f))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“对象名.*模板变量.状态名”，在当前对象中无法查找到该模板变量，请检查！","")),!1;if(!(oe=ne.getTemplate(f)).dataSource.isCreatedFsm(re[2]))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“对象名.*模板变量.状态名”，在当前对象的该模板变量中无法查找到对应状态名，请检查！","")),!1;X.addTemplate(oe,re[2],$,Q)}else{if(2!==re.length)return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，状态名填写错误，无法查找到对应状态，请检查！","")),!1;var ae=re[0].trim();if(te=re[1].trim(),ae.startsWith(u.StateConst.VARIABLE_SYMBOL))if(ae=ae.substring(1),v.isCreatedTemplate(ae)){if(!(oe=v.getTemplate(ae)).dataSource.isCreatedFsm(re[1]))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“*模板变量.状态名”，在当前模板变量中无法查找到对应状态名，请检查！","")),!1;X.addTemplate(oe,re[1],$,Q)}else{if(!h.isCreatedTemplate(ae))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“*模板变量.状态名”，在当前系统中无法查找到该模板变量，请检查！","")),!1;var oe;if(!(oe=h.getTemplate(ae)).dataSource.isCreatedFsm(re[1]))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“*模板变量.状态名”，在当前模板变量中无法查找到对应状态名，请检查！","")),!1;X.addTemplate(oe,re[1],$,Q)}else{if(null===(ne=r.getVeryObject(ae)))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“对象名.状态名”，当前系统中无法查找到该对象名，请检查！","")),!1;if(null===(se=ne.getFsm(te)))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“对象名.状态名”，当前对象名所对应的对象中无法查找到该状态名，请检查！","")),!1;if(null===(ue=se.getState($)))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，当前关联状态填写格式为“对象名.状态名”，当前关联状态序号超出对应状态序号范围，请检查！","")),!1;X.add(ue,$,Q)}}}else{var se,ue;if(null===(se=v.getFsm(te)))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，状态名填写错误，可以查找到对象，但是对象上无法查找到该状态，请检查！","")),!1;if(null===(ue=se.getState($)))return o.VE_ErrorManager.Add(o.VE_Error.error(Q,"项目："+e+"，对象："+g+"，状态："+P+"，关联状态："+Z+"，状态名填写错误，可以查找到对象和状态，但是状态序号超出范围，请检查！","")),!1;X.add(ue,$,Q)}}K.addAssociatedState(X)}}return!0},e.assignmentAction=function(e,t,r,i,l,f,y,b){var m=new c.VE_Assignment(b,y.totalString),g=y.varID;if(!(g.indexOf(u.StateConst.VARIABLE_SYMBOL)>-1))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左边必须为变量，请检查！","")),!1;if(g.indexOf(u.StateConst.STATE_SEPARATOR)>-1){for(var v=g.split(u.StateConst.STATE_SEPARATOR),d=0;d<v.length;d++)v[d]=v[d].trim();if(2===v.length)if(v[0].startsWith(u.StateConst.VARIABLE_SYMBOL)){var P=v[0].substring(1);if(g=v[1].substring(1),f.isCreatedTemplate(P)){if((T=f.getTemplate(P)).varData.isCreatedVariable(g)){if("expression"===(V=T.varData.getVariableParas(g))[1].toLowerCase()||"公式"===V[1].toLowerCase())return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，请检查！","")),!1;m.setLeftTemplateVar(T,g)}else{if(!T.dataSource.isCreatedFsm(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！","")),!1;m.setLeftTemplateVar(T,g)}}else{if(!i.isCreatedTemplate(P))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，请检查！","")),!1;if((T=i.getTemplate(P)).varData.isCreatedVariable(g)){var V;if("expression"===(V=T.varData.getVariableParas(g))[1].toLowerCase()||"公式"===V[1].toLowerCase())return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，请检查！","")),!1;m.setLeftTemplateVar(T,g)}else{if(!T.dataSource.isCreatedFsm(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！","")),!1;m.setLeftTemplateVar(T,g)}}}else{if(!l.isCreated(v[0]))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左侧变量格式“对象名.*变量”，当前“对象名”无法在系统中查找到，请检查！","")),!1;var E=l.getVeryObject(v[0]);if(g=g.substring(1),E.isCreatedExpression(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“对象名.*变量”，该变量不能为“公式”，请检查！","")),!1;if(E.isCreatedFsm(g)){var A=E.getFsm(g).fsmVar;m.setLeftVariable(A)}else if(E.isCreatedVariable(g)){A=E.getVariable(g);m.setLeftVariable(A)}else{if(!E.isCreatedTemplate(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“对象名.*变量”，无法在当前对象名中查找到该变量，请检查！","")),!1;var T=E.getTemplate(g);m.setLeftTemplate(T)}}else{if(3!==v.length)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！","")),!1;if(v[0].startsWith(u.StateConst.STATE_SEPARATOR)||!v[1].startsWith(u.StateConst.STATE_SEPARATOR)||!v[2].startsWith(u.StateConst.STATE_SEPARATOR))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！","")),!1;P=v[1].substring(1);if(g=v[2].substring(1),!l.isCreated(v[0]))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，请检查！","")),!1;if(!(w=l.getVeryObject(v[0])).isCreatedTemplate(P))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，请检查！","")),!1;if((T=w.getTemplate(P)).dataSource.isCreatedFsm(g))m.setLeftTemplateVar(T,g);else{if(!T.varData.isCreatedVariable(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！","")),!1;var j=T.varData.getVariableParas(g);if("expression"===j[1].toLowerCase()||"公式"===j[1].toLowerCase())return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量.*变量”为公式变量，公式变量不可直接赋值，请检查！","")),!1;m.setLeftTemplateVar(T,g)}}}else{if(g=g.substring(1),f.isCreatedExpression(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，请检查！","")),!1;if(f.isCreatedFsm(g)){A=f.getFsm(g).fsmVar;m.setLeftVariable(A)}else if(f.isCreatedVariable(g)){A=f.getVariable(g);m.setLeftVariable(A)}else if(f.isCreatedTemplate(g)){T=f.getTemplate(g);m.setLeftTemplate(T)}else{if(i.isCreatedExpression(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，请检查！","")),!1;if(i.isCreatedVariable(g)){A=i.getVariable(g);m.setLeftVariable(A)}else{if(!i.isCreatedTemplate(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧格式“*变量”，无法在当前系统中查找到该变量，请检查！","")),!1;T=i.getTemplate(g);m.setLeftTemplate(T)}}}if((g=y.varValue.trim()).startsWith('"')||g.startsWith("'")||g.startsWith("“")||g.startsWith("‘"))m.setRightConst(g.substring(1,g.length-2).trim());else if(a.VE_StringFormat.isFormulaString(g)){var O=new a.ErrorInfo;u.StateConst.AssignmentFormulaCount++;var N=s.VE_Expressions.createLocalExpression(u.StateConst.AssignmentPrefix+u.StateConst.AssignmentFormulaCount.toString(),g,e,t,O);if(!O.isRight||null===N)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧格式“公式”，公式解析错误，请检查！错误信息："+O.message,"")),!1;m.setRightVariable(new n.VeryExpression(N))}else if(g.indexOf(u.StateConst.VARIABLE_SYMBOL)>-1)if(g.indexOf(u.StateConst.STATE_SEPARATOR)>-1){for(v=g.split(u.StateConst.STATE_SEPARATOR),d=0;d<v.length;d++)v[d]=v[d].trim();if(2===v.length)if(v[0].startsWith(u.StateConst.VARIABLE_SYMBOL)){P=v[0].substring(1);if(g=v[1].substring(1),f.isCreatedTemplate(P)){if(!(T=f.getTemplate(P)).varData.isCreatedVariable(g)&&!T.dataSource.isCreatedFsm(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！","")),!1;m.setRightTemplateVariable(T,g)}else{if(!i.isCreatedTemplate(P))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，请检查！","")),!1;if(!(T=i.getTemplate(P)).varData.isCreatedVariable(g)&&!T.dataSource.isCreatedFsm(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！","")),!1;m.setRightTemplateVariable(T,g)}}else{if(!l.isCreated(v[0]))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号右侧变量格式“对象名.*变量”，当前“对象名”无法在系统中查找到，请检查！","")),!1;E=l.getVeryObject(v[0]);g=g.substring(1);var I=null,D=null;if(E.isCreatedExpression(g))I=new n.VeryExpression(E.getExpression(g));else if(E.isCreatedFsm(g))I=E.getFsm(g).fsmVar;else if(E.isCreatedVariable(g))I=E.getVariable(g);else{if(!E.isCreatedTemplate(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧格式“对象名.*变量”，无法在当前系统中查找到该变量，请检查！","")),!1;D=E.getTemplate(g)}if(null!==I){if(m.leftType===p.AssignType.Template)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧为“模板变量”类型，右侧为“普通变量”类型，无法赋值，请检查！","")),!1;if(m.leftType===p.AssignType.Variable){if(!h.VE_AssignmentTypeJudge.allow(m.leftVariable,I))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，请检查！","")),!1;m.setRightVariable(I)}else m.setRightVariable(I)}else{if(null==D)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧数据无法识别，请检查！","")),!1;if(m.leftType!==p.AssignType.Template)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧为“模板变量”，右侧为“普通变量”，无法赋值，请检查！","")),!1;m.setRightTemplate(D)}}else{if(3!==v.length)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！","")),!1;if(v[0].startsWith(u.StateConst.STATE_SEPARATOR)||!v[1].startsWith(u.StateConst.STATE_SEPARATOR)||!v[2].startsWith(u.StateConst.STATE_SEPARATOR))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！","")),!1;var w;P=v[1].substring(1);if(g=v[2].substring(1),!l.isCreated(v[0]))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，请检查！","")),!1;if(!(w=l.getVeryObject(v[0])).isCreatedTemplate(P))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，请检查！","")),!1;if(!(T=w.getTemplate(P)).dataSource.isCreatedFsm(g)&&!T.varData.isCreatedVariable(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！","")),!1;m.setRightTemplateVariable(T,g)}}else{g=g.substring(1);I=null,D=null;if(f.isCreatedExpression(g))I=new n.VeryExpression(f.getExpression(g));else if(f.isCreatedFsm(g))I=f.getFsm(g).fsmVar;else if(f.isCreatedVariable(g))I=f.getVariable(g);else if(f.isCreatedTemplate(g))D=f.getTemplate(g);else if(i.isCreatedExpression(g))I=new n.VeryExpression(i.getExpression(g));else if(i.isCreatedVariable(g))I=i.getVariable(g);else if(i.isCreatedTemplate(g))D=i.getTemplate(g);else if(_.VerySceneVariables.Variables.isCreatedExpression(g))I=new n.VeryExpression(_.VerySceneVariables.Variables.getExpression(g));else{if(!_.VerySceneVariables.Variables.isCreatedVariable(g))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧格式“*变量”，无法在当前系统中查找到该变量，请检查！","")),!1;I=_.VerySceneVariables.Variables.getVariable(g)}if(null!=I){if(m.leftType===p.AssignType.Template)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧为“模板变量”类型，右侧为“普通变量”类型，无法赋值，请检查！","")),!1;if(m.leftType===p.AssignType.Variable){if(!h.VE_AssignmentTypeJudge.allow(m.leftVariable,I))return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，请检查！","")),!1;m.setRightVariable(I)}else m.setRightVariable(I)}else{if(null==D)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号右侧数据无法识别，请检查！","")),!1;if(m.leftType!==p.AssignType.Template)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧为“模板变量”，右侧为“普通变量”，无法赋值，请检查！","")),!1;m.setRightTemplate(D)}}else if(m.leftType===p.AssignType.Template){if("null"!==g.trim().toLowerCase())return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧为模板变量，右侧赋值为常量时只能填“null”，表示销毁模板变量，当前格式错误，请检查！","")),!1;m.setRightNull()}else if(m.leftType===p.AssignType.TemplateVariable)m.setRightConst(g);else{if(null===m.leftVariable)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧变量获取为空，请检查！","")),!1;O=new a.ErrorInfo;var S=m.leftVariable.initValue(g,O);if(!O.isRight||null===S)return o.VE_ErrorManager.Add(o.VE_Error.error("","项目："+e+"，对象："+t+"，状态："+r+"，赋值响应："+y.totalString+"，当前赋值响应等号左侧变量类型与右侧常量值不匹配，错误信息："+O.message+"，请检查！","")),!1;m.setRightConstValue(S)}var x=new u.VE_StateAction;return x.setAssignment(m),b.addAction(x),!0},e.createInstance=function(e,t,r,i,n,a,o){return i},e}();t.CreateInstance=f},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(2),t),n(r(3),t),n(r(9),t),n(r(0),t),n(r(12),t),n(r(4),t),n(r(14),t),n(r(6),t),n(r(15),t),n(r(7),t),n(r(11),t),n(r(8),t),n(r(90),t),n(r(1),t),n(r(10),t),n(r(25),t),n(r(91),t),n(r(50),t),n(r(5),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(103),t),n(r(104),t),n(r(105),t),n(r(106),t),n(r(107),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.VeryEngine=void 0;var a=r(25),o=r(27),s=r(28),u=r(4),l=r(6);n(r(49),t);var c=function(){function e(){}return e.prototype.init=function(e,t){l.VE_Reset.dispose();var r=new a.VeryTable(e,"VeRyEngine"),i=(new s.LoaderManager).load(t,r);console.log("表格解析结果："+i),i||u.VE_ErrorManager.Print(),u.GameGlobal.PlatformLoaded=!0},e.prototype.showErrorTest=function(e){o.ShowError.show("大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发，错误位置："+e.pos(7,5)),o.ShowError.showError("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+e.pos(7,5)),o.ShowError.showWarn("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+e.pos(7,5)),o.ShowError.show("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+e.pos(7,5)),o.ShowError.show("大股东萨芬个是电饭锅三分隔收费的发，错误位置："+e.pos(7,5)),document.getElementById("settingsButton").addEventListener("click",o.ShowError.close)},e}();t.VeryEngine=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryTable=void 0;var i=r(26),n=function(){function e(e,t){if(void 0===t&&(t="默认Sheet"),this._id="",this._columnIDs=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this._rows=[],this._id=t,this._rows=[],e)for(var r=0;r<e.length;r++){var n=new i.VeryTableRow(e[r]);this._rows.push(n)}}return Object.defineProperty(e.prototype,"ID",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"RowCount",{get:function(){return this._rows?this._rows.length:0},enumerable:!1,configurable:!0}),e.prototype.getData=function(e,t){return this._rows[e].getData(t)},e.prototype.getRow=function(e){return e>=0&&e<this._rows.length?this._rows[e]:void 0},e.prototype.pos=function(e,t){return"（"+(e+1)+"，"+this.getColumnID(t)+"，表名："+this.ID+"）"},e.prototype.getColumnID=function(e){if(e>=0&&e<26)return this._columnIDs[e];if(e<0)return"error";var t=Math.floor(e/26),r=e%26;return 0===t?this._columnIDs[t]:this._columnIDs[t-1]+this._columnIDs[r]},e.prototype.addRow=function(e){this._rows.push(e)},e}();t.VeryTable=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryTableSet=void 0;var i=function(){function e(e){this._tables=[],e&&(this._tables=e)}return Object.defineProperty(e.prototype,"Count",{get:function(){return this._tables?this._tables.length:0},enumerable:!1,configurable:!0}),e.prototype.getTable=function(e){return e>=0&&e<this.Count?this._tables[e]:void 0},e.prototype.addTable=function(e){this._tables.push(e)},e.prototype.removeTable=function(e){e>=0&&e<this.Count&&this._tables.splice(e,1)},e}();t.VeryTableSet=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Template=void 0;var i=r(9),n=function(){function e(e,t){this._projectName="",this._templateID="",this._templateVarID="",this._objectID="",this.templateInstance=null,this._counter=0,this.backupInstances=[],this.instanceArray=[],this._projectName=e,this._templateID=t,this.dataSource=new i.VE_DataSource(e,t,!0),this.varData=new i.VE_VariableData(e)}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateID",{get:function(){return this._templateID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateVarID",{get:function(){return this._templateVarID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectID",{get:function(){return this._objectID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"counter",{get:function(){return this._counter},enumerable:!1,configurable:!0}),e.prototype.activeCount=function(){return this.backupInstances.length},e.prototype.addInstance=function(e){this.templateInstance=e,this.backupInstances.push(e)},e.prototype.isCreatedVariable=function(e){return this.varData.isCreatedVariable(e)},e.prototype.addVariable=function(e,t,r){this.varData.addVariable(e,t,r)},e.prototype.increase=function(){this._counter++},e.prototype.unload=function(e){void 0===e&&(e=!1),e?this.backupInstances=[]:this.backupInstances.pop(),this.templateInstance=null},e.prototype.unloadInstance=function(e){var t=this.backupInstances.indexOf(e);t>-1&&this.backupInstances.splice(t,1)},e.prototype.clone=function(t,r){var i=new e(this._projectName,this._templateID);return i._objectID=t,i._templateVarID=r,i.dataSource=this.dataSource,i.varData=this.varData,i._counter=this._counter,i},e.prototype.clear=function(){this.dataSource&&this.dataSource.clear(),this.varData&&this.varData.clear(),this.templateInstance&&this.templateInstance.clear()},e}();t.VE_Template=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_VariableData=void 0;var i=function(){function e(e){this._projectName="",this._variableIDs=[],this._varDics={},this._varPosDic={},this._projectName=e}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._variableIDs.length},enumerable:!1,configurable:!0}),e.prototype.isCreatedVariable=function(e){return!!this._varDics[e]},e.prototype.addVariable=function(e,t,r){this._varDics[e]=t,this._variableIDs.push(e),this._varPosDic[e]=r},e.prototype.getVariableID=function(e){return e>=0&&e<this._variableIDs.length?this._variableIDs[e]:""},e.prototype.getVariableParas=function(e){return this._varDics[e]},e.prototype.getPos=function(e){return this._varPosDic[e]},e.prototype.clear=function(){this._variableIDs=[],this._varDics={}},e}();t.VE_VariableData=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_StateActionData=void 0;var i=r(0),n=function(){function e(e,t,r,n,a){void 0===t&&(t="false"),void 0===r&&(r="false"),void 0===n&&(n="false"),void 0===a&&(a=i.StateActionType.Action),this.totalString="",this.varID="",this.varValue="",this.actionID=e,this.enabled=t,this.everyFrame=r,this.isSequence=n,this.type=a}return e.prototype.setNormalAction=function(e,t,r,n){void 0===t&&(t="false"),void 0===r&&(r="false"),void 0===n&&(n="false"),this.actionID=e,this.enabled=t,this.everyFrame=r,this.isSequence=n,this.type=i.StateActionType.Action},e.prototype.setAssignmentAction=function(e,t,r){this.totalString=e,this.varID=t,this.varValue=r,this.type=i.StateActionType.Assignment},e}();t.VE_StateActionData=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParaType=t.Severity=t.VariableScope=t.AssociatedFsmType=t.AssignmentType=t.AssignType=t.StateActionType=t.SequenceActionState=t.ActionType=void 0,function(e){e[e.Normal=0]="Normal",e[e.Animation=1]="Animation"}(t.ActionType||(t.ActionType={})),function(e){e[e.Initial=0]="Initial",e[e.Prepared=1]="Prepared",e[e.Running=2]="Running",e[e.Pause=3]="Pause"}(t.SequenceActionState||(t.SequenceActionState={})),function(e){e[e.Action=0]="Action",e[e.Assignment=1]="Assignment"}(t.StateActionType||(t.StateActionType={})),function(e){e[e.Variable=0]="Variable",e[e.Template=1]="Template",e[e.TemplateVariable=2]="TemplateVariable",e[e.Const=3]="Const"}(t.AssignType||(t.AssignType={})),function(e){e[e.Const=0]="Const",e[e.Variable=1]="Variable",e[e.Expression=2]="Expression"}(t.AssignmentType||(t.AssignmentType={})),function(e){e[e.Object=0]="Object",e[e.Template=1]="Template"}(t.AssociatedFsmType||(t.AssociatedFsmType={})),function(e){e[e.Local=0]="Local",e[e.Fsm=1]="Fsm",e[e.Global=2]="Global",e[e.Scene=3]="Scene"}(t.VariableScope||(t.VariableScope={})),function(e){e[e.Warning=0]="Warning",e[e.Error=1]="Error"}(t.Severity||(t.Severity={})),function(e){e[e.Action=0]="Action",e[e.Trigger=1]="Trigger"}(t.ParaType||(t.ParaType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_StateTriggerData=void 0;var i=function(){function e(e){this.triggerID=e,this.logicalSwitch="",this.logicalExp=""}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e}();t.VE_StateTriggerData=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_StateData=void 0;var i=function(){function e(e,t,r){this.logicalExp="",this.rowIndex=-1,this._triggers=[],this._triggersPos=[],this._actions=[],this._actionsPos=[],this._associatedStates=[],this._associatedStatesPos=[],this._isSequence=!1,this._fsmData=e,this._valStr=t,this._isInitialValue=r}return Object.defineProperty(e.prototype,"fsmData",{get:function(){return this._fsmData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ValStr",{get:function(){return this._valStr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInitialValue",{get:function(){return this._isInitialValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSequence",{get:function(){return this._isSequence},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggerCount",{get:function(){return this._triggers.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionCount",{get:function(){return this._actions.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"associatedStateCount",{get:function(){return this._associatedStates.length},enumerable:!1,configurable:!0}),e.prototype.hasTrigger=function(e){return e>=0&&e<this._triggers.length},e.prototype.addTrigger=function(e,t){this._triggers.push(e),this._triggersPos.push(t)},e.prototype.getTrigger=function(e){return this._triggers[e]},e.prototype.getTriggerPos=function(e){return this._triggersPos[e]},e.prototype.hasAction=function(e){return e>=0&&e<this._actions.length},e.prototype.addAction=function(e,t){this._actions.push(e),this._actionsPos.push(t)},e.prototype.getAction=function(e){return this._actions[e]},e.prototype.getActionPos=function(e){return this._actionsPos[e]},e.prototype.hasAssociatedState=function(e){return e>=0&&e<this._associatedStates.length},e.prototype.addAssociatedState=function(e,t){this._associatedStates.push(e),this._associatedStatesPos.push(t)},e.prototype.getAssociatedState=function(e){return this._associatedStates[e]},e.prototype.getAssociatedStatePos=function(e){return this._associatedStatesPos[e]},e.prototype.setSequence=function(){this._isSequence=!0},e}();t.VE_StateData=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_DataSource=void 0;var i=r(29),n=function(){function e(e,t,r){this._projectName="",this._objectID="",this._templateID="",this._isTemplate=!1,this._fsmIDs=[],this._fsmDic={},this._fsmPosDic={},this._triggerIDs=[],this._triggerDic={},this._triggerPosDic={},this._actionIDs=[],this._actionDic={},this._actionInitValue={},this._actionPosDic={},this._projectName=e,this._isTemplate=r,r?this._templateID=t:this._objectID=t}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectID",{get:function(){return this._objectID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateID",{get:function(){return this._templateID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTemplate",{get:function(){return this._isTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._isTemplate?this._templateID:this._objectID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggerCount",{get:function(){return this._triggerIDs.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionCount",{get:function(){return this._actionIDs.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fsmCount",{get:function(){return this._fsmIDs.length},enumerable:!1,configurable:!0}),e.prototype.isCreatedFsm=function(e){return!!this._fsmDic[e]},e.prototype.createFsm=function(e,t){this._fsmIDs.push(e),this._fsmDic[e]=new i.VE_FsmData(e,this),this._fsmPosDic[e]=t},e.prototype.getFsmData=function(e){return this._fsmDic[e]},e.prototype.getFsmPos=function(e){return this._fsmPosDic[e]},e.prototype.hasFsmIndex=function(e){return e>=0&&e<this._fsmIDs.length},e.prototype.getFsmID=function(e){return this._fsmIDs[e]},e.prototype.isCreatedTrigger=function(e){return!!this._triggerDic[e]},e.prototype.addTrigger=function(e,t,r){this._triggerIDs.push(e),this._triggerDic[e]=t,this._triggerPosDic[e]=r},e.prototype.getTrigger=function(e){return this._triggerDic[e]},e.prototype.getTriggerPos=function(e){return this._triggerPosDic[e]},e.prototype.hasTriggerIndex=function(e){return e>=0&&e<this._triggerIDs.length},e.prototype.getTriggerID=function(e){return this._triggerIDs[e]},e.prototype.getTriggerPara=function(e){return this._triggerDic[e]},e.prototype.isCreatedAction=function(e){return!!this._actionDic[e]},e.prototype.addAction=function(e,t,r,i){this._actionIDs.push(e),this._actionDic[e]=t,this._actionInitValue[e]=r,this._actionPosDic[e]=i},e.prototype.getActionPara=function(e){return this._actionDic[e]},e.prototype.getActionPos=function(e){return this._actionPosDic[e]},e.prototype.getActionInitVal=function(e){return this._actionInitValue[e]},e.prototype.hasActionIndex=function(e){return e>=0&&e<this._actionIDs.length},e.prototype.getActionID=function(e){return this._actionIDs[e]},e.prototype.clear=function(){this._fsmIDs=[],this._fsmDic={},this._triggerIDs=[],this._triggerDic={},this._actionIDs=[],this._actionDic={},this._actionInitValue={}},e}();t.VE_DataSource=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Templates=void 0;var i=r(2),n=r(7),a=r(5),o=r(15),s=r(6),u=r(1),l=r(12),c=r(8),p=r(3),h=r(0),_=r(10),f=r(24),y=function(){function e(e){this._projectName="",this._templateDic={},this._instanceDic={},this._instanceArray={},this._projectName=e}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),e.prototype.isCreatedTemplate=function(e){return!!this._templateDic[e]},e.prototype.addTemplate=function(e,t){this._templateDic[e]=t},e.prototype.getTemplate=function(e){return this._templateDic[e]},e.prototype.isCreatedInstance=function(e,t){return!(!this._instanceDic[e]||!this._instanceDic[e][t])},e.prototype.getInstance=function(e,t){return this._instanceDic[e][t]},e.prototype.clear=function(){var e=this;this._templateDic&&(Object.keys(this._templateDic).forEach((function(t){e._templateDic[t].clear()})),this._templateDic={})},e.prototype.createInstance=function(e,t,r,_,f,y){var b="错误定位信息：（项目："+this._projectName+"，对象："+e+"，模板变量："+t+"，模板名："+r.templateID+"）";null!==r.templateInstance&&y&&(r.templateInstance.unload(),r.unload());var m=null,g=!1,v=r.templateID+"_"+t.replace(n.StateConst.VARIABLE_SYMBOL,"");if(""===_||"null"===_.toLowerCase()||"none"===_.toLowerCase())m=new a.GameObject(v+"_Empty"),g=!0;else if(null===(m=a.GameObject.Find(_)))return f.isRight=!1,f.message="模板对象实例化失败：无法在场景中查找到对应名字的物体，也无法以预制件在Resources文件夹中加载，物体名："+_+"！"+b,null;g||(m=a.GameObject.CreateInstance(m)),m.name+="_"+r.counter,v+="_"+r.counter,r.increase();var d=new o.VeryEngineObject(this._projectName,v,m);r.addInstance(d),d.template=r;var P=s.VE_Manager.objects(this._projectName);P.add(v,d),d.setUnloadCallback(P.unloadObject.bind(P));for(var V=0;V<r.varData.count;V++){var E=r.varData.getVariableID(V);if("公式"!==(I=r.varData.getVariableParas(E))[0]&&"expression"!==I[0].toLowerCase())if(u.VeryVarManager.hasVarType(I[0])){var A=new i.ErrorInfo,T=u.VeryVarManager.createVariable(E,I[0],I[1],A);if(!A.isRight||null===T)return f.isRight=!1,f.message="模板对象实例化失败：局部变量创建失败，局部变量："+E+"，"+I[0]+"，"+I[1]+"，错误信息："+A.message+"！"+b,null;d.addVariable(E,T)}else{if(!this.isCreatedTemplate(I[0]))return f.isRight=!1,f.message="模板对象实例化失败：局部变量创建失败，当前变量不存在，局部变量："+E+","+I[0]+","+I[1]+"！"+b,null;d.addTemplate(E,this.getTemplate(I[0]).clone(v,E))}}for(V=0;V<r.dataSource.fsmCount;V++){var j=r.dataSource.getFsmID(V),O=r.dataSource.getFsmData(j);(T=new u.VeryString).setValue(O.initialValStr);var N=new n.VE_Fsm(this.projectName,v,j,T,d);d.addFsm(j,N)}for(V=0;V<r.varData.count;V++){var I;E=r.varData.getVariableID(V);if("公式"===(I=r.varData.getVariableParas(E))[0]||"expression"===I[0].toLowerCase()){A=new i.ErrorInfo;var D=l.VE_Expressions.createLocalExpression(E,I[1],this._projectName,v,A);if(!A.isRight||null===D)return f.isRight=!1,f.message="模板对象实例化失败：局部变量创建失败，公式创建错误：\n"+A.message+"，请检查！"+b,null;d.addExpression(E,D)}}for(V=0;V<r.dataSource.triggerCount;V++){var w=r.dataSource.getTriggerID(V),S=r.dataSource.getTriggerPara(w);if(!c.VE_Triggers.hasTrigger(S[0]))return f.isRight=!1,f.message="模板对象实例化失败：当前系统中不存在该触发类型，触发："+w+"类型："+S[0]+"，请检查！"+b,null;A=new i.ErrorInfo;var x=c.VE_Triggers.createTrigger(d,w,S[0],S.slice(1),A);if(!A.isRight||null===x)return f.isRight=!1,f.message="模板对象实例化失败：触发创建错误，触发："+w+"，原因："+A+"，请检查！"+b,null;"Trigger_Custom"===x.className&&c.VE_CustomTriggerManager.AddTriggerEvent(this._projectName,v,w,x.customEvent.bind(x)),d.addTrigger(w,x)}for(V=0;V<r.dataSource.actionCount;V++){var C=r.dataSource.getActionID(V),B=r.dataSource.getActionPara(C);if(!p.VE_Actions.hasAction(B[0]))return f.isRight=!1,f.message="模板对象实例化失败：当前系统中不存在该响应类型，响应："+C+"类型："+B[0]+"，请检查！"+b,null;A=new i.ErrorInfo;var M=p.VE_Actions.createAction(d,C,B[0],B.slice(1),r.dataSource.getActionInitVal(C),A);if(!A.isRight||null===M)return f.isRight=!1,f.message="模板对象实例化失败：响应创建错误，响应："+C+"，错误信息："+A+"，请检查！"+b,null;d.addAction(C,M)}for(V=0;V<r.dataSource.fsmCount;V++){j=r.dataSource.getFsmID(V),O=r.dataSource.getFsmData(j),N=d.getFsm(j);for(var L=0;L<O.count;L++){var U=O.getStateData(L);if((H=new n.VE_State(N,N.count+1)).setConstValue(U.ValStr),U.isSequence&&H.setSequence(),""!==U.logicalExp){A=new i.ErrorInfo;var F=l.VE_Expressions.createFsmExpression("",U.logicalExp,this._projectName,v,j,A);if(!A.isRight||null===F)return f.isRight=!1,f.message="模板对象实例化失败：状态逻辑表达式："+U.logicalExp+"，逻辑表达式创建失败，公式创建错误：\n："+A.message+"，状态："+j+"，请检查！"+b,null;H.logicalAssociated=F}for(var R=0;R<U.triggerCount;R++){var k=U.getTrigger(R);if(null===(x=c.VE_Triggers.findTrigger(d,k.triggerID)))return f.isRight=!1,f.message="模板对象实例化失败：当前触发无法在模板对象中查找到，触发ID："+k.triggerID+"，状态："+j+"，请检查！"+b,null;F=null;if(""!==k.logicalExp){A=new i.ErrorInfo;if(F=l.VE_Expressions.createFsmExpression("",k.logicalExp,this._projectName,v,j,A),!A.isRight||null===F)return f.isRight=!1,f.message="模板对象实例化失败：状态逻辑表达式："+k.logicalExp+"，逻辑表达式创建失败，公式创建错误：\n："+A.message+"，状态："+j+"，请检查！"+b,null}if(x.addTriggerTarget(F,H),""!==k.logicalSwitch){A=new i.ErrorInfo;var G=l.VE_Expressions.createFsmExpression("",k.logicalSwitch,this._projectName,v,j,A);if(null==G)return f.isRight=!1,f.message="模板对象实例化失败：触发启动条件："+k.logicalSwitch+"，触发启动条件创建失败，公式创建错误：\n"+A.message+"状态："+j+"，请检查！"+b,null;x.addLogicalSwitch(G)}}for(R=0;R<U.actionCount;R++){var W=U.getAction(R);if(W.type===h.StateActionType.Action){if(null===(M=p.VE_Actions.findAction(d,W.actionID)))return f.isRight=!1,f.message="模板对象实例化失败：当前响应无法在模板对象中查找到，响应ID："+W.actionID+"，状态："+j+"，请检查！"+b,null;A=new i.ErrorInfo;var Y=null,z=W.enabled.trim().toLowerCase();if("false"===z||"停止"===z)(Y=new u.VeryBool).setValue(!1);else if("true"===z||"启动"===z)(Y=new u.VeryBool).setValue(!0);else{if(!(W.enabled.indexOf(n.StateConst.VARIABLE_SYMBOL)>-1))return f.isRight=!1,f.message="模板对象实例化失败：响应启动参数允许填写格式为：“启动/true”、“停止/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数不符合，参数为："+W.enabled+"，请检查！"+b,null;if(A.clear(),Y=u.VarTools.GetVeryVarWithExpression(this.projectName,v,W.enabled,A),!A.isRight||null===Y)return f.isRight=!1,f.message="模板对象实例化失败：响应启动参数格式不正确，错误信息："+A.message+"，请检查！"+b,null;if("bool"!==Y.varType)return f.isRight=!1,f.message="模板对象实例化失败：响应启动参数变量必须返回bool值类型，当前变量类型："+Y.varType+"，请检查！"+b,null}var q=null,K=W.everyFrame.trim().toLowerCase();if("false"===K||"一次"===K)(q=new u.VeryBool).setValue(!1);else if("true"===K||"持续"===K)(q=new u.VeryBool).setValue(!0);else{if(!(W.everyFrame.indexOf(n.StateConst.VARIABLE_SYMBOL)>-1))return f.isRight=!1,f.message="模板对象实例化失败：响应帧循环参数允许填写格式为：“持续/true”、“一次/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数为："+W.everyFrame+"，请检查！"+b,null;if(A.clear(),q=u.VarTools.GetVeryVarWithExpression(this.projectName,v,W.everyFrame,A),!A.isRight||null===q)return f.isRight=!1,f.message="模板对象实例化失败：响应帧循环参数格式不正确，错误信息："+A.message+"，请检查！"+b,null;if("bool"!==q.varType)return f.isRight=!1,f.message="模板对象实例化失败：响应帧循环参数变量必须返回bool值类型，当前变量类型："+q.varType+"，请检查！"+b,null}var Z=W.isSequence.trim().toLowerCase(),Q=!1;if("false"===Z||"同时"===Z)Q=!1;else{if("true"!==Z&&"依次"!==Z)return f.isRight=!1,f.message="模板对象实例化失败：响应依次运行状态允许填写格式为：“同时/false”、“依次/true”，不允许填写变量，当前参数为："+W.everyFrame+"，请检查！"+b,null;Q=!0}var X=new n.VE_StateAction;X.setAction(M,Y,q,Q),H.addAction(X)}else if(!this.assignmentAction(this._projectName,v,j,s.VE_Manager.variables(this._projectName),d,W,H,f))return f.message+=b,null}N.addState(H)}}for(V=0;V<r.dataSource.fsmCount;V++)for(j=r.dataSource.getFsmID(V),O=r.dataSource.getFsmData(j),N=d.getFsm(j),L=0;L<O.count;L++){U=O.getStateData(L);var H=N.getStateInSequence(L);for(R=0;R<U.associatedStateCount;R++){for(var J=U.getAssociatedState(R),$=new n.VE_AssociatedState(H),ee=J.split(/,|，/),te=0;te<ee.length;te++){J=ee[te].trim();var re=n.StateConst.STATE_VALUE,ie=J.split("=");if(1===ie.length);else{if(2!==ie.length)return f.isRight=!1,f.message="当前关联状态格式错误，应为“状态名 = 状态值”的形式，请检查！"+b,null;re=ie[1].trim()}var ne=ie[0].trim();if(ne.indexOf(n.StateConst.STATE_SEPARATOR)>-1){for(var ae=ne.split(n.StateConst.STATE_SEPARATOR[0]),oe=0;oe<ae.length;oe++)ae[oe]=ae[oe].trim();if(3===ae.length){if(!P.isCreated(ae[0]))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，在当前系统中无法查找到该对象名，状态："+j+"，关联状态："+J+"，请检查！"+b,null;var se=P.getVeryObject(ae[0]);if(!ae[1].startsWith(n.StateConst.VARIABLE_SYMBOL))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，模板变量填写格式不正确，状态："+j+"，关联状态："+J+"，请检查！"+b,null;E=ae[1].substring(1);return se.isCreatedTemplate(E)?(le=se.getTemplate(E)).dataSource.isCreatedFsm(ae[2])?($.addTemplate(le,ae[2],re,b),f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，应为“（1）状态名（2）对象名.状态名（3）*模板变量.状态名（4）对象名.*局部模板变量.状态名”几种形式，当前不符合，无法解析，状态："+j+"，关联状态："+J+"，请检查！"+b,null):(f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，在当前对象的该模板变量中无法查找到对应状态名，状态："+j+"，关联状态："+J+"，请检查！"+b,null):(f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，在当前对象中无法查找到该模板变量，状态："+j+"，关联状态："+J+"，请检查！"+b,null)}if(2!==ae.length)return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，应为“（1）状态名（2）对象名.状态名（3）*模板变量.状态名（4）对象名.*局部模板变量.状态名”几种形式，当前不符合，无法解析，状态："+j+"，关联状态："+J+"，请检查！"+b,null;var ue=ae[0].trim();if(ne=ae[1].trim(),ue.startsWith(n.StateConst.VARIABLE_SYMBOL))if(ue=ue.substring(1),d.isCreatedTemplate(ue)){if(!(le=d.getTemplate(ue)).dataSource.isCreatedFsm(ae[1]))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“*模板变量.状态名”形式，在当前模板变量中无法查找到对应状态名，状态："+j+"，关联状态："+J+"，请检查！"+b,null;$.addTemplate(le,ae[1],re,b)}else{var le,ce=s.VE_Manager.variables(this._projectName);if(!ce.isCreatedTemplate(ue))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“*模板变量.状态名”形式，在当前模板变量中无法查找到该“*模板变量”，状态："+j+"，关联状态："+J+"，请检查！"+b,null;if(!(le=ce.getTemplate(ue)).dataSource.isCreatedFsm(ae[1]))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“*模板变量.状态名”形式，在当前模板变量中无法查找到对应状态名，状态："+j+"，关联状态："+J+"，请检查！"+b,null;$.addTemplate(le,ae[1],re,b)}else{if(null===(se=P.getVeryObject(ue)))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前关联状态填写格式为“对象名.状态名”，当前系统中无法查找到该对象名，状态："+j+"，关联状态："+J+"，请检查！"+b,null;if(null===(pe=se.getFsm(ne)))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前关联状态填写格式为“对象名.状态名”，当前对象名所对应的对象中无法查找到该状态名，状态："+j+"，关联状态："+J+"，请检查！"+b,null;if(null===(he=pe.getState(re)))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前关联状态填写格式为“对象名.状态名”，当前关联状态序号超出对应状态序号范围，状态："+j+"，关联状态："+J+"，请检查！"+b,null;$.add(he,re,b)}}else{var pe,he;if(null===(pe=d.getFsm(ne)))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“状态名”形式，无法查找到该状态，状态："+j+"，关联状态："+J+"，请检查！"+b,null;if(null===(he=pe.getState(re)))return f.isRight=!1,f.message="模板对象实例化失败：当前关联状态格式错误，当前为“状态名”形式，可以查找到对象和状态，但是状态序号超出范围，状态："+j+"，关联状态："+J+"，请检查！"+b,null;$.add(he,re,b)}}H.addAssociatedState($)}}return r},e.prototype.assignmentAction=function(e,t,r,a,o,c,y,b){var m=new p.VE_Assignment(y,c.totalString),g=c.varID;if(!(g.indexOf(n.StateConst.VARIABLE_SYMBOL)>-1))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左边必须为变量，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(g.indexOf(n.StateConst.STATE_SEPARATOR)>-1){for(var v=g.split(n.StateConst.STATE_SEPARATOR),d=0;d<v.length;d++)v[d]=v[d].trim();if(2===v.length)if(v[0].startsWith(n.StateConst.VARIABLE_SYMBOL)){var P=v[0].substring(1);if(g=v[1].substring(1),o.isCreatedTemplate(P)){if((T=o.getTemplate(P)).varData.isCreatedVariable(g)){if("expression"===(V=T.varData.getVariableParas(g))[1].toLowerCase()||"公式"===V[1].toLowerCase())return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setLeftTemplateVar(T,g)}else{if(!T.dataSource.isCreatedFsm(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setLeftTemplateVar(T,g)}}else{if(!a.isCreatedTemplate(P))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，为全局变量，但是无法查到对应“*变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if((T=a.getTemplate(P)).varData.isCreatedVariable(g)){var V;if("expression"===(V=T.varData.getVariableParas(g))[1].toLowerCase()||"公式"===V[1].toLowerCase())return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setLeftTemplateVar(T,g)}else{if(!T.dataSource.isCreatedFsm(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setLeftTemplateVar(T,g)}}}else{if(!(w=s.VE_Manager.objects(e)).isCreated(v[0]))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*变量”，当前“对象名”无法在系统中查找到，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;var E=w.getVeryObject(v[0]);if(g=g.substring(1),E.isCreatedExpression(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“对象名.*变量”，该变量不能为“公式”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(E.isCreatedFsm(g)){var A=E.getFsm(g).fsmVar;m.setLeftVariable(A)}else if(E.isCreatedVariable(g)){A=E.getVariable(g);m.setLeftVariable(A)}else{if(!E.isCreatedTemplate(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*变量”，当前“对象名”中无法查找到该变量，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;var T=E.getTemplate(g);m.setLeftTemplate(T)}}else{if(3!==v.length)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(v[0].startsWith(n.StateConst.STATE_SEPARATOR)||!v[1].startsWith(n.StateConst.STATE_SEPARATOR)||!v[2].startsWith(n.StateConst.STATE_SEPARATOR))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;P=v[1].substring(1);if(g=v[2].substring(1),!(w=s.VE_Manager.objects(e)).isCreated(v[0]))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(!(S=w.getVeryObject(v[0])).isCreatedTemplate(P))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if((T=S.getTemplate(P)).dataSource.isCreatedFsm(g))m.setLeftTemplateVar(T,g);else{if(!T.varData.isCreatedVariable(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;var j=T.varData.getVariableParas(g);if("expression"===j[1].toLowerCase()||"公式"===j[1].toLowerCase())return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量.*变量”为公式变量，公式变量不可直接赋值，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setLeftTemplateVar(T,g)}}}else{if(g=g.substring(1),o.isCreatedExpression(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(o.isCreatedFsm(g)){A=o.getFsm(g).fsmVar;m.setLeftVariable(A)}else if(o.isCreatedVariable(g)){A=o.getVariable(g);m.setLeftVariable(A)}else if(o.isCreatedTemplate(g)){T=o.getTemplate(g);m.setLeftTemplate(T)}else{if(a.isCreatedExpression(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(a.isCreatedVariable(g)){A=a.getVariable(g);m.setLeftVariable(A)}else{if(!a.isCreatedTemplate(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*变量”，无法在当前系统中查找到该变量，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;T=a.getTemplate(g);m.setLeftTemplate(T)}}}if((g=c.varValue.trim()).startsWith('"')||g.startsWith("'")||g.startsWith("“")||g.startsWith("‘"))m.setRightConst(g.substring(1,g.length-2).trim());else if(i.VE_StringFormat.isFormulaString(g)){var O=new i.ErrorInfo;n.StateConst.AssignmentFormulaCount++;var N=l.VE_Expressions.createLocalExpression(n.StateConst.AssignmentPrefix+n.StateConst.AssignmentFormulaCount.toString(),g,e,t,O);if(!O.isRight||null===N)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“公式”，公式解析错误，请检查！错误信息："+O.message,!1;m.setRightVariable(new u.VeryExpression(N))}else if(g.indexOf(n.StateConst.VARIABLE_SYMBOL)>-1)if(g.indexOf(n.StateConst.STATE_SEPARATOR)>-1){for(v=g.split(n.StateConst.STATE_SEPARATOR),d=0;d<v.length;d++)v[d]=v[d].trim();if(2===v.length)if(v[0].startsWith(n.StateConst.VARIABLE_SYMBOL)){P=v[0].substring(1);if(g=v[1].substring(1),o.isCreatedTemplate(P)){if(!(T=o.getTemplate(P)).varData.isCreatedVariable(g)&&!T.dataSource.isCreatedFsm(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightTemplateVariable(T,g)}else{if(!a.isCreatedTemplate(P))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(!(T=a.getTemplate(P)).varData.isCreatedVariable(g)&&!T.dataSource.isCreatedFsm(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightTemplateVariable(T,g)}}else{if(!(w=s.VE_Manager.objects(e)).isCreated(v[0]))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前“对象名”无法在系统中查找到，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;E=w.getVeryObject(v[0]);g=g.substring(1);var I=null,D=null;if(E.isCreatedExpression(g))I=new u.VeryExpression(E.getExpression(g));else if(E.isCreatedFsm(g))I=E.getFsm(g).fsmVar;else if(E.isCreatedVariable(g))I=E.getVariable(g);else{if(!E.isCreatedTemplate(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前“对象名”中无法查找到该变量，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;D=E.getTemplate(g)}if(null!==I){if(m.leftType===h.AssignType.Template)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧为“模板变量”类型，右侧为“普通变量”类型，无法赋值，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(m.leftType===h.AssignType.Variable){if(!f.VE_AssignmentTypeJudge.allow(m.leftVariable,I))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightVariable(I)}else m.setRightVariable(I)}else{if(null==D)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前赋值响应等号右侧数据无法识别，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(m.leftType!==h.AssignType.Template)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧为“模板变量”，右侧为“普通变量”，无法赋值，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightTemplate(D)}}else{if(3!==v.length)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，无法解析，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(v[0].startsWith(n.StateConst.STATE_SEPARATOR)||!v[1].startsWith(n.StateConst.STATE_SEPARATOR)||!v[2].startsWith(n.StateConst.STATE_SEPARATOR))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;var w,S;P=v[1].substring(1);if(g=v[2].substring(1),!(w=s.VE_Manager.objects(e)).isCreated(v[0]))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(!(S=w.getVeryObject(v[0])).isCreatedTemplate(P))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(!(T=S.getTemplate(P)).dataSource.isCreatedFsm(g)&&!T.varData.isCreatedVariable(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightTemplateVariable(T,g)}}else{g=g.substring(1);I=null,D=null;if(o.isCreatedExpression(g))I=new u.VeryExpression(o.getExpression(g));else if(o.isCreatedFsm(g))I=o.getFsm(g).fsmVar;else if(o.isCreatedVariable(g))I=o.getVariable(g);else if(o.isCreatedTemplate(g))D=o.getTemplate(g);else if(a.isCreatedExpression(g))I=new u.VeryExpression(a.getExpression(g));else if(a.isCreatedVariable(g))I=a.getVariable(g);else if(a.isCreatedTemplate(g))D=a.getTemplate(g);else if(_.VerySceneVariables.Variables.isCreatedExpression(g))I=new u.VeryExpression(_.VerySceneVariables.Variables.getExpression(g));else{if(!_.VerySceneVariables.Variables.isCreatedVariable(g))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，无法在当前系统中查找到该变量，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;I=_.VerySceneVariables.Variables.getVariable(g)}if(null!=I){if(m.leftType===h.AssignType.Template)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，等号左侧类型为“模板变量”，右侧为“普通变量”类型，无法赋值，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(m.leftType===h.AssignType.Variable){if(!f.VE_AssignmentTypeJudge.allow(m.leftVariable,I))return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightVariable(I)}else m.setRightVariable(I)}else{if(null==D)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，但是数据无法识别，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;if(m.leftType!==h.AssignType.Template)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，等号左侧类型为“模板变量”，右侧为“普通变量”类型，无法赋值，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightTemplate(D)}}else if(m.leftType===h.AssignType.Template){if("null"!==g.trim().toLowerCase())return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧为模板变量，右侧赋值为常量时只能填“null”，表示销毁模板变量，当前格式错误，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightNull()}else if(m.leftType===h.AssignType.TemplateVariable)m.setRightConst(g);else{if(null===m.leftVariable)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧变量获取为空，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;O=new i.ErrorInfo;var x=m.leftVariable.initValue(g,O);if(!O.isRight||null===x)return b.isRight=!1,b.message="模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧变量类型与右侧常量值不匹配，状态："+r+"，赋值响应："+c.totalString+"，请检查！",!1;m.setRightConstValue(x)}var C=new n.VE_StateAction;return C.setAssignment(m),y.addAction(C),!0},e}();t.VE_Templates=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayUtility=void 0;var i=function(){function e(){}return e.remove=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},e.clear=function(e){[]},e}();t.ArrayUtility=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_StringFormat=void 0;var i=function(){function e(){}return e.init=function(){this._escapeCharacters.n="\n",this._escapeCharacters.b="\b",this._escapeCharacters.r="\r",this._escapeCharacters.t="\t",this._escapeCharacters.v="\v",this._escapeCharacters.f="\f",this._escapeCharacters[0]="\0",this._illegalChar["="]=!0,this._illegalChar[","]=!0,this._illegalChar["，"]=!0,this._illegalChar[":"]=!0,this._illegalChar["："]=!0,this._illegalChar["*"]=!0,this._illegalChar["("]=!0,this._illegalChar["（"]=!0,this._illegalChar[")"]=!0,this._illegalChar["）"]=!0,this._illegalChar["@"]=!0,this._illegalChar["#"]=!0,this._illegalChar.$=!0,this._illegalChar["%"]=!0,this._illegalChar["&"]=!0,this._illegalChar["^"]=!0,this._illegalChar["-"]=!0,this._illegalChar["+"]=!0,this._illegalChar["|"]=!0,this._illegalChar["/"]=!0,this._illegalChar["["]=!0,this._illegalChar["【"]=!0,this._illegalChar["]"]=!0,this._illegalChar["】"]=!0,this._illegalChar["{"]=!0,this._illegalChar["}"]=!0,this._illegalChar["."]=!0,this._illegalChar["。"]=!0,this._illegalChar["<"]=!0,this._illegalChar[">"]=!0,this._illegalChar[";"]=!0,this._illegalChar["；"]=!0,this._illegalChar["?"]=!0,this._illegalChar['"']=!0,this._illegalChar["“"]=!0,this._illegalChar["”"]=!0,this._illegalChar["'"]=!0,this._illegalChar["‘"]=!0,this._illegalChar["’"]=!0,this._illegalChar["!"]=!0,this._illegalChar["！"]=!0,this._illegalChar["`"]=!0,this._illegalChar["·"]=!0,this._illegalChar["~"]=!0,this._formulaChar["("]=!0,this._formulaChar[")"]=!0,this._formulaChar["（"]=!0,this._formulaChar["）"]=!0,this._formulaChar["!"]=!0,this._formulaChar["！"]=!0,this._formulaChar["^"]=!0,this._formulaChar["%"]=!0,this._formulaChar["&"]=!0,this._formulaChar["-"]=!0,this._formulaChar["+"]=!0,this._formulaChar["="]=!0,this._formulaChar["<"]=!0,this._formulaChar[">"]=!0,this._formulaChar["|"]=!0},e.strEscapeCharacterAction=function(e){for(var t="",r=0;r<e.length;r++)"\\"==e[r]&&r!=e.length-1?(t+=this.getEscapeCharacter(e[r+1]),r++):t+=e[r];return t},e.strSubsectionAction=function(e){for(var t="",r=[],i=!1,n=!1,a=0;a<e.length;a++){if("\\"==e[a]){if(a<e.length-1){t+=e[a+1],a++;continue}t+=e[a];break}if(n||'"'!==e[a]&&"“"!==e[a])if(!n||'"'!==e[a]&&"”"!==e[a])if(","===e[a]||"，"===e[a])i?t+=e[a]:(""!==t&&r.push(t),t="");else{if(" "===e[a])continue;t+=e[a]}else i=!1,n=!1,""!==(t+='"')&&r.push(t),t="";else n=!0,i=!0,t+='"'}return""!==t&&r.push(t),r},e.getEscapeCharacter=function(e){return this._escapeCharacters[e]?this._escapeCharacters[e]:e},e.getEscapeCharacter2=function(e,t){return this._escapeCharacters[e]?(t[0]=!0,this._escapeCharacters[e]):(t[0]=!1,e)},e.strSubsection=function(e){for(var t="",r=[],i=!1,n=!1,a=0;a<e.length;a++){if("\\"==e[a]){if(a<e.length-1){t+=this.getEscapeCharacter(e[a+1]),a++;continue}t+=e[a];break}if("("===e[a]||"（"===e[a]||'"'===e[a]||"“"===e[a])i=!0,n=!1;else if(")"===e[a]||"）"===e[a]||'"'===e[a]||"”"===e[a])i=!1,""!==t&&r.push(t),t="",n=!1;else if(","===e[a]||"，"===e[a])i?t+=e[a]:(""!==t&&r.push(t),t=""),n=!1;else{if(" "===e[a]&&!n)continue;t+=e[a],n=!0}}return""!==t&&r.push(t),r},e.getParaArrayAll=function(e,t){for(var r=t.slice(),i=0;i<r.length;i++)if(r[i].startsWith("$"))if(r[i].indexOf(",")>-1||r[i].indexOf("，")){var n=r[i].split(/,|，/);n=this.getParaArrayAll(e,n);for(var a="",o=0;o<n.length;o++)o===n.length-1?a+=n[o]:(a+=n[o],a+=",");r[i]=a}else console.error("变量名："+r[i]+"，该变量未被创建！");else if(r[i].startsWith("%"))if(r[i].indexOf(",")>-1||r[i].indexOf("，")>-1){n=r[i].split(/,|，/);n=this.getParaArrayAll(e,n);for(a="",o=0;o<n.length;o++)o==n.length-1?a+=n[o]:(a+=n[o],a+=",");r[i]=a}else console.error("变量名："+r[i]+"，该BlurVar变量未被创建！");else if(r[i].indexOf(",")>-1||r[i].indexOf("，")>-1){n=r[i].split(/,|，/);n=this.getParaArrayAll(e,n);for(a="",o=0;o<n.length;o++)o==n.length-1?a+=n[o]:(a+=n[o],a+=",");r[i]=a}return r},e.paraSegment=function(e){for(var t="",r=[],i=!1,n=0,a=!1,o=!1,s=0;s<e.length;s++){if("\\"==e[s]){if(s<e.length-1){var u=[!0],l=this.getEscapeCharacter2(e[s+1],u);u[0]?(s++,t+=l):t+=e[++s];continue}t+=e[s];break}"("===e[s]||"（"===e[s]?o?t+=e[s]:(i?(n++,t+=e[s]):(""!==t.trim()||s<e.length-1&&this.needSaveBracket(e.substring(s+1)))&&(t+=e[s],a=!0),i=!0):")"===e[s]||"）"===e[s]?o?t+=e[s]:n>0?(n--,i=!0,t+=e[s]):i&&a?(t+=e[s],a=!1,i=!1):i=!1:'"'===e[s]||"'"===e[s]||"“"===e[s]||"”"===e[s]||"‘"===e[s]||"’"===e[s]?(t+=e[s],o=!o):","===e[s]||"，"===e[s]?o||i?t+=e[s]:(""!==t&&r.push(t.trim()),t=""):t+=e[s]}return""!==t&&r.push(t.trim()),r},e.needSaveBracket=function(e){for(var t=!1,r=0,i=0;i<e.length;i++){if(t){if(" "===e[i])continue;return","!==e[i]&&"，"!==e[i]}"("===e[i]||"（"===e[i]?r++:")"!==e[i]&&"）"!==e[i]||(r>0?r--:t=!0)}return!1},e.isIDLegal=function(e){for(var t=0;t<e.length;t++)if(this._illegalChar[e[t]])return!1;return!0},e.isFormulaString=function(e){for(var t=0;t<e.length;t++)if(this._formulaChar[e[t]])return!0;return!1},e._illegalChar={},e._formulaChar={},e._escapeCharacters={},e}();t.VE_StringFormat=i,i.init()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParaParserUtility=void 0;var i=r(0),n=r(4),a=r(1),o=r(31),s=r(6),u=r(5),l=r(47),c=function(){function e(){}return e.ParaNumbers=function(e,t,r){for(var a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];for(var s=0;s<a.length;s++)if(a[s]===r)return!0;var u="";for(s=0;s<a.length;s++)u+=0===s?(a[s]+1).toString()+"个":"或者"+(a[s]+1).toString()+"个";return t===i.ParaType.Action?n.VE_ErrorManager.Add(new n.VE_Error("",e+" 响应 需要"+u+"传入参数，当前参数个数为"+(r+1)+"个，请检查！","",i.Severity.Error)):n.VE_ErrorManager.Add(new n.VE_Error("",e+" 触发 需要"+u+"传入参数，当前参数个数为"+(r+1)+"个，请检查！","",i.Severity.Error)),!1},e.GameObjectPara=function(e,t,r,l,c,p,h){if(void 0===h&&(h=!0),a.VarTools.IsVarID(p)){var _=new o.ErrorInfo,f=a.VarTools.GetVeryVar(e,t,p,_);if(null===f){_.clear();var y=a.VarTools.GetTemplate(e,t,p,_);return null===y?(h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，当前系统中无法查找到该变量："+p+"，请检查！","",i.Severity.Error)),!1):null===y.templateInstance?(h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，传入参数为模板变量："+p+"，当前模板变量未实例化，无法获取GameObject，请检查！","",i.Severity.Error)),!1):(c.gameObject.value=y.templateInstance.gameObject,!0)}if("VeryGameObject"===f.className)return c.gameObject=f,!0;if("VeryString"===f.className){var b=f;return c.gameObject.value=u.GameObject.Find(b.value),null!==c.gameObject.value||(h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，物体："+b.value+"，无法在场景中查找到，请检查！","",i.Severity.Error)),!1)}return h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+p+"，应为GameObject变量，请检查！","",i.Severity.Error)),!1}if("this"===p.toLowerCase().trim()){if(null===(m=s.VE_Manager.objects(e).getVeryObject(t)))return h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，当前响应所在对象 ："+t+"，无法在场景中查找到，请检查！","",i.Severity.Error)),!1;c.gameObject.value=m.gameObject}else if("null"===p.toLowerCase().trim()||"none"===p.toLowerCase().trim()||""===p.toLowerCase().trim())c.gameObject.value=null;else{if(p.startsWith("/")){var m;if(m=s.VE_Manager.objects(e).getVeryObject(t)){m.gameObject,p.substring(1).trim();return null!==c.gameObject.value||(h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，对象名："+t+"，物体："+p+"，该子物体无法在当前对象中查找到，请检查！","",i.Severity.Error)),!1)}return h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，当前响应所在对象 ："+t+"，无法在场景中查找到，请检查！","",i.Severity.Error)),!1}if(c.gameObject.value=u.GameObject.Find(p),null===c.gameObject.value)return h&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(l===i.ParaType.Action?"响应":"触发")+" 传入参数错误，物体 ："+t+"，无法在场景中查找到，请检查！","",i.Severity.Error)),!1}return!0},e.GameObjectParaOnlyVar=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，只能为GameObject变量，不能为常量，也不能是模板变量，请检查！","",i.Severity.Error)),!1):"VeryGameObject"===h.className?(u.gameObject=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为GameObject变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为GameObject变量，不能为常量，请检查！","",i.Severity.Error)),!1},e.StringPara=function(t,r,i,n,o,s,u){return void 0===u&&(u=!0),a.VarTools.IsVarID(s)?e.StringParaOnlyVar(t,r,i,n,o,s,u):(o.string.value=s,!0)},e.StringParaWithExpression=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVarWithExpression(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryString"===h.className?(u.string=h,!0):"VeryExpression"===h.className?"string"===h.varType?(u.string.setExpression(h),!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为String，请检查！","",i.Severity.Error)),!1):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为String变量，请检查！","",i.Severity.Error)),!1)}return u.string.value=l,!0},e.StringParaOnlyVar=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryString"===h.className?(u.string=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为String变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为String变量，不能为常量，请检查！","",i.Severity.Error)),!1},e.NumberPara=function(t,r,o,s,u,l,c){return void 0===c&&(c=!0),a.VarTools.IsVarID(l)?e.NumberParaOnlyVar(t,r,o,s,u,l,c):(u.number.value=parseFloat(l),!isNaN(u.number.value)||(n.VE_ErrorManager.Add(new n.VE_Error("",o+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1))},e.NumberParaWithExpression=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVarWithExpression(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryNumber"===h.className?(u.number=h,!0):"VeryExpression"===h.className?"number"===h.varType?(u.number.setExpression(h),!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为number数字，请检查！","",i.Severity.Error)),!1):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查，请检查！","",i.Severity.Error)),!1)}return u.number.value=parseFloat(l),!isNaN(u.number.value)||(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1)},e.NumberParaOnlyVar=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryNumber"===h.className?(u.number=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，不能为常量，请检查！","",i.Severity.Error)),!1},e.BoolPara=function(t,r,s,u,c,p,h){if(void 0===h&&(h=!0),a.VarTools.IsVarID(p))return e.BoolParaOnlyVar(t,r,s,u,c,p,h);var _=new o.ErrorInfo;return c.bool.value=l.VE_TypeConvert.boolConvert(p,_),!1!==_.isRight||(n.VE_ErrorManager.Add(new n.VE_Error("",s+"  "+(u===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+p+"，应为bool常量，请检查！","",i.Severity.Error)),!1)},e.BoolParaWithExpression=function(e,t,r,s,u,c,p){if(void 0===p&&(p=!0),a.VarTools.IsVarID(c)){var h=new o.ErrorInfo,_=a.VarTools.GetVeryVar(e,t,c,h);return null===_?(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+c+"，"+h.message,"",i.Severity.Error)),!1):"VeryBool"===_.className?(u.bool=_,!0):"VeryExpression"===_.className?"bool"===_.varType?(u.bool.setExpression(_),!0):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+c+"，该公式变量计算结果不为bool，请检查！","",i.Severity.Error)),!1):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+c+"，应为bool变量，请检查！","",i.Severity.Error)),!1)}h=new o.ErrorInfo;return u.bool.value=l.VE_TypeConvert.boolConvert(c,h),!1!==h.isRight||(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+c+"，应为bool常量，请检查！","",i.Severity.Error)),!1)},e.BoolParaOnlyVar=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryBool"===h.className?(u.bool=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为bool常量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为bool变量，不能为常量，请检查！","",i.Severity.Error)),!1},e.Vector3Para=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryVector3"===h.className?(u.vector3=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3向量变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3向量变量，当前为常量字符串，请检查！","",i.Severity.Error)),!1},e.Vector3OrNumberPara=function(e,t,r,a,o,s,u){if(void 0===u&&(u=!0),s.indexOf(",")>-1||s.indexOf("，")>-1){o.isVec=!1;var l=s.split(/,|，/);return 3===l.length?!!this.privateNumberPara(e,t,r,a,o,l[0].trim(),0,u)&&(!!this.privateNumberPara(e,t,r,a,o,l[1].trim(),1,u)&&!!this.privateNumberPara(e,t,r,a,o,l[2].trim(),2,u)):(u&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(a===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+s+"，应为“（数字1, 数字2, 数字3）”格式的数字number变量，当前参数个数不符合，请检查！","",i.Severity.Error)),!1)}return o.isVec=!0,this.Vector3Para(e,t,r,a,o,s,u)},e.Vector3ParaWithExpression=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVarWithExpression(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryVector3"===h.className?(u.vector3=h,!0):"VeryExpression"===h.className?"Vector3"===h.varType?(u.vector3.setExpression(h),!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为Vector3，请检查！","",i.Severity.Error)),!1):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3变量，当前为常量字符串，请检查！","",i.Severity.Error)),!1},e.Vector3OrNumberParaWithExpression=function(e,t,r,a,o,s,u){if(void 0===u&&(u=!0),s.indexOf(",")>-1||s.indexOf("，")>-1){o.isVec=!1;var l=s.split(/,|，/);return 3===l.length?!!this.privateNumberParaWithExpression(e,t,r,a,o,l[0].trim(),0,u)&&(!!this.privateNumberParaWithExpression(e,t,r,a,o,l[1].trim(),1,u)&&!!this.privateNumberParaWithExpression(e,t,r,a,o,l[2].trim(),2,u)):(u&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(a===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+s+"，应为“（数字1, 数字2, 数字3）”格式的Vector3变量，当前参数个数不符合，请检查！","",i.Severity.Error)),!1)}return o.isVec=!0,this.Vector3ParaWithExpression(e,t,r,a,o,s,u)},e.privateNumberParaWithExpression=function(e,t,r,s,u,l,c,p){if(void 0===p&&(p=!0),a.VarTools.IsVarID(l)){var h=new o.ErrorInfo,_=a.VarTools.GetVeryVarWithExpression(e,t,l,h);return null===_?(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+h.message,"",i.Severity.Error)),!1):"VeryNumber"===_.className?(u.vecNumbers[c]=_,!0):"VeryExpression"===_.className?"number"===_.varType?(u.vecNumbers[c].setExpression(_),!0):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为number数字，请检查！","",i.Severity.Error)),!1):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查，请检查！","",i.Severity.Error)),!1)}return u.vecNumbers[c].value=parseFloat(l),!isNaN(u.vecNumbers[c].value)||(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1)},e.privateNumberPara=function(t,r,o,s,u,l,c,p){return void 0===p&&(p=!0),a.VarTools.IsVarID(l)?e.privateNumberParaOnlyVar(t,r,o,s,u,l,c,p):(u.vecNumbers[c].value=parseFloat(l),!isNaN(u.vecNumbers[c].value)||(n.VE_ErrorManager.Add(new n.VE_Error("",o+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1))},e.privateNumberParaOnlyVar=function(e,t,r,s,u,l,c,p){if(void 0===p&&(p=!0),a.VarTools.IsVarID(l)){var h=new o.ErrorInfo,_=a.VarTools.GetVeryVar(e,t,l,h);return null===_?(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+h.message,"",i.Severity.Error)),!1):"VeryNumber"===_.className?(u.vecNumbers[c]=_,!0):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查！","",i.Severity.Error)),!1)}return p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，不能为常量，请检查！","",i.Severity.Error)),!1},e.RectPara=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryRect"===h.className?(u.rect=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3向量变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3向量变量，当前为常量字符串，请检查！","",i.Severity.Error)),!1},e.RectOrNumberPara=function(e,t,r,a,o,s,u){if(void 0===u&&(u=!0),s.indexOf(",")>-1||s.indexOf("，")>-1){o.isRect=!1;var l=s.split(/,|，/);return 4===l.length?!!this.privateRectNumberPara(e,t,r,a,o,l[0].trim(),0,u)&&(!!this.privateRectNumberPara(e,t,r,a,o,l[1].trim(),1,u)&&(!!this.privateRectNumberPara(e,t,r,a,o,l[2].trim(),2,u)&&!!this.privateRectNumberPara(e,t,r,a,o,l[3].trim(),3,u))):(u&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(a===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+s+"，应为“（数字1, 数字2, 数字3）”格式的数字number变量，当前参数个数不符合，请检查！","",i.Severity.Error)),!1)}return o.isRect=!0,this.RectPara(e,t,r,a,o,s,u)},e.RectParaWithExpression=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVarWithExpression(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryRect"===h.className?(u.rect=h,!0):"VeryExpression"===h.className?"Rect"===h.varType?(u.rect.setExpression(h),!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为Vector3，请检查！","",i.Severity.Error)),!1):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3变量，当前为常量字符串，请检查！","",i.Severity.Error)),!1},e.RectOrNumberParaWithExpression=function(e,t,r,a,o,s,u){if(void 0===u&&(u=!0),s.indexOf(",")>-1||s.indexOf("，")>-1){o.isRect=!1;var l=s.split(/,|，/);return 4===l.length?!!this.privateRectNumberParaWithExpression(e,t,r,a,o,l[0].trim(),0,u)&&(!!this.privateRectNumberParaWithExpression(e,t,r,a,o,l[1].trim(),1,u)&&(!!this.privateRectNumberParaWithExpression(e,t,r,a,o,l[2].trim(),2,u)&&!!this.privateRectNumberParaWithExpression(e,t,r,a,o,l[3].trim(),3,u))):(u&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(a===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+s+"，应为“（数字1, 数字2, 数字3）”格式的Vector3变量，当前参数个数不符合，请检查！","",i.Severity.Error)),!1)}return o.isRect=!0,this.RectParaWithExpression(e,t,r,a,o,s,u)},e.privateRectNumberParaWithExpression=function(e,t,r,s,u,l,c,p){if(void 0===p&&(p=!0),a.VarTools.IsVarID(l)){var h=new o.ErrorInfo,_=a.VarTools.GetVeryVarWithExpression(e,t,l,h);return null===_?(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+h.message,"",i.Severity.Error)),!1):"VeryNumber"===_.className?(u.rectNumbers[c]=_,!0):"VeryExpression"===_.className?"number"===_.varType?(u.rectNumbers[c].setExpression(_),!0):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为number数字，请检查！","",i.Severity.Error)),!1):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查，请检查！","",i.Severity.Error)),!1)}return u.rectNumbers[c].value=parseFloat(l),!isNaN(u.rectNumbers[c].value)||(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1)},e.privateRectNumberPara=function(t,r,o,s,u,l,c,p){return void 0===p&&(p=!0),a.VarTools.IsVarID(l)?e.privateNumberParaOnlyVar(t,r,o,s,u,l,c,p):(u.rectNumbers[c].value=parseFloat(l),!isNaN(u.rectNumbers[c].value)||(n.VE_ErrorManager.Add(new n.VE_Error("",o+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1))},e.privateRectNumberParaOnlyVar=function(e,t,r,s,u,l,c,p){if(void 0===p&&(p=!0),a.VarTools.IsVarID(l)){var h=new o.ErrorInfo,_=a.VarTools.GetVeryVar(e,t,l,h);return null===_?(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+h.message,"",i.Severity.Error)),!1):"VeryNumber"===_.className?(u.rectNumbers[c]=_,!0):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查！","",i.Severity.Error)),!1)}return p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，不能为常量，请检查！","",i.Severity.Error)),!1},e.Vector2Para=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryVector2"===h.className?(u.vector2=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3向量变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3向量变量，当前为常量字符串，请检查！","",i.Severity.Error)),!1},e.Vector2OrNumberPara=function(e,t,r,a,o,s,u){if(void 0===u&&(u=!0),s.indexOf(",")>-1||s.indexOf("，")>-1){o.isVec2=!1;var l=s.split(/,|，/);return 2===l.length?!!this.privateVector2NumberPara(e,t,r,a,o,l[0].trim(),0,u)&&!!this.privateVector2NumberPara(e,t,r,a,o,l[1].trim(),1,u):(u&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(a===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+s+"，应为“（数字1, 数字2, 数字3）”格式的数字number变量，当前参数个数不符合，请检查！","",i.Severity.Error)),!1)}return o.isVec2=!0,this.Vector2Para(e,t,r,a,o,s,u)},e.Vector2ParaWithExpression=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVarWithExpression(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryVector2"===h.className?(u.vector2=h,!0):"VeryExpression"===h.className?"Vector2"===h.varType?(u.vector2.setExpression(h),!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为Vector3，请检查！","",i.Severity.Error)),!1):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为Vector3变量，当前为常量字符串，请检查！","",i.Severity.Error)),!1},e.Vector2OrNumberParaWithExpression=function(e,t,r,a,o,s,u){if(void 0===u&&(u=!0),s.indexOf(",")>-1||s.indexOf("，")>-1){o.isVec2=!1;var l=s.split(/,|，/);return 2===l.length?!!this.privateVector2NumberParaWithExpression(e,t,r,a,o,l[0].trim(),0,u)&&!!this.privateVector2NumberParaWithExpression(e,t,r,a,o,l[1].trim(),1,u):(u&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(a===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+s+"，应为“（数字1, 数字2, 数字3）”格式的Vector3变量，当前参数个数不符合，请检查！","",i.Severity.Error)),!1)}return o.isVec2=!0,this.Vector2ParaWithExpression(e,t,r,a,o,s,u)},e.privateVector2NumberParaWithExpression=function(e,t,r,s,u,l,c,p){if(void 0===p&&(p=!0),a.VarTools.IsVarID(l)){var h=new o.ErrorInfo,_=a.VarTools.GetVeryVarWithExpression(e,t,l,h);return null===_?(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+h.message,"",i.Severity.Error)),!1):"VeryNumber"===_.className?(u.vec2Numbers[c]=_,!0):"VeryExpression"===_.className?"number"===_.varType?(u.vec2Numbers[c].setExpression(_),!0):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为number数字，请检查！","",i.Severity.Error)),!1):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查，请检查！","",i.Severity.Error)),!1)}return u.vec2Numbers[c].value=parseFloat(l),!isNaN(u.vec2Numbers[c].value)||(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1)},e.privateVector2NumberPara=function(t,r,o,s,u,l,c,p){return void 0===p&&(p=!0),a.VarTools.IsVarID(l)?e.privateVector2NumberParaOnlyVar(t,r,o,s,u,l,c,p):(u.vec2Numbers[c].value=parseFloat(l),!isNaN(u.vec2Numbers[c].value)||(n.VE_ErrorManager.Add(new n.VE_Error("",o+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字常量，请检查！","",i.Severity.Error)),!1))},e.privateVector2NumberParaOnlyVar=function(e,t,r,s,u,l,c,p){if(void 0===p&&(p=!0),a.VarTools.IsVarID(l)){var h=new o.ErrorInfo,_=a.VarTools.GetVeryVar(e,t,l,h);return null===_?(n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+h.message,"",i.Severity.Error)),!1):"VeryNumber"===_.className?(u.vec2Numbers[c]=_,!0):(p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，请检查！","",i.Severity.Error)),!1)}return p&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为number数字变量，不能为常量，请检查！","",i.Severity.Error)),!1},e.MaterialPara=function(t,r,i,n,o,s,u){return void 0===u&&(u=!0),a.VarTools.IsVarID(s)?e.MaterialParaOnlyVar(t,r,i,n,o,s,u):(o.string.value=s,!0)},e.MaterialParaWithExpression=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVarWithExpression(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryMaterial"===h.className?(u.material=h,!0):"VeryExpression"===h.className?"string"===h.varType?(u.string.setExpression(h),!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，该公式变量计算结果不为String，请检查！","",i.Severity.Error)),!1):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为String变量，请检查！","",i.Severity.Error)),!1)}return u.material.value=null,!0},e.MaterialParaOnlyVar=function(e,t,r,s,u,l,c){if(void 0===c&&(c=!0),a.VarTools.IsVarID(l)){var p=new o.ErrorInfo,h=a.VarTools.GetVeryVar(e,t,l,p);return null===h?(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，"+p.message,"",i.Severity.Error)),!1):"VeryMaterial"===h.className?(u.material=h,!0):(c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为String变量，请检查！","",i.Severity.Error)),!1)}return c&&n.VE_ErrorManager.Add(new n.VE_Error("",r+"  "+(s===i.ParaType.Action?"响应":"触发")+" 传入参数错误，变量："+l+"，应为String变量，不能为常量，请检查！","",i.Severity.Error)),!1},e}();t.ParaParserUtility=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameGlobal=void 0;var i=function(){function e(){}return e.PlatformLoaded=!1,e}();t.GameGlobal=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_ErrorManager=t.VE_Error=void 0;var i=r(0),n=function(){function e(e,t,r,n){this._pos="",this._message="",this._tableName="",this._severity=i.Severity.Error,this._pos=e,this._message=t,this._severity=n,this._tableName=r}return e.warning=function(t,r,n){return new e(t,r,n,i.Severity.Warning)},e.error=function(t,r,n){return new e(t,r,n,i.Severity.Error)},e.prototype.getPos=function(){return this._pos},e.prototype.getMessage=function(){return this._message},e.prototype.getTableName=function(){return this._tableName},e.prototype.getSeverity=function(){return this._severity},e.prototype.toString=function(){return"位置："+this._pos+"，错误信息："+this._message+"，表格名："+this._tableName},e}();t.VE_Error=n;var a=function(){function e(){}return Object.defineProperty(e,"Count",{get:function(){return this._errorList.length},enumerable:!1,configurable:!0}),e.Add=function(e){this._errorList.push(e)},e.GetError=function(e){return this._errorList[e]},e.Print=function(e){if(e)for(var t=0;t<this._errorList.length;t++)this._errorList[t].getSeverity()===i.Severity.Error?(console.error("编译错误 >>> "+e+" -> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--):this._errorList[t].getSeverity()===i.Severity.Warning&&(console.warn("编译警告 >>> "+e+" -> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--);else for(t=0;t<this._errorList.length;t++)this._errorList[t].getSeverity()===i.Severity.Error?(console.error("编译错误 >>> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--):this._errorList[t].getSeverity()===i.Severity.Warning&&(console.warn("编译警告 >>> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--)},e.PrintWarnning=function(e){if(e)for(var t=0;t<this._errorList.length;t++)this._errorList[t].getSeverity()===i.Severity.Warning&&(console.warn("编译警告 >>> "+e+" -> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--);else for(t=0;t<this._errorList.length;t++)this._errorList[t].getSeverity()===i.Severity.Warning&&(console.warn("编译警告 >>> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--)},e.PrintError=function(e){if(e)for(var t=0;t<this._errorList.length;t++)this._errorList[t].getSeverity()===i.Severity.Error&&(console.error("编译错误 >>> "+e+" -> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--);else for(t=0;t<this._errorList.length;t++)this._errorList[t].getSeverity()===i.Severity.Error&&(console.error("编译错误 >>> "+e+" -> "+this._errorList[t].toString()),this._errorList.splice(t,1),t--)},e._errorList=[],e}();t.VE_ErrorManager=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerGlobal=void 0;var i=function(){function e(){}return e.Init=function(){},e.AddKeyboard=function(e,t){var r=this;-1===this._scenes.indexOf(t.scene)&&(this._scenes.push(t.scene),t.scene.onKeyboardObservable.add((function(e){e.type===BABYLON.KeyboardEventTypes.KEYDOWN?r._keyUpdate[e.event.key.toLowerCase()]=!0:r._keyUpdate[e.event.key.toLowerCase()]=!1}))),this._triggerList.push(t)},e.RemoveKeyboard=function(e){},e.KeyboardUpdate=function(){for(var e=0;e<this._triggerList.length;e++)this._triggerList[e].enabled&&this._keyUpdate[this._keysDic[this._triggerList[e].unionID]]},e.clear=function(){},e.clearProject=function(e){this._scenes[0].onKeyboardObservable.clear()},e.KEYMAP={},e._keyUpdate={},e._keysDic={},e._triggerList=[],e._scenes=[],e._initialized=!1,e}();t.TriggerGlobal=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerySceneVariables=void 0;var i=r(1),n=function(){function e(){}return Object.defineProperty(e,"Variables",{get:function(){return null===e._variables&&(e._variables=new i.VE_Variables("__scene_varibale__")),e._variables},enumerable:!1,configurable:!0}),Object.defineProperty(e,"HasLoaded",{get:function(){return this._hasLoaded},enumerable:!1,configurable:!0}),e.initIfNeeded=function(){this._hasLoaded||console.log("TODO: 场景变量下载")},e._variables=null,e._hasLoaded=!1,e}();t.VerySceneVariables=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryEngineObject=void 0;var i=r(9),n=r(5),a=function(){function e(e,t,r){this._projectName="",this._objectID="",this.template=null,this._variables={},this._expressions={},this._actions={},this._triggers={},this._fsms={},this._templates={},this._unloadCallback=null,this._projectName=e,this._objectID=t,this.gameObject=r,this.dataSource=new i.VE_DataSource(e,t,!1),this.varData=new i.VE_VariableData(e)}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectID",{get:function(){return this._objectID},enumerable:!1,configurable:!0}),e.prototype.isCreatedFsm=function(e){return!!this._fsms[e]},e.prototype.addFsm=function(e,t){this._fsms[e]=t},e.prototype.getFsm=function(e){return this._fsms[e]},e.prototype.isCreatedTrigger=function(e){return!!this._triggers[e]},e.prototype.addTrigger=function(e,t){this._triggers[e]=t},e.prototype.getTrigger=function(e){return this._triggers[e]},e.prototype.isCreatedAction=function(e){return!!this._actions[e]},e.prototype.addAction=function(e,t){this._actions[e]=t},e.prototype.getAction=function(e){return this._actions[e]},e.prototype.isCreatedVariable=function(e){return!!this._variables[e]},e.prototype.addVariable=function(e,t){this._variables[e]=t},e.prototype.getVariable=function(e){return this._variables[e]},e.prototype.isCreatedExpression=function(e){return!!this._expressions[e]},e.prototype.addExpression=function(e,t){this._expressions[e]=t},e.prototype.getExpression=function(e){return this._expressions[e]},e.prototype.isCreatedTemplate=function(e){return!!this._templates[e]},e.prototype.addTemplate=function(e,t){this._templates[e]=t},e.prototype.getTemplate=function(e){return this._templates[e]},e.prototype.isCreatedVar=function(e){return!!(this._variables[e]||this._expressions[e]||this._templates[e])},e.prototype.update=function(){var e=this;Object.keys(this._triggers).forEach((function(t){e._triggers[t].update()})),Object.keys(this._actions).forEach((function(t){e._actions[t].update()}))},e.prototype.unload=function(){null!=this._unloadCallback&&(this._unloadCallback(this._objectID),this.clear(),this.gameObject&&n.GameObject.Destroy(this.gameObject))},e.prototype.setUnloadCallback=function(e){this._unloadCallback=e},e.prototype.clear=function(){var e=this;this.dataSource&&this.dataSource.clear(),this.varData&&this.varData.clear(),this._variables={},this._expressions={},this._templates&&(Object.keys(this._templates).forEach((function(t){e._templates[t].clear()})),this._templates={}),this._fsms={},this.template=null,this._actions&&(Object.keys(this._actions).forEach((function(t){e._actions[t].destroy()})),this._actions={}),this._triggers&&(Object.keys(this._triggers).forEach((function(t){e._triggers[t].destroy()})),this._triggers={})},e}();t.VeryEngineObject=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var i=r(23),n=function(){function e(){}return Object.defineProperty(e,"frameCounter",{get:function(){return i.BabylonEngine.Scene.getFrameId()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"deltaTime",{get:function(){return.001*i.BabylonEngine.Engine.getDeltaTime()},enumerable:!1,configurable:!0}),e.start=function(){this._startDate=new Date,this._startSecond=this._startDate.valueOf()/1e3},Object.defineProperty(e,"time",{get:function(){return(new Date).valueOf()/1e3-this._startSecond},enumerable:!1,configurable:!0}),e}();t.Time=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Objects=void 0;var i=r(2),n=function(){function e(e){this._projectName="",this._objectIDs=[],this._objectDics={},this._projectName=e}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._objectIDs.length},enumerable:!1,configurable:!0}),e.prototype.isCreated=function(e){return!!this._objectDics[e]},e.prototype.add=function(e,t){this.isCreated(e)||(this._objectIDs.push(e),this._objectDics[e]=t)},e.prototype.getObjectID=function(e){return e>=0&&e<this._objectIDs.length?this._objectIDs[e]:""},e.prototype.getVeryObject=function(e){return this._objectDics[e]},e.prototype.unloadObject=function(e){i.ArrayUtility.remove(this._objectIDs,e),delete this._objectDics.object_id},e.prototype.clear=function(){for(var e=0;e<this._objectIDs.length;e++){var t=this._objectDics[this._objectIDs[e]];t&&t.clear()}this._objectIDs=[],this._objectDics={}},e}();t.VE_Objects=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_State=void 0;var i=r(44),n=r(0),a=r(1),o=r(45),s=function(){function e(e,t){this._isInitialValue=!1,this._value="",this._assignmentType=n.AssignmentType.Const,this._isTemplateVar=!1,this._template=null,this._varID="",this._templateVar=null,this._assignmentStr="",this._logicalExpression=null,this._index=0,this._stateVariable=null,this.logicalAssociated=null,this._stateActions=[],this._associatedStates=[],this._isSequence=!1,this._sequenceActions=new o.VE_SequenceActions,this._fsm=e,this._index=t}return Object.defineProperty(e.prototype,"Fsm",{get:function(){return this._fsm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInitialValue",{get:function(){return this._isInitialValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTemplateVar",{get:function(){return this._isTemplateVar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logicalExpression",{get:function(){return this._logicalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stateVariable",{get:function(){return this._stateVariable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsSequence",{get:function(){return this._isSequence},enumerable:!1,configurable:!0}),e.prototype.setInitialValue=function(e){this._value=e,this._assignmentType=n.AssignmentType.Const},e.prototype.setSequence=function(){this._isSequence=!0},e.prototype.setLogicalExpression=function(e){this._logicalExpression=e},e.prototype.setTemplateInfo=function(e,t,r){this._isTemplateVar=!0,this._template=e,this._varID=t,this._assignmentStr=r},e.prototype.setConstValue=function(e){this._value=e,this._assignmentType=n.AssignmentType.Const},e.prototype.setStateVariable=function(e){this._stateVariable=e,this._assignmentType=n.AssignmentType.Variable},e.prototype.addAction=function(e){this._stateActions.push(e),e.type===n.StateActionType.Action&&e.action.isSequence&&(this._isSequence=!0)},e.prototype.addAssignment=function(e){var t=new i.VE_StateAction;t.setAssignment(e),this._stateActions.push(t)},e.prototype.addAssociatedState=function(e){this._associatedStates.push(e)},e.prototype.action=function(e){if(this._fsm.receiveEvent(e))if(this.Fsm.setValue(this.Value),this._isSequence){for(t=0;t<this._stateActions.length;t++)if(this._stateActions[t].type===n.StateActionType.Action&&this._stateActions[t].action.type===n.ActionType.Animation){if(this._stateActions[t].action.SequenceState===n.SequenceActionState.Prepared||this._stateActions[t].action.SequenceState===n.SequenceActionState.Running)return void console.error("错误信息 >>> （项目："+this._fsm.projectName+"，对象："+this._fsm.objectID+"，状态："+this._fsm.fsmID+"，ID："+this._index+"），当前状态中的响应："+this._stateActions[t].action.actionID+"，该响应处于“依次”运行状态，运行结束前不允许再次启动！");if(this._stateActions[t].action.SequenceState===n.SequenceActionState.Pause)return void console.error("错误信息 >>> （项目："+this._fsm.projectName+"，对象："+this._fsm.objectID+"，状态："+this._fsm.fsmID+"，ID："+this._index+"），当前状态中的响应："+this._stateActions[t].action.actionID+"，该响应处于“依次”运行状态（暂停中），运行结束前不允许再次启动！")}this._sequenceActions.sequenceAction(this._stateActions,this._associatedStates)}else{for(var t=0;t<this._stateActions.length;t++){var r=this._stateActions[t];r.type===n.StateActionType.Action?r.action.action(r.enabled.getValue(),r.everyFrame.getValue()):r.assignment.assign()}if(this._associatedStates.length>0)for(var t=0;t<this._associatedStates.length;t++)this._associatedStates[t].connect()}},e.prototype.getTemplateVar=function(){if(null===this._template.templateInstance)return console.error("错误信息 >>> 项目："+this._fsm.projectName+"，对象："+this._fsm.objectID+"，状态："+this._fsm.fsmID+"，状态赋值："+this._assignmentStr+"，当前赋值模板对象未实例化，赋值前，请先启动对应响应实例化该模板对象！"),void(this._templateVar=null);if(this._template.templateInstance.isCreatedVariable(this._varID))this._templateVar=this._template.templateInstance.getVariable(this._varID);else if(this._template.templateInstance.isCreatedExpression(this._varID))this._templateVar=new a.VeryExpression(this._template.templateInstance.getExpression(this._varID));else{if(!this._template.templateInstance.isCreatedFsm(this._varID))return console.error("错误信息 >>> 项目："+this._fsm.projectName+"，对象："+this._fsm.objectID+"，状态："+this._fsm.fsmID+"，状态赋值："+this._assignmentStr+"，在模板变量对象中无法查找到该变量："+this._varID+"，请检查！"),void(this._templateVar=null);this._templateVar=this._template.templateInstance.getFsm(this._varID).fsmVar}this._fsm.setValue(this._templateVar.getValue())},e}();t.VE_State=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Fsm=void 0;var i=r(5),n=r(16),a=function(){function e(e,t,r,i,n){this._projectName="",this._id="",this._objectID="",this._fsmID="",this._stateDics={},this._states=[],this._frameCount=-1,this._triggerIDs=[],this._projectName=e,this._objectID=t,this._fsmID=r,this._fsmVar=i,this._veryObject=n}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectID",{get:function(){return this._objectID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fsmID",{get:function(){return this._fsmID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fsmVar",{get:function(){return this._fsmVar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VeryObject",{get:function(){return this._veryObject},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._states.length},enumerable:!1,configurable:!0}),e.prototype.isCreatedState=function(e){return!!this._stateDics[e]},e.prototype.addState=function(e){this._states.push(e)},e.prototype.getState=function(e){for(var t=0;t<this._states.length;t++)if(this._states[t].Value===e)return this._states[t];return null},e.prototype.getStateInSequence=function(e){return e>=0&&e<this._states.length?this._states[e]:null},e.prototype.removeState=function(e){delete this._stateDics[e]},e.prototype.receiveEvent=function(e){return i.BabylonEngine.Scene.getFrameId()!=this._frameCount?(this._frameCount=i.BabylonEngine.Scene.getFrameId(),this._triggerIDs=[],this._triggerIDs.push(e),!0):!!e.startsWith(n.StateConst.ASSOCIATED_STATE_PREFIX)||-1===this._triggerIDs.indexOf(e)&&(this._triggerIDs.push(e),!0)},e.prototype.setValue=function(e){this._fsmVar.setValue(e)},e.prototype.hasStateValue=function(e){for(var t=0;t<this._states.length;t++)if(this._states[t].Value===e)return!0;return!1},e}();t.VE_Fsm=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_AssociatedState=void 0;var i=r(0),n=r(16),a=function(){function e(e){this._types=[],this._indexs=[],this._posArray=[],this._stateValues={},this._states={},this._templates={},this._templateFsmIDs={},this._fromState=e}return Object.defineProperty(e.prototype,"FromState",{get:function(){return this._fromState},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t,r){this._types.push(i.AssociatedFsmType.Object);var n=this._types.length;this._indexs.push(n),this._stateValues[n]=t,this._states[n]=e,this._posArray.push(r)},e.prototype.addTemplate=function(e,t,r,n){this._types.push(i.AssociatedFsmType.Template);var a=this._types.length;this._indexs.push(a),this._stateValues[a]=r,this._templates[a]=e,this._templateFsmIDs[a]=t,this._posArray.push(n)},e.prototype.connect=function(){for(var e=0;e<this._types.length;e++){var t=this._types[e],r=this._indexs[e];if(t!==i.AssociatedFsmType.Object){var a,o=this._templates[r],s=this._templateFsmIDs[r],u=this._stateValues[r];return null!==o.templateInstance?o.templateInstance.isCreatedFsm(s)?null!==(a=o.templateInstance.getFsm(s).getState(u))?void a.action(n.StateConst.ASSOCIATED_STATE_PREFIX+this._fromState.Fsm.ID):void console.error("错误信息 >>> 位置："+this._posArray[e]+"，信息：项目名："+this._fromState.Fsm.projectName+"，对象名："+this._fromState.Fsm.objectID+"，关联起始状态："+this._fromState.Fsm.fsmID+"，关联模板变量："+o.templateVarID+"，目标状态名："+s+"，状态值："+u+"，关联状态错误：在目标模板变量的目标状态中，无法查找到该状态，请检查！"):void console.error("错误信息 >>> 位置："+this._posArray[e]+"，信息：项目名："+this._fromState.Fsm.projectName+"，对象名："+this._fromState.Fsm.objectID+"，关联起始状态："+this._fromState.Fsm.fsmID+"，关联模板变量："+o.templateVarID+"，目标状态名："+s+"，关联状态错误：在目标模板变量中无法查找到该目标状态名，请检查！"):void console.error("错误信息 >>> 位置："+this._posArray[e]+"，信息：项目名："+this._fromState.Fsm.projectName+"，对象名："+this._fromState.Fsm.objectID+"，关联起始状态："+this._fromState.Fsm.fsmID+"，关联模板变量："+o.templateVarID+"，关联状态错误：当前模板变量未实例化创建，请检查！")}if(null===(a=this._states[r]).logicalAssociated||!0===a.logicalAssociated.evaluate())return void a.action(n.StateConst.ASSOCIATED_STATE_PREFIX+this._fromState.Fsm.ID)}},e}();t.VE_AssociatedState=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Reset=void 0;var i=r(42),n=function(){function e(){}return e.dispose=function(){i.VE_Manager.clear()},e.addClear=function(e){this._clearTotal.push(e)},e.addProjectClear=function(e){this._clearProject.push(e)},e.clear=function(){this._clearTotal.forEach((function(e){e()}))},e.clearProject=function(e){this._clearProject.forEach((function(t,r){t(e)}))},e._clearTotal=[],e._clearProject=[],e}();t.VE_Reset=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpManager=void 0;var i=r(21),n=r(19),a=r(22),o=r(0),s=r(14),u=function(){function e(){}return e.init=function(){this._scope=i.Scope.Create()},e.isCreated=function(e){return!!this._scope.isCreated(e)||!!this._expVariable[e]},e.isCreatedVariable=function(e){return!!this._scope.isCreated(e)},e.isCreatedExpression=function(e){return!!this._expVariable[e]},e.createVariable=function(e,t,r){return this.errors=[],this.isCreated(e)?(this.errors.push(n.ParseError.Error(new n.NameLocation(e),"变量："+e+"，类型："+t+"，该变量已创建，请勿重复创建！")),!1):(this._scope.setVariable(e,t,r),!0)},e.createExpression=function(e,t){if(this.errors=[],this.isCreated(e))return this.errors.push(n.ParseError.Error(new n.NameLocation(e),"表达式名："+e+"，表达式："+t+"，该表达式已定义，请勿重复定义！")),!1;var r=a.VE_ExpressionParsing.parsing(e,t,this._scope,this._projectName,"","",o.VariableScope.Scene);if(a.VE_ExpressionParsing.errors.length>0){for(var i=0;i<a.VE_ExpressionParsing.errors.length;i++)this.errors.push(a.VE_ExpressionParsing.errors[i]);return!1}return this._expVariable[e]=r,!0},e.getValue=function(e){return this.isCreated(e)?this.isCreatedVariable(e)?this._scope.find(e).getValue():this._expVariable[e].evaluate():null},e.getExpression=function(e){return this._expVariable[e]?this._expVariable[e]:null},e.getVariable=function(e){return this.isCreatedVariable(e)?this._scope.find(e):null},e.printError=function(){if(this.errors.length>0)for(var e=0;e<this.errors.length;e++)console.error(this.errors[e].toString()),s.ShowError.showError(this.errors[e].toString())},e._expVariable={},e.errors=[],e._projectName="",e._objectID="",e}();t.ExpManager=u,u.init()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryList=t.VeryMaterial=t.VeryVector2=t.VeryRect=t.VeryGameObject=t.VeryVector3=t.VeryString=t.VeryNumber=t.VeryBool=void 0;var i=r(46),n=r(43),a=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value=!1,this._value=!1}return Object.defineProperty(e.prototype,"varType",{get:function(){return"bool"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryBool"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"bool|开关"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression?this._expression.value.evaluate():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.setValue=function(e){this._value=e},e.prototype.getValue=function(){return this._isExpression?this._expression.value.evaluate():this._value},e.prototype.setExpression=function(e){this._expression=e,this._isExpression=!0},e.prototype.initValue=function(e,t){return"false"!==(e=e.trim()).toLowerCase()&&"关"!==e&&("true"===e.toLowerCase()||"开"===e||""!==e&&"null"!==e.toLowerCase()&&"none"!==e.toLowerCase()&&(t.isRight=!1,t.message="类型: "+this.varType+"，值："+e+"，该变量值和类型不匹配，转化错误，请检查！",null))},e.prototype.clone=function(){var t=new e;return t.setValue(this._value),t},e}();t.VeryBool=a;var o=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value=0,this._value=0}return Object.defineProperty(e.prototype,"varType",{get:function(){return"number"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryNumber"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"number|数字"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.setValue=function(e){this._value=e},e.prototype.setExpression=function(e){this._expression=e,this._isExpression=!0},e.prototype.getValue=function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},e.prototype.initValue=function(e,t){var r=parseFloat(e);return isNaN(r)?(t.isRight=!1,t.message="类型: "+this.varType+"，值："+e+"，该变量值和类型不匹配，转化错误，请检查！",null):r},e.prototype.clone=function(){var t=new e;return t.setValue(this._value),t},e}();t.VeryNumber=o;var s=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value="",this._value=""}return Object.defineProperty(e.prototype,"varType",{get:function(){return"string"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryString"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"string|字符串"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression?this._expression.value.evaluate().toString():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.getValue=function(){return this._isExpression?this._expression.value.evaluate().toString():this._value},e.prototype.setValue=function(e){this._value=e},e.prototype.initValue=function(e,t){return e.startsWith("'")||e.startsWith('"')||e.startsWith("“")||e.startsWith("‘")?e.substring(1,e.length-2):e},e.prototype.clone=function(){var t=new e;return t.setValue(this._value),t},e.prototype.setExpression=function(e){this._isExpression=!0,this._expression=e},e}();t.VeryString=s;var u=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value=BABYLON.Vector3.Zero(),this._value=BABYLON.Vector3.Zero()}return Object.defineProperty(e.prototype,"varType",{get:function(){return"Vector3"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryVector3"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"Vector3|向量"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.getValue=function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},e.prototype.setValue=function(e){this._value=e},e.prototype.setExpression=function(e){this._isExpression=!0,this._expression=e},e.prototype.initValue=function(e,t){var r=BABYLON.Vector3.Zero();if("none"===e||"null"===e||""===e)return r;var i=e.split(/,|，/);if(3!==i.length)return t.isRight=!1,t.message="类型: "+this.varType+", 值: "+e+"，Vector3|向量类型值格式错误，转化错误！",null;var n=parseFloat(i[0]),a=parseFloat(i[1]),o=parseFloat(i[2]);return isNaN(n)||isNaN(a)||isNaN(o)?(t.isRight=!1,t.message="类型: "+this.varType+", 值: "+e+"，Vector3|向量类型值格式错误，转化错误！",null):r=new BABYLON.Vector3(n,a,o)},e.prototype.clone=function(){var t=new e,r=new BABYLON.Vector3(this._value.x,this._value.y,this._value.z);return t.setValue(r),t},e}();t.VeryVector3=u;var l=function(){function e(){this.name="",this._value=null}return Object.defineProperty(e.prototype,"varType",{get:function(){return"GameObject"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryGameObject"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"GameObject|对象"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.setValue=function(e){this._value=e},e.prototype.getValue=function(){return this._value},e.prototype.initValue=function(e,t){if(""===e||"null"===e.toLowerCase()||"none"===e.toLowerCase())return null;var r=n.GameObject.Find(e);return null===r&&(t.isRight=!1,t.message="类型: "+this.varType+"，值："+e+"，在场景中找不到指定对象，请检查！"),r},e.prototype.clone=function(){var t=new e;return t.setValue(this._value),t},e}();t.VeryGameObject=l;var c=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value=BABYLON.Vector4.Zero(),this._value=BABYLON.Vector4.Zero()}return Object.defineProperty(e.prototype,"varType",{get:function(){return"Rect"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryRect"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"Rect|矩形"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.getValue=function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},e.prototype.setValue=function(e){this._value=e},e.prototype.setExpression=function(e){this._isExpression=!0,this._expression=e},e.prototype.initValue=function(e,t){var r=BABYLON.Vector4.Zero();if("none"===e||"null"===e||""===e)return r;var i=e.split(/,|，/);if(4!==i.length)return t.isRight=!1,t.message="类型: "+this.varType+", 值: "+e+"，Rect|矩形类型值格式错误，转化错误！",null;var n=parseFloat(i[0]),a=parseFloat(i[1]),o=parseFloat(i[2]),s=parseFloat(i[3]);return isNaN(n)||isNaN(a)||isNaN(o)||isNaN(s)?(t.isRight=!1,t.message="类型: "+this.varType+", 值: "+e+"，Rect|矩形类型值格式错误，转化错误！",null):r=new BABYLON.Vector4(n,a,o,s)},e.prototype.clone=function(){var t=new e,r=new BABYLON.Vector4(this._value.x,this._value.y,this._value.z,this._value.w);return t.setValue(r),t},e}();t.VeryRect=c;var p=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value=BABYLON.Vector2.Zero(),this._value=BABYLON.Vector2.Zero()}return Object.defineProperty(e.prototype,"varType",{get:function(){return"Vector2"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryVector2"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"Vector2"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.getValue=function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},e.prototype.setValue=function(e){this._value=e},e.prototype.setExpression=function(e){this._isExpression=!0,this._expression=e},e.prototype.initValue=function(e,t){var r=BABYLON.Vector2.Zero();if("none"===e||"null"===e||""===e)return r;var i=e.split(/,|，/);if(2!==i.length)return t.isRight=!1,t.message="类型: "+this.varType+", 值: "+e+"，Vector2类型值格式错误，转化错误！",null;var n=parseFloat(i[0]),a=parseFloat(i[1]);return isNaN(n)||isNaN(a)?(t.isRight=!1,t.message="类型: "+this.varType+", 值: "+e+"，Vector2类型值格式错误，转化错误！",null):r=new BABYLON.Vector2(n,a)},e.prototype.clone=function(){var t=new e,r=new BABYLON.Vector2(this._value.x,this._value.y);return t.setValue(r),t},e}();t.VeryVector2=p;var h=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value=null,this._value=null}return Object.defineProperty(e.prototype,"varType",{get:function(){return"Material"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryMaterial"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"Material|材质"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.getValue=function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},e.prototype.setValue=function(e){this._value=e},e.prototype.setExpression=function(e){this._isExpression=!0,this._expression=e},e.prototype.initValue=function(e,t){return null},e.prototype.clone=function(){var t=new e,r=this._value;return t.setValue(r),t},e}();t.VeryMaterial=h;var _=function(){function e(){this.name="",this._isExpression=!1,this._expression=null,this._value=[],this._value=[]}return Object.defineProperty(e.prototype,"varType",{get:function(){return"List"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"VeryList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ID",{get:function(){return"VeryList|数组"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.getValue=function(){return this._isExpression&&this._expression?this._expression.value.evaluate():this._value},e.prototype.setValue=function(e){this._value=e},e.prototype.setExpression=function(e){this._isExpression=!0,this._expression=e},e.prototype.initValue=function(e,t){return null},e.prototype.clone=function(){for(var t=new e,r=0;r<this._value.length;r++)t.value[t.value.length]=this._value[r].clone();return t},e}();t.VeryList=_,i.VeryVarManager.addVarType(a),i.VeryVarManager.addVarType(o),i.VeryVarManager.addVarType(s),i.VeryVarManager.addVarType(u),i.VeryVarManager.addVarType(l),i.VeryVarManager.addVarType(c),i.VeryVarManager.addVarType(p),i.VeryVarManager.addVarType(h),i.VeryVarManager.addVarType(_)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Variables=void 0;var i=r(9),n=function(){function e(e){this._projectName="",this._veryVars={},this._tempalteVars={},this._expressions={},this._projectName=e,this.varData=new i.VE_VariableData(e)}return Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),e.prototype.isCreated=function(e){return!!(this._veryVars[e]||this._tempalteVars[e]||this._expressions[e])},e.prototype.isCreatedVariable=function(e){return!!this._veryVars[e]},e.prototype.addVariable=function(e,t){this._veryVars[e]=t},e.prototype.getVariable=function(e){return this._veryVars[e]},e.prototype.isCreatedTemplate=function(e){return!!this._tempalteVars[e]},e.prototype.addTemplate=function(e,t){this._tempalteVars[e]=t},e.prototype.getTemplate=function(e){return this._tempalteVars[e]},e.prototype.isCreatedExpression=function(e){return!!this._expressions[e]},e.prototype.addExpression=function(e,t){this._expressions[e]=t},e.prototype.getExpression=function(e){return this._expressions[e]},e.prototype.clear=function(){this.varData&&this.varData.clear(),this._veryVars={},this._expressions={},this._tempalteVars={}},e}();t.VE_Variables=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VarTools=void 0;var i=r(7),n=r(10),a=r(6),o=r(17),s=function(){function e(){}return e.IsVarID=function(e){return e.indexOf(i.StateConst.VARIABLE_SYMBOL)>-1},e.GetVeryVar=function(t,r,n,o){if(n.indexOf(i.StateConst.STATE_SEPARATOR)>-1){var s=n.split(i.StateConst.STATE_SEPARATOR);if(2!==s.length)return o.isRight=!1,o.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，不符合，请检查！",null;for(var u=0;u<s.length;u++)s[u]=s[u].trim();if(s[1].startsWith(i.StateConst.VARIABLE_SYMBOL)){if((p=a.VE_Manager.objects(t)).isCreated(s[0])){var l=p.getVeryObject(s[0]),c=s[1].substring(1);return l.isCreatedVariable(c)?l.getVariable(c):l.isCreatedFsm(c)?(o.isRight=!1,o.message="当前触发和响应不能引用状态变量，当前变量ID为："+n+"，请检查！",null):l.isCreatedExpression(c)?(o.isRight=!1,o.message="当前触发和响应不能引用公式变量，当前变量ID为："+n+"，请检查！",null):l.isCreatedTemplate(c)?(o.isRight=!1,o.message="当前触发和响应不能引用模板变量，当前变量ID为："+n+"，请检查！",null):(o.isRight=!1,o.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，在当前对象中无法查找到该变量，请检查！",null)}return o.isRight=!1,o.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，在当前系统中，无法查找到该对象名，请检查！",null}return o.isRight=!1,o.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，不符合，请检查！",null}var p;return n.startsWith(i.StateConst.VARIABLE_SYMBOL)?(n=n.substring(1),(p=a.VE_Manager.objects(t)).isCreated(r)?(l=p.getVeryObject(r)).isCreatedVariable(n)?l.getVariable(n):l.isCreatedFsm(n)?(o.isRight=!1,o.message="当前触发和响应不能引用状态变量，当前变量ID为："+n+"，请检查！",null):l.isCreatedExpression(n)?(o.isRight=!1,o.message="当前触发和响应不能引用公式变量，当前变量ID为："+n+"，请检查！",null):l.isCreatedTemplate(n)?(o.isRight=!1,o.message="触发和响应不能引用模板变量，当前变量ID为："+n+"，请检查！",null):e.GetGlobalVar(a.VE_Manager.variables(t),n,o):e.GetGlobalVar(a.VE_Manager.variables(t),n,o)):(o.isRight=!1,o.message="变量格式错误，应为“*变量”的格式，当前变量ID为："+n+"，请检查！",null)},e.GetGlobalVar=function(t,r,i){return t.isCreatedVariable(r)?t.getVariable(r):t.isCreatedExpression(r)?(i.isRight=!1,i.message="当前触发和响应不能引用公式变量，当前变量ID为："+r+"，请检查！",null):t.isCreatedTemplate(r)?(i.isRight=!1,i.message="当前触发和响应不能引用模板变量，当前变量ID为："+r+"，请检查！",null):e.GetSceneVar(r,i)},e.GetSceneVar=function(e,t){return n.VerySceneVariables.Variables.isCreatedVariable(e)?n.VerySceneVariables.Variables.getVariable(e):n.VerySceneVariables.Variables.isCreatedExpression(e)?(t.isRight=!1,t.message="当前触发和响应不能引用公式变量，当前变量ID为："+e+"，请检查！",null):(t.isRight=!1,t.message="无法在系统中查找到该变量，当前变量ID为："+e+"，请检查！",null)},e.GetTemplate=function(e,t,r,n){if(r.indexOf(i.StateConst.STATE_SEPARATOR)>-1){var o=r.split(i.StateConst.STATE_SEPARATOR);if(2!==o.length)return n.isRight=!1,n.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+r+"，不符合，请检查！",null;for(var s=0;s<o.length;s++)o[s]=o[s].trim();if(o[1].startsWith(i.StateConst.VARIABLE_SYMBOL)){if((c=a.VE_Manager.objects(e)).isCreated(o[0])){var u=c.getVeryObject(o[0]),l=o[1].substring(1);return u.isCreatedTemplate(l)?u.getTemplate(l):(n.isRight=!1,n.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+r+"，在当前对象中无法查找到该模板变量，请检查！",null)}return n.isRight=!1,n.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+r+"，在当前系统中，无法查找到该对象名，请检查！",null}return n.isRight=!1,n.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+r+"，不符合，请检查！",null}if(r.startsWith(i.StateConst.VARIABLE_SYMBOL)){var c;if(r=r.substring(1),(c=a.VE_Manager.objects(e)).isCreated(t))if((u=c.getVeryObject(t)).isCreatedTemplate(r))return u.getTemplate(r);var p=a.VE_Manager.variables(e);return p.isCreatedTemplate(r)?p.getTemplate(r):(n.isRight=!1,n.message="当前变量格式应为“*变量”，当前变量ID为："+r+"，在当前项目中无法查找到该模板变量，请检查！",null)}return n.isRight=!1,n.message="当前变量格式应为“*变量”，当前变量ID为："+r+"，不符合，请检查！",null},e.GetVeryVarWithExpression=function(t,r,n,s){if(n.indexOf(i.StateConst.STATE_SEPARATOR)>-1){var u=n.split(i.StateConst.STATE_SEPARATOR);if(2!==u.length)return s.isRight=!1,s.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，不符合，请检查！",null;for(var l=0;l<u.length;l++)u[l]=u[l].trim();if(u[1].startsWith(i.StateConst.VARIABLE_SYMBOL)){if((h=a.VE_Manager.objects(t)).isCreated(u[0])){var c=h.getVeryObject(u[0]),p=u[1].substring(1);return c.isCreatedVariable(p)?c.getVariable(p):c.isCreatedFsm(p)?c.getFsm(p).fsmVar:c.isCreatedExpression(p)?new o.VeryExpression(c.getExpression(p)):c.isCreatedTemplate(p)?(s.isRight=!1,s.message="当前触发和响应不能引用模板变量，当前变量ID为："+n+"，请检查！",null):(s.isRight=!1,s.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，在当前对象中无法查找到该变量，请检查！",null)}return s.isRight=!1,s.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，在当前系统中，无法查找到该对象名，请检查！",null}return s.isRight=!1,s.message="当前变量格式应为“对象名.*变量”，当前变量ID为："+n+"，不符合，请检查！",null}var h;return n.startsWith(i.StateConst.VARIABLE_SYMBOL)?(n=n.substring(1),(h=a.VE_Manager.objects(t)).isCreated(r)?(c=h.getVeryObject(r)).isCreatedVariable(n)?c.getVariable(n):c.isCreatedFsm(n)?c.getFsm(n).fsmVar:c.isCreatedExpression(n)?new o.VeryExpression(c.getExpression(n)):c.isCreatedTemplate(n)?(s.isRight=!1,s.message="当前触发和响应不能引用模板变量，当前变量ID为："+n+"，请检查！",null):e.GetGlobalVarWithExpression(a.VE_Manager.variables(t),n,s):e.GetGlobalVarWithExpression(a.VE_Manager.variables(t),n,s)):(s.isRight=!1,s.message="变量格式错误，应为“*变量”的格式，当前变量ID为："+n+"，请检查！",null)},e.GetGlobalVarWithExpression=function(t,r,i){return t.isCreatedVariable(r)?t.getVariable(r):t.isCreatedExpression(r)?new o.VeryExpression(t.getExpression(r)):t.isCreatedTemplate(r)?(i.isRight=!1,i.message="当前触发和响应不能引用模板变量，当前变量ID为："+r+"，请检查！",null):e.GetSceneVarWithExpression(r,i)},e.GetSceneVarWithExpression=function(e,t){return n.VerySceneVariables.Variables.isCreatedVariable(e)?n.VerySceneVariables.Variables.getVariable(e):n.VerySceneVariables.Variables.isCreatedExpression(e)?new o.VeryExpression(n.VerySceneVariables.Variables.getExpression(e)):(t.isRight=!1,t.message="无法在系统中查找到该变量，当前变量ID为："+e+"，请检查！",null)},e}();t.VarTools=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_KeyboardMap=void 0;var i=function(){function e(){}return e.init=function(){this._keyMap.space=" ",this._keyMap["空格"]=" ",this._keyMap.backspace="Backspace",this._keyMap["退格"]="Backspace",this._keyMap.tab="Tab",this._keyMap.enter="Enter",this._keyMap["回车"]="Enter",this._keyMap.shift="Shift",this._keyMap.control="Control",this._keyMap.ctrl="Control",this._keyMap.alt="Alt",this._keyMap.pause="Pause",this._keyMap.capsLock="CapsLock",this._keyMap.escape="Escape",this._keyMap.pageup="PageUp",this._keyMap["上一页"]="PageUp",this._keyMap.pagedown="PageDown",this._keyMap["下一页"]="PageDown",this._keyMap.end="End",this._keyMap.home="Home",this._keyMap.arrowleft="ArrowLeft",this._keyMap["左"]="ArrowLeft",this._keyMap.arrowup="ArrowUp",this._keyMap["上"]="ArrowUp",this._keyMap.arrowright="ArrowRight",this._keyMap["右"]="ArrowRight",this._keyMap.arrowdown="ArrowDown",this._keyMap["下"]="ArrowDown",this._keyMap.insert="Insert",this._keyMap["插入"]="Insert",this._keyMap.delete="Delete",this._keyMap["删除"]="Delete",this._keyMap[0]="0",this._keyMap[1]="1",this._keyMap[2]="2",this._keyMap[3]="3",this._keyMap[4]="4",this._keyMap[5]="5",this._keyMap[6]="6",this._keyMap[7]="7",this._keyMap[8]="8",this._keyMap[9]="9",this._keyMap[")"]=")",this._keyMap["）"]=")",this._keyMap["!"]="!",this._keyMap["！"]="!",this._keyMap["@"]="@",this._keyMap["#"]="#",this._keyMap.$="$",this._keyMap["￥"]="$",this._keyMap["%"]="%",this._keyMap["^"]="^",this._keyMap["……"]="^",this._keyMap["&"]="&",this._keyMap["*"]="*",this._keyMap["("]="(",this._keyMap["（"]="(",this._keyMap.meta="meta",this._keyMap.windows="meta",this._keyMap.contextmenu="ContextMenu",this._keyMap["快捷菜单"]="ContextMenu",this._keyMap.f1="F1",this._keyMap.f2="F2",this._keyMap.f3="F3",this._keyMap.f4="F4",this._keyMap.f5="F5",this._keyMap.f6="F6",this._keyMap.f7="F7",this._keyMap.f8="F8",this._keyMap.f9="F9",this._keyMap.f10="F10",this._keyMap.f11="F11",this._keyMap.f12="F12",this._keyMap.scrolllock="ScrollLock",this._keyMap[";"]=";",this._keyMap["；"]=";",this._keyMap[":"]=":",this._keyMap["："]=":",this._keyMap["="]="=",this._keyMap["+"]="+",this._keyMap["-"]="-",this._keyMap._="_",this._keyMap["——"]="_",this._keyMap[","]=",",this._keyMap["，"]=",",this._keyMap["<"]="<",this._keyMap["《"]="<",this._keyMap["."]=".",this._keyMap["。"]=".",this._keyMap[">"]=">",this._keyMap["》"]=">",this._keyMap["?"]="?",this._keyMap["？"]="?",this._keyMap["/"]="/",this._keyMap["`"]="`",this._keyMap["·"]="`",this._keyMap["~"]="~",this._keyMap["|"]="|",this._keyMap["\\"]="\\",this._keyMap["\\"]="\\",this._keyMap.numlock="NumLock",this._keyMap.a="a",this._keyMap.b="b",this._keyMap.c="c",this._keyMap.d="d",this._keyMap.e="e",this._keyMap.f="f",this._keyMap.g="g",this._keyMap.h="h",this._keyMap.i="i",this._keyMap.j="j",this._keyMap.k="k",this._keyMap.l="l",this._keyMap.m="m",this._keyMap.n="n",this._keyMap.o="o",this._keyMap.p="p",this._keyMap.q="q",this._keyMap.r="r",this._keyMap.s="s",this._keyMap.t="t",this._keyMap.u="u",this._keyMap.v="v",this._keyMap.w="w",this._keyMap.x="x",this._keyMap.y="y",this._keyMap.z="z"},e.GetKey=function(e){return this._initialized||(this.init(),this._initialized=!0),e=e.trim().toLowerCase(),this._keyMap[e]?this._keyMap[e]:"null"},e._keyMap={},e._initialized=!1,e}();t.VE_KeyboardMap=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloatUitlity=t.Vector3Utility=void 0;var i=function(){function e(){}return e.Slerp=function(e,t,r){r<0?r=0:r>1&&(r=1);var i=new BABYLON.Vector3,n=.5*(Math.sin(Math.PI*(r-.5))+1);return i.x=e.x+(t.x-e.x)*n,i.y=e.y+(t.y-e.y)*n,i.z=e.z+(t.z-e.z)*n,i},e}();t.Vector3Utility=i;var n=function(){function e(){}return e.Lerp=function(e,t,r){return r<0?r=0:r>1&&(r=1),e+(t-e)*r},e.SLerp=function(e,t,r){return r<0?r=0:r>1&&(r=1),e+(t-e)*(.5*(Math.sin(Math.PI*(r-.5))+1))},e}();t.FloatUitlity=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VeryParas=void 0;var i=r(1),n=function(){function e(){this.gameObject=new i.VeryGameObject,this.bool=new i.VeryBool,this.number=new i.VeryNumber,this.string=new i.VeryString,this.vector3=new i.VeryVector3,this.vecNumbers=[new i.VeryNumber,new i.VeryNumber,new i.VeryNumber],this.isVec=!0,this.isRect=!0,this.rect=new i.VeryRect,this.rectNumbers=[new i.VeryNumber,new i.VeryNumber,new i.VeryNumber,new i.VeryNumber],this.isVec2=!0,this.vector2=new i.VeryVector2,this.vec2Numbers=[new i.VeryNumber,new i.VeryNumber],this.material=new i.VeryMaterial}return e.prototype.clear=function(){},e}();t.VeryParas=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_TriggerBehaviour=void 0;var i=r(16),n=function(){function e(){this._enabled=!0,this._projectName="",this._logicalSwitch=[],this._logicalExp=[],this._triggerTargets=[],this.gameObject=null,this.veryObject=null,this._objectID="object-axxx",this._triggerID="",this._id=""}return Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled&&this.isEnabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){if(this._logicalSwitch)for(var e=0;e<this._logicalSwitch.length;e++)if(this._logicalSwitch[e]&&!this._logicalSwitch[e].evaluate())return!1;return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectID",{get:function(){return this._objectID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggerID",{get:function(){return this._triggerID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unionID",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.set=function(e){this._scene=e},e.prototype.setTriggerID=function(e,t,r){this._projectName=e,this._triggerID=t,this._objectID=r,this._id=r+i.StateConst.STATE_SEPARATOR+t},e.prototype.addLogicalSwitch=function(e){this._logicalSwitch.push(e)},e.prototype.addTriggerTarget=function(e,t){this._logicalExp.push(e),this._triggerTargets.push(t)},e.prototype.setVeryObject=function(e){this.veryObject=e,this.gameObject=e.gameObject},e.prototype.sendEvent=function(){this.isEnabled&&this.eventProcess()},e.prototype.eventProcess=function(){if(this._triggerTargets)for(var e=0;e<this._triggerTargets.length;e++)(null===this._logicalExp[e]||this._logicalExp[e].evaluate())&&this._triggerTargets[e].action(this._id)},e.prototype.update=function(){this.isEnabled&&this.onUpdate()},e.prototype.onUpdate=function(){},e}();t.VE_TriggerBehaviour=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Triggers=void 0;var i=r(7),n=r(6),a=r(4),o=r(5),s=r(0),u=function(){function e(){}return e.addTrigger=function(e){if(!a.GameGlobal.PlatformLoaded)for(var t=new e.prototype.constructor,r=t.ID.split("|"),i=0;i<r.length;i++){var n=r[i].trim().toLowerCase();this._triggerFunctionDics[n]?a.VE_ErrorManager.Add(new a.VE_Error("","触发初始化错误，触发ID重复，当前触发ID："+n+"，重复触发："+t.className+"，请为当前触发重新分配触发ID！","",s.Severity.Error)):this._triggerFunctionDics[n]=e}},e.hasTrigger=function(e){return e=e.toLowerCase(),!!this._triggerFunctionDics[e]},e.createTrigger=function(e,t,r,i,n){if(r=r.toLowerCase(),!this._triggerFunctionDics[r])return n.isRight=!1,n.message="触发创建错误：当前触发类型在平台中不存在，请检查！触发类型："+r,null;var a;try{if(!(a=new this._triggerFunctionDics[r].prototype.constructor))return n.isRight=!1,n.message="触发创建错误：当前触发创建失败，请检查！触发类型："+r,null;var s=a;return s.set(o.BabylonEngine.Scene),s.setVeryObject(e),s.setTriggerID(e.projectName,t,e.objectID),s.paraParser(i)?s:(n.isRight=!1,n.message="该触发创建失败，触发参数格式错误！",null)}catch(e){return console.error("触发创建错误："+e.message),n.isRight=!1,n.message="触发创建错误：当前触发类型创建失败，请检查！触发类型："+r+"，错误原因："+e.message,null}},e.remove=function(e){e=e.toLowerCase(),delete this._triggerFunctionDics[e]},e.findTrigger=function(e,t){if(e.isCreatedTrigger(t))return e.getTrigger(t);var r=t.split(i.StateConst.STATE_SEPARATOR);if(2===r.length){var a=n.VE_Manager.objects(e.projectName),o=r[0].trim(),s=r[1].trim();if(a.isCreated(o)){var u=a.getVeryObject(o);return u.isCreatedTrigger(s)?u.getTrigger(s):null}return null}return null},e.dispose=function(){e._triggerFunctionDics={}},e._triggerFunctionDics={},e}();t.VE_Triggers=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_CustomTriggerManager=void 0;var i=function(){function e(){}return e.AddTriggerEvent=function(e,t,r,i){this._customTriggerStore[e]||(this._customTriggerStore[e]={}),this._customTriggerStore[e][t]||(this._customTriggerStore[e][t]={}),this._customTriggerStore[e][t][r]=i,this._delayAction[e]&&this._delayAction[e][t]&&this._delayAction[e][t][r]&&(this._delayAction[e][t][r].forEach((function(e){e(i)})),delete this._delayAction[e][t][r])},e.ConnectCustomTrigger=function(e,t,r,i){this._customTriggerStore[e]&&this._customTriggerStore[e][t]&&this._customTriggerStore[e][t][r]?i(this._customTriggerStore[e][t][r]):(this._delayAction[e]||(this._delayAction[e]={}),this._delayAction[e][t]||(this._delayAction[e][t]={}),this._delayAction[e][t][r]?this._delayAction[e][t][r].push(i):this._delayAction[e][t][r]=[i])},e._customTriggerStore={},e._delayAction={},e}();t.VE_CustomTriggerManager=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_ActionBehaviour=void 0;var i=r(0),n=function(){function e(){this._enabled=!0,this._projectName="",this.gameObject=null,this.veryObject=null,this._objectID="",this._actionID="",this._erveryFrame=!1,this.isSequence=!1,this._sequenceState=i.SequenceActionState.Initial,this._sequenceAction=null}return Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"projectName",{get:function(){return this._projectName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectID",{get:function(){return this._objectID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionID",{get:function(){return this._actionID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return i.ActionType.Normal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"everyFrame",{get:function(){return this._erveryFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SequenceState",{get:function(){return this._sequenceState},set:function(e){this._sequenceState=e},enumerable:!1,configurable:!0}),e.prototype.set=function(e){this._scene=e},e.prototype.setEveryFrame=function(e){this._erveryFrame=e},e.prototype.setActionID=function(e,t,r){this._projectName=e,this._objectID=t,this._actionID=r},e.prototype.setVeryObject=function(e){this.veryObject=e,this.gameObject=e.gameObject},e.prototype.action=function(e,t){this._enabled=e,this._erveryFrame=t,this._enabled&&(this.active(),this._erveryFrame||this.onUpdate())},e.prototype.sequenceAction=function(e,t,r){this._sequenceAction=e,this._sequenceState=i.SequenceActionState.Running,this.action(t,r)},e.prototype.update=function(){this._enabled&&this._erveryFrame&&this.onUpdate()},e.prototype.onUpdate=function(){},e.prototype.pause=function(){this._sequenceState=i.SequenceActionState.Pause},e.prototype.resume=function(){this._sequenceState=i.SequenceActionState.Running},e.prototype.stop=function(){this._sequenceState=i.SequenceActionState.Initial},e.prototype.finish=function(){this._sequenceState=i.SequenceActionState.Initial,null!==this._sequenceAction&&(this._sequenceAction.finishAction(this),this._sequenceAction=null),this.enabled=!1},e}();t.VE_ActionBehaviour=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Assignment=void 0;var i=r(0),n=r(14),a=r(2),o=r(24),s=function(){function e(e,t){this._totalStr="",this._leftType=i.AssignType.Variable,this._rightType=i.AssignType.Variable,this._leftVariable=null,this._leftTemplate=null,this._leftVarID="",this._rightConstStr="",this._rightConstValue=null,this._rightVariable=null,this._rightTemplate=null,this._rightVarID="",this._pos="",this._state=e,this._totalStr=t}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftType",{get:function(){return this._leftType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightType",{get:function(){return this._rightType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftVariable",{get:function(){return this._leftVariable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightVariable",{get:function(){return this._leftVariable},enumerable:!1,configurable:!0}),e.prototype.setPos=function(e){this._pos=e},e.prototype.setLeftVariable=function(e){this._leftType=i.AssignType.Variable,this._leftVariable=e},e.prototype.setLeftTemplate=function(e){this._leftType=i.AssignType.Template,this._leftTemplate=e},e.prototype.setLeftTemplateVar=function(e,t){this._leftType=i.AssignType.TemplateVariable,this._leftTemplate=e,this._leftVarID=t},e.prototype.setRightVariable=function(e){this._rightType=i.AssignType.Variable,this._rightVariable=e},e.prototype.setRightTemplate=function(e){this._rightType=i.AssignType.Template,this._rightTemplate=e},e.prototype.setRightNull=function(){this._rightType=i.AssignType.Template,this._rightTemplate=null},e.prototype.setRightTemplateVariable=function(e,t){this._rightType=i.AssignType.TemplateVariable,this._rightTemplate=e,this._rightVarID=t},e.prototype.setRightConst=function(e){this._rightType=i.AssignType.Const,this._rightConstStr=e},e.prototype.setRightConstValue=function(e){this._rightType=i.AssignType.Const,this._rightConstValue=e},e.prototype.finish=function(){},e.prototype.assign=function(){if(this._leftType===i.AssignType.Variable)this.rightAssignment();else if(this._leftType===i.AssignType.Template)null==this._rightTemplate?null!==this._leftTemplate&&this._leftTemplate.unload():this._leftTemplate=this._rightTemplate;else{if(null===this._leftTemplate.templateInstance)return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：左侧模板变量未实例化，"+this._leftTemplate.templateVarID);if(this._leftTemplate.templateInstance.isCreatedExpression(this._leftVarID))return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：左侧变量不能为“公式”，"+this._rightTemplate.templateVarID);if(this._leftTemplate.templateInstance.isCreatedVariable(this._leftVarID))this._leftVariable=this._leftTemplate.templateInstance.getVariable(this._leftVarID),this.rightAssignment();else{if(!this._leftTemplate.templateInstance.isCreatedFsm(this._leftVarID))return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：左侧无法被查找到，"+this._rightTemplate.templateVarID);this._leftVariable=this._leftTemplate.templateInstance.getFsm(this._leftVarID).fsmVar,this.rightAssignment()}}},e.prototype.rightAssignment=function(){if(this._rightType===i.AssignType.Variable)this._leftVariable.setValue(this._rightVariable.getValue());else if(this._rightType===i.AssignType.Const)if(null===this._rightConstValue){var e=new a.ErrorInfo;if(this._rightConstValue=this._leftVariable.initValue(this._rightConstStr,e),!e.isRight)return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：右侧常量转化错误，"+this._rightConstStr);this._leftVariable.setValue(this._rightConstValue)}else this._leftVariable.setValue(this._rightConstValue);else{if(null==this._rightTemplate.templateInstance)return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：右侧模板变量未实例化，"+this._rightTemplate.templateVarID);if(this._rightTemplate.templateInstance.isCreatedExpression(this._rightVarID)){var t=this._rightTemplate.templateInstance.getExpression(this._rightVarID);if(!o.VE_AssignmentTypeJudge.allowExpression(this._leftVariable,t))return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：左侧和右侧数据格式不匹配，不能完成赋值，"+this._rightTemplate.templateVarID);this._leftVariable.setValue(t.evaluate())}else if(this._rightTemplate.templateInstance.isCreatedVariable(this._rightVarID)){var r=this._rightTemplate.templateInstance.getVariable(this._rightVarID);if(!o.VE_AssignmentTypeJudge.allow(this._leftVariable,r))return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：左侧和右侧数据格式不匹配，不能完成赋值，"+this._rightTemplate.templateVarID);this._leftVariable.setValue(r.getValue())}else{if(!this._rightTemplate.templateInstance.isCreatedFsm(this._rightVarID))return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：无法获取右侧变量，不能完成赋值，"+this._rightTemplate.templateVarID);r=this._rightTemplate.templateInstance.getFsm(this._rightVarID).fsmVar;if(!o.VE_AssignmentTypeJudge.allow(this._leftVariable,r))return void n.ShowError.showError("位置："+this._pos+"，项目名："+this.state.Fsm.projectName+"，对象名："+this.state.Fsm.objectID+"，状态名："+this.state.Fsm.fsmID+"，赋值响应："+this._totalStr+"，错误：左侧和右侧数据格式不匹配，不能完成赋值，"+this._rightTemplate.templateVarID);this._leftVariable.setValue(r.getValue())}}},e}();t.VE_Assignment=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_Actions=void 0;var i=r(7),n=r(6),a=r(4),o=r(2),s=r(5),u=r(0),l=function(){function e(){}return e.addAction=function(e){if(!a.GameGlobal.PlatformLoaded)for(var t=new e.prototype.constructor,r=t.ID.split("|"),i=0;i<r.length;i++){var n=r[i].trim().toLowerCase();this._actionFunctionDics[n]?a.VE_ErrorManager.Add(new a.VE_Error("","响应初始化错误，响应ID重复，当前响应ID："+n+"，重复响应："+t.className+"，请为当前响应重新分配响应ID！","",u.Severity.Error)):this._actionFunctionDics[n]=e}},e.hasAction=function(e){return e=e.toLowerCase(),!!this._actionFunctionDics[e]},e.createAction=function(e,t,r,i,n,a){if(r=r.toLowerCase(),!this._actionFunctionDics[r])return a.isRight=!1,a.message="响应创建错误：当前响应类型在平台中不存在，请检查！响应类型："+r,null;var u;try{if(!(u=new this._actionFunctionDics[r].prototype.constructor))return a.isRight=!1,a.message="响应创建错误：当前响应创建失败，请检查！响应类型："+r,null;var l=u;if(l.set(s.BabylonEngine.Scene),l.setVeryObject(e),l.setActionID(e.projectName,e.objectID,t),!l.paraParser(i))return a.isRight=!1,a.message="该响应创建失败，响应参数格式错误！",null;a.clear();var c=o.VE_TypeConvert.boolConvert(n[1],a);return a.isRight?(l.setEveryFrame(c),l.enabled=!1,l):(a.isRight=!1,a.message="该响应创建失败，响应每帧运行参数目前只允许填写bool常量true或者false，不允许填写变量！",null)}catch(e){return console.error("响应创建错误："+e.message),a.isRight=!1,a.message="响应创建错误：当前响应类型创建失败，请检查！响应类型："+r+"，错误原因："+e.message,null}},e.remove=function(e){e=e.toLowerCase(),delete this._actionFunctionDics[e]},e.findAction=function(e,t){if(e.isCreatedAction(t))return e.getAction(t);var r=t.split(i.StateConst.STATE_SEPARATOR);if(2===r.length){var a=n.VE_Manager.objects(e.projectName),o=r[0].trim(),s=r[1].trim();if(a.isCreated(o)){var u=a.getVeryObject(o);return u.isCreatedAction(s)?u.getAction(s):null}return null}return null},e.dispose=function(){e._actionFunctionDics={}},e._actionFunctionDics={},e}();t.VE_Actions=l},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(28),t),n(r(48),t)},function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(92),t),n(r(93),t),n(r(94),t),n(r(95),t),n(r(96),t),n(r(97),t),n(r(98),t),n(r(99),t),n(r(100),t),n(r(101),t),n(r(102),t),n(r(108),t),n(r(109),t),n(r(110),t),n(r(111),t),n(r(112),t),n(r(113),t),n(r(114),t),n(r(115),t)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Get_Parent=t.Action_Inverse_Transform_Direction=t.Action_Inverse_Transform_Point=t.Action_Transform_Direction=t.Action_Transform_Point=t.Action_Get_Child_Count=t.Action_Set_Parent=t.Action_Rotate_Around=t.Action_Rotate=t.Action_Translate=t.Action_SetAngle=t.Action_GetAngle=t.Action_GetPosition=t.Action_SetPosition=void 0;var a=r(3),o=r(1),s=r(5),u=r(2),l=r(0),c=r(4),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._posvalue=new o.VeryNumber,t._posVec=new o.VeryVector3,t._space=BABYLON.Space.LOCAL,t._isVec=!1,t._x=new o.VeryNumber,t._y=new o.VeryNumber,t._z=new o.VeryNumber,t._axis=0,t._trans=new o.VeryGameObject,t._ref=new o.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Position|设置位置"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_SetPosition"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){if(null!==this._trans&&null!==this._trans.value)if(this._space===BABYLON.Space.LOCAL)0===this._axis?this._trans.value.transform.localPosition=new BABYLON.Vector3(this._posvalue.value,this._trans.value.transform.localPosition.y,this._trans.value.transform.localPosition.z):1===this._axis?this._trans.value.transform.localPosition=new BABYLON.Vector3(this._trans.value.transform.localPosition.x,this._posvalue.value,this._trans.value.transform.localPosition.z):2===this._axis?this._trans.value.transform.localPosition=new BABYLON.Vector3(this._trans.value.transform.localPosition.x,this._trans.value.transform.localPosition.y,this._posvalue.value):this._isVec?this._trans.value.transform.localPosition=this._posVec.value:this._trans.value.transform.localPosition=new BABYLON.Vector3(this._x.value,this._y.value,this._z.value);else if(this._space===BABYLON.Space.WORLD)0===this._axis?this._trans.value.transform.position=new BABYLON.Vector3(this._posvalue.value,this._trans.value.transform.position.y,this._trans.value.transform.position.z):1===this._axis?this._trans.value.transform.position=new BABYLON.Vector3(this._trans.value.transform.position.x,this._posvalue.value,this._trans.value.transform.position.z):2===this._axis?this._trans.value.transform.position=new BABYLON.Vector3(this._trans.value.transform.position.x,this._trans.value.transform.position.y,this._posvalue.value):this._isVec?this._trans.value.transform.position=this._posVec.value:this._trans.value.transform.position=new BABYLON.Vector3(this._x.value,this._y.value,this._z.value);else if(null!==this._ref.value){var e=this._trans.value.transform.parent;this._trans.value.transform.parent=this._ref.value.transform,0===this._axis?this._trans.value.transform.localPosition=new BABYLON.Vector3(this._posvalue.value,this._trans.value.transform.localPosition.y,this._trans.value.transform.localPosition.z):1===this._axis?this._trans.value.transform.localPosition=new BABYLON.Vector3(this._trans.value.transform.localPosition.x,this._posvalue.value,this._trans.value.transform.localPosition.z):2===this._axis?this._trans.value.transform.localPosition=new BABYLON.Vector3(this._trans.value.transform.localPosition.x,this._trans.value.transform.localPosition.y,this._posvalue.value):this._isVec?this._trans.value.transform.localPosition=this._posVec.value:this._trans.value.transform.localPosition=new BABYLON.Vector3(this._x.value,this._y.value,this._z.value),this._trans.value.transform.parent=e}else console.warn(this.ID+" 响应，参考物体为空，请检查！")},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,4)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;if(this._trans=t.gameObject,"self"===e[1].toLowerCase()||"自身"===e[1])this._space=BABYLON.Space.LOCAL;else if("world"===e[1].toLowerCase()||"世界"===e[1])this._space=BABYLON.Space.WORLD;else{this._space=BABYLON.Space.BONE;var r=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;if(this._ref=r.gameObject,null===this._ref.value)return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应传入参数 参考物体： "+e[1]+"，该参考物体在场景中无法找到！","",l.Severity.Error)),!1}if("x"===e[2].toLowerCase())this._axis=0;else if("y"===e[2].toLowerCase())this._axis=1;else if("z"===e[2].toLowerCase())this._axis=2;else{if("vector3"!==e[2].toLowerCase())return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为："+e[2]+"，请检查！","",l.Severity.Error)),!1;this._axis=3}if(3===this._axis){var i=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._isVec=i.isVec,this._posVec=i.vector3,this._x=i.vecNumbers[0],this._y=i.vecNumbers[1],this._z=i.vecNumbers[2]}else{i=new u.VeryParas;if(!u.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._posvalue=i.number}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_SetPosition=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._posvalue=new o.VeryNumber,t._posVec=new o.VeryVector3,t._space=BABYLON.Space.LOCAL,t._isVec=!1,t._x=new o.VeryNumber,t._y=new o.VeryNumber,t._z=new o.VeryNumber,t._axis=0,t._trans=new o.VeryGameObject,t._ref=new o.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GetPosition|获取位置"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_GetPosition"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){if(null!==this._trans&&null!==this._trans.value)if(this._space===BABYLON.Space.LOCAL)0==this._axis?this._posvalue.value=this._trans.value.transform.localPosition.x:1==this._axis?this._posvalue.value=this._trans.value.transform.localPosition.y:2==this._axis?this._posvalue.value=this._trans.value.transform.localPosition.z:this._posVec.value=this._trans.value.transform.localPosition;else if(this._space===BABYLON.Space.WORLD)0==this._axis?this._posvalue.value=this._trans.value.transform.position.x:1==this._axis?this._posvalue.value=this._trans.value.transform.position.y:2==this._axis?this._posvalue.value=this._trans.value.transform.position.z:this._posVec.value=this._trans.value.transform.position;else if(null!==this._ref.value){var e=this._trans.value.transform.parent;this._trans.value.transform.parent=this._ref.value.transform,0==this._axis?this._posvalue.value=this._trans.value.transform.localPosition.x:1==this._axis?this._posvalue.value=this._trans.value.transform.localPosition.y:2==this._axis?this._posvalue.value=this._trans.value.transform.localPosition.z:this._posVec.value=this._trans.value.transform.localPosition,this._trans.value.transform.parent=e}else console.warn(this.ID+" 响应，参考物体为空，请检查！")},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,4)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;if(this._trans=t.gameObject,"self"===e[1].toLowerCase()||"自身"===e[1])this._space=BABYLON.Space.LOCAL;else if("world"===e[1].toLowerCase()||"世界"===e[1])this._space=BABYLON.Space.WORLD;else{this._space=BABYLON.Space.BONE;var r=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;if(this._ref=r.gameObject,null===this._ref.value)return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应传入参数 参考物体： "+e[1]+"，该参考物体在场景中无法找到！","",l.Severity.Error)),!1}if("x"===e[2].toLowerCase())this._axis=0;else if("y"===e[2].toLowerCase())this._axis=1;else if("z"===e[2].toLowerCase())this._axis=2;else{if("vector3"!==e[2].toLowerCase())return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为："+e[2]+"，请检查！","",l.Severity.Error)),!1;this._axis=3}if(3===this._axis){var i=new u.VeryParas;if(!u.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._posVec=i.vector3}else{i=new u.VeryParas;if(!u.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._posvalue=i.number}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_GetPosition=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._posvalue=new o.VeryNumber,t._posVec=new o.VeryVector3,t._space=BABYLON.Space.LOCAL,t._isVec=!1,t._x=new o.VeryNumber,t._y=new o.VeryNumber,t._z=new o.VeryNumber,t._axis=0,t._trans=new o.VeryGameObject,t._ref=new o.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GetAngle|获取角度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_GetAngle"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){if(null!==this._trans&&null!==this._trans.value)if(this._space===BABYLON.Space.LOCAL)0==this._axis?this._posvalue.value=this._trans.value.transform.localEulerAngles.x:1==this._axis?this._posvalue.value=this._trans.value.transform.localEulerAngles.y:2==this._axis?this._posvalue.value=this._trans.value.transform.localEulerAngles.z:this._posVec.value=this._trans.value.transform.localEulerAngles;else if(this._space===BABYLON.Space.WORLD)0==this._axis?this._posvalue.value=this._trans.value.transform.eulerAngles.x:1==this._axis?this._posvalue.value=this._trans.value.transform.eulerAngles.y:2==this._axis?this._posvalue.value=this._trans.value.transform.eulerAngles.z:this._posVec.value=this._trans.value.transform.eulerAngles;else if(null!==this._ref.value){var e=this._trans.value.transform.parent;this._trans.value.transform.parent=this._ref.value.transform,0==this._axis?this._posvalue.value=this._trans.value.transform.localEulerAngles.x:1==this._axis?this._posvalue.value=this._trans.value.transform.localEulerAngles.y:2==this._axis?this._posvalue.value=this._trans.value.transform.localEulerAngles.z:this._posVec.value=this._trans.value.transform.localEulerAngles,this._trans.value.transform.parent=e}else console.warn(this.ID+" 响应，参考物体为空，请检查！")},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,4)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;if(this._trans=t.gameObject,"self"===e[1].toLowerCase()||"自身"===e[1])this._space=BABYLON.Space.LOCAL;else if("world"===e[1].toLowerCase()||"世界"===e[1])this._space=BABYLON.Space.WORLD;else{this._space=BABYLON.Space.BONE;var r=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;if(this._ref=r.gameObject,null===this._ref.value)return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应传入参数 参考物体： "+e[1]+"，该参考物体在场景中无法找到！","",l.Severity.Error)),!1}if("x"===e[2].toLowerCase())this._axis=0;else if("y"===e[2].toLowerCase())this._axis=1;else if("z"===e[2].toLowerCase())this._axis=2;else{if("vector3"!==e[2].toLowerCase())return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为："+e[2]+"，请检查！","",l.Severity.Error)),!1;this._axis=3}if(3===this._axis){var i=new u.VeryParas;if(!u.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._posVec=i.vector3}else{i=new u.VeryParas;if(!u.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._posvalue=i.number}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_GetAngle=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._posvalue=new o.VeryNumber,t._posVec=new o.VeryVector3,t._space=BABYLON.Space.LOCAL,t._isVec=!1,t._x=new o.VeryNumber,t._y=new o.VeryNumber,t._z=new o.VeryNumber,t._axis=0,t._trans=new o.VeryGameObject,t._ref=new o.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"SetAngle|设置角度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_SetAngle"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){if(null!==this._trans&&null!==this._trans.value)if(this._space===BABYLON.Space.LOCAL)0===this._axis?this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._posvalue.value,this._trans.value.transform.localEulerAngles.y,this._trans.value.transform.localEulerAngles.z):1===this._axis?this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x,this._posvalue.value,this._trans.value.transform.localEulerAngles.z):2===this._axis?this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x,this._trans.value.transform.localEulerAngles.y,this._posvalue.value):this._isVec?this._trans.value.transform.localEulerAngles=this._posVec.value:this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._x.value,this._y.value,this._z.value);else if(this._space===BABYLON.Space.WORLD)0===this._axis?this._trans.value.transform.eulerAngles=new BABYLON.Vector3(this._posvalue.value,this._trans.value.transform.eulerAngles.y,this._trans.value.transform.eulerAngles.z):1===this._axis?this._trans.value.transform.eulerAngles=new BABYLON.Vector3(this._trans.value.transform.eulerAngles.x,this._posvalue.value,this._trans.value.transform.eulerAngles.z):2===this._axis?this._trans.value.transform.eulerAngles=new BABYLON.Vector3(this._trans.value.transform.eulerAngles.x,this._trans.value.transform.eulerAngles.y,this._posvalue.value):this._isVec?this._trans.value.transform.eulerAngles=this._posVec.value:this._trans.value.transform.eulerAngles=new BABYLON.Vector3(this._x.value,this._y.value,this._z.value);else if(null!==this._ref.value){var e=this._trans.value.transform.parent;this._trans.value.transform.parent=this._ref.value.transform,0===this._axis?this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._posvalue.value,this._trans.value.transform.localEulerAngles.y,this._trans.value.transform.localEulerAngles.z):1===this._axis?this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x,this._posvalue.value,this._trans.value.transform.localEulerAngles.z):2===this._axis?this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x,this._trans.value.transform.localEulerAngles.y,this._posvalue.value):this._isVec?this._trans.value.transform.localEulerAngles=this._posVec.value:this._trans.value.transform.localEulerAngles=new BABYLON.Vector3(this._x.value,this._y.value,this._z.value),this._trans.value.transform.parent=e}else console.warn(this.ID+" 响应，参考物体为空，请检查！")},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,4)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;if(this._trans=t.gameObject,"self"===e[1].toLowerCase()||"自身"===e[1])this._space=BABYLON.Space.LOCAL;else if("world"===e[1].toLowerCase()||"世界"===e[1])this._space=BABYLON.Space.WORLD;else{this._space=BABYLON.Space.BONE;var r=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;if(this._ref=r.gameObject,null===this._ref.value)return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应传入参数 参考物体： "+e[1]+"，该参考物体在场景中无法找到！","",l.Severity.Error)),!1}if("x"===e[2].toLowerCase())this._axis=0;else if("y"===e[2].toLowerCase())this._axis=1;else if("z"===e[2].toLowerCase())this._axis=2;else{if("vector3"!==e[2].toLowerCase())return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为："+e[2]+"，请检查！","",l.Severity.Error)),!1;this._axis=3}if(3===this._axis){var i=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._isVec=i.isVec,this._posVec=i.vector3,this._x=i.vecNumbers[0],this._y=i.vecNumbers[1],this._z=i.vecNumbers[2]}else{i=new u.VeryParas;if(!u.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3]))return!1;this._posvalue=i.number}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_SetAngle=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._refType=BABYLON.Space.LOCAL,t._translateObj=new o.VeryGameObject,t._refObj=new o.VeryGameObject,t._isDeltaTime=new o.VeryBool,t._isVec=!0,t._vecVar=new o.VeryVector3,t._xVar=new o.VeryNumber,t._yVar=new o.VeryNumber,t._zVar=new o.VeryNumber,t._paraTime=1,t._paraVec=new o.VeryVector3,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"直线运动|Translate"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Translate"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._translateObj&&this._translateObj.value&&(this._isDeltaTime&&this._isDeltaTime.value?this._paraTime=s.Time.deltaTime:this._paraTime=1,this._isVec?this._paraVec.value.copyFrom(this._vecVar.value):(this._paraVec.value.x=this._xVar.value,this._paraVec.value.y=this._yVar.value,this._paraVec.value.z=this._zVar.value),this._paraVec.value=this._paraVec.value.multiplyByFloats(this._paraTime,this._paraTime,this._paraTime),this._refType===BABYLON.Space.LOCAL||this._refType===BABYLON.Space.WORLD?this._translateObj.value.transform.translate(this._paraVec.value,this._refType):this._refObj&&this._refObj.value?this._translateObj.value.transform.translateRelativeTo(this._paraVec.value,this._refObj.value.transform):this._translateObj.value.transform.translate(this._paraVec.value,BABYLON.Space.WORLD))},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,4)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._translateObj=t.gameObject;var r=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;if(this._vecVar=r.vector3,this._xVar=r.vecNumbers[0],this._yVar=r.vecNumbers[1],this._zVar=r.vecNumbers[2],this._isVec=r.isVec,"world"===e[2].toLowerCase()||"世界"===e[2])this._refType=BABYLON.Space.WORLD;else if("self"===e[2].toLowerCase()||"自身"===e[2])this._refType=BABYLON.Space.LOCAL;else{var i=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[2]))return!1;this._refObj=i.gameObject,null===this._refObj.value&&c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应传入参数 参考物体： "+e[2]+"，该参考物体在场景中无法找到！","",l.Severity.Error))}var n=new u.VeryParas;return!!u.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,n,e[3])&&(this._isDeltaTime=n.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Translate=y;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._refType=BABYLON.Space.LOCAL,t._rotateObj=new o.VeryGameObject,t._isDeltaTime=new o.VeryBool,t._isVec=!0,t._vecVar=new o.VeryVector3,t._xVar=new o.VeryNumber,t._yVar=new o.VeryNumber,t._zVar=new o.VeryNumber,t._paraTime=1,t._paraVec=new o.VeryVector3,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Rotate|自转"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Rotate"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._rotateObj&&this._rotateObj.value&&(this._isDeltaTime&&this._isDeltaTime.value?this._paraTime=s.Time.deltaTime:this._paraTime=1,this._isVec?this._paraVec.value.copyFrom(this._vecVar.value):(this._paraVec.value.x=this._xVar.value,this._paraVec.value.y=this._yVar.value,this._paraVec.value.z=this._zVar.value),this._paraVec.value=this._paraVec.value.multiplyByFloats(this._paraTime,this._paraTime,this._paraTime),this._rotateObj.value.transform.rotate(this._paraVec.value,this._refType))},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,4)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._rotateObj=t.gameObject;var r=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;if(this._vecVar=r.vector3,this._xVar=r.vecNumbers[0],this._yVar=r.vecNumbers[1],this._zVar=r.vecNumbers[2],this._isVec=r.isVec,"world"===e[2].toLowerCase()||"世界"===e[2])this._refType=BABYLON.Space.WORLD;else{if("self"!==e[2].toLowerCase()&&"自身"!==e[2])return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应传入参数 格式错误： "+e[2]+"，应填“self|自身”或“world|世界”！","",l.Severity.Error)),!1;this._refType=BABYLON.Space.LOCAL}var i=new u.VeryParas;return!!u.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[3])&&(this._isDeltaTime=i.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Rotate=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rotateObj=new o.VeryGameObject,t._isDeltaTime=new o.VeryBool,t._speed=new o.VeryNumber,t._isVecPoint=!0,t._rotatePoint=new o.VeryVector3,t._xPoint=new o.VeryNumber,t._yPoint=new o.VeryNumber,t._zPoint=new o.VeryNumber,t._point=new o.VeryVector3,t._isVecAxis=!0,t._rotateAxis=new o.VeryVector3,t._xAxis=new o.VeryNumber,t._yAxis=new o.VeryNumber,t._zAxis=new o.VeryNumber,t._axis=new o.VeryVector3,t._paraTime=1,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Rotate_Around|公转"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Rotate_Around"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._rotateObj&&this._rotateObj.value&&(this._isDeltaTime&&this._isDeltaTime.value?this._paraTime=s.Time.deltaTime:this._paraTime=1,this._isVecPoint?this._point.value.copyFrom(this._rotatePoint.value):(this._point.value.x=this._xPoint.value,this._point.value.y=this._yPoint.value,this._point.value.z=this._zPoint.value),this._isVecAxis?this._axis.value.copyFrom(this._rotateAxis.value):(this._axis.value.x=this._xAxis.value,this._axis.value.y=this._yAxis.value,this._axis.value.z=this._zAxis.value),this._rotateObj.value.transform.rotateAround(this._point.value,this._axis.value,this._speed.value*this._paraTime))},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,4)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._rotateObj=t.gameObject;var r=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;this._rotatePoint=r.vector3,this._xPoint=r.vecNumbers[0],this._yPoint=r.vecNumbers[1],this._zPoint=r.vecNumbers[2],this._isVecPoint=r.isVec;var i=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[2]))return!1;this._rotateAxis=i.vector3,this._xAxis=i.vecNumbers[0],this._yAxis=i.vecNumbers[1],this._zAxis=i.vecNumbers[2],this._isVecAxis=i.isVec;var n=new u.VeryParas;if(!u.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,n,e[3]))return!1;this._speed=n.number;var a=new u.VeryParas;return!!u.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,a,e[4])&&(this._isDeltaTime=a.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Rotate_Around=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._childList=[],t._formerList=[],t._parentObj=new o.VeryGameObject,t._reset=new o.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Parent|设置父物体"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Parent"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){if(this._reset.value)for(var e=0;e<this._childList.length;e++){var t=this._childList[e].value;null==this._parentObj.value?null!=t&&(t.transform.parent=null):null!=t&&(t.transform.parent=this._parentObj.value.transform)}else for(e=0;e<this._childList.length;e++){null!=(t=this._childList[e].value)&&(t.transform.parent=this._formerList[e])}},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,2,3)){for(var t=!0,r=e[0].split(/,|，/),i=0;i<r.length;i++){r[i]=r[i].trim();var n=new o.VeryGameObject,a=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,a,r[i]))return!1;null!=(n=a.gameObject).value?(this._childList[this._childList.length]=n,this._formerList[this._formerList.length]=n.value.transform.parent):(console.error(this.ID+" 响应中，物体"+r[i]+"在场景中不存在！"),t=!1)}if(!t)return console.error(this.ID+" 响应传入参数格式错误： "+e[0]+"，场景中有物体不存在，或者变量填写错误，请检查！"),!1;var s=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,s,e[1]))return!1;this._parentObj=s.gameObject;var c=new u.VeryParas;if(e.length>2){if(!u.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,c,e[2]))return!1;this._reset=c.bool}else this._reset.value=!0;return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Parent=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._obj=new o.VeryGameObject,t._count=new o.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Child_Count|获取子物体数"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Child_Count"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){null!=this._obj.value&&(this._count.value=this._obj.value.transform.childCount)},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,2)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._obj=t.gameObject;var r=new u.VeryParas;return!!u.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1])&&(this._count=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Child_Count=v;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tran=new o.VeryGameObject,t._isVec=!0,t._pointVec=new o.VeryVector3,t._pointFloat=[],t._resultVec=new o.VeryVector3,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Transform_Point|相对坐标点转世界坐标点"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Transform_Point"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){null!=this._tran.value&&(this._isVec?this._resultVec.value=this._tran.value.transform.transformPosition(this._pointVec.value):this._resultVec.value=this._tran.value.transform.transformPosition(new BABYLON.Vector3(this._pointFloat[0].value,this._pointFloat[1].value,this._pointFloat[2].value)))},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,3)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._tran=t.gameObject;var r=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;this._isVec=r.isVec,this._pointVec=r.vector3,this._pointFloat=r.vecNumbers;var i=new u.VeryParas;return!!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[2])&&(this._resultVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Transform_Point=d;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tran=new o.VeryGameObject,t._isVec=!0,t._pointVec=new o.VeryVector3,t._pointFloat=[],t._resultVec=new o.VeryVector3,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Transform_Direction|相对坐标方向转世界坐标方向"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Transform_Direction"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){null!=this._tran.value&&(this._isVec?this._resultVec.value=this._tran.value.transform.transformDirection(this._pointVec.value):this._resultVec.value=this._tran.value.transform.transformDirection(new BABYLON.Vector3(this._pointFloat[0].value,this._pointFloat[1].value,this._pointFloat[2].value)))},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,3)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._tran=t.gameObject;var r=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;this._isVec=r.isVec,this._pointVec=r.vector3,this._pointFloat=r.vecNumbers;var i=new u.VeryParas;return!!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[2])&&(this._resultVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Transform_Direction=P;var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tran=new o.VeryGameObject,t._isVec=!0,t._pointVec=new o.VeryVector3,t._pointFloat=[],t._resultVec=new o.VeryVector3,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Inverse_Transform_Point|世界坐标点转相对坐标点"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Inverse_Transform_Point"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){null!=this._tran.value&&(this._isVec?this._resultVec.value=this._tran.value.transform.inverseTransformPosition(this._pointVec.value):this._resultVec.value=this._tran.value.transform.inverseTransformPosition(new BABYLON.Vector3(this._pointFloat[0].value,this._pointFloat[1].value,this._pointFloat[2].value)))},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,3)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._tran=t.gameObject;var r=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;this._isVec=r.isVec,this._pointVec=r.vector3,this._pointFloat=r.vecNumbers;var i=new u.VeryParas;return!!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[2])&&(this._resultVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Inverse_Transform_Point=V;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tran=new o.VeryGameObject,t._isVec=!0,t._pointVec=new o.VeryVector3,t._pointFloat=[],t._resultVec=new o.VeryVector3,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Inverse_Transform_Direction|世界坐标方向转相对坐标方向"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Inverse_Transform_Direction"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){null!=this._tran.value&&(this._isVec?this._resultVec.value=this._tran.value.transform.inverseTransformDirection(this._pointVec.value):this._resultVec.value=this._tran.value.transform.inverseTransformDirection(new BABYLON.Vector3(this._pointFloat[0].value,this._pointFloat[1].value,this._pointFloat[2].value)))},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,3)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._tran=t.gameObject;var r=new u.VeryParas;if(!u.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1]))return!1;this._isVec=r.isVec,this._pointVec=r.vector3,this._pointFloat=r.vecNumbers;var i=new u.VeryParas;return!!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,i,e[2])&&(this._resultVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Inverse_Transform_Direction=E;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._obj=new o.VeryGameObject,t._parent=new o.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Parent|获取父物体"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Parent"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){null!=this._obj.value?null==this._obj.value.transform.parent?this._parent.value=null:this._parent.value=s.GameObject.Find(this._obj.value.transform.parent.name):this._parent.value=null},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,2)){var t=new u.VeryParas;if(!u.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,l.ParaType.Action,t,e[0]))return!1;this._obj=t.gameObject;var r=new u.VeryParas;return!!u.ParaParserUtility.GameObjectParaOnlyVar(this.projectName,this.objectID,this.ID,l.ParaType.Action,r,e[1])&&(this._parent=r.gameObject,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Parent=A,a.VE_Actions.addAction(p),a.VE_Actions.addAction(y),a.VE_Actions.addAction(b),a.VE_Actions.addAction(m),a.VE_Actions.addAction(h),a.VE_Actions.addAction(_),a.VE_Actions.addAction(f),a.VE_Actions.addAction(g),a.VE_Actions.addAction(v),a.VE_Actions.addAction(d),a.VE_Actions.addAction(P),a.VE_Actions.addAction(V),a.VE_Actions.addAction(E),a.VE_Actions.addAction(A)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Debug=void 0;var a,o=r(3),s=r(1),u=r(2),l=r(0),c=r(4);!function(e){e[e.VeryVar=0]="VeryVar",e[e.Template=1]="Template",e[e.Const=2]="Const"}(a||(a={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._debugMode=0,t._typeList=[],t._veryVarDic={},t._templateDic={},t._constDic={},t._separator=" ",t._strBuilder="",t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Debug|调试"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Debug"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._strBuilder="";for(var e=0;e<this._typeList.length;e++)this._typeList[e]===a.Const?this._strBuilder+=this._constDic[e]:this._typeList[e]===a.VeryVar?this._strBuilder+=this._veryVarDic[e].getValue():(this._typeList[e],a.Template),this._strBuilder+=this._separator;this._strBuilder=this._strBuilder.trim(),0===this._debugMode?console.log(this._strBuilder):1==this._debugMode?console.warn(this._strBuilder):2==this._debugMode&&console.error(this._strBuilder)},t.prototype.paraParser=function(e){if(u.ParaParserUtility.ParaNumbers(this.ID,l.ParaType.Action,e.length,2)){if("log"===e[0].toLowerCase()||"调试"===e[0])this._debugMode=0;else if("warn"===e[0].toLowerCase()||"警告"===e[0])this._debugMode=1;else{if("error"!==e[0].toLowerCase()&&"错误"!==e[0])return c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应 传入参数格式错误，应为Log、Warn或者Error，当前为： "+e[0]+"，请检查填入数据！","",l.Severity.Error)),!1;this._debugMode=2}for(var t=e[1].split("+"),r=0;r<t.length;r++)if(t[r]=t[r].trim(),s.VarTools.IsVarID(t[r])){var i=new u.ErrorInfo,n=s.VarTools.GetVeryVarWithExpression(this.projectName,this.objectID,t[r],i);if(null===n){i.clear();var o=s.VarTools.GetTemplate(this.projectName,this.objectID,t[r],i);null===o?(c.VE_ErrorManager.Add(new c.VE_Error("",this.ID+" 响应 传入参数格式可能有误，当前参数："+t[r]+"，当前参数含有变量符号，但是在系统中无法查找到，此处当常量处理，请注意！","",l.Severity.Error)),this._constDic[this._typeList.length]=t[r],this._typeList.push(a.Const)):(this._templateDic[this._typeList.length]=o,this._typeList.push(a.Template))}else this._veryVarDic[this._typeList.length]=n,this._typeList.push(a.VeryVar)}else this._constDic[this._typeList.length]=t[r],this._typeList.push(a.Const);return!0}return!1},t.prototype.destroy=function(){},t}(o.VE_ActionBehaviour);t.Action_Debug=p,o.VE_Actions.addAction(p)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Vector3_Operator=t.Action_Vector3_Multiply=t.Action_Vector3_Invert=t.Action_Vector3_Clamp_Magnitude=t.Action_Vector3_Normalize=t.Action_Vector3_Substract=t.Action_Vector3_Add=t.Action_Vector3_Distance=t.Action_Vector3_Set_Value=t.Action_Vector3_Get_Magnitude=t.Action_Vector3_Get_Value=t.Action_Vector3_Interpolate=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=r(4),c=r(5),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._switch=!1,t._timer=0,t._isLinear=!0,t._acceptVec=new u.VeryVector3,t._timeFloat=new u.VeryNumber,t._isVec1=!1,t._vecUnit1=new u.VeryVector3,t._vecFloat1=[],t._isVec2=!1,t._vecUnit2=new u.VeryVector3,t._vecFloat2=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Interpolate|向量插值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Interpolate"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return s.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){0===this._timeFloat.value?this.timesUp():(this._timer=0,this._switch=!0)},t.prototype.onUpdate=function(){if(this._switch){this._timer+=c.Time.deltaTime;var e=this._vecUnit1.value;this._isVec1||(e=new BABYLON.Vector3(this._vecFloat1[0].value,this._vecFloat1[1].value,this._vecFloat1[2].value));var t=this._vecUnit2.value;this._isVec2||(t=new BABYLON.Vector3(this._vecFloat2[0].value,this._vecFloat2[1].value,this._vecFloat2[2].value)),this._timer>this._timeFloat.value?(this._switch=!1,this._timer=0,this._isLinear?this._acceptVec.value=BABYLON.Vector3.Lerp(e,t,1):this._acceptVec.value=o.Vector3Utility.Slerp(e,t,1),this._acceptVec.value.set(t.x,t.y,t.z),this.timesUp()):this._isLinear?this._acceptVec.value=BABYLON.Vector3.Lerp(e,t,this._timer/this._timeFloat.value):this._acceptVec.value=o.Vector3Utility.Slerp(e,t,this._timer/this._timeFloat.value)}},t.prototype.pause=function(){this._switch=!1,e.prototype.pause.call(this)},t.prototype.resume=function(){this._switch=!0,e.prototype.resume.call(this)},t.prototype.stop=function(){this.timesUp(),e.prototype.stop.call(this)},t.prototype.timesUp=function(){this._switch=!1,this._timer=0,this.finish()},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,5)){if("linear"===e[0].toLowerCase()||"线性"===e[0])this._isLinear=!0;else{if("smooth"!==e[0].toLowerCase()&&"圆滑"!==e[0])return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 响应 传入参数格式错误，应为Log、Warn或者Error，当前为： "+e[0]+"，请检查填入数据！","",s.Severity.Error)),!1;this._isLinear=!1}var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[1]))return!1;this._isVec1=t.isVec,this._vecFloat1=t.vecNumbers,this._vecUnit1=t.vector3;var r=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[2]))return!1;this._isVec2=r.isVec,this._vecFloat2=r.vecNumbers,this._vecUnit2=r.vector3;var i=new o.VeryParas;if(!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[3]))return!1;this._timeFloat=i.number;var n=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[4])&&(this._acceptVec=n.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Interpolate=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._xBlueFloat=new u.VeryNumber,t._hasX=!1,t._yBlueFloat=new u.VeryNumber,t._hasY=!1,t._zBlueFloat=new u.VeryNumber,t._hasZ=!1,t._isVec=!1,t._blueVector3=new u.VeryVector3,t._vecFloat=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Get_Value|获取向量值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Get_Value"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVec?(this._hasX&&(this._xBlueFloat.value=this._blueVector3.value.x),this._hasY&&(this._yBlueFloat.value=this._blueVector3.value.y),this._hasZ&&(this._zBlueFloat.value=this._blueVector3.value.z)):(this._hasX&&(this._xBlueFloat.value=this._vecFloat[0].value),this._hasY&&(this._yBlueFloat.value=this._vecFloat[1].value),this._hasZ&&(this._zBlueFloat.value=this._vecFloat[2].value))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,4)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;if(this._isVec=t.isVec,this._vecFloat=t.vecNumbers,this._blueVector3=t.vector3,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase())this._hasX=!1;else{var r=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._xBlueFloat=r.number,this._hasX=!0}if("none"==e[2].toLowerCase()||"null"==e[2].toLowerCase())this._hasY=!1;else{var i=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._yBlueFloat=i.number,this._hasY=!0}if("none"==e[3].toLowerCase()||"null"==e[3].toLowerCase())this._hasZ=!1;else{var n=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[3]))return!1;this._zBlueFloat=n.number,this._hasZ=!0}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Get_Value=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueFloat=new u.VeryNumber,t._isVec=!1,t._blueVector3=new u.VeryVector3,t._vecFloat=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Get_Magnitude|获取向量大小 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Get_Magnitude"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVec?this._blueFloat.value=this._blueVector3.value.length():this._blueFloat.value=new BABYLON.Vector3(this._vecFloat[0].value,this._vecFloat[1].value,this._vecFloat[2].value).length()},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVec=t.isVec,this._vecFloat=t.vecNumbers,this._blueVector3=t.vector3;var r=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueFloat=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Get_Magnitude=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._acceptVec=new u.VeryVector3,t._isVec=!1,t._blueVector3=new u.VeryVector3,t._vecFloat=[],t._isSet=[!1,!1,!1],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Set_Value|设置向量值 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Set_Value"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVec?this._acceptVec.value=this._blueVector3.value:(this._isSet[0]&&(this._acceptVec.value=new BABYLON.Vector3(this._vecFloat[0].value,this._acceptVec.value.y,this._acceptVec.value.z)),this._isSet[1]&&(this._acceptVec.value=new BABYLON.Vector3(this._acceptVec.value.x,this._vecFloat[1].value,this._acceptVec.value.z)),this._isSet[2]&&(this._acceptVec.value=new BABYLON.Vector3(this._acceptVec.value.x,this._acceptVec.value.y,this._vecFloat[2].value)))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){if(-1!=e[0].indexOf(",")||-1!=e[0].indexOf("，")){this._isVec=!1;var t=e[0].split(/,|，/);if(3!=t.length)return console.error(this.ID+" 响应，vector3应由3个float组成，当前："+e[0]+"，该变量不符合要求，请检查！"),!1;if(t[0]=t[0].trim(),t[1]=t[1].trim(),t[2]=t[2].trim(),"none"==t[0].toLowerCase()||"null"==t[0].toLowerCase())this._isSet[0]=!1;else{this._isSet[0]=!0;var r=new o.VeryParas;if(!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,t[0]))return!1;this._vecFloat[0]=r.number}if("none"==t[1].toLowerCase()||"null"==t[1].toLowerCase())this._isSet[1]=!1;else{this._isSet[1]=!0;r=new o.VeryParas;if(!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,t[1]))return!1;this._vecFloat[1]=r.number}if("none"==t[2].toLowerCase()||"null"==t[2].toLowerCase())this._isSet[2]=!1;else{this._isSet[2]=!0;r=new o.VeryParas;if(!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,t[2]))return!1;this._vecFloat[2]=r.number}}else{var i=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[0]))return!1;this._isVec=i.isVec,this._vecFloat=i.vecNumbers,this._blueVector3=i.vector3}var n=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[1])&&(this._acceptVec=n.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Set_Value=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isVec1=!0,t._vec1=new u.VeryVector3,t._x1=new u.VeryNumber,t._y1=new u.VeryNumber,t._z1=new u.VeryNumber,t._isVec2=!0,t._vec2=new u.VeryVector3,t._x2=new u.VeryNumber,t._y2=new u.VeryNumber,t._z2=new u.VeryNumber,t._result=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Distance|计算距离"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Distance"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVec1&&this._isVec2?this._result.value=BABYLON.Vector3.Distance(this._vec1.value,this._vec2.value):this._isVec1&&!this._isVec2?this._result.value=BABYLON.Vector3.Distance(this._vec1.value,new BABYLON.Vector3(this._x2.value,this._y2.value,this._z2.value)):!this._isVec1&&this._isVec2?this._result.value=BABYLON.Vector3.Distance(new BABYLON.Vector3(this._x1.value,this._y1.value,this._z1.value),this._vec2.value):this._result.value=BABYLON.Vector3.Distance(new BABYLON.Vector3(this._x1.value,this._y1.value,this._z1.value),new BABYLON.Vector3(this._x2.value,this._y2.value,this._z2.value))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVec1=t.isVec,this._x1.value=t.vecNumbers[0].value,this._y1.value=t.vecNumbers[1].value,this._z1.value=t.vecNumbers[2].value,this._vec1=t.vector3;var r=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._isVec2=r.isVec,this._x2.value=r.vecNumbers[0].value,this._y2.value=r.vecNumbers[1].value,this._z2.value=r.vecNumbers[2].value,this._vec2=r.vector3;var i=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._result=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Distance=y;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._acceptVec=new u.VeryVector3,t._blueVector1=new u.VeryVector3,t._blueVector2=new u.VeryVector3,t._isVector1=!0,t._isVector2=!0,t._blueFloat1=[],t._blueFloat2=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Add|向量加法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Add"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVector1?this._isVector2?this._acceptVec.value=this._blueVector1.value.add(this._blueVector2.value):this._acceptVec.value=this._blueVector1.value.add(new BABYLON.Vector3(this._blueFloat2[0].value,this._blueFloat2[1].value,this._blueFloat2[2].value)):this._isVector2?this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).add(this._blueVector2.value):this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).add(new BABYLON.Vector3(this._blueFloat2[0].value,this._blueFloat2[1].value,this._blueFloat2[2].value))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVector1=t.isVec,this._blueFloat1=t.vecNumbers,this._blueVector1=t.vector3;var r=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._isVector2=r.isVec,this._blueFloat2=r.vecNumbers,this._blueVector2=r.vector3;var i=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._acceptVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Add=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._acceptVec=new u.VeryVector3,t._blueVector1=new u.VeryVector3,t._blueVector2=new u.VeryVector3,t._isVector1=!0,t._isVector2=!0,t._blueFloat1=[],t._blueFloat2=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Substract|向量减法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Substract"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVector1?this._isVector2?this._acceptVec.value=this._blueVector1.value.subtract(this._blueVector2.value):this._acceptVec.value=this._blueVector1.value.subtract(new BABYLON.Vector3(this._blueFloat2[0].value,this._blueFloat2[1].value,this._blueFloat2[2].value)):this._isVector2?this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).subtract(this._blueVector2.value):this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).subtract(new BABYLON.Vector3(this._blueFloat2[0].value,this._blueFloat2[1].value,this._blueFloat2[2].value))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVector1=t.isVec,this._blueFloat1=t.vecNumbers,this._blueVector1=t.vector3;var r=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._isVector2=r.isVec,this._blueFloat2=r.vecNumbers,this._blueVector2=r.vector3;var i=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._acceptVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Substract=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._acceptVec=new u.VeryVector3,t._blueVector1=new u.VeryVector3,t._isVector1=!0,t._blueFloat1=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Normalize|向量标准化"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Normalize"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVector1?this._acceptVec.value=this._blueVector1.value.normalize():this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).normalize()},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVector1=t.isVec,this._blueFloat1=t.vecNumbers,this._blueVector1=t.vector3;var r=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._acceptVec=r.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Normalize=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._acceptVec=new u.VeryVector3,t._blueFloat=new u.VeryNumber,t._blueVector1=new u.VeryVector3,t._isVector1=!0,t._blueFloat1=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Clamp_Magnitude|向量长度限定"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Clamp_Magnitude"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVector1?this._blueVector1.value.length()>this._blueFloat.value&&(this._acceptVec.value=this._blueVector1.value.normalize().scale(this._blueFloat.value)):new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).length()>this._blueFloat.value&&(this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).normalize().scale(this._blueFloat.value))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVector1=t.isVec,this._blueFloat1=t.vecNumbers,this._blueVector1=t.vector3;var r=new o.VeryParas;if(!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._blueFloat=r.number;var i=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._acceptVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Clamp_Magnitude=v;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._acceptVec=new u.VeryVector3,t._blueVector1=new u.VeryVector3,t._isVector1=!0,t._blueFloat1=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Invert|向量取反"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Invert"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVector1?this._acceptVec.value=this._blueVector1.value.scale(-1):this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).scale(-1)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVector1=t.isVec,this._blueFloat1=t.vecNumbers,this._blueVector1=t.vector3;var r=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._acceptVec=r.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Invert=d;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._acceptVec=new u.VeryVector3,t._blueFloat=new u.VeryNumber,t._blueVector1=new u.VeryVector3,t._isVector1=!0,t._blueFloat1=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Multiply|向量乘法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Multiply"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isVector1?this._acceptVec.value=this._blueVector1.value.scale(this._blueFloat.value):this._acceptVec.value=new BABYLON.Vector3(this._blueFloat1[0].value,this._blueFloat1[1].value,this._blueFloat1[2].value).scale(this._blueFloat.value)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVector1=t.isVec,this._blueFloat1=t.vecNumbers,this._blueVector1=t.vector3;var r=new o.VeryParas;if(!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._blueFloat=r.number;var i=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._acceptVec=i.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Multiply=P;var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentType="",t._BlueVecSet=!1,t._BlueFloatSet=!1,t._isFloatOp=!1,t._resultVec=new u.VeryVector3,t._resultFloat=new u.VeryNumber,t._isVec1=!1,t._vecUnit1=new u.VeryVector3,t._vecFloat1=[],t._isVec2=!1,t._vecUnit2=new u.VeryVector3,t._vecFloat2=[],t._float2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Vector3_Operator|向量运算"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Vector3_Operator"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e=this._vecUnit1.value;this._isVec1||(e=new BABYLON.Vector3(this._vecFloat1[0].value,this._vecFloat1[1].value,this._vecFloat1[2].value));var t=this._vecUnit2.value;this._isVec2||(t=new BABYLON.Vector3(this._vecFloat2[0].value,this._vecFloat2[1].value,this._vecFloat2[2].value)),"加法"==this._currentType?this._BlueVecSet&&(this._resultVec.value=e.add(t)):"计算角度"==this._currentType?this._BlueFloatSet:"叉积"==this._currentType?this._BlueVecSet&&(this._resultVec.value=BABYLON.Vector3.Cross(e,t)):"距离"==this._currentType?this._BlueFloatSet&&(this._resultFloat.value=BABYLON.Vector3.Distance(e,t)):"除法"==this._currentType?this._BlueVecSet&&0!=this._float2.value&&(this._resultVec.value=e.scale(1/this._float2.value)):"点积"==this._currentType?this._BlueFloatSet&&(this._resultFloat.value=BABYLON.Vector3.Dot(e,t)):"最大值"==this._currentType?this._BlueVecSet&&(this._resultVec.value=BABYLON.Vector3.Maximize(e,t)):"最小值"==this._currentType?this._BlueVecSet&&(this._resultVec.value=BABYLON.Vector3.Minimize(e,t)):"乘法"==this._currentType?this._BlueVecSet&&(this._resultVec.value=e.scale(this._float2.value)):"投影"==this._currentType||"反射"==this._currentType?this._BlueVecSet:"减法"==this._currentType&&this._BlueVecSet&&(this._resultVec.value=e.subtract(t))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,5)){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isVec1=t.isVec,this._vecFloat1=t.vecNumbers,this._vecUnit1=t.vector3;var r=new o.VeryParas;if(o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))this._isFloatOp=!0,this._isVec2=r.isVec,this._vecFloat2=r.vecNumbers,this._vecUnit2=r.vector3;else{if(!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._isFloatOp=!0,this._float2=r.number}if("加法"!=this._currentType&&"计算角度"!=this._currentType&&"叉积"!=this._currentType&&"除法"!=this._currentType&&"距离"!=this._currentType&&"点积"!=this._currentType&&"最大值"!=this._currentType&&"最小值"!=this._currentType&&"乘法"!=this._currentType&&"投影"!=this._currentType&&"反射"!=this._currentType&&"减法"!=this._currentType)return console.error(this.ID+" 响应传入参数格式错误，值为： "+e[2]+"，系统中没有该运算方式，请查看填写是否正确！"),!1;if("除法"==this._currentType||"乘法"==this._currentType){if(!this._isFloatOp)return console.error(this.ID+" 响应传入参数格式错误，向量运算方式为： "+e[2]+"，对应的第2个参数应为float类型！"),!1}else if(this._isFloatOp)return console.error(this.ID+" 响应传入参数格式错误，向量运算方式为： "+e[2]+"，对应的第2个参数应为Vector3类型！"),!1;if("none"==e[3].toLowerCase()||"null"==e[3].toLowerCase())this._BlueVecSet=!1;else{this._BlueVecSet=!0;var i=new o.VeryParas;if(!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[3]))return!1;this._resultVec=i.vector3}if("none"==e[4].toLowerCase()||"null"==e[4].toLowerCase())this._BlueFloatSet=!1;else{this._BlueFloatSet=!0;var n=new o.VeryParas;if(!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[4]))return!1;this._resultFloat=n.number}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Vector3_Operator=V,a.VE_Actions.addAction(p),a.VE_Actions.addAction(h),a.VE_Actions.addAction(_),a.VE_Actions.addAction(f),a.VE_Actions.addAction(y),a.VE_Actions.addAction(g),a.VE_Actions.addAction(v),a.VE_Actions.addAction(b),a.VE_Actions.addAction(m),a.VE_Actions.addAction(d),a.VE_Actions.addAction(P),a.VE_Actions.addAction(V)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_DestroyTemplateInstance=t.Action_CreateTemplateInstance=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=r(4),c=r(6),p=r(5),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._template=null,t._templateVarID="",t._deriveID=new u.VeryString,t._objectInfo=new u.VeryString,t._ref=new u.VeryGameObject,t._position=new u.VeryVector3,t._posX=new u.VeryNumber,t._posY=new u.VeryNumber,t._posZ=new u.VeryNumber,t._isPositionVec=!0,t._angle=new u.VeryVector3,t._angleX=new u.VeryNumber,t._angleY=new u.VeryNumber,t._angleZ=new u.VeryNumber,t._isAngleVec=!0,t._destoryOnCreateNew=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"创建模板对象|Create_Instance"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_CreateTemplateInstance"},enumerable:!1,configurable:!0}),t.prototype.active=function(){if(null!==this._template){var e=new o.ErrorInfo,t=c.VE_Manager.templates(this.projectName).createInstance(this.objectID,this._templateVarID,this._template,this._objectInfo.value,e,this._destoryOnCreateNew.value);if(null!==t&&null!==t.templateInstance)if(null!==this._ref.value){this._isPositionVec?t.templateInstance.gameObject.transform.position=this._ref.value.transform.transformPosition(this._position.value):t.templateInstance.gameObject.transform.position=this._ref.value.transform.transformPosition(new BABYLON.Vector3(this._posX.value,this._posY.value,this._posZ.value));var r=new p.GameObject("Angle__Empty");r.transform.parent=this._ref.value.transform,this._isAngleVec?r.transform.localEulerAngles=this._angle.value:r.transform.localEulerAngles=new BABYLON.Vector3(this._angleX.value,this._angleY.value,this._angleZ.value),t.templateInstance.gameObject.transform.eulerAngles=r.transform.eulerAngles,p.GameObject.Destroy(r)}else this._isPositionVec?t.templateInstance.gameObject.transform.position=this._position.value:t.templateInstance.gameObject.transform.position=new BABYLON.Vector3(this._posX.value,this._posY.value,this._posZ.value),this._isAngleVec?t.templateInstance.gameObject.transform.eulerAngles=this._angle.value:t.templateInstance.gameObject.transform.eulerAngles=new BABYLON.Vector3(this._angleX.value,this._angleY.value,this._angleZ.value);else console.error(this.ID+" 响应 创建模板对象错误，错误原因："+e.message)}},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,6,7)){var t=new o.ErrorInfo;if(this._templateVarID=e[0],this._template=u.VarTools.GetTemplate(this.projectName,this.objectID,e[0],t),null===this._template)return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 响应 传入参数格式错误，创建模板对象错误，模板对象："+e[0]+"，错误原因： "+t.message,"",s.Severity.Error)),!1;var r=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._deriveID=r.string;var i=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._objectInfo=i.string;var n=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[3]))return!1;this._ref=n.gameObject;var a=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,a,e[4]))return!1;this._isPositionVec=a.isVec,this._position=a.vector3,this._posX=a.vecNumbers[0],this._posY=a.vecNumbers[1],this._posZ=a.vecNumbers[2];var c=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,c,e[5]))return!1;if(this._isAngleVec=c.isVec,this._angle=c.vector3,this._angleX=c.vecNumbers[0],this._angleY=c.vecNumbers[1],this._angleZ=c.vecNumbers[2],e.length>6){var p=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,p,e[6]))return!1;this._destoryOnCreateNew=p.bool}else this._destoryOnCreateNew.value=!0;return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_CreateTemplateInstance=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isInstance=!0,t._template=null,t._instance=null,t._templateStr="",t._deleteAllTemplates=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"删除模板对象|Destroy_Instance"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_DestroyTemplateInstance"},enumerable:!1,configurable:!0}),t.prototype.active=function(){if(this._isInstance){if(null!==this._instance){if(null!==this._instance.template)if(this._instance.template.unloadInstance(this._instance),this._deleteAllTemplates.value)(e=this._instance.template.backupInstances)&&e.forEach((function(e){e.unload()})),this._instance.template.unload(!0);this._instance.unload()}}else{if(null===this._template||null===this._template.templateInstance)return void console.error(this.ID+" 响应，模板变量："+this._templateStr+"，当前模板变量未实例化创建，无法删除！");var e;if(this._deleteAllTemplates.value)(e=this._template.backupInstances)&&e.forEach((function(e){e.unload()})),this._template.unload(!0);else this._template.templateInstance.unload(),this._template.unload()}},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1,2)){if("this"===e[0].toLowerCase())this._instance=this.veryObject,this._isInstance=!0;else{this._isInstance=!1,this._templateStr=e[0];var t=new o.ErrorInfo;if(this._template=u.VarTools.GetTemplate(this.projectName,this.objectID,e[0],t),null===this._template)return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 响应 模板变量获取错误，错误原因："+t.message+"，请检查！","",s.Severity.Error)),!1}if(e.length>1){var r=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._deleteAllTemplates=r.bool}else this._deleteAllTemplates.value=!1;return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_DestroyTemplateInstance=_,a.VE_Actions.addAction(h),a.VE_Actions.addAction(_)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Get_System_Data_Time=t.Action_Wait=t.VeryTimeControl=t.Action_Timer=void 0;var a=r(3),o=r(0),s=r(2),u=r(1),l=r(5),c=r(8),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._switch=new u.VeryBool,t._timerEvent=null,t._mutiple=new u.VeryBool,t._totalTime=new u.VeryNumber,t._timer=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Timer|定时器"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Timer"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._switch.value?this.timeSet():this._timer=[]},t.prototype.timeSet=function(){if(this._mutiple.value){var e=new h(this._totalTime.value,l.Time.time);this._timer.push(e)}else if(0==this._timer.length){e=new h(this._totalTime.value,l.Time.time);this._timer.push(e)}else this._timer[0].reset(this._totalTime.value,l.Time.time)},t.prototype.update=function(){if(this._timer.length>0)for(var e=0;e<this._timer.length;e++)this._timer[e].isTimesUp(l.Time.time)&&(this._timer.length>e&&(this._timer.splice(e,1),e--),this.timesUp())},t.prototype.timesUp=function(){null!==this._timerEvent&&(this._timerEvent(),this.finish())},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3,4)){var t=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._switch=t.bool;for(var r=e[1].split(/,|，/),i=0;i<r.length;i++)c.VE_CustomTriggerManager.ConnectCustomTrigger(this.projectName,this.objectID,r[i].trim(),this.setCallback.bind(this));var n=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,n,e[2]))return!1;if(this._totalTime=n.number,e.length>3){var a=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,a,e[3]))return!1;this._mutiple=a.bool}else this._mutiple.value=!0;return!0}return!1},t.prototype.setCallback=function(e){this._timerEvent=e},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Timer=p;var h=function(){function e(e,t){e<0&&(e=0),this._totalTime=e,this._startTime=t,this._timeRecorder=0}return e.prototype.isTimesUp=function(e){return this._timeRecorder=e-this._startTime,this._timeRecorder>=this._totalTime},e.prototype.reset=function(e,t){e<0&&(e=0),this._totalTime=e,this._startTime=t,this._timeRecorder=0},e}();t.VeryTimeControl=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._waitTime=new u.VeryNumber,t._timer=0,t._switch=!1,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Wait|等待"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Wait"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){0===this._waitTime.value?this.timesUp():(this._switch=!0,this._timer=0)},t.prototype.update=function(){this._switch&&(this._timer+=l.Time.deltaTime,this._timer>this._waitTime.value&&this.timesUp())},t.prototype.pause=function(){this._switch=!1,e.prototype.pause.call(this)},t.prototype.resume=function(){this._switch=!0,e.prototype.resume.call(this)},t.prototype.stop=function(){this.timesUp(),e.prototype.stop.call(this)},t.prototype.timesUp=function(){this._switch=!1,this._timer=0,this.finish()},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,1)){var t=new s.VeryParas;return!!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0])&&(this._waitTime=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Wait=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueString=new u.VeryString,t._string="",t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_System_Data_Time|获取系统时间"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_System_Data_Time"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e=new Date;if(""==this._string)this._blueString.value=e.getFullYear()+"/"+e.getMonth()+"/"+e.getDay()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();else try{this._blueString.value=e.getFullYear()+"/"+e.getMonth()+"/"+e.getDay()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}catch(e){console.error(this.ID+" 响应，传入参数格式错误： "+this._string+"，请填写正确的时间格式！")}},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,1,2)){var t=new s.VeryParas;return!!s.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0])&&(this._blueString=t.string,e.length>1&&(this._string=e[1]),!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_System_Data_Time=f,a.VE_Actions.addAction(p),a.VE_Actions.addAction(_),a.VE_Actions.addAction(f)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Math_Round=t.Action_Get_PI=t.Action_Radian_To_Degree=t.Action_Degree_To_Radian=t.Action_Math_Tan=t.Action_Math_Sqrt=t.Action_Math_Sin=t.Action_Math_Pow=t.Action_Math_Ln=t.Action_Math_Log10=t.Action_Math_Log=t.Action_Math_Floor=t.Action_Math_Exp=t.Action_Math_Cos=t.Action_Math_Ceil=t.Action_Math_ATan2=t.Action_Math_ATan=t.Action_Math_ASin=t.Action_Math_ACos=t.Action_Set_Number=t.Action_Random_Number=t.Action_Number_Max=t.Action_Number_Min=t.Action_Number_Substract=t.Action_Number_Multiply=t.Action_Number_Divide=t.Action_Number_Clamp=t.Action_Number_Mutiple_Add=t.Action_Number_Add=t.Action_Math_Abs=t.Action_Bool_Operator=t.Action_Set_Bool=t.Action_Random_Bool=t.Action_Bool_Flip=t.Action_Float_Inverse_Interpolate=t.Action_Float_Interpolate=void 0;var a=r(3),o=r(0),s=r(2),u=r(1),l=r(4),c=r(5),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._switch=!1,t._timer=0,t._isLinear=!0,t._startFloat=new u.VeryNumber,t._endFloat=new u.VeryNumber,t._timeFloat=new u.VeryNumber,t._resultFloat=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Interpolate|数值插值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Float_Interpolate"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){0===this._timeFloat.value?this.timesUp():(this._timer=0,this._switch=!0)},t.prototype.pause=function(){this._switch=!1,e.prototype.pause.call(this)},t.prototype.resume=function(){this._switch=!0,e.prototype.resume.call(this)},t.prototype.stop=function(){this.timesUp(),e.prototype.stop.call(this)},t.prototype.timesUp=function(){this._switch=!1,this._timer=0,this.finish()},t.prototype.update=function(){this._switch&&(this._timer+=c.Time.deltaTime,this._timer>this._timeFloat.value?(this._switch=!1,this._timer=0,this._isLinear?this._resultFloat.value=s.FloatUitlity.Lerp(this._startFloat.value,this._endFloat.value,1):this._resultFloat.value=s.FloatUitlity.SLerp(this._startFloat.value,this._endFloat.value,1),this.timesUp()):this._isLinear?this._resultFloat.value=s.FloatUitlity.Lerp(this._startFloat.value,this._endFloat.value,this._timer/this._timeFloat.value):this._resultFloat.value=s.FloatUitlity.SLerp(this._startFloat.value,this._endFloat.value,this._timer/this._timeFloat.value))},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,5)){if("linear"===e[0].toLowerCase()||"线性"===e[0])this._isLinear=!0;else{if("smooth"!==e[0].toLowerCase()&&"圆滑"!==e[0])return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 响应 传入参数格式错误，应为Log、Warn或者Error，当前为： "+e[0]+"，请检查填入数据！","",o.Severity.Error)),!1;this._isLinear=!1}var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[1]))return!1;this._startFloat=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[2]))return!1;this._endFloat=r.number;var i=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[3]))return!1;this._timeFloat=i.number;var n=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,n,e[4])&&(this._resultFloat=n.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Float_Interpolate=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._switch=!1,t._timer=0,t._startFloat=new u.VeryNumber,t._endFloat=new u.VeryNumber,t._timeFloat=new u.VeryNumber,t._resultFloat=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Inverse_Interpolate|数值逆向插值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Float_Inverse_Interpolate"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){0===this._timeFloat.value?this.timesUp():(this._timer=0,this._switch=!0)},t.prototype.pause=function(){this._switch=!1,e.prototype.pause.call(this)},t.prototype.resume=function(){this._switch=!0,e.prototype.resume.call(this)},t.prototype.stop=function(){this.timesUp(),e.prototype.stop.call(this)},t.prototype.timesUp=function(){this._switch=!1,this._timer=0,this.finish()},t.prototype.update=function(){this._switch&&(this._timer+=c.Time.deltaTime,this._timer>this._timeFloat.value?(this._switch=!1,this._timer=0,this._resultFloat.value=s.FloatUitlity.Lerp(this._endFloat.value,this._startFloat.value,1),this.timesUp()):this._resultFloat.value=s.FloatUitlity.Lerp(this._endFloat.value,this._startFloat.value,this._timer/this._timeFloat.value))},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,4)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._startFloat=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._endFloat=r.number;var i=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2]))return!1;this._timeFloat=i.number;var n=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,n,e[3])&&(this._resultFloat=n.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Float_Inverse_Interpolate=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueBool=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Bool_Flip|布尔值取反"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Bool_Flip"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueBool.value=!this._blueBool.value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,1)){var t=new s.VeryParas;return!!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0])&&(this._blueBool=t.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Bool_Flip=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueBool=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Random_Bool|随机布尔值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Random_Bool"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueBool.value=Math.random()>.5},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,1)){var t=new s.VeryParas;return!!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0])&&(this._blueBool=t.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Random_Bool=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueBool=new u.VeryBool,t._blueBool2=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Bool|设置布尔值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Bool"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueBool2.value=this._blueBool.value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueBool=t.bool;var r=new s.VeryParas;return!!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueBool2=r.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Bool=y;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueBool1=new u.VeryBool,t._blueBool2=new u.VeryBool,t._resultBool=new u.VeryBool,t._mode="",t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Bool_Operator|布尔值计算"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Bool_Operator"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){"and"==this._mode?this._resultBool.value=this._blueBool1.value&&this._blueBool2.value:"or"==this._mode?this._resultBool.value=this._blueBool1.value||this._blueBool2.value:"nand"==this._mode?this._resultBool.value=!(this._blueBool1.value&&this._blueBool2.value):"xor"==this._mode?this._resultBool.value=!(this._blueBool1.value==this._blueBool2.value):"nor"==this._mode&&(this._resultBool.value=!(this._blueBool1.value||this._blueBool2.value))},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,4)){var t=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueBool1=t.bool;var r=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;if(this._blueBool2=r.bool,"and"==e[2].toLowerCase()||"与"==e[2])this._mode="and";else if("or"==e[2].toLowerCase()||"或"==e[2])this._mode="or";else if("nand"==e[2].toLowerCase()||"与非"==e[2])this._mode="nand";else if("xor"==e[2].toLowerCase()||"异或"==e[2])this._mode="xor";else{if("nor"!=e[2].toLowerCase()&&"与或"!=e[2])return console.error(this.ID+" 响应传入参数格式错误： "+e[2]+"，请参考填写说明！"),!1;this._mode="nor"}var i=new s.VeryParas;return!!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[3])&&(this._resultBool=i.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Bool_Operator=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Abs|取绝对值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Abs"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=Math.abs(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._acceptNumber=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Abs=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Add|数值加法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Add"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueNumber.value+this._blueNumber2.value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._acceptNumber=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Add=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueFloatList=[],t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Mutiple_Add|多个数值加法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Mutiple_Add"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=0;for(var e=0;e<this._blueFloatList.length;e++)this._acceptNumber.value+=this._blueFloatList[e].value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){for(var t=e[0].split(/,|，/),r=new s.VeryParas,i=0;i<t.length;i++){t[i]=t[i].trim();var n=new u.VeryNumber;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,t[i]))return!1;n=r.number,this._blueFloatList[this._blueFloatList.length]=n}var a=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,a,e[1])&&(this._acceptNumber=a.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Mutiple_Add=v;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._blueNumber3=new u.VeryNumber,t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Clamp|数值限定"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Clamp"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueNumber.value,this._blueNumber.value<this._blueNumber2.value&&(this._acceptNumber.value=this._blueNumber2.value),this._blueNumber.value>this._blueNumber3.value&&(this._acceptNumber.value=this._blueNumber3.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,4)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2]))return!1;this._blueNumber3=i.number;var n=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,n,e[3])&&(this._acceptNumber=n.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Clamp=d;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Divide|数值除法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Divide"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueNumber.value/this._blueNumber2.value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._acceptNumber=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Divide=P;var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Multiply|数值乘法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Multiply"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueNumber.value*this._blueNumber2.value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._acceptNumber=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Multiply=V;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Substract|数值减法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Substract"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueNumber.value-this._blueNumber2.value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._acceptNumber=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Substract=E;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueFloatList=[],t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Min|数值最小值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Min"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueFloatList[0].value;for(var e=1;e<this._blueFloatList.length;e++)this._blueFloatList[e].value<this._acceptNumber.value&&(this._acceptNumber.value=this._blueFloatList[e].value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){for(var t=e[0].split(/,|，/),r=new s.VeryParas,i=0;i<t.length;i++){t[i]=t[i].trim();var n=new u.VeryNumber;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,t[i]))return!1;n=r.number,this._blueFloatList[this._blueFloatList.length]=n}var a=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,a,e[1])&&(this._acceptNumber=a.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Min=A;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueFloatList=[],t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Max|数值最大值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Number_Max"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueFloatList[0].value;for(var e=1;e<this._blueFloatList.length;e++)this._blueFloatList[e].value>this._acceptNumber.value&&(this._acceptNumber.value=this._blueFloatList[e].value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){for(var t=e[0].split(/,|，/),r=new s.VeryParas,i=0;i<t.length;i++){t[i]=t[i].trim();var n=new u.VeryNumber;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,t[i]))return!1;n=r.number,this._blueFloatList[this._blueFloatList.length]=n}var a=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,a,e[1])&&(this._acceptNumber=a.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Number_Max=T;var j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._acceptNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Random_Number|随机数值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Random_Number"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._acceptNumber.value=this._blueNumber.value+Math.random()*(this._blueNumber2.value-this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._acceptNumber=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Random_Number=j;var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Number|设置数值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Number"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=this._blueNumber.value},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Number=O;var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_ACos|反余弦"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_ACos"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.acos(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_ACos=N;var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_ASin|反正弦"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_ASin"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.asin(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_ASin=I;var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_ATan|反正切"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_ATan"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.atan(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_ATan=D;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._blueNumber3=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_ATan2|反正切2"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_ATan2"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber3.value=Math.atan2(this._blueNumber.value,this._blueNumber2.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._blueNumber3=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_ATan2=w;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Ceil|天花板值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Ceil"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.ceil(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Ceil=S;var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Cos|余弦"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Cos"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.cos(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Cos=x;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Exp|自然数指数计算"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Exp"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.exp(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Exp=C;var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Floor|地板值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Floor"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.floor(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Floor=B;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._blueNumber3=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Log|普通对数"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Log"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber3.value=Math.log(this._blueNumber.value)/Math.log(this._blueNumber2.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._blueNumber3=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Log=M;var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Log10|常用对数"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Log10"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.log(this._blueNumber.value)/Math.log(10)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Log10=L;var U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Ln|自然对数"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Ln"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.log(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Ln=U;var F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t._blueNumber3=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Pow|指数"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Pow"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber3.value=Math.pow(this._blueNumber.value,this._blueNumber2.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,3)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1]))return!1;this._blueNumber2=r.number;var i=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,i,e[2])&&(this._blueNumber3=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Pow=F;var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Sin|正弦"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Sin"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.sin(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Sin=R;var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Sqrt|开根号"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Sqrt"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.sqrt(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Sqrt=k;var G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Tan|正切"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Tan"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.tan(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Tan=G;var W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Degree_To_Radian|角度转弧度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Degree_To_Radian"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=this._blueNumber.value/180*Math.PI},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Degree_To_Radian=W;var Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Radian_To_Degree|弧度转角度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Radian_To_Degree"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=this._blueNumber.value/Math.PI*180},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Radian_To_Degree=Y;var z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_PI|获取PI"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_PI"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber.value=Math.PI},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,1)){var t=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0])&&(this._blueNumber=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_PI=z;var q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t._blueNumber2=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Math_Round|圆整"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Math_Round"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return o.ActionType.Animation},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueNumber2.value=Math.round(this._blueNumber.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,o.ParaType.Action,e.length,2)){var t=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,o.ParaType.Action,t,e[0]))return!1;this._blueNumber=t.number;var r=new s.VeryParas;return!!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,o.ParaType.Action,r,e[1])&&(this._blueNumber2=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Math_Round=q,a.VE_Actions.addAction(p),a.VE_Actions.addAction(_),a.VE_Actions.addAction(b),a.VE_Actions.addAction(f),a.VE_Actions.addAction(y),a.VE_Actions.addAction(m),a.VE_Actions.addAction(g),a.VE_Actions.addAction(v),a.VE_Actions.addAction(d),a.VE_Actions.addAction(P),a.VE_Actions.addAction(V),a.VE_Actions.addAction(E),a.VE_Actions.addAction(A),a.VE_Actions.addAction(T),a.VE_Actions.addAction(j),a.VE_Actions.addAction(O),a.VE_Actions.addAction(h),a.VE_Actions.addAction(N),a.VE_Actions.addAction(I),a.VE_Actions.addAction(D),a.VE_Actions.addAction(w),a.VE_Actions.addAction(S),a.VE_Actions.addAction(x),a.VE_Actions.addAction(C),a.VE_Actions.addAction(B),a.VE_Actions.addAction(M),a.VE_Actions.addAction(L),a.VE_Actions.addAction(U),a.VE_Actions.addAction(F),a.VE_Actions.addAction(q),a.VE_Actions.addAction(R),a.VE_Actions.addAction(k),a.VE_Actions.addAction(G),a.VE_Actions.addAction(W),a.VE_Actions.addAction(Y),a.VE_Actions.addAction(z)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_String_SubString=t.Action_String_Replace=t.Action_String_Add=t.Action_String_Set_Value=t.Action_String_Get_Length=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueString=new u.VeryString,t._blueInt=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_Get_Length|获取字符串长度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_String_Get_Length"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._blueInt.setValue(this._blueString.value.length)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueString=t.string;var r=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueInt=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_String_Get_Length=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueString=new u.VeryString,t._blueString2=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_Set_Value|字符串赋值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_String_Set_Value"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueString.setValue(this._blueString2.value)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.StringParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueString=t.string;var r=new o.VeryParas;return!!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueString2=r.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_String_Set_Value=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueString=new u.VeryString,t._stringArray=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_Add|字符串加法"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_String_Add"},enumerable:!1,configurable:!0}),t.prototype.active=function(){for(var e="",t=0;t<this._stringArray.length;t++)e+=this._stringArray[t].value;this._blueString.setValue(e)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){for(var t=e[0].split(/,|，/),r=0;r<t.length;r++){t[r]=t[r].trim();var i=new u.VeryString,n=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,t[r]))return!1;i=n.string,this._stringArray[this._stringArray.length]=i}var a=new o.VeryParas;return!!o.ParaParserUtility.StringParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,a,e[1])&&(this._blueString=a.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_String_Add=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._originString=new u.VeryString,t._blueString1=new u.VeryString,t._blueString2=new u.VeryString,t._blueString=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_Replace|字符串替换"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_String_Replace"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e=new RegExp(this._blueString1.value,"g");this._blueString.setValue(this._originString.value.replace(e,this._blueString2.value))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,4)){var t=new o.VeryParas;if(!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._originString=t.string;var r=new o.VeryParas;if(!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._blueString1=r.string;var i=new o.VeryParas;if(!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._blueString2=i.string;var n=new o.VeryParas;return!!o.ParaParserUtility.StringParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[3])&&(this._blueString=n.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_String_Replace=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._originString=new u.VeryString,t._index=new u.VeryNumber,t._length=new u.VeryNumber,t._blueString=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_SubString|截取字符串"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_String_SubString"},enumerable:!1,configurable:!0}),t.prototype.active=function(){if(-1==this._length.value)this._blueString.setValue(this._originString.value);else try{this._blueString.setValue(this._originString.value.substring(this._index.value,this._index.value+this._length.value))}catch(e){console.error(this.ID+" 响应传入参数格式错误： 参数2和参数3，可能是起始位置错误，可能是截取长度超出字符串长度，请检查！")}},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,4)){var t=new o.VeryParas;if(!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._originString=t.string;var r=new o.VeryParas;if(!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;if(this._index=r.number,"null"==e[2].toLowerCase()||"none"==e[2].toLowerCase()||"-1"==e[2])this._length.setValue(-1);else{var i=new o.VeryParas;if(!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._length=i.number}var n=new o.VeryParas;return!!o.ParaParserUtility.StringParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[3])&&(this._blueString=n.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_String_SubString=_,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c),a.VE_Actions.addAction(p),a.VE_Actions.addAction(h),a.VE_Actions.addAction(_)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Set_Layer=t.Action_Get_LayerID=t.Action_Get_Owner=t.Action_Set_Name=t.Action_Get_Name=t.Action_Get_GameObject_Distance=t.Action_Find_Child=t.Action_Destroy_Object=t.Action_Find=t.Action_Set_Active=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=r(5),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._obj=new u.VeryGameObject,t._isActive=new u.VeryBool,t._childActive=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Active|设置激活"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Active"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e;null!=this._obj.value&&(this._childActive.value?this.ActiveRecursion(this._obj.value.transform.transformNode,this._isActive.value):null===(e=this._obj.value.transform.transformNode)||void 0===e||e.setEnabled(this._isActive.value))},t.prototype.ActiveRecursion=function(e,t){if(null==e||e.setEnabled(t),null!=e&&e.getChildTransformNodes().length>0)for(var r=0;r<e.getChildTransformNodes().length;r++)this.ActiveRecursion(e.getChildTransformNodes()[r],t)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isActive=t.bool;var r=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;if(this._obj=r.gameObject,e.length>2){var i=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._childActive=i.bool}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Active=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._objName=new u.VeryString,t._blueObj=new u.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Find|查找物体"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Find"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueObj.value=l.GameObject.Find(this._objName.value)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._objName=t.string;var r=new o.VeryParas;return!!o.ParaParserUtility.GameObjectParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueObj=r.gameObject,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Find=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueDeleObj=new u.VeryGameObject,t._time=new u.VeryNumber,t._childFlag=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Destroy_Object|删除物体"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Destroy_Object"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e=this;this._time.value<=0?this._childFlag.value?(this.RemoveParent(),this.DestroyObj()):this.DestroyObj():this._childFlag.value?(this.RemoveParent(),setTimeout((function(){e.DestroyObj()}),1e3*this._time.value)):setTimeout((function(){e.DestroyObj()}),1e3*this._time.value)},t.prototype.RemoveParent=function(){var e,t=null===(e=this._blueDeleObj.value)||void 0===e?void 0:e.transform.transformNode;if(null!=t&&t.getChildTransformNodes().length>0)for(var r=0;r<t.getChildTransformNodes().length;r++)t.getChildTransformNodes()[r].setParent(null)},t.prototype.DestroyObj=function(){null!=this._blueDeleObj.value&&l.GameObject.Destroy(this._blueDeleObj.value)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueDeleObj=t.gameObject;var r=new o.VeryParas;if(!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._time=r.number,this._time.value<0&&(this._time.value=0);var i=new o.VeryParas;return!!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._childFlag=i.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Destroy_Object=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parentObj=new u.VeryGameObject,t._childStr=new u.VeryString,t._blueObj=new u.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Find_Child|查找子物体"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Find_Child"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e;this._blueObj.value=null,null!=this._parentObj.value&&this.ChildRecursion(null===(e=this._parentObj.value)||void 0===e?void 0:e.transform.transformNode,this._childStr.value)},t.prototype.ChildRecursion=function(e,t){if(null!=e)if(e.name!=t){if(null!=e&&e.getChildTransformNodes().length>0)for(var r=0;r<e.getChildTransformNodes().length;r++)this.ChildRecursion(e.getChildTransformNodes()[r],t)}else this._blueObj.value=l.GameObject.Find(t)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._parentObj=t.gameObject;var r=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._childStr=r.string;var i=new o.VeryParas;return!!o.ParaParserUtility.GameObjectParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._blueObj=i.gameObject,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Find_Child=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueObj=new u.VeryGameObject,t._blueObj2=new u.VeryGameObject,t._blueFloat=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_GameObject_Distance|计算物体距离"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_GameObject_Distance"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e,t,r=null===(e=this._blueObj.value)||void 0===e?void 0:e.transform.transformNode,i=null===(t=this._blueObj2.value)||void 0===t?void 0:t.transform.transformNode;null!=r&&null!=r&&null!=i&&null!=i&&(this._blueFloat.value=BABYLON.Vector3.Distance(r.getAbsolutePosition(),i.getAbsolutePosition()))},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueObj=t.gameObject;var r=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._blueObj2=r.gameObject;var i=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._blueFloat=i.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_GameObject_Distance=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueObj=new u.VeryGameObject,t._blueName=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Name|获取名字"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Name"},enumerable:!1,configurable:!0}),t.prototype.active=function(){null==this._blueObj.value?console.error(this.ID+" 响应中传入的物体为空！"):this._blueName.value=this._blueObj.value.name},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueObj=t.gameObject;var r=new o.VeryParas;return!!o.ParaParserUtility.StringParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueName=r.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Name=y;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueObj=new u.VeryGameObject,t._blueName=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Name|设置名字"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Name"},enumerable:!1,configurable:!0}),t.prototype.active=function(){null!=this._blueObj.value&&(this._blueObj.value.name=this._blueName.value)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueObj=t.gameObject;var r=new o.VeryParas;return!!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueName=r.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Name=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueObj=new u.VeryGameObject,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Owner|获取脚本宿主"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Owner"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._blueObj.value=this.gameObject},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1)){var t=new o.VeryParas;return!!o.ParaParserUtility.GameObjectParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0])&&(this._blueObj=t.gameObject,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Owner=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueObj=new u.VeryGameObject,t._blueInt=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_LayerID|获取层"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_LayerID"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e;null!=(null===(e=this._blueObj.value)||void 0===e?void 0:e.mesh)&&(this._blueInt.value=this._blueObj.value.mesh.layerMask)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueObj=t.gameObject;var r=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueInt=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_LayerID=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueObj=new u.VeryGameObject,t._blueInt=new u.VeryNumber,t._setChild=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Layer|设置层"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Layer"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e;null!=(null===(e=this._blueObj.value)||void 0===e?void 0:e.mesh)&&(this._setChild.value?this.Recursion(this._blueObj.value.mesh,this._blueInt.value):this._blueObj.value.mesh.layerMask=this._blueInt.value)},t.prototype.Recursion=function(e,t){if(e.layerMask=t,e.getChildMeshes().length>0)for(var r=0;r<e.getChildMeshes().length;r++)this.Recursion(e.getChildMeshes()[r],t)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueObj=t.gameObject;var r=new o.VeryParas;if(!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;if(this._blueInt=r.number,e.length>2){var i=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._setChild=i.bool}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Layer=v,a.VE_Actions.addAction(f),a.VE_Actions.addAction(y),a.VE_Actions.addAction(b),a.VE_Actions.addAction(c),a.VE_Actions.addAction(p),a.VE_Actions.addAction(h),a.VE_Actions.addAction(m),a.VE_Actions.addAction(g),a.VE_Actions.addAction(v),a.VE_Actions.addAction(_)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_To_String=t.Action_String_To_Number=t.Action_String_To_Bool=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueString=new u.VeryString,t._blueBool=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_To_Bool|字符串转布尔值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_String_To_Bool"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){try{this._blueBool.value=Boolean(this._blueString.value)}catch(e){console.error(this.ID+" 响应传入参数格式错误： "+this._blueString.value+"，请检查填入数据！")}},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueString=t.string;var r=new o.VeryParas;return!!o.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueBool=r.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_String_To_Bool=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueString=new u.VeryString,t._blueNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_To_Number|字符串转数值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_String_To_Number"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){try{this._blueNumber.value=Number(this._blueString.value)}catch(e){console.error(this.ID+" 响应传入参数格式错误： "+this._blueString.value+"，请检查填入数据！")}},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueString=t.string;var r=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._blueNumber=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_String_To_Number=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isBlueVar=!1,t._str="",t._iBlueVar=null,t._blueString=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"To_String|转字符串"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_To_String"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isBlueVar&&null!=this._iBlueVar?this._blueString.value=this._iBlueVar.getValue():this._blueString.value=this._str},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){if(u.VarTools.IsVarID(e[0])){this._isBlueVar=!0;var t=new o.ErrorInfo,r=u.VarTools.GetVeryVarWithExpression(this.projectName,this.objectID,e[0],t);null==r?console.error(this.ID+" 响应 传入参数错误，变量："+e[0]+"，"+t):this._iBlueVar=r}else this._str=e[0],this._isBlueVar=!1;var i=new o.VeryParas;return!!o.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[1])&&(this._blueString=i.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_To_String=p,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c),a.VE_Actions.addAction(p)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Quit=t.Action_Open_URL=t.Action_Screen_Height=t.Action_Screen_Width=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Screen_Width|获取屏幕宽度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Screen_Width"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e=document.getElementById("renderCanvas");null!=e&&null!=e&&(this._blueNumber.value=e.clientWidth)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1)){var t=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0])&&(this._blueNumber=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Screen_Width=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueNumber=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Screen_Height|获取屏幕高度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Screen_Height"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e=document.getElementById("renderCanvas");null!=e&&null!=e&&(this._blueNumber.value=e.clientHeight)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1)){var t=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0])&&(this._blueNumber=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Screen_Height=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._URL=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Open_URL|打开网页"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Open_URL"},enumerable:!1,configurable:!0}),t.prototype.active=function(){window.open(this._URL.value)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1)){var t=new o.VeryParas;return!!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0])&&(this._URL=t.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Open_URL=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._URL=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Quit|退出程序"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Quit"},enumerable:!1,configurable:!0}),t.prototype.active=function(){window.close()},t.prototype.paraParser=function(e){return!0},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Quit=h,a.VE_Actions.addAction(p),a.VE_Actions.addAction(h),a.VE_Actions.addAction(l),a.VE_Actions.addAction(c)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_UGUI_Set_Color=t.Action_UGUI_Get_AnchoredPosition=t.Action_UGUI_Set_AnchoredPosition=t.Action_UGUI_Set_SizeDelta=t.Action_UGUI_Get_Text=t.Action_UGUI_Set_Text=void 0;var a=r(3),o=r(50),s=r(2),u=r(0),l=r(1),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._control=new BABYLON.GUI.Control,t._TextBlock=new BABYLON.GUI.TextBlock,t._InputText=new BABYLON.GUI.InputText,t._uiType="",t._blueString=new l.VeryString,t._blueNumber=new l.VeryNumber,t._type="",t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Set_Text|设置GUI文字"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_UGUI_Set_Text"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){"float"==this._type?"TextBlock"==this._uiType?this._TextBlock.text=String(this._blueNumber.value):"InputText"==this._uiType&&(this._InputText.text=String(this._blueNumber.value)):"TextBlock"==this._uiType?this._TextBlock.text=this._blueString.value:"InputText"==this._uiType&&(this._InputText.text=this._blueString.value)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Action,e.length,2)){var t=o.UGUI_Tools.GetUI(this.scene,e[0],this.ID);if(null==t)console.error(this.ID+"--响应参数出错,UI不存在--"+e[0]);else{if(this._control=t,"TextBlock"==this._control.typeName)this._TextBlock=this._control,this._uiType="TextBlock";else if("InputText"==this._control.typeName)this._InputText=this._control,this._uiType="InputText";else if("Button"==this._control.typeName){var r=this._control;null!=r.textBlock&&(this._TextBlock=r.textBlock,this._uiType="TextBlock")}""==this._uiType&&console.error(this.ID+"--响应参数出错,UI类型不支持设置文字--"+e[0])}var i=new s.VeryParas;if(s.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Action,i,e[1]))this._blueString=i.string;else{if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Action,i,e[1]))return!1;this._blueNumber=i.number,this._type="number"}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_UGUI_Set_Text=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._control=new BABYLON.GUI.Control,t._TextBlock=new BABYLON.GUI.TextBlock,t._InputText=new BABYLON.GUI.InputText,t._uiType="",t._blueString=new l.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Get_Text|获取GUI文字"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_UGUI_Get_Text"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){"TextBlock"==this._uiType?this._blueString.value=this._TextBlock.text:"InputText"==this._uiType&&(this._blueString.value=this._InputText.text)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Action,e.length,2)){var t=o.UGUI_Tools.GetUI(this.scene,e[0],this.ID);if(null==t)console.error(this.ID+"--响应参数出错,UI不存在--"+e[0]);else{if(this._control=t,"TextBlock"==this._control.typeName)this._TextBlock=this._control,this._uiType="TextBlock";else if("InputText"==this._control.typeName)this._InputText=this._control,this._uiType="InputText";else if("Button"==this._control.typeName){var r=this._control;null!=r.textBlock&&(this._TextBlock=r.textBlock,this._uiType="TextBlock")}""==this._uiType&&console.error(this.ID+"--响应参数出错,UI类型不支持设置文字--"+e[0])}var i=new s.VeryParas;return!!s.ParaParserUtility.StringParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Action,i,e[1])&&(this._blueString=i.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_UGUI_Get_Text=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._control=new BABYLON.GUI.Control,t._posValue=new l.VeryNumber,t._isVec=!1,t._posVec=new l.VeryVector2,t._posVecFloat=[],t._axis=0,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Set_SizeDelta|设置GUI大小"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_UGUI_Set_SizeDelta"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){0==this._axis?this._control.width=this._posValue.value+"px":1==this._axis?this._control.height=this._posValue.value+"px":this._isVec?(this._control.width=this._posVec.value.x+"px",this._control.height=this._posVec.value.y+"px"):(this._control.width=this._posVecFloat[0].value+"px",this._control.height=this._posVecFloat[1].value+"px")},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Action,e.length,3)){var t=o.UGUI_Tools.GetUI(this.scene,e[0],this.ID);if(null==t?console.error(this.ID+"--响应参数出错,UI不存在--"+e[0]):this._control=t,"x"==e[1].toLowerCase())this._axis=0;else if("y"==e[1].toLowerCase())this._axis=1;else{if("vector2"!=e[1].toLowerCase())return console.error(this.ID+" 响应参数格式错误，轴参数应为x、y、z或者vector2，当前为："+e[1]+"，请检查！"),!1;this._axis=2}var r=new s.VeryParas;if(0==this._axis||1==this._axis){if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Action,r,e[2]))return!1;this._posValue=r.number}else{if(!s.ParaParserUtility.Vector2OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Action,r,e[2]))return!1;this._isVec=r.isVec2,this._posVec=r.vector2,this._posVecFloat=r.vec2Numbers}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_UGUI_Set_SizeDelta=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._control=new BABYLON.GUI.Control,t._posValue=new l.VeryNumber,t._isVec=!1,t._posVec=new l.VeryVector2,t._posVecFloat=[],t._axis=0,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Set_AnchoredPosition|设置GUI位置"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_UGUI_Set_AnchoredPosition"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){0==this._axis?this._control.left=this._posValue.value+"px":1==this._axis?this._control.top=this._posValue.value+"px":this._isVec?(this._control.left=this._posVec.value.x+"px",this._control.top=this._posVec.value.y+"px"):(this._control.left=this._posVecFloat[0].value+"px",this._control.top=this._posVecFloat[1].value+"px")},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Action,e.length,3)){var t=o.UGUI_Tools.GetUI(this.scene,e[0],this.ID);if(null==t?console.error(this.ID+"--响应参数出错,UI不存在--"+e[0]):this._control=t,"x"==e[1].toLowerCase())this._axis=0;else if("y"==e[1].toLowerCase())this._axis=1;else{if("vector2"!=e[1].toLowerCase())return console.error(this.ID+" 响应参数格式错误，轴参数应为x、y、z或者vector2，当前为："+e[1]+"，请检查！"),!1;this._axis=2}var r=new s.VeryParas;if(0==this._axis||1==this._axis){if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Action,r,e[2]))return!1;this._posValue=r.number}else{if(!s.ParaParserUtility.Vector2OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Action,r,e[2]))return!1;this._isVec=r.isVec2,this._posVec=r.vector2,this._posVecFloat=r.vec2Numbers}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_UGUI_Set_AnchoredPosition=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._control=new BABYLON.GUI.Control,t._posValue=new l.VeryNumber,t._posVec=new l.VeryVector2,t._axis=0,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Get_AnchoredPosition|获取GUI位置"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_UGUI_Get_AnchoredPosition"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){0==this._axis?this._posValue.value=this._control.leftInPixels:1==this._axis?this._posValue.value=this._control.topInPixels:this._posVec.value=new BABYLON.Vector2(this._control.leftInPixels,this._control.topInPixels)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Action,e.length,3)){var t=o.UGUI_Tools.GetUI(this.scene,e[0],this.ID);if(null==t?console.error(this.ID+"--响应参数出错,UI不存在--"+e[0]):this._control=t,"x"==e[1].toLowerCase())this._axis=0;else if("y"==e[1].toLowerCase())this._axis=1;else{if("vector2"!=e[1].toLowerCase())return console.error(this.ID+" 响应参数格式错误，轴参数应为x、y、z或者vector2，当前为："+e[1]+"，请检查！"),!1;this._axis=2}var r=new s.VeryParas;if(0==this._axis||1==this._axis){if(!s.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Action,r,e[2]))return!1;this._posValue=r.number}else{if(!s.ParaParserUtility.Vector2Para(this.projectName,this.objectID,this.ID,u.ParaType.Action,r,e[2]))return!1;this._posVec=r.vector2}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_UGUI_Get_AnchoredPosition=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._control=new BABYLON.GUI.Control,t._isColor=!1,t._blueColor=new l.VeryVector3,t._colorFloat=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Set_Color|设置GUI颜色"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_UGUI_Set_Color"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isColor?this._control.color=this.RGBToHexColor(this._blueColor.value.x/255,this._blueColor.value.y/255,this._blueColor.value.z/255):this._control.color=this.RGBToHexColor(this._colorFloat[0].value/255,this._colorFloat[1].value/255,this._colorFloat[2].value/255)},t.prototype.paraParser=function(e){if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Action,e.length,2)){var t=o.UGUI_Tools.GetUI(this.scene,e[0],this.ID);null==t?console.error(this.ID+"--响应参数出错,UI不存在--"+e[0]):this._control=t;var r=new s.VeryParas;return!!s.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[1])&&(this._isColor=r.isVec,this._blueColor=r.vector3,this._colorFloat=r.vecNumbers,!0)}return!1},t.prototype.RGBToHexColor=function(e,t,r){var i,n="#";return 1==(i=new Number((255*e).toFixed()).toString(16)).length&&(i="0"+i),n+=i,1==(i=new Number((255*t).toFixed()).toString(16)).length&&(i="0"+i),n+=i,1==(i=new Number((255*r).toFixed()).toString(16)).length&&(i="0"+i),n+=i},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_UGUI_Set_Color=y,a.VE_Actions.addAction(c),a.VE_Actions.addAction(p),a.VE_Actions.addAction(h),a.VE_Actions.addAction(_),a.VE_Actions.addAction(f),a.VE_Actions.addAction(y)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Trigger_MouseCombine=t.Trigger_MousePick=t.Trigger_MousePickAny=t.Trigger_KeyboardCombine=t.Trigger_KeyUp=t.Trigger_KeyDown=t.Trigger_Keyboard=t.Trigger_MouseButton=t.Trigger_MouseUp=t.Trigger_MouseDoubleClick=t.Trigger_MouseDown=void 0;var a=r(49),o=r(8),s=r(2),u=r(0),l=r(4),c=r(1),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mouseButtonIndex=0,t._downFlag=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Mouse_Down|鼠标按下|按下鼠标"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_MouseDown"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,1)){if("0"===e[0]||"left"===e[0].toLowerCase()||"左"===e[0])this._mouseButtonIndex=0;else if("1"===e[0]||"right"===e[0].toLowerCase()||"右"===e[0])this._mouseButtonIndex=2;else{if("2"!==e[0]&&"middle"!==e[0].toLowerCase()&&"中"!==e[0])return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1;this._mouseButtonIndex=1}return this._observer=this._scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERDOWN?t._downFlag||e.event.button!==t._mouseButtonIndex||(t._downFlag=!0,t.sendEvent()):e.type===BABYLON.PointerEventTypes.POINTERUP&&t._downFlag&&e.event.button===t._mouseButtonIndex&&(t._downFlag=!1)})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_MouseDown=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mouseButtonIndex=0,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Double_Click|鼠标双击|双击鼠标"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_MouseDoubleClick"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,1)){if("0"===e[0]||"left"===e[0].toLowerCase()||"左"===e[0])this._mouseButtonIndex=0;else if("1"===e[0]||"right"===e[0].toLowerCase()||"右"===e[0])this._mouseButtonIndex=2;else{if("2"!==e[0]&&"middle"!==e[0].toLowerCase()&&"中"!==e[0])return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1;this._mouseButtonIndex=1}return this._observer=this._scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERDOUBLETAP&&e.event.button===t._mouseButtonIndex&&t.sendEvent()})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_MouseDoubleClick=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mouseButtonIndex=0,t._downFlag=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Mouse_Up|鼠标抬起|抬起鼠标"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_MouseUp"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,1)){if("0"===e[0]||"left"===e[0].toLowerCase()||"左"===e[0])this._mouseButtonIndex=0;else if("1"===e[0]||"right"===e[0].toLowerCase()||"右"===e[0])this._mouseButtonIndex=2;else{if("2"!==e[0]&&"middle"!==e[0].toLowerCase()&&"中"!==e[0])return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1;this._mouseButtonIndex=1}return this._observer=this._scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERDOWN?t._downFlag||e.event.button!==t._mouseButtonIndex||(t._downFlag=!0):e.type===BABYLON.PointerEventTypes.POINTERUP&&t._downFlag&&e.event.button===t._mouseButtonIndex&&(t._downFlag=!1,t.sendEvent())})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_MouseUp=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mouseButtonIndex=0,t._mouseUpdate={},t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Mouse_Button|鼠标持续|按住鼠标"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_MouseButton"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,1)){if("0"===e[0]||"left"===e[0].toLowerCase()||"左"===e[0])this._mouseButtonIndex=0;else if("1"===e[0]||"right"===e[0].toLowerCase()||"右"===e[0])this._mouseButtonIndex=2;else{if("2"!==e[0]&&"middle"!==e[0].toLowerCase()&&"中"!==e[0])return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1;this._mouseButtonIndex=1}return this._observer=this._scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERDOWN?t._mouseUpdate[e.event.button]=!0:e.type===BABYLON.PointerEventTypes.POINTERUP&&(t._mouseUpdate[e.event.button]=!1)})),!0}return!1},t.prototype.onUpdate=function(){this._mouseUpdate[this._mouseButtonIndex]&&this.sendEvent()},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_MouseButton=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keyboard="",t._keyUpdate={},t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"键盘持续|Key_Button|按住键盘"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Keyboard"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;return!!s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,1)&&(this._keyboard=s.VE_KeyboardMap.GetKey(e[0]).toLowerCase(),"null"===this._keyboard?(l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，无法查找到该按钮，请查阅键盘字符串对应表！","",u.Severity.Error)),!1):(this._observer=this.scene.onKeyboardObservable.add((function(e){e.type===BABYLON.KeyboardEventTypes.KEYDOWN?t._keyUpdate[e.event.key.toLowerCase()]=!0:t._keyUpdate[e.event.key.toLowerCase()]=!1})),!0))},t.prototype.onUpdate=function(){this._keyUpdate[this._keyboard]&&this.sendEvent()},t.prototype.destroy=function(){this._observer&&this._scene.onKeyboardObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Keyboard=y;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keyboard="",t._downFlag=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"键盘按下|Key_Down|按下键盘"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_KeyDown"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;return!!s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,1)&&(this._keyboard=s.VE_KeyboardMap.GetKey(e[0]).toLowerCase(),"null"===this._keyboard?(l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，无法查找到该按钮，请查阅键盘字符串对应表！","",u.Severity.Error)),!1):(this._observer=this.scene.onKeyboardObservable.add((function(e){e.type===BABYLON.KeyboardEventTypes.KEYDOWN?t._downFlag||e.event.key.toLowerCase()!==t._keyboard||(t._downFlag=!0,t.sendEvent()):t._downFlag&&e.event.key.toLowerCase()===t._keyboard&&(t._downFlag=!1)})),!0))},t.prototype.destroy=function(){this._observer&&this._scene.onKeyboardObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_KeyDown=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keyboard="",t._downFlag=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"键盘抬起|Key_Up|抬起键盘"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_KeyUp"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;return!!s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,1)&&(this._keyboard=s.VE_KeyboardMap.GetKey(e[0]).toLowerCase(),"null"===this._keyboard?(l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，无法查找到该按钮，请查阅键盘字符串对应表！","",u.Severity.Error)),!1):(this._observer=this.scene.onKeyboardObservable.add((function(e){e.type===BABYLON.KeyboardEventTypes.KEYDOWN?t._downFlag||e.event.key.toLowerCase()!==t._keyboard||(t._downFlag=!0):t._downFlag&&e.event.key.toLowerCase()===t._keyboard&&(t._downFlag=!1,t.sendEvent())})),!0))},t.prototype.destroy=function(){this._observer&&this._scene.onKeyboardObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_KeyUp=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._keyboards=[],t._lastKey="",t._downFlag=!1,t._trigger=!1,t._keyUpdate={},t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Key_Combination|键盘组合|组合键盘"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_KeyboardCombine"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(e.length<2)return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数至少为2个，请检查传入参数！","",u.Severity.Error)),!1;for(var r=0;r<e.length;r++){var i=s.VE_KeyboardMap.GetKey(e[r]).toLowerCase();if("null"===i)return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[r]+"，无法查找到该按钮，请查阅键盘字符串对应表！","",u.Severity.Error)),!1;this._keyboards.push(i)}return this._lastKey=this._keyboards[this._keyboards.length-1],this._observer=this.scene.onKeyboardObservable.add((function(e){e.type===BABYLON.KeyboardEventTypes.KEYDOWN?(t._downFlag||t._lastKey!==e.event.key.toLowerCase()||(t._downFlag=!0,t._trigger=!0),t._keyUpdate[e.event.key.toLowerCase()]=!0):(t._downFlag&&t._lastKey===e.event.key.toLowerCase()&&(t._downFlag=!1,t._trigger=!1),t._keyUpdate[e.event.key.toLowerCase()]=!1)})),!0},t.prototype.onUpdate=function(){if(this._keyboards&&this._keyboards.length>0)for(var e=!0,t=0;t<this._keyboards.length;t++)t===this._keyboards.length-1?e&&this._downFlag&&this._trigger&&(this._trigger=!1,this.sendEvent()):this._keyUpdate[this._keyboards[t]]||(e=!1)},t.prototype.destroy=function(){this._observer&&this._scene.onKeyboardObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_KeyboardCombine=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._inGameobject=new c.VeryGameObject,t._mouse=-1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Mouse_Pick_Any|鼠标任意点选 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_MousePickAny"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inGameobject=r.gameObject,"0"==e[1]||"左"==e[1]||"left"==e[1].toLowerCase())this._mouse=0;else if("1"==e[1]||"右"==e[1]||"right"==e[1].toLowerCase())this._mouse=2;else{if("2"!=e[1]&&"中"!=e[1]&&"middle"!=e[1].toLowerCase())return console.log(this.ID+" 触发传入参数格式错误： + "+e[1]+"，鼠标参数应为0或左、1或右、2或中，此处填写错误！"),!1;this._mouse=1}return this._observer=this.scene.onPointerObservable.add((function(e){switch(e.type){case BABYLON.PointerEventTypes.POINTERDOWN:null!=e.pickInfo&&e.event.button==t._mouse&&null!=e.pickInfo.pickedMesh&&(t._inGameobject.setValue(e.pickInfo.pickedMesh),t.sendEvent())}})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_MousePickAny=v;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NameList=[],t._mouse=-1,t._inGameobject=new c.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"MousePick|鼠标点选 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_MousePick"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,3)){for(var r=e[0].split(/,|，/),i=0;i<r.length;i++){r[i]=r[i].trim();var n=new c.VeryGameObject,a=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,a,r[i]))return!1;null!=(n=a.gameObject).value?this.NameList[this.NameList.length]=n.value.name:console.error(this.ID+" 触发中，物体"+r[i]+"在场景中不存在！")}if("0"==e[1]||"左"==e[1]||"left"==e[1].toLowerCase())this._mouse=0;else if("1"==e[1]||"右"==e[1]||"right"==e[1].toLowerCase())this._mouse=2;else{if("2"!=e[1]&&"中"!=e[1]&&"middle"!=e[1].toLowerCase())return console.log(this.ID+" 触发传入参数格式错误： + "+e[1]+"，鼠标参数应为0或左、1或右、2或中，此处填写错误！"),!1;this._mouse=1}if("null"==e[2].toLowerCase()||"none"==e[2].toLowerCase());else{var o=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,o,e[2]))return!1;this._inGameobject=o.gameObject}return this._observer=this.scene.onPointerObservable.add((function(e){switch(e.type){case BABYLON.PointerEventTypes.POINTERDOWN:null!=e.pickInfo&&e.event.button==t._mouse&&null!=e.pickInfo.pickedMesh&&-1!=t.NameList.indexOf(e.pickInfo.pickedMesh.name)&&(t._inGameobject.setValue(e.pickInfo.pickedMesh),t.sendEvent())}})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_MousePick=d;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mouses=[],t._lastKey="",t._downFlag=!1,t._trigger=!1,t._keyUpdate={},t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"MouseCombine|鼠标组合|组合鼠标"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_MouseCombine"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(2!=e.length)return l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数为2个，请检查传入参数！","",u.Severity.Error)),!1;for(var r=0;r<e.length;r++){var i="";if("0"==e[r]||"左"==e[r]||"left"==e[r].toLowerCase())i="0";else if("1"==e[r]||"右"==e[r]||"right"==e[r].toLowerCase())i="2";else{if("2"!=e[r]&&"中"!=e[r]&&"middle"!=e[r].toLowerCase())return console.log(this.ID+" 触发传入参数格式错误： + "+e[r]+"，鼠标参数应为0或左、1或右、2或中，此处填写错误！"),!1;i="1"}this._mouses.push(i)}return this._lastKey=this._mouses[this._mouses.length-1],this._observer=this.scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERDOWN&&(t._downFlag||t._lastKey!==String(e.event.button)||(t._downFlag=!0,t._trigger=!0),t._keyUpdate[String(e.event.button)]=!0),e.type===BABYLON.PointerEventTypes.POINTERUP&&(t._downFlag&&t._lastKey===String(e.event.button)&&(t._downFlag=!1,t._trigger=!1),t._keyUpdate[String(e.event.button)]=!1)})),!0},t.prototype.onUpdate=function(){if(this._mouses&&this._mouses.length>0)for(var e=!0,t=0;t<this._mouses.length;t++)t===this._mouses.length-1?e&&this._downFlag&&this._trigger&&(this._trigger=!1,this.sendEvent()):this._keyUpdate[this._mouses[t]]||(e=!1)},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_MouseCombine=P,o.VE_Triggers.addTrigger(p),o.VE_Triggers.addTrigger(h),o.VE_Triggers.addTrigger(_),o.VE_Triggers.addTrigger(f),o.VE_Triggers.addTrigger(y),o.VE_Triggers.addTrigger(b),o.VE_Triggers.addTrigger(m),o.VE_Triggers.addTrigger(g),o.VE_Triggers.addTrigger(v),o.VE_Triggers.addTrigger(d),o.VE_Triggers.addTrigger(P)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Trigger_Custom=t.Trigger_Continuous=t.Trigger_Start=void 0;var a=r(8),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Start|开始"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Start"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;return this._observer=this.scene.onBeforeRenderObservable.add((function(){t.sendEvent(),t.destroy()})),!0},t.prototype.destroy=function(){this._observer&&this.scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Start=o;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Continuous|连续"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Continuous"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;return this._observer=this.scene.onBeforeRenderObservable.add((function(){t.sendEvent()})),!0},t.prototype.destroy=function(){this._observer&&this.scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Continuous=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"自定义|Custom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Custom"},enumerable:!1,configurable:!0}),t.prototype.customEvent=function(){this.sendEvent()},t.prototype.paraParser=function(e){return!0},t.prototype.destroy=function(){},t}(a.VE_TriggerBehaviour);t.Trigger_Custom=u,a.VE_Triggers.addTrigger(o),a.VE_Triggers.addTrigger(s),a.VE_Triggers.addTrigger(u)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Trigger_Mouse_Pick=t.Trigger_Mouse_Up=t.Trigger_Mouse_Down=t.Trigger_Mouse_Over=void 0;var a=r(8),o=r(1),s=r(2),u=r(0),l=r(4),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._target=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"On_Mouse_Over|碰撞体鼠标经过"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Mouse_Over"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,0,1)){if(e.length>0){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._target=r.gameObject}else this._target.value=this.gameObject;return null===this._target.value?(l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1):(null===this._target.value.transform.mesh||(this._target.value.transform.mesh.enablePointerMoveEvents=!0),this._observer=this.scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERMOVE&&null!==e.pickInfo&&null!==e.pickInfo.pickedMesh&&t._target.value&&e.pickInfo.pickedMesh===t._target.value.transform.mesh&&t.sendEvent()})),!0)}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Mouse_Over=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._target=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"On_Mouse_Down|碰撞体鼠标按下"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Mouse_Down"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,0,1)){if(e.length>0){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._target=r.gameObject}else this._target.value=this.gameObject;return null===this._target.value?(l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1):(null===this._target.value.transform.mesh||(this._target.value.transform.mesh.enablePointerMoveEvents=!0),this._observer=this.scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERDOWN&&null!==e.pickInfo&&null!==e.pickInfo.pickedMesh&&t._target.value&&e.pickInfo.pickedMesh===t._target.value.transform.mesh&&t.sendEvent()})),!0)}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Mouse_Down=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._target=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"On_Mouse_Up|碰撞体鼠标抬起"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Mouse_Up"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,0,1)){if(e.length>0){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._target=r.gameObject}else this._target.value=this.gameObject;return null===this._target.value?(l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1):(null===this._target.value.transform.mesh||(this._target.value.transform.mesh.enablePointerMoveEvents=!0),this._observer=this.scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERUP&&null!==e.pickInfo&&null!==e.pickInfo.pickedMesh&&t._target.value&&e.pickInfo.pickedMesh===t._target.value.transform.mesh&&t.sendEvent()})),!0)}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Mouse_Up=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._target=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"On_Mouse_Pick|碰撞体鼠标点击"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Mouse_Pick"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,0,1)){if(e.length>0){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._target=r.gameObject}else this._target.value=this.gameObject;return null===this._target.value?(l.VE_ErrorManager.Add(new l.VE_Error("",this.ID+" 触发 传入参数格式错误："+e[0]+"，填写0、1、2或者left、right、middle或者左、右、中，请检查！","",u.Severity.Error)),!1):(null===this._target.value.transform.mesh||(this._target.value.transform.mesh.enablePointerMoveEvents=!0),this._observer=this.scene.onPointerObservable.add((function(e){e.type===BABYLON.PointerEventTypes.POINTERPICK&&null!==e.pickInfo&&null!==e.pickInfo.pickedMesh&&t._target.value&&e.pickInfo.pickedMesh===t._target.value.transform.mesh&&t.sendEvent()})),!0)}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Mouse_Pick=_,a.VE_Triggers.addTrigger(c),a.VE_Triggers.addTrigger(p),a.VE_Triggers.addTrigger(h),a.VE_Triggers.addTrigger(_)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Trigger_GameObject_Is_Child_Of=t.Trigger_GameObject_Is_Active=t.Trigger_Gameobject_Has_Children=t.Trigger_Gameobject_Is_Null=t.Trigger_Gameobject_Changed=t.Trigger_Gameobject_CompareName=t.Trigger_Gameobject_Compare=t.Trigger_String_Contains=t.Trigger_String_Changed=t.Trigger_String_Compare=t.Trigger_Number_Multi_Compare=t.Trigger_Number_Changed=t.Trigger_Number_Compare=t.Trigger_Bool_Changed=t.Trigger_Bool_Any_True=t.Trigger_Bool_All_False=t.Trigger_Bool_All_True=void 0;var a=r(8),o=r(1),s=r(2),u=r(0),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._boolList=[],t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Bool_All_True|布尔值全为真 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Bool_All_True"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){this._boolList=[];for(var r=e[0].split(/,|，/),i=0;i<r.length;i++){r[i]=r[i].trim();var n=new o.VeryBool,a=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,a,r[i]))return!1;n=a.bool,this._boolList[this._boolList.length]=n}if("none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var l=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,l,e[1]))return!1;this._resultBool=l.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._resultBool.value=!0;for(var e=0;e<t._boolList.length;e++)if(0==t._boolList[e].value){t._resultBool.value=!1;break}1==t._resultBool.value&&t.sendEvent()})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Bool_All_True=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._boolList=[],t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Bool_All_False|布尔值全为假 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Bool_All_False"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){this._boolList=[];for(var r=e[0].split(/,|，/),i=0;i<r.length;i++){r[i]=r[i].trim();var n=new o.VeryBool,a=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,a,r[i]))return!1;n=a.bool,this._boolList[this._boolList.length]=n}if("none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var l=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,l,e[1]))return!1;this._resultBool=l.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._resultBool.value=!0;for(var e=0;e<t._boolList.length;e++)if(1==t._boolList[e].value){t._resultBool.value=!1;break}1==t._resultBool.value&&t.sendEvent()})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Bool_All_False=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._boolList=[],t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Bool_Any_True|布尔值任意为真 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Bool_Any_True"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){this._boolList=[];for(var r=e[0].split(/,|，/),i=0;i<r.length;i++){r[i]=r[i].trim();var n=new o.VeryBool,a=new s.VeryParas;if(!s.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,a,r[i]))return!1;n=a.bool,this._boolList[this._boolList.length]=n}if("none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var l=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,l,e[1]))return!1;this._resultBool=l.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._resultBool.value=!1;for(var e=0;e<t._boolList.length;e++)if(1==t._boolList[e].value){t._resultBool.value=!0;break}1==t._resultBool.value&&t.sendEvent()})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Bool_Any_True=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inBool=new o.VeryBool,t._lastBool=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Bool_Changed|布尔值改变 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Bool_Changed"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inBool=r.bool,this._lastBool=this._inBool.value,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var i=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._resultBool=i.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._lastBool==t._inBool.value?t._resultBool.value=!1:(t._lastBool=t._inBool.value,t._resultBool.value=!0,t.sendEvent())})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Bool_Changed=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._veryNumber1=new o.VeryNumber,t._veryNumber2=new o.VeryNumber,t._accuracy=new o.VeryNumber,t._operatorType="",t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Compare|数值比较 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Number_Compare"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,4)){var r=new s.VeryParas;if(!s.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._veryNumber1=r.number;var i=new s.VeryParas;if(!s.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._veryNumber2=i.number;var n=new s.VeryParas;return!!s.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,n,e[2])&&(this._accuracy=n.number,this._operatorType=e[3],"=="!=this._operatorType&&"="!=this._operatorType&&">"!=this._operatorType&&"<"!=this._operatorType&&">="!=this._operatorType&&"<="!=this._operatorType?(console.error(this.ID+" 触发传入参数格式错误： + "+e[3]+"，应为 “=”、“>”、“>=”、“<”或者“<=”运算符，请检查！"),!1):(this._observer=this.scene.onBeforeRenderObservable.add((function(){switch(t._operatorType){case"==":case"=":Math.abs(t._veryNumber1.value-t._veryNumber2.value)<t._accuracy.value&&t.sendEvent();break;case">":t._veryNumber1.value>t._veryNumber2.value&&t.sendEvent();break;case">=":t._veryNumber1.value>=t._veryNumber2.value&&t.sendEvent();break;case"<":t._veryNumber1.value<t._veryNumber2.value&&t.sendEvent();break;case"<=":t._veryNumber1.value<=t._veryNumber2.value&&t.sendEvent()}})),!0))}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Number_Compare=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inNumber=new o.VeryNumber,t._lastNumber=0,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Changed|数值改变 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Number_Changed"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inNumber=r.number,this._lastNumber=this._inNumber.value,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var i=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._resultBool=i.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._lastNumber==t._inNumber.value?t._resultBool.value=!1:(t._lastNumber=t._inNumber.value,t._resultBool.value=!0,t.sendEvent())})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Number_Changed=f;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._boolOperator="",t._floatList=[],t._operatorList=[],t._resultList=[],t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Number_Multi_Compare|数值多重比较 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Number_Multi_Compare"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(e.length<2)return!1;if("&&"==e[0]||"and"==e[0].toLowerCase()||"与"==e[0])this._boolOperator="&&";else{if("||"!=e[0]&&"or"!=e[0].toLowerCase()&&"或"!=e[0])return console.error(this.ID+" 触发参数格式错误，当前应传入“&&”、“and”或“与”表示“与计算”， “||”、“or”或“或”表示“或运算”，当前传入值为："+e[0]+"！"),!1;this._boolOperator="||"}for(var r=1;r<e.length;r++){var i=e[r].split(/,|，/);if(4!=i.length)return console.error(this.ID+" 触发参数格式错误，一组浮点数运算应包含4个参数，当前传入值为："+e[r]+"，不符合，请检查！"),!1;for(var n=0;n<3;n++){i[n]=i[n].trim();var a=new s.VeryParas;if(!s.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,a,i[n]))return!1;this._floatList[this._floatList.length]=a.number}if(i[3]=i[3].trim(),"=="!=i[3]&&"="!=i[3]&&">"!=i[3]&&"<"!=i[3]&&">="!=i[3]&&"<="!=i[3])return console.error(this.ID+" 触发传入参数格式错误： + "+e[3]+"，应为 “=”、“>”、“>=”、“<”或者“<=”运算符，请检查！"),!1;this._operatorList[this._operatorList.length]=i[3],this._resultList[this._resultList.length]=!0}return this._observer=this.scene.onBeforeRenderObservable.add((function(){for(var e=0;e<t._operatorList.length;e++)"="==t._operatorList[e]||"=="==t._operatorList[e]?Math.abs(t._floatList[3*e].value-t._floatList[3*e+1].value)<t._floatList[3*e+2].value?t._resultList[e]=!0:t._resultList[e]=!1:">"==t._operatorList[e]?t._floatList[3*e].value>t._floatList[3*e+1].value?t._resultList[e]=!0:t._resultList[e]=!1:">="==t._operatorList[e]?t._floatList[3*e].value>=t._floatList[3*e+1].value?t._resultList[e]=!0:t._resultList[e]=!1:"<"==t._operatorList[e]?t._floatList[3*e].value<t._floatList[3*e+1].value?t._resultList[e]=!0:t._resultList[e]=!1:"<="==t._operatorList[e]&&(t._floatList[3*e].value<=t._floatList[3*e+1].value?t._resultList[e]=!0:t._resultList[e]=!1);var r=!1;if(1==t._resultList.length)r=t._resultList[0];else{r=t._resultList[0];for(e=1;e<t._resultList.length;e++)r="&&"==t._boolOperator?r&&t._resultList[e]:r||t._resultList[e]}r&&t.sendEvent()})),!0},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Number_Multi_Compare=y;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inString=new o.VeryString,t._compareString=new o.VeryString,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_Compare|字符串比较 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_String_Compare"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,3)){var r=new s.VeryParas;if(!s.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._inString=r.string;var i=new s.VeryParas;if(!s.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;if(this._compareString=i.string,"none"==e[2].toLowerCase()||"null"==e[2].toLowerCase());else{var n=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,n,e[2]))return!1;this._resultBool=n.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._inString.value==t._compareString.value?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_String_Compare=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inString=new o.VeryString,t._lastString="",t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_Changed|字符串改变 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_String_Changed"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inString=r.string,this._lastString=this._inString.value,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var i=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._resultBool=i.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._lastString==t._inString.value?t._resultBool.value=!1:(t._lastString=t._inString.value,t._resultBool.value=!0,t.sendEvent())})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_String_Changed=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inString=new o.VeryString,t._compareString=new o.VeryString,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"String_Contains|字符串包含 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_String_Contains"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,3)){var r=new s.VeryParas;if(!s.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._inString=r.string;var i=new s.VeryParas;if(!s.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;if(this._compareString=i.string,"none"==e[2].toLowerCase()||"null"==e[2].toLowerCase());else{var n=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,n,e[2]))return!1;this._resultBool=n.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){-1!=t._inString.value.indexOf(t._compareString.value)?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_String_Contains=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inGameobject=new o.VeryGameObject,t._compareGameobject=new o.VeryGameObject,t._activeMode=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Gameobject_Compare|物体比较 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Gameobject_Compare"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,4)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._inGameobject=r.gameObject;var i=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;if(this._compareGameobject=i.gameObject,"none"==e[2].toLowerCase()||"null"==e[2].toLowerCase());else{var n=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,n,e[2]))return!1;this._resultBool=n.bool}try{this._activeMode=Boolean(e[3])}catch(t){return console.error(this.ID+" 触发传入参数格式错误： + "+e[3]+"，应填写“true”或者“false”，true代表一致则触发，false代表不一致则触发；，请检查！"),!1}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._activeMode?t._inGameobject.value==t._compareGameobject.value?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1:t._inGameobject.value!=t._compareGameobject.value?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Gameobject_Compare=v;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inGameobject=new o.VeryGameObject,t._gameobjectName=new o.VeryString,t._activeMode=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Gameobject_CompareName|物体名比较 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Gameobject_CompareName"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,4)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._inGameobject=r.gameObject;var i=new s.VeryParas;if(!s.ParaParserUtility.StringPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;if(this._gameobjectName=i.string,"none"==e[2].toLowerCase()||"null"==e[2].toLowerCase());else{var n=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,n,e[2]))return!1;this._resultBool=n.bool}try{this._activeMode=Boolean(e[3])}catch(t){return console.error(this.ID+" 触发传入参数格式错误： + "+e[3]+"，应填写“true”或者“false”，true代表一致则触发，false代表不一致则触发；，请检查！"),!1}return this._observer=this.scene.onBeforeRenderObservable.add((function(){var e,r;t._activeMode?(null===(e=t._inGameobject.value)||void 0===e?void 0:e.name)==t._gameobjectName.value?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1:(null===(r=t._inGameobject.value)||void 0===r?void 0:r.name)!=t._gameobjectName.value?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Gameobject_CompareName=d;var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inGameobject=new o.VeryGameObject,t._lastGameobject=null,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Gameobject_Changed|物体改变 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Gameobject_Changed"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inGameobject=r.gameObject,this._lastGameobject=this._inGameobject.value,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var i=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._resultBool=i.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){t._lastGameobject==t._inGameobject.value?t._resultBool.value=!1:(t._lastGameobject=t._inGameobject.value,t._resultBool.value=!0,t.sendEvent())})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Gameobject_Changed=P;var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inGameobject=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Gameobject_Is_Null|物体是否为空 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Gameobject_Is_Null"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inGameobject=r.gameObject,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var i=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._resultBool=i.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){null==t._inGameobject.value?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Gameobject_Is_Null=V;var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inGameobject=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Gameobject_Has_Children|物体是否含有子物体 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_Gameobject_Has_Children"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inGameobject=r.gameObject,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var i=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._resultBool=i.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){null!=t._inGameobject.value&&t._inGameobject.value.gameObject.transform.childCount>0?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_Gameobject_Has_Children=E;var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inGameobject=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Gameobject_Is_Active|物体是否激活 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_GameObject_Is_Active"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,2)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;if(this._inGameobject=r.gameObject,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase());else{var i=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;this._resultBool=i.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){var e;null!=t._inGameobject.value&&(null===(e=t._inGameobject.value.transform.transformNode)||void 0===e?void 0:e.isEnabled())?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_GameObject_Is_Active=A;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultBool=new o.VeryBool,t._inGameobject=new o.VeryGameObject,t._fatherGameobject=new o.VeryGameObject,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GameObject_Is_Child_Of|物体是否为其他物体子物体 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_GameObject_Is_Child_Of"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(s.ParaParserUtility.ParaNumbers(this.ID,u.ParaType.Trigger,e.length,3)){var r=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,r,e[0]))return!1;this._inGameobject=r.gameObject;var i=new s.VeryParas;if(!s.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,i,e[1]))return!1;if(this._fatherGameobject=i.gameObject,"none"==e[2].toLowerCase()||"null"==e[2].toLowerCase());else{var n=new s.VeryParas;if(!s.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,u.ParaType.Trigger,n,e[2]))return!1;this._resultBool=n.bool}return this._observer=this.scene.onBeforeRenderObservable.add((function(){var e,r,i;(null===(r=null===(e=t._inGameobject.value)||void 0===e?void 0:e.transform.transformNode)||void 0===r?void 0:r.parent)==(null===(i=t._fatherGameobject.value)||void 0===i?void 0:i.transform.transformNode)?(t._resultBool.value=!0,t.sendEvent()):t._resultBool.value=!1})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._scene.onBeforeRenderObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_GameObject_Is_Child_Of=T,a.VE_Triggers.addTrigger(l),a.VE_Triggers.addTrigger(c),a.VE_Triggers.addTrigger(p),a.VE_Triggers.addTrigger(h),a.VE_Triggers.addTrigger(_),a.VE_Triggers.addTrigger(f),a.VE_Triggers.addTrigger(y),a.VE_Triggers.addTrigger(b),a.VE_Triggers.addTrigger(m),a.VE_Triggers.addTrigger(g),a.VE_Triggers.addTrigger(v),a.VE_Triggers.addTrigger(d),a.VE_Triggers.addTrigger(P),a.VE_Triggers.addTrigger(V),a.VE_Triggers.addTrigger(E),a.VE_Triggers.addTrigger(A),a.VE_Triggers.addTrigger(T)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UGUI_Tools=t.Trigger_UGUI_Event_Trigger=t.Trigger_UGUI_Button=void 0;var a=r(8),o=r(2),s=r(0),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._button=new BABYLON.GUI.Button,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Button|按钮 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_UGUI_Button"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,1)){var r=c.GetUI(this.scene,e[0],this.ID);return null==r?console.error(this.ID+"--响应参数出错--"+e[0]):this._button=r,this._observer=this._button.onPointerDownObservable.add((function(){t.sendEvent()})),!0}return!1},t.prototype.destroy=function(){this._observer&&this._button.onPointerDownObservable.remove(this._observer),this._observer=null},t}(a.VE_TriggerBehaviour);t.Trigger_UGUI_Button=u;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._control=new BABYLON.GUI.Control,t._eventType="",t._moveObserver=null,t._outObserver=null,t._downObserver=null,t._upObserver=null,t._clickObserver=null,t._enterObserver=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GUI_Event_Trigger|GUI事件 "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Trigger_UGUI_Event_Trigger"},enumerable:!1,configurable:!0}),t.prototype.paraParser=function(e){var t=this;if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,2)){var r=c.GetUI(this.scene,e[0],this.ID);return null==r?console.error(this.ID+"--响应参数出错--"+e[0]):this._control=r,this._eventType=e[1],"移动"==this._eventType?this._moveObserver=this._control.onPointerMoveObservable.add((function(){t.sendEvent()})):"移出"==this._eventType?this._outObserver=this._control.onPointerOutObservable.add((function(){t.sendEvent()})):"按下"==this._eventType?this._downObserver=this._control.onPointerDownObservable.add((function(){t.sendEvent()})):"抬起"==this._eventType?this._upObserver=this._control.onPointerUpObservable.add((function(){t.sendEvent()})):"点击"==this._eventType?this._clickObserver=this._control.onPointerClickObservable.add((function(){t.sendEvent()})):"移入"==this._eventType?this._enterObserver=this._control.onPointerEnterObservable.add((function(){t.sendEvent()})):console.error(this.ID+"--响应参数出错--"+this._eventType),!0}return!1},t.prototype.destroy=function(){this._moveObserver&&this._control.onPointerMoveObservable.remove(this._moveObserver),this._outObserver&&this._control.onPointerOutObservable.remove(this._outObserver),this._downObserver&&this._control.onPointerDownObservable.remove(this._downObserver),this._upObserver&&this._control.onPointerUpObservable.remove(this._upObserver),this._clickObserver&&this._control.onPointerClickObservable.remove(this._clickObserver),this._enterObserver&&this._control.onPointerEnterObservable.remove(this._enterObserver),this._moveObserver=null,this._outObserver=null,this._downObserver=null,this._upObserver=null,this._clickObserver=null,this._enterObserver=null},t}(a.VE_TriggerBehaviour);t.Trigger_UGUI_Event_Trigger=l;var c=function(){function e(){}return e.GetUI=function(e,t,r){for(var i=t.split("."),n=!1,a=!1,o=0;o<e.textures.length;o++)if(i[0]==e.textures[o].name){var s=e.textures[o].rootContainer;for(o=1;o<i.length;o++){var u=s.getChildByName(i[o]);if(null==u){a=!1;break}if(o==i.length-1)return u;s=u}n=!0;break}return n&&a||console.error(r+"--响应参数出错--"+t),null},e}();t.UGUI_Tools=c,a.VE_Triggers.addTrigger(u),a.VE_Triggers.addTrigger(l)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Camera_Tools=t.Action_Set_Camera_Culling_Mask=t.Action_Set_CameraSize=t.Action_Get_CameraSize=t.Action_Set_Main_Camera=t.Action_Active_Camera=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._carema1=null,t._cameraList=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Active_Camera|激活相机"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Active_Camera"},enumerable:!1,configurable:!0}),t.prototype.active=function(){if(this._carema1){this._carema1.setEnabled(!0);for(var e=0;e<this._cameraList.length;e++)this._cameraList[e].setEnabled(!1)}},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1,2)){if(this._carema1=f.GetCamera(this.scene,e[0],this.ID),e.length>1)if("null"==e[1].toLowerCase()||"none"==e[1].toLowerCase());else for(var t=e[1].split(/,|，/),r=0;r<t.length;r++){t[r]=t[r].trim();var i=f.GetCamera(this.scene,t[r],this.ID);null!=i&&(this._cameraList[this._cameraList.length]=i)}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Active_Camera=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._carema1=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Main_Camera|设置主相机"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Main_Camera"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._carema1&&(this.scene.activeCamera=this._carema1)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){return!!o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1)&&(this._carema1=f.GetCamera(this.scene,e[0],this.ID),!0)},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Main_Camera=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._carema1=null,t._size=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_CameraSize|获取相机视窗大小"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_CameraSize"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._carema1&&(this._size.value=this._carema1.fov)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){this._carema1=f.GetCamera(this.scene,e[0],this.ID);var t=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,t,e[1])&&(this._size=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_CameraSize=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._carema1=null,t._size=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_CameraSize|设置相机视窗大小"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_CameraSize"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._carema1&&(this._carema1.fov=this._size.value)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){this._carema1=f.GetCamera(this.scene,e[0],this.ID);var t=new o.VeryParas;return!!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,t,e[1])&&(this._size=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_CameraSize=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._carema1=null,t._layer=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Camera_Culling_Mask|设置相机渲染层"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Camera_Culling_Mask"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._carema1&&(this._carema1.layerMask=this._layer.value)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){this._carema1=f.GetCamera(this.scene,e[0],this.ID);var t=new o.VeryParas;return!!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,t,e[1])&&(this._layer=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Camera_Culling_Mask=_,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c),a.VE_Actions.addAction(p),a.VE_Actions.addAction(h),a.VE_Actions.addAction(_);var f=function(){function e(){}return e.GetCamera=function(e,t,r){for(var i=0;i<e.cameras.length;i++)if(t==e.cameras[i].name)return e.cameras[i];return console.error(r+"--响应参数出错--"+t),null},e}();t.Camera_Tools=f},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Light_Tools=t.Action_Set_Light_Spot_Angle=t.Action_Set_Light_Range=t.Action_Set_Light_Intensity=t.Action_Set_Light_Color=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._light=null,t._isColor=!1,t._blueColor=new u.VeryVector3,t._colorFloat=[],t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Light_Color|设置灯光颜色"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Light_Color"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._light&&(this._isColor?this._light.diffuse=new BABYLON.Color3(this._blueColor.value.x/255,this._blueColor.value.y/255,this._blueColor.value.z/255):this._light.diffuse=new BABYLON.Color3(this._colorFloat[0].value/255,this._colorFloat[1].value/255,this._colorFloat[2].value/255))},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){this._light=_.GetLight(this.scene,e[0],this.ID);var t=new o.VeryParas;return!!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,t,e[1])&&(this._isColor=t.isVec,this._blueColor=t.vector3,this._colorFloat=t.vecNumbers,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Light_Color=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._light=null,t._intensity=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Light_Intensity|设置灯光强度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Light_Intensity"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._light&&(this._light.intensity=this._intensity.value)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){this._light=_.GetLight(this.scene,e[0],this.ID);var t=new o.VeryParas;return!!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,t,e[1])&&(this._intensity=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Light_Intensity=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._light=null,t._size=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Light_Range|设置灯光范围"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Light_Range"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._light&&(this._light.range=this._size.value)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){this._light=_.GetLight(this.scene,e[0],this.ID);var t=new o.VeryParas;return!!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,t,e[1])&&(this._size=t.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Light_Range=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._light=null,t._angle=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Light_Spot_Angle|设置灯光聚光角度"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Light_Spot_Angle"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._light&&(this._light.angle=this._angle.value)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,2)){var t=_.GetLight(this.scene,e[0],this.ID);if("SpotLight"!=(null==t?void 0:t.getClassName()))return console.error(this.ID+" 响应传入参数格式错误： "+e[0]+"，该物体不是SpotLight类型！"),!1;var r=new o.VeryParas;return!!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,r,e[1])&&(this._angle=r.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Light_Spot_Angle=h,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c),a.VE_Actions.addAction(p),a.VE_Actions.addAction(h);var _=function(){function e(){}return e.GetLight=function(e,t,r){for(var i=0;i<e.lights.length;i++)if(t==e.lights[i].name)return e.lights[i];return console.error(r+"--响应参数出错--"+t),null},e}();t.Light_Tools=_},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_CursorControl=t.Action_MouseEnterHighlight=t.Action_MouseDrag=t.Action_Mouse_Pick=t.Action_GetMousePosition_Screen=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=r(5),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._mousePosVe=new u.VeryVector2,t._mousePosX=new u.VeryNumber,t._mousePosY=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"GetMousePosition_Screen|获取鼠标屏幕位置"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_GetMousePosition_Screen"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._mousePosVe.value=new BABYLON.Vector2(this.scene.pointerX,this.scene.pointerY),this._mousePosX.value=this._mousePosVe.value.x,this._mousePosY.value=this._mousePosVe.value.y},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1,2)){if(1==e.length){var t=new o.VeryParas;if(!o.ParaParserUtility.Vector2Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._mousePosVe=t.vector2}else{if("null"==e[0].toLowerCase()||"none"==e[0].toLowerCase());else{t=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._mousePosX=t.number}if("null"==e[1].toLowerCase()||"none"==e[1].toLowerCase());else{t=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[1]))return!1;this._mousePosY=t.number}}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_GetMousePosition_Screen=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueBool=new u.VeryBool,t._isBool=!1,t._blueGameObject=new u.VeryGameObject,t._isGameObject=!1,t._blueVector3=new u.VeryVector3,t._isVector3=!1,t._blueFloat=new u.VeryNumber,t._isFloat=!1,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Mouse_Pick|鼠标点选"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Mouse_Pick"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e=this;this._observer=this.scene.onPointerObservable.add((function(t){switch(t.type){case BABYLON.PointerEventTypes.POINTERDOWN:null!=t.pickInfo&&(e._isBool&&(e._blueBool.value=null!=t.pickInfo.pickedMesh),e._isGameObject&&(null!=t.pickInfo.pickedMesh?e._blueGameObject.setValue(t.pickInfo.pickedMesh):e._blueGameObject.value=null),e._isVector3&&(null!=t.pickInfo.pickedPoint?e._blueVector3.value=t.pickInfo.pickedPoint:e._blueVector3.value=BABYLON.Vector3.Zero()),e._isFloat&&(e._blueFloat.value=t.pickInfo.distance))}}))},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,4)){if("null"==e[0].toLowerCase()||"none"==e[0].toLowerCase());else{this._isBool=!0;var t=new o.VeryParas;if(!o.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._blueBool=t.bool}if("null"==e[1].toLowerCase()||"none"==e[1].toLowerCase());else{this._isGameObject=!0;t=new o.VeryParas;if(!o.ParaParserUtility.GameObjectParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[1]))return!1;this._blueGameObject=t.gameObject}if("null"==e[2].toLowerCase()||"none"==e[2].toLowerCase());else{this._isVector3=!0;t=new o.VeryParas;if(!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[2]))return!1;this._blueVector3=t.vector3}if("null"==e[3].toLowerCase()||"none"==e[3].toLowerCase());else{this._isFloat=!0;t=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[3]))return!1;this._blueFloat=t.number}return!0}return!1},t.prototype.destroy=function(){this._observer&&this.scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_ActionBehaviour);t.Action_Mouse_Pick=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._choose="",t._moveRef=null,t._mouseBtn=0,t._move="",t._filter=!1,t._include=!0,t._filterName=[],t.startingPoint=null,t.currentMesh=null,t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"MouseDrag|鼠标拖拽"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_MouseDrag"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e=this;this._observer=this.scene.onPointerObservable.add((function(t){switch(t.type){case BABYLON.PointerEventTypes.POINTERDOWN:t.pickInfo&&t.pickInfo.pickedMesh&&(e._filter?e._include?-1!=e._filterName.indexOf(t.pickInfo.pickedMesh.name)&&e.pointerDown(t.pickInfo.pickedMesh):-1==e._filterName.indexOf(t.pickInfo.pickedMesh.name)&&e.pointerDown(t.pickInfo.pickedMesh):e.pointerDown(t.pickInfo.pickedMesh));break;case BABYLON.PointerEventTypes.POINTERUP:e.pointerUp();break;case BABYLON.PointerEventTypes.POINTERMOVE:e.pointerMove()}}))},t.prototype.getPosition=function(){return new BABYLON.Vector2(this.scene.pointerX,this.scene.pointerY)},t.prototype.pointerDown=function(e){this.currentMesh=e;var t=this.scene.activeCamera;this.startingPoint=this.getPosition(),this.startingPoint&&setTimeout((function(){t&&t.detachControl(l.BabylonEngine.Canvas)}),0)},t.prototype.pointerUp=function(){if(this.startingPoint){var e=this.scene.activeCamera;return e&&e.attachControl(l.BabylonEngine.Canvas,!0),void(this.startingPoint=null)}},t.prototype.pointerMove=function(){if(this.startingPoint){var e=this.getPosition();if(e){var t=e.subtract(this.startingPoint),r=this.scene.activeCamera;this.currentMesh&&r&&("free"==this._choose&&(this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(r.getDirection(new BABYLON.Vector3(1,0,0)).normalize().scale(t.x))),this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(r.getDirection(new BABYLON.Vector3(0,-1,0)).normalize().scale(t.y)))),"world"==this._choose&&(this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(r.getDirection(new BABYLON.Vector3(1,0,0)).normalize().scale(t.x))),this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(r.getDirection(new BABYLON.Vector3(0,-1,0)).normalize().scale(t.y))))),this.startingPoint=e}}},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3,5)){var t=e[0].toLowerCase();if("world"==t||"世界"==t)this._choose="world";else if("self"==t||"相对"==t||"自身"==t)this._choose="self";else if("free"==t||"自由"==t)this._choose="free";else{var r=new u.VeryGameObject,i=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[0]))return!1;if(null==(r=i.gameObject).value)return console.error(this.ID+" 响应传入参数格式错误，当前物体： "+e[0]+"，无法在场景中查找到，请检查！"),!1;this._moveRef=r.value.transform,this._choose="someObject"}var n=e[1].toLowerCase();if("0"==n||"left"==n||"左"==n)this._mouseBtn=0;else if("1"==n||"right"==n||"右"==n)this._mouseBtn=2;else{if("2"!=n&&"middle"!=n&&"中"!=n)return console.error(this.ID+" 响应传入参数格式错误，当前值为： "+e[1]+"，鼠标参数格式为:  2. “0”、“left”或者“左”表示鼠标左键拖拽，填“1”、“right”或者“右”表示鼠标右键拖拽，填“2”、“middle”或者“中”表示鼠标中键拖拽！"),!1;this._mouseBtn=1}var a=e[2].toLowerCase();if("x"==a||"y"==a||"z"==a||"xy"==a||"yx"==a||"xz"==a||"zx"==a||"yz"==a||"zy"==a)this._move=a;else if("free"!=this._choose)return console.error(this.ID+" 响应传入参数格式错误： "+e[2]+"，轴应该填“X”、“Y”、“Z”、“XY”、“XZ”或者“YZ”！"),!1;if(e.length>3){var l=e[3].split("~");if(2!=l.length)return console.error(this.ID+" 响应参数格式填写错误，第4个参数应为“物体名~包括”或者“Name~Include”、“物体名~排除”或者“Name~Exclude”，表示过滤条件！"),!1;if("物体名"!=l[0].trim()&&"name"!=l[0].trim().toLowerCase())return console.error(this.ID+" 响应参数格式填写错误，第4个参数应为“物体名~包括”或者“Name~Include”、“物体名~排除”或者“Name~Exclude”，表示过滤条件！"),!1;if("包括"==l[1].trim()||"include"==l[1].trim().toLowerCase())this._include=!0;else{if("排除"!=l[1].trim()&&"exclude"!=l[1].trim().toLowerCase())return console.error(this.ID+" 响应参数格式填写错误，第4个参数应为“物体名~包括”或者“Name~Include”、“物体名~排除”或者“Name~Exclude”，表示过滤条件！"),!1;this._include=!1}}else this._filter=!1,this._filterName=[];if(e.length>4){for(var c=e[4].split(/,|，/),p=0;p<c.length;p++)if(c[p]=c[p].trim(),u.VarTools.IsVarID(c[p])){var h=new u.VeryString;i=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,c[p]))return!1;""!=(h=i.string).value&&-1==this._filterName.indexOf(h.value)&&(this._filterName[this._filterName.length]=c[p])}else""!=c[p]&&-1==this._filterName.indexOf(c[p])&&(this._filterName[this._filterName.length]=c[p]);this._filterName.length>0&&(this._filter=!0)}else this._filter=!1,this._filterName=[];return!0}return!1},t.prototype.destroy=function(){this._observer&&this.scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_ActionBehaviour);t.Action_MouseDrag=h;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isColor=!0,t._newColor=new u.VeryVector3,t._colorFloat=[],t._isRecursion=!0,t._switch=new u.VeryBool,t._objArray=[],t._currentMesh=null,t._oldMaterial=null,t._oldMaterials={},t._observer=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"MouseEnterHighlight|鼠标移入高亮"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_MouseEnterHighlight"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e=this;this._observer=this.scene.onPointerObservable.add((function(t){switch(t.type){case BABYLON.PointerEventTypes.POINTERMOVE:if(e._switch){var r=e.scene.pick(e.scene.pointerX,e.scene.pointerY);if(null==r||null==r.pickedMesh)null!=e._currentMesh&&(e._isRecursion&&(e.RecursionRestore(e._currentMesh),e._oldMaterials={}),e._currentMesh.material=e._oldMaterial,e._currentMesh=null);else if(e._currentMesh!=r.pickedMesh&&(null!=e._currentMesh&&(e._isRecursion&&(e.RecursionRestore(e._currentMesh),e._oldMaterials={}),e._currentMesh.material=e._oldMaterial,e._currentMesh=null),-1!=e._objArray.indexOf(r.pickedMesh.name))){e._oldMaterial=r.pickedMesh.material;var i=new BABYLON.StandardMaterial("tmpMat",e.scene);e._isColor?i.diffuseColor=new BABYLON.Color3(e._newColor.value.x/255,e._newColor.value.y/255,e._newColor.value.z/255):i.diffuseColor=new BABYLON.Color3(e._colorFloat[0].value/255,e._colorFloat[1].value/255,e._colorFloat[2].value/255),r.pickedMesh.material=i,e._currentMesh=r.pickedMesh,e._isRecursion&&e.RecursionRecord(e._currentMesh)}}}}))},t.prototype.RecursionRecord=function(e){if(e.getChildMeshes().length>0)for(var t=0;t<e.getChildMeshes().length;t++){var r=e.getChildMeshes()[t].material,i=new BABYLON.StandardMaterial("tmpMat",this.scene);this._isColor?i.diffuseColor=new BABYLON.Color3(this._newColor.value.x/255,this._newColor.value.y/255,this._newColor.value.z/255):i.diffuseColor=new BABYLON.Color3(this._colorFloat[0].value/255,this._colorFloat[1].value/255,this._colorFloat[2].value/255),e.getChildMeshes()[t].material=i,this._oldMaterials[e.getChildMeshes()[t].name]=r,this.RecursionRecord(e.getChildMeshes()[t])}},t.prototype.RecursionRestore=function(e){if(e.getChildMeshes().length>0)for(var t=0;t<e.getChildMeshes().length;t++)e.getChildMeshes()[t].material=this._oldMaterials[e.getChildMeshes()[t].name],this.RecursionRestore(e.getChildMeshes()[t])},t.prototype.onUpdate=function(){this._switch||null!=this._currentMesh&&(this._isRecursion&&(this.RecursionRestore(this._currentMesh),this._oldMaterials={}),this._currentMesh.material=this._oldMaterial,this._currentMesh=null)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,3,4)){var t=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._switch=t.bool;var r=new o.VeryParas;if(!o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Trigger,r,e[2]))return!1;this._isColor=r.isVec,this._newColor=r.vector3,this._colorFloat=r.vecNumbers,e.length>3&&("false"==e[3].toLowerCase()?this._isRecursion=!1:"true"!=e[3].toLowerCase()&&console.warn(this.ID+" 响应传入参数格式错误，其值为： "+e[3]+"，应为true或者false，当前值两者都不是，此处默认true处理，自动给子物体也高亮！"));for(var i=e[1].split(/,|，/),n=0;n<i.length;n++){i[n]=i[n].trim();var a=new o.VeryParas;new u.VeryGameObject;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,a,i[n]))return!1;if(null==a.gameObject.value)return console.error(this.ID+" 响应传入参数格式错误，当前物体： "+i[n]+"，该物体无法在场景中查找到，请检查！"),!1;this._objArray[this._objArray.length]=i[n]}return!0}return!1},t.prototype.destroy=function(){this._observer&&this.scene.onPointerObservable.remove(this._observer),this._observer=null},t}(a.VE_ActionBehaviour);t.Action_MouseEnterHighlight=_;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cursorControl=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"CursorControl|鼠标控制"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_CursorControl"},enumerable:!1,configurable:!0}),t.prototype.active=function(){this._cursorControl.value?document.body.style.cursor="default":document.body.style.cursor="none"},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Action,e.length,1)){var t=new o.VeryParas;return!!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0])&&(this._cursorControl=t.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_CursorControl=f,a.VE_Actions.addAction(c),a.VE_Actions.addAction(p),a.VE_Actions.addAction(h),a.VE_Actions.addAction(_),a.VE_Actions.addAction(f)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Set_Rect_Value=t.Action_Rect_Contains=t.Action_Get_Rect_Value=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isGet=[!0,!0,!0,!0],t._blueRect=new u.VeryRect,t._xFloat=new u.VeryNumber,t._yFloat=new u.VeryNumber,t._widthFloat=new u.VeryNumber,t._heightFloat=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Rect_Value|获取矩形值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Rect_Value"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isGet[0]&&(this._xFloat.value=this._blueRect.value.x),this._isGet[1]&&(this._yFloat.value=this._blueRect.value.y),this._isGet[2]&&(this._widthFloat.value=this._blueRect.value.z),this._isGet[3]&&(this._heightFloat.value=this._blueRect.value.w)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,5)){var t=new o.VeryParas;if(!o.ParaParserUtility.RectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;if(this._blueRect=t.rect,"none"==e[1].toLowerCase()||"null"==e[1].toLowerCase())this._isGet[0]=!1;else{var r=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._xFloat=r.number}if("none"==e[2].toLowerCase()||"null"==e[2].toLowerCase())this._isGet[1]=!1;else{var i=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._yFloat=i.number}if("none"==e[3].toLowerCase()||"null"==e[3].toLowerCase())this._isGet[2]=!1;else{var n=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[3]))return!1;this._widthFloat=n.number}if("none"==e[4].toLowerCase()||"null"==e[4].toLowerCase())this._isGet[3]=!1;else{var a=new o.VeryParas;if(!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,a,e[4]))return!1;this._heightFloat=a.number}return!0}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Rect_Value=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isRect=!1,t._blueRect=new u.VeryRect,t._rectFloat=[],t._isVec3=!1,t._blueVector3=new u.VeryVector3,t._isVec2=!1,t._blueVector2=new u.VeryVector2,t._blueX=new u.VeryNumber,t._blueY=new u.VeryNumber,t._blueZ=new u.VeryNumber,t._blueBool=new u.VeryBool,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Rect_Contains|矩形包含"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Rect_Contains"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e=this._blueRect.value;if(this._isRect||(e=new BABYLON.Vector4(this._rectFloat[0].value,this._rectFloat[1].value,this._rectFloat[2].value,this._rectFloat[3].value)),this._isVec3)this._blueBool.value=this.RectContainsVector3(e,this._blueVector3.value);else if(this._isVec2)this._blueBool.value=this.RectContainsVector2(e,this._blueVector2.value);else{var t=new BABYLON.Vector2(this._blueX.value,this._blueY.value);this._blueBool.value=this.RectContainsVector2(e,t)}},t.prototype.RectContainsVector3=function(e,t){return t.x>=e.x&&t.x<=e.x+e.z&&t.y>=e.y&&t.y<=e.y+e.w},t.prototype.RectContainsVector2=function(e,t){return t.x>=e.x&&t.x<=e.x+e.z&&t.y>=e.y&&t.y<=e.y+e.w},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,3)){var t=new o.VeryParas;if(!o.ParaParserUtility.RectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isRect=t.isRect,this._blueRect=t.rect,this._rectFloat=t.rectNumbers;var r=new o.VeryParas;if(o.ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))this._isVec3=r.isVec,this._blueVector3=r.vector3,this._blueX=r.vecNumbers[0],this._blueY=r.vecNumbers[1],this._blueZ=r.vecNumbers[2];else{if(!o.ParaParserUtility.Vector2OrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._isVec2=r.isVec2,this._blueVector2=r.vector2,this._blueX=r.vec2Numbers[0],this._blueY=r.vec2Numbers[1]}var i=new o.VeryParas;return!!o.ParaParserUtility.BoolParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2])&&(this._blueBool=i.bool,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Rect_Contains=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isRect=!1,t._blueFloatArray=[],t._blueRect=new u.VeryRect,t._AcceptRect=new u.VeryRect,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Rect_Value|设置矩形值"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Rect_Value"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){this._isRect?this._AcceptRect.value=this._blueRect.value:this._AcceptRect.value=new BABYLON.Vector4(this._blueFloatArray[0].value,this._blueFloatArray[1].value,this._blueFloatArray[2].value,this._blueFloatArray[3].value)},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,2)){var t=new o.VeryParas;if(!o.ParaParserUtility.RectOrNumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._isRect=t.isRect,this._blueRect=t.rect,this._blueFloatArray=t.rectNumbers;var r=new o.VeryParas;return!!o.ParaParserUtility.RectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1])&&(this._AcceptRect=r.rect,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Rect_Value=p,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c),a.VE_Actions.addAction(p)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Get_Vertex_Position=t.Action_Get_Vertex_Count=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueGameobject=new u.VeryGameObject,t._blueInt=new u.VeryNumber,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Vertex_Count|获取面片顶点数"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Vertex_Count"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e,t=null===(e=this._blueGameobject.value)||void 0===e?void 0:e.mesh;this._blueInt.value=0,null!=t&&null!=t&&(this._blueInt.value=t.getTotalVertices())},t.prototype.paraParser=function(e){var t;if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,2)){var r=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[0]))return!1;this._blueGameobject=r.gameObject;var i=null===(t=this._blueGameobject.value)||void 0===t?void 0:t.mesh;if(null==i||null==i)return console.error(this.ID+" 响应传入参数格式错误： "+e[0]+"，该物体不具有Mesh！"),!1;var n=new o.VeryParas;return!!o.ParaParserUtility.NumberParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[1])&&(this._blueInt=n.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Vertex_Count=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueGameobject=new u.VeryGameObject,t._blueInt=new u.VeryNumber,t._blueVec3=new u.VeryVector3,t._isWorldAxis=!0,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Vertex_Position|获取面片顶点坐标"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Vertex_Position"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e,t=null===(e=this._blueGameobject.value)||void 0===e?void 0:e.mesh;if(null!=t&&null!=t){var r=t.getVerticesData("position");if(null!=r){var i=new BABYLON.Vector3(r[3*this._blueInt.value],r[3*this._blueInt.value+1],r[3*this._blueInt.value+2]);this._isWorldAxis?this._blueVec3.value=t.getAbsolutePosition().add(i):this._blueVec3.value=i}}},t.prototype.paraParser=function(e){var t;if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,4)){var r=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[0]))return!1;this._blueGameobject=r.gameObject;var i=null===(t=this._blueGameobject.value)||void 0===t?void 0:t.mesh;if(null==i||null==i)return console.error(this.ID+" 响应传入参数格式错误： "+e[0]+"，该物体不具有Mesh！"),!1;var n=new o.VeryParas;if(!o.ParaParserUtility.NumberPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[1]))return!1;if(this._blueInt=n.number,this._blueInt.value<0||this._blueInt.value>i.subMeshes[0].verticesCount-1)return console.error(this.ID+" 响应中，"+e[1]+"，该index超出了顶点索引范围，请查看填写是否正确！"),!1;"world"==e[2].toLowerCase()||"世界"==e[2]?this._isWorldAxis=!0:this._isWorldAxis=!1;var a=new o.VeryParas;return!!o.ParaParserUtility.Vector3Para(this.projectName,this.objectID,this.ID,s.ParaType.Action,a,e[3])&&(this._blueVec3=a.vector3,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Vertex_Position=c,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_Set_Material=t.Action_Get_Material=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueGameobject=new u.VeryGameObject,t._blueMaterial=new u.VeryMaterial,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Get_Material|获取材质球"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Get_Material"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e,t=null===(e=this._blueGameobject.value)||void 0===e?void 0:e.mesh;null!=t&&null!=t&&(this._blueMaterial.value=t.material)},t.prototype.paraParser=function(e){var t;if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,2)){var r=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[0]))return!1;this._blueGameobject=r.gameObject;var i=null===(t=this._blueGameobject.value)||void 0===t?void 0:t.mesh;if(null==i||null==i)return console.error(this.ID+" 响应传入参数格式错误： "+e[0]+"，该物体不具有Mesh！"),!1;var n=new o.VeryParas;return!!o.ParaParserUtility.MaterialParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[1])&&(this._blueMaterial=n.material,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Get_Material=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blueGameobject=new u.VeryGameObject,t._blueMaterial=new u.VeryMaterial,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"Set_Material|设置材质球"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_Set_Material"},enumerable:!1,configurable:!0}),t.prototype.active=function(){},t.prototype.onUpdate=function(){var e,t=null===(e=this._blueGameobject.value)||void 0===e?void 0:e.mesh;null!=t&&null!=t&&(t.material=this._blueMaterial.value)},t.prototype.paraParser=function(e){var t;if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,2)){var r=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[0]))return!1;this._blueGameobject=r.gameObject;var i=null===(t=this._blueGameobject.value)||void 0===t?void 0:t.mesh;if(null==i||null==i)return console.error(this.ID+" 响应传入参数格式错误： "+e[0]+"，该物体不具有Mesh！"),!1;var n=new o.VeryParas;return!!o.ParaParserUtility.MaterialParaOnlyVar(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[1])&&(this._blueMaterial=n.material,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_Set_Material=c,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_WindowsVoice=t.Action_AudioPlay=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._switch=new u.VeryBool,t._musicString=new u.VeryString,t._musicLoop=new u.VeryBool,t._musicVolume=new u.VeryNumber,t._music=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"AudioPlay|声音播放"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_AudioPlay"},enumerable:!1,configurable:!0}),t.prototype.active=function(){null!=this._music&&(this._switch.value?(this._music.loop=this._musicLoop.value,this._music.setVolume(this._musicVolume.value),this._music.isPlaying||this._music.play()):(this._music.loop=this._musicLoop.value,this._music.setVolume(this._musicVolume.value),this._music.stop()))},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,4)){var t=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._switch=t.bool;var r=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._musicString=r.string,this._music=new BABYLON.Sound("Music",this._musicString.value,this.scene,null,{loop:!1,autoplay:!1});var i=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._musicLoop=i.bool;var n=new o.VeryParas;return!!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[3])&&(this._musicVolume=n.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_AudioPlay=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._musicString=new u.VeryString,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"WindowsVoice|语音"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_WindowsVoice"},enumerable:!1,configurable:!0}),t.prototype.active=function(){var e=new window.SpeechSynthesisUtterance(this._musicString.value);window.speechSynthesis.speak(e)},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,1)){var t=new o.VeryParas;return!!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0])&&(this._musicString=t.string,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_WindowsVoice=c,a.VE_Actions.addAction(l),a.VE_Actions.addAction(c)},function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action_VedioPlayOnOBJ=void 0;var a=r(3),o=r(2),s=r(0),u=r(1),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._switch=new u.VeryBool,t._blueOBJ=new u.VeryGameObject,t._musicString=new u.VeryString,t._musicLoop=new u.VeryBool,t._musicVolume=new u.VeryNumber,t._vedio=null,t._currentMesh=null,t._oldMat=null,t._newMat=null,t}return n(t,e),Object.defineProperty(t.prototype,"ID",{get:function(){return"VedioPlayOnOBJ|物体上视频播放"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"Action_VedioPlayOnOBJ"},enumerable:!1,configurable:!0}),t.prototype.active=function(){null!=this._vedio&&this._currentMesh&&(this._switch.value?(null==this._newMat&&(console.log("Vedio--"+this._vedio.video.videoWidth+"--"+this._vedio.video.videoHeight),this._newMat=new BABYLON.StandardMaterial("m",this.scene),this._newMat.diffuseTexture=this._vedio),this._vedio.video.loop=this._musicLoop.value,this._vedio.video.volume=this._musicVolume.value,this._currentMesh.material=this._newMat,this._vedio.video.play()):(this._vedio.video.loop=this._musicLoop.value,this._vedio.video.volume=this._musicVolume.value,this._vedio.video.pause(),this._currentMesh.material=this._oldMat))},t.prototype.onUpdate=function(){},t.prototype.paraParser=function(e){if(o.ParaParserUtility.ParaNumbers(this.ID,s.ParaType.Trigger,e.length,5)){var t=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,t,e[0]))return!1;this._switch=t.bool;var r=new o.VeryParas;if(!o.ParaParserUtility.GameObjectPara(this.projectName,this.objectID,this.ID,s.ParaType.Action,r,e[1]))return!1;this._blueOBJ=r.gameObject,null!=this._blueOBJ.value?null!=this._blueOBJ.value.mesh?(this._currentMesh=this._blueOBJ.value.mesh,this._oldMat=this._blueOBJ.value.mesh.material):console.error("物体上视频播放--物体不存在Mesh--"+e[1]):console.error("物体上视频播放--物体不存在--"+e[1]);var i=new o.VeryParas;if(!o.ParaParserUtility.StringParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,i,e[2]))return!1;this._musicString=i.string,this._vedio=new BABYLON.VideoTexture("Vedio",this._musicString.value,this.scene,!0,!0),this._vedio.video.autoplay=!1;var n=new o.VeryParas;if(!o.ParaParserUtility.BoolParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,n,e[3]))return!1;this._musicLoop=n.bool;var a=new o.VeryParas;return!!o.ParaParserUtility.NumberParaWithExpression(this.projectName,this.objectID,this.ID,s.ParaType.Action,a,e[4])&&(this._musicVolume=a.number,!0)}return!1},t.prototype.destroy=function(){},t}(a.VE_ActionBehaviour);t.Action_VedioPlayOnOBJ=l,a.VE_Actions.addAction(l)}]);
//# sourceMappingURL=veryengine.js.map