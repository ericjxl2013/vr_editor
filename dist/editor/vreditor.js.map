{"version":3,"sources":["node_modules/_browser-pack@6.1.0@browser-pack/_prelude.js","node_modules/_process@0.11.10@process/browser.js","node_modules/_timers-browserify@1.4.2@timers-browserify/main.js","src/editor/Initialize-data.ts","src/editor/assets/assets-context-menu.ts","src/editor/assets/assets-create-folder.ts","src/editor/assets/assets-create-table.ts","src/editor/assets/assets-drop.ts","src/editor/assets/assets-filter.ts","src/editor/assets/assets-fs.ts","src/editor/assets/assets-panel-control.ts","src/editor/assets/assets-panel.ts","src/editor/assets/assets-preview.ts","src/editor/assets/assets-rename.ts","src/editor/assets/assets-store.ts","src/editor/assets/assets-sync.ts","src/editor/assets/assets-upload.ts","src/editor/assets/assets.ts","src/editor/assets/index.ts","src/editor/assets/keeper.ts","src/editor/attributes/assets/attributes-assets-texture.ts","src/editor/attributes/attributes-assets.ts","src/editor/attributes/attributes-entity.ts","src/editor/attributes/attributes-history.ts","src/editor/attributes/attributes-panel.ts","src/editor/attributes/attributes-reference.ts","src/editor/attributes/index.ts","src/editor/attributes/keeper.ts","src/editor/drop.ts","src/editor/editor.ts","src/editor/entity/entities.ts","src/editor/entity/entity-create.ts","src/editor/entity/entity-edit.ts","src/editor/entity/entity-load.ts","src/editor/entity/entity-sync.ts","src/editor/entity/entity.ts","src/editor/entity/index.ts","src/editor/entity/keeper.ts","src/editor/gizmos/axisDragGizmo.ts","src/editor/gizmos/axisScaleGizmo.ts","src/editor/gizmos/boundingBoxGizmo.ts","src/editor/gizmos/cameraGizmo.ts","src/editor/gizmos/gizmo-center.ts","src/editor/gizmos/gizmo.ts","src/editor/gizmos/gizmoManager.ts","src/editor/gizmos/index.ts","src/editor/gizmos/lightGizmo.ts","src/editor/gizmos/planeDragGizmo.ts","src/editor/gizmos/planeRotationGizmo.ts","src/editor/gizmos/positionGizmo.ts","src/editor/gizmos/rotationGizmo.ts","src/editor/gizmos/scaleGizmo.ts","src/editor/global/config.ts","src/editor/global/index.ts","src/editor/hierarchy/hierarchy-context-menu.ts","src/editor/hierarchy/hierarchy-control.ts","src/editor/hierarchy/hierarchy-menu.ts","src/editor/hierarchy/hierarchy-panel.ts","src/editor/hierarchy/hierarchy-search.ts","src/editor/hierarchy/index.ts","src/editor/hierarchy/keeper.ts","src/editor/hotkeys.ts","src/editor/index.ts","src/editor/initialize-after.ts","src/editor/initialize-before.ts","src/editor/layout.ts","src/editor/localstorage.ts","src/editor/middleware/component.ts","src/editor/middleware/gameobject.ts","src/editor/middleware/index.ts","src/editor/middleware/loader/babylonLoader.ts","src/editor/middleware/resource-container.ts","src/editor/middleware/transform.ts","src/editor/scenes/index.ts","src/editor/scenes/keeper.ts","src/editor/scenes/scenes.ts","src/editor/search.ts","src/editor/selector/index.ts","src/editor/selector/selector-history.ts","src/editor/selector/selector.ts","src/editor/toolbar/index.ts","src/editor/toolbar/keeper.ts","src/editor/toolbar/toolbar-control.ts","src/editor/toolbar/toolbar-editor-settings.ts","src/editor/toolbar/toolbar-gizmos.ts","src/editor/toolbar/toolbar-help.ts","src/editor/toolbar/toolbar-history.ts","src/editor/toolbar/toolbar-logo.ts","src/editor/toolbar/toolbar-publish.ts","src/editor/toolbar/toolbar-scene.ts","src/editor/toolbar/toolbar-top-control.ts","src/editor/utility/ajax.ts","src/editor/utility/components-logos.ts","src/editor/utility/context-menu.ts","src/editor/utility/debug.ts","src/editor/utility/eventproxy.ts","src/editor/utility/guid.ts","src/editor/utility/index.ts","src/editor/utility/sha1.ts","src/editor/utility/tools.ts","src/editor/viewport/index.ts","src/editor/viewport/keeper.ts","src/editor/viewport/viewport-application.ts","src/editor/viewport/viewport-drop-model.ts","src/editor/viewport/viewport-entities-observer-binding.ts","src/editor/viewport/viewport-expand.ts","src/editor/viewport/viewport-instance-create.ts","src/editor/viewport/viewport.ts","src/engine/application.ts","src/engine/babylon-engine.ts","src/engine/index.ts","src/engine/very-engine.ts","src/index.ts","src/lib/events.ts","src/lib/index.ts","src/lib/observer-list.ts","src/lib/observer-sync.ts","src/lib/observer.ts","src/main.ts","src/ui/bubble.ts","src/ui/button.ts","src/ui/canvas.ts","src/ui/checkbox.ts","src/ui/code.ts","src/ui/color-field.ts","src/ui/container-element.ts","src/ui/element.ts","src/ui/grid-item.ts","src/ui/grid.ts","src/ui/image-field.ts","src/ui/index.ts","src/ui/label.ts","src/ui/link.ts","src/ui/list-item.ts","src/ui/list.ts","src/ui/menu-item.ts","src/ui/menu.ts","src/ui/number-field.ts","src/ui/overlay.ts","src/ui/panel.ts","src/ui/progress.ts","src/ui/select-field.ts","src/ui/slider.ts","src/ui/text-field.ts","src/ui/textarea-field.ts","src/ui/tooltip.ts","src/ui/top/index.ts","src/ui/top/top-element-container.ts","src/ui/top/top-element-panel.ts","src/ui/top/top-element.ts","src/ui/tree-item.ts","src/ui/tree.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"vreditor.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","import { Config } from './global';\r\nimport { BabylonLoader } from './middleware/loader/babylonLoader';\r\n\r\nexport class InitializeData {\r\n\r\n    public constructor() {\r\n        this.init();\r\n    }\r\n\r\n    private init(): void {\r\n        // TODO\r\n        Config.projectID = window.location.pathname.substring(8);\r\n        // console.log(window.location.pathname);\r\n\r\n        // project data\r\n        axios.post('/api/getProject', { projectID: Config.projectID })\r\n            .then(response => {\r\n                var data = response.data;\r\n                if (data.code === '0000') {\r\n                    console.log(data.data);\r\n                    BabylonLoader.projectData = data.data;\r\n                    Config.projectName = data.data.project.name;\r\n                    Config.userID = data.data.owner.id;\r\n                    Config.username = data.data.owner.username;\r\n                    document.title = Config.projectName + ' - 万维引擎';\r\n                    editor.call('toolbar.project.set', Config.projectName);\r\n\r\n\r\n                } else {\r\n                    console.error(data.message);\r\n                }\r\n                // ep.emit('settings', response.data);\r\n            })\r\n            .catch(\r\n                error => {\r\n                    console.error(error);\r\n                }\r\n\r\n            );\r\n\r\n        // assets data\r\n        axios.post('/api/getAssets', { projectID: Config.projectID })\r\n            .then(response => {\r\n                var data = response.data;\r\n                if (data.code === '0000') {\r\n                    console.log(data.data);\r\n                    BabylonLoader.assetsData = data.data;\r\n                    Config.assetsData = data.data;\r\n                    editor.call('initAssets', Config.assetsData);\r\n\r\n                    // 加载完assets数据再加载scene数据，便于解析scene过程中使用assets数据\r\n                    editor.call('getScenes');\r\n\r\n                } else {\r\n                    console.error(data.message);\r\n                }\r\n                // ep.emit('settings', response.data);\r\n            })\r\n            .catch(\r\n                error => {\r\n                    console.error(error);\r\n                }\r\n\r\n            );\r\n\r\n\r\n        editor.method('getScenes', () => {\r\n            // scenes data\r\n            axios.post('/api/getScenes', { projectID: Config.projectID })\r\n                .then(response => {\r\n                    var data = response.data;\r\n                    if (data.code === '0000') {\r\n                        let lastScene: number = data.data.last;\r\n                        Config.scenesData = data.data.scenes[lastScene];\r\n                        Config.sceneIndex = lastScene;\r\n                        console.log(Config.scenesData);\r\n                        BabylonLoader.scenesData = Config.scenesData;\r\n                        BabylonLoader.sceneIndex = lastScene;\r\n                        editor.emit('scene:raw', Config.scenesData);\r\n                        editor.call('toolbar.scene.set', Config.scenesData.name);\r\n                    } else {\r\n                        console.error(data.message);\r\n                    }\r\n                    // ep.emit('settings', response.data);\r\n                })\r\n                .catch(\r\n                    error => {\r\n                        console.error(error);\r\n                    }\r\n\r\n                );\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n}","import { Menu, MenuItem } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\nimport { Observer } from '../../lib';\r\n\r\nexport class AssetsContextMenu {\r\n    public constructor() {\r\n\r\n        var currentAsset: any = null;\r\n        // var legacyScripts = editor.call('settings:project').get('useLegacyScripts');\r\n        var legacyScripts = false;\r\n        var root = VeryEngine.root;\r\n\r\n        var customMenuItems: any = [];\r\n\r\n        // menu\r\n        var menu = new Menu();\r\n        root.append(menu);\r\n\r\n\r\n        // edit\r\n        var menuItemNewScript = new MenuItem({\r\n            text: 'New Script',\r\n            icon: '&#57864;',\r\n            value: 'script'\r\n        });\r\n        menuItemNewScript.on('select', function () {\r\n            if (legacyScripts) {\r\n                editor.call('sourcefiles:new');\r\n            } else {\r\n                editor.call('picker:script-create', function (filename: string) {\r\n                    editor.call('assets:create:script', {\r\n                        filename: filename,\r\n                        boilerplate: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n        menu.append(menuItemNewScript);\r\n\r\n        // new asset\r\n        var menuItemNew = new MenuItem({\r\n            text: '添加资源',\r\n            icon: '&#57632;',\r\n            value: 'new'\r\n        });\r\n        menu.append(menuItemNew);\r\n\r\n        var downloadable: any = {\r\n            'texture': 1,\r\n            'textureatlas': 1,\r\n            'html': 1,\r\n            'table': 1,\r\n            'shader': 1,\r\n            'scene': 1,\r\n            'json': 1,\r\n            'audio': 1,\r\n            'text': 1\r\n        };\r\n\r\n        var icons: any = {\r\n            'upload': '&#57909;',\r\n            'folder': '&#57657;',\r\n            'table': '&#57864;',\r\n            'cubemap': '&#57879;',\r\n            'html': '&#57864;',\r\n            'json': '&#57864;',\r\n            'layers': '&#57992',\r\n            'material': '&#57749;',\r\n            'script': '&#57864;',\r\n            'shader': '&#57864;',\r\n            'text': '&#57864;',\r\n            'texture': '&#57857;',\r\n            'textureatlas': '&#57857;',\r\n            'model': '&#57735;',\r\n            'scene': '&#57735;',\r\n            'animation': '&#57875;',\r\n            'audio': '&#57872;',\r\n            'bundle': '&#58384;'\r\n        };\r\n\r\n        var ICONS: any = {\r\n            REFERENCES: '&#57622;',\r\n            TEXTURE_ATLAS: '&#58162;',\r\n            SPRITE_ASSET: '&#58261;',\r\n            REPLACE: '&#57640;',\r\n            REIMPORT: '&#57889;',\r\n            DOWNLOAD: '&#57896;',\r\n            EDIT: '&#57648;',\r\n            DUPLICATE: '&#57638;',\r\n            DELETE: '&#57636;',\r\n            SCENE_SETTINGS: '&#57652;'\r\n        };\r\n\r\n        // var assets: any = {\r\n        //     'upload': '上传',\r\n        //     'folder': '新建文件夹',\r\n        //     'css': '表格',\r\n        //     'cubemap': 'CubeMap',\r\n        //     'html': 'HTML',\r\n        //     'json': 'JSON',\r\n        //     'material': '材质',\r\n        //     'script': 'Script',\r\n        //     'shader': 'Shader',\r\n        //     'text': 'Text'\r\n        // };\r\n\r\n        var assets: any = {\r\n            'upload': '上传',\r\n            'folder': '新建文件夹',\r\n            'table': '表格',\r\n            'material': '材质'\r\n        };\r\n\r\n        // if (editor.call('users:hasFlag', 'hasBundles')) {\r\n        //     assets.bundle = 'Asset Bundle';\r\n        // }\r\n\r\n        var addNewMenuItem = function (key: string, title: string) {\r\n            // new folder\r\n            var item = new MenuItem({\r\n                text: title,\r\n                icon: icons[key] || '',\r\n                value: key\r\n            });\r\n            item.on('select', function () {\r\n                var args: any = {};\r\n\r\n                if (currentAsset && currentAsset.get('type') === 'folder') {\r\n                    args.parent = currentAsset;\r\n                } else if (currentAsset === undefined) {\r\n                    args.parent = null;\r\n                }\r\n\r\n                if (key === 'upload') {\r\n                    editor.call('assets:upload:picker', args);\r\n                } else if (key === 'script') {\r\n                    if (legacyScripts) {\r\n                        editor.call('sourcefiles:new');\r\n                    } else {\r\n                        editor.call('picker:script-create', function (filename: string) {\r\n                            editor.call('assets:create:script', {\r\n                                filename: filename,\r\n                                boilerplate: true\r\n                            });\r\n                        });\r\n                    }\r\n                } else {\r\n                    editor.call('assets:create:' + key, args)\r\n                }\r\n            });\r\n            menuItemNew.append(item);\r\n\r\n            if (key === 'script') {\r\n                editor.on('repositories:load', function (repositories: any) {\r\n                    if (repositories.get('current') !== 'directory')\r\n                        item.disabled = true;\r\n                });\r\n            }\r\n        };\r\n\r\n        var keys = Object.keys(assets);\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!assets.hasOwnProperty(keys[i]))\r\n                continue;\r\n\r\n            addNewMenuItem(keys[i], assets[keys[i]]);\r\n        }\r\n\r\n        // related\r\n        var menuItemReferences = new MenuItem({\r\n            text: 'References',\r\n            icon: ICONS.REFERENCES,\r\n            value: 'references'\r\n        });\r\n        menu.append(menuItemReferences);\r\n\r\n        // Create Atlas\r\n        var menuItemTextureToAtlas = new MenuItem({\r\n            text: 'Create Texture Atlas',\r\n            icon: ICONS.TEXTURE_ATLAS,\r\n            value: 'texture-to-atlas'\r\n        });\r\n        menu.append(menuItemTextureToAtlas);\r\n\r\n        menuItemTextureToAtlas.on('select', function () {\r\n            editor.call('assets:textureToAtlas', currentAsset);\r\n        });\r\n\r\n        // Create Sprite From Atlas\r\n        var menuItemCreateSprite = new MenuItem({\r\n            text: 'Create Sprite Asset',\r\n            icon: ICONS.SPRITE_ASSET,\r\n            value: 'atlas-to-sprite'\r\n        });\r\n        menu.append(menuItemCreateSprite);\r\n\r\n        menuItemCreateSprite.on('select', function () {\r\n            editor.call('assets:atlasToSprite', {\r\n                asset: currentAsset\r\n            });\r\n        });\r\n\r\n        // Create Sliced Sprite From Atlas\r\n        var menuItemCreateSlicedSprite = new MenuItem({\r\n            text: 'Create Sliced Sprite Asset',\r\n            icon: ICONS.SPRITE_ASSET,\r\n            value: 'atlas-to-sliced-sprite'\r\n        });\r\n        menu.append(menuItemCreateSlicedSprite);\r\n\r\n        menuItemCreateSlicedSprite.on('select', function () {\r\n            editor.call('assets:atlasToSprite', {\r\n                asset: currentAsset,\r\n                sliced: true\r\n            });\r\n        });\r\n\r\n        // replace\r\n        var replaceAvailable: any = {\r\n            material: true,\r\n            texture: true,\r\n            textureatlas: true,\r\n            model: true,\r\n            animation: true,\r\n            audio: true,\r\n            cubemap: true,\r\n            css: true,\r\n            html: true,\r\n            shader: true,\r\n            sprite: true,\r\n            json: true,\r\n            text: true\r\n        };\r\n        var menuItemReplace = new MenuItem({\r\n            text: '加载',\r\n            icon: ICONS.REPLACE,\r\n            value: 'replace'\r\n        });\r\n        menuItemReplace.on('select', function () {\r\n            // console.log(currentAsset)\r\n            // console.log(currentAsset.origin)\r\n            editor.call('load:from:asset', currentAsset);\r\n            // var id = parseInt(currentAsset.get('id'), 10);\r\n            // console.log(currentAsset.get('name'));\r\n            // editor.call('picker:asset', {\r\n            //     type: currentAsset.get('type'),\r\n            //     currentAsset: currentAsset\r\n            // });\r\n\r\n            // var evtPick: Nullable<EventHandle> = editor.once('picker:asset', function (asset: Observer) {\r\n            //     editor.call('assets:replace', currentAsset, asset);\r\n            //     evtPick = null;\r\n            // });\r\n\r\n            // editor.once('picker:asset:close', function () {\r\n            //     if (evtPick) {\r\n            //         evtPick.unbind();\r\n            //         evtPick = null;\r\n            //     }\r\n            // });\r\n        });\r\n        menu.append(menuItemReplace);\r\n\r\n        // var menuItemReplaceTextureToSprite = new MenuItem({\r\n        //     text: 'Convert Texture To Sprite',\r\n        //     icon: ICONS.SPRITE_ASSET,\r\n        //     value: 'replaceTextureToSprite'\r\n        // });\r\n        // menuItemReplaceTextureToSprite.on('select', function () {\r\n        //     var id = parseInt(currentAsset.get('id'), 10);\r\n\r\n        //     editor.call('picker:asset', {\r\n        //         type: 'sprite',\r\n        //         currentAsset: currentAsset\r\n        //     });\r\n\r\n        //     var evtPick: Nullable<EventHandle> = editor.once('picker:asset', function (asset: Observer) {\r\n        //         editor.call('assets:replaceTextureToSprite', currentAsset, asset);\r\n        //         evtPick = null;\r\n        //     });\r\n\r\n        //     editor.once('picker:asset:close', function () {\r\n        //         if (evtPick) {\r\n        //             evtPick.unbind();\r\n        //             evtPick = null;\r\n        //         }\r\n        //     });\r\n        // });\r\n        // menu.append(menuItemReplaceTextureToSprite);\r\n\r\n        // extract. Used for source assets.\r\n        var menuItemExtract = new MenuItem({\r\n            text: 'Re-Import',\r\n            icon: ICONS.REIMPORT,\r\n            value: 'extract'\r\n        });\r\n        menuItemExtract.on('select', function () {\r\n            editor.call(\r\n                'assets:reimport',\r\n                currentAsset.get('id'),\r\n                currentAsset.get('type')\r\n            );\r\n        });\r\n        menu.append(menuItemExtract);\r\n\r\n        // re-import. Used for target assets.\r\n        var menuItemReImport = new MenuItem({\r\n            text: 'Re-Import',\r\n            icon: ICONS.REIMPORT,\r\n            value: 're-import'\r\n        });\r\n        menuItemReImport.on('select', function () {\r\n            editor.call(\r\n                'assets:reimport',\r\n                currentAsset.get('id'),\r\n                currentAsset.get('type')\r\n            );\r\n        });\r\n        menu.append(menuItemReImport);\r\n\r\n        // download\r\n        var menuItemDownload = new MenuItem({\r\n            text: '下载',\r\n            icon: ICONS.DOWNLOAD,\r\n            value: 'download'\r\n        });\r\n        menuItemDownload.on('select', function () {\r\n            window.open(currentAsset.get('file.url'));\r\n        });\r\n        menu.append(menuItemDownload);\r\n\r\n        // edit\r\n        var menuItemEdit = new MenuItem({\r\n            text: '编辑',\r\n            icon: ICONS.EDIT,\r\n            value: 'edit'\r\n        });\r\n        menuItemEdit.on('select', function () {\r\n            // editor.call('assets:edit', currentAsset);\r\n            console.log('编辑表格');\r\n            console.warn(currentAsset);\r\n            editor.call('assets:open-table', currentAsset.get('name'));\r\n            \r\n        });\r\n        menu.append(menuItemEdit);\r\n\r\n        // duplicate\r\n        var menuItemDuplicate = new MenuItem({\r\n            text: '复制',\r\n            icon: ICONS.DUPLICATE,\r\n            value: 'duplicate'\r\n        });\r\n        menuItemDuplicate.on('select', function () {\r\n            editor.call('assets:duplicate', currentAsset);\r\n        });\r\n        menu.append(menuItemDuplicate);\r\n\r\n        // delete\r\n        var menuItemDelete = new MenuItem({\r\n            text: '删除',\r\n            icon: ICONS.DELETE,\r\n            value: 'delete'\r\n        });\r\n        menuItemDelete.style!.fontWeight = '200';\r\n        menuItemDelete.on('select', function () {\r\n            var asset = currentAsset;\r\n            var multiple = false;\r\n\r\n            if (asset) {\r\n                var assetType = asset.get('type');\r\n                var type = editor.call('selector:type');\r\n                var items;\r\n\r\n                if (type === 'asset') {\r\n                    items = editor.call('selector:items');\r\n                    for (var i = 0; i < items.length; i++) {\r\n                        // if the asset that was right-clicked is in the selection\r\n                        // then include all the other selected items in the delete\r\n                        // otherwise only delete the right-clicked item\r\n                        if (assetType === 'script' && legacyScripts) {\r\n                            if (\r\n                                items[i].get('filename') === asset.get('filename')\r\n                            ) {\r\n                                multiple = true;\r\n                                break;\r\n                            }\r\n                        } else if (items[i].get('id') === asset.get('id')) {\r\n                            multiple = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                editor.call('assets:delete:picker', multiple ? items : [asset]);\r\n            }\r\n        });\r\n        menu.append(menuItemDelete);\r\n\r\n        // filter buttons\r\n        menu.on('open', function () {\r\n            menuItemNewScript.hidden = !((currentAsset === null || (currentAsset && currentAsset.get('type') === 'script')) && editor.call('assets:panel:currentFolder') === 'scripts');\r\n            menuItemNew.hidden = !menuItemNewScript.hidden;\r\n\r\n            if (currentAsset) {\r\n                // download，TODO：下载菜单\r\n                menuItemDownload.hidden = true;\r\n                // menuItemDownload.hidden = !(\r\n                //     (!config.project.privateAssets ||\r\n                //         (config.project.privateAssets &&\r\n                //             editor.call('permissions:read'))) &&\r\n                //     currentAsset.get('type') !== 'folder' &&\r\n                //     (currentAsset.get('source') ||\r\n                //         downloadable[currentAsset.get('type')] ||\r\n                //         (!legacyScripts &&\r\n                //             currentAsset.get('type') === 'script')) &&\r\n                //     currentAsset.get('file.url')\r\n                // );\r\n\r\n                // duplicate\r\n                if (currentAsset.get('type') === 'material' ||\r\n                    currentAsset.get('type') === 'sprite') {\r\n                    menuItemEdit.hidden = true;\r\n                    if (editor.call('selector:type') === 'asset') {\r\n                        var items = editor.call('selector:items');\r\n                        menuItemDuplicate.hidden =\r\n                            items.length > 1 && items.indexOf(currentAsset) !== -1;\r\n                    } else {\r\n                        menuItemDuplicate.hidden = false;\r\n                    }\r\n                } else {\r\n                    menuItemDuplicate.hidden = true;\r\n                }\r\n\r\n                // edit\r\n                if (!currentAsset.get('source') &&\r\n                    ['html', 'table', 'json', 'text', 'script', 'shader'].indexOf(currentAsset.get('type')) !== -1) {\r\n                    if (editor.call('selector:type') === 'asset') {\r\n                        var items = editor.call('selector:items');\r\n                        menuItemEdit.hidden =\r\n                            items.length > 1 && items.indexOf(currentAsset) !== -1;\r\n                    } else {\r\n                        menuItemEdit.hidden = false;\r\n                    }\r\n                } else {\r\n                    menuItemEdit.hidden = true;\r\n                }\r\n\r\n                // create atlas\r\n                menuItemTextureToAtlas.hidden =\r\n                    currentAsset.get('type') !== 'texture' ||\r\n                    currentAsset.get('source') ||\r\n                    currentAsset.get('task') ||\r\n                    !editor.call('permissions:write');\r\n\r\n                // create sprite\r\n                menuItemCreateSprite.hidden =\r\n                    currentAsset.get('type') !== 'textureatlas' ||\r\n                    currentAsset.get('source') ||\r\n                    currentAsset.get('task') ||\r\n                    !editor.call('permissions:write');\r\n                menuItemCreateSlicedSprite.hidden = menuItemCreateSprite.hidden;\r\n\r\n                // delete\r\n                menuItemDelete.hidden = false;\r\n\r\n                if (!currentAsset.get('source')) {\r\n                    menuItemExtract.hidden = true;\r\n\r\n                    // re-import\r\n                    var sourceId = currentAsset.get('source_asset_id');\r\n                    if (sourceId) {\r\n                        var source = editor.call('assets:get', sourceId);\r\n                        if (source) {\r\n                            if (\r\n                                source.get('type') === 'scene' &&\r\n                                (['texture', 'material'].indexOf(\r\n                                    currentAsset.get('type')\r\n                                ) !== -1 ||\r\n                                    !source.get('meta'))\r\n                            ) {\r\n                                menuItemReImport.hidden = true;\r\n                            } else if (\r\n                                currentAsset.get('type') === 'animation' &&\r\n                                !source.get('meta.animation.available')\r\n                            ) {\r\n                                menuItemReImport.hidden = true;\r\n                            } else if (\r\n                                currentAsset.get('type') === 'material' &&\r\n                                !currentAsset.has('meta.index')\r\n                            ) {\r\n                                menuItemReImport.hidden = true;\r\n                            } else {\r\n                                menuItemReImport.hidden = false;\r\n                            }\r\n                        } else {\r\n                            menuItemReImport.hidden = true;\r\n                        }\r\n                    } else {\r\n                        menuItemReImport.hidden = true;\r\n                    }\r\n\r\n                    // references\r\n                    // var ref = editor.call('assets:used:index')[\r\n                    //     currentAsset.get('id')\r\n                    // ];\r\n                    // if (ref && ref.count && ref.ref) {\r\n                    //     menuItemReferences.hidden = false;\r\n                    //     menuItemReplace.hidden = replaceAvailable[\r\n                    //         currentAsset.get('type')\r\n                    //     ]\r\n                    //         ? false\r\n                    //         : true;\r\n                    //     menuItemReplaceTextureToSprite.hidden =\r\n                    //         !editor.call('users:hasFlag', 'hasTextureToSprite') ||\r\n                    //         currentAsset.get('type') !== 'texture';\r\n\r\n                    //     while (menuItemReferences.innerElement!.firstChild)\r\n                    //         (<HTMLElement>menuItemReferences.innerElement!.firstChild).ui.destroy();\r\n\r\n                    //     var menuItems: any = [];\r\n\r\n                    //     var addReferenceItem = function (type: string, id: string) {\r\n                    //         var menuItem = new MenuItem();\r\n                    //         var item: any = null;\r\n\r\n                    //         if (type === 'editorSettings') {\r\n                    //             menuItem.text = 'Scene Settings';\r\n                    //             menuItem.icon = ICONS.SCENE_SETTINGS;\r\n                    //             item = editor.call('settings:projectUser');\r\n                    //             if (!item) return;\r\n                    //         } else {\r\n                    //             if (type === 'entity') {\r\n                    //                 item = editor.call('entities:get', id);\r\n                    //                 menuItem.icon = '&#57734;';\r\n                    //             } else if (type === 'asset') {\r\n                    //                 item = editor.call('assets:get', id);\r\n                    //                 menuItem.icon = icons[item.get('type')] || '';\r\n                    //             }\r\n                    //             if (!item) return;\r\n                    //             menuItem.text = item.get('name');\r\n                    //         }\r\n\r\n                    //         menuItems.push({\r\n                    //             name: menuItem.text,\r\n                    //             type: type,\r\n                    //             element: menuItem\r\n                    //         });\r\n\r\n                    //         menuItem.on('select', function () {\r\n                    //             editor.call('selector:set', type, [item]);\r\n\r\n                    //             var folder = null;\r\n                    //             var path = item.get('path') || [];\r\n                    //             if (path.length)\r\n                    //                 folder = editor.call(\r\n                    //                     'assets:get',\r\n                    //                     path[path.length - 1]\r\n                    //                 );\r\n\r\n                    //             editor.call('assets:panel:currentFolder', folder);\r\n\r\n                    //             // unfold rendering tab\r\n                    //             if (type === 'editorSettings') {\r\n                    //                 setTimeout(function () {\r\n                    //                     editor.call(\r\n                    //                         'editorSettings:panel:unfold',\r\n                    //                         'rendering'\r\n                    //                     );\r\n                    //                 }, 0);\r\n                    //             }\r\n                    //         });\r\n                    //     };\r\n\r\n                    //     for (var key in ref.ref)\r\n                    //         addReferenceItem(ref.ref[key].type, key);\r\n\r\n                    //     var typeSort: any = {\r\n                    //         editorSettings: 1,\r\n                    //         asset: 2,\r\n                    //         entity: 3\r\n                    //     };\r\n\r\n                    //     menuItems.sort(function (a: any, b: any) {\r\n                    //         if (a.type !== b.type) {\r\n                    //             return typeSort[a.type] - typeSort[b.type];\r\n                    //         } else {\r\n                    //             if (a.name > b.name) {\r\n                    //                 return 1;\r\n                    //             } else if (a.name < b.name) {\r\n                    //                 return -1;\r\n                    //             } else {\r\n                    //                 return 0;\r\n                    //             }\r\n                    //         }\r\n                    //     });\r\n\r\n                    //     for (var i = 0; i < menuItems.length; i++)\r\n                    //         menuItemReferences.append(menuItems[i].element);\r\n                    // } else {\r\n                    //     menuItemReferences.hidden = true;\r\n                    //     menuItemReplace.hidden = true;\r\n                    //     menuItemReplaceTextureToSprite.hidden = true;\r\n                    // }\r\n                } else {\r\n                    menuItemReferences.hidden = true;\r\n                    menuItemReplace.hidden = true;\r\n                    // menuItemReplaceTextureToSprite.hidden = true;\r\n                    menuItemReImport.hidden = true;\r\n                    menuItemExtract.hidden =\r\n                        ['scene', 'texture', 'textureatlas'].indexOf(\r\n                            currentAsset.get('type')\r\n                        ) === -1 || !currentAsset.get('meta');\r\n                }\r\n            } else {\r\n                // no asset\r\n                menuItemExtract.hidden = true;\r\n                menuItemReImport.hidden = true;\r\n                menuItemDownload.hidden = true;\r\n                menuItemDuplicate.hidden = true;\r\n                menuItemEdit.hidden = true;\r\n                menuItemDelete.hidden = true;\r\n                menuItemReferences.hidden = true;\r\n                menuItemReplace.hidden = true;\r\n                // menuItemReplaceTextureToSprite.hidden = true;\r\n                menuItemTextureToAtlas.hidden = true;\r\n                menuItemCreateSprite.hidden = true;\r\n                menuItemCreateSlicedSprite.hidden = true;\r\n            }\r\n\r\n            for (var i = 0; i < customMenuItems.length; i++) {\r\n                if (!customMenuItems[i].filter) continue;\r\n\r\n                customMenuItems[i].hidden = !customMenuItems[i].filter(\r\n                    currentAsset\r\n                );\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        // for each asset added\r\n        editor.on('assets:add', function (asset: Observer) {\r\n\r\n            // get grid item\r\n            var item = editor.call('assets:panel:get', asset.get('id'));\r\n            if (!item) return;\r\n\r\n            // 右键功能\r\n            var contextMenuHandler = function (evt: MouseEvent) {\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n\r\n                // if (!editor.call('permissions:write')) return;\r\n                currentAsset = asset;\r\n                // 打开菜单\r\n                menu.open = true;\r\n                menu.position(evt.clientX + 1, evt.clientY);\r\n                // \r\n            };\r\n\r\n            // grid\r\n            item.element.addEventListener('contextmenu', contextMenuHandler, false);\r\n\r\n            // \r\n\r\n            // tree, 给tree item也加上右键菜单\r\n            if (item.tree) {\r\n                item.tree.elementTitle.addEventListener(\r\n                    'contextmenu',\r\n                    contextMenuHandler,\r\n                    false\r\n                );\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n}","import { Config } from \"../global\";\r\n\r\nexport class AssetsCreateFolder {\r\n\r\n    public constructor() {\r\n\r\n        editor.method('assets:create:folder', function (args: any) {\r\n            // if (!editor.call('permissions:write'))\r\n            //     return;\r\n            console.log('assets:create:folder');\r\n\r\n            args = args || {};\r\n\r\n            var path: string[] = [];\r\n            var currentFolder = editor.call('assets:panel:currentFolder');\r\n\r\n            if (currentFolder && currentFolder.get)\r\n                path = currentFolder.get('path').concat(currentFolder.get('id'));\r\n\r\n            var asset = {\r\n                name: '新建文件夹',\r\n                type: 'folder',\r\n                source: true,\r\n                preload: false,\r\n                data: null,\r\n                parent: (args.parent !== undefined) ? args.parent : editor.call('assets:panel:currentFolder'),\r\n                scope: {\r\n                    type: 'project',\r\n                    id: Config.projectID\r\n                },\r\n                path: path.join(',')\r\n            };\r\n\r\n            console.log(asset);\r\n\r\n            editor.call('assets:create', asset);\r\n        });\r\n    }\r\n\r\n}","import { Observer } from '../../lib';\r\nimport { Config } from '../global';\r\n\r\nexport class AssetsCreateTable {\r\n\r\n\r\n    public constructor() {\r\n        editor.method('assets:create:table', function (args: any) {\r\n\r\n            if(Config.tableAssetsID !== '') {\r\n                console.warn('抱歉，暂时只允许创建一个表格！');\r\n                return;\r\n            }\r\n            // if (!editor.call('permissions:write'))\r\n            //     return;\r\n            args = args || {};\r\n\r\n            var path: string[] = [];\r\n            var currentFolder = editor.call('assets:panel:currentFolder');\r\n\r\n            if (currentFolder && currentFolder.get)\r\n                path = currentFolder.get('path').concat(currentFolder.get('id'));\r\n\r\n            var asset = {\r\n                name: '新表格.table',\r\n                type: 'table',\r\n                source: false,\r\n                preload: false,\r\n                parent: (args.parent !== undefined) ? args.parent : editor.call('assets:panel:currentFolder'),\r\n                filename: '新表格.table',\r\n                // file: new Blob(['{ }'], { type: 'application/json' }),\r\n                scope: {\r\n                    type: 'project',\r\n                    id: Config.projectID\r\n                },\r\n                path: path.join(',')\r\n            };\r\n\r\n            // console.warn('创建表格');\r\n\r\n            editor.call('assets:create', asset);\r\n        });\r\n\r\n        // TODO: 简单处理\r\n        editor.method('assets:open-table', (table_name: string) => {\r\n            // console.log(table_name);\r\n            window.open(window.location.protocol + '//' + window.location.host + '/table/' + Config.projectID + '?name=' + table_name + '&id=' + Config.tableAssetsID);\r\n        });\r\n\r\n        editor.on('assets:add', function (asset: Observer) {\r\n            if(asset.get('type') === 'table') {\r\n                Config.tableAssetsID = asset.get('id');\r\n                console.log('设置表格ID：' + Config.tableAssetsID);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}","export class AssetsDrop {\r\n\r\n    public constructor() {\r\n\r\n        var assetsPanel = editor.call('layout.assets');\r\n\r\n        var dropRef = editor.call('drop:target', {\r\n            ref: assetsPanel.element,\r\n            type: 'files',\r\n            drop: function (type: string, data: any) {\r\n                if (type !== 'files')\r\n                    return;\r\n                editor.call('assets:upload:files', data);\r\n            }\r\n        });\r\n\r\n        dropRef.element.classList.add('assets-drop-area');\r\n    }\r\n\r\n}","import { Observer } from \"../../lib\";\r\nimport { VeryEngine } from \"../../engine\";\r\nimport { Panel, SelectField, Tooltip, TextField } from \"../../ui\";\r\n\r\nexport class AssetsFilter {\r\n    public constructor() {\r\n\r\n        var root = VeryEngine.root;\r\n        var assetsPanel = VeryEngine.assets;\r\n        // var legacyScripts = editor.call('settings:project').get('useLegacyScripts');\r\n        var legacyScripts = false;\r\n        var currentFolder: any = null;\r\n        var currentPath: any = [];\r\n\r\n        var searchLastValue = '';\r\n        var searchTags: any = null;\r\n\r\n        // filters\r\n        var panelFilters = new Panel();\r\n        panelFilters.class!.add('filters');\r\n        assetsPanel.header.append(panelFilters);\r\n\r\n        var tagsCheck = function (asset: Observer, tags: string[]) {\r\n            var data = asset.get('tags');\r\n\r\n            if (!data.length)\r\n                return false;\r\n\r\n            // tags = pc.Tags.prototype._processArguments(tags);\r\n\r\n            if (!data.length || !tags.length)\r\n                return false;\r\n\r\n            for (var i = 0; i < tags.length; i++) {\r\n                if (tags[i].length === 1) {\r\n                    // single occurance\r\n                    if (data.indexOf(tags[i][0]) !== -1)\r\n                        return true;\r\n                } else {\r\n                    // combined occurance\r\n                    var multiple = true;\r\n\r\n                    for (var t = 0; t < tags[i].length; t++) {\r\n                        if (data.indexOf(tags[i][t]) !== -1)\r\n                            continue;\r\n\r\n                        multiple = false;\r\n                        break;\r\n                    }\r\n\r\n                    if (multiple)\r\n                        return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n        var filter = function (type: string, item: Observer) {\r\n            if (!item)\r\n                return false;\r\n\r\n            var visible = true;\r\n\r\n            // type\r\n            if (visible && filterField.value !== 'all') {\r\n                if (type === 'asset') {\r\n                    var assetType = item.get('type');\r\n\r\n                    if (assetType === 'texture') {\r\n                        if (item.get('source')) {\r\n                            assetType = 'textureSource';\r\n                        } else {\r\n                            assetType = 'textureTarget';\r\n                        }\r\n                    } else if (assetType === 'textureatlas') {\r\n                        if (item.get('source')) {\r\n                            assetType = 'textureAtlasSource';\r\n                        } else {\r\n                            assetType = 'textureAtlasTarget';\r\n                        }\r\n                    } else if (assetType === 'font') {\r\n                        if (item.get('source')) {\r\n                            assetType = 'fontSource';\r\n                        } else {\r\n                            assetType = 'fontTarget';\r\n                        }\r\n                    }\r\n\r\n                    visible = assetType === filterField.value;\r\n                } else if (type === 'script') {\r\n                    visible = filterField.value === 'script';\r\n                }\r\n            }\r\n\r\n            // query\r\n            if (visible && search.value) {\r\n                var name = (type === 'scripts') ? item : item.get(type === 'asset' ? 'name' : 'filename');\r\n                var normalSearch = true;\r\n\r\n                if (searchTags !== false && ((searchTags instanceof Array) || (search.value[0] === '[' && search.value.length > 2 && /^\\[.+\\]$/.test(search.value)))) {\r\n                    if (searchTags === null) {\r\n                        try {\r\n                            var raw = search.value.slice(1, -1);\r\n                            var bits = raw.split(',');\r\n                            var tags = [];\r\n                            var merge = '';\r\n\r\n                            for (var i = 0; i < bits.length; i++) {\r\n                                var tag = bits[i].trim();\r\n                                if (!tag) continue;\r\n\r\n                                if ((tag[0] === '[' && tag[tag.length - 1] !== ']') || (merge && tag[tag.length - 1] !== ']')) {\r\n                                    merge += tag + ',';\r\n                                    continue;\r\n                                }\r\n\r\n                                if (merge && tag[tag.length - 1] === ']') {\r\n                                    tag = merge + tag;\r\n                                    merge = '';\r\n                                }\r\n\r\n                                if (tag[0] === '[' && tag.length > 2 && tag[tag.length - 1] === ']') {\r\n                                    var subRaw = tag.slice(1, -1);\r\n                                    var subBits = subRaw.split(',');\r\n                                    if (subBits.length === 1) {\r\n                                        var subTag = subBits[0].trim();\r\n                                        if (!subTag) continue;\r\n                                        tags.push(subTag);\r\n                                    } else {\r\n                                        var subTags = [];\r\n                                        for (var s = 0; s < subBits.length; s++) {\r\n                                            var subTag = subBits[s].trim();\r\n                                            if (!subTag) continue;\r\n                                            subTags.push(subTag);\r\n                                        }\r\n\r\n                                        if (subTags.length === 0) {\r\n                                            continue;\r\n                                        } else if (subTags.length === 1) {\r\n                                            tags.push(subTags[0]);\r\n                                        } else {\r\n                                            tags.push(subTags);\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    tags.push(tag);\r\n                                }\r\n                            }\r\n\r\n                            searchTags = tags;\r\n                            normalSearch = false;\r\n                        } catch (ex) {\r\n                            searchTags = false;\r\n                        }\r\n                    } else {\r\n                        normalSearch = false;\r\n                    }\r\n\r\n                    if (searchTags) {\r\n                        if (type === 'scripts' || (type === 'script' && legacyScripts)) {\r\n                            visible = false;\r\n                        } else {\r\n                            visible = tagsCheck(item, searchTags);\r\n                        }\r\n                    } else {\r\n                        normalSearch = true;\r\n                    }\r\n                } else if (search.value[0] === '*' && search.value.length > 1) {\r\n                    try {\r\n                        visible = (new RegExp(search.value.slice(1), 'i')).test(name);\r\n                        normalSearch = false;\r\n                    } catch (ex) { }\r\n                }\r\n\r\n                if (normalSearch) {\r\n                    visible = name.toLowerCase().indexOf(search.value.toLowerCase()) !== -1;\r\n\r\n                    if (!visible && type === 'asset') {\r\n                        var id = parseInt(search.value, 10);\r\n                        if (id && id.toString() === search.value)\r\n                            visible = parseInt(item.get('id'), 10) === id;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // folder\r\n            if (visible && !search.value) {\r\n                if (type === 'script' || currentFolder === 'scripts') {\r\n                    visible = currentFolder === 'scripts' && type === 'script';\r\n                } else if (type === 'scripts') {\r\n                    visible = !currentFolder && filterField.value === 'all';\r\n                } else {\r\n                    var path = item.get('path');\r\n                    if (currentFolder === null) {\r\n                        visible = path.length === 0;\r\n                    } else {\r\n                        visible = (path.length === currentPath.length + 1) && path[path.length - 1] === currentFolder;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return visible;\r\n        };\r\n        editor.method('assets:panel:filter:default', function () {\r\n            return filter;\r\n        });\r\n\r\n\r\n        // options\r\n        var filterOptions;\r\n\r\n        if (editor.call('users:hasFlag', 'hasBundles')) {\r\n            filterOptions = {\r\n                options: {\r\n                    all: 'All',\r\n                    animation: 'Animation',\r\n                    audio: 'Audio',\r\n                    bundle: 'Asset Bundle',\r\n                    binary: 'Binary',\r\n                    cubemap: 'Cubemap',\r\n                    css: 'Css',\r\n                    fontTarget: 'Font',\r\n                    fontSource: 'Font (source)',\r\n                    json: 'Json',\r\n                    html: 'Html',\r\n                    material: 'Material',\r\n                    model: 'Model',\r\n                    scene: 'Model (source)',\r\n                    script: 'Script',\r\n                    shader: 'Shader',\r\n                    sprite: 'Sprite',\r\n                    text: 'Text',\r\n                    textureTarget: 'Texture',\r\n                    textureSource: 'Texture (source)',\r\n                    textureAtlasTarget: 'Texture Atlas',\r\n                    textureAtlasSource: 'Texture Atlas (source)'\r\n                }\r\n            };\r\n        } else {\r\n            filterOptions = {\r\n                options: {\r\n                    all: 'All',\r\n                    animation: 'Animation',\r\n                    audio: 'Audio',\r\n                    binary: 'Binary',\r\n                    cubemap: 'Cubemap',\r\n                    css: 'Css',\r\n                    fontTarget: 'Font',\r\n                    fontSource: 'Font (source)',\r\n                    json: 'Json',\r\n                    html: 'Html',\r\n                    material: 'Material',\r\n                    model: 'Model',\r\n                    scene: 'Model (source)',\r\n                    script: 'Script',\r\n                    shader: 'Shader',\r\n                    sprite: 'Sprite',\r\n                    text: 'Text',\r\n                    textureTarget: 'Texture',\r\n                    textureSource: 'Texture (source)',\r\n                    textureAtlasTarget: 'Texture Atlas',\r\n                    textureAtlasSource: 'Texture Atlas (source)'\r\n                }\r\n            };\r\n        }\r\n\r\n        var filterField = new SelectField(filterOptions);\r\n\r\n        filterField.class!.add('options');\r\n        filterField.value = 'all';\r\n        filterField.renderChanges = false;\r\n        panelFilters.append(filterField);\r\n\r\n        filterField.on('change', function (value: string) {\r\n            if (value !== 'all') {\r\n                filterField.class!.add('not-empty');\r\n            } else {\r\n                filterField.class!.remove('not-empty');\r\n            }\r\n            editor.call('assets:panel:filter', filter);\r\n        });\r\n\r\n        var tooltipFilter = Tooltip.attach({\r\n            target: filterField.element!,\r\n            text: 'Filter Assets',\r\n            align: 'bottom',\r\n            root: root\r\n        });\r\n        filterField.on('open', function () {\r\n            tooltipFilter.disabled = true;\r\n        });\r\n        filterField.on('close', function () {\r\n            tooltipFilter.disabled = false;\r\n        });\r\n\r\n        editor.method('assets:filter:search', function (query?: string) {\r\n            if (query === undefined)\r\n                return search.value;\r\n            search.value = query;\r\n            return search.value;\r\n        });\r\n\r\n        editor.method('assets:filter:type', function (type?: string) {\r\n            if (type === undefined)\r\n                return filterField.value;\r\n\r\n            filterField.value = type || 'all';\r\n        });\r\n\r\n        editor.method('assets:filter:type:disabled', function (state: boolean) {\r\n            filterField.disabled = state;\r\n        });\r\n\r\n        editor.on('assets:panel:currentFolder', function (asset?: Observer | string) {\r\n            if (asset) {\r\n                if (typeof (asset) === 'string') {\r\n                    if (legacyScripts) {\r\n                        currentFolder = 'scripts';\r\n                    } else {\r\n                        currentFolder = null;\r\n                    }\r\n                    currentPath = null;\r\n                } else {\r\n                    currentFolder = asset.get('id');\r\n                    // currentFolder = parseInt(asset.get('id'));\r\n                    currentPath = asset.get('path');\r\n                }\r\n            } else {\r\n                currentFolder = null;\r\n                currentPath = null;\r\n            }\r\n\r\n\r\n            editor.call('assets:panel:filter', filter, true);\r\n        });\r\n\r\n        editor.on('assets:add', function (asset: Observer) {\r\n            if (filterField.value === 'all' && !search.value)\r\n                return;\r\n\r\n            if (!filter((asset.get('type') === 'script') ? 'script' : 'asset', asset))\r\n                editor.call('assets:panel:get', asset.get('id')).hidden = true;\r\n            else\r\n                editor.call('assets:panel:message', null); // clear possible no assets message\r\n        });\r\n\r\n        editor.on('sourcefiles:add', function (file: Observer) {\r\n            if (filterField.value === 'all' && !search.value)\r\n                return;\r\n\r\n            if (!filter('script', file))\r\n                editor.call('assets:panel:get', file.get('filename')).hidden = true;\r\n            else\r\n                editor.call('assets:panel:message', null); // clear possible no assets message\r\n\r\n        });\r\n\r\n        // search\r\n        var search = new TextField('搜索');\r\n        search.blurOnEnter = false;\r\n        search.keyChange = true;\r\n        search.class!.add('search');\r\n        search.renderChanges = false;\r\n        panelFilters.append(search);\r\n\r\n        search.element!.addEventListener('keydown', function (evt) {\r\n            if (evt.keyCode === 27)\r\n                searchClear.click();\r\n        }, false);\r\n\r\n        // hotkeys\r\n        editor.call('hotkey:register', 'assets-focus-search', {\r\n            key: 'a',\r\n            alt: true,\r\n            callback: function (e: any) {\r\n                if (editor.call('picker:isOpen:otherThan', 'curve')) return;\r\n                search.focus();\r\n            }\r\n        });\r\n\r\n        var searchClear = document.createElement('div');\r\n        searchClear.innerHTML = '&#57650;';\r\n        searchClear.classList.add('clear');\r\n        search.element!.appendChild(searchClear);\r\n\r\n        searchClear.addEventListener('click', function () {\r\n            search.value = '';\r\n        }, false);\r\n\r\n        search.on('change', function (value: string) {\r\n            value = value.trim();\r\n\r\n            if (searchLastValue === value)\r\n                return;\r\n\r\n            searchLastValue = value;\r\n\r\n            if (value) {\r\n                search.class!.add('not-empty');\r\n            } else {\r\n                search.class!.remove('not-empty');\r\n            }\r\n\r\n            searchTags = null;\r\n\r\n            editor.call('assets:panel:filter', filter);\r\n        });\r\n\r\n    }\r\n}","import { Observer } from '../../lib';\r\nimport { Config } from '../global';\r\nimport { AjaxRequest, Ajax } from '../utility';\r\n\r\nexport class AssetsFs {\r\n\r\n    public constructor() {\r\n\r\n        var getIds = function (assets: Observer[]) {\r\n            if (!(assets instanceof Array))\r\n                assets = [assets];\r\n\r\n            var ids = [];\r\n            for (var i = 0; i < assets.length; i++)\r\n                ids.push(assets[i].get('id'));\r\n\r\n            return ids;\r\n        };\r\n\r\n        editor.method('assets:fs:delete', function (assets: Observer[]) {\r\n            editor.call('realtime:send', 'fs', {\r\n                op: 'delete',\r\n                ids: getIds(assets)\r\n            });\r\n        });\r\n\r\n        editor.method('assets:fs:move', function (assets: Observer[], assetTo: Observer) {\r\n            console.warn('assets:fs:move');\r\n            console.warn(assets);\r\n            console.warn(assetTo);\r\n            let ids = getIds(assets);\r\n            let to = assetTo ? assetTo.get('id') : '';\r\n            editor.call('realtime:send', 'fs', {\r\n                op: 'move',\r\n                ids: ids,\r\n                to: to\r\n            });\r\n\r\n            var form = new FormData();\r\n            form.append('move', ids.join(','));\r\n            // form.append('from', ids);\r\n            form.append('to', to);\r\n            form.append('projectID', Config.projectID);\r\n            (<AjaxRequest>new Ajax({\r\n                url: '/api/upload/assets/' + ids[0],\r\n                auth: true,\r\n                data: form,\r\n                method: 'PUT',\r\n                ignoreContentType: true,\r\n                notJson: true\r\n            }))\r\n                .on('load', (status: any, data: any) => {\r\n                    // console.log('status: ' + status);\r\n                    data = JSON.parse(data);\r\n                    // console.log(data);\r\n                    // console.log(data.code);\r\n                    if (data.code === '0000') {\r\n                        // TODO: 不够通用\r\n                        console.log(data.data);\r\n                        let keys = Object.keys(data.data);\r\n                        for (let i = 0, len = keys.length; i < len; i++) {\r\n                            let asset = editor.call('assets:get', keys[i]);\r\n                            console.warn(asset);\r\n                            if (asset) {\r\n                                asset.set('path', data.data[keys[i]]);\r\n                            }\r\n                        }\r\n\r\n                        // let asset = editor.call('assets:get', data.data.id);\r\n                        // // console.log(asset);\r\n                        // if (asset) {\r\n                        //     asset.set('name', data.data.name);\r\n                        // }\r\n                        // var asset = new Observer(data.data);\r\n                        // editor.call('assets:add', asset);\r\n                    }\r\n                });\r\n        });\r\n\r\n        editor.method('assets:fs:duplicate', function (assets: Observer[]) {\r\n            editor.call('realtime:send', 'fs', {\r\n                op: 'duplicate',\r\n                ids: getIds(assets)\r\n            });\r\n        });\r\n    }\r\n\r\n}","import { Tooltip, Menu, Panel, Button, MenuItem } from \"../../ui\";\r\nimport { VeryEngine } from \"../../engine\";\r\n\r\nexport class AssetsPanelControl {\r\n\r\n    public constructor() {\r\n\r\n        var root = VeryEngine.root;\r\n        var assetsPanel = VeryEngine.assets;\r\n\r\n        // context menu\r\n        var menu = new Menu();\r\n        root.append(menu);\r\n\r\n        // var assets: any = {\r\n        //     'upload': {\r\n        //         title: '上传',\r\n        //         icon: '&#57909;'\r\n        //     },\r\n        //     'folder': {\r\n        //         title: '新建文件夹',\r\n        //         icon: '&#57657;'\r\n        //     },\r\n        //     'css': {\r\n        //         title: '表格',\r\n        //         icon: '&#57864;'\r\n        //     },\r\n        //     'cubemap': {\r\n        //         title: 'CubeMap',\r\n        //         icon: '&#57879;'\r\n        //     },\r\n        //     'html': {\r\n        //         title: 'HTML',\r\n        //         icon: '&#57864;'\r\n        //     },\r\n        //     'json': {\r\n        //         title: 'JSON',\r\n        //         icon: '&#57864;'\r\n        //     },\r\n        //     'material': {\r\n        //         title: '材质',\r\n        //         icon: '&#57749;'\r\n        //     },\r\n        //     'script': {\r\n        //         title: 'Script',\r\n        //         icon: '&#57864;'\r\n        //     },\r\n        //     'shader': {\r\n        //         title: 'Shader',\r\n        //         icon: '&#57864;'\r\n        //     },\r\n        //     'text': {\r\n        //         title: 'Text',\r\n        //         icon: '&#57864;'\r\n        //     }\r\n        // };\r\n\r\n        var assets: any = {\r\n            'upload': {\r\n                title: '上传',\r\n                icon: '&#57909;'\r\n            },\r\n            'folder': {\r\n                title: '新建文件夹',\r\n                icon: '&#57657;'\r\n            },\r\n            'table': {\r\n                title: '表格',\r\n                icon: '&#57864;'\r\n            },\r\n            'material': {\r\n                title: '材质',\r\n                icon: '&#57749;'\r\n            }\r\n        };\r\n\r\n        // if (editor.call('users:hasFlag', 'hasBundles')) {\r\n        //     assets.bundle = {\r\n        //         title: 'Asset Bundle',\r\n        //         icon: '&#58384;'\r\n        //     };\r\n        // }\r\n\r\n        var addNewMenuItem = function (key: string, data: any) {\r\n            // new folder\r\n            var item = new MenuItem({\r\n                text: data.title,\r\n                icon: data.icon || '',\r\n                value: key\r\n            });\r\n            item.on('select', function () {\r\n                var args = {\r\n                    parent: editor.call('assets:panel:currentFolder')\r\n                };\r\n\r\n                if (key === 'upload') {\r\n                    editor.call('assets:upload:picker', args);\r\n                } else if (key === 'script') {\r\n                    if (editor.call('settings:project').get('useLegacyScripts')) {\r\n                        editor.call('sourcefiles:new');\r\n                    } else {\r\n                        editor.call('picker:script-create', function (filename: string) {\r\n                            editor.call('assets:create:script', {\r\n                                filename: filename,\r\n                                boilerplate: true\r\n                            });\r\n                        });\r\n                    }\r\n                } else {\r\n                    // console.log('assets:create:' + key);\r\n                    // console.log(args);\r\n                    editor.call('assets:create:' + key, args)\r\n                }\r\n            });\r\n            menu.append(item);\r\n\r\n            if (key === 'script') {\r\n                editor.on('repositories:load', function (repositories: any) {\r\n                    if (repositories.get('current') !== 'directory')\r\n                        item.disabled = true;\r\n                });\r\n            }\r\n        };\r\n\r\n        var keys = Object.keys(assets);\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!assets.hasOwnProperty(keys[i]))\r\n                continue;\r\n\r\n            addNewMenuItem(keys[i], assets[keys[i]]);\r\n        }\r\n\r\n        // controls\r\n        var controls = new Panel();\r\n        // controls.enabled = false;\r\n        controls.class!.add('assets-controls');\r\n        // controls.parent = assetsPanel;\r\n        // assetsPanel.headerElement!.insertBefore(controls.element!, assetsPanel.headerElementTitle!.nextSibling);\r\n        assetsPanel.header.append(controls);\r\n        editor.on('permissions:writeState', function (state: boolean) {\r\n            controls.enabled = state;\r\n        });\r\n\r\n\r\n        // add\r\n        var btnNew = new Button();\r\n        // btnNew.hidden = !editor.call('permissions:write');\r\n        btnNew.class!.add('create-asset');\r\n        btnNew.text = '&#57632;';\r\n        btnNew.on('click', function (evt: MouseEvent) {\r\n            var rect = btnNew.element!.getBoundingClientRect();\r\n            menu.position(rect.right, rect.top);\r\n            menu.open = true;\r\n        });\r\n        controls.append(btnNew);\r\n\r\n        var tooltipAdd = Tooltip.attach({\r\n            target: btnNew.element!,\r\n            text: '添加资源',\r\n            align: 'bottom',\r\n            root: root\r\n        });\r\n        menu.on('open', function (state: boolean) {\r\n            tooltipAdd.disabled = state;\r\n        });\r\n\r\n        // delete\r\n        var btnDelete = new Button('&#57636;');\r\n        // btnDelete.hidden = !editor.call('permissions:write');\r\n        btnDelete.style!.fontWeight = '200';\r\n        btnDelete.disabled = true;\r\n        btnDelete.class!.add('delete');\r\n        btnDelete.on('click', function () {\r\n            if (!editor.call('permissions:write'))\r\n                return;\r\n\r\n            var type = editor.call('selector:type');\r\n            if (type !== 'asset')\r\n                return;\r\n\r\n            editor.call('assets:delete:picker', editor.call('selector:items'));\r\n        });\r\n        controls.append(btnDelete);\r\n\r\n        var tooltipDelete = Tooltip.attach({\r\n            target: btnDelete.element!,\r\n            text: '删除资源',\r\n            align: 'bottom',\r\n            root: root\r\n        });\r\n        tooltipDelete.class!.add('innactive');\r\n\r\n        editor.on('permissions:writeState', function (state: boolean) {\r\n            btnNew.hidden = !state;\r\n            btnDelete.hidden = !state;\r\n        });\r\n\r\n\r\n        // folder up\r\n        var btnUp = new Button('&#58117;');\r\n        btnUp.style!.fontWeight = '200';\r\n        btnUp.disabled = true;\r\n        btnUp.class!.add('up');\r\n        btnUp.on('click', function () {\r\n            var folder = editor.call('assets:panel:currentFolder');\r\n            if (!folder) return;\r\n\r\n            if (folder === 'scripts') {\r\n                editor.call('assets:panel:currentFolder', null);\r\n            } else {\r\n                var path = folder.get('path');\r\n                if (path.length) {\r\n                    var parent = editor.call('assets:get', path[path.length - 1]);\r\n                    if (parent) {\r\n                        editor.call('assets:panel:currentFolder', parent);\r\n                    } else {\r\n                        editor.call('assets:panel:currentFolder', null);\r\n                    }\r\n                } else {\r\n                    editor.call('assets:panel:currentFolder', null);\r\n                }\r\n            }\r\n        });\r\n        controls.append(btnUp);\r\n\r\n        editor.on('assets:panel:currentFolder', function (folder: any) {\r\n            if (folder) {\r\n                btnUp.disabled = false;\r\n                tooltipUp.class!.remove('innactive');\r\n            } else {\r\n                btnUp.disabled = true;\r\n                tooltipUp.class!.add('innactive');\r\n            }\r\n        });\r\n\r\n        var tooltipUp = Tooltip.attach({\r\n            target: btnUp.element!,\r\n            text: '上一层',\r\n            align: 'bottom',\r\n            root: root\r\n        });\r\n        tooltipUp.class!.add('innactive');\r\n\r\n\r\n        var assetsGrid = VeryEngine.assetsGrid;\r\n\r\n        // thumbnails size\r\n        var btnThumbSize = new Button('&#57669;');\r\n        btnThumbSize.style!.fontWeight = '200';\r\n        btnThumbSize.class!.add('size');\r\n        btnThumbSize.on('click', function () {\r\n            if (assetsGrid.class!.contains('small')) {\r\n                assetsGrid.class!.remove('small');\r\n                tooltipThumbSize.html = '<span style=\"color:#fff\">大图标</span> / 小图标';\r\n                editor.call('localStorage:set', 'editor:assets:thumbnail:size', 'large');\r\n            } else {\r\n                assetsGrid.class!.add('small');\r\n                tooltipThumbSize.html = '大图标 / <span style=\"color:#fff\">小图标</span>';\r\n                editor.call('localStorage:set', 'editor:assets:thumbnail:size', 'small');\r\n            }\r\n        });\r\n        controls.append(btnThumbSize);\r\n\r\n        var tooltipThumbSize = Tooltip.attach({\r\n            target: btnThumbSize.element!,\r\n            align: 'bottom',\r\n            root: root\r\n        });\r\n\r\n        var size = editor.call('localStorage:get', 'editor:assets:thumbnail:size');\r\n\r\n        if (size === 'small') {\r\n            assetsGrid.class!.add('small');\r\n            tooltipThumbSize.html = '大图标 / <span style=\"color:#fff\">小图标</span>';\r\n        } else {\r\n            assetsGrid.class!.remove('small');\r\n            tooltipThumbSize.html = '<span style=\"color:#fff\">大图标</span> / 小图标';\r\n        }\r\n        tooltipThumbSize.class!.add('innactive');\r\n\r\n\r\n        editor.on('attributes:clear', function () {\r\n            // btnDuplicate.disabled = true;\r\n            btnDelete.disabled = true;\r\n            tooltipDelete.class!.add('innactive');\r\n        });\r\n\r\n        editor.on('attributes:inspect[*]', function (type: string) {\r\n            if (type.startsWith('asset')) {\r\n                btnDelete.enabled = true;\r\n                tooltipDelete.class!.remove('innactive');\r\n            } else {\r\n                btnDelete.enabled = false;\r\n                tooltipDelete.class!.add('innactive');\r\n            }\r\n            // btnDuplicate.enabled = type === 'asset.material';\r\n        });\r\n\r\n        \r\n\r\n    }\r\n\r\n}","import { Panel, Progress, Tree, TreeItem, Grid, Label, Tooltip, GridItem, Menu, MenuItem, TopElementContainer, TopElementPanel } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\nimport { Observer, ObserverList } from '../../lib';\r\nimport { Tools } from '../utility';\r\nimport { BabylonLoader } from '../middleware/loader/babylonLoader';\r\n\r\nexport class AssetsPanel {\r\n\r\n    public constructor() {\r\n\r\n        let self = this;\r\n\r\n        var root: TopElementContainer = VeryEngine.root;\r\n        var assetsPanel: TopElementPanel = VeryEngine.assets;\r\n        var dragging: boolean = false;\r\n        var draggingData: any = {};\r\n\r\n\r\n        var legacyScripts: boolean = false;\r\n        var selector = {\r\n            type: '',\r\n            items: new Array<Observer>(),\r\n            prev: {\r\n                type: '',\r\n                items: new Array<Observer>()\r\n            }\r\n        };\r\n        var searching = false;\r\n\r\n\r\n        let overlay: TopElementContainer = new TopElementContainer({\r\n            flex: true\r\n        });\r\n        overlay.class!.add('progress-overlay');\r\n        assetsPanel.append(overlay);\r\n\r\n        var loading = new Progress();\r\n        loading.progress = 0.01;\r\n        loading.on('progress:100', function () {\r\n            overlay.hidden = true;\r\n        });\r\n        overlay.append(loading);\r\n        // TODO：隐藏\r\n        overlay.hidden = true;\r\n\r\n        editor.method('assets:progress', function (progress: number) {\r\n            loading.progress = progress;\r\n        });\r\n\r\n        // folders panel\r\n        var folders = new Panel();\r\n        folders.class!.add('folders');\r\n        folders.flexShrink = '0';\r\n        folders.style!.width = '200px';\r\n        folders.innerElement!.style.width = '200px';\r\n        folders.foldable = false;\r\n        folders.horizontal = true;\r\n        folders.scroll = true;\r\n        folders.resizable = 'right';\r\n        folders.resizeMin = 100;\r\n        folders.resizeMax = 300;\r\n        assetsPanel.append(folders);\r\n\r\n        editor.method('assets:panel:folders', function () {\r\n            return folders;\r\n        });\r\n\r\n        // folder\r\n        var files = new Panel();\r\n        files.class!.add('files');\r\n        files.flexGrow = '1';\r\n        files.foldable = false;\r\n        files.horizontal = true;\r\n        files.scroll = true;\r\n        assetsPanel.append(files);\r\n\r\n\r\n        // grid\r\n        var grid = new Grid();\r\n        // grid.enabled = false;\r\n        grid.class!.add('assets');\r\n        files.append(grid);\r\n        VeryEngine.assetsGrid = grid;\r\n\r\n        // tree\r\n        var tree = new Tree();\r\n        // tree.enabled = false;\r\n        tree.draggable = false;\r\n        tree.class!.add('assets');\r\n        folders.append(tree);\r\n\r\n        // tree root，Assets根目录\r\n        var treeRoot = new TreeItem({\r\n            text: '/'\r\n        });\r\n        tree.append(treeRoot);\r\n        // tree.element!.appendChild(treeRoot.element!);\r\n        // tree.emit('append', treeRoot);\r\n        treeRoot.open = true;\r\n        treeRoot.class!.add('current');\r\n        treeRoot.on('select', function () {\r\n            treeRoot.selected = false;\r\n        });\r\n\r\n        // tree width resizing\r\n        var resizeQueued = false;\r\n        var resizeTree = function () {\r\n            resizeQueued = false;\r\n            tree.element!.style.width = '';\r\n            tree.element!.style.width = (folders.innerElement!.scrollWidth - 5) + 'px';\r\n        };\r\n        var resizeQueue = function () {\r\n            if (resizeQueued) return;\r\n            resizeQueued = true;\r\n            requestAnimationFrame(resizeTree);\r\n        };\r\n        folders.on('resize', resizeQueue);\r\n        tree.on('open', resizeQueue);\r\n        tree.on('close', resizeQueue);\r\n        setInterval(resizeQueue, 1000);\r\n\r\n        var gridScripts: GridItem;\r\n        var treeScripts: TreeItem;\r\n        var createLegacyScriptFolder = function () {\r\n            gridScripts = new GridItem();\r\n            gridScripts.class!.add('type-folder', 'scripts');\r\n            grid.append(gridScripts);\r\n\r\n            gridScripts.tree = treeScripts = new TreeItem({\r\n                text: 'scripts'\r\n            });\r\n            gridScripts.tree.class!.add('scripts');\r\n            gridScripts.tree.on('select', function () {\r\n                gridScripts.tree.selected = false;\r\n            });\r\n            treeRoot.append(gridScripts.tree);\r\n\r\n            gridScripts.on('select', function () {\r\n                editor.call('selector:clear');\r\n\r\n                if (!selector.type) {\r\n                    selector.prev.type = '';\r\n                    selector.prev.items = [];\r\n                }\r\n            });\r\n\r\n            // scripts open\r\n            gridScripts.element!.addEventListener('dblclick', function () {\r\n                tree.clear();\r\n                editor.call('assets:filter:search', '');\r\n                editor.call('assets:panel:currentFolder', 'scripts');\r\n                // change back selection\r\n\r\n                if (selector.prev.type)\r\n                    editor.call('selector:set', selector.prev.type, selector.prev.items);\r\n            }, false);\r\n\r\n            var thumbnail = gridScripts.thumbnail = document.createElement('div');\r\n            thumbnail.classList.add('thumbnail', 'placeholder');\r\n            gridScripts.element!.appendChild(thumbnail);\r\n\r\n            var icon = document.createElement('div');\r\n            icon.classList.add('icon');\r\n            gridScripts.element!.appendChild(icon);\r\n\r\n            var label = gridScripts.labelElement = document.createElement('div');\r\n            label.classList.add('label');\r\n            label.textContent = 'scripts';\r\n            gridScripts.element!.appendChild(label);\r\n\r\n            // context menu\r\n            var menu = new Menu();\r\n            root.append(menu);\r\n\r\n            // script\r\n            var menuScript = new MenuItem({\r\n                text: 'New Script',\r\n                value: 'script',\r\n                icon: '&#57864;'\r\n            });\r\n            menuScript.on('select', function () {\r\n                editor.call('sourcefiles:new');\r\n            });\r\n            menu.append(menuScript);\r\n\r\n            editor.on('repositories:load', function (repositories: Observer) {\r\n                if (repositories.get('current') !== 'directory')\r\n                    menuScript.disabled = true;\r\n            });\r\n            var onContextMenu = function (evt: MouseEvent) {\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n\r\n                // if (!editor.call('permissions:write'))\r\n                //     return;\r\n\r\n                menu.position(evt.clientX + 1, evt.clientY);\r\n                menu.open = true;\r\n            };\r\n            gridScripts.element!.addEventListener('contextmenu', onContextMenu, false);\r\n            treeScripts.elementTitle.addEventListener('contextmenu', onContextMenu, false);\r\n\r\n            resizeQueue();\r\n        };\r\n        if (legacyScripts)\r\n            createLegacyScriptFolder();\r\n\r\n\r\n        var currentFolder: Observer | string | null = null;  // assets -> Observer\r\n        editor.method('assets:panel:currentFolder', function (asset: Observer | string | null): Observer | string | null {\r\n            if (asset === undefined)\r\n                return currentFolder;\r\n\r\n            if (asset === currentFolder)\r\n                return null;\r\n\r\n            // current folder style remove\r\n            if (currentFolder && typeof (currentFolder) !== 'string' && assetsIndex[currentFolder.get('id')]) {\r\n                assetsIndex[currentFolder.get('id')].tree.class!.remove('current');\r\n            } else {\r\n                if (currentFolder === null) {\r\n                    treeRoot.class!.remove('current');\r\n                } else if (treeScripts && currentFolder === 'scripts') {\r\n                    treeScripts.class!.remove('current');\r\n                }\r\n            }\r\n\r\n            currentFolder = asset;\r\n\r\n            // current folder style add\r\n            if (currentFolder && typeof (currentFolder) !== 'string') {\r\n                assetsIndex[currentFolder.get('id')].tree.class!.add('current');\r\n\r\n                // open tree up\r\n                var path = currentFolder.get('path');\r\n                for (var i = 0; i < path.length; i++) {\r\n                    if (!assetsIndex[path[i]] || !assetsIndex[path[i]].tree)\r\n                        continue;\r\n\r\n                    assetsIndex[path[i]].tree.open = true;\r\n                }\r\n            } else if (currentFolder === null) {\r\n                treeRoot.class!.add('current');\r\n            } else if (treeScripts && currentFolder === 'scripts') {\r\n                treeScripts.class!.add('current');\r\n                editor.call('assets:filter:type', 'all');\r\n            }\r\n\r\n            if (legacyScripts)\r\n                gridScripts.hidden = currentFolder !== null;\r\n\r\n            editor.emit('assets:panel:currentFolder', currentFolder);\r\n            return currentFolder;\r\n        });\r\n\r\n        editor.call('hotkey:register', 'assets:fs:up', {\r\n            key: 'backspace',\r\n            callback: function () {\r\n                if (!currentFolder || editor.call('selector:type') !== 'asset')\r\n                    return;\r\n\r\n                var path = typeof (currentFolder) === 'string' ? [] : currentFolder.get('path');\r\n                if (path.length === 0) {\r\n                    editor.call('assets:panel:currentFolder', null);\r\n                } else {\r\n                    editor.call('assets:panel:currentFolder', editor.call('assets:get', path[path.length - 1]));\r\n                }\r\n            }\r\n        });\r\n\r\n        editor.on('drop:active', function (state: boolean, type: string, data: any) {\r\n            // console.log('drop:active: ' + state + ' - ' + type + ' - ' + data);\r\n\r\n            dragging = state;\r\n\r\n            if (!dragging) {\r\n                grid.dragOver = undefined;\r\n                gridDropBorder.classList.remove('active');\r\n                treeDropBorder.classList.remove('active');\r\n            }\r\n        });\r\n\r\n        editor.on('drop:set', function (type: string, data: any) {\r\n            draggingData = data;\r\n            // console.warn('drop:set');\r\n            // console.warn(draggingData);\r\n        });\r\n\r\n\r\n\r\n        // IDrop\r\n        var dropRef = editor.call('drop:target', {\r\n            ref: folders.element,\r\n            hole: true,\r\n            passThrough: true,\r\n            filter: function (type: string, data: any) {\r\n                return type.startsWith('asset');\r\n            },\r\n            drop: function (type: string, data: any) {\r\n                console.warn('drop: ' + type);\r\n                // console.warn(data);\r\n                if (!type || grid.dragOver === undefined || !type.startsWith('asset'))\r\n                    return;\r\n\r\n                var items = editor.call('selector:items');\r\n                var assets: any = [];\r\n\r\n                var addAsset = function (id: string) {\r\n                    var asset = editor.call('assets:get', id);\r\n\r\n                    // deselect moved asset\r\n                    if (items.indexOf(asset) !== -1)\r\n                        editor.call('selector:remove', asset);\r\n\r\n                    assets.push(asset);\r\n                };\r\n\r\n                if (data.ids && data.ids.length > 0) {\r\n                    for (var i = 0; i < data.ids.length; i++)\r\n                        addAsset(data.ids[i]);\r\n                } else {\r\n                    addAsset(data.id);\r\n                }\r\n                editor.call('assets:fs:move', assets, grid.dragOver);\r\n            }\r\n        });\r\n        dropRef.element.classList.add('assets-drop-area');\r\n\r\n        var treeAppendQueue: { [key: string]: GridItem[] } = {};\r\n\r\n\r\n\r\n        treeRoot.elementTitle.addEventListener('mouseover', function () {\r\n            if (!dragging || grid.dragOver === null || (!draggingData.id && !draggingData.ids))\r\n                return;\r\n\r\n            // already in that folder\r\n            var dragAsset = editor.call('assets:get', draggingData.id || draggingData.ids[0]);\r\n            if (!dragAsset.get('path').length)\r\n                return;\r\n\r\n            gridDropBorder.classList.remove('active');\r\n\r\n            var rect = treeRoot.elementTitle.getBoundingClientRect();\r\n            treeDropBorder.classList.add('active');\r\n            treeDropBorder.style.left = rect.left + 'px';\r\n            treeDropBorder.style.top = rect.top + 'px';\r\n            treeDropBorder.style.right = (window.innerWidth - rect.right) + 'px';\r\n            treeDropBorder.style.bottom = (window.innerHeight - rect.bottom) + 'px';\r\n\r\n            grid.dragOver = null;\r\n        }, false);\r\n\r\n        treeRoot.elementTitle.addEventListener('mouseout', function () {\r\n            if (!dragging || grid.dragOver === undefined)\r\n                return;\r\n\r\n            gridDropBorder.classList.remove('active');\r\n            treeDropBorder.classList.remove('active');\r\n\r\n            grid.dragOver = undefined;\r\n        }, false);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        var dropRef2 = editor.call('drop:target', {\r\n            ref: files.element,\r\n            hole: true,\r\n            passThrough: true,\r\n            filter: function (type: string, data: any) {\r\n                return type.startsWith('asset');\r\n            },\r\n            drop: function (type: string, data: any) {\r\n\r\n                if (!type || grid.dragOver === undefined || !type.startsWith('asset'))\r\n                    return;\r\n\r\n                console.warn('drop2: ' + type);\r\n                console.warn(data);\r\n                console.log(grid.dragOver);\r\n\r\n                var assets: any = [];\r\n                var items = editor.call('selector:items');\r\n\r\n                // console.warn(items);\r\n\r\n                var addAsset = function (id: string) {\r\n                    var asset = editor.call('assets:get', id);\r\n                    // console.log(asset);\r\n\r\n                    // deselect moved asset\r\n                    if (items.indexOf(asset) !== -1)\r\n                        editor.call('selector:remove', asset);\r\n\r\n                    assets.push(asset);\r\n                };\r\n\r\n                if (data.ids && data.ids.length > 0) {\r\n                    for (var i = 0; i < data.ids.length; i++) {\r\n                        addAsset(data.ids[i]);\r\n                    }\r\n                } else {\r\n                    addAsset(data.id);\r\n                }\r\n\r\n                if (grid.dragOver.get('type') === 'folder') {\r\n                    editor.call('assets:fs:move', assets, grid.dragOver);\r\n                } else if (grid.dragOver.get('type') === 'bundle') {\r\n                    var countAdded = editor.call('assets:bundles:addAssets', assets, grid.dragOver);\r\n                    if (countAdded) {\r\n                        var item = assetsIndex[grid.dragOver.get('id')];\r\n                        item.class!.add('confirm-animation');\r\n                        setTimeout(function () {\r\n                            item.class!.remove('confirm-animation');\r\n                        }, 800);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        dropRef2.element.classList.add('assets-drop-area');\r\n\r\n        editor.on('permissions:writeState', function (state: boolean) {\r\n            tree.enabled = state;\r\n            grid.enabled = state;\r\n        });\r\n\r\n        var labelNoAssets = new Label(undefined, undefined, true);\r\n        labelNoAssets.renderChanges = false;\r\n        labelNoAssets.class!.add('no-assets');\r\n        labelNoAssets.hidden = true;\r\n        files.append(labelNoAssets);\r\n\r\n        editor.method('assets:panel:message', function (msg: string) {\r\n            labelNoAssets.text = msg;\r\n            labelNoAssets.hidden = !msg;\r\n        });\r\n\r\n        var scriptsIndex: { [key: string]: GridItem } = {};\r\n        var assetsIndex: { [key: string]: GridItem } = {};\r\n        var assetsChanged = false;\r\n        // grid.assetsIndex = assetsIndex;\r\n\r\n        var gridDropBorder = document.createElement('div');\r\n        gridDropBorder.classList.add('assets-drop-border');\r\n        root.append(gridDropBorder);\r\n\r\n        var treeDropBorder = document.createElement('div');\r\n        treeDropBorder.classList.add('assets-drop-border');\r\n        root.append(treeDropBorder);\r\n\r\n        var tooltipAsset = new Tooltip({\r\n            text: 'Asset',\r\n            align: 'top',\r\n            hoverable: false\r\n        });\r\n        root.append(tooltipAsset);\r\n\r\n        var tooltipTarget: any = null;\r\n        var tooltipTimeout: any = null;\r\n\r\n        var tooltipShow = function () {\r\n            if (!tooltipTarget)\r\n                return;\r\n\r\n            while (tooltipTarget && tooltipTarget.nodeName !== 'LI' && !tooltipTarget.classList.contains('ui-grid-item'))\r\n                tooltipTarget = tooltipTarget.parentNode;\r\n\r\n            if (!tooltipTarget || !tooltipTarget.ui)\r\n                return;\r\n\r\n            var rect = tooltipTarget.getBoundingClientRect();\r\n            var off = 16;\r\n\r\n            if (rect.width < 64) off = rect.width / 2;\r\n            tooltipAsset.flip = rect.left + off > window.innerWidth / 2;\r\n            if (tooltipAsset.flip) {\r\n                tooltipAsset.position(rect.right - off, rect.bottom);\r\n            } else {\r\n                tooltipAsset.position(rect.left + off, rect.bottom);\r\n            }\r\n\r\n            tooltipAsset.text = tooltipTarget.ui.asset.get('name');\r\n            tooltipAsset.hidden = false;\r\n        };\r\n\r\n        var onAssetItemHover = function (evt: MouseEvent) {\r\n            if (tooltipTimeout) {\r\n                clearTimeout(tooltipTimeout);\r\n                tooltipTimeout = null;\r\n            }\r\n\r\n            tooltipTarget = evt.target;\r\n            tooltipTimeout = setTimeout(tooltipShow, 300);\r\n        };\r\n\r\n        var onAssetItemBlur = function () {\r\n            tooltipAsset.hidden = true;\r\n\r\n            if (tooltipTimeout) {\r\n                clearTimeout(tooltipTimeout);\r\n                tooltipTimeout = null;\r\n            }\r\n        };\r\n\r\n        var onAssetItemRemove = function () {\r\n            // if (!tooltipTarget || !tooltipTarget.ui || tooltipTarget.ui.asset !== this)\r\n            //     return;\r\n\r\n            if (!tooltipTarget || !tooltipTarget.ui)\r\n                return;\r\n\r\n            onAssetItemBlur();\r\n        };\r\n\r\n        grid.innerElement!.addEventListener('mousewheel', function () {\r\n            tooltipAsset.hidden = true;\r\n\r\n            if (tooltipTimeout) {\r\n                clearTimeout(tooltipTimeout);\r\n                tooltipTimeout = null;\r\n            }\r\n        }, false);\r\n\r\n        tree.on('select', function (item: TreeItem) {\r\n            if (assetsChanged)\r\n                return;\r\n\r\n            if (item.asset) {\r\n                if (!Tree._ctrl || !Tree._ctrl()) {\r\n                    if (currentFolder !== item.asset) {\r\n                        item.selected = false;\r\n                    } else {\r\n                        editor.call('selector:set', 'asset', [item.asset]);\r\n                    }\r\n                } else {\r\n                    editor.call('selector:add', 'asset', item.asset);\r\n                }\r\n            }\r\n\r\n            if (!item.asset) {\r\n                if (item === treeRoot) {\r\n                    editor.call('assets:filter:search', '');\r\n                    editor.call('assets:panel:currentFolder', null);\r\n                } else if (item === treeScripts) {\r\n                    editor.call('assets:filter:search', '');\r\n                    editor.call('assets:panel:currentFolder', 'scripts');\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (!Tree._ctrl || !Tree._ctrl()) {\r\n                editor.call('assets:filter:search', '');\r\n                editor.call('assets:panel:currentFolder', item.asset);\r\n            }\r\n        });\r\n\r\n        tree.on('deselect', function (item: TreeItem) {\r\n            if (assetsChanged)\r\n                return;\r\n\r\n            if (item.asset)\r\n                editor.call('selector:remove', item.asset);\r\n        });\r\n\r\n        grid.on('select', function (item: GridItem) {\r\n\r\n            if (assetsChanged)\r\n                return;\r\n\r\n            console.log('grid select');\r\n\r\n            if (item.asset) {\r\n                editor.call('selector:add', 'asset', item.asset);\r\n            }\r\n            // TODO\r\n            // } else if (item.script) {\r\n            //     editor.call('selector:add', 'asset', item.script);\r\n            // }\r\n        });\r\n\r\n        grid.on('deselect', function (item: GridItem) {\r\n\r\n            // console.error('grid deselect');\r\n\r\n            if (assetsChanged)\r\n                return;\r\n\r\n            if (item.asset) {\r\n                // console.error(item);\r\n                // console.error(item.asset);\r\n                editor.call('selector:remove', item.asset);\r\n            }\r\n            // } else if (item.script) {\r\n            //     editor.call('selector:remove', item.script);\r\n            // }\r\n        });\r\n\r\n        editor.on('selector:change', function (type: string, items: Observer[]) {\r\n            assetsChanged = true;\r\n\r\n            selector.prev.type = selector.type;\r\n            selector.prev.items = selector.items;\r\n\r\n            selector.type = editor.call('selector:type');\r\n            selector.items = editor.call('selector:items');\r\n\r\n            // console.error('type: ' + type);\r\n            // console.error(items);\r\n\r\n            if (type === 'asset') {\r\n                tree.clear();\r\n                items = items.slice(0);\r\n                var assets: GridItem[] = [];\r\n\r\n                for (var i = 0; i < items.length; i++) {\r\n                    if (legacyScripts && items[i].get('type') === 'script') {\r\n                        assets.push(scriptsIndex[items[i].get('filename')]);\r\n                    } else {\r\n                        assets.push(assetsIndex[items[i].get('id')]);\r\n                        if (assets[i].tree) {\r\n                            assets[i].tree.selected = true;\r\n\r\n                            // open tree up\r\n                            var path = items[i].get('path');\r\n                            for (var n = 0; n < path.length; n++) {\r\n                                if (!assetsIndex[path[n]] || !assetsIndex[path[n]].tree)\r\n                                    continue;\r\n                                assetsIndex[path[n]].tree.open = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                grid.selected = assets;\r\n            } else {\r\n                if ((legacyScripts && !(gridScripts.selected && grid.selected.length === 1)) || selector.type !== 'asset')\r\n                    grid.selected = [];\r\n\r\n                tree.clear();\r\n            }\r\n\r\n            assetsChanged = false;\r\n        });\r\n\r\n        // return grid\r\n        editor.method('assets:grid', function () {\r\n            return grid;\r\n        });\r\n\r\n        var searchingInProgress = false;\r\n        var searchingElement: any = null;\r\n        var searchingFunction: any = null;\r\n        var searchingBatchLimit = 512;\r\n\r\n        var searchNextBatch = function () {\r\n            var done = 0;\r\n\r\n            while (searchingElement && (searchingBatchLimit === 0 || done < searchingBatchLimit)) {\r\n                var item = searchingElement.ui;\r\n\r\n                if (item) {\r\n                    if (item.asset) {\r\n                        item.hidden = !searchingFunction('asset', item.asset);\r\n                    } else if (item.script) {\r\n                        item.hidden = !searchingFunction('script', item.script);\r\n                    }\r\n                    done++;\r\n                }\r\n\r\n                searchingElement = searchingElement.nextSibling;\r\n            }\r\n\r\n            if (!searchingElement) {\r\n                searchingInProgress = false;\r\n            } else {\r\n                requestAnimationFrame(searchNextBatch);\r\n            }\r\n        };\r\n\r\n        // filter assets in grid\r\n        editor.method('assets:panel:filter', function (fn: Function, immediate: boolean) {\r\n            if (!fn)\r\n                fn = editor.call('assets:panel:filter:default');\r\n\r\n            labelNoAssets.hidden = true;\r\n\r\n            // 获取grid的第一个元素（所有grid的集合）\r\n            searchingElement = grid.element!.firstChild;\r\n            searchingFunction = fn;\r\n\r\n            var type = editor.call('assets:filter:type');\r\n            var search = editor.call('assets:filter:search');\r\n\r\n            if (!search || immediate) {\r\n                searchingBatchLimit = 0;\r\n            } else {\r\n                searchingBatchLimit = 512;\r\n            }\r\n\r\n            if (!searchingInProgress) {\r\n                searchingInProgress = true;\r\n                requestAnimationFrame(searchNextBatch);\r\n            }\r\n\r\n            // navigate to selected assets folder\r\n            if (searching && !search) {\r\n                searching = false;\r\n\r\n                if (selector.type === 'asset') {\r\n                    var script = legacyScripts && selector.items[0].get('type') === 'script';\r\n                    var path = script ? [] : selector.items[0].get('path');\r\n                    var multiPath = false;\r\n                    for (var i = 1; i < selector.items.length; i++) {\r\n                        var item = selector.items[i];\r\n                        if (script !== (item.get('type') === 'script') || (!script && !path.equals(item.get('path')))) {\r\n                            multiPath = true;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!multiPath) {\r\n                        if (path.length) {\r\n                            editor.call('assets:panel:currentFolder', editor.call('assets:get', path[path.length - 1]));\r\n                            assetsIndex[selector.items[0].get('id')].element!.focus();\r\n                        } else if (script) {\r\n                            editor.call('assets:panel:currentFolder', 'scripts');\r\n                        } else {\r\n                            editor.call('assets:panel:currentFolder', null);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (search)\r\n                searching = true;\r\n\r\n            if (legacyScripts)\r\n                gridScripts.hidden = !fn('scripts', 'scripts');\r\n        });\r\n\r\n        // get grid item by id\r\n        editor.method('assets:panel:get', function (id: string) {\r\n            return assetsIndex[id] || scriptsIndex[id];\r\n        });\r\n\r\n        // 插入子文件夹，如果有的话\r\n        var appendChildFolders = function (item: GridItem) {\r\n            var queue = treeAppendQueue[item.asset.get('id')];\r\n            if (!queue || !queue.length)\r\n                return;\r\n\r\n            for (var i = 0; i < queue.length; i++) {\r\n                var closest = treeFindClosest(item.tree, queue[i].tree);\r\n                if (closest === -1) {\r\n                    item.tree!.append(queue[i].tree);\r\n                } else {\r\n                    item.tree!.appendBefore(queue[i].tree, <TreeItem>(item.tree.child(closest).ui));\r\n                }\r\n                appendChildFolders(queue[i]);\r\n            }\r\n\r\n            delete treeAppendQueue[item.asset.get('id')];\r\n        };\r\n\r\n        var treeFindClosest = function (parent: TreeItem, current: TreeItem, nameOld?: string): number {\r\n\r\n            // 文件改变之前的名字\r\n            nameOld = nameOld || current.text;\r\n            // ChildNode -> 当前parent下的其他item\r\n            var l = Array.prototype.slice.call(parent.element!.childNodes, 1);\r\n            // if (item === treeRoot && legacyScripts)\r\n            //   l = l.slice(1);\r\n            // if (parent === treeRoot)\r\n            //     l = l.slice(1);\r\n\r\n            var min = 0;\r\n            var max = l.length - 1;\r\n            var cur: number = -1;\r\n            var a, i;\r\n            var aN: string = '';\r\n            var bN: string = '';\r\n\r\n            if (l.length === 0)  // 当前没有item，直接在末尾插入item\r\n                return -1;\r\n\r\n            // TODO: a没有赋值啊\r\n            if (((a === current) ? nameOld.toLowerCase() : l[0].ui.text.toLowerCase()) === bN)\r\n                return 0;\r\n\r\n            while (min <= max) {\r\n                cur = Math.floor((min + max) / 2); // 二分法\r\n                a = l[cur];\r\n\r\n                aN = (a === current) ? nameOld.toLowerCase() : a.ui.text.toLowerCase();\r\n                bN = current.text.toLowerCase();\r\n\r\n                if (aN > bN) {\r\n                    max = cur - 1;\r\n                } else if (aN < bN) {\r\n                    min = cur + 1;\r\n                } else {\r\n                    return cur;\r\n                }\r\n            }\r\n\r\n            // if (aN.localeCompare(bN) > 0) {\r\n            //     return cur;\r\n            // }\r\n\r\n            if (aN > bN) return cur;\r\n\r\n            if ((cur + 1) === l.length)\r\n                return -1;\r\n\r\n            return cur + 1;\r\n        };\r\n\r\n        // select all hotkey\r\n        // ctrl + a\r\n        editor.call('hotkey:register', 'asset:select-all', {\r\n            ctrl: true,\r\n            key: 'a',\r\n            callback: function () {\r\n                var assets = [];\r\n\r\n                for (var key in assetsIndex) {\r\n                    if (!assetsIndex[key].hidden)\r\n                        assets.push(assetsIndex[key].asset);\r\n                }\r\n\r\n                for (var key in scriptsIndex) {\r\n                    if (!scriptsIndex[key].hidden)\r\n                        assets.push(scriptsIndex[key].script);\r\n                }\r\n\r\n                if (assets.length) {\r\n                    editor.call('selector:set', 'asset', assets);\r\n                } else {\r\n                    editor.call('selector:clear');\r\n                }\r\n            }\r\n        });\r\n\r\n        var renderQueue: any = [];\r\n        var renderQueueIndex: { [key: string]: boolean } = {};\r\n\r\n        var renderQueueUpdate = function () {\r\n            requestAnimationFrame(renderQueueUpdate);\r\n\r\n            if (!renderQueue.length)\r\n                return;\r\n\r\n            var items = 0;\r\n            while (items < 4 && renderQueue.length) {\r\n                items++;\r\n                var id = renderQueue.shift();\r\n                delete renderQueueIndex[id];\r\n\r\n                if (!assetsIndex[id] || !assetsIndex[id].thumbnail || !assetsIndex[id].thumbnail.render)\r\n                    continue;\r\n\r\n                assetsIndex[id].thumbnail.render();\r\n            }\r\n        };\r\n        requestAnimationFrame(renderQueueUpdate);\r\n\r\n        var renderQueueAdd = function (asset: Observer) {\r\n            var id = asset.get('id');\r\n            if (renderQueueIndex[id])\r\n                return;\r\n\r\n            if (!assetsIndex[id] || !assetsIndex[id].thumbnail || !assetsIndex[id].thumbnail.render)\r\n                return;\r\n\r\n            renderQueueIndex[id] = true;\r\n            renderQueue.push(id);\r\n        };\r\n\r\n        var renderQueueRemove = function (asset: Observer) {\r\n            var id = asset.get('id');\r\n            if (!renderQueueIndex[id])\r\n                return;\r\n\r\n            var ind = renderQueue.indexOf(id);\r\n            if (ind !== -1)\r\n                renderQueue.splice(ind, 1);\r\n\r\n            delete renderQueueIndex[id];\r\n        };\r\n\r\n        var showGridDropHighlight = function (item: GridItem) {\r\n            var clip = files.element!.getBoundingClientRect();\r\n            var rect = item.element!.getBoundingClientRect();\r\n            var top = Math.max(rect.top, clip.top);\r\n            var bottom = Math.min(rect.bottom, clip.bottom);\r\n\r\n            if ((bottom - top) > 8) {\r\n                gridDropBorder.classList.add('active');\r\n                gridDropBorder.style.left = rect.left + 'px';\r\n                gridDropBorder.style.top = top + 'px';\r\n                gridDropBorder.style.right = (window.innerWidth - rect.right) + 'px';\r\n                gridDropBorder.style.bottom = (window.innerHeight - bottom) + 'px';\r\n            }\r\n        };\r\n\r\n\r\n        var showTreeDropHighlight = function (item: GridItem) {\r\n            var clip = files.element!.getBoundingClientRect();\r\n            var rect = item.tree!.elementTitle.getBoundingClientRect();\r\n            var top = Math.max(rect.top, clip.top);\r\n            var bottom = Math.min(rect.bottom, clip.bottom);\r\n            if (rect.height && (bottom - top) > 4) {\r\n                treeDropBorder.classList.add('active');\r\n                treeDropBorder.style.left = rect.left + 'px';\r\n                treeDropBorder.style.top = top + 'px';\r\n                treeDropBorder.style.right = (window.innerWidth - rect.right) + 'px';\r\n                treeDropBorder.style.bottom = (window.innerHeight - bottom) + 'px';\r\n            }\r\n        };\r\n\r\n        // Called when a folder asset is added\r\n        var onAddFolder = function (asset: Observer, item: GridItem) {\r\n            item.tree = new TreeItem({\r\n                text: asset.get('name')\r\n            });\r\n            item.tree.asset = asset;\r\n\r\n\r\n            var path: string[] = asset.get('path');\r\n            var parent;\r\n\r\n            if (path.length && path.length > 0) {\r\n                var parentFolderId: string = path[path.length - 1];\r\n                if (assetsIndex[parentFolderId]) {\r\n                    parent = assetsIndex[parentFolderId].tree;\r\n                } else {\r\n                    if (!treeAppendQueue[parentFolderId])\r\n                        treeAppendQueue[parentFolderId] = [];\r\n\r\n                    treeAppendQueue[parentFolderId].push(item);\r\n                }\r\n            } else {\r\n                parent = treeRoot;\r\n                // console.warn(path);\r\n            }\r\n\r\n            // console.warn(item.text);\r\n\r\n            if (parent) {\r\n                var closest = treeFindClosest(parent, item.tree);\r\n                if (closest === -1) {\r\n                    parent.append(item.tree);\r\n                } else {\r\n                    parent.appendBefore(item.tree, <TreeItem>(parent.child(closest).ui));\r\n                }\r\n\r\n                appendChildFolders(item);\r\n            }\r\n\r\n            var onMouseOver = function () {\r\n                if (!dragging || grid.dragOver === asset)\r\n                    return;\r\n\r\n                // console.log('onMouseOver1');\r\n                // console.log(draggingData);\r\n                // console.log(grid.dragOver);\r\n\r\n                // don't allow to drag on it self\r\n                if (draggingData.ids && draggingData.ids.length > 0) {\r\n                    // multi-drag\r\n                    if (draggingData.ids.indexOf(asset.get('id') !== -1))\r\n                        return;\r\n                } else if (draggingData.id) {\r\n                    // single-drag\r\n                    // console.warn(asset.get('id'));\r\n                    if (asset.get('id') === draggingData.id)\r\n                        return;\r\n                } else {\r\n                    // script file drag\r\n                    return;\r\n                }\r\n\r\n                // console.log('onMouseOver2');\r\n\r\n                // already in that folder\r\n                var dragAsset = editor.call('assets:get', draggingData.id || draggingData.ids[0]);\r\n                var path = dragAsset.get('path');\r\n                if (path.length && path[path.length - 1] === asset.get('id'))\r\n                    return;\r\n\r\n                // don't allow dragging into own child\r\n                if (draggingData.ids && draggingData.ids.length > 0) {\r\n                    // multi-drag\r\n                    var assetPath = asset.get('path');\r\n                    for (var i = 0; i < draggingData.ids.length; i++) {\r\n                        if (assetPath.indexOf(draggingData.ids[i]) !== -1)\r\n                            return;\r\n                    }\r\n                } else {\r\n                    // single-drag\r\n                    if (asset.get('path').indexOf(dragAsset.get('id')) !== -1)\r\n                        return;\r\n                }\r\n\r\n                // console.log('onMouseOver3');\r\n\r\n                showGridDropHighlight(item);\r\n                showTreeDropHighlight(item);\r\n\r\n                grid.dragOver = asset;\r\n            };\r\n\r\n\r\n            var onMouseOut = function () {\r\n                if (!dragging || grid.dragOver !== asset)\r\n                    return;\r\n\r\n                gridDropBorder.classList.remove('active');\r\n                treeDropBorder.classList.remove('active');\r\n                grid.dragOver = undefined;\r\n            };\r\n\r\n            // draggable\r\n            item.tree.elementTitle.draggable = true;\r\n\r\n            item.element!.addEventListener('mouseout', onMouseOut, false);\r\n            item.tree.elementTitle.addEventListener('mouseout', onMouseOut, false);\r\n\r\n            item.element!.addEventListener('mouseover', onMouseOver, false);\r\n            item.tree.elementTitle.addEventListener('mouseover', onMouseOver, false);\r\n        };\r\n\r\n        // Called when a script asset is added\r\n        var onAddScript = function (asset: Observer, item: GridItem, events: any) {\r\n            events.push(editor.on('assets[' + asset.get('id') + ']:scripts:collide', function (script: any) {\r\n                item.class!.add('scripts-collide');\r\n            }));\r\n            events.push(editor.on('assets[' + asset.get('id') + ']:scripts:resolve', function (script: any) {\r\n                item.class!.remove('scripts-collide');\r\n            }));\r\n        };\r\n\r\n        var onAddBundle = function (asset: Observer, item: GridItem) {\r\n            var confirmElement = document.createElement('div');\r\n            confirmElement.classList.add('confirm');\r\n            confirmElement.classList.add('thumbnail');\r\n            item.element!.appendChild(confirmElement);\r\n\r\n            var onMouseOver = function () {\r\n                if (!dragging || grid.dragOver === asset)\r\n                    return;\r\n\r\n                if (!draggingData.ids && !draggingData.id) {\r\n                    // script file drag\r\n                    return;\r\n                }\r\n\r\n                var assetIds = (draggingData.ids && draggingData.ids.length > 0) ? draggingData.ids.slice() : [draggingData.id];\r\n\r\n                // don't allow to drag on it self\r\n                if (assetIds.indexOf(asset.get('id')) !== -1) {\r\n                    return;\r\n                }\r\n\r\n                // make sure we'fe found at least 1 valid asset\r\n                var valid = false;\r\n                var bundleAssets = asset.get('data.assets');\r\n                for (var i = 0; i < assetIds.length; i++) {\r\n                    var draggedAsset = editor.call('assets:get', assetIds[i]);\r\n                    if (!draggedAsset) continue;\r\n                    if (bundleAssets.indexOf(draggedAsset.get('id')) !== -1) continue;\r\n\r\n                    if (!draggedAsset.get('source')) {\r\n                        var type = draggedAsset.get('type');\r\n                        if (['folder', 'script', 'bundle'].indexOf(type) === -1) {\r\n                            valid = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!valid) return;\r\n\r\n                showGridDropHighlight(item);\r\n\r\n                grid.dragOver = asset;\r\n            };\r\n\r\n            var onMouseOut = function () {\r\n                if (!dragging || grid.dragOver !== asset)\r\n                    return;\r\n\r\n                gridDropBorder.classList.remove('active');\r\n                grid.dragOver = undefined;\r\n            };\r\n\r\n            item.element!.addEventListener('mouseout', onMouseOut, false);\r\n            item.element!.addEventListener('mouseover', onMouseOver, false);\r\n        };\r\n\r\n\r\n\r\n        editor.on('assets:add', function (asset: Observer, pos: number) {\r\n\r\n\r\n            var events: any = [];\r\n            var item = new GridItem();\r\n            item.asset = asset;\r\n            item.class!.add('type-' + asset.get('type'));\r\n\r\n            item.element!.addEventListener('mouseover', onAssetItemHover, false);\r\n            item.element!.addEventListener('mouseout', onAssetItemBlur, false);\r\n\r\n            asset.once('destroy', onAssetItemRemove.bind(asset));\r\n\r\n            var onMouseDown = function (evt: MouseEvent) {\r\n\r\n                evt.stopPropagation();\r\n            };\r\n\r\n            var onDragStart = function (evt: DragEvent) {\r\n                evt.preventDefault();\r\n                evt.stopPropagation();\r\n\r\n                // if (!editor.call('permissions:write'))\r\n                //     return;\r\n\r\n                var type = 'asset.' + asset.get('type');\r\n                var data = {\r\n                    id: asset.get('id'),\r\n                    ids: new Array<number>()\r\n                };\r\n\r\n                var selectorType = editor.call('selector:type');\r\n                var selectorItems = editor.call('selector:items');\r\n\r\n                if (selectorType === 'asset' && selectorItems.length > 1) {\r\n                    var path = selectorItems[0].get('path');\r\n\r\n                    if (selectorItems.indexOf(asset) !== -1) {\r\n                        var ids = [];\r\n                        for (var i = 0; i < selectorItems.length; i++) {\r\n                            // don't allow multi-path dragging\r\n                            if (path.length !== selectorItems[i].get('path').length || path[path.length - 1] !== selectorItems[i].get('path')[path.length - 1])\r\n                                return;\r\n\r\n                            ids.push(selectorItems[i].get('id'));\r\n                        }\r\n\r\n                        type = 'assets';\r\n                        data = {\r\n                            id: '',\r\n                            ids: ids\r\n                        };\r\n                    }\r\n                }\r\n\r\n                // console.log(type);\r\n                // console.log(data);\r\n                // console.log(selectorType);\r\n                // console.log(selectorItems);\r\n\r\n                editor.call('drop:set', type, data);\r\n                editor.call('drop:activate', true);\r\n            };\r\n\r\n            if (asset.get('type') === 'folder') {\r\n                onAddFolder(asset, item);\r\n                item.tree!.elementTitle.addEventListener('mousedown', onMouseDown, false);\r\n                item.tree.elementTitle.addEventListener('dragstart', onDragStart, false);\r\n            } else if (asset.get('type') === 'script') {\r\n                onAddScript(asset, item, events);\r\n            } else if (asset.get('type') === 'bundle') {\r\n                // onAddBundle(asset, item, events);\r\n            }\r\n\r\n            var updateTask = function () {\r\n                var status = asset.get('task');\r\n                item.class!.remove('task', 'failed', 'running');\r\n                if (status && typeof (status) === 'string' && status[0] !== '{') {\r\n                    item.class!.add('task', status);\r\n                }\r\n            };\r\n\r\n            // add task status\r\n            updateTask();\r\n            asset.on('task:set', updateTask);\r\n\r\n            item.element!.draggable = true;\r\n            item.element!.addEventListener('mousedown', onMouseDown, false);\r\n            item.element!.addEventListener('dragstart', onDragStart, false);\r\n\r\n\r\n            assetsIndex[asset.get('id')] = item;\r\n\r\n            // source\r\n            if (asset.get('source'))\r\n                item.class!.add('source');\r\n\r\n            // TODO：assets过滤器功能\r\n            // console.log(editor.call('assets:panel:filter:default'));\r\n            if (!editor.call('assets:panel:filter:default')('asset', asset)) {\r\n                // console.log('assets:panel:filter:default');\r\n                item.hidden = true;\r\n            }\r\n\r\n\r\n            var fileSize = asset.get('file.size');\r\n\r\n            if (!asset.get('source')) {\r\n                // update thumbnails change\r\n                asset.on('thumbnails.m:set', function (value: string) {\r\n                    // if (value.startsWith('/api')) {\r\n                    //     // value = value.appendQuery('t=' + asset.get('file.hash'));\r\n                    //     value = Tools.appendQuery(value, 't=' + asset.get('file.hash'));\r\n                    // }\r\n\r\n                    console.log('url(\"' + BabylonLoader.prefix + asset.get('id') + '/' + asset.get('name') + '\")');\r\n\r\n                    thumbnail.style.backgroundImage = 'url(\"' + BabylonLoader.prefix + asset.get('id') + '/' + asset.get('name') + '?' + asset.get('file.hash') + '\")';\r\n                    // thumbnail.style.backgroundImage = 'url(' + value + ')';\r\n                    thumbnail.classList.remove('placeholder');\r\n                });\r\n\r\n                asset.on('thumbnails.m:unset', function () {\r\n                    thumbnail.style.backgroundImage = 'none';\r\n                    thumbnail.classList.add('placeholder');\r\n                });\r\n            }\r\n\r\n            // folder open\r\n            if (asset.get('type') === 'folder') {\r\n                // 文件夹双击\r\n                item.element!.addEventListener('dblclick', function () {\r\n                    tree.clear();\r\n                    item.tree.open = true;\r\n                    editor.call('assets:filter:search', '');\r\n                    editor.call('assets:panel:currentFolder', item.asset);\r\n\r\n                    // change back selection\r\n                    if (selector.type)\r\n                        editor.call('selector:set', selector.prev.type, selector.prev.items);\r\n                }, false);\r\n            }\r\n\r\n            // open sprite editor for textureatlas and sprite assets\r\n            if (asset.get('type') === 'sprite' || asset.get('type') === 'textureatlas') {\r\n                item.element!.addEventListener('dblclick', function () {\r\n                    editor.call('picker:sprites', item.asset);\r\n                }, false);\r\n            }\r\n\r\n\r\n            var thumbnail: any;\r\n            var evtSceneSettings: any;\r\n            var evtAssetChanged: any;\r\n\r\n            if (asset.get('type') === 'material' || asset.get('type') === 'models' || asset.get('type') === 'sprite' || (asset.get('type') === 'font') && !asset.get('source')) {\r\n                var queuedRender = false;\r\n\r\n                thumbnail = document.createElement('img');\r\n                // thumbnail.changed = true;\r\n                thumbnail.width = 64;\r\n                thumbnail.height = 64;\r\n\r\n                if (asset.get('type') !== 'sprite') {\r\n                    thumbnail.classList.add('flipY');\r\n                }\r\n\r\n                editor.call('material:preview', thumbnail, asset);\r\n\r\n                // let htmlCanvas = document.createElement('canvas');\r\n                // htmlCanvas.width = 64;\r\n                // htmlCanvas.height = 64;\r\n                // htmlCanvas.style.display = 'none';\r\n                // document.body.append(htmlCanvas);\r\n\r\n                // // TODO: 需要按队列渲染，不然异步流程导致同时开的webgl context太多，会崩溃\r\n                // let engine = new BABYLON.Engine(htmlCanvas, true);\r\n                // let scene = new BABYLON.Scene(engine);\r\n\r\n                // // scene.clearColor = BABYLON.Color4.FromColor3(BABYLON.Color3.Green());\r\n                // scene.clearColor.a = 0;\r\n\r\n                // var light = new BABYLON.DirectionalLight('light', new BABYLON.Vector3(45, 45, 0), scene);\r\n\r\n                // var camera = new BABYLON.ArcRotateCamera('PreviewCamera', 10, 10, 10, new BABYLON.Vector3(0, 0, 0), scene);\r\n                // // camera.setPosition(new BABYLON.Vector3(20, 200, 400));\r\n\r\n                // camera.attachControl(htmlCanvas, true);\r\n                // camera.lowerBetaLimit = 0.1;\r\n                // camera.upperBetaLimit = (Math.PI / 2) * 0.99;\r\n                // camera.lowerRadiusLimit = 150;\r\n\r\n                // let box = BABYLON.MeshBuilder.CreateSphere('__previewSphere', { diameter: 80 }, scene);\r\n\r\n                // // engine.runRenderLoop(() => {\r\n                // //     if (scene) {\r\n                // //         scene.render();\r\n                // //     }\r\n                // // });\r\n\r\n                // scene.render();\r\n                // // TODO: 需要更新\r\n                // BABYLON.Tools.CreateScreenshotUsingRenderTarget(engine, camera, 64, (data: string) => {\r\n                //     console.log(data);\r\n                //     thumbnail.src = data;\r\n                // });\r\n\r\n                // engine.dispose();\r\n\r\n\r\n\r\n\r\n\r\n            } else {\r\n                thumbnail = document.createElement('div');\r\n                // (<HTMLElement>thumbnail).widt\r\n            }\r\n\r\n            item.thumbnail = thumbnail;\r\n            thumbnail.classList.add('thumbnail');\r\n            item.element!.appendChild(thumbnail);\r\n\r\n            if (asset.has('has_thumbnail') && asset.get('has_thumbnail') === true && !asset.get('source')) {\r\n                \r\n                thumbnail.style.backgroundImage = 'url(\"' + BabylonLoader.prefix + asset.get('id') + '/' + asset.get('name') + '?' + asset.get('file.hash') + '\")';\r\n            } else {\r\n                thumbnail.classList.add('placeholder');\r\n            }\r\n\r\n            var icon = document.createElement('div');\r\n            icon.classList.add('icon');\r\n            item.element!.appendChild(icon);\r\n\r\n            var label = item.labelElement = document.createElement('div');\r\n            label.classList.add('label');\r\n            label.textContent = asset.get('name');\r\n            item.element!.appendChild(label);\r\n\r\n            var users = item.users = document.createElement('div');\r\n            users.classList.add('users');\r\n            item.element!.appendChild(users);\r\n\r\n            // update name/filename change\r\n            events.push(asset.on('name:set', function (name: string, nameOld: string) {\r\n                // grid\r\n                label.textContent = asset.get('name');\r\n                // tree\r\n                if (item.tree) {\r\n                    item.tree.text = asset.get('name');\r\n\r\n                    // resort element (move match alphabetical order)\r\n                    var parent = <TreeItem>item.tree.parent;\r\n                    item.tree.parent!.element!.removeChild(item.tree.element!);\r\n                    var closest = treeFindClosest(parent, item.tree, nameOld);\r\n                    if (closest === -1) {\r\n                        parent.element!.appendChild(item.tree.element!);\r\n                    } else {\r\n                        parent.element!.insertBefore(item.tree.element!, parent.child(closest));\r\n                    }\r\n\r\n                    resizeQueue();\r\n                }\r\n\r\n                keepLegacyScriptsAtTop();\r\n            }));\r\n\r\n            events.push(asset.on('path:set', function (path: string, pathOld: string) {\r\n                // show or hide based on filters\r\n                item.hidden = !editor.call('assets:panel:filter:default')('asset', asset);\r\n\r\n                // console.log(path + ' -- ' + pathOld);\r\n                // console.log(item.hidden);\r\n\r\n                if (item.tree) {\r\n                    if (!pathOld.length || !path.length || path[path.length - 1] !== pathOld[pathOld.length - 1]) {\r\n                        (<TreeItem>item.tree.parent!).remove(item.tree);\r\n                        var parent;\r\n\r\n                        if (path.length) {\r\n                            parent = assetsIndex[path[path.length - 1]].tree;\r\n                        } else {\r\n                            parent = treeRoot;\r\n                        }\r\n\r\n                        var closest = treeFindClosest(parent, item.tree);\r\n                        if (closest === -1) {\r\n                            parent.append(item.tree);\r\n                        } else {\r\n                            parent.appendBefore(item.tree, <TreeItem>(parent.child(closest).ui));\r\n                        }\r\n                    }\r\n\r\n                    if (currentFolder === asset) {\r\n                        console.error('emit');\r\n                        editor.emit('assets:panel:currentFolder', currentFolder);\r\n                    }\r\n\r\n                }\r\n\r\n                keepLegacyScriptsAtTop();\r\n            }));\r\n\r\n            if (!asset.get('source')) {\r\n                // used event\r\n                var evtUnused = editor.on('assets:used:' + asset.get('id'), function (state: boolean) {\r\n                    if (state) {\r\n                        item.class!.remove('unused');\r\n                    } else {\r\n                        item.class!.add('unused');\r\n                    }\r\n                });\r\n                // used state\r\n                if (!editor.call('assets:used:get', asset.get('id')))\r\n                    item.class!.add('unused');\r\n\r\n                // clean events\r\n                item.once('destroy', function () {\r\n                    evtUnused.unbind();\r\n                });\r\n            }\r\n\r\n            // clean events\r\n            item.once('destroy', function () {\r\n                editor.call('selector:remove', asset);\r\n\r\n                for (var i = 0; i < events.length; i++)\r\n                    events[i].unbind();\r\n                events = null;\r\n\r\n                delete assetsIndex[asset.get('id')];\r\n\r\n                if (evtSceneSettings)\r\n                    evtSceneSettings.unbind();\r\n\r\n                if (evtAssetChanged)\r\n                    evtAssetChanged.unbind();\r\n            });\r\n\r\n            // grid.append(item);\r\n            // append to grid\r\n            var assets: ObserverList = editor.call('assets:raw');\r\n            if (pos === -1 || !assets.data[pos + 1]) {\r\n                grid.append(item);\r\n            } else {\r\n                grid.appendBefore(item, assetsIndex[assets.data[pos + 1].get('id')]);\r\n            }\r\n\r\n            resizeQueue();\r\n\r\n            keepLegacyScriptsAtTop();\r\n\r\n        });\r\n\r\n        var keepLegacyScriptsAtTop = function () {\r\n            if (!legacyScripts)\r\n                return;\r\n\r\n            // resort scripts folder in grid\r\n            gridScripts.element!.parentNode!.removeChild(gridScripts.element!);\r\n            var first = grid.element!.firstChild;\r\n            if (first) {\r\n                grid.element!.insertBefore(gridScripts.element!, first);\r\n            } else {\r\n                grid.element!.appendChild(gridScripts.element!);\r\n            }\r\n\r\n            // resort scripts folder in tree\r\n            treeScripts.element!.parentNode!.removeChild(treeScripts.element!);\r\n            var next = treeRoot.elementTitle.nextSibling;\r\n            if (next) {\r\n                treeRoot.element!.insertBefore(treeScripts.element!, next);\r\n            } else {\r\n                treeRoot.element!.appendChild(treeScripts.element!);\r\n            }\r\n        };\r\n\r\n        editor.on('assets:move', function (asset: Observer, pos: number) {\r\n            var item = assetsIndex[asset.get('id')];\r\n            // remove\r\n            grid.element!.removeChild(item.element!);\r\n            // append\r\n            if (pos === -1) {\r\n                // to end\r\n                grid.append(item);\r\n            } else {\r\n                // before another element\r\n                grid.appendBefore(item, assetsIndex[editor.call('assets:raw').data[pos + 1].get('id')]);\r\n            }\r\n        });\r\n\r\n        editor.on('assets:remove', function (asset: Observer) {\r\n            var treeItem = assetsIndex[asset.get('id')].tree;\r\n            if (treeItem) {\r\n                if (treeItem.parent)\r\n                    (<TreeItem>treeItem.parent).remove(treeItem);\r\n                treeItem.destroy();\r\n            }\r\n\r\n            assetsIndex[asset.get('id')].destroy();\r\n\r\n            resizeQueue();\r\n\r\n            // reselect current directory, if selected was removed\r\n            if (currentFolder && typeof (currentFolder) !== 'string') {\r\n                var id = currentFolder.get('id');\r\n                var path = asset.get('path');\r\n                var ind = path.indexOf(id);\r\n                if (id === asset.get('id') || ind !== -1) {\r\n                    if (ind === -1)\r\n                        ind = path.length - 1;\r\n\r\n                    var found = false;\r\n                    var i = ind + 1;\r\n                    while (i--) {\r\n                        if (assetsIndex[path[i]]) {\r\n                            found = true;\r\n                            editor.call('assets:panel:currentFolder', assetsIndex[path[i]].asset);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!found)\r\n                        editor.call('assets:panel:currentFolder', null);\r\n                }\r\n            }\r\n        });\r\n\r\n        var addSourceFile = function (file: Observer) {\r\n            file.set('type', 'script');\r\n\r\n            var item = new GridItem();\r\n            item.script = file;\r\n            item.class!.add('type-script');\r\n            grid.append(item);\r\n\r\n            if (!editor.call('assets:panel:filter:default')('script', file)) {\r\n                item.hidden = true;\r\n            }\r\n\r\n\r\n            scriptsIndex[file.get('filename')] = item;\r\n\r\n            var thumbnail = document.createElement('div');\r\n            thumbnail.classList.add('thumbnail', 'placeholder');\r\n            item.element!.appendChild(thumbnail);\r\n\r\n            var icon = document.createElement('div');\r\n            icon.classList.add('icon');\r\n            item.element!.appendChild(icon);\r\n\r\n            var label = item.labelElement = document.createElement('div');\r\n            label.classList.add('label');\r\n            label.textContent = file.get('filename');\r\n            item.element!.appendChild(label);\r\n\r\n            var users = item.users = document.createElement('div');\r\n            users.classList.add('users');\r\n            item.element!.appendChild(users);\r\n\r\n            // update name/filename change\r\n            var evtNameSet = file.on('filename:set', function (value: string, valueOld: string) {\r\n                label.textContent = value;\r\n                scriptsIndex[value] = item;\r\n                delete scriptsIndex[valueOld];\r\n            });\r\n            item.on('destroy', function () {\r\n                editor.call('selector:remove', file);\r\n                evtNameSet.unbind();\r\n                delete scriptsIndex[file.get('filename')];\r\n            });\r\n            file.on('destroy', function () {\r\n                item.destroy();\r\n            });\r\n\r\n            editor.call('drop:item', {\r\n                element: item.element,\r\n                type: 'asset.script',\r\n                data: {\r\n                    filename: file.get('filename')\r\n                }\r\n            });\r\n        };\r\n        var removeSourceFile = function (file: Observer) {\r\n            file.destroy();\r\n        };\r\n\r\n        editor.on('sourcefiles:add', addSourceFile);\r\n        editor.on('sourcefiles:remove', removeSourceFile);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}","import { Observer } from \"../../lib\";\r\n\r\nexport class AssetsPreview {\r\n\r\n\r\n    constructor() {\r\n\r\n\r\n\r\n        editor.method('preview:render', function (asset: Observer, width: number, height: number, canvas: HTMLCanvasElement, args: any) {\r\n            width = width || 1;\r\n            height = height || 1;\r\n\r\n            // render\r\n            editor.call('preview:' + asset.get('type') + ':render', asset, width, height, canvas, args);\r\n        });\r\n\r\n\r\n        let matPreviewCanvas = document.createElement('canvas');\r\n        matPreviewCanvas.width = 64;\r\n        matPreviewCanvas.height = 64;\r\n        matPreviewCanvas.style.display = 'none';\r\n        document.body.append(matPreviewCanvas);\r\n\r\n        // TODO: 需要按队列渲染，不然异步流程导致同时开的webgl context太多，会崩溃\r\n        let engine = new BABYLON.Engine(matPreviewCanvas, true);\r\n        let scene = new BABYLON.Scene(engine);\r\n\r\n        // scene.clearColor = BABYLON.Color4.FromColor3(BABYLON.Color3.Green());\r\n        scene.clearColor.a = 0;\r\n\r\n        var light = new BABYLON.DirectionalLight('light', new BABYLON.Vector3(45, 45, 0), scene);\r\n\r\n        var camera = new BABYLON.ArcRotateCamera('PreviewCamera', 10, 10, 10, new BABYLON.Vector3(0, 0, 0), scene);\r\n        // camera.setPosition(new BABYLON.Vector3(20, 200, 400));\r\n\r\n        camera.attachControl(matPreviewCanvas, true);\r\n        camera.lowerBetaLimit = 0.1;\r\n        camera.upperBetaLimit = (Math.PI / 2) * 0.99;\r\n        camera.lowerRadiusLimit = 150;\r\n\r\n        let previewSphere = BABYLON.MeshBuilder.CreateSphere('__previewSphere', { diameter: 80 }, scene);\r\n\r\n        let testMat = new BABYLON.StandardMaterial('__previewShere', scene);\r\n        previewSphere.material = testMat;\r\n        // engine.runRenderLoop(() => {\r\n        //     if (scene) {\r\n        //         scene.render();\r\n        //     }\r\n        // });\r\n        \r\n\r\n        // engine.dispose();\r\n\r\n        let queueMaterialAssets: any[] = [];\r\n        let matQueuing: boolean = false;\r\n\r\n        let createMatPreview = () => {\r\n            matQueuing = true;\r\n\r\n            while(queueMaterialAssets.length > 0) {\r\n                let queueElement = queueMaterialAssets.shift();\r\n                // 球改一下\r\n                // (<BABYLON.StandardMaterial>previewSphere.material).diffuseColor = new BABYLON.Color3(Math.random(), Math.random(), Math.random());\r\n                scene.render();\r\n                // TODO: 需要更新\r\n                BABYLON.Tools.CreateScreenshotUsingRenderTarget(engine, camera, 64, (data: string) => {\r\n                    console.log(data);\r\n                    queueElement[0].src = data;\r\n                });\r\n            }\r\n\r\n            matQueuing = false;\r\n        }\r\n\r\n        editor.method('material:preview', (thumbnail: any, asset: Observer) => {\r\n            queueMaterialAssets.push([thumbnail, asset]);\r\n            if(!matQueuing) {\r\n                // console.warn('入口打开material preview');\r\n                setTimeout(createMatPreview, 0);\r\n            } else {\r\n                // console.warn('中间排队material preview');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n}","import { Observer } from '../../lib';\r\nimport { AjaxRequest, Ajax } from '../utility';\r\nimport { Config } from '../global';\r\n\r\nexport class AssetsRename {\r\n\r\n    public constructor() {\r\n\r\n        var changeName = function (assetId: string, assetName: string) {\r\n            var form = new FormData();\r\n            form.append('rename', assetName);\r\n            form.append('projectID', Config.projectID);\r\n            (<AjaxRequest>new Ajax({\r\n                url: '/api/upload/assets/' + assetId,\r\n                auth: true,\r\n                data: form,\r\n                method: 'PUT',\r\n                ignoreContentType: true,\r\n                notJson: true\r\n            }))\r\n                .on('load', (status: any, data: any) => {\r\n                    // console.log('status: ' + status);\r\n                    data = JSON.parse(data);\r\n                    // console.log(data);\r\n                    // console.log(data.code);\r\n                    if (data.code === '0000') {\r\n                        // TODO: 不够通用，如果是图片等资源，路径也改变\r\n                        // console.log(data.data);\r\n                        let asset = editor.call('assets:get', data.data.id);\r\n                        // console.log(asset);\r\n                        if(asset) {\r\n                            asset.set('name', data.data.name);\r\n                        }\r\n                        // var asset = new Observer(data.data);\r\n                        // editor.call('assets:add', asset);\r\n\r\n                    }\r\n                });\r\n            // branch id\r\n            // form.append('branchId', 'config.self.branch.id');\r\n            // Ajax({\r\n            //     url: '{{url.api}}/assets/' + assetId,\r\n            //     auth: true,\r\n            //     data: form,\r\n            //     method: 'PUT',\r\n            //     ignoreContentType: true,\r\n            //     notJson: true\r\n            // }).on('error', function (err: Error, data: any) {\r\n            //     console.error(err + data);\r\n            //     editor.call('status:error', 'Couldn\\'t update the name: ' + data);\r\n            // });\r\n        }\r\n\r\n        editor.method('assets:rename', function (asset: Observer, newName: string) {\r\n            var oldName = asset.get('name');\r\n            var id = asset.get('id');\r\n            editor.call('history:add', {\r\n                name: 'asset rename',\r\n                undo: function () {\r\n                    if (editor.call('assets:get', id)) {\r\n                        changeName(id, oldName);\r\n                    }\r\n                },\r\n                redo: function () {\r\n                    if (editor.call('assets:get', id)) {\r\n                        changeName(id, newName);\r\n                    }\r\n                }\r\n            });\r\n\r\n            changeName(id, newName);\r\n        });\r\n\r\n\r\n    }\r\n\r\n}","import { Button } from \"../../ui\";\r\nimport { VeryEngine } from \"../../engine\";\r\n\r\nexport class AssetsStore {\r\n\r\n    public constructor() {\r\n\r\n        var assetsPanel = VeryEngine.assets;\r\n\r\n        var btnStore = new Button('资源库');\r\n        btnStore.class!.add('store');\r\n        assetsPanel.header.append(btnStore);\r\n\r\n        btnStore.on('click', function () {\r\n            window.open('http://www.veryengine.cn/', '_blank');\r\n        });\r\n    }\r\n}","import { Observer } from '../../lib';\r\n\r\nexport class AssetsSync {\r\n\r\n    public constructor() {\r\n\r\n        editor.method('initAssets', (assets_data: any) => {\r\n            if(assets_data.assets)\r\n                onLoad(assets_data.assets);\r\n        });\r\n\r\n        // Asseting, uniqueId为assets索引id\r\n        editor.method('loadAsset', function (asset_data: any, callback: any) {\r\n\r\n            var assetData = asset_data;\r\n\r\n            // if (assetData.file) {\r\n            //     // 生成资源所在url，这里并没有开始加载资源\r\n            //     assetData.file.url = getFileUrl(assetData.id, assetData.revision, assetData.file.filename);\r\n\r\n            //     if (assetData.file.variants) {\r\n            //         for (var key in assetData.file.variants) {\r\n            //             assetData.file.variants[key].url = getFileUrl(assetData.id, assetData.revision, assetData.file.variants[key].filename);\r\n            //         }\r\n            //     }\r\n            // }\r\n\r\n            var asset = new Observer(assetData);\r\n            editor.call('assets:add', asset);\r\n            // console.log('load: ' + asset.get('name'));\r\n\r\n            if (callback)\r\n                callback(asset);\r\n        });\r\n\r\n        // 加载assets数据，data为assets数据\r\n        var onLoad = function (data: any) {\r\n            editor.call('assets:progress', 0.5);\r\n\r\n            var count = 0;\r\n            let assetsLength: number = Object.getOwnPropertyNames(data).length;\r\n            // 加载Asset资源\r\n            var load = function (asset_data: any) {\r\n                editor.call('loadAsset', asset_data, function () {\r\n                    count++;\r\n                    editor.call('assets:progress', (count / assetsLength) * 0.5 + 0.5);\r\n                    if (count >= assetsLength) {\r\n                        editor.call('assets:progress', 1);\r\n                        editor.emit('assets:load');\r\n                    }\r\n                });\r\n            };\r\n\r\n            for (let key in data) {\r\n                load(data[key]);\r\n            }\r\n\r\n        };\r\n\r\n\r\n\r\n        var onAssetSelect = function (asset: Observer) {\r\n            editor.call('selector:set', 'asset', [asset]);\r\n\r\n            // navigate to folder too\r\n            var path = asset.get('path');\r\n            if (path.length) {\r\n                editor.call('assets:panel:currentFolder', editor.call('assets:get', path[path.length - 1]));\r\n            } else {\r\n                editor.call('assets:panel:currentFolder', null);\r\n            }\r\n        };\r\n\r\n        // create asset\r\n        editor.method('assets:create', function (data: any, fn: any, noSelect: boolean) {\r\n            var evtAssetAdd: any;\r\n\r\n            if (!noSelect) {\r\n                editor.once('selector:change', function () {\r\n                    if (evtAssetAdd) {\r\n                        evtAssetAdd.unbind();\r\n                        evtAssetAdd = null;\r\n                    }\r\n                });\r\n            }\r\n\r\n            editor.call('assets:uploadFile', data, function (err: Error, res: any) {\r\n                if (err) {\r\n                    editor.call('status:error', err);\r\n\r\n                    // TODO\r\n                    // disk allowance error\r\n\r\n                    if (fn) fn(err);\r\n\r\n                    return;\r\n                }\r\n\r\n                if (!noSelect) {\r\n                    var asset = editor.call('assets:get', res.id);\r\n                    if (asset) {\r\n                        onAssetSelect(asset);\r\n                    } else {\r\n                        evtAssetAdd = editor.once('assets:add[' + res.id + ']', onAssetSelect);\r\n                    }\r\n                }\r\n\r\n                if (fn) fn(err, res.id);\r\n            });\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n}","import { VeryEngine } from '../../engine';\r\nimport { Observer } from '../../lib';\r\nimport { Ajax, AjaxRequest } from '../utility';\r\nimport { Config } from '../global';\r\n\r\nexport class AssetsUpload {\r\n\r\n    public constructor() {\r\n\r\n        // 当前任务记录\r\n        var uploadJobs = 0;\r\n        var userSettings: any = editor.call('settings:projectUser');\r\n        // var legacyScripts = editor.call('settings:project').get('useLegacyScripts');\r\n        var legacyScripts = false;\r\n\r\n        var targetExtensions: { [key: string]: boolean } = {\r\n            'jpg': true,\r\n            'jpeg': true,\r\n            'png': true,\r\n            'gif': true,\r\n            'table': true,\r\n            'html': true,\r\n            'json': true,\r\n            'xml': true,\r\n            'txt': true,\r\n            'vert': true,\r\n            'frag': true,\r\n            'glsl': true,\r\n            'mp3': true,\r\n            'ogg': true,\r\n            'wav': true,\r\n            'mp4': true,\r\n            'm4a': true,\r\n            'js': true,\r\n            'atlas': true,\r\n            'babylon': true\r\n        };\r\n\r\n        var typeToExt: { [key: string]: string[] } = {\r\n            'model': ['fbx', 'dae', 'obj', '3ds', 'babylon'],\r\n            'data': ['txt', 'xml', 'atlas', 'table'],\r\n            'html': ['html'],\r\n            'json': ['json'],\r\n            'texture': ['tif', 'tga', 'png', 'jpg', 'jpeg', 'gif', 'bmp', 'dds', 'hdr', 'exr'],\r\n            'audio': ['wav', 'mp3', 'mp4', 'ogg', 'm4a'],\r\n            'shader': ['glsl', 'frag', 'vert'],\r\n            'script': ['js'],\r\n            'font': ['ttf', 'ttc', 'otf', 'dfont']\r\n        };\r\n\r\n\r\n        var extToType: { [key: string]: string } = {};\r\n        for (var type in typeToExt) {\r\n            for (var i = 0; i < typeToExt[type].length; i++) {\r\n                extToType[typeToExt[type][i]] = type;\r\n            }\r\n        }\r\n\r\n\r\n        editor.method('assets:canUploadFiles', function (files: any) {\r\n            // check usage first\r\n            var totalSize = 0;\r\n            for (var i = 0; i < files.length; i++) {\r\n                totalSize += files[i].size;\r\n            }\r\n            // 计算用户当前空间用量，假如要限制每个用户的空间大小，超过则不允许再上传\r\n            // return config.owner.size + totalSize <= config.owner.diskAllowance;\r\n\r\n            console.log('资源总容量：' + (totalSize / 1024 / 1024));\r\n\r\n            return true;\r\n        });\r\n\r\n        var appendCommon = function (form: FormData, args: any) {\r\n            // NOTE\r\n            // non-file form data should be above file,\r\n            // to make it parsed on back-end first\r\n\r\n            // branch id\r\n            // form.append('branchId', 'config.self.branch.id');\r\n\r\n            //\r\n\r\n            // parent folder\r\n            if (args.parent) {\r\n                if (args.parent instanceof Observer) {\r\n                    form.append('parent', args.parent.get('id'));\r\n                } else {\r\n                    var id = parseInt(args.parent, 10);\r\n                    if (!isNaN(id))\r\n                        form.append('parent', id + '');\r\n                }\r\n            }\r\n\r\n            // conversion pipeline specific parameters\r\n            // var settings = editor.call('settings:projectUser');\r\n            // switch (args.type) {\r\n            //     case 'texture':\r\n            //     case 'textureatlas':\r\n            //         form.append('pow2', settings.get('editor.pipeline.texturePot'));\r\n            //         form.append('searchRelatedAssets', settings.get('editor.pipeline.searchRelatedAssets'));\r\n            //         break;\r\n            //     case 'scene':\r\n            //         form.append('searchRelatedAssets', settings.get('editor.pipeline.searchRelatedAssets'));\r\n            //         form.append('overwriteModel', settings.get('editor.pipeline.overwriteModel'));\r\n            //         form.append('overwriteAnimation', settings.get('editor.pipeline.overwriteAnimation'));\r\n            //         form.append('overwriteMaterial', settings.get('editor.pipeline.overwriteMaterial'));\r\n            //         form.append('overwriteTexture', settings.get('editor.pipeline.overwriteTexture'));\r\n            //         form.append('pow2', settings.get('editor.pipeline.texturePot'));\r\n            //         form.append('preserveMapping', settings.get('editor.pipeline.preserveMapping'));\r\n            //         break;\r\n            //     case 'font':\r\n            //         break;\r\n            //     default:\r\n            //         break;\r\n            // }\r\n\r\n            // filename\r\n            if (args.filename) {\r\n                form.append('filename', args.filename);\r\n            }\r\n\r\n            // file\r\n            if (args.file && args.file.size) {\r\n                form.append('file', args.file, (args.filename || args.name));\r\n            }\r\n\r\n            return form;\r\n        };\r\n\r\n        var create = function (args: any) {\r\n            var form = new FormData();\r\n\r\n            // scope\r\n            // form.append('projectId', config.project.id);\r\n\r\n            // type\r\n            if (!args.type) {\r\n                console.error('\\'type\\' required for upload request');\r\n            }\r\n            form.append('type', args.type);\r\n\r\n            // name\r\n            if (args.name) {\r\n                form.append('name', args.name);\r\n            }\r\n\r\n            // tags\r\n            if (args.tags) {\r\n                form.append('tags', args.tags.join('\\n'));\r\n            }\r\n\r\n            // source_asset_id\r\n            if (args.source_asset_id) {\r\n                form.append('source_asset_id', args.source_asset_id);\r\n            }\r\n\r\n            // data\r\n            if (args.data) {\r\n                form.append('data', JSON.stringify(args.data));\r\n            }\r\n\r\n            // meta\r\n            if (args.meta) {\r\n                form.append('meta', JSON.stringify(args.meta));\r\n            }\r\n\r\n            // preload\r\n            form.append('preload', args.preload === undefined ? true : args.preload);\r\n\r\n            form = appendCommon(form, args);\r\n            return form;\r\n        };\r\n\r\n        var update = function (assetId: string, args: any) {\r\n            var form = new FormData();\r\n            form = appendCommon(form, args);\r\n            return form;\r\n        };\r\n\r\n\r\n        editor.method('assets:uploadFile', function (args: any, fn?: Function) {\r\n            var method = 'POST';\r\n            var url = '/api/upload';\r\n            var form = null;\r\n            let replaceMode: boolean = false;\r\n            if (args.asset && args.type && args.type !== 'model') {\r\n                var assetId = args.asset.get('id');\r\n                method = 'PUT';\r\n                url = '/api/upload/assets/' + assetId;\r\n                form = update(assetId, args);\r\n                replaceMode = true;\r\n                form.append('replaceAsset', assetId);\r\n                if(args.type) {\r\n                    form.append('type', args.type);\r\n                }\r\n            } else {\r\n                form = create(args);\r\n            }\r\n\r\n            form.append('projectID', Config.projectID);\r\n            form.append('path', args.path);\r\n\r\n            var job = ++uploadJobs;\r\n            editor.call('status:job', 'asset-upload:' + job, 0);\r\n\r\n            var data = {\r\n                url: url,\r\n                method: method,\r\n                // auth: true,\r\n                data: form,\r\n                ignoreContentType: true,\r\n                headers: {\r\n                    Accept: 'application/json'\r\n                }\r\n            };\r\n\r\n            // 上传新资源\r\n            if (!replaceMode) {\r\n                (<AjaxRequest>new Ajax(data))\r\n                    .on('load', (status: any, data: any) => {\r\n                        // console.log('status: ' + status);\r\n                        console.log(data);\r\n                        if (data.code === '0000') {\r\n                            for (let i = 0, len = data.data.length; i < len; i++) {\r\n                                var asset = new Observer(data.data[i]);\r\n                                editor.call('assets:add', asset);\r\n                            }\r\n                        }\r\n                    });\r\n            } else {\r\n                // 老资源重名覆盖为新上传资源\r\n                (<AjaxRequest>new Ajax(data))\r\n                .on('load', (status: any, data: any) => {\r\n                    // console.log('status: ' + status);\r\n                    console.log(data);\r\n                    if (data.code === '0000') {\r\n                        // TODO: 简易处理\r\n                        let asset: Observer = editor.call('assets:get', data.data.id);\r\n                        if(asset && asset.get('type') === 'texture') {\r\n                            asset.set('modifiedAt', data.data.modifiedAt);\r\n                            asset.set('file.size', data.data.file.size);\r\n                            asset.set('file.hash', data.data.file.hash);\r\n                            asset.emit('thumbnails.m:set', data.data.name + '?' + data.data.file.hash);\r\n                            console.log('更新图片');\r\n                        }\r\n\r\n                        \r\n\r\n                        // for (let i = 0, len = data.data.length; i < len; i++) {\r\n                        //     var asset = new Observer(data.data[i]);\r\n                        //     editor.call('assets:add', asset);\r\n                        // }\r\n                    }\r\n                });\r\n            }\r\n\r\n            // Ajax.post(url, form);\r\n\r\n            // 上传数据，具体入口\r\n            // Ajax(data)\r\n            //     .on('load', function (status, data) {\r\n            //         editor.call('status:job', 'asset-upload:' + job);\r\n            //         if (fn) {\r\n            //             fn(null, data);\r\n            //         }\r\n            //     })\r\n            //     .on('progress', function (progress) {\r\n            //         editor.call('status:job', 'asset-upload:' + job, progress);\r\n            //     })\r\n            //     .on('error', function (status, data) {\r\n            //         if (/Disk allowance/.test(data)) {\r\n            //             data += '. <a href='/upgrade' target='_blank'>UPGRADE</a> to get more disk space.';\r\n            //         }\r\n\r\n            //         editor.call('status:error', data);\r\n            //         editor.call('status:job', 'asset-upload:' + job);\r\n            //         if (fn) {\r\n            //             fn(data);\r\n            //         }\r\n            //     });\r\n        });\r\n\r\n        editor.method('assets:upload:files', function (files: FileList) {\r\n            if (!editor.call('assets:canUploadFiles', files)) {\r\n                // var msg = 'Disk allowance exceeded. <a href='/upgrade' target='_blank'>UPGRADE</a> to get more disk space.';\r\n                // editor.call('status:error', msg);\r\n                return;\r\n            }\r\n\r\n            var currentFolder = editor.call('assets:panel:currentFolder');\r\n\r\n            // 遍历每一个文件\r\n            for (var i = 0; i < files.length; i++) {\r\n                var path: string[] = [];\r\n\r\n                if (currentFolder && currentFolder.get)\r\n                    path = currentFolder.get('path').concat(currentFolder.get('id'));\r\n\r\n                // console.log(currentFolder);\r\n                // console.log(currentFolder.get('path'));\r\n                // console.log(currentFolder.get('id'));\r\n\r\n                console.error(path);\r\n\r\n                console.warn(files[i]);\r\n\r\n                var source = false;\r\n                var ext1: string[] = files[i].name.split('.');\r\n                if (ext1.length === 1)\r\n                    continue;\r\n\r\n                var ext: string = ext1[ext1.length - 1].toLowerCase();\r\n\r\n                var type = extToType[ext] || 'binary';\r\n\r\n                var source = type !== 'binary' && !targetExtensions[ext];\r\n\r\n                // check if we need to convert textures to texture atlases\r\n                // if (type === 'texture' && userSettings.get('editor.pipeline.textureDefaultToAtlas')) {\r\n                //     type = 'textureatlas';\r\n                // }\r\n\r\n                // 同一文件夹重名文件覆盖\r\n                var sourceAsset = null;\r\n                var candidates = editor.call('assets:find', function (item: Observer) {\r\n                    // check files in current folder only\r\n                    if (item.get('path').join(',') !== path.join(','))\r\n                        return false;\r\n\r\n                    if (files[i].name === item.get('name')) {\r\n                        return true;\r\n                    }\r\n\r\n                    //     // try locate source when dropping on its targets\r\n                    //     if (source && !item.get('source') && item.get('source_asset_id')) {\r\n                    //         var itemSource = editor.call('assets:get', item.get('source_asset_id'));\r\n                    //         if (itemSource && itemSource.get('type') === type && itemSource.get('name').toLowerCase() === files[i].name.toLowerCase()) {\r\n                    //             sourceAsset = itemSource;\r\n                    //             return false;\r\n                    //         }\r\n                    //     }\r\n\r\n\r\n                    //     if (item.get('source') === source && item.get('name').toLowerCase() === files[i].name.toLowerCase()) {\r\n                    //         // we want the same type or try to replace a texture atlas with the same name if one exists\r\n                    //         if (item.get('type') === type || (type === 'texture' && item.get('type') === 'textureatlas')) {\r\n                    //             return true;\r\n                    //         }\r\n                    //     }\r\n\r\n                    return false;\r\n                });\r\n\r\n                console.warn(candidates);\r\n\r\n                // candidates contains [index, asset] entries. Each entry\r\n                // represents an asset that could be overwritten by the uploaded asset.\r\n                // Use the first candidate by default (or undefined if the array is empty).\r\n                // If we are uploading a texture try to find a textureatlas candidate and\r\n                // if one exists then overwrite the textureatlas instead.\r\n                // var asset = candidates[0];\r\n                // if (type === 'texture') {\r\n                //     for (var j = 0; j < candidates.length; j++) {\r\n                //         if (candidates[j][1].get('type') === 'textureatlas') {\r\n                //             asset = candidates[j];\r\n                //             type = 'textureatlas';\r\n                //             break;\r\n                //         }\r\n                //     }\r\n                // }\r\n\r\n                var data = null;\r\n                if (ext === 'js') {\r\n                    data = {\r\n                        order: 100,\r\n                        scripts: {}\r\n                    };\r\n                }\r\n\r\n                console.log('upload');\r\n\r\n                editor.call('assets:uploadFile', {\r\n                    asset: (candidates && candidates.length > 0) ? candidates[0][1] : null,\r\n                    // asset: null,\r\n                    file: files[i],\r\n                    type: type,\r\n                    path: path.join(','),\r\n                    name: files[i].name,\r\n                    parent: editor.call('assets:panel:currentFolder'),\r\n                    pipeline: true,\r\n                    data: data,\r\n                    // meta: asset ? asset[1].get('meta') : null,\r\n                    meta: null\r\n                }, function (err: Error, data: any) {\r\n                    var onceAssetLoad = function (asset: Observer) {\r\n                        var url = asset.get('file.url');\r\n                        if (url) {\r\n                            editor.call('scripts:parse', asset);\r\n                        } else {\r\n                            asset.once('file.url:set', function () {\r\n                                editor.call('scripts:parse', asset);\r\n                            });\r\n                        }\r\n                    };\r\n\r\n                    var asset = editor.call('assets:get', data.id);\r\n                    if (asset) {\r\n                        onceAssetLoad(asset);\r\n                    } else {\r\n                        editor.once('assets:add[' + data.id + ']', onceAssetLoad);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n\r\n        // 上传文件或文件夹，文件上传入口\r\n        editor.method('assets:upload:picker', function (args: any) {\r\n            args = args || {};\r\n\r\n            var parent = args.parent || editor.call('assets:panel:currentFolder');\r\n\r\n            var fileInput = document.createElement('input');\r\n            fileInput.type = 'file';\r\n            // 服务器需要识别此name\r\n            fileInput.name = 'file';\r\n            // fileInput.accept = '';\r\n            fileInput.multiple = true;\r\n            fileInput.style.display = 'none';\r\n            fileInput.style.verticalAlign = 'middle';\r\n            fileInput.style.textAlign = 'center';\r\n            VeryEngine.assets.append(fileInput);\r\n\r\n            var onChange = function () {\r\n                editor.call('assets:upload:files', fileInput.files);\r\n                // 上传文件以后，开始做一些处理\r\n                // 解析.babylon文件，初步处理以后上传给服务器\r\n\r\n                var fl = fileInput.files!.length;\r\n                var i = 0;\r\n\r\n                while (i < fl) {\r\n                    // localize file var in the loop\r\n                    var file = fileInput.files![i];\r\n                    console.log('name: ' + file.name);\r\n                    console.warn('type: ' + file.type);\r\n                    console.warn('size: ' + file.size);\r\n                    // console.warn('lastModified: ' + file.lastModified);\r\n                    i++;\r\n                }\r\n\r\n                fileInput.value = '';\r\n                fileInput.removeEventListener('change', onChange);\r\n                fileInput.parentNode!.removeChild(fileInput);\r\n            };\r\n\r\n            fileInput.addEventListener('change', onChange, false);\r\n            fileInput.click();\r\n\r\n        });\r\n    }\r\n\r\n}","import { ObserverList, Observer } from \"../../lib\";\r\n\r\nexport class Assets {\r\n\r\n    public constructor() {\r\n\r\n        // var uniqueIdToItemId: any = {};\r\n\r\n        // assets资源排序：folder资源排列在最前面，按文件夹名字排列；其他资源按name进行后续排序;\r\n        var assets = new ObserverList({\r\n            id: 'id',\r\n            sorted: function (a: Observer, b: Observer): number {\r\n                let a1: boolean = a.get('type') === 'folder';\r\n                let b1: boolean = b.get('type') === 'folder';\r\n\r\n                if (a1 !== b1) {\r\n                    if (a1 && !b1) return -1; else return 1;\r\n                }\r\n\r\n                let na: string = a.get('name').toLowerCase();\r\n                let nb: string = b.get('name').toLowerCase();\r\n\r\n                if (na === nb) {\r\n                    return 0;\r\n                } else if (na > nb) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n                // return a.get('name').toLowerCase().localeCompare(b.get('name').toLowerCase(), 'en');\r\n            }\r\n        });\r\n\r\n        // return assets ObserverList\r\n        editor.method('assets:raw', function () {\r\n            return assets;\r\n        });\r\n\r\n        // allow adding assets\r\n        editor.method('assets:add', function (asset: Observer) {\r\n            // uniqueIdToItemId[asset.get('uniqueId')] = asset.get('id');\r\n\r\n            var pos = assets.add(asset);\r\n\r\n            if (pos === null)\r\n                return;\r\n\r\n            asset.on('name:set', function (name: string, nameOld: string) {\r\n                name = name.toLowerCase();\r\n                nameOld = nameOld.toLowerCase();\r\n\r\n                var ind = assets.data.indexOf(asset);\r\n                var pos = assets.positionNextClosest(asset, function (a: Observer, b: Observer) {\r\n                    let a1: boolean = a.get('type') === 'folder';\r\n                    let b1: boolean = b.get('type') === 'folder';\r\n\r\n                    if (a1 !== b1) {\r\n                        if (a1 && !b1) return -1; else return 1;\r\n                    }\r\n\r\n                    let na: string = a.get('name').toLowerCase();\r\n                    let nb: string = b.get('name').toLowerCase();\r\n\r\n                    if (na === nb) {\r\n                        return 0;\r\n                    } else if (na > nb) {\r\n                        return 1;\r\n                    } else {\r\n                        return -1;\r\n                    }\r\n                    // return a.get('name').toLowerCase().localeCompare(b.get('name').toLowerCase(), 'en');\r\n                });\r\n\r\n                if (pos === -1 && (ind + 1) == assets.data.length)\r\n                    return;\r\n\r\n                if (ind !== -1 && (ind + 1 === pos) || (ind === pos))\r\n                    return;\r\n\r\n                if (ind < pos)\r\n                    pos--;\r\n\r\n                assets.move(asset, pos);\r\n                editor.emit('assets:move', asset, pos);\r\n            });\r\n\r\n            // publish added asset\r\n            editor.emit('assets:add[' + asset.get('id') + ']', asset, pos);\r\n            editor.emit('assets:add', asset, pos);\r\n        });\r\n\r\n        // allow removing assets\r\n        editor.method('assets:remove', function (asset: Observer) {\r\n            assets.remove(asset);\r\n        });\r\n\r\n        // remove all assets\r\n        editor.method('assets:clear', function () {\r\n            assets.clear();\r\n            editor.emit('assets:clear');\r\n\r\n            // uniqueIdToItemId = {};\r\n        });\r\n\r\n        // get asset by id\r\n        editor.method('assets:get', function (id: string) {\r\n            return assets.get(id);\r\n        });\r\n\r\n        // get asset by unique id\r\n        // editor.method('assets:getUnique', function (uniqueId: string) {\r\n        //     var id = uniqueIdToItemId[uniqueId];\r\n        //     return id ? assets.get(id) : null;\r\n        // });\r\n\r\n        // find assets by function\r\n        editor.method('assets:find', function (fn: Function) {\r\n            return assets.find(fn);\r\n        });\r\n\r\n        // find one asset by function\r\n        editor.method('assets:findOne', function (fn: Function) {\r\n            return assets.findOne(fn);\r\n        });\r\n\r\n        editor.method('assets:map', function (fn: Function) {\r\n            assets.map(fn);\r\n        });\r\n\r\n        editor.method('assets:list', function () {\r\n            return assets.array();\r\n        });\r\n\r\n        // publish remove asset\r\n        assets.on('remove', function (asset: Observer) {\r\n            asset.destroy();\r\n            editor.emit('assets:remove', asset);\r\n            editor.emit('assets:remove[' + asset.get('id') + ']');\r\n\r\n            // delete uniqueIdToItemId[asset.get('uniqueId')];\r\n        });\r\n\r\n\r\n    }\r\n}","export * from './assets';\r\nexport * from './assets-fs';\r\nexport * from './assets-sync';\r\nexport * from './assets-preview';\r\nexport * from './assets-panel';\r\nexport * from './assets-preview';\r\nexport * from './assets-panel-control';\r\nexport * from  './assets-context-menu';\r\nexport * from './assets-filter';\r\nexport * from './assets-upload';\r\nexport * from './assets-drop';\r\nexport * from './assets-store';\r\nexport * from './assets-create-folder';\r\nexport * from './assets-create-table';\r\nexport * from './assets-rename';\r\nexport * from './keeper';","import { AssetsPanel } from \"./assets-panel\";\r\nimport { AssetsPanelControl } from \"./assets-panel-control\";\r\nimport { AssetsFilter } from \"./assets-filter\";\r\nimport { AssetsUpload } from \"./assets-upload\";\r\nimport { AssetsStore } from \"./assets-store\";\r\nimport { AssetsContextMenu } from \"./assets-context-menu\";\r\nimport { TestAssets } from \"./test\";\r\nimport { Assets } from \"./assets\";\r\nimport { AssetsCreateFolder } from \"./assets-create-folder\";\r\nimport { AssetsSync } from \"./assets-sync\";\r\nimport { AssetsDrop } from \"./assets-drop\";\r\nimport { AssetsCreateTable } from \"./assets-create-table\";\r\nimport { AssetsRename } from \"./assets-rename\";\r\nimport { AssetsFs } from \"./assets-fs\";\r\nimport { AssetsPreview } from \"./assets-preview\";\r\n\r\nexport class  AssetsKeeper {\r\n\r\n\r\n    constructor() {\r\n        let assets = new Assets();\r\n\r\n        let syncAssets = new AssetsSync();\r\n        new AssetsFs();\r\n        new AssetsPreview();\r\n        let assetPanel = new AssetsPanel();\r\n        let panelControl = new AssetsPanelControl();\r\n        let filter = new AssetsFilter();\r\n\r\n        let createFolder = new AssetsCreateFolder();\r\n        let contextMenu = new AssetsContextMenu();\r\n\r\n        let createTable = new AssetsCreateTable();\r\n\r\n        let upload = new AssetsUpload();\r\n\r\n        let drop = new AssetsDrop();\r\n\r\n        let library = new AssetsStore();\r\n\r\n        new AssetsRename();\r\n\r\n\r\n\r\n        // let test = new TestAssets();\r\n\r\n        \r\n        \r\n    }\r\n\r\n\r\n}","import { Observer } from \"../../../lib\";\r\nimport { Button } from \"../../../ui\";\r\nimport { BabylonLoader } from \"../../middleware/loader/babylonLoader\";\r\n\r\nexport class AttributeAssetsTexture {\r\n\r\n    public constructor() {\r\n\r\n        var panelsStates: any = {};\r\n\r\n        editor.on('attributes:inspect[asset]', function (assets: Observer[]) {\r\n\r\n            // console.error('attributes:inspect[asset]');\r\n            // console.error(assets);\r\n\r\n            for (var i = 0; i < assets.length; i++) {\r\n                if (assets[i].get('type') !== 'texture' && assets[i].get('type') !== 'textureatlas' || assets[i].get('source'))\r\n                    return;\r\n            }\r\n\r\n            var events: any = [];\r\n\r\n            var ids: string[] = [];\r\n            for (var i = 0; i < assets.length; i++)\r\n                ids.push(assets[i].get('id'));\r\n\r\n            let id = ids.sort(function (a: string, b: string) {\r\n                return a.localeCompare(b);\r\n            }).join(',');\r\n\r\n            var panelState = panelsStates[id];\r\n            var panelStateNew = false;\r\n            if (!panelState) {\r\n                panelStateNew = true;\r\n                panelState = panelsStates[id] = {};\r\n\r\n                panelState['texture'] = false;\r\n                panelState['compression'] = false;\r\n            }\r\n\r\n            // 多个材质，改变属性面板标题\r\n            if (assets.length > 1) {\r\n                var numTextures = 0;\r\n                var numTextureAtlases = 0;\r\n                for (var i = 0; i < assets.length; i++) {\r\n                    if (assets[i].get('type') === 'texture') {\r\n                        numTextures++;\r\n                    } else {\r\n                        numTextureAtlases++;\r\n                    }\r\n                }\r\n                var msg = '';\r\n                var comma = '';\r\n                // if (numTextures) {\r\n                //     msg += numTextures + ' Texture' + (numTextures > 1 ? 's' : '');\r\n                //     comma = ', ';\r\n                // }\r\n                if (numTextures) {\r\n                    msg += numTextures + '张贴图';\r\n                    comma = ', ';\r\n                }\r\n                if (numTextureAtlases) {\r\n                    msg += comma + numTextureAtlases + ' Texture Atlas' + (numTextureAtlases > 1 ? 'es' : '');\r\n                }\r\n                editor.call('attributes:header', msg);\r\n            }\r\n\r\n            // properties panel\r\n            var panel = editor.call('attributes:addPanel', {\r\n                name: '贴图',\r\n                foldable: true,\r\n                folded: panelState['texture']\r\n            });\r\n            panel.class.add('component');\r\n            panel.on('fold', function () { panelState['texture'] = true; });\r\n            panel.on('unfold', function () { panelState['texture'] = false; });\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:asset', panel, panel.headerElement);\r\n\r\n            // Calculate Meta按钮，暂时没用其实\r\n            var btnGetMeta = new Button('Calculate Meta');\r\n            btnGetMeta.class!.add('calculate-meta', 'large-with-icon');\r\n            var btnGetMetaVisibility = function () {\r\n                var visible = false;\r\n                for (var i = 0; i < assets.length; i++) {\r\n                    if (!visible && !assets[i].get('meta'))\r\n                        visible = true;\r\n                }\r\n                btnGetMeta.hidden = !visible;\r\n            };\r\n            btnGetMeta.on('click', function () {\r\n                if (!editor.call('permissions:write'))\r\n                    return;\r\n\r\n                for (var i = 0; i < assets.length; i++) {\r\n                    if (assets[i].get('meta'))\r\n                        continue;\r\n\r\n                    editor.call('realtime:send', 'pipeline', {\r\n                        name: 'meta',\r\n                        id: assets[i].get('uniqueId')\r\n                    });\r\n                }\r\n                btnGetMeta.enabled = false;\r\n            });\r\n            panel.append(btnGetMeta);\r\n\r\n            btnGetMetaVisibility();\r\n            for (var i = 0; i < assets.length; i++) {\r\n                if (btnGetMeta.hidden && !assets[i].get('meta'))\r\n                    btnGetMeta.hidden = false;\r\n\r\n                events.push(assets[i].on('meta:set', function () {\r\n                    btnGetMetaVisibility();\r\n                }));\r\n                events.push(assets[i].on('meta:unset', function () {\r\n                    btnGetMeta.hidden = false;\r\n                }));\r\n            }\r\n\r\n            // width\r\n            var fieldWidth = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Width',\r\n                link: assets,\r\n                path: 'meta.width',\r\n                placeholder: 'pixels'\r\n            });\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:width', fieldWidth.parent.innerElement.firstChild.ui);\r\n\r\n            // height\r\n            var fieldHeight = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Height',\r\n                link: assets,\r\n                path: 'meta.height',\r\n                placeholder: 'pixels'\r\n            });\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:height', fieldHeight.parent.innerElement.firstChild.ui);\r\n\r\n            // depth\r\n            var fieldDepth = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Depth',\r\n                link: assets,\r\n                path: 'meta.depth',\r\n                placeholder: 'bit'\r\n            });\r\n            var checkDepthField = function () {\r\n                if (!fieldDepth.value)\r\n                    fieldDepth.element.innerHTML = 'unknown';\r\n            };\r\n            checkDepthField();\r\n            fieldDepth.on('change', checkDepthField);\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:depth', fieldDepth.parent.innerElement.firstChild.ui);\r\n\r\n            // alpha\r\n            var fieldAlpha = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Alpha',\r\n                link: assets,\r\n                path: 'meta.alpha'\r\n            });\r\n            var checkAlphaField = function () {\r\n                if (!fieldAlpha.value)\r\n                    fieldAlpha.element.innerHTML = 'false';\r\n            };\r\n            checkAlphaField();\r\n            fieldAlpha.on('change', checkAlphaField);\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:alpha', fieldAlpha.parent.innerElement.firstChild.ui);\r\n\r\n            // interlaced\r\n            var fieldInterlaced = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Interlaced',\r\n                link: assets,\r\n                path: 'meta.interlaced'\r\n            });\r\n            var checkInterlacedField = function () {\r\n                if (!fieldInterlaced.value)\r\n                    fieldInterlaced.element.innerHTML = 'false';\r\n            };\r\n            checkInterlacedField();\r\n            fieldInterlaced.on('change', checkInterlacedField);\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:interlaced', fieldInterlaced.parent.innerElement.firstChild.ui);\r\n\r\n\r\n            // rgbm\r\n            var fieldRgbm = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Rgbm',\r\n                link: assets,\r\n                path: 'data.rgbm',\r\n                type: 'checkbox'\r\n            });\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:rgbm', fieldRgbm.parent.innerElement.firstChild.ui);\r\n\r\n            // mipmaps\r\n            var fieldMips = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Mipmaps',\r\n                link: assets,\r\n                path: 'data.mipmaps',\r\n                type: 'checkbox'\r\n            });\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:mipmaps', fieldMips.parent.innerElement.firstChild.ui);\r\n\r\n            // filtering\r\n            var fieldFiltering = editor.call('attributes:addField', {\r\n                parent: panel,\r\n                name: 'Filtering',\r\n                type: 'string',\r\n                enum: {\r\n                    '': '...',\r\n                    'nearest': 'Point',\r\n                    'linear': 'Linear'\r\n                }\r\n            });\r\n            // reference\r\n            editor.call('attributes:reference:attach', 'asset:texture:filtering', fieldFiltering.parent.innerElement.firstChild.ui);\r\n\r\n\r\n\r\n\r\n            // preview\r\n            if (assets.length === 1) {\r\n\r\n                var root = editor.call('attributes.rootPanel');\r\n\r\n                var reloadImage = function () {\r\n                    // if (assets[0].get('file.url') && assets[0].get('file.hash')) {\r\n                    //     image.src = assets[0].get('file.url').appendQuery('t=' + assets[0].get('file.hash'));\r\n                    //     previewContainer.style.display = '';\r\n                    // } else {\r\n                    //     previewContainer.style.display = 'none';\r\n                    // }\r\n\r\n                    if (assets[0].get('file')) {\r\n\r\n                        image.src = BabylonLoader.prefix + assets[0].get('id') + '/' + assets[0].get('name') + '?' + assets[0].get('file.hash');\r\n                        previewContainer.style.display = '';\r\n                    } else {\r\n                        previewContainer.style.display = 'none';\r\n                    }\r\n                };\r\n\r\n                var previewContainer = document.createElement('div');\r\n                previewContainer.classList.add('asset-preview-container');\r\n\r\n                var preview = document.createElement('div');\r\n                preview.classList.add('asset-preview');\r\n                var image = new Image();\r\n                image.onload = function () {\r\n                    root.class.add('animate');\r\n                    preview.style.backgroundImage = 'url(\"' + image.src + '\")';\r\n                };\r\n                reloadImage();\r\n                previewContainer.appendChild(preview);\r\n\r\n                preview.addEventListener('click', function () {\r\n                    if (root.element.classList.contains('large')) {\r\n                        root.element.classList.remove('large');\r\n                    } else {\r\n                        root.element.classList.add('large');\r\n                    }\r\n                }, false);\r\n\r\n                root.class.add('asset-preview');\r\n                root.element.insertBefore(previewContainer, root.innerElement);\r\n\r\n                var eventsPreview: any[] = [];\r\n                eventsPreview.push(assets[0].on('file.hash:set', reloadImage));\r\n                eventsPreview.push(assets[0].on('file.url:set', reloadImage));\r\n\r\n                panel.on('destroy', function () {\r\n                    for (var i = 0; i < eventsPreview.length; i++)\r\n                        eventsPreview[i].unbind();\r\n                    previewContainer.parentNode!.removeChild(previewContainer);\r\n                    root.class.remove('asset-preview', 'animate');\r\n                });\r\n            }\r\n\r\n            panel.once('destroy', function () {\r\n                for (var i = 0; i < events.length; i++)\r\n                    events[i].unbind();\r\n            });\r\n\r\n\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n}","import { Panel, Button } from \"../../ui\";\r\nimport { Observer } from \"../../lib\";\r\nimport { BabylonLoader } from \"../middleware/loader/babylonLoader\";\r\n\r\nexport class AttributesAssets {\r\n    public constructor() {\r\n\r\n        var sourceRuntimeOptions = {\r\n            '-1': 'various',\r\n            '0': 'yes',\r\n            '1': 'no'\r\n        };\r\n\r\n        var editableTypes = {\r\n            'script': 1,\r\n            'table': 1,\r\n            'html': 1,\r\n            'shader': 1,\r\n            'text': 1,\r\n            'json': 1\r\n        };\r\n\r\n        var legacyScripts = false;\r\n\r\n\r\n        var assetsPanel: Nullable<Panel> = null;\r\n\r\n\r\n        editor.on('attributes:inspect[asset]', function (assets: Observer[]) {\r\n            var events: any = [];\r\n\r\n            // unfold panel\r\n            var panel = editor.call('attributes.rootPanel');\r\n            if (panel.folded)\r\n                panel.folded = false;\r\n\r\n            var multi = assets.length > 1;\r\n            var type = ((assets[0].get('source') && assets[0].get('type') !== 'folder') ? 'source ' : '') + assets[0].get('type');\r\n\r\n            if (multi) {\r\n                editor.call('attributes:header', assets.length + ' assets');\r\n\r\n                for (var i = 0; i < assets.length; i++) {\r\n                    if (type !== ((assets[0].get('source') && assets[0].get('type') !== 'folder') ? 'source ' : '') + assets[i].get('type')) {\r\n                        type = '';\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                editor.call('attributes:header', type);\r\n            }\r\n\r\n            // panel\r\n            var panel = editor.call('attributes:addPanel');\r\n            panel.class.add('component');\r\n            assetsPanel = panel;\r\n            panel.once('destroy', function () {\r\n                assetsPanel = null;\r\n\r\n                for (var i = 0; i < events.length; i++)\r\n                    events[i].unbind();\r\n\r\n                events = null;\r\n            });\r\n\r\n            // 暂时不考虑\r\n            /*\r\n            var allBundles = editor.call('assets:bundles:list');\r\n            var bundlesEnum = { \"\": \"\" };\r\n            for (var i = 0; i < allBundles.length; i++) {\r\n                bundlesEnum[allBundles[i].get('id')] = allBundles[i].get('name');\r\n            }\r\n            */\r\n\r\n            if (multi) {\r\n                var fieldFilename = editor.call('attributes:addField', {\r\n                    parent: panel,\r\n                    name: 'Assets',\r\n                    value: assets.length\r\n                });\r\n\r\n                var scriptSelected = false;\r\n\r\n\r\n\r\n            } else {\r\n\r\n                if (legacyScripts && assets[0].get('type') === 'script') {\r\n                    // filename\r\n                    var fieldFilename = editor.call('attributes:addField', {\r\n                        parent: panel,\r\n                        name: 'Filename',\r\n                        // type: 'string',\r\n                        link: assets[0],\r\n                        path: 'filename'\r\n                    });\r\n                    // reference\r\n                    editor.call('attributes:reference:attach', 'asset:script:filename', fieldFilename.parent.innerElement.firstChild.ui);\r\n\r\n                } else {\r\n                    // id\r\n                    var fieldId = editor.call('attributes:addField', {\r\n                        parent: panel,\r\n                        name: 'ID',\r\n                        link: assets[0],\r\n                        path: 'id'\r\n                    });\r\n                    // reference\r\n                    editor.call('attributes:reference:attach', 'asset:id', fieldId.parent.innerElement.firstChild.ui);\r\n\r\n                    // name\r\n                    var fieldName = editor.call('attributes:addField', {\r\n                        parent: panel,\r\n                        name: '名字',\r\n                        type: 'string',\r\n                        value: assets[0].get('name')\r\n                    });\r\n                    events.push(assets[0].on('name:set', function (newName: string) {\r\n                        fieldName.value = newName;\r\n                    }));\r\n                    events.push(fieldName.on('change', function (newName: string) {\r\n                        // console.log('newName: ' + newName);\r\n                        // console.log('name: ' + assets[0].get('name'));\r\n                        if (newName !== assets[0].get('name')) {\r\n                            editor.call('assets:rename', assets[0], newName);\r\n                        }\r\n                    }));\r\n                    fieldName.class.add('asset-name');\r\n                    // reference\r\n                    editor.call('attributes:reference:attach', 'asset:name', fieldName.parent.innerElement.firstChild.ui);\r\n\r\n                    if (!assets[0].get('source') && assets[0].get('type') !== 'folder') {\r\n                        // tags\r\n                        var fieldTags = editor.call('attributes:addField', {\r\n                            parent: panel,\r\n                            name: 'Tags',\r\n                            placeholder: 'Add Tag',\r\n                            type: 'tags',\r\n                            tagType: 'string',\r\n                            link: assets[0],\r\n                            path: 'tags'\r\n                        });\r\n                        // reference\r\n                        editor.call('attributes:reference:attach', 'asset:tags', fieldTags.parent.parent.innerElement.firstChild.ui);\r\n                    }\r\n\r\n                    // runtime\r\n                    var runtime = sourceRuntimeOptions[assets[0].get('source') ? '1' : '0'];\r\n                    // var runtime = sourceRuntimeOptions['0'];\r\n                    if (assets[0].get('type') === 'folder')\r\n                        runtime = sourceRuntimeOptions['1'];\r\n\r\n                    var fieldRuntime = editor.call('attributes:addField', {\r\n                        parent: panel,\r\n                        name: 'Runtime',\r\n                        value: runtime\r\n                    });\r\n                    // reference\r\n                    editor.call('attributes:reference:attach', 'asset:runtime', fieldRuntime.parent.innerElement.firstChild.ui);\r\n\r\n                    // taskInfo\r\n                    var fieldFailed = editor.call('attributes:addField', {\r\n                        parent: panel,\r\n                        name: 'Failed',\r\n                        link: assets[0],\r\n                        path: 'taskInfo'\r\n                    });\r\n                    fieldFailed.class.add('error');\r\n\r\n                    var checkFailed = function () {\r\n                        fieldFailed.parent.hidden = assets[0].get('task') !== 'failed' || !assets[0].get('taskInfo');\r\n                    };\r\n                    checkFailed();\r\n\r\n                    events.push(assets[0].on('task:set', checkFailed));\r\n                    events.push(assets[0].on('taskInfo:set', checkFailed));\r\n                    events.push(assets[0].on('taskInfo:unset', checkFailed));\r\n\r\n                }\r\n\r\n                // type\r\n                var fieldType = editor.call('attributes:addField', {\r\n                    parent: panel,\r\n                    name: 'Type',\r\n                    value: type\r\n                });\r\n                // reference\r\n                editor.call('attributes:reference:attach', 'asset:type', fieldType.parent.innerElement.firstChild.ui);\r\n                // reference type\r\n                if (!assets[0].get('source'))\r\n                    editor.call('attributes:reference:asset:' + assets[0].get('type') + ':asset:attach', fieldType);\r\n\r\n                if (!(legacyScripts && assets[0].get('type') === 'script') && assets[0].get('type') !== 'folder' && !assets[0].get('source')) {\r\n                    // preload\r\n                    var fieldPreload = editor.call('attributes:addField', {\r\n                        parent: panel,\r\n                        name: 'Preload',\r\n                        type: 'checkbox',\r\n                        link: assets[0],\r\n                        path: 'preload'\r\n                    });\r\n                    fieldPreload.parent.class.add('preload');\r\n                    editor.call('attributes:reference:attach', 'asset:preload', fieldPreload.parent.innerElement.firstChild.ui);\r\n                }\r\n\r\n\r\n\r\n\r\n                // size\r\n                /*\r\n                if (assets[0].has('file') || assets[0].get('type') === 'bundle') {\r\n                    var size = assets[0].get('type') === 'bundle' ? editor.call('assets:bundles:calculateSize', assets[0]) : assets[0].get('file.size');\r\n                    var fieldSize = editor.call('attributes:addField', {\r\n                        parent: panel,\r\n                        name: 'Size',\r\n                        value: bytesToHuman(size)\r\n                    });\r\n\r\n                    var evtSize = [];\r\n                    evtSize.push(assets[0].on('file:set', function (value) {\r\n                        fieldSize.text = bytesToHuman(value ? value.size : 0);\r\n                    }));\r\n\r\n                    evtSize.push(assets[0].on('file.size:set', function (value) {\r\n                        fieldSize.text = bytesToHuman(value);\r\n                    }));\r\n\r\n                    if (assets[0].get('type') === 'bundle') {\r\n                        var recalculateSize = function () {\r\n                            fieldSize.text = bytesToHuman(editor.call('assets:bundles:calculateSize', assets[0]));\r\n                        };\r\n\r\n                        evtSize.push(assets[0].on('data.assets:set', recalculateSize));\r\n                        evtSize.push(assets[0].on('data.assets:insert', recalculateSize));\r\n                        evtSize.push(assets[0].on('data.assets:remove', recalculateSize));\r\n                    }\r\n\r\n                    panel.once('destroy', function () {\r\n                        for (var i = 0; i < evtSize.length; i++) {\r\n                            evtSize[i].unbind();\r\n                        }\r\n                        evtSize.length = 0;\r\n                    });\r\n\r\n                    // reference\r\n                    editor.call('attributes:reference:attach', 'asset:size', fieldSize.parent.innerElement.firstChild.ui);\r\n                }\r\n                */\r\n\r\n                // 下载区域按钮\r\n                var panelButtons = new Panel();\r\n                panelButtons.class!.add('buttons');\r\n                panel.append(panelButtons);\r\n\r\n                // download\r\n                if (assets[0].get('type') !== 'folder' && !(legacyScripts && assets[0].get('type') === 'script') && assets[0].get('type') !== 'sprite') {\r\n                    // download\r\n                    var btnDownload = new Button();\r\n\r\n                    btnDownload.hidden = !editor.call('permissions:read');\r\n                    var evtBtnDownloadPermissions = editor.on('permissions:set:' + 'id', function () {\r\n                        btnDownload.hidden = !editor.call('permissions:read');\r\n                    });\r\n\r\n                    btnDownload.text = '下载';\r\n                    btnDownload.class!.add('download-asset', 'large-with-icon');\r\n                    btnDownload.element!.addEventListener('click', function (evt) {\r\n                        // if (btnDownload.prevent)\r\n                        //     return;\r\n\r\n                        // 下载\r\n                        if (assets[0].get('source') || assets[0].get('type') === 'texture' || assets[0].get('type') === 'audio') {\r\n                            window.open(BabylonLoader.prefix + assets[0].get('id') + '/' + assets[0].get('name'));\r\n                        } else {\r\n                            window.open('/api/assets/' + assets[0].get('id') + '/download?branchId=' + 'id');\r\n                        }\r\n                    });\r\n                    panelButtons.append(btnDownload);\r\n\r\n                    btnDownload.once('destroy', function () {\r\n                        evtBtnDownloadPermissions.unbind();\r\n                    });\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n        editor.on('attributes:assets:toggleInfo', function (enabled: boolean) {\r\n            if (assetsPanel) {\r\n                assetsPanel.hidden = !enabled;\r\n            }\r\n        });\r\n\r\n        editor.method('attributes:assets:panel', function () {\r\n            return assetsPanel;\r\n        });\r\n    }\r\n}","import { Panel, Button, Menu, MenuItem } from '../../ui';\r\nimport { Observer } from '../../lib';\r\n\r\nexport class AttributesEntity {\r\n\r\n\r\n\r\n\r\n    public constructor() {\r\n\r\n        var panelComponents: any;\r\n\r\n        editor.method('attributes:entity.panelComponents', function () {\r\n            return panelComponents;\r\n        });\r\n\r\n        // add component menu\r\n        // var menuAddComponent = new Menu();\r\n        // var components = editor.call('components:schema');\r\n        // var list = editor.call('components:list');\r\n        // for (var i = 0; i < list.length; i++) {\r\n        //     menuAddComponent.append(new MenuItem({\r\n        //         text: components[list[i]].$title,\r\n        //         value: list[i]\r\n        //     }));\r\n        // }\r\n        // menuAddComponent.on('open', function () {\r\n        //     var items = editor.call('selector:items');\r\n\r\n        //     var legacyAudio = editor.call('settings:project').get('useLegacyAudio');\r\n        //     for (var i = 0; i < list.length; i++) {\r\n        //         var different = false;\r\n        //         var disabled = items[0].has('components.' + list[i]);\r\n\r\n        //         for (var n = 1; n < items.length; n++) {\r\n        //             if (disabled !== items[n].has('components.' + list[i])) {\r\n        //                 var different = true;\r\n        //                 break;\r\n        //             }\r\n        //         }\r\n        //         menuAddComponent.findByPath([list[i]])!.disabled = different ? false : disabled;\r\n\r\n        //         if (list[i] === 'audiosource')\r\n        //             menuAddComponent.findByPath([list[i]])!.hidden = !legacyAudio;\r\n        //     }\r\n        // });\r\n        // menuAddComponent.on('select', function (path) {\r\n        //     var items = editor.call('selector:items');\r\n        //     var component = path[0];\r\n        //     editor.call('entities:addComponent', items, component);\r\n        // });\r\n        // editor.call('layout.root').append(menuAddComponent);\r\n\r\n\r\n\r\n\r\n\r\n        var items: any = null;\r\n        var argsList: any = [];\r\n        var argsFieldsChanges: any = [];\r\n\r\n\r\n        // initialize fields\r\n        var initialize = function () {\r\n            items = {};\r\n\r\n            // panel\r\n            var panel = items.panel = editor.call('attributes:addPanel');\r\n            panel.class.add('component');\r\n\r\n\r\n            // enabled\r\n            var argsEnabled = {\r\n                parent: panel,\r\n                // name: 'Enabled',\r\n                name: '激活',\r\n                type: 'checkbox',\r\n                path: 'enabled'\r\n            };\r\n            items.fieldEnabled = editor.call('attributes:addField', argsEnabled);\r\n            // TODO: 帮助文档链接\r\n            // editor.call('attributes:reference:attach', 'entity:enabled', items.fieldEnabled.parent.innerElement.firstChild.ui);\r\n            argsList.push(argsEnabled);\r\n            argsFieldsChanges.push(items.fieldEnabled);\r\n\r\n\r\n            // name\r\n            var argsName = {\r\n                parent: panel,\r\n                name: '名字',\r\n                // name: 'Name',\r\n                type: 'string',\r\n                trim: true,\r\n                path: 'name'\r\n            };\r\n            items.fieldName = editor.call('attributes:addField', argsName);\r\n            items.fieldName.class.add('entity-name');\r\n            // editor.call('attributes:reference:attach', 'entity:name', items.fieldName.parent.innerElement.firstChild.ui);\r\n            argsList.push(argsName);\r\n            argsFieldsChanges.push(items.fieldName);\r\n\r\n\r\n            // tags\r\n            // var argsTags = {\r\n            //     parent: panel,\r\n            //     name: 'Tags',\r\n            //     placeholder: 'Add Tag',\r\n            //     type: 'tags',\r\n            //     tagType: 'string',\r\n            //     path: 'tags'\r\n            // };\r\n            // items.fieldTags = editor.call('attributes:addField', argsTags);\r\n            // // editor.call('attributes:reference:attach', 'entity:tags', items.fieldTags.parent.parent.innerElement.firstChild.ui);\r\n            // argsList.push(argsTags);\r\n\r\n\r\n            // position\r\n            var argsPosition = {\r\n                parent: panel,\r\n                name: '位置',\r\n                // name: 'Position',\r\n                placeholder: ['X', 'Y', 'Z'],\r\n                precision: 3,\r\n                step: 0.05,\r\n                type: 'vec3',\r\n                path: 'position'\r\n            };\r\n            items.fieldPosition = editor.call('attributes:addField', argsPosition);\r\n            // editor.call('attributes:reference:attach', 'entity:position', items.fieldPosition[0].parent.innerElement.firstChild.ui);\r\n            argsList.push(argsPosition);\r\n            argsFieldsChanges = argsFieldsChanges.concat(items.fieldPosition);\r\n\r\n            // rotation\r\n            var argsRotation = {\r\n                parent: panel,\r\n                name: '角度',\r\n                // name: 'Rotation',\r\n                placeholder: ['X', 'Y', 'Z'],\r\n                precision: 2,\r\n                step: 0.1,\r\n                type: 'vec3',\r\n                path: 'rotation'\r\n            };\r\n            items.fieldRotation = editor.call('attributes:addField', argsRotation);\r\n            // editor.call('attributes:reference:attach', 'entity:rotation', items.fieldRotation[0].parent.innerElement.firstChild.ui);\r\n            argsList.push(argsRotation);\r\n            argsFieldsChanges = argsFieldsChanges.concat(items.fieldRotation);\r\n\r\n\r\n            // scale\r\n            var argsScale = {\r\n                parent: panel,\r\n                name: '比例',\r\n                // name: 'Scale',\r\n                placeholder: ['X', 'Y', 'Z'],\r\n                precision: 3,\r\n                step: 0.05,\r\n                type: 'vec3',\r\n                path: 'scale'\r\n            };\r\n            items.fieldScale = editor.call('attributes:addField', argsScale);\r\n            // editor.call('attributes:reference:attach', 'entity:scale', items.fieldScale[0].parent.innerElement.firstChild.ui);\r\n            argsList.push(argsScale);\r\n            argsFieldsChanges = argsFieldsChanges.concat(items.fieldScale);\r\n\r\n            // checkCollisions\r\n            var argsCheckCollisions = {\r\n                parent: panel,\r\n                // name: 'Enabled',\r\n                name: '碰撞检测',\r\n                type: 'checkbox',\r\n                path: 'checkCollisions'\r\n            };\r\n            items.checkCollisions = editor.call('attributes:addField', argsCheckCollisions);\r\n            // TODO: 帮助文档链接\r\n            // editor.call('attributes:reference:attach', 'entity:enabled', items.fieldEnabled.parent.innerElement.firstChild.ui);\r\n            argsList.push(argsCheckCollisions);\r\n            argsFieldsChanges.push(items.checkCollisions);\r\n\r\n            // isPickable\r\n            var argsIsPickable = {\r\n                parent: panel,\r\n                // name: 'Enabled',\r\n                name: '可选中',\r\n                type: 'checkbox',\r\n                path: 'pickable'\r\n            };\r\n            items.pickable = editor.call('attributes:addField', argsIsPickable);\r\n            // TODO: 帮助文档链接\r\n            // editor.call('attributes:reference:attach', 'entity:enabled', items.fieldEnabled.parent.innerElement.firstChild.ui);\r\n            argsList.push(argsIsPickable);\r\n            argsFieldsChanges.push(items.pickable);\r\n\r\n\r\n            // components panel\r\n            panelComponents = items.panelComponents = editor.call('attributes:addPanel');\r\n\r\n            // add component\r\n            var btnAddComponent = items.btnAddComponent = new Button();\r\n\r\n            // btnAddComponent.hidden = !editor.call('permissions:write');\r\n            // editor.on('permissions:writeState', function (state: boolean) {\r\n            //     btnAddComponent.hidden = !state;\r\n            // });\r\n\r\n            // btnAddComponent.text = 'Add Component';\r\n            btnAddComponent.text = 'To Be Continued';\r\n            btnAddComponent.class!.add('add-component');\r\n            btnAddComponent.style!.textAlign = 'center';\r\n            // btnAddComponent.on('click', function (evt: MouseEvent) {\r\n            //     menuAddComponent.position(evt.clientX, evt.clientY);\r\n            //     menuAddComponent.open = true;\r\n            // });\r\n            panel.append(btnAddComponent);\r\n        };\r\n\r\n        // before clearing inspector, preserve elements\r\n        editor.on('attributes:beforeClear', function () {\r\n            // console.error('attributes:beforeClear');\r\n            // unlink fields\r\n            for (var i = 0; i < argsList.length; i++) {\r\n                argsList[i].link = null;\r\n                argsList[i].unlinkField();\r\n            }\r\n            if (!items || !items.panel.parent)\r\n                return;\r\n\r\n            // remove panel from inspector\r\n            items.panel.parent.remove(items.panel);\r\n\r\n            // clear components\r\n            items.panelComponents.parent.remove(items.panelComponents);\r\n            items.panelComponents.clear();\r\n\r\n\r\n        });\r\n\r\n        var inspectEvents: any = [];\r\n\r\n        // link data to fields when inspecting\r\n        editor.on('attributes:inspect[entity]', function (entities: Observer[]) {\r\n            if (entities.length > 1) {\r\n                editor.call('attributes:header', entities.length + '个物体');\r\n            } else {\r\n                editor.call('attributes:header', '物体属性');\r\n            }\r\n\r\n            if (!items)\r\n                initialize();\r\n            // console.warn(items);\r\n\r\n            var root = editor.call('attributes.rootPanel');\r\n\r\n            if (!items.panel.parent)\r\n                root.append(items.panel);\r\n\r\n            if (!items.panelComponents.parent)\r\n                root.append(items.panelComponents);\r\n\r\n            // disable renderChanges\r\n            for (var i = 0; i < argsFieldsChanges.length; i++)\r\n                argsFieldsChanges[i].renderChanges = false;\r\n\r\n            // link fields\r\n            for (var i = 0; i < argsList.length; i++) {\r\n                argsList[i].link = entities;\r\n                argsList[i].linkField();\r\n            }\r\n\r\n            // enable renderChanges\r\n            for (var i = 0; i < argsFieldsChanges.length; i++)\r\n                argsFieldsChanges[i].renderChanges = true;\r\n\r\n            // disable fields if needed\r\n            toggleFields(entities);\r\n\r\n            onInspect(entities);\r\n        });\r\n\r\n        editor.on('attributes:clear', function () {\r\n            onUninspect();\r\n        });\r\n\r\n        var toggleFields = function (selectedEntities: Observer[]) {\r\n            var disablePositionXY = false;\r\n            var disableRotation = false;\r\n            var disableScale = false;\r\n\r\n            for (var i = 0, len = selectedEntities.length; i < len; i++) {\r\n                var entity = selectedEntities[i];\r\n\r\n                // disable rotation / scale for 2D screens\r\n                if (entity.get('components.screen.screenSpace')) {\r\n                    disableRotation = true;\r\n                    disableScale = true;\r\n                }\r\n\r\n                // disable position on the x/y axis for elements that are part of a layout group\r\n                if (editor.call('entities:layout:isUnderControlOfLayoutGroup', entity)) {\r\n                    disablePositionXY = true;\r\n                }\r\n            }\r\n\r\n            items.fieldPosition[0].enabled = !disablePositionXY;\r\n            items.fieldPosition[1].enabled = !disablePositionXY;\r\n\r\n            for (var i = 0; i < 3; i++) {\r\n                items.fieldRotation[i].enabled = !disableRotation;\r\n                items.fieldScale[i].enabled = !disableScale;\r\n\r\n                items.fieldRotation[i].renderChanges = !disableRotation;\r\n                items.fieldScale[i].renderChanges = !disableScale;\r\n            }\r\n\r\n        };\r\n\r\n        var onInspect = function (entities: Observer[]) {\r\n            onUninspect();\r\n\r\n            var addEvents = function (entity: Observer) {\r\n                inspectEvents.push(entity.on('*:set', function (path: string) {\r\n                    if (/components.screen.screenSpace/.test(path) ||\r\n                        /^parent/.test(path) ||\r\n                        /components.layoutchild.excludeFromLayout/.test(path)) {\r\n                        toggleFieldsIfNeeded(entity);\r\n                    }\r\n                }));\r\n            };\r\n\r\n            var toggleFieldsIfNeeded = function (entity: Observer) {\r\n                if (editor.call('selector:has', entity))\r\n                    toggleFields(editor.call('selector:items'));\r\n            };\r\n\r\n\r\n            for (var i = 0, len = entities.length; i < len; i++) {\r\n                addEvents(entities[i]);\r\n            }\r\n        };\r\n\r\n        var onUninspect = function () {\r\n            for (var i = 0; i < inspectEvents.length; i++) {\r\n                inspectEvents[i].unbind();\r\n            }\r\n\r\n            inspectEvents.length = 0;\r\n\r\n        };\r\n\r\n\r\n    }\r\n\r\n}","export class AttributeHistory {\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n}","import { Panel, Label, Progress, Element, TextField, Button, TextAreaField, Slider, NumberField, Checkbox, ColorField, ImageField, Code, SelectField, TopElementPanel } from \"../../ui\";\r\nimport { VeryEngine } from \"../../engine\";\r\nimport { Observer } from \"../../lib\";\r\n\r\nexport class AttributesPanel {\r\n\r\n\r\n    public root: TopElementPanel;\r\n\r\n    // private inspectedItems: EventHandle[] = [];\r\n\r\n    public title: string = '属性面板';\r\n\r\n    public constructor() {\r\n        this.root = VeryEngine.attributes;\r\n\r\n        this.init();\r\n\r\n    }\r\n\r\n    private init(): void {\r\n        let self = this;\r\n\r\n        // clearing\r\n        editor.method('attributes:clear', this.clearPanel);\r\n\r\n        // set header\r\n        editor.method('attributes:header', (text: string) => {\r\n            if (text.toLowerCase() === 'texture') {\r\n                text = '贴图';\r\n            } else if (text.toLowerCase() === 'material') {\r\n                text = '材质';\r\n            } else if (text.toLowerCase() === 'model') {\r\n                text = '模型';\r\n            } else if (text.toLowerCase() === 'folder') {\r\n                text = '文件夹';\r\n            }\r\n            self.root.headerText = text;\r\n        });\r\n\r\n        // return root panel\r\n        editor.method('attributes.rootPanel', function () {\r\n            return self.root;\r\n        });\r\n\r\n        // add panel\r\n        editor.method('attributes:addPanel', function (args: AddPanelArgs) {\r\n            args = args || {};\r\n\r\n            // panel\r\n            let panel = new Panel(args.name || '');\r\n            // parent\r\n            (args.parent || self.root).append(panel);\r\n\r\n            // folding\r\n            panel.foldable = args.foldable || args.folded || false;\r\n            panel.folded = args.folded || false;\r\n\r\n            return panel;\r\n        });\r\n\r\n        // TODO\r\n        var historyState = function (item: any, state: boolean) {\r\n            if (item.history !== undefined) {\r\n                if (typeof (item.history) === 'boolean') {\r\n                    item.history = state;\r\n                } else {\r\n                    item.history.enabled = state;\r\n                }\r\n            } else {\r\n                if (item._parent && item._parent.history !== undefined) {\r\n                    item._parent.history.enabled = state;\r\n                }\r\n            }\r\n        };\r\n\r\n        // get the right path from args\r\n        var pathAt = function (args: any, index: number) {\r\n            return (args.paths && args.paths.length > 0) ? args.paths[index] : args.path;\r\n        };\r\n\r\n        editor.method('attributes:linkField', function (args: any) {\r\n            var changeField, changeFieldQueue;\r\n            args.field._changing = false;\r\n            var events: any = [];\r\n\r\n            if (!(args.link instanceof Array))\r\n                args.link = [args.link];\r\n\r\n            var update = function () {\r\n                var different = false;\r\n                var path = pathAt(args, 0);\r\n                // console.log(args.link[0].has(path));\r\n                // console.log(args.link[0].get(path));\r\n                // console.error(args.link[0].get('rotation'));\r\n                // console.error(args.link[0].has('rotation.0'));\r\n                // console.error(args.link[0].has('rotation'));\r\n\r\n\r\n                var value = args.link[0].has(path) ? args.link[0].get(path) : undefined;\r\n                // console.warn(args.link[0]);\r\n                // console.warn('path: ' + path);\r\n                // console.warn(value);\r\n                if (args.type === 'rgb') {\r\n                    if (value) {\r\n                        for (var i = 1; i < args.link.length; i++) {\r\n                            path = pathAt(args, i);\r\n                            if (!value.equals(args.link[i].get(path))) {\r\n                                value = null;\r\n                                different = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (value) {\r\n                        value = value.map(function (v: number) {\r\n                            return Math.floor(v * 255);\r\n                        });\r\n                    }\r\n                } else if (args.type === 'asset') {\r\n                    var countUndefined = value === undefined ? 1 : 0;\r\n                    for (var i = 1; i < args.link.length; i++) {\r\n                        path = pathAt(args, i);\r\n                        if (!args.link[i].has(path)) {\r\n                            countUndefined++;\r\n                            continue;\r\n                        }\r\n\r\n                        var val = args.link[i].get(path);\r\n\r\n                        if ((value || 0) !== (args.link[i].get(path) || 0)) {\r\n                            if (value !== undefined) {\r\n                                value = args.enum ? '' : null;\r\n                                different = true;\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        value = val;\r\n                    }\r\n\r\n                    if (countUndefined && countUndefined != args.link.length) {\r\n                        args.field.class.add('star');\r\n                        if (! /^\\* /.test(args.field._title.text))\r\n                            args.field._title.text = '* ' + args.field._title.text;\r\n                    } else {\r\n                        args.field.class.remove('star');\r\n                        if (/^\\* /.test(args.field._title.text))\r\n                            args.field._title.text = args.field._title.text.substring(2);\r\n                    }\r\n\r\n                    if (different) {\r\n                        args.field.class.add('null');\r\n                        args.field._title.text = 'various';\r\n                    } else {\r\n                        args.field.class.remove('null');\r\n                    }\r\n                } else if (args.type === 'entity' || !args.type) {\r\n                    for (var i = 1; i < args.link.length; i++) {\r\n                        path = pathAt(args, i);\r\n                        if (value !== args.link[i].get(path)) {\r\n                            value = 'various';\r\n                            different = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (different) {\r\n                        args.field.class.add('null');\r\n                        args.field.text = 'various';\r\n                    } else {\r\n                        args.field.class.remove('null');\r\n                    }\r\n                } else {\r\n                    // console.error(value);\r\n                    // console.error(args.link);\r\n                    // var valueFound = false;\r\n                    // for (var i = 0; i < args.link.length; i++) {\r\n                    //     path = pathAt(args, i);\r\n                    //     console.error(path);\r\n                    //     if (!args.link[i].has(path))\r\n                    //         continue;\r\n\r\n                    //     if (!valueFound) {\r\n                    //         console.error(path);\r\n                    //         valueFound = true;\r\n                    //         value = args.link[i].get(path);\r\n                    //     } else {\r\n\r\n                    //         var v = args.link[i].get(path);\r\n                    //         console.error(args.link[i]);\r\n                    //         console.error(v);\r\n                    //         if ((value || 0) !== (v || 0)) {\r\n                    //             value = args.enum ? '' : null;\r\n                    //             different = true;\r\n                    //             break;\r\n                    //         }\r\n                    //     }\r\n                    // }\r\n                    // console.error(value);\r\n                }\r\n\r\n                args.field._changing = true;\r\n                args.field.value = value;\r\n\r\n\r\n                if (args.type === 'checkbox')\r\n                    args.field._onLinkChange(value);\r\n\r\n                args.field._changing = false;\r\n\r\n                // TODO\r\n                // if (args.enum) {\r\n                //     var opt = args.field.optionElements[''];\r\n                //     if (opt) opt.style.display = value !== '' ? 'none' : '';\r\n                // } else {\r\n                //     args.field.proxy = value == null ? '...' : null;\r\n                // }\r\n            };\r\n\r\n            changeField = function (value: any) {\r\n                if (args.field._changing)\r\n                    return;\r\n\r\n                // TODO\r\n                if (args.enum) {\r\n                    // var opt = this.optionElements[''];\r\n                    // if (opt) opt.style.display = value !== '' ? 'none' : '';\r\n                } else {\r\n                    // this.proxy = value === null ? '...' : null;\r\n                }\r\n\r\n                if (args.trim)\r\n                    value = value.trim();\r\n\r\n                if (args.type === 'rgb') {\r\n                    value = value.map(function (v: number) {\r\n                        return v / 255;\r\n                    });\r\n                } else if (args.type === 'asset') {\r\n                    args.field.class.remove('null');\r\n                }\r\n\r\n                var items: any = [];\r\n\r\n                // set link value\r\n                args.field._changing = true;\r\n                if (args.type === \"string\" && args.trim)\r\n                    args.field.value = value;\r\n\r\n                for (var i = 0; i < args.link.length; i++) {\r\n                    var path = pathAt(args, i);\r\n                    if (!args.link[i].has(path)) continue;\r\n\r\n                    items.push({\r\n                        get: args.link[i].history !== undefined ? args.link[i].history._getItemFn : null,\r\n                        item: args.link[i],\r\n                        value: args.link[i].has(path) ? args.link[i].get(path) : undefined\r\n                    });\r\n\r\n                    historyState(args.link[i], false);\r\n                    args.link[i].set(path, value);\r\n                    historyState(args.link[i], true);\r\n                }\r\n                args.field._changing = false;\r\n\r\n                // history\r\n                if (args.type !== 'rgb' && !args.slider && !args.stopHistory) {\r\n                    editor.call('history:add', {\r\n                        name: pathAt(args, 0),\r\n                        undo: function () {\r\n                            var different = false;\r\n                            for (var i = 0; i < items.length; i++) {\r\n                                var path = pathAt(args, i);\r\n                                var item;\r\n                                if (items[i].get) {\r\n                                    item = items[i].get();\r\n                                    if (!item)\r\n                                        continue;\r\n                                } else {\r\n                                    item = items[i].item;\r\n                                }\r\n\r\n                                if (!different && items[0].value !== items[i].value)\r\n                                    different = true;\r\n\r\n                                historyState(item, false);\r\n                                if (items[i].value === undefined)\r\n                                    item.unset(path);\r\n                                else\r\n                                    item.set(path, items[i].value);\r\n                                historyState(item, true);\r\n                            }\r\n\r\n                            if (different) {\r\n                                args.field.class.add('null');\r\n                            } else {\r\n                                args.field.class.remove('null');\r\n                            }\r\n                        },\r\n                        redo: function () {\r\n                            for (var i = 0; i < items.length; i++) {\r\n                                var path = pathAt(args, i);\r\n                                var item;\r\n                                if (items[i].get) {\r\n                                    item = items[i].get();\r\n                                    if (!item)\r\n                                        continue;\r\n                                } else {\r\n                                    item = items[i].item;\r\n                                }\r\n\r\n                                historyState(item, false);\r\n                                if (value === undefined)\r\n                                    item.unset(path);\r\n                                else\r\n                                    item.set(path, value);\r\n                                item.set(path, value);\r\n                                historyState(item, true);\r\n                            }\r\n\r\n                            args.field.class.remove('null');\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n\r\n            changeFieldQueue = function () {\r\n                // console.log('changeFieldQueue');\r\n\r\n                if (args.field._changing)\r\n                    return;\r\n\r\n                args.field._changing = true;\r\n                setTimeout(function () {\r\n                    args.field._changing = false;\r\n                    update();\r\n                }, 0);\r\n            };\r\n\r\n            var historyStart: any, historyEnd: any;\r\n\r\n            if (args.type === 'rgb' || args.slider) {\r\n                historyStart = function () {\r\n                    var items = [];\r\n\r\n                    for (var i = 0; i < args.link.length; i++) {\r\n                        var v = args.link[i].get(pathAt(args, i));\r\n                        if (v instanceof Array)\r\n                            v = v.slice(0);\r\n\r\n                        items.push({\r\n                            get: args.link[i].history !== undefined ? args.link[i].history._getItemFn : null,\r\n                            item: args.link[i],\r\n                            value: v\r\n                        });\r\n                    }\r\n\r\n                    return items;\r\n                };\r\n\r\n                historyEnd = function (items: any, value: any) {\r\n                    // history\r\n                    editor.call('history:add', {\r\n                        name: pathAt(args, 0),\r\n                        undo: function () {\r\n                            for (var i = 0; i < items.length; i++) {\r\n                                var item;\r\n                                if (items[i].get) {\r\n                                    item = items[i].get();\r\n                                    if (!item)\r\n                                        continue;\r\n                                } else {\r\n                                    item = items[i].item;\r\n                                }\r\n\r\n                                historyState(item, false);\r\n                                item.set(pathAt(args, i), items[i].value);\r\n                                historyState(item, true);\r\n                            }\r\n                        },\r\n                        redo: function () {\r\n                            for (var i = 0; i < items.length; i++) {\r\n                                var item;\r\n                                if (items[i].get) {\r\n                                    item = items[i].get();\r\n                                    if (!item)\r\n                                        continue;\r\n                                } else {\r\n                                    item = items[i].item;\r\n                                }\r\n\r\n                                historyState(item, false);\r\n                                item.set(pathAt(args, i), value);\r\n                                historyState(item, true);\r\n                            }\r\n                        }\r\n                    });\r\n                };\r\n            }\r\n\r\n            if (args.type === 'rgb') {\r\n                var colorPickerOn = false;\r\n                events.push(args.field.on('click', function () {\r\n                    colorPickerOn = true;\r\n\r\n                    // set picker color\r\n                    editor.call('picker:color', args.field.value);\r\n\r\n                    var items: any = [];\r\n\r\n                    // picking starts\r\n                    var evtColorPickStart = editor.on('picker:color:start', function () {\r\n                        items = historyStart();\r\n                    });\r\n\r\n                    // picked color\r\n                    var evtColorPick = editor.on('picker:color', function (color: any) {\r\n                        args.field.value = color;\r\n                    });\r\n\r\n                    var evtColorPickEnd = editor.on('picker:color:end', function () {\r\n                        historyEnd(items.slice(0), args.field.value.map(function (v: number) {\r\n                            return v / 255;\r\n                        }));\r\n                    });\r\n\r\n                    // position picker\r\n                    var rectPicker = editor.call('picker:color:rect');\r\n                    var rectField = args.field.element.getBoundingClientRect();\r\n                    editor.call('picker:color:position', rectField.left - rectPicker.width, rectField.top);\r\n\r\n                    // color changed, update picker\r\n                    var evtColorToPicker = args.field.on('change', function () {\r\n                        // TODO\r\n                        // editor.call('picker:color:set', this.value);\r\n                    });\r\n\r\n                    // picker closed\r\n                    editor.once('picker:color:close', function () {\r\n                        evtColorPick.unbind();\r\n                        evtColorPickStart.unbind();\r\n                        evtColorPickEnd.unbind();\r\n                        evtColorToPicker.unbind();\r\n                        colorPickerOn = false;\r\n                        args.field.element.focus();\r\n                    });\r\n                }));\r\n\r\n                // close picker if field destroyed\r\n                args.field.once('destroy', function () {\r\n                    if (colorPickerOn)\r\n                        editor.call('picker:color:close');\r\n                });\r\n            } else if (args.slider) {\r\n                var sliderRecords: any;\r\n\r\n                events.push(args.field.on('start', function () {\r\n                    sliderRecords = historyStart();\r\n                }));\r\n\r\n                events.push(args.field.on('end', function () {\r\n                    historyEnd(sliderRecords.slice(0), args.field.value);\r\n                }));\r\n            }\r\n\r\n            update();\r\n            events.push(args.field.on('change', changeField));\r\n            // 数据关联设置入口\r\n            for (var i = 0; i < args.link.length; i++) {\r\n                events.push(args.link[i].on(pathAt(args, i) + ':set', changeFieldQueue));\r\n                events.push(args.link[i].on(pathAt(args, i) + ':unset', changeFieldQueue));\r\n            }\r\n            events.push(args.field.once('destroy', function () {\r\n                for (var i = 0; i < events.length; i++)\r\n                    events[i].unbind();\r\n            }));\r\n            // ?历史记录回溯用?\r\n            return events;\r\n        });\r\n\r\n        // add field\r\n        editor.method('attributes:addField', function (args: any) {\r\n\r\n            // parent panel，父物体\r\n            var panel = args.panel;\r\n\r\n            if (!panel) {\r\n                panel = new Panel();\r\n                panel.flexWrap = 'nowrap';\r\n                panel.WebkitFlexWrap = 'nowrap';\r\n                panel.style.display = '';\r\n                panel.innerElement.style.display = 'flex';\r\n\r\n                if (args.type) {\r\n                    panel.class.add('field-' + args.type);\r\n                } else {\r\n                    panel.class.add('field');\r\n                }\r\n\r\n                (args.parent || self.root).append(panel);\r\n            }\r\n\r\n            var label: Nullable<Label> = null;\r\n            if (args.name) {\r\n                label = new Label(args.name);\r\n                label.class!.add('label-field');\r\n                panel._label = label;\r\n                panel.append(label);\r\n\r\n                // 帮助链接\r\n                if (args.reference) {\r\n                    var tooltip = label.tooltip = editor.call('attributes:reference', {\r\n                        element: label.element,\r\n                        title: args.reference.title,\r\n                        subTitle: args.reference.subTitle,\r\n                        description: args.reference.description\r\n                    });\r\n\r\n                    tooltip.attach({\r\n                        target: label,\r\n                        element: label.element\r\n                    });\r\n                }\r\n            }\r\n\r\n            var field: any;\r\n\r\n            args.linkEvents = [];\r\n\r\n            // if we provide multiple paths for a single Observer then turn args.link into an array\r\n            if (args.paths && args.paths instanceof Array && args.link && !(args.link instanceof Array)) {\r\n                var link = args.link;\r\n                args.link = [];\r\n                for (var i = 0; i < args.paths.length; i++) {\r\n                    args.link.push(link);\r\n                }\r\n            }\r\n\r\n            // link数据模型与UI\r\n            var linkField = args.linkField = function () {\r\n                if (args.link) {\r\n                    var link = function (field: any, path?: any) {\r\n                        var data = {\r\n                            field: field,\r\n                            type: args.type,\r\n                            slider: args.slider,\r\n                            enum: args.enum,\r\n                            link: args.link,\r\n                            trim: args.trim,\r\n                            name: args.name,\r\n                            stopHistory: args.stopHistory,\r\n                            paths: new Array<any>(),\r\n                            path: ''\r\n                        };\r\n\r\n                        if (!path) {\r\n                            path = args.paths || args.path;\r\n                        }\r\n\r\n                        if (path instanceof Array) {\r\n                            data.paths = path;\r\n                        } else {\r\n                            data.path = path;\r\n                        }\r\n\r\n                        // console.log(data);\r\n\r\n                        args.linkEvents = args.linkEvents.concat(editor.call('attributes:linkField', data));\r\n                        // console.log(data);\r\n                        // console.warn(args.linkEvents);\r\n\r\n                        // Give the field a uniquely addressable css class that we can target from Selenium\r\n                        if (field.element && typeof path === 'string') {\r\n                            field.element.classList.add('field-path-' + path.replace(/\\./g, '-'));\r\n                        }\r\n                    };\r\n\r\n                    if (field instanceof Array) {\r\n                        for (var i = 0; i < field.length; i++) {\r\n                            var paths = args.paths;\r\n\r\n                            if (paths) {\r\n                                paths = paths.map(function (p: string) {\r\n                                    return p + '.' + i.toString();\r\n                                });\r\n                            }\r\n\r\n                            // console.error(field[i]);\r\n                            // console.error(paths || (args.path + '.' + i));\r\n\r\n                            // vec3类型在这里path添加后缀\r\n                            link(field[i], paths || (args.path + '.' + i));\r\n                        }\r\n                    } else {\r\n                        link(field);\r\n                    }\r\n                }\r\n            };\r\n\r\n            var unlinkField = args.unlinkField = function () {\r\n                for (var i = 0; i < args.linkEvents.length; i++)\r\n                    args.linkEvents[i].unbind();\r\n\r\n                args.linkEvents = [];\r\n            };\r\n\r\n\r\n            switch (args.type) {\r\n                case 'string':\r\n                    if (args.enum) {\r\n                        field = new SelectField({\r\n                            options: args.enum\r\n                        });\r\n                    } else {\r\n                        field = new TextField();\r\n                    }\r\n\r\n                    field.value = args.value || '';\r\n                    field.flexGrow = 1;\r\n\r\n                    if (args.placeholder)\r\n                        field.placeholder = args.placeholder;\r\n\r\n                    linkField();\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'tags':\r\n                    // TODO: why isn't this in a seperate class/file???\r\n\r\n                    var innerPanel = new Panel();\r\n                    var tagType = args.tagType || 'string';\r\n\r\n                    if (args.enum) {\r\n                        field = new SelectField({\r\n                            options: args.enum,\r\n                            type: tagType\r\n                        });\r\n                        field.renderChanges = false;\r\n                        field.on('change', function (value: string) {\r\n                            if (tagType === 'string') {\r\n                                if (!value) return;\r\n\r\n                                value = value.trim();\r\n                            }\r\n\r\n                            addTag(value);\r\n                            field.value = '';\r\n                        });\r\n\r\n                        innerPanel.append(field);\r\n\r\n                    } else {\r\n                        field = new TextField();\r\n                        field.blurOnEnter = false;\r\n                        field.renderChanges = false;\r\n\r\n                        field.element.addEventListener('keydown', function (evt: KeyboardEvent) {\r\n                            if (evt.keyCode !== 13 || !field.value)\r\n                                return;\r\n\r\n                            addTag(field.value.trim());\r\n                            field.value = '';\r\n                        });\r\n\r\n                        innerPanel.append(field);\r\n\r\n                        var btnAdd = new Button('&#57632');\r\n                        btnAdd.flexGrow = '0';\r\n                        btnAdd.on('click', function () {\r\n                            if (!field.value)\r\n                                return;\r\n\r\n                            addTag(field.value.trim());\r\n                            field.value = '';\r\n                        });\r\n                        innerPanel.append(btnAdd);\r\n                    }\r\n\r\n\r\n                    var tagsPanel = new Panel();\r\n                    tagsPanel.class!.add('tags');\r\n                    tagsPanel.flex = true;\r\n                    innerPanel.append(tagsPanel);\r\n\r\n                    var tagItems: { [key: string]: HTMLElement } = {};\r\n                    var tagIndex: { [key: string]: number } = {};\r\n                    var tagList: any = [];\r\n\r\n\r\n                    var removeTag = function (tag: string) {\r\n                        if (tagType === 'string' && !tag) {\r\n                            return;\r\n                        } else if (tag === null || tag === undefined) {\r\n                            return;\r\n                        }\r\n\r\n                        if (!tagIndex.hasOwnProperty(tag))\r\n                            return;\r\n\r\n                        var records: any = [];\r\n\r\n                        for (var i = 0; i < args.link.length; i++) {\r\n                            var path = pathAt(args, i);\r\n                            if (args.link[i].get(path).indexOf(tag) === -1)\r\n                                continue;\r\n\r\n                            records.push({\r\n                                get: args.link[i].history !== undefined ? args.link[i].history._getItemFn : null,\r\n                                item: args.link[i],\r\n                                path: path,\r\n                                value: tag\r\n                            });\r\n\r\n                            historyState(args.link[i], false);\r\n                            args.link[i].removeValue(path, tag);\r\n                            historyState(args.link[i], true);\r\n                        }\r\n\r\n                        if (!args.stopHistory) {\r\n                            editor.call('history:add', {\r\n                                name: pathAt(args, 0),\r\n                                undo: function () {\r\n                                    for (var i = 0; i < records.length; i++) {\r\n                                        var item;\r\n                                        if (records[i].get) {\r\n                                            item = records[i].get();\r\n                                            if (!item)\r\n                                                continue;\r\n                                        } else {\r\n                                            item = records[i].item;\r\n                                        }\r\n\r\n                                        historyState(item, false);\r\n                                        item.insert(records[i].path, records[i].value);\r\n                                        historyState(item, true);\r\n                                    }\r\n                                },\r\n                                redo: function () {\r\n                                    for (var i = 0; i < records.length; i++) {\r\n                                        var item;\r\n                                        if (records[i].get) {\r\n                                            item = records[i].get();\r\n                                            if (!item)\r\n                                                continue;\r\n                                        } else {\r\n                                            item = records[i].item;\r\n                                        }\r\n\r\n                                        historyState(item, false);\r\n                                        item.removeValue(records[i].path, records[i].value);\r\n                                        historyState(item, true);\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    };\r\n\r\n                    var addTag = function (tag: string) {\r\n                        var records: any = [];\r\n                        let tagNumber: number = 0;\r\n\r\n                        // convert to number if needed\r\n                        if (args.tagType === 'number') {\r\n                            tagNumber = parseInt(tag, 10);\r\n                            if (isNaN(tagNumber))\r\n                                return;\r\n                        }\r\n\r\n                        for (var i = 0; i < args.link.length; i++) {\r\n                            var path = pathAt(args, i);\r\n                            if (args.link[i].get(path).indexOf(tagNumber) !== -1)\r\n                                continue;\r\n\r\n                            records.push({\r\n                                get: args.link[i].history !== undefined ? args.link[i].history._getItemFn : null,\r\n                                item: args.link[i],\r\n                                path: path,\r\n                                value: tagNumber\r\n                            });\r\n\r\n                            historyState(args.link[i], false);\r\n                            args.link[i].insert(path, tagNumber);\r\n                            historyState(args.link[i], true);\r\n                        }\r\n\r\n                        if (!args.stopHistory) {\r\n                            editor.call('history:add', {\r\n                                name: pathAt(args, 0),\r\n                                undo: function () {\r\n                                    for (var i = 0; i < records.length; i++) {\r\n                                        var item;\r\n                                        if (records[i].get) {\r\n                                            item = records[i].get();\r\n                                            if (!item)\r\n                                                continue;\r\n                                        } else {\r\n                                            item = records[i].item;\r\n                                        }\r\n\r\n                                        historyState(item, false);\r\n                                        item.removeValue(records[i].path, records[i].value);\r\n                                        historyState(item, true);\r\n                                    }\r\n                                },\r\n                                redo: function () {\r\n                                    for (var i = 0; i < records.length; i++) {\r\n                                        var item;\r\n                                        if (records[i].get) {\r\n                                            item = records[i].get();\r\n                                            if (!item)\r\n                                                continue;\r\n                                        } else {\r\n                                            item = records[i].item;\r\n                                        }\r\n\r\n                                        historyState(item, false);\r\n                                        item.insert(records[i].path, records[i].value);\r\n                                        historyState(item, true);\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    };\r\n\r\n                    var onInsert = function (tag: string) {\r\n                        if (!tagIndex.hasOwnProperty(tag)) {\r\n                            tagIndex[tag] = 0;\r\n                            tagList.push(tag);\r\n                        }\r\n\r\n                        tagIndex[tag]++;\r\n                        insertElement(tag);\r\n                    };\r\n\r\n                    var onRemove = function (tag: string) {\r\n                        if (!tagIndex[tag])\r\n                            return;\r\n\r\n                        tagIndex[tag]--;\r\n\r\n                        if (!tagIndex[tag]) {\r\n                            tagsPanel.innerElement!.removeChild(tagItems[tag]);\r\n                            var ind = tagList.indexOf(tag);\r\n                            if (ind !== -1)\r\n                                tagList.splice(ind, 1);\r\n\r\n                            delete tagItems[tag];\r\n                            delete tagIndex[tag];\r\n                        } else {\r\n                            if (tagIndex[tag] === args.link.length) {\r\n                                tagItems[tag].classList.remove('partial');\r\n                            } else {\r\n                                tagItems[tag].classList.add('partial');\r\n                            }\r\n                        }\r\n                    };\r\n\r\n                    // when tag field is initialized\r\n                    var onSet = function (values: string[]) {\r\n                        for (var i = 0; i < values.length; i++) {\r\n                            var value = values[i];\r\n                            onInsert(value);\r\n                        }\r\n                    };\r\n\r\n                    var insertElement = function (tag: string) {\r\n                        if (!tagItems[tag]) {\r\n                            sortTags();\r\n\r\n                            var item = document.createElement('div');\r\n                            tagItems[tag] = item;\r\n                            item.classList.add('tag');\r\n                            var itemText = document.createElement('span');\r\n                            itemText.textContent = args.tagToString ? args.tagToString(tag) : tag;\r\n                            item.appendChild(itemText);\r\n\r\n                            // the original tag value before tagToString is called. Useful\r\n                            // if the tag value is an id for example\r\n                            // item.originalValue = tag;\r\n\r\n                            // attach click handler on text part of the tag - bind the listener\r\n                            // to the tag item so that `this` refers to that tag in the listener\r\n                            if (args.onClickTag) {\r\n                                itemText.addEventListener('click', args.onClickTag.bind(item));\r\n                            }\r\n\r\n                            var icon = document.createElement('span');\r\n                            icon.innerHTML = '&#57650;';\r\n                            icon.classList.add('icon');\r\n                            // icon.tag = tag;\r\n                            icon.addEventListener('click', function () {\r\n                                if (innerPanel.disabled)\r\n                                    return;\r\n\r\n                                // removeTag(icon.tag);\r\n                            }, false);\r\n                            item.appendChild(icon);\r\n\r\n                            var ind = tagList.indexOf(tag);\r\n                            if (tagItems[tagList[ind + 1]]) {\r\n                                tagsPanel.appendBefore(item, tagItems[tagList[ind + 1]]);\r\n                            } else {\r\n                                tagsPanel.append(item);\r\n                            }\r\n                        }\r\n\r\n                        if (tagIndex[tag] === args.link.length) {\r\n                            tagItems[tag].classList.remove('partial');\r\n                        } else {\r\n                            tagItems[tag].classList.add('partial');\r\n                        }\r\n                    };\r\n\r\n                    var sortTags = function () {\r\n                        tagList.sort(function (a: string, b: string) {\r\n                            if (args.tagToString) {\r\n                                a = args.tagToString(a);\r\n                                b = args.tagToString(b);\r\n                            }\r\n\r\n                            if (a > b) {\r\n                                return 1;\r\n                            } else if (a < b) {\r\n                                return -1;\r\n                            } else {\r\n                                return 0;\r\n                            }\r\n                        });\r\n                    };\r\n\r\n                    if (args.placeholder)\r\n                        field.placeholder = args.placeholder;\r\n\r\n                    // list\r\n                    args.linkEvents = [];\r\n\r\n                    args.linkField = function () {\r\n                        if (args.link) {\r\n                            if (!(args.link instanceof Array))\r\n                                args.link = [args.link];\r\n\r\n                            for (var i = 0; i < args.link.length; i++) {\r\n                                var path = pathAt(args, i);\r\n                                var tags = args.link[i].get(path);\r\n\r\n                                args.linkEvents.push(args.link[i].on(path + ':set', onSet));\r\n                                args.linkEvents.push(args.link[i].on(path + ':insert', onInsert));\r\n                                args.linkEvents.push(args.link[i].on(path + ':remove', onRemove));\r\n\r\n                                if (!tags)\r\n                                    continue;\r\n\r\n                                for (var t = 0; t < tags.length; t++) {\r\n                                    if (tagType === 'string' && !tags[t]) {\r\n                                        continue;\r\n                                    } else if (tags[t] === null || tags[t] === undefined) {\r\n                                        continue;\r\n                                    }\r\n\r\n                                    if (!tagIndex.hasOwnProperty(tags[t])) {\r\n                                        tagIndex[tags[t]] = 0;\r\n                                        tagList.push(tags[t]);\r\n                                    }\r\n\r\n                                    tagIndex[tags[t]]++;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        sortTags();\r\n\r\n                        for (var i = 0; i < tagList.length; i++)\r\n                            insertElement(tagList[i]);\r\n                    };\r\n\r\n                    args.unlinkField = function () {\r\n                        for (var i = 0; i < args.linkEvents.length; i++)\r\n                            args.linkEvents[i].unbind();\r\n\r\n                        args.linkEvents = [];\r\n\r\n                        for (var key in tagItems)\r\n                            tagsPanel.innerElement!.removeChild(tagItems[key]);\r\n\r\n                        tagList = [];\r\n                        tagIndex = {};\r\n                        tagItems = {};\r\n                    };\r\n\r\n                    args.linkField();\r\n\r\n                    panel.once('destroy', args.unlinkField);\r\n\r\n                    panel.append(innerPanel);\r\n                    break;\r\n\r\n                case 'text':\r\n                    field = new TextAreaField();\r\n\r\n                    field.value = args.value || '';\r\n                    field.flexGrow = 1;\r\n\r\n                    if (args.placeholder)\r\n                        field.placeholder = args.placeholder;\r\n\r\n                    linkField();\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'number':\r\n                    if (args.enum) {\r\n                        field = new SelectField({\r\n                            options: args.enum,\r\n                            type: 'number'\r\n                        });\r\n                    } else if (args.slider) {\r\n                        field = new Slider();\r\n                    } else {\r\n                        field = new NumberField();\r\n                    }\r\n\r\n                    field.value = args.value || 0;\r\n                    field.flexGrow = 1;\r\n\r\n                    if (args.allowNull) {\r\n                        field.allowNull = true;\r\n                    }\r\n\r\n                    if (args.placeholder)\r\n                        field.placeholder = args.placeholder;\r\n\r\n                    if (args.precision != null)\r\n                        field.precision = args.precision;\r\n\r\n                    if (args.step != null)\r\n                        field.step = args.step;\r\n\r\n                    if (args.min != null)\r\n                        field.min = args.min;\r\n\r\n                    if (args.max != null)\r\n                        field.max = args.max;\r\n\r\n                    linkField();\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'checkbox':\r\n                    // 多项选择\r\n                    if (args.enum) {\r\n                        field = new SelectField({\r\n                            options: args.enum,\r\n                            type: 'boolean'\r\n                        });\r\n                        field.flexGrow = 1;\r\n                    } else {\r\n                        field = new Checkbox();\r\n                    }\r\n\r\n                    field.value = args.value || 0;\r\n                    field.class.add('tick');\r\n\r\n                    linkField();\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'vec2':\r\n                case 'vec3':\r\n                case 'vec4':\r\n                    // 长度是2、是3还是4\r\n                    var channels = parseInt(args.type[3], 10);\r\n                    field = [];\r\n\r\n                    for (var i = 0; i < channels; i++) {\r\n                        field[i] = new NumberField();\r\n                        field[i].flexGrow = 1;\r\n                        field[i].style.width = '24px';\r\n                        field[i].value = (args.value && args.value[i]) || 0;\r\n                        panel.append(field[i]);\r\n\r\n                        if (args.placeholder)\r\n                            field[i].placeholder = args.placeholder[i];\r\n\r\n                        if (args.precision != null)\r\n                            field[i].precision = args.precision;\r\n\r\n                        if (args.step != null)\r\n                            field[i].step = args.step;\r\n\r\n                        if (args.min != null)\r\n                            field[i].min = args.min;\r\n\r\n                        if (args.max != null)\r\n                            field[i].max = args.max;\r\n\r\n                        // if (args.link)\r\n                        //     field[i].link(args.link, args.path + '.' + i);\r\n                    }\r\n\r\n                    linkField();\r\n                    break;\r\n                case 'rgb':\r\n                    field = new ColorField();\r\n\r\n                    if (args.channels != null)\r\n                        field.channels = args.channels;\r\n\r\n                    linkField();\r\n\r\n                    var colorPickerOn = false;\r\n                    field.on('click', function () {\r\n                        colorPickerOn = true;\r\n                        var first = true;\r\n\r\n                        // set picker color\r\n                        editor.call('picker:color', field.value);\r\n\r\n                        // picking starts\r\n                        var evtColorPickStart = editor.on('picker:color:start', function () {\r\n                            first = true;\r\n                        });\r\n\r\n                        // picked color\r\n                        var evtColorPick = editor.on('picker:color', function (color: number[]) {\r\n                            first = false;\r\n                            field.value = color;\r\n                        });\r\n\r\n                        // position picker\r\n                        var rectPicker = editor.call('picker:color:rect');\r\n                        var rectField = field.element.getBoundingClientRect();\r\n                        editor.call('picker:color:position', rectField.left - rectPicker.width, rectField.top);\r\n\r\n                        // color changed, update picker\r\n                        var evtColorToPicker = field.on('change', function () {\r\n                            editor.call('picker:color:set', field.value);\r\n                        });\r\n\r\n                        // picker closed\r\n                        editor.once('picker:color:close', function () {\r\n                            evtColorPick.unbind();\r\n                            evtColorPickStart.unbind();\r\n                            evtColorToPicker.unbind();\r\n                            colorPickerOn = false;\r\n                            field.element.focus();\r\n                        });\r\n                    });\r\n\r\n                    // close picker if field destroyed\r\n                    field.on('destroy', function () {\r\n                        if (colorPickerOn)\r\n                            editor.call('picker:color:close');\r\n                    });\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'asset':\r\n                    field = new ImageField(args.kind === 'material' || args.kind === 'model' || args.kind === 'cubemap' || args.kind === 'font' || args.kind === 'sprite'\r\n                    );\r\n                    var evtPick: any;\r\n\r\n                    if (label !== null) {\r\n                        label.renderChanges = false;\r\n                        field._label = label;\r\n\r\n                        label.style!.width = '32px';\r\n                        label.flexGrow = '1';\r\n                    }\r\n\r\n\r\n                    var panelFields = document.createElement('div');\r\n                    panelFields.classList.add('top');\r\n\r\n                    var panelControls = document.createElement('div');\r\n                    panelControls.classList.add('controls');\r\n\r\n                    var fieldTitle = field._title = new Label();\r\n                    fieldTitle.text = 'Empty';\r\n                    fieldTitle.parent = panel;\r\n                    fieldTitle.flexGrow = '1';\r\n                    fieldTitle.placeholder = '...';\r\n\r\n                    var btnEdit = new Button('&#57648;');\r\n                    btnEdit.disabled = true;\r\n                    btnEdit.parent = panel;\r\n                    btnEdit.flexGrow = '0';\r\n\r\n                    var btnRemove = new Button('&#57650;');\r\n                    btnRemove.disabled = true;\r\n                    btnRemove.parent = panel;\r\n                    btnRemove.flexGrow = '0';\r\n\r\n                    fieldTitle.on('click', function () {\r\n                        var asset = editor.call('assets:get', field.value);\r\n                        editor.call('picker:asset', {\r\n                            type: args.kind,\r\n                            currentAsset: asset\r\n                        });\r\n\r\n                        evtPick = editor.once('picker:asset', function (asset: Observer) {\r\n                            var oldValues: { [key: string]: Observer } = {};\r\n                            if (args.onSet && args.link && args.link instanceof Array) {\r\n                                for (var i = 0; i < args.link.length; i++) {\r\n                                    var id = 0;\r\n                                    if (args.link[i]._type === 'asset') {\r\n                                        id = args.link[i].get('id');\r\n                                    } else if (args.link[i]._type === 'entity') {\r\n                                        id = args.link[i].get('resource_id');\r\n                                    } else {\r\n                                        continue;\r\n                                    }\r\n\r\n                                    oldValues[id] = args.link[i].get(pathAt(args, i));\r\n                                }\r\n                            }\r\n\r\n                            field.emit('beforechange', asset.get('id'));\r\n                            field.value = asset.get('id');\r\n                            evtPick = null;\r\n                            if (args.onSet) args.onSet(asset, oldValues);\r\n                        });\r\n\r\n                        editor.once('picker:asset:close', function () {\r\n                            if (evtPick) {\r\n                                evtPick.unbind();\r\n                                evtPick = null;\r\n                            }\r\n                            field.element.focus();\r\n                        });\r\n                    });\r\n\r\n                    field.on('click', function () {\r\n                        if (!field.value)\r\n                            return;\r\n\r\n                        var asset = editor.call('assets:get', field.value);\r\n                        if (!asset) return;\r\n                        editor.call('selector:set', 'asset', [asset]);\r\n\r\n                        var path = asset.get('path');\r\n                        if (path.length) {\r\n                            editor.call('assets:panel:currentFolder', editor.call('assets:get', path[path.length - 1]));\r\n                        } else {\r\n                            editor.call('assets:panel:currentFolder', null);\r\n                        }\r\n                    });\r\n                    btnEdit.on('click', function () {\r\n                        field.emit('click');\r\n                    });\r\n\r\n                    btnRemove.on('click', function () {\r\n                        field.emit('beforechange', null);\r\n                        field.value = null;\r\n                    });\r\n\r\n                    // TODO\r\n                    break;\r\n\r\n                // entity picker\r\n                case 'entity':\r\n                    field = new Label();\r\n                    field.class.add('add-entity');\r\n                    field.flexGrow = 1;\r\n                    field.class.add('null');\r\n\r\n                    field.text = 'Select Entity';\r\n                    field.placeholder = '...';\r\n\r\n                    panel.append(field);\r\n\r\n                    var icon = document.createElement('span');\r\n                    icon.classList.add('icon');\r\n\r\n                    icon.addEventListener('click', function (e) {\r\n                        e.stopPropagation();\r\n\r\n                        // if (editor.call('permissions:write'))\r\n                        //     field.text = '';\r\n                    });\r\n\r\n                    field.on('change', function (value: string) {\r\n                        if (value) {\r\n                            var entity = editor.call('entities:get', value);\r\n                            if (!entity) {\r\n                                field.text = null;\r\n                                return;\r\n                            }\r\n\r\n                            field.element.innerHTML = entity.get('name');\r\n                            field.element.appendChild(icon);\r\n                            field.placeholder = '';\r\n\r\n                            if (value !== 'various')\r\n                                field.class.remove('null');\r\n                        } else {\r\n                            field.element.innerHTML = 'Select Entity';\r\n                            field.placeholder = '...';\r\n                            field.class.add('null');\r\n                        }\r\n                    });\r\n\r\n                    linkField();\r\n\r\n                    var getCurrentEntity = function () {\r\n                        var entity = null;\r\n                        if (args.link) {\r\n                            if (!(args.link instanceof Array)) {\r\n                                args.link = [args.link];\r\n                            }\r\n\r\n                            // get initial value only if it's the same for all\r\n                            // links otherwise set it to null\r\n                            for (var i = 0, len = args.link.length; i < len; i++) {\r\n                                var val = args.link[i].get(pathAt(args, i));\r\n                                if (entity !== val) {\r\n                                    if (entity) {\r\n                                        entity = null;\r\n                                        break;\r\n                                    } else {\r\n                                        entity = val;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        return entity;\r\n                    };\r\n\r\n                    field.on('click', function () {\r\n                        var evtEntityPick: Nullable<EventHandle> = editor.once('picker:entity', function (entity: Observer) {\r\n                            field.text = entity ? entity.get('resource_id') : null;\r\n                            evtEntityPick = null;\r\n                        });\r\n\r\n                        var initialValue = getCurrentEntity();\r\n\r\n                        editor.call('picker:entity', initialValue, args.filter || null);\r\n\r\n                        editor.once('picker:entity:close', function () {\r\n                            if (evtEntityPick) {\r\n                                evtEntityPick.unbind();\r\n                                evtEntityPick = null;\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    // highlight on hover\r\n                    field.on('hover', function () {\r\n                        var entity = getCurrentEntity();\r\n                        if (!entity) return;\r\n\r\n                        editor.call('entities:panel:highlight', entity, true);\r\n\r\n                        field.once('blur', function () {\r\n                            editor.call('entities:panel:highlight', entity, false);\r\n                        });\r\n\r\n                        field.once('click', function () {\r\n                            editor.call('entities:panel:highlight', entity, false);\r\n                        });\r\n                    });\r\n\r\n                    var dropRef = editor.call('drop:target', {\r\n                        ref: field.element,\r\n                        filter: function (type: string, data: any) {\r\n                            var rectA = self.root.innerElement!.getBoundingClientRect();\r\n                            var rectB = field.element.getBoundingClientRect();\r\n                            return type === 'entity' && data.resource_id !== field.value && rectB.top > rectA.top && rectB.bottom < rectA.bottom;\r\n                        },\r\n                        drop: function (type: string, data: any) {\r\n                            if (type !== 'entity')\r\n                                return;\r\n\r\n                            field.value = data.resource_id;\r\n                        },\r\n                        over: function (type: string, data: any) {\r\n                            if (args.over)\r\n                                args.over(type, data);\r\n                        },\r\n                        leave: function () {\r\n                            if (args.leave)\r\n                                args.leave();\r\n                        }\r\n                    });\r\n                    field.on('destroy', function () {\r\n                        dropRef.unregister();\r\n                    });\r\n\r\n                    break;\r\n\r\n                case 'image':\r\n                    panel.flex = false;\r\n\r\n                    field = new Image();\r\n                    field.style.maxWidth = '100%';\r\n                    field.style.display = 'block';\r\n                    field.src = args.src;\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'progress':\r\n                    field = new Progress();\r\n                    field.flexGrow = 1;\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'button':\r\n                    field = new Button();\r\n                    field.flexGrow = 1;\r\n                    field.text = args.text || 'Button';\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'element':\r\n                    field = args.element;\r\n                    panel.append(field);\r\n                    break;\r\n\r\n                case 'array':\r\n                    field = editor.call('attributes:addArray', args);\r\n                    panel.append(field);\r\n\r\n                    break;\r\n\r\n                default:\r\n                    field = new Label();\r\n                    field.flexGrow = '1';\r\n                    field.text = args.value || '';\r\n                    field.class.add('selectable');\r\n\r\n                    if (args.placeholder)\r\n                        field.placeholder = args.placeholder;\r\n\r\n                    linkField();\r\n\r\n                    panel.append(field);\r\n                    break;\r\n\r\n            }\r\n\r\n            if (args.className && field instanceof Element) {\r\n                field.class!.add(args.className);\r\n            }\r\n\r\n            return field;\r\n        });\r\n\r\n\r\n\r\n\r\n        var inspectedItems: any[] = [];\r\n\r\n\r\n        editor.on('attributes:clear', function () {\r\n            for (let i = 0; i < inspectedItems.length; i++) {\r\n                inspectedItems[i].unbind();\r\n            }\r\n            inspectedItems = [];\r\n        });\r\n\r\n        editor.method('attributes:inspect', function (type: string, item: Observer) {\r\n            self.clearPanel();\r\n\r\n            // clear if destroyed\r\n            inspectedItems.push(item.once('destroy', function () {\r\n                editor.call('attributes:clear');\r\n            }));\r\n\r\n            self.root.headerText = type;\r\n\r\n            editor.emit('attributes:inspect[' + type + ']', [item]);\r\n            editor.emit('attributes:inspect[*]', type, [item]);\r\n        });\r\n\r\n\r\n        editor.on('selector:change', function (type: string, items: Observer[]) {\r\n            self.clearPanel();\r\n\r\n            // console.warn('selector:change：type --- ' + type + '* length --- ' + items.length);\r\n\r\n            // nothing selected\r\n            if (items.length === 0) {\r\n                let label = new Label('请选择物体或资源');\r\n                label.style!.display = 'block';\r\n                label.style!.textAlign = 'center';\r\n                label.style!.width = '100%';\r\n                // label.style!.height = '22px';\r\n                self.root.append(label);\r\n                self.root.headerText = self.title;\r\n                return;\r\n            }\r\n\r\n            // console.warn('选择类型：' + type);\r\n            // console.warn(items);\r\n\r\n            // clear if destroyed\r\n            for (let i = 0; i < items.length; i++) {\r\n                // TODO：当前item为空\r\n                // console.error(type);\r\n                // if (type === 'entity') {\r\n                //     GizmosCenter.attach(items[i].node);\r\n                // }\r\n                // console.error(items[i]);\r\n                inspectedItems.push(items[i].once('destroy', function () {\r\n                    editor.call('attributes:clear');\r\n                }));\r\n            }\r\n\r\n            self.root.headerText = type;\r\n\r\n            // console.error(type);\r\n            // console.error(items);\r\n\r\n            editor.emit('attributes:inspect[' + type + ']', items);\r\n            editor.emit('attributes:inspect[*]', type, items);\r\n        });\r\n\r\n        // 初始时，默认没有选中物体\r\n        editor.emit('selector:change', null, []);\r\n\r\n    }\r\n\r\n\r\n    public clearPanel(): void {\r\n        editor.emit('attributes:beforeClear');\r\n        this.root.clear();\r\n        editor.emit('attributes:clear');\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport interface AddPanelArgs {\r\n    name?: string;\r\n    parent?: Panel;\r\n    foldable?: boolean;\r\n    folded?: boolean;\r\n}","import { Tooltip, Panel, Element, TopElementContainer, TopElementPanel } from \"../../ui\";\r\nimport { VeryEngine } from \"../../engine\";\r\n\r\n// 属性参考说明Tooltip\r\nexport class AttributesReference {\r\n\r\n  public root: TopElementContainer;\r\n  public attributesPanel: TopElementPanel;\r\n\r\n  public index: { [key: string]: Tooltip } = {};\r\n  public missing: { [key: string]: boolean } = {};\r\n\r\n\r\n  public constructor() {\r\n\r\n    this.root = VeryEngine.root;\r\n    this.attributesPanel = VeryEngine.attributes;\r\n\r\n    this.init();\r\n  }\r\n\r\n\r\n  private init(): void {\r\n\r\n    let self = this;\r\n\r\n    // TODO\r\n    editor.method('attributes:reference:add', function (args: any) {\r\n      self.index[args.name] = editor.call('attributes:reference', args);\r\n    });\r\n\r\n    editor.method('attributes:reference:attach', function (name: string, target: HTMLElement, element: Element, panel?: Panel) {\r\n      let tooltip = self.index[name];\r\n\r\n      if (!tooltip) {\r\n        if (!self.missing[name]) {\r\n          self.missing[name] = true;\r\n        //   console.log('reference', name, 'is not defined');\r\n        }\r\n        return;\r\n      }\r\n\r\n      tooltip.attachReference({\r\n        target: target,\r\n        panel: panel,\r\n        element: element || target.ui\r\n      });\r\n\r\n      return tooltip;\r\n    });\r\n\r\n    editor.method('attributes:reference:template', function (args: any) {\r\n      let html = '';\r\n\r\n      if (args.title)\r\n        html += '<h1>' + self.sanitize(args.title) + '</h1>';\r\n      if (args.subTitle)\r\n        html += '<h2>' + self.sanitize(args.subTitle) + '</h2>';\r\n      if (args.webgl2)\r\n        html += '<div class=\"tag\">WebGL 2.0 Only</div>';\r\n      if (args.description) {\r\n        let description = self.sanitize(args.description);\r\n        description = description.replace(/\\n/g, '<br />'); // new lines\r\n        description = description.replace(/&lt;b&gt;/g, '<b>').replace(/&lt;\\/b&gt;/g, '</b>'); // bold\r\n        html += '<p>' + description + '</p>';\r\n      }\r\n      if (args.code)\r\n        html += '<pre class=\"ui-code\">' + self.sanitize(args.code) + '</pre>';\r\n      if (args.url)\r\n        html += '<a class=\"reference\" href=\"' + self.sanitize(args.url) + '\" target=\"_blank\">API Reference</a>';\r\n\r\n      return html;\r\n    });\r\n\r\n\r\n    editor.method('attributes:reference', function (args: any) {\r\n      let tooltip = new Tooltip({\r\n        align: 'right'\r\n      });\r\n      tooltip.hoverable = true;\r\n      tooltip.class!.add('reference');\r\n\r\n      tooltip.html = editor.call('attributes:reference:template', args);\r\n\r\n      // let links = {};\r\n      let timerHover: any = null;\r\n      let timerBlur: any = null;\r\n\r\n      // 重写该方法\r\n      tooltip.attachReference = function (args: any) {\r\n        let target = args.target;\r\n        let element = args.element;\r\n        let targetPanel = args.panel || self.attributesPanel;\r\n\r\n        let show = function () {\r\n          if (!target || target.hidden) return;\r\n          tooltip.position(targetPanel.element.getBoundingClientRect().left, element.getBoundingClientRect().top + 16);\r\n          tooltip.hidden = false;\r\n        };\r\n\r\n        let evtHide = function () {\r\n          if (timerHover !== null) clearTimeout(timerHover);\r\n          if (timerBlur !== null) clearTimeout(timerBlur);\r\n          tooltip.hidden = true;\r\n        };\r\n\r\n        let evtHover = function () {\r\n          if (timerBlur !== null) clearTimeout(timerBlur);\r\n          timerHover = setTimeout(show, 500);\r\n        };\r\n\r\n        let evtBlur = function () {\r\n          if (timerHover !== null) clearTimeout(timerHover);\r\n          timerBlur = setTimeout(hide, 200);\r\n        };\r\n\r\n        let evtClick = function () {\r\n          if (timerHover !== null) clearTimeout(timerHover);\r\n          if (timerBlur !== null) clearTimeout(timerBlur);\r\n          show();\r\n        };\r\n\r\n        target.on('hide', evtHide);\r\n\r\n        target.once('destroy', function () {\r\n          element.removeEventListener('mouseover', evtHover);\r\n          element.removeEventListener('mouseout', evtBlur);\r\n          element.removeEventListener('click', evtClick);\r\n          target.unbind('hide', evtHide);\r\n          target = null;\r\n          element = null;\r\n          if (timerHover !== null) clearTimeout(timerHover);\r\n          if (timerBlur !== null) clearTimeout(timerBlur);\r\n          tooltip.hidden = true;\r\n        });\r\n\r\n        element.addEventListener('mouseover', evtHover, false);\r\n        element.addEventListener('mouseout', evtBlur, false);\r\n        element.addEventListener('click', evtClick, false);\r\n      };\r\n\r\n      let hide = function () {\r\n        tooltip.hidden = true;\r\n      };\r\n\r\n      tooltip.on('hover', function () {\r\n        clearTimeout(timerBlur);\r\n      });\r\n\r\n      self.root.append(tooltip);\r\n\r\n      return tooltip;\r\n    });\r\n  }\r\n\r\n\r\n  private sanitize(str: string) {\r\n    return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n  };\r\n\r\n\r\n}","export * from './attributes-panel';\r\nexport * from './attributes-entity';\r\nexport * from './attributes-history';\r\nexport * from './attributes-reference';\r\nexport * from './attributes-assets';\r\nexport * from './keeper';","import { AttributesPanel } from \"./attributes-panel\";\r\nimport { AttributesReference } from \"./attributes-reference\";\r\nimport { AttributesEntity } from \"./attributes-entity\";\r\nimport { AttributesAssets } from \"./attributes-assets\";\r\nimport { AttributeHistory } from \"./attributes-history\";\r\nimport { AttributeAssetsTexture } from \"./assets/attributes-assets-texture\";\r\n\r\nexport class AttributesKeeper {\r\n    public constructor() {\r\n\r\n        let attributesPanel = new AttributesPanel();\r\n\r\n        let attributesHistory = new AttributeHistory();\r\n\r\n        let attributesReference = new AttributesReference();\r\n\r\n        let attributesEntity = new AttributesEntity();\r\n\r\n        let attributesAsset = new AttributesAssets();\r\n\r\n        let attributesAssetsTexture = new AttributeAssetsTexture();\r\n\r\n    }\r\n}","export class Drop {\r\n    public constructor() {\r\n\r\n        // overlay\r\n        var overlay = document.createElement('div');\r\n        overlay.classList.add('drop-overlay');\r\n        editor.call('layout.root').append(overlay);\r\n\r\n        // var imgDrag = new Image();\r\n        // // imgDrag.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAACWCAYAAAAfduJyAAAAFUlEQVQoU2NkYGBgYBwlRsNgJKQDAOAfAJflUZweAAAAAElFTkSuQmCC';\r\n        // // imgDrag.style.display = 'none';\r\n\r\n        var parts = ['top', 'right', 'bottom', 'left'];\r\n        var partsElement: HTMLElement[] = [];\r\n        for (var i = 0; i < parts.length; i++) {\r\n            var part = document.createElement('div');\r\n            part.classList.add('drop-overlay-hole-part', parts[i]);\r\n            editor.call('layout.root').append(part);\r\n            partsElement.push(part);\r\n        }\r\n\r\n        // areas\r\n        var areas = document.createElement('div');\r\n        areas.classList.add('drop-areas');\r\n        editor.call('layout.root').append(areas);\r\n\r\n        var active: boolean = false;\r\n        var currentType = '';\r\n        var currentData = {};\r\n        var currentElement = null;\r\n        var dragOver = false;\r\n        var items: any = [];\r\n        var itemOver: Nullable<HTMLElement> = null;\r\n\r\n        var activate = function (state: boolean) {\r\n            if (!editor.call('permissions:write'))\r\n                return;\r\n\r\n            if (active === state)\r\n                return;\r\n\r\n            active = state;\r\n\r\n            if (active) {\r\n                overlay.classList.add('active');\r\n                areas.classList.add('active');\r\n                editor.call('cursor:set', 'grabbing');\r\n            } else {\r\n                overlay.classList.remove('active');\r\n                areas.classList.remove('active');\r\n                dragOver = false;\r\n                currentType = '';\r\n                currentData = {};\r\n                editor.emit('drop:set', currentType, currentData);\r\n                editor.call('cursor:clear');\r\n            }\r\n\r\n            var onMouseUp = function () {\r\n                window.removeEventListener('mouseup', onMouseUp);\r\n                activate(false);\r\n            };\r\n            window.addEventListener('mouseup', onMouseUp, false);\r\n\r\n            editor.emit('drop:active', active);\r\n        };\r\n\r\n        editor.method('drop:activate', activate);\r\n        editor.method('drop:active', function () {\r\n            return active;\r\n        });\r\n\r\n        // prevent drop file of redirecting\r\n        window.addEventListener('dragenter', function (evt) {\r\n            evt.preventDefault();\r\n\r\n            // console.log('dragenter');\r\n\r\n            if (!editor.call('permissions:write'))\r\n                return;\r\n\r\n            if (dragOver) return;\r\n            dragOver = true;\r\n\r\n            if (!currentType) {\r\n                currentType = 'files';\r\n                editor.emit('drop:set', currentType, currentData);\r\n            }\r\n\r\n            activate(true);\r\n        }, false);\r\n\r\n        window.addEventListener('dragover', function (evt: DragEvent) {\r\n            evt.preventDefault();\r\n\r\n            // console.log('dragover');\r\n\r\n            if (!editor.call('permissions:write'))\r\n                return;\r\n\r\n            evt.dataTransfer!.dropEffect = 'move';\r\n\r\n            if (dragOver) return;\r\n            dragOver = true;\r\n\r\n            activate(true);\r\n        }, false);\r\n\r\n        window.addEventListener('dragleave', function (evt) {\r\n            evt.preventDefault();\r\n\r\n            // console.log('dragleave');\r\n\r\n            if (evt.clientX !== 0 || evt.clientY !== 0)\r\n                return;\r\n\r\n            if (!editor.call('permissions:write'))\r\n                return;\r\n\r\n            if (!dragOver) return;\r\n            dragOver = false;\r\n\r\n            setTimeout(function () {\r\n                if (dragOver)\r\n                    return;\r\n\r\n                activate(false);\r\n            }, 0);\r\n        }, false);\r\n\r\n        window.addEventListener('drop', function (evt) {\r\n\r\n            evt.preventDefault();\r\n\r\n            // console.log('drop');\r\n\r\n            activate(false);\r\n        }, false);\r\n\r\n        var evtDragOver = function (e: DragEvent | MouseEvent) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            (<HTMLElement>e.target).classList.add('over');\r\n\r\n            if (itemOver && itemOver !== e.target)\r\n                evtDragLeave.call(itemOver, e);\r\n\r\n            itemOver = <HTMLElement>e.target;\r\n\r\n            if (itemOver._ref && itemOver._ref.over && currentType) {\r\n                var data = currentData;\r\n                if (currentType == 'files' && (<DragEvent>e).dataTransfer)\r\n                    data = (<DragEvent>e).dataTransfer!.files;\r\n                itemOver._ref.over(currentType, data);\r\n            }\r\n        };\r\n\r\n        var evtDragLeave = function (e: DragEvent | MouseEvent) {\r\n            if (e) e.preventDefault();\r\n            (<HTMLElement>e.target).classList.remove('over');\r\n\r\n            let that: HTMLElement = <HTMLElement>e.target;\r\n\r\n            if (that._ref && that._ref.leave && currentType)\r\n                that._ref.leave();\r\n\r\n            if (itemOver === <HTMLElement>e.target)\r\n                itemOver = null;\r\n        };\r\n\r\n        var fixChromeFlexBox = function (item: HTMLElement) {\r\n            // workaround for chrome\r\n            // for z-index + flex-grow weird reflow bug\r\n            // need to force reflow in next frames\r\n\r\n            // if (!window.chrome)\r\n            //     return;\r\n\r\n            // 不准确，这个参数用户可修改\r\n            if (window.navigator.userAgent.indexOf('Chrome') < 0) {\r\n                return;\r\n            }\r\n\r\n            // if (window.MessageEvent && !document.getBoxObjectFor)\r\n            //     return;\r\n\r\n            // only for those who have flexgrow\r\n            var flex = item.style.flexGrow;\r\n            if (flex) {\r\n                // changing overflow triggers reflow\r\n                var overflow = item.style.overflow;\r\n                item.style.overflow = 'hidden';\r\n                // need to skip 2 frames, 1 is not enough\r\n                requestAnimationFrame(function () {\r\n                    requestAnimationFrame(function () {\r\n                        // change back to what it was\r\n                        item.style.overflow = overflow;\r\n                    });\r\n                });\r\n            }\r\n        };\r\n\r\n        editor.method('drop:target', function (obj: IDrop) {\r\n            // console.log('drop:target');\r\n\r\n            items.push(obj);\r\n            obj.element = document.createElement('div');\r\n            obj.element._ref = obj;\r\n            obj.element.classList.add('drop-area');\r\n            if (obj.hole)\r\n                obj.element.classList.add('hole');\r\n\r\n            if (obj.passThrough)\r\n                obj.element.style.pointerEvents = 'none';\r\n\r\n            areas.appendChild(obj.element);\r\n\r\n            obj.evtDrop = function (e: DragEvent | MouseEvent) {\r\n                e.preventDefault();\r\n\r\n                // console.log('obj.evtDrop');\r\n\r\n                if (!currentType)\r\n                    return;\r\n\r\n                // leave event\r\n                if (obj.element!.classList.contains('over')) {\r\n                    if (obj.leave && currentType) obj.leave();\r\n                    obj.element!.classList.remove('over');\r\n                }\r\n\r\n                var data = currentData;\r\n                if (currentType == 'files' && (<DragEvent>e).dataTransfer)\r\n                    data = (<DragEvent>e).dataTransfer!.files;\r\n\r\n                // console.log(currentType);\r\n                // console.log(data);\r\n                if (obj.drop)\r\n                    obj.drop(currentType, data);\r\n            };\r\n\r\n            obj.element.addEventListener('dragenter', evtDragOver, false);\r\n            obj.element.addEventListener('mouseenter', evtDragOver, false);\r\n\r\n            obj.element.addEventListener('dragleave', evtDragLeave, false);\r\n            obj.element.addEventListener('mouseleave', evtDragLeave, false);\r\n\r\n            var dropOn = obj.element;\r\n            if (obj.passThrough)\r\n                dropOn = obj.ref!;\r\n\r\n            dropOn.addEventListener('drop', obj.evtDrop, false);\r\n            dropOn.addEventListener('mouseup', obj.evtDrop, false);\r\n\r\n            obj.unregister = function () {\r\n                if (!obj.element!.classList.contains('drop-area'))\r\n                    return;\r\n\r\n                obj.element!.removeEventListener('dragenter', evtDragOver);\r\n                obj.element!.removeEventListener('mouseenter', evtDragOver);\r\n\r\n                obj.element!.removeEventListener('dragleave', evtDragLeave);\r\n                obj.element!.removeEventListener('mouseleave', evtDragLeave);\r\n\r\n                dropOn.removeEventListener('drop', obj.evtDrop!);\r\n                dropOn.removeEventListener('mouseup', obj.evtDrop!);\r\n\r\n                var ind = items.indexOf(obj);\r\n                if (ind !== -1)\r\n                    items.splice(ind, 1);\r\n\r\n                if (obj.ref!.classList.contains('drop-ref-highlight')) {\r\n                    obj.ref!.classList.remove('drop-ref-highlight');\r\n                    fixChromeFlexBox(obj.ref!);\r\n                }\r\n\r\n                obj.element!.classList.remove('drop-area');\r\n                areas.removeChild(obj.element!);\r\n            };\r\n\r\n            return obj;\r\n        });\r\n\r\n        editor.method('drop:item', function (args: any) {\r\n            args.element.draggable = true;\r\n\r\n            // console.log('drop:item');\r\n\r\n            args.element.addEventListener('mousedown', function (evt: MouseEvent) {\r\n                evt.stopPropagation();\r\n            }, false);\r\n\r\n            args.element.addEventListener('dragstart', function (evt: DragEvent) {\r\n                evt.preventDefault();\r\n                evt.stopPropagation();\r\n\r\n                if (!editor.call('permissions:write'))\r\n                    return;\r\n\r\n                currentType = args.type;\r\n                currentData = args.data;\r\n                itemOver = null;\r\n                editor.emit('drop:set', currentType, currentData);\r\n\r\n                activate(true);\r\n            }, false);\r\n        });\r\n\r\n        editor.method('drop:set', function (type: string, data: any) {\r\n            currentType = type || '',\r\n                currentData = data || {};\r\n\r\n            // console.log('drop:set');\r\n\r\n            editor.emit('drop:set', currentType, currentData);\r\n        });\r\n\r\n\r\n        editor.on('drop:active', function (state: boolean) {\r\n            areas.style.pointerEvents = '';\r\n\r\n            // console.log('drop:active +' + state);\r\n\r\n            if (state) {\r\n                var bottom = 0;\r\n                var top = window.innerHeight;\r\n                var left = window.innerWidth;\r\n                var right = 0;\r\n\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var visible = !items[i].disabled;\r\n\r\n                    // console.log('visible: ' + visible);\r\n                    // console.log('currentType: ' + currentType);\r\n                    // console.log(currentData);\r\n\r\n                    if (visible) {\r\n                        if (items[i].filter) {\r\n                            visible = items[i].filter(currentType, currentData);\r\n                        } else if (items[i].type !== currentType) {\r\n                            visible = false;\r\n                        }\r\n                    }\r\n                    // console.log('visible: ' + visible);\r\n\r\n                    if (visible) {\r\n                        var rect = items[i].ref.getBoundingClientRect();\r\n                        var depth = 4;\r\n                        var parent = items[i].ref;\r\n                        while (depth--) {\r\n                            if (!rect.width || !rect.height || !parent.offsetHeight || window.getComputedStyle(parent).getPropertyValue('visibility') === 'hidden') {\r\n                                visible = false;\r\n                                break;\r\n                            }\r\n                            parent = parent.parentNode;\r\n                        }\r\n                    }\r\n\r\n                    if (visible) {\r\n                        items[i].element.style.display = 'block';\r\n\r\n                        if (items[i].hole) {\r\n                            items[i].element.style.left = (rect.left + 2) + 'px';\r\n                            items[i].element.style.top = (rect.top + 2) + 'px';\r\n                            items[i].element.style.width = (rect.width - 4) + 'px';\r\n                            items[i].element.style.height = (rect.height - 4) + 'px';\r\n\r\n                            overlay.classList.remove('active');\r\n\r\n                            if (top > rect.top)\r\n                                top = rect.top;\r\n\r\n                            if (bottom < rect.bottom)\r\n                                bottom = rect.bottom;\r\n\r\n                            if (left > rect.left)\r\n                                left = rect.left;\r\n\r\n                            if (right < rect.right)\r\n                                right = rect.right;\r\n\r\n                            partsElement[0].classList.add('active');\r\n                            partsElement[0].style.height = top + 'px';\r\n\r\n                            partsElement[1].classList.add('active');\r\n                            partsElement[1].style.top = top + 'px';\r\n                            partsElement[1].style.bottom = (window.innerHeight - bottom) + 'px';\r\n                            partsElement[1].style.width = (window.innerWidth - right) + 'px';\r\n\r\n                            partsElement[2].classList.add('active');\r\n                            partsElement[2].style.height = (window.innerHeight - bottom) + 'px';\r\n\r\n                            partsElement[3].classList.add('active');\r\n                            partsElement[3].style.top = top + 'px';\r\n                            partsElement[3].style.bottom = (window.innerHeight - bottom) + 'px';\r\n                            partsElement[3].style.width = left + 'px';\r\n\r\n                            if (items[i].passThrough)\r\n                                areas.style.pointerEvents = 'none';\r\n                        } else {\r\n                            items[i].element.style.left = (rect.left + 1) + 'px';\r\n                            items[i].element.style.top = (rect.top + 1) + 'px';\r\n                            items[i].element.style.width = (rect.width - 2) + 'px';\r\n                            items[i].element.style.height = (rect.height - 2) + 'px';\r\n                            items[i].ref.classList.add('drop-ref-highlight');\r\n                        }\r\n                    } else {\r\n                        items[i].element.style.display = 'none';\r\n\r\n                        if (items[i].ref.classList.contains('drop-ref-highlight')) {\r\n                            items[i].ref.classList.remove('drop-ref-highlight');\r\n                            fixChromeFlexBox(items[i].ref);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                for (var i = 0; i < parts.length; i++)\r\n                    partsElement[i].classList.remove('active');\r\n\r\n                for (var i = 0; i < items.length; i++) {\r\n                    if (!items[i].ref.classList.contains('drop-ref-highlight'))\r\n                        continue;\r\n\r\n                    items[i].ref.classList.remove('drop-ref-highlight');\r\n                    fixChromeFlexBox(items[i].ref);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\nexport interface IDrop {\r\n    ref?: HTMLElement;\r\n    type?: string;\r\n    hole?: boolean;\r\n    passThrough?: boolean;\r\n    filter?: (type: string, data: any) => boolean;\r\n    drop?: (type: string, data: any) => void;\r\n    over?: (type: string, data: any) => void;\r\n    leave?: () => void;\r\n    element?: HTMLElement;\r\n    evtDrop?: (e: DragEvent | MouseEvent) => void;\r\n    unregister?: () => void;\r\n}","import { Events } from '../lib';\r\n\r\nexport class Editor extends Events {\r\n\r\n  // 相较于Events，同一个函数名只可代表一个函数；\r\n\r\n  // 某个name对应的某个事件，name与Function是1对1的关系；\r\n  private _hooks: { [key: string]: Function } = {};\r\n\r\n  public constructor() {\r\n    super();\r\n  }\r\n\r\n  /**\r\n   * 添加全局函数，函数名与函数本体一一对应，不能重名；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public method(name: string, fn: Function): void {\r\n    if (this._hooks[name] !== undefined) {\r\n      throw new Error(\"can't override hook: \" + name);\r\n    }\r\n    this._hooks[name] = fn;\r\n  };\r\n\r\n  /**\r\n   * 移除某个函数；\r\n   * @param name 函数名；\r\n   */\r\n  public methodRemove(name: string): void {\r\n    delete this._hooks[name];\r\n  };\r\n\r\n  /**\r\n   * 执行某个函数；\r\n   * @param name 函数名；\r\n   */\r\n  public call(name: string, ...args: any[]): any {\r\n    if (this._hooks[name]) {\r\n      var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n      try {\r\n        return this._hooks[name].apply(null, args);\r\n      } catch (ex) {\r\n        console.error(\r\n          \"%c%s %c(editor.method error)\",\r\n          \"color: #06f\",\r\n          name,\r\n          \"color: #f00\"\r\n        );\r\n        console.error(ex.stack);\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n}","import { Entity } from \"./entity\";\r\nimport { GameObject, ResourceContainer } from \"../middleware\";\r\nimport { Observer, ObserverList } from \"../../lib\";\r\n\r\nexport class Entities {\r\n    public lists: Entity[] = [];\r\n    private _indexed: { [key: string]: Entity } = {};\r\n\r\n    private container: ResourceContainer;\r\n\r\n    public constructor() {\r\n        this.container = new ResourceContainer();\r\n\r\n\r\n\r\n        var entities = new ObserverList({\r\n            id: 'resource_id'\r\n        });\r\n\r\n        var entityRoot: Nullable<Observer> = null;\r\n\r\n        // on adding\r\n        entities.on('add', function (entity: Observer) {\r\n            editor.emit('entities:add', entity, entity === entityRoot);\r\n        });\r\n\r\n        // on removing\r\n        entities.on('remove', function (entity: Observer) {\r\n            editor.emit('entities:remove', entity);\r\n            entity.destroy();\r\n            // entity.entity = null;\r\n        });\r\n\r\n        // allow adding entity\r\n        editor.method('entities:add', function (entity: Observer) {\r\n            if (entity.get('root'))\r\n                entityRoot = entity;\r\n\r\n            entities.add(entity);\r\n        });\r\n\r\n        // allow remove entity\r\n        editor.method('entities:remove', function (entity: Observer) {\r\n            entities.remove(entity);\r\n        });\r\n\r\n        // remove all entities\r\n        editor.method('entities:clear', function () {\r\n            entities.clear();\r\n        });\r\n\r\n        // get entity\r\n        editor.method('entities:get', function (resourceId: string) {\r\n            return entities.get(resourceId);\r\n        });\r\n\r\n\r\n        // list entities\r\n        editor.method('entities:list', function () {\r\n            return entities.array();\r\n        });\r\n\r\n\r\n        // get root entity\r\n        editor.method('entities:root', function () {\r\n            return entityRoot;\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    // 1.建立基本的数据格式；\r\n    // 2.串联hierarchy，包括基本的菜单；\r\n    // 3.尝试建立property；\r\n    // 4.串联Assets结构与UI；\r\n\r\n    public addRaw(entity_data: any): void {\r\n        // console.log('***entity-data***');\r\n        // console.log(entity_data);\r\n\r\n        // 目标，创建babylon scene资源\r\n        // Editor模式和Publish模式有何异同？\r\n        // Editor需要有一个Observer的中间层，需要建立层级关系，需要记录增改删除操作\r\n        // Publish可以从scene数据直接加载资源即可；\r\n\r\n        let gameObject = this.createGameObject(entity_data);\r\n\r\n\r\n        // add component\r\n\r\n        // children\r\n\r\n        // parent\r\n\r\n        this.container.addGameObject(gameObject);\r\n    }\r\n\r\n    public addEntity(entity: Observer): void {\r\n\r\n    }\r\n\r\n\r\n    private create(entity: Observer): GameObject {\r\n\r\n        let type: string = entity.get('type');\r\n        type = type.toLowerCase();\r\n        if (type === 'root') {\r\n            // 不需要生成\r\n\r\n        } else if (type === 'mesh') {\r\n            // 模型\r\n\r\n            // 首先加载数据，生成babylon mesh数据结构\r\n            // 提取地址，http或者其他方式加载\r\n            // Http下载，加入回调函数处理，查看babylon默认的处理方式；\r\n            // scenes数据如何从Assets数据中拿数据，到babylon中间件中寻找缓存\r\n\r\n        } else if (type === 'empty') {\r\n            // 空物体\r\n\r\n        } else if (type === 'camera') {\r\n            // node作为父物体\r\n\r\n        } else if (type === 'light') {\r\n            // node作为父物体\r\n\r\n        } else if (type === 'particle') {\r\n            // 貌似没有相对应的结构\r\n\r\n        } else if (type === 'sprite') {\r\n            // 貌似没有相对应的结构\r\n\r\n\r\n        }\r\n\r\n\r\n        // 根据要求生成GameObject\r\n        let instance = new GameObject(entity.get('name'));\r\n\r\n        return instance;\r\n    }\r\n\r\n    private createGameObject(entity: any): GameObject {\r\n        // TODO: 解析是node还是mesh\r\n        // 设置name\r\n        let instance = new GameObject(entity.name);\r\n        // 设置guid\r\n        instance.guid = entity.resource_id;\r\n\r\n        // 设置位置\r\n        // 设置角度\r\n        // 设置比例值\r\n        // 设置enable ? 不存在的情况\r\n        instance.setActive(entity.enabled);\r\n        // 设置visiable\r\n\r\n        // 设置tags\r\n\r\n        return instance;\r\n    }\r\n\r\n    public add(item: Entity): void { }\r\n\r\n    public has(item: Entity): boolean {\r\n        return false;\r\n    }\r\n\r\n    public set(index: string, item: Entity): void { }\r\n\r\n    public get(index: string): Nullable<Entity> {\r\n        return this._indexed[index];\r\n    }\r\n\r\n    public indexOf(item: Entity): number {\r\n        return this.lists.indexOf(item);\r\n    }\r\n}\r\n","import { Observer } from '../../lib';\r\nimport { GUID } from '../utility';\r\n\r\nexport class EntityCreate {\r\n\r\n\r\n    public constructor() {\r\n\r\n        var createNewEntityData = function (defaultData: any, parentResourceId: string) {\r\n            var entityData = {\r\n                name: defaultData.name || '空物体',\r\n                tags: [],\r\n                enabled: true,\r\n                resource_id: defaultData.resource_id || GUID.create(),\r\n                parent: parentResourceId,\r\n                children: Array<string>(),\r\n                position: defaultData.position || [0, 0, 0],\r\n                rotation: defaultData.rotation || [0, 0, 0],\r\n                scale: defaultData.scale || [1, 1, 1],\r\n                // components: defaultData.components || {},\r\n                // __postCreationCallback: defaultData.postCreationCallback,\r\n                root: false,\r\n                type: defaultData.type,\r\n                asset: defaultData.asset || ''\r\n            };\r\n\r\n            // if (defaultData.children) {\r\n            //     for (var i = 0; i < defaultData.children.length; i++) {\r\n            //         var childEntityData = createNewEntityData(defaultData.children[i], entityData.resource_id);\r\n            //         entityData.children.push(childEntityData);\r\n            //     }\r\n            // }\r\n\r\n            return entityData;\r\n        };\r\n\r\n\r\n        editor.method('entity:new:babylon', (defaultData: any) => {\r\n            defaultData = defaultData || {};\r\n            // var parent = defaultData.parent;\r\n            // var parent = editor.call('entities:root');\r\n\r\n            // if (parent === '' || parent === undefined) {\r\n            //     parent = editor.call('entities:root').get('resource_id');\r\n            // }\r\n\r\n            // console.log(editor.call('entities:root'));\r\n            // console.log(defaultData.parent);\r\n            // console.log(defaultData);\r\n\r\n            // var data = createNewEntityData(defaultData, parent.get('resource_id'));\r\n\r\n            // create new Entity data\r\n            var entity = new Observer(defaultData);\r\n\r\n            editor.call('entities:add', entity);\r\n            // editor.call('entities:addEntity', entity, parent, !defaultData.noSelect);\r\n\r\n            return entity;\r\n        });\r\n\r\n        editor.method('entities:new', function (defaultData: any) {\r\n            // get root if parent is null\r\n            defaultData = defaultData || {};\r\n            // var parent = defaultData.parent || editor.call('entities:root');\r\n            \r\n            // TODO: 一堆mesh过来，有的创建了，有的没创建怎么办\r\n            var parent = editor.call('entities:get', defaultData.parent) || editor.call('entities:root');\r\n\r\n            // var data = createNewEntityData(defaultData, parent.get('resource_id'));\r\n\r\n            var selectorType: string, selectorItems: Observer[];\r\n\r\n            if (!defaultData.noHistory) {\r\n                selectorType = editor.call('selector:type');\r\n                selectorItems = editor.call('selector:items');\r\n                if (selectorType === 'entity') {\r\n                    for (var i = 0; i < selectorItems.length; i++)\r\n                        selectorItems[i] = selectorItems[i].get('resource_id');\r\n                }\r\n            }\r\n\r\n            // create new Entity data\r\n            console.error(defaultData);\r\n            var entity = new Observer(defaultData);\r\n            \r\n            editor.call('entities:addEntity', entity, parent, !defaultData.noSelect);\r\n            console.error(entity);\r\n            // history\r\n            if (!defaultData.noHistory) {\r\n                var resourceId = entity.get('resource_id');\r\n                var parentId = parent.get('resource_id');\r\n\r\n                editor.call('history:add', {\r\n                    name: 'new entity ' + resourceId,\r\n                    undo: function () {\r\n                        var entity = editor.call('entities:get', resourceId);\r\n                        if (!entity)\r\n                            return;\r\n\r\n                        editor.call('entities:removeEntity', entity);\r\n\r\n                        if (selectorType === 'entity' && selectorItems.length) {\r\n                            var items = [];\r\n                            for (var i = 0; i < selectorItems.length; i++) {\r\n                                var item = editor.call('entities:get', selectorItems[i]);\r\n                                if (item)\r\n                                    items.push(item);\r\n                            }\r\n\r\n                            if (items.length) {\r\n                                editor.call('selector:history', false);\r\n                                editor.call('selector:set', selectorType, items);\r\n                                editor.once('selector:change', function () {\r\n                                    editor.call('selector:history', true);\r\n                                });\r\n                            }\r\n                        }\r\n                    },\r\n                    redo: function () {\r\n                        var parent = editor.call('entities:get', parentId);\r\n                        if (!parent)\r\n                            return;\r\n\r\n                        // var entity = new Observer(data);\r\n                        var entity = new Observer(defaultData);\r\n                        editor.call('entities:addEntity', entity, parent, true);\r\n                    }\r\n                });\r\n            }\r\n\r\n            return entity;\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n}","import { Observer } from \"../../lib\";\r\nimport { BabylonLoader } from \"../middleware/loader/babylonLoader\";\r\n\r\nexport class EntityEdit {\r\n\r\n\r\n    public constructor() {\r\n\r\n        let childToParent: { [key: string]: string } = {};\r\n        // 为回退作准备\r\n        let deletedCache: { [key: string]: string } = {};\r\n\r\n        editor.on('entities:add', function (entity: Observer) {\r\n            // console.log('entity-edit-children');\r\n            var children = entity.get('children');\r\n            for (var i = 0; i < children.length; i++)\r\n                childToParent[children[i]] = entity.get('resource_id');\r\n\r\n            entity.on('children:insert', function (value: string) {\r\n                // console.warn('children:insert in entity-edit');\r\n                childToParent[value] = entity.get('resource_id');\r\n                BabylonLoader.updateSceneData(entity.get('resource_id'), entity._data2);\r\n                editor.call('make:scene:dirty');\r\n            });\r\n            entity.on('children:remove', function (value: string) {\r\n                delete childToParent[value];\r\n                BabylonLoader.updateSceneData(entity.get('resource_id'), entity._data2);\r\n                editor.call('make:scene:dirty');\r\n            });\r\n        });\r\n\r\n        var updateEntityReferenceFields = function (entityReferencesMap: any, oldValue: string, newValue: any) {\r\n            var referencesToThisEntity = entityReferencesMap[oldValue];\r\n            if (!referencesToThisEntity) return;\r\n\r\n            referencesToThisEntity.forEach(function (reference: any) {\r\n                var sourceEntity = editor.call('entities:get', reference.sourceEntityGuid);\r\n                if (!sourceEntity) return;\r\n\r\n                var prevHistory = sourceEntity.history.enabled;\r\n                sourceEntity.history.enabled = false;\r\n                sourceEntity.set('components.' + reference.componentName + '.' + reference.fieldName, newValue);\r\n                sourceEntity.history.enabled = prevHistory;\r\n            });\r\n        };\r\n\r\n\r\n        var addEntity = function (entity: Observer, parent: Observer, select: boolean, ind: number | undefined, entityReferencesMap: any) {\r\n            entityReferencesMap = entityReferencesMap || {};\r\n            // ind = ind || 0;\r\n\r\n            childToParent[entity.get('resource_id')] = parent.get('resource_id');\r\n\r\n            var children = entity.get('children');\r\n            if (children.length)\r\n                entity.set('children', []);\r\n\r\n            // call add event\r\n            editor.call('entities:add', entity);\r\n\r\n            // console.error(entity);\r\n\r\n            \r\n\r\n            // TODO: 上传到服务器\r\n            // shareDb \r\n            // editor.call('realtime:scene:op', {\r\n            //     p: ['entities', entity.get('resource_id')],\r\n            //     oi: entity.origin\r\n            // });\r\n\r\n            // this is necessary for the entity to be added to the tree view\r\n            // parent.history.enabled = false;\r\n            // 添加tree item 菜单入口\r\n            parent.insert('children', entity.get('resource_id'), ind);\r\n            // console.warn(parent);\r\n\r\n\r\n            \r\n            // parent.history.enabled = true;\r\n\r\n            // if (select) {\r\n            //     setTimeout(function () {\r\n            //         editor.call('selector:history', false);\r\n            //         editor.call('selector:set', 'entity', [entity]);\r\n            //         editor.once('selector:change', function () {\r\n            //             editor.call('selector:history', true);\r\n            //         });\r\n            //     }, 0);\r\n            // }\r\n\r\n            // add children too\r\n            // children.forEach(function (childIdOrData: any) {\r\n            //     var data;\r\n\r\n            //     // If we've been provided an id, we're re-creating children from the deletedCache\r\n            //     if (typeof childIdOrData === 'string') {\r\n            //         data = deletedCache[childIdOrData];\r\n            //         if (!data) {\r\n            //             return;\r\n            //         }\r\n            //         // If we've been provided an object, we're creating children for a new entity\r\n            //     } \r\n\r\n            //     var child = new Observer(data);\r\n            //     // TODO\r\n            //     addEntity(child, entity, false, 0, entityReferencesMap);\r\n            // });\r\n\r\n            BabylonLoader.addSceneData(entity.get('resource_id'), entity.origin);\r\n\r\n            // Hook up any entity references which need to be pointed to this newly created entity\r\n            // (happens when addEntity() is being called during the undoing of a deletion). In order\r\n            // to force components to respond to the setter call even when they are running in other\r\n            // tabs or in the Launch window, we unfortunately have to use a setTimeout() hack :(\r\n            // var guid = entity.get('resource_id');\r\n\r\n            // First set all entity reference fields targeting this guid to null\r\n            // TODO: 待定，更新属性菜单\r\n            // updateEntityReferenceFields(entityReferencesMap, guid, null);\r\n            // setTimeout(function () {\r\n            //     // Then update the same fields to target the guid again\r\n            //     updateEntityReferenceFields(entityReferencesMap, guid, guid);\r\n            // }, 0);\r\n\r\n            // if (entity.get('__postCreationCallback')) {\r\n            //     entity.get('__postCreationCallback')(entity);\r\n            // }\r\n        };\r\n\r\n        var removeEntity = function (entity: Observer, entityReferencesMap: any) {\r\n            entityReferencesMap = entityReferencesMap || {};\r\n            // deletedCache[entity.get('resource_id')] = entity.json();\r\n            deletedCache[entity.get('resource_id')] = entity.origin;\r\n\r\n            // Nullify any entity references which currently point to this guid\r\n            updateEntityReferenceFields(entityReferencesMap, entity.get('resource_id'), null);\r\n\r\n            // remove children\r\n            entity.get('children').forEach(function (child: string) {\r\n                var entity = editor.call('entities:get', child);\r\n                if (!entity)\r\n                    return;\r\n\r\n                removeEntity(entity, entityReferencesMap);\r\n            });\r\n\r\n            if (editor.call('selector:type') === 'entity' && editor.call('selector:items').indexOf(entity) !== -1) {\r\n                editor.call('selector:history', false);\r\n                editor.call('selector:remove', entity);\r\n                editor.once('selector:change', function () {\r\n                    editor.call('selector:history', true);\r\n                });\r\n            }\r\n\r\n            // remove from parent\r\n            var parentId = childToParent[entity.get('resource_id')];\r\n            if (parentId) {\r\n                var parent = editor.call('entities:get', parentId);\r\n                if (parent) {\r\n                    parent.history.enabled = false;\r\n                    parent.removeValue('children', entity.get('resource_id'));\r\n                    parent.history.enabled = true;\r\n                }\r\n            }\r\n\r\n            // call remove method\r\n            editor.call('entities:remove', entity);\r\n\r\n            // sharedb\r\n            editor.call('realtime:scene:op', {\r\n                p: ['entities', entity.get('resource_id')],\r\n                od: {}\r\n            });\r\n        };\r\n\r\n\r\n        editor.method('entities:addEntity', addEntity);\r\n        editor.method('entities:removeEntity', removeEntity);\r\n\r\n        editor.method('entities:getParentResourceId', function (childResourceId: string) {\r\n            return childToParent[childResourceId];\r\n        });\r\n\r\n        editor.method('entities:updateChildToParentIndex', function (childResourceId: string, parentResourceId: string) {\r\n            childToParent[childResourceId] = parentResourceId;\r\n        });\r\n\r\n        editor.method('entities:getFromDeletedCache', function (resourceId: string) {\r\n            return deletedCache[resourceId];\r\n        });\r\n\r\n\r\n        editor.method('save:scene', () => {\r\n            BabylonLoader.saveScene();\r\n        });\r\n\r\n\r\n    }\r\n}","import { Entities } from './entities';\r\nimport { Observer } from '../../lib';\r\nimport { Loader } from '../middleware/loader';\r\nimport { TopElementContainer, Progress } from '../../ui';\r\n\r\nexport class EntityLoad {\r\n\r\n    public loadedEntities: boolean = false;\r\n\r\n    // private _entities: Entities = new Entities();\r\n\r\n    public constructor() {\r\n\r\n        var hierarchyOverlay = new TopElementContainer({\r\n            flex: true\r\n        });\r\n        hierarchyOverlay.class!.add('progress-overlay');\r\n        editor.call('layout.hierarchy').append(hierarchyOverlay);\r\n\r\n        var p = new Progress();\r\n        p.on('progress:100', function () {\r\n            hierarchyOverlay.hidden = true;\r\n        });\r\n        hierarchyOverlay.append(p);\r\n        p.hidden = true;\r\n\r\n        var loadedEntities = false;\r\n\r\n        editor.method('entities:loaded', function () {\r\n            return loadedEntities;\r\n        });\r\n\r\n\r\n        editor.on('scene:raw', function (data: any) {\r\n            // editor.call('selector:clear');\r\n            // editor.call('entities:clear');\r\n            // editor.call('attributes:clear');\r\n\r\n            // console.log(data);\r\n\r\n            var total = Object.keys(data.entities).length;\r\n            var i = 0;\r\n\r\n            // list\r\n            for (var key in data.entities) {\r\n                let entity = new Observer(data.entities[key]);\r\n                editor.call('entities:add', entity);\r\n                p.progress = (++i / total) * 0.8 + 0.1;\r\n                if (!data.entities[key].root) {\r\n                    editor.call('create:scene:element', entity);\r\n                }\r\n            }\r\n\r\n            p.progress = 1;\r\n\r\n            loadedEntities = true;\r\n            editor.emit('entities:load');\r\n        });\r\n\r\n        editor.call('attributes:clear');\r\n\r\n        editor.on('scene:unload', function () {\r\n            editor.call('entities:clear');\r\n            editor.call('attributes:clear');\r\n        });\r\n\r\n        editor.on('scene:beforeload', function () {\r\n            hierarchyOverlay.hidden = false;\r\n            p.hidden = false;\r\n            p.progress = 0.1;\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    /*\r\n    public scene_raw(row_data: any): void {\r\n        // 解析entity\r\n\r\n        // 清空\r\n        // editor.call('selector:clear');\r\n        // editor.call('entities:clear');\r\n        // editor.call('attributes:clear');\r\n\r\n        // Loader.append(row_data);\r\n\r\n        // 加载进度条计算\r\n        var total = Object.keys(row_data.entities).length;\r\n        var i = 0;\r\n\r\n        // list 挨个解析\r\n        for (var key in row_data.entities) {\r\n            // 是否需要加入一个中间结构\r\n            this._entities.addRaw(row_data.entities[key]);\r\n            let entity = new Observer(row_data.entities[key]);\r\n            // debug.warn(entity.get('name'));\r\n            // debug.warn(entity.get('resource_id'));\r\n            // if (entity.has('components.rigidbody')) {\r\n            //     debug.warn(entity.get('components.rigidbody.type'));\r\n            // }\r\n\r\n            // editor.call('entities:add', new Observer(data.entities[key]));\r\n            // p.progress = (++i / total) * 0.8 + 0.1;\r\n        }\r\n\r\n        // p.progress = 1;\r\n\r\n        this.loadedEntities = true;\r\n\r\n        // 解析完成，其他面板设置\r\n        editor.emit('entities:load');\r\n    }\r\n    */\r\n\r\n}","export class EntitySync {\r\n\r\n\r\n    public constructor() {\r\n\r\n    }\r\n\r\n}","export class Entity {\r\n\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n\r\n  public get(str: string) {\r\n    \r\n  }\r\n\r\n  \r\n\r\n}","export * from './entity';\r\nexport * from './entities';\r\nexport * from './entity-load';\r\nexport * from './entity-create';\r\nexport * from './entity-sync';\r\nexport * from './entity-edit';\r\nexport * from './keeper';","import { EntityLoad } from \"./entity-load\";\r\nimport { Entities } from \"./entities\";\r\nimport { EntityCreate } from \"./entity-create\";\r\nimport { EntitySync } from \"./entity-sync\";\r\nimport { EntityEdit } from \"./entity-edit\";\r\n\r\nexport class EntityKeeper {\r\n\r\n    public constructor() {\r\n\r\n        new Entities();\r\n\r\n        new EntityEdit();\r\n\r\n        new EntityCreate();\r\n\r\n        new EntityLoad();\r\n\r\n        new EntitySync();\r\n\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n}","// import { Observer, Observable } from \"../Misc/observable\";\r\n// import { Nullable } from \"../types\";\r\n// import { PointerInfo } from \"../Events/pointerEvents\";\r\n// import { Vector3, Matrix } from \"../Maths/math.vector\";\r\n// import { TransformNode } from \"../Meshes/transformNode\";\r\n// import { Node } from \"../node\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\n// import { LinesMesh } from \"../Meshes/linesMesh\";\r\n// import { CylinderBuilder } from \"../Meshes/Builders/cylinderBuilder\";\r\n// import { PointerDragBehavior } from \"../Behaviors/Meshes/pointerDragBehavior\";\r\nimport { Gizmo } from \"./gizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n// import { StandardMaterial } from \"../Materials/standardMaterial\";\r\n// import { Scene } from \"../scene\";\r\nimport { PositionGizmo } from \"./positionGizmo\";\r\n// import { Color3 } from '../Maths/math.color';\r\n/**\r\n * Single axis drag gizmo\r\n */\r\nexport class AxisDragGizmo extends Gizmo {\r\n    /**\r\n     * Drag behavior responsible for the gizmos dragging interactions\r\n     */\r\n    public dragBehavior: BABYLON.PointerDragBehavior;\r\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n    /**\r\n     * Drag distance in babylon units that the gizmo will snap to when dragged (Default: 0)\r\n     */\r\n    public snapDistance = 0;\r\n    /**\r\n     * Event that fires each time the gizmo snaps to a new location.\r\n     * * snapDistance is the the change in distance\r\n     */\r\n    public onSnapObservable = new BABYLON.Observable<{ snapDistance: number }>();\r\n\r\n    private _isEnabled: boolean = true;\r\n    private _parent: Nullable<PositionGizmo> = null;\r\n\r\n    private _arrow: BABYLON.TransformNode;\r\n    private _coloredMaterial: BABYLON.StandardMaterial;\r\n    private _hoverMaterial: BABYLON.StandardMaterial;\r\n\r\n    /** @hidden */\r\n    public static _CreateArrow(scene: BABYLON.Scene, material: BABYLON.StandardMaterial, thickness: number = 1): BABYLON.TransformNode {\r\n        var arrow = new BABYLON.TransformNode(\"arrow\", scene);\r\n        var cylinder = BABYLON.CylinderBuilder.CreateCylinder(\"cylinder\", { diameterTop: 0, height: 0.075, diameterBottom: 0.0375 * (1 + (thickness - 1) / 4), tessellation: 96 }, scene);\r\n        var line = BABYLON.CylinderBuilder.CreateCylinder(\"cylinder\", { diameterTop: 0.005 * thickness, height: 0.275, diameterBottom: 0.005 * thickness, tessellation: 96 }, scene);\r\n        line.material = material;\r\n        cylinder.parent = arrow;\r\n        line.parent = arrow;\r\n\r\n        // Position arrow pointing in its drag axis\r\n        cylinder.material = material;\r\n        cylinder.rotation.x = Math.PI / 2;\r\n        cylinder.position.z += 0.3;\r\n        line.position.z += 0.275 / 2;\r\n        line.rotation.x = Math.PI / 2;\r\n        return arrow;\r\n    }\r\n\r\n    /** @hidden */\r\n    public static _CreateArrowInstance(scene: BABYLON.Scene, arrow: BABYLON.TransformNode): BABYLON.TransformNode {\r\n        const instance = new BABYLON.TransformNode(\"arrow\", scene);\r\n        for (const mesh of arrow.getChildMeshes()) {\r\n            const childInstance = (mesh as BABYLON.Mesh).createInstance(mesh.name);\r\n            childInstance.parent = instance;\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * Creates an AxisDragGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     * @param dragAxis The axis which the gizmo will be able to drag on\r\n     * @param color The color of the gizmo\r\n     * @param thickness display gizmo axis thickness\r\n     */\r\n    constructor(dragAxis: BABYLON.Vector3, color: BABYLON.Color3 = BABYLON.Color3.Gray(), gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer, parent: Nullable<PositionGizmo> = null, thickness: number = 1) {\r\n        super(gizmoLayer);\r\n        this._parent = parent;\r\n        // Create Material\r\n        this._coloredMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this._coloredMaterial.diffuseColor = color;\r\n        this._coloredMaterial.specularColor = color.subtract(new BABYLON.Color3(0.1, 0.1, 0.1));\r\n\r\n        this._hoverMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this._hoverMaterial.diffuseColor = color.add(new BABYLON.Color3(0.3, 0.3, 0.3));\r\n\r\n        // Build mesh on root node\r\n        this._arrow = AxisDragGizmo._CreateArrow(gizmoLayer.utilityLayerScene, this._coloredMaterial, thickness);\r\n\r\n        this._arrow.lookAt(this._rootMesh.position.add(dragAxis));\r\n        this._arrow.scaling.scaleInPlace(1 / 3);\r\n        this._arrow.parent = this._rootMesh;\r\n\r\n        var currentSnapDragDistance = 0;\r\n        var tmpVector = new BABYLON.Vector3();\r\n        var tmpSnapEvent = { snapDistance: 0 };\r\n        // Add drag behavior to handle events when the gizmo is dragged\r\n        this.dragBehavior = new BABYLON.PointerDragBehavior({ dragAxis: dragAxis });\r\n        this.dragBehavior.moveAttached = false;\r\n        this._rootMesh.addBehavior(this.dragBehavior);\r\n\r\n        var localDelta = new BABYLON.Vector3();\r\n        var tmpMatrix = new BABYLON.Matrix();\r\n        this.dragBehavior.onDragObservable.add((event) => {\r\n            if (this.attachedNode) {\r\n                // Convert delta to local translation if it has a parent\r\n                if (this.attachedNode.parent) {\r\n                    this.attachedNode.parent.getWorldMatrix().invertToRef(tmpMatrix);\r\n                    tmpMatrix.setTranslationFromFloats(0, 0, 0);\r\n                    BABYLON.Vector3.TransformCoordinatesToRef(event.delta, tmpMatrix, localDelta);\r\n                } else {\r\n                    localDelta.copyFrom(event.delta);\r\n                }\r\n                \r\n                // Snapping logic\r\n                if (this.snapDistance == 0) {\r\n                    if ((this.attachedNode as any).position) { // Required for nodes like lights\r\n                        (this.attachedNode as any).position.addInPlaceFromFloats(localDelta.x, localDelta.y, localDelta.z);\r\n                    }\r\n                    // use _worldMatrix to not force a matrix update when calling GetWorldMatrix especialy with Cameras\r\n                    this.attachedNode._worldMatrix.addTranslationFromFloats(localDelta.x, localDelta.y, localDelta.z);\r\n                    this.attachedNode.updateCache();\r\n                } else {\r\n                    currentSnapDragDistance += event.dragDistance;\r\n                    if (Math.abs(currentSnapDragDistance) > this.snapDistance) {\r\n                        var dragSteps = Math.floor(Math.abs(currentSnapDragDistance) / this.snapDistance);\r\n                        currentSnapDragDistance = currentSnapDragDistance % this.snapDistance;\r\n                        localDelta.normalizeToRef(tmpVector);\r\n                        tmpVector.scaleInPlace(this.snapDistance * dragSteps);\r\n                        this.attachedNode._worldMatrix.addTranslationFromFloats(tmpVector.x, tmpVector.y, tmpVector.z);\r\n                        this.attachedNode.updateCache();\r\n                        tmpSnapEvent.snapDistance = this.snapDistance * dragSteps;\r\n                        this.onSnapObservable.notifyObservers(tmpSnapEvent);\r\n                    }\r\n                }\r\n                this._operationType = 'translate';\r\n                this._matrixChanged();\r\n            }\r\n        });\r\n\r\n        this._pointerObserver = gizmoLayer.utilityLayerScene.onPointerObservable.add((pointerInfo) => {\r\n            if (this._customMeshSet) {\r\n                return;\r\n            }\r\n            var isHovered = pointerInfo.pickInfo && (this._rootMesh.getChildMeshes().indexOf(<BABYLON.Mesh>pointerInfo.pickInfo.pickedMesh) != -1);\r\n            var material = isHovered ? this._hoverMaterial : this._coloredMaterial;\r\n            this._rootMesh.getChildMeshes().forEach((m) => {\r\n                m.material = material;\r\n                if ((<BABYLON.LinesMesh>m).color) {\r\n                    (<BABYLON.LinesMesh>m).color = material.diffuseColor;\r\n                }\r\n            });\r\n        });\r\n\r\n        var light = gizmoLayer._getSharedGizmoLight();\r\n        light.includedOnlyMeshes = light.includedOnlyMeshes.concat(this._rootMesh.getChildMeshes(false));\r\n    }\r\n    protected _attachedNodeChanged(value: Nullable<BABYLON.Node>) {\r\n        if (this.dragBehavior) {\r\n            this.dragBehavior.enabled = value ? true : false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * If the gizmo is enabled\r\n     */\r\n    public set isEnabled(value: boolean) {\r\n        this._isEnabled = value;\r\n        if (!value) {\r\n            this.attachedMesh = null;\r\n            this.attachedNode = null;\r\n        }\r\n        else {\r\n            if (this._parent) {\r\n                this.attachedMesh = this._parent.attachedMesh;\r\n                this.attachedNode = this._parent.attachedNode;\r\n            }\r\n        }\r\n    }\r\n    public get isEnabled(): boolean {\r\n        return this._isEnabled;\r\n    }\r\n\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        this.onSnapObservable.clear();\r\n        this.gizmoLayer.utilityLayerScene.onPointerObservable.remove(this._pointerObserver);\r\n        this.dragBehavior.detach();\r\n        if (this._arrow) {\r\n            this._arrow.dispose();\r\n        }\r\n        [this._coloredMaterial, this._hoverMaterial].forEach((matl) => {\r\n            if (matl) {\r\n                matl.dispose();\r\n            }\r\n        });\r\n        super.dispose();\r\n    }\r\n}\r\n","// import { Observer, Observable } from \"../Misc/observable\";\r\n// import { Nullable } from \"../types\";\r\n// import { PointerInfo } from \"../Events/pointerEvents\";\r\n// import { Vector3, Matrix } from \"../Maths/math.vector\";\r\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n// import { Node } from \"../node\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\n// import { LinesMesh } from \"../Meshes/linesMesh\";\r\n// import { BoxBuilder } from \"../Meshes/Builders/boxBuilder\";\r\n// import { CylinderBuilder } from \"../Meshes/Builders/cylinderBuilder\";\r\n// import { StandardMaterial } from \"../Materials/standardMaterial\";\r\n// import { PointerDragBehavior } from \"../Behaviors/Meshes/pointerDragBehavior\";\r\nimport { Gizmo } from \"./gizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\nimport { ScaleGizmo } from \"./scaleGizmo\";\r\n// import { Color3 } from '../Maths/math.color';\r\n\r\n/**\r\n * Single axis scale gizmo\r\n */\r\nexport class AxisScaleGizmo extends Gizmo {\r\n    /**\r\n     * Drag behavior responsible for the gizmos dragging interactions\r\n     */\r\n    public dragBehavior: BABYLON.PointerDragBehavior;\r\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n    /**\r\n     * Scale distance in babylon units that the gizmo will snap to when dragged (Default: 0)\r\n     */\r\n    public snapDistance = 0;\r\n    /**\r\n     * Event that fires each time the gizmo snaps to a new location.\r\n     * * snapDistance is the the change in distance\r\n     */\r\n    public onSnapObservable = new BABYLON.Observable<{ snapDistance: number }>();\r\n    /**\r\n     * If the scaling operation should be done on all axis (default: false)\r\n     */\r\n    public uniformScaling = false;\r\n    /**\r\n     * Custom sensitivity value for the drag strength\r\n     */\r\n    public sensitivity = 1;\r\n\r\n    private _isEnabled: boolean = true;\r\n    private _parent: Nullable<ScaleGizmo> = null;\r\n\r\n    private _arrow: BABYLON.AbstractMesh;\r\n    private _coloredMaterial: BABYLON.StandardMaterial;\r\n    private _hoverMaterial: BABYLON.StandardMaterial;\r\n\r\n    /**\r\n     * Creates an AxisScaleGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     * @param dragAxis The axis which the gizmo will be able to scale on\r\n     * @param color The color of the gizmo\r\n     * @param thickness display gizmo axis thickness\r\n     */\r\n    constructor(dragAxis: BABYLON.Vector3, color: BABYLON.Color3 = BABYLON.Color3.Gray(), gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer, parent: Nullable<ScaleGizmo> = null, thickness: number = 1) {\r\n        super(gizmoLayer);\r\n        this._parent = parent;\r\n        // Create Material\r\n        this._coloredMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this._coloredMaterial.diffuseColor = color;\r\n        this._coloredMaterial.specularColor = color.subtract(new BABYLON.Color3(0.1, 0.1, 0.1));\r\n\r\n        this._hoverMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this._hoverMaterial.diffuseColor = color.add(new BABYLON.Color3(0.3, 0.3, 0.3));\r\n\r\n        // Build mesh on root node\r\n        this._arrow = new BABYLON.AbstractMesh(\"\", gizmoLayer.utilityLayerScene);\r\n        var arrowMesh = BABYLON.BoxBuilder.CreateBox(\"yPosMesh\", { size: 0.4 * (1 + (thickness - 1) / 4) }, gizmoLayer.utilityLayerScene);\r\n        var arrowTail = BABYLON.CylinderBuilder.CreateCylinder(\"cylinder\", { diameterTop: 0.005 * thickness, height: 0.275, diameterBottom: 0.005 * thickness, tessellation: 96 }, gizmoLayer.utilityLayerScene);\r\n        arrowTail.material = this._coloredMaterial;\r\n        this._arrow.addChild(arrowMesh);\r\n        this._arrow.addChild(arrowTail);\r\n\r\n        // Position arrow pointing in its drag axis\r\n        arrowMesh.scaling.scaleInPlace(0.1);\r\n        arrowMesh.material = this._coloredMaterial;\r\n        arrowMesh.rotation.x = Math.PI / 2;\r\n        arrowMesh.position.z += 0.3;\r\n        arrowTail.position.z += 0.275 / 2;\r\n        arrowTail.rotation.x = Math.PI / 2;\r\n        this._arrow.lookAt(this._rootMesh.position.add(dragAxis));\r\n        this._rootMesh.addChild(this._arrow);\r\n        this._arrow.scaling.scaleInPlace(1 / 3);\r\n\r\n        // Add drag behavior to handle events when the gizmo is dragged\r\n        this.dragBehavior = new BABYLON.PointerDragBehavior({ dragAxis: dragAxis });\r\n        this.dragBehavior.moveAttached = false;\r\n        this._rootMesh.addBehavior(this.dragBehavior);\r\n\r\n        var currentSnapDragDistance = 0;\r\n        var tmpVector = new BABYLON.Vector3();\r\n        var tmpSnapEvent = { snapDistance: 0 };\r\n        this.dragBehavior.onDragObservable.add((event) => {\r\n            if (this.attachedNode) {\r\n                // Drag strength is modified by the scale of the gizmo (eg. for small objects like boombox the strength will be increased to match the behavior of larger objects)\r\n                var dragStrength = this.sensitivity * event.dragDistance * ((this.scaleRatio * 3) / this._rootMesh.scaling.length());\r\n\r\n                // Snapping logic\r\n                var snapped = false;\r\n                var dragSteps = 0;\r\n                if (this.uniformScaling) {\r\n                    this.attachedNode.getWorldMatrix().decompose(tmpVector);\r\n                    tmpVector.normalize();\r\n                    if (tmpVector.y < 0) {\r\n                        tmpVector.scaleInPlace(-1);\r\n                    }\r\n                } else {\r\n                    tmpVector.copyFrom(dragAxis);\r\n                }\r\n                if (this.snapDistance == 0) {\r\n                    tmpVector.scaleToRef(dragStrength, tmpVector);\r\n                } else {\r\n                    currentSnapDragDistance += dragStrength;\r\n                    if (Math.abs(currentSnapDragDistance) > this.snapDistance) {\r\n                        dragSteps = Math.floor(Math.abs(currentSnapDragDistance) / this.snapDistance);\r\n                        if (currentSnapDragDistance < 0) {\r\n                            dragSteps *= -1;\r\n                        }\r\n                        currentSnapDragDistance = currentSnapDragDistance % this.snapDistance;\r\n                        tmpVector.scaleToRef(this.snapDistance * dragSteps, tmpVector);\r\n                        snapped = true;\r\n                    } else {\r\n                        tmpVector.scaleInPlace(0);\r\n                    }\r\n                }\r\n\r\n                const scalingMatrix = new BABYLON.Matrix();\r\n                BABYLON.Matrix.ScalingToRef(1 + tmpVector.x, 1 + tmpVector.y, 1 + tmpVector.z, scalingMatrix);\r\n                this.attachedNode.getWorldMatrix().copyFrom(scalingMatrix.multiply(this.attachedNode.getWorldMatrix()));\r\n\r\n                if (snapped) {\r\n                    tmpSnapEvent.snapDistance = this.snapDistance * dragSteps;\r\n                    this.onSnapObservable.notifyObservers(tmpSnapEvent);\r\n                }\r\n                this._operationType = 'scale';\r\n                this._matrixChanged();\r\n            }\r\n        });\r\n\r\n        this._pointerObserver = gizmoLayer.utilityLayerScene.onPointerObservable.add((pointerInfo) => {\r\n            if (this._customMeshSet) {\r\n                return;\r\n            }\r\n            var isHovered = pointerInfo.pickInfo && (this._rootMesh.getChildMeshes().indexOf(<BABYLON.Mesh>pointerInfo.pickInfo.pickedMesh) != -1);\r\n            var material = isHovered ? this._hoverMaterial : this._coloredMaterial;\r\n            this._rootMesh.getChildMeshes().forEach((m) => {\r\n                m.material = material;\r\n                if ((<BABYLON.LinesMesh>m).color) {\r\n                    (<BABYLON.LinesMesh>m).color = material.diffuseColor;\r\n                }\r\n            });\r\n        });\r\n\r\n        var light = gizmoLayer._getSharedGizmoLight();\r\n        light.includedOnlyMeshes = light.includedOnlyMeshes.concat(this._rootMesh.getChildMeshes());\r\n    }\r\n\r\n    protected _attachedNodeChanged(value: Nullable<BABYLON.Node>) {\r\n        if (this.dragBehavior) {\r\n            this.dragBehavior.enabled = value ? true : false;\r\n        }\r\n    }\r\n\r\n    /**\r\n * If the gizmo is enabled\r\n */\r\n    public set isEnabled(value: boolean) {\r\n        this._isEnabled = value;\r\n        if (!value) {\r\n            this.attachedMesh = null;\r\n            this.attachedNode = null;\r\n        }\r\n        else {\r\n            if (this._parent) {\r\n                this.attachedMesh = this._parent.attachedMesh;\r\n                this.attachedNode = this._parent.attachedNode;\r\n            }\r\n        }\r\n    }\r\n    public get isEnabled(): boolean {\r\n        return this._isEnabled;\r\n    }\r\n\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        this.onSnapObservable.clear();\r\n        this.gizmoLayer.utilityLayerScene.onPointerObservable.remove(this._pointerObserver);\r\n        this.dragBehavior.detach();\r\n        if (this._arrow) {\r\n            this._arrow.dispose();\r\n        }\r\n        [this._coloredMaterial, this._hoverMaterial].forEach((matl) => {\r\n            if (matl) {\r\n                matl.dispose();\r\n            }\r\n        });\r\n        super.dispose();\r\n    }\r\n\r\n    /**\r\n     * Disposes and replaces the current meshes in the gizmo with the specified mesh\r\n     * @param mesh The mesh to replace the default mesh of the gizmo\r\n     * @param useGizmoMaterial If the gizmo's default material should be used (default: false)\r\n     */\r\n    public setCustomMesh(mesh: BABYLON.Mesh, useGizmoMaterial: boolean = false) {\r\n        super.setCustomMesh(mesh);\r\n        if (useGizmoMaterial) {\r\n            this._rootMesh.getChildMeshes().forEach((m) => {\r\n                m.material = this._coloredMaterial;\r\n                if ((<BABYLON.LinesMesh>m).color) {\r\n                    (<BABYLON.LinesMesh>m).color = this._coloredMaterial.diffuseColor;\r\n                }\r\n            });\r\n            this._customMeshSet = false;\r\n        }\r\n    }\r\n}\r\n","// import { Observer, Observable } from \"../Misc/observable\";\r\n// import { Logger } from \"../Misc/logger\";\r\n// import { Nullable } from \"../types\";\r\n// import { PointerInfo } from \"../Events/pointerEvents\";\r\n// import { Scene } from \"../scene\";\r\n// import { Quaternion, Matrix, Vector3 } from \"../Maths/math.vector\";\r\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\n// import { SphereBuilder } from \"../Meshes/Builders/sphereBuilder\";\r\n// import { BoxBuilder } from \"../Meshes/Builders/boxBuilder\";\r\n// import { LinesBuilder } from \"../Meshes/Builders/linesBuilder\";\r\n// import { PointerDragBehavior } from \"../Behaviors/Meshes/pointerDragBehavior\";\r\nimport { Gizmo } from \"./gizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n// import { StandardMaterial } from \"../Materials/standardMaterial\";\r\n// import { PivotTools } from \"../Misc/pivotTools\";\r\n// import { Color3 } from '../Maths/math.color';\r\n\r\n// import \"../Meshes/Builders/boxBuilder\";\r\n// import { LinesMesh } from '../Meshes/linesMesh';\r\n// import { Epsilon } from '../Maths/math.constants';\r\n\r\n/**\r\n * Bounding box gizmo\r\n */\r\nexport class BoundingBoxGizmo extends Gizmo {\r\n    private _lineBoundingBox: BABYLON.AbstractMesh;\r\n    private _rotateSpheresParent: BABYLON.AbstractMesh;\r\n    private _scaleBoxesParent: BABYLON.AbstractMesh;\r\n    private _boundingDimensions = new BABYLON.Vector3(1, 1, 1);\r\n    private _renderObserver: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n    private _scaleDragSpeed = 0.2;\r\n\r\n    private _tmpQuaternion = new BABYLON.Quaternion();\r\n    private _tmpVector = new BABYLON.Vector3(0, 0, 0);\r\n    private _tmpRotationMatrix = new BABYLON.Matrix();\r\n    /**\r\n     * If child meshes should be ignored when calculating the boudning box. This should be set to true to avoid perf hits with heavily nested meshes (Default: false)\r\n     */\r\n    public ignoreChildren = false;\r\n    /**\r\n     * Returns true if a descendant should be included when computing the bounding box. When null, all descendants are included. If ignoreChildren is set this will be ignored. (Default: null)\r\n     */\r\n    public includeChildPredicate: Nullable<(abstractMesh: BABYLON.AbstractMesh) => boolean> = null;\r\n\r\n    /**\r\n     * The size of the rotation spheres attached to the bounding box (Default: 0.1)\r\n     */\r\n    public rotationSphereSize = 0.1;\r\n    /**\r\n     * The size of the scale boxes attached to the bounding box (Default: 0.1)\r\n     */\r\n    public scaleBoxSize = 0.1;\r\n    /**\r\n     * If set, the rotation spheres and scale boxes will increase in size based on the distance away from the camera to have a consistent screen size (Default: false)\r\n     */\r\n    public fixedDragMeshScreenSize = false;\r\n\r\n    /**\r\n     * The distance away from the object which the draggable meshes should appear world sized when fixedDragMeshScreenSize is set to true (default: 10)\r\n     */\r\n    public fixedDragMeshScreenSizeDistanceFactor = 10;\r\n    /**\r\n     * Fired when a rotation sphere or scale box is dragged\r\n     */\r\n    public onDragStartObservable = new BABYLON.Observable<{}>();\r\n    /**\r\n     * Fired when a scale box is dragged\r\n     */\r\n    public onScaleBoxDragObservable = new BABYLON.Observable<{}>();\r\n    /**\r\n      * Fired when a scale box drag is ended\r\n     */\r\n    public onScaleBoxDragEndObservable = new BABYLON.Observable<{}>();\r\n    /**\r\n     * Fired when a rotation sphere is dragged\r\n     */\r\n    public onRotationSphereDragObservable = new BABYLON.Observable<{}>();\r\n    /**\r\n     * Fired when a rotation sphere drag is ended\r\n     */\r\n    public onRotationSphereDragEndObservable = new BABYLON.Observable<{}>();\r\n    /**\r\n     * Relative bounding box pivot used when scaling the attached node. When null object with scale from the opposite corner. 0.5,0.5,0.5 for center and 0.5,0,0.5 for bottom (Default: null)\r\n     */\r\n    public scalePivot: Nullable<BABYLON.Vector3> = null;\r\n\r\n    /**\r\n     * Mesh used as a pivot to rotate the attached node\r\n     */\r\n    private _anchorMesh: BABYLON.AbstractMesh;\r\n\r\n    private _existingMeshScale = new BABYLON.Vector3();\r\n\r\n    // Dragging\r\n    private _dragMesh: Nullable<BABYLON.Mesh> = null;\r\n    private pointerDragBehavior = new BABYLON.PointerDragBehavior();\r\n\r\n    private coloredMaterial: BABYLON.StandardMaterial;\r\n    private hoverColoredMaterial: BABYLON.StandardMaterial;\r\n\r\n    /**\r\n     * Sets the color of the bounding box gizmo\r\n     * @param color the color to set\r\n     */\r\n    public setColor(color: BABYLON.Color3) {\r\n        this.coloredMaterial.emissiveColor = color;\r\n        this.hoverColoredMaterial.emissiveColor = color.clone().add(new BABYLON.Color3(0.3, 0.3, 0.3));\r\n        this._lineBoundingBox.getChildren().forEach((l) => {\r\n            if ((l as BABYLON.LinesMesh).color) {\r\n                (l as BABYLON.LinesMesh).color = color;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Creates an BoundingBoxGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     * @param color The color of the gizmo\r\n     */\r\n    constructor(color: BABYLON.Color3 = BABYLON.Color3.Gray(), gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultKeepDepthUtilityLayer) {\r\n        super(gizmoLayer);\r\n\r\n        // Do not update the gizmo's scale so it has a fixed size to the object its attached to\r\n        this.updateScale = false;\r\n\r\n        this._anchorMesh = new BABYLON.AbstractMesh(\"anchor\", gizmoLayer.utilityLayerScene);\r\n        // Create Materials\r\n        this.coloredMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this.coloredMaterial.disableLighting = true;\r\n        this.hoverColoredMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this.hoverColoredMaterial.disableLighting = true;\r\n\r\n        // Build bounding box out of lines\r\n        this._lineBoundingBox = new BABYLON.AbstractMesh(\"\", gizmoLayer.utilityLayerScene);\r\n        this._lineBoundingBox.rotationQuaternion = new BABYLON.Quaternion();\r\n        var lines = [];\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(0, 0, 0), new BABYLON.Vector3(this._boundingDimensions.x, 0, 0)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(0, 0, 0), new BABYLON.Vector3(0, this._boundingDimensions.y, 0)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(0, 0, 0), new BABYLON.Vector3(0, 0, this._boundingDimensions.z)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(this._boundingDimensions.x, 0, 0), new BABYLON.Vector3(this._boundingDimensions.x, this._boundingDimensions.y, 0)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(this._boundingDimensions.x, 0, 0), new BABYLON.Vector3(this._boundingDimensions.x, 0, this._boundingDimensions.z)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(0, this._boundingDimensions.y, 0), new BABYLON.Vector3(this._boundingDimensions.x, this._boundingDimensions.y, 0)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(0, this._boundingDimensions.y, 0), new BABYLON.Vector3(0, this._boundingDimensions.y, this._boundingDimensions.z)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(0, 0, this._boundingDimensions.z), new BABYLON.Vector3(this._boundingDimensions.x, 0, this._boundingDimensions.z)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(0, 0, this._boundingDimensions.z), new BABYLON.Vector3(0, this._boundingDimensions.y, this._boundingDimensions.z)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(this._boundingDimensions.x, this._boundingDimensions.y, this._boundingDimensions.z), new BABYLON.Vector3(0, this._boundingDimensions.y, this._boundingDimensions.z)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(this._boundingDimensions.x, this._boundingDimensions.y, this._boundingDimensions.z), new BABYLON.Vector3(this._boundingDimensions.x, 0, this._boundingDimensions.z)] }, gizmoLayer.utilityLayerScene));\r\n        lines.push(BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(this._boundingDimensions.x, this._boundingDimensions.y, this._boundingDimensions.z), new BABYLON.Vector3(this._boundingDimensions.x, this._boundingDimensions.y, 0)] }, gizmoLayer.utilityLayerScene));\r\n        lines.forEach((l) => {\r\n            l.color = color;\r\n            l.position.addInPlace(new BABYLON.Vector3(-this._boundingDimensions.x / 2, -this._boundingDimensions.y / 2, -this._boundingDimensions.z / 2));\r\n            l.isPickable = false;\r\n            this._lineBoundingBox.addChild(l);\r\n        });\r\n        this._rootMesh.addChild(this._lineBoundingBox);\r\n\r\n        this.setColor(color);\r\n\r\n        // Create rotation spheres\r\n        this._rotateSpheresParent = new BABYLON.AbstractMesh(\"\", gizmoLayer.utilityLayerScene);\r\n        this._rotateSpheresParent.rotationQuaternion = new BABYLON.Quaternion();\r\n        for (let i = 0; i < 12; i++) {\r\n            let sphere = BABYLON.SphereBuilder.CreateSphere(\"\", { diameter: 1 }, gizmoLayer.utilityLayerScene);\r\n            sphere.rotationQuaternion = new BABYLON.Quaternion();\r\n            sphere.material = this.coloredMaterial;\r\n\r\n            // Drag behavior\r\n            var _dragBehavior = new BABYLON.PointerDragBehavior({});\r\n            _dragBehavior.moveAttached = false;\r\n            _dragBehavior.updateDragPlane = false;\r\n            sphere.addBehavior(_dragBehavior);\r\n            let startingTurnDirection = new BABYLON.Vector3(1, 0, 0);\r\n            let totalTurnAmountOfDrag = 0;\r\n            _dragBehavior.onDragStartObservable.add(() => {\r\n                startingTurnDirection.copyFrom(sphere.forward);\r\n                totalTurnAmountOfDrag = 0;\r\n            });\r\n            _dragBehavior.onDragObservable.add((event) => {\r\n                this.onRotationSphereDragObservable.notifyObservers({});\r\n                if (this.attachedMesh) {\r\n                    var originalParent = this.attachedMesh.parent;\r\n                    if (originalParent && ((originalParent as BABYLON.Mesh).scaling && (originalParent as BABYLON.Mesh).scaling.isNonUniformWithinEpsilon(0.001))) {\r\n                        BABYLON.Logger.Warn(\"BoundingBoxGizmo controls are not supported on child meshes with non-uniform parent scaling\");\r\n                        return;\r\n                    }\r\n                    BABYLON.PivotTools._RemoveAndStorePivotPoint(this.attachedMesh);\r\n\r\n                    var worldDragDirection = startingTurnDirection;\r\n\r\n                    // Project the world right on to the drag plane\r\n                    var toSub = event.dragPlaneNormal.scale(BABYLON.Vector3.Dot(event.dragPlaneNormal, worldDragDirection));\r\n                    var dragAxis = worldDragDirection.subtract(toSub).normalizeToNew();\r\n\r\n                    // project drag delta on to the resulting drag axis and rotate based on that\r\n                    var projectDist = BABYLON.Vector3.Dot(dragAxis, event.delta) < 0 ? Math.abs(event.delta.length()) : -Math.abs(event.delta.length());\r\n\r\n                    // Make rotation relative to size of mesh.\r\n                    projectDist = (projectDist / this._boundingDimensions.length()) * this._anchorMesh.scaling.length();\r\n\r\n                    // Rotate based on axis\r\n                    if (!this.attachedMesh.rotationQuaternion) {\r\n                        this.attachedMesh.rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(this.attachedMesh.rotation.y, this.attachedMesh.rotation.x, this.attachedMesh.rotation.z);\r\n                    }\r\n                    if (!this._anchorMesh.rotationQuaternion) {\r\n                        this._anchorMesh.rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(this._anchorMesh.rotation.y, this._anchorMesh.rotation.x, this._anchorMesh.rotation.z);\r\n                    }\r\n\r\n                    // Do not allow the object to turn more than a full circle\r\n                    totalTurnAmountOfDrag += projectDist;\r\n                    if (Math.abs(totalTurnAmountOfDrag) <= 2 * Math.PI) {\r\n                        if (i >= 8) {\r\n                            BABYLON.Quaternion.RotationYawPitchRollToRef(0, 0, projectDist, this._tmpQuaternion);\r\n                        } else if (i >= 4) {\r\n                            BABYLON.Quaternion.RotationYawPitchRollToRef(projectDist, 0, 0, this._tmpQuaternion);\r\n                        } else {\r\n                            BABYLON.Quaternion.RotationYawPitchRollToRef(0, projectDist, 0, this._tmpQuaternion);\r\n                        }\r\n\r\n                        // Rotate around center of bounding box\r\n                        this._anchorMesh.addChild(this.attachedMesh);\r\n                        this._anchorMesh.rotationQuaternion!.multiplyToRef(this._tmpQuaternion, this._anchorMesh.rotationQuaternion!);\r\n                        this._anchorMesh.removeChild(this.attachedMesh);\r\n                        this.attachedMesh.setParent(originalParent);\r\n                    }\r\n                    this.updateBoundingBox();\r\n\r\n                    BABYLON.PivotTools._RestorePivotPoint(this.attachedMesh);\r\n                }\r\n                this._updateDummy();\r\n            });\r\n\r\n            // Selection/deselection\r\n            _dragBehavior.onDragStartObservable.add(() => {\r\n                this.onDragStartObservable.notifyObservers({});\r\n                this._selectNode(sphere);\r\n            });\r\n            _dragBehavior.onDragEndObservable.add(() => {\r\n                this.onRotationSphereDragEndObservable.notifyObservers({});\r\n                this._selectNode(null);\r\n                this._updateDummy();\r\n            });\r\n\r\n            this._rotateSpheresParent.addChild(sphere);\r\n        }\r\n        this._rootMesh.addChild(this._rotateSpheresParent);\r\n\r\n        // Create scale cubes\r\n        this._scaleBoxesParent = new BABYLON.AbstractMesh(\"\", gizmoLayer.utilityLayerScene);\r\n        this._scaleBoxesParent.rotationQuaternion = new BABYLON.Quaternion();\r\n        for (var i = 0; i < 3; i++) {\r\n            for (var j = 0; j < 3; j++) {\r\n                for (var k = 0; k < 3; k++) {\r\n                    // create box for relevant axis\r\n                    let zeroAxisCount = ((i === 1) ? 1 : 0) + ((j === 1) ? 1 : 0) + ((k === 1) ? 1 : 0);\r\n                    if (zeroAxisCount === 1 || zeroAxisCount === 3) {\r\n                        continue;\r\n                    }\r\n\r\n                    let box = BABYLON.BoxBuilder.CreateBox(\"\", { size: 1 }, gizmoLayer.utilityLayerScene);\r\n                    box.material = this.coloredMaterial;\r\n                    box.metadata = zeroAxisCount === 2; // None homogenous scale handle\r\n\r\n                    // Dragging logic\r\n                    let dragAxis = new BABYLON.Vector3(i - 1, j - 1, k - 1).normalize();\r\n                    var _dragBehavior = new BABYLON.PointerDragBehavior({ dragAxis: dragAxis });\r\n                    _dragBehavior.updateDragPlane = false;\r\n                    _dragBehavior.moveAttached = false;\r\n                    box.addBehavior(_dragBehavior);\r\n                    _dragBehavior.onDragObservable.add((event) => {\r\n                        this.onScaleBoxDragObservable.notifyObservers({});\r\n                        if (this.attachedMesh) {\r\n                            var originalParent = this.attachedMesh.parent;\r\n                            if (originalParent && ((originalParent as BABYLON.Mesh).scaling && (originalParent as BABYLON.Mesh).scaling.isNonUniformWithinEpsilon(0.001))) {\r\n                                BABYLON.Logger.Warn(\"BoundingBoxGizmo controls are not supported on child meshes with non-uniform parent scaling\");\r\n                                return;\r\n                            }\r\n                            BABYLON.PivotTools._RemoveAndStorePivotPoint(this.attachedMesh);\r\n                            var relativeDragDistance = (event.dragDistance / this._boundingDimensions.length()) * this._anchorMesh.scaling.length();\r\n                            var deltaScale = new BABYLON.Vector3(relativeDragDistance, relativeDragDistance, relativeDragDistance);\r\n                            if (zeroAxisCount === 2) {\r\n                                // scale on 1 axis when using the anchor box in the face middle\r\n                                deltaScale.x *= Math.abs(dragAxis.x);\r\n                                deltaScale.y *= Math.abs(dragAxis.y);\r\n                                deltaScale.z *= Math.abs(dragAxis.z);\r\n                            }\r\n                            deltaScale.scaleInPlace(this._scaleDragSpeed);\r\n                            this.updateBoundingBox();\r\n                            if (this.scalePivot) {\r\n                                this.attachedMesh.getWorldMatrix().getRotationMatrixToRef(this._tmpRotationMatrix);\r\n                                // Move anchor to desired pivot point (Bottom left corner + dimension/2)\r\n                                this._boundingDimensions.scaleToRef(0.5, this._tmpVector);\r\n                                BABYLON.Vector3.TransformCoordinatesToRef(this._tmpVector, this._tmpRotationMatrix, this._tmpVector);\r\n                                this._anchorMesh.position.subtractInPlace(this._tmpVector);\r\n                                this._boundingDimensions.multiplyToRef(this.scalePivot, this._tmpVector);\r\n                                BABYLON.Vector3.TransformCoordinatesToRef(this._tmpVector, this._tmpRotationMatrix, this._tmpVector);\r\n                                this._anchorMesh.position.addInPlace(this._tmpVector);\r\n                            } else {\r\n                                // Scale from the position of the opposite corner\r\n                                box.absolutePosition.subtractToRef(this._anchorMesh.position, this._tmpVector);\r\n                                this._anchorMesh.position.subtractInPlace(this._tmpVector);\r\n                            }\r\n\r\n                            this._anchorMesh.addChild(this.attachedMesh);\r\n                            this._anchorMesh.scaling.addInPlace(deltaScale);\r\n                            if (this._anchorMesh.scaling.x < 0 || this._anchorMesh.scaling.y < 0 || this._anchorMesh.scaling.z < 0) {\r\n                                this._anchorMesh.scaling.subtractInPlace(deltaScale);\r\n                            }\r\n                            this._anchorMesh.removeChild(this.attachedMesh);\r\n                            this.attachedMesh.setParent(originalParent);\r\n                            BABYLON.PivotTools._RestorePivotPoint(this.attachedMesh);\r\n                        }\r\n                        this._updateDummy();\r\n                    });\r\n\r\n                    // Selection/deselection\r\n                    _dragBehavior.onDragStartObservable.add(() => {\r\n                        this.onDragStartObservable.notifyObservers({});\r\n                        this._selectNode(box);\r\n                    });\r\n                    _dragBehavior.onDragEndObservable.add(() => {\r\n                        this.onScaleBoxDragEndObservable.notifyObservers({});\r\n                        this._selectNode(null);\r\n                        this._updateDummy();\r\n                    });\r\n\r\n                    this._scaleBoxesParent.addChild(box);\r\n                }\r\n            }\r\n        }\r\n        this._rootMesh.addChild(this._scaleBoxesParent);\r\n\r\n        // Hover color change\r\n        var pointerIds = new Array<BABYLON.AbstractMesh>();\r\n        this._pointerObserver = gizmoLayer.utilityLayerScene.onPointerObservable.add((pointerInfo) => {\r\n            if (!pointerIds[(<PointerEvent>pointerInfo.event).pointerId]) {\r\n                this._rotateSpheresParent.getChildMeshes().concat(this._scaleBoxesParent.getChildMeshes()).forEach((mesh) => {\r\n                    if (pointerInfo.pickInfo && pointerInfo.pickInfo.pickedMesh == mesh) {\r\n                        pointerIds[(<PointerEvent>pointerInfo.event).pointerId] = mesh;\r\n                        mesh.material = this.hoverColoredMaterial;\r\n                    }\r\n                });\r\n            } else {\r\n                if (pointerInfo.pickInfo && pointerInfo.pickInfo.pickedMesh != pointerIds[(<PointerEvent>pointerInfo.event).pointerId]) {\r\n                    pointerIds[(<PointerEvent>pointerInfo.event).pointerId].material = this.coloredMaterial;\r\n                    delete pointerIds[(<PointerEvent>pointerInfo.event).pointerId];\r\n                }\r\n            }\r\n        });\r\n\r\n        // Update bounding box positions\r\n        this._renderObserver = this.gizmoLayer.originalScene.onBeforeRenderObservable.add(() => {\r\n            // Only update the bouding box if scaling has changed\r\n            if (this.attachedMesh && !this._existingMeshScale.equals(this.attachedMesh.scaling)) {\r\n                this.updateBoundingBox();\r\n            } else if (this.fixedDragMeshScreenSize) {\r\n                this._updateRotationSpheres();\r\n                this._updateScaleBoxes();\r\n            }\r\n\r\n            // If dragg mesh is enabled and dragging, update the attached mesh pose to match the drag mesh\r\n            if (this._dragMesh && this.attachedMesh && this.pointerDragBehavior.dragging) {\r\n                this._lineBoundingBox.position.rotateByQuaternionToRef(this._rootMesh.rotationQuaternion!, this._tmpVector);\r\n                this.attachedMesh.setAbsolutePosition(this._dragMesh.position.add(this._tmpVector.scale(-1)));\r\n            }\r\n        });\r\n        this.updateBoundingBox();\r\n    }\r\n\r\n    protected _attachedNodeChanged(value: Nullable<BABYLON.AbstractMesh>) {\r\n        if (value) {\r\n            // Reset anchor mesh to match attached mesh's scale\r\n            // This is needed to avoid invalid box/sphere position on first drag\r\n            BABYLON.PivotTools._RemoveAndStorePivotPoint(value);\r\n            var originalParent = value.parent;\r\n            this._anchorMesh.addChild(value);\r\n            this._anchorMesh.removeChild(value);\r\n            value.setParent(originalParent);\r\n            BABYLON.PivotTools._RestorePivotPoint(value);\r\n            this.updateBoundingBox();\r\n            value.getChildMeshes(false).forEach((m) => {\r\n                m.markAsDirty(\"scaling\");\r\n            });\r\n\r\n            this.gizmoLayer.utilityLayerScene.onAfterRenderObservable.addOnce(() => {\r\n                this._updateDummy();\r\n            });\r\n        }\r\n    }\r\n\r\n    private _selectNode(selectedMesh: Nullable<BABYLON.Mesh>) {\r\n        this._rotateSpheresParent.getChildMeshes()\r\n            .concat(this._scaleBoxesParent.getChildMeshes()).forEach((m) => {\r\n                m.isVisible = (!selectedMesh || m == selectedMesh);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Updates the bounding box information for the Gizmo\r\n     */\r\n    public updateBoundingBox() {\r\n        if (this.attachedMesh) {\r\n            BABYLON.PivotTools._RemoveAndStorePivotPoint(this.attachedMesh);\r\n\r\n            // Store original parent\r\n            var originalParent = this.attachedMesh.parent;\r\n            this.attachedMesh.setParent(null);\r\n\r\n            // Store original skelton override mesh\r\n            var originalSkeletonOverrideMesh = null;\r\n            if (this.attachedMesh.skeleton) {\r\n                originalSkeletonOverrideMesh = this.attachedMesh.skeleton.overrideMesh;\r\n                this.attachedMesh.skeleton.overrideMesh = null;\r\n            }\r\n\r\n            this._update();\r\n\r\n            // Rotate based on axis\r\n            if (!this.attachedMesh.rotationQuaternion) {\r\n                this.attachedMesh.rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(this.attachedMesh.rotation.y, this.attachedMesh.rotation.x, this.attachedMesh.rotation.z);\r\n            }\r\n            if (!this._anchorMesh.rotationQuaternion) {\r\n                this._anchorMesh.rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(this._anchorMesh.rotation.y, this._anchorMesh.rotation.x, this._anchorMesh.rotation.z);\r\n            }\r\n            this._anchorMesh.rotationQuaternion.copyFrom(this.attachedMesh.rotationQuaternion);\r\n\r\n            // Store original position and reset mesh to origin before computing the bounding box\r\n            this._tmpQuaternion.copyFrom(this.attachedMesh.rotationQuaternion);\r\n            this._tmpVector.copyFrom(this.attachedMesh.position);\r\n            this.attachedMesh.rotationQuaternion.set(0, 0, 0, 1);\r\n            this.attachedMesh.position.set(0, 0, 0);\r\n\r\n            // Update bounding dimensions/positions\r\n            var boundingMinMax = this.attachedMesh.getHierarchyBoundingVectors(!this.ignoreChildren, this.includeChildPredicate);\r\n            boundingMinMax.max.subtractToRef(boundingMinMax.min, this._boundingDimensions);\r\n\r\n            // Update gizmo to match bounding box scaling and rotation\r\n            // The position set here is the offset from the origin for the boundingbox when the attached mesh is at the origin\r\n            // The position of the gizmo is then set to the attachedMesh in gizmo._update\r\n            this._lineBoundingBox.scaling.copyFrom(this._boundingDimensions);\r\n            this._lineBoundingBox.position.set((boundingMinMax.max.x + boundingMinMax.min.x) / 2, (boundingMinMax.max.y + boundingMinMax.min.y) / 2, (boundingMinMax.max.z + boundingMinMax.min.z) / 2);\r\n            this._rotateSpheresParent.position.copyFrom(this._lineBoundingBox.position);\r\n            this._scaleBoxesParent.position.copyFrom(this._lineBoundingBox.position);\r\n            this._lineBoundingBox.computeWorldMatrix();\r\n            this._anchorMesh.position.copyFrom(this._lineBoundingBox.absolutePosition);\r\n\r\n            // Restore position/rotation values\r\n            this.attachedMesh.rotationQuaternion.copyFrom(this._tmpQuaternion);\r\n            this.attachedMesh.position.copyFrom(this._tmpVector);\r\n\r\n            // Restore original parent\r\n            this.attachedMesh.setParent(originalParent);\r\n\r\n            // Restore original skeleton override mesh\r\n            if (this.attachedMesh.skeleton) {\r\n                this.attachedMesh.skeleton.overrideMesh = originalSkeletonOverrideMesh;\r\n            }\r\n        }\r\n\r\n        this._updateRotationSpheres();\r\n        this._updateScaleBoxes();\r\n\r\n        if (this.attachedMesh) {\r\n            this._existingMeshScale.copyFrom(this.attachedMesh.scaling);\r\n            BABYLON.PivotTools._RestorePivotPoint(this.attachedMesh);\r\n        }\r\n    }\r\n\r\n    private _updateRotationSpheres() {\r\n        var rotateSpheres = this._rotateSpheresParent.getChildMeshes();\r\n        for (var i = 0; i < 3; i++) {\r\n            for (var j = 0; j < 2; j++) {\r\n                for (var k = 0; k < 2; k++) {\r\n                    var index = ((i * 4) + (j * 2)) + k;\r\n                    if (i == 0) {\r\n                        rotateSpheres[index].position.set(this._boundingDimensions.x / 2, this._boundingDimensions.y * j, this._boundingDimensions.z * k);\r\n                        rotateSpheres[index].position.addInPlace(new BABYLON.Vector3(-this._boundingDimensions.x / 2, -this._boundingDimensions.y / 2, -this._boundingDimensions.z / 2));\r\n                        rotateSpheres[index].lookAt(BABYLON.Vector3.Cross(rotateSpheres[index].position.normalizeToNew(), BABYLON.Vector3.Right()).normalizeToNew().add(rotateSpheres[index].position));\r\n                    }\r\n                    if (i == 1) {\r\n                        rotateSpheres[index].position.set(this._boundingDimensions.x * j, this._boundingDimensions.y / 2, this._boundingDimensions.z * k);\r\n                        rotateSpheres[index].position.addInPlace(new BABYLON.Vector3(-this._boundingDimensions.x / 2, -this._boundingDimensions.y / 2, -this._boundingDimensions.z / 2));\r\n                        rotateSpheres[index].lookAt(BABYLON.Vector3.Cross(rotateSpheres[index].position.normalizeToNew(), BABYLON.Vector3.Up()).normalizeToNew().add(rotateSpheres[index].position));\r\n                    }\r\n                    if (i == 2) {\r\n                        rotateSpheres[index].position.set(this._boundingDimensions.x * j, this._boundingDimensions.y * k, this._boundingDimensions.z / 2);\r\n                        rotateSpheres[index].position.addInPlace(new BABYLON.Vector3(-this._boundingDimensions.x / 2, -this._boundingDimensions.y / 2, -this._boundingDimensions.z / 2));\r\n                        rotateSpheres[index].lookAt(BABYLON.Vector3.Cross(rotateSpheres[index].position.normalizeToNew(), BABYLON.Vector3.Forward()).normalizeToNew().add(rotateSpheres[index].position));\r\n                    }\r\n                    if (this.fixedDragMeshScreenSize && this.gizmoLayer.utilityLayerScene.activeCamera) {\r\n                        rotateSpheres[index].absolutePosition.subtractToRef(this.gizmoLayer.utilityLayerScene.activeCamera.position, this._tmpVector);\r\n                        var distanceFromCamera = this.rotationSphereSize * this._tmpVector.length() / this.fixedDragMeshScreenSizeDistanceFactor;\r\n                        rotateSpheres[index].scaling.set(distanceFromCamera, distanceFromCamera, distanceFromCamera);\r\n                    } else {\r\n                        rotateSpheres[index].scaling.set(this.rotationSphereSize, this.rotationSphereSize, this.rotationSphereSize);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _updateScaleBoxes() {\r\n        var scaleBoxes = this._scaleBoxesParent.getChildMeshes();\r\n        var index = 0;\r\n        for (var i = 0; i < 3; i++) {\r\n            for (var j = 0; j < 3; j++) {\r\n                for (var k = 0; k < 3; k++) {\r\n                    let zeroAxisCount = ((i === 1) ? 1 : 0) + ((j === 1) ? 1 : 0) + ((k === 1) ? 1 : 0);\r\n                    if (zeroAxisCount === 1 || zeroAxisCount === 3) {\r\n                        continue;\r\n                    }\r\n                    if (scaleBoxes[index]) {\r\n                        scaleBoxes[index].position.set(this._boundingDimensions.x * (i / 2), this._boundingDimensions.y * (j / 2), this._boundingDimensions.z * (k / 2));\r\n                        scaleBoxes[index].position.addInPlace(new BABYLON.Vector3(-this._boundingDimensions.x / 2, -this._boundingDimensions.y / 2, -this._boundingDimensions.z / 2));\r\n                        if (this.fixedDragMeshScreenSize && this.gizmoLayer.utilityLayerScene.activeCamera) {\r\n                            scaleBoxes[index].absolutePosition.subtractToRef(this.gizmoLayer.utilityLayerScene.activeCamera.position, this._tmpVector);\r\n                            var distanceFromCamera = this.scaleBoxSize * this._tmpVector.length() / this.fixedDragMeshScreenSizeDistanceFactor;\r\n                            scaleBoxes[index].scaling.set(distanceFromCamera, distanceFromCamera, distanceFromCamera);\r\n                        } else {\r\n                            scaleBoxes[index].scaling.set(this.scaleBoxSize, this.scaleBoxSize, this.scaleBoxSize);\r\n                        }\r\n                    }\r\n                    index++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Enables rotation on the specified axis and disables rotation on the others\r\n     * @param axis The list of axis that should be enabled (eg. \"xy\" or \"xyz\")\r\n     */\r\n    public setEnabledRotationAxis(axis: string) {\r\n        this._rotateSpheresParent.getChildMeshes().forEach((m, i) => {\r\n            if (i < 4) {\r\n                m.setEnabled(axis.indexOf(\"x\") != -1);\r\n            } else if (i < 8) {\r\n                m.setEnabled(axis.indexOf(\"y\") != -1);\r\n            } else {\r\n                m.setEnabled(axis.indexOf(\"z\") != -1);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Enables/disables scaling\r\n     * @param enable if scaling should be enabled\r\n     * @param homogeneousScaling defines if scaling should only be homogeneous\r\n     */\r\n    public setEnabledScaling(enable: boolean, homogeneousScaling = false) {\r\n        this._scaleBoxesParent.getChildMeshes().forEach((m, i) => {\r\n            let enableMesh = enable;\r\n            // Disable heterogenous scale handles if requested.\r\n            if (homogeneousScaling && m.metadata === true) {\r\n                enableMesh = false;\r\n            }\r\n            m.setEnabled(enableMesh);\r\n        });\r\n    }\r\n\r\n    private _updateDummy() {\r\n        if (this._dragMesh) {\r\n            this._dragMesh.position.copyFrom(this._lineBoundingBox.getAbsolutePosition());\r\n            this._dragMesh.scaling.copyFrom(this._lineBoundingBox.scaling);\r\n            this._dragMesh.rotationQuaternion!.copyFrom(this._rootMesh.rotationQuaternion!);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Enables a pointer drag behavior on the bounding box of the gizmo\r\n     */\r\n    public enableDragBehavior() {\r\n        this._dragMesh = BABYLON.Mesh.CreateBox(\"dummy\", 1, this.gizmoLayer.utilityLayerScene);\r\n        this._dragMesh.visibility = 0;\r\n        this._dragMesh.rotationQuaternion = new BABYLON.Quaternion();\r\n        this.pointerDragBehavior.useObjectOrienationForDragging = false;\r\n        this._dragMesh.addBehavior(this.pointerDragBehavior);\r\n    }\r\n\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        this.gizmoLayer.utilityLayerScene.onPointerObservable.remove(this._pointerObserver);\r\n        this.gizmoLayer.originalScene.onBeforeRenderObservable.remove(this._renderObserver);\r\n        this._lineBoundingBox.dispose();\r\n        this._rotateSpheresParent.dispose();\r\n        this._scaleBoxesParent.dispose();\r\n        if (this._dragMesh) {\r\n            this._dragMesh.dispose();\r\n        }\r\n        super.dispose();\r\n    }\r\n\r\n    /**\r\n     * Makes a mesh not pickable and wraps the mesh inside of a bounding box mesh that is pickable. (This is useful to avoid picking within complex geometry)\r\n     * @param mesh the mesh to wrap in the bounding box mesh and make not pickable\r\n     * @returns the bounding box mesh with the passed in mesh as a child\r\n     */\r\n    public static MakeNotPickableAndWrapInBoundingBox(mesh: BABYLON.Mesh): BABYLON.Mesh {\r\n        var makeNotPickable = (root: BABYLON.AbstractMesh) => {\r\n            root.isPickable = false;\r\n            root.getChildMeshes().forEach((c) => {\r\n                makeNotPickable(c);\r\n            });\r\n        };\r\n        makeNotPickable(mesh);\r\n\r\n        // Reset position to get boudning box from origin with no rotation\r\n        if (!mesh.rotationQuaternion) {\r\n            mesh.rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(mesh.rotation.y, mesh.rotation.x, mesh.rotation.z);\r\n        }\r\n        var oldPos = mesh.position.clone();\r\n        var oldRot = mesh.rotationQuaternion.clone();\r\n        mesh.rotationQuaternion.set(0, 0, 0, 1);\r\n        mesh.position.set(0, 0, 0);\r\n\r\n        // Update bounding dimensions/positions\r\n        var box = BABYLON.BoxBuilder.CreateBox(\"box\", { size: 1 }, mesh.getScene());\r\n        var boundingMinMax = mesh.getHierarchyBoundingVectors();\r\n        boundingMinMax.max.subtractToRef(boundingMinMax.min, box.scaling);\r\n\r\n        // Adjust scale to avoid undefined behavior when adding child\r\n        if (box.scaling.y === 0) {\r\n            box.scaling.y = BABYLON.Epsilon;\r\n        }\r\n        if (box.scaling.x === 0) {\r\n            box.scaling.x = BABYLON.Epsilon;\r\n        }\r\n        if (box.scaling.z === 0) {\r\n            box.scaling.z = BABYLON.Epsilon;\r\n        }\r\n\r\n        box.position.set((boundingMinMax.max.x + boundingMinMax.min.x) / 2, (boundingMinMax.max.y + boundingMinMax.min.y) / 2, (boundingMinMax.max.z + boundingMinMax.min.z) / 2);\r\n\r\n        // Restore original positions\r\n        mesh.addChild(box);\r\n        mesh.rotationQuaternion.copyFrom(oldRot);\r\n        mesh.position.copyFrom(oldPos);\r\n\r\n        // Reverse parenting\r\n        mesh.removeChild(box);\r\n\r\n        box.addChild(mesh);\r\n        box.visibility = 0;\r\n        return box;\r\n    }\r\n    /**\r\n     * CustomMeshes are not supported by this gizmo\r\n     * @param mesh The mesh to replace the default mesh of the gizmo\r\n     */\r\n    public setCustomMesh(mesh: BABYLON.Mesh) {\r\n        BABYLON.Logger.Error(\"Custom meshes are not supported on this gizmo\");\r\n    }\r\n}\r\n","// import { Nullable } from \"../types\";\r\n// import { Vector3 } from \"../Maths/math.vector\";\r\n// import { Color3 } from '../Maths/math.color';\r\n// import { Mesh } from \"../Meshes/mesh\";\r\nimport { Gizmo } from \"./gizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n// import { StandardMaterial } from '../Materials/standardMaterial';\r\n// import { Scene } from '../scene';\r\n// import { Camera } from '../Cameras/camera';\r\n// import { BoxBuilder } from \"../Meshes/Builders/boxBuilder\";\r\n// import { CylinderBuilder } from '../Meshes/Builders/cylinderBuilder';\r\n// import { Matrix } from '../Maths/math';\r\n// import { LinesBuilder } from \"../Meshes/Builders/linesBuilder\";\r\n// import { PointerEventTypes, PointerInfo } from '../Events/pointerEvents';\r\n// import { Observer, Observable } from \"../Misc/observable\";\r\n\r\n/**\r\n * Gizmo that enables viewing a camera\r\n */\r\nexport class CameraGizmo extends Gizmo {\r\n    private _cameraMesh!: BABYLON.Mesh;\r\n    private _cameraLinesMesh!: BABYLON.Mesh;\r\n    private _material: BABYLON.StandardMaterial;\r\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n    /**\r\n     * Event that fires each time the gizmo is clicked\r\n     */\r\n    public onClickedObservable = new BABYLON.Observable<BABYLON.Camera>();\r\n\r\n    /**\r\n     * Creates a CameraGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     */\r\n    constructor(gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer) {\r\n        super(gizmoLayer);\r\n\r\n        this._material = new BABYLON.StandardMaterial(\"cameraGizmoMaterial\", this.gizmoLayer.utilityLayerScene);\r\n        this._material.diffuseColor = new BABYLON.Color3(0.5, 0.5, 0.5);\r\n        this._material.specularColor = new BABYLON.Color3(0.1, 0.1, 0.1);\r\n\r\n        this._pointerObserver = gizmoLayer.utilityLayerScene.onPointerObservable.add((pointerInfo) => {\r\n            if (!this._camera) {\r\n                return;\r\n            }\r\n\r\n            var isHovered = pointerInfo.pickInfo && (this._rootMesh.getChildMeshes().indexOf(<BABYLON.Mesh>pointerInfo.pickInfo.pickedMesh) != -1);\r\n            if (isHovered && pointerInfo.event.button === 0) {\r\n                this.onClickedObservable.notifyObservers(this._camera);\r\n            }\r\n        }, BABYLON.PointerEventTypes.POINTERDOWN);\r\n    }\r\n    private _camera: Nullable<BABYLON.Camera> = null;\r\n\r\n    /** Gets or sets a boolean indicating if frustum lines must be rendered (true by default)) */\r\n    public get displayFrustum() {\r\n        return this._cameraLinesMesh.isEnabled();\r\n    }\r\n    public set displayFrustum(value) {\r\n        this._cameraLinesMesh.setEnabled(value);\r\n    }\r\n\r\n    /**\r\n     * The camera that the gizmo is attached to\r\n     */\r\n    public set camera(camera: Nullable<BABYLON.Camera>) {\r\n        this._camera = camera;\r\n        this.attachedNode = camera;\r\n        if (camera) {\r\n            // Create the mesh for the given camera\r\n            if (this._cameraMesh) {\r\n                this._cameraMesh.dispose();\r\n            }\r\n            if (this._cameraLinesMesh) {\r\n                this._cameraLinesMesh.dispose();\r\n            }\r\n            this._cameraMesh = CameraGizmo._CreateCameraMesh(this.gizmoLayer.utilityLayerScene);\r\n            this._cameraLinesMesh = CameraGizmo._CreateCameraFrustum(this.gizmoLayer.utilityLayerScene);\r\n\r\n            this._cameraMesh.getChildMeshes(false).forEach((m) => {\r\n                m.material = this._material;\r\n            });\r\n            this._cameraMesh.parent = this._rootMesh;\r\n\r\n            this._cameraLinesMesh.parent = this._rootMesh;\r\n\r\n            if (this.gizmoLayer.utilityLayerScene.activeCamera && this.gizmoLayer.utilityLayerScene.activeCamera.maxZ < camera.maxZ * 1.5) {\r\n                this.gizmoLayer.utilityLayerScene.activeCamera.maxZ = camera.maxZ * 1.5;\r\n            }\r\n\r\n            if (!this.attachedNode!.reservedDataStore) {\r\n                this.attachedNode!.reservedDataStore = {};\r\n            }\r\n            this.attachedNode!.reservedDataStore.cameraGizmo = this;\r\n\r\n            // Add lighting to the camera gizmo\r\n            var gizmoLight = this.gizmoLayer._getSharedGizmoLight();\r\n            gizmoLight.includedOnlyMeshes = gizmoLight.includedOnlyMeshes.concat(this._cameraMesh.getChildMeshes(false));\r\n\r\n            this._update();\r\n        }\r\n    }\r\n\r\n    public get camera() {\r\n        return this._camera;\r\n    }\r\n\r\n    /**\r\n     * Gets the material used to render the camera gizmo\r\n     */\r\n    public get material() {\r\n        return this._material;\r\n    }\r\n    /**\r\n     * @hidden\r\n     * Updates the gizmo to match the attached mesh's position/rotation\r\n     */\r\n\r\n    protected _update() {\r\n        super._update();\r\n        if (!this._camera) {\r\n            return;\r\n        }\r\n\r\n        // frustum matrix\r\n        this._camera.getProjectionMatrix().invertToRef(this._invProjection);\r\n        this._cameraLinesMesh.setPivotMatrix(this._invProjection, false);\r\n\r\n        this._cameraLinesMesh.scaling.x = 1 / this._rootMesh.scaling.x;\r\n        this._cameraLinesMesh.scaling.y = 1 / this._rootMesh.scaling.y;\r\n        this._cameraLinesMesh.scaling.z = 1 / this._rootMesh.scaling.z;\r\n\r\n        // take care of coordinate system in camera scene to properly display the mesh with the good Y axis orientation in this scene\r\n        this._cameraMesh.parent = null;\r\n        this._cameraMesh.rotation.y = Math.PI * 0.5 * (this._camera.getScene().useRightHandedSystem ? 1 : -1);\r\n        this._cameraMesh.parent = this._rootMesh;\r\n    }\r\n\r\n    // Static helper methods\r\n    private static _Scale = 0.05;\r\n    private _invProjection = new BABYLON.Matrix();\r\n\r\n    /**\r\n     * Disposes of the camera gizmo\r\n     */\r\n    public dispose() {\r\n        this.onClickedObservable.clear();\r\n        this.gizmoLayer.utilityLayerScene.onPointerObservable.remove(this._pointerObserver);\r\n        if (this._cameraMesh) {\r\n            this._cameraMesh.dispose();\r\n        }\r\n        if (this._cameraLinesMesh) {\r\n            this._cameraLinesMesh.dispose();\r\n        }\r\n        this._material.dispose();\r\n        super.dispose();\r\n    }\r\n\r\n    private static _CreateCameraMesh(scene: BABYLON.Scene) {\r\n        var root = new BABYLON.Mesh(\"rootCameraGizmo\", scene);\r\n\r\n        var mesh = new BABYLON.Mesh(root.name, scene);\r\n        mesh.parent = root;\r\n\r\n        var box = BABYLON.BoxBuilder.CreateBox(root.name, {width: 1.0, height: 0.8, depth: 0.5 }, scene);\r\n        box.parent = mesh;\r\n\r\n        var cyl1 = BABYLON.CylinderBuilder.CreateCylinder(root.name, {height: 0.5, diameterTop: 0.8, diameterBottom: 0.8}, scene);\r\n        cyl1.parent = mesh;\r\n        cyl1.position.y = 0.3;\r\n        cyl1.position.x = -0.6;\r\n        cyl1.rotation.x = Math.PI * 0.5;\r\n\r\n        var cyl2 = BABYLON.CylinderBuilder.CreateCylinder(root.name, {height: 0.5, diameterTop: 0.6, diameterBottom: 0.6}, scene);\r\n        cyl2.parent = mesh;\r\n        cyl2.position.y = 0.5;\r\n        cyl2.position.x = 0.4;\r\n        cyl2.rotation.x = Math.PI * 0.5;\r\n\r\n        var cyl3 = BABYLON.CylinderBuilder.CreateCylinder(root.name, {height: 0.5, diameterTop: 0.5, diameterBottom: 0.5}, scene);\r\n        cyl3.parent = mesh;\r\n        cyl3.position.y = 0.0;\r\n        cyl3.position.x = 0.6;\r\n        cyl3.rotation.z = Math.PI * 0.5;\r\n\r\n        root.scaling.scaleInPlace(CameraGizmo._Scale);\r\n        mesh.position.x = -0.9;\r\n\r\n        return root;\r\n    }\r\n\r\n    private static _CreateCameraFrustum(scene: BABYLON.Scene) {\r\n        var root = new BABYLON.Mesh(\"rootCameraGizmo\", scene);\r\n        var mesh = new BABYLON.Mesh(root.name, scene);\r\n        mesh.parent = root;\r\n\r\n        for (var y = 0; y < 4; y += 2)\r\n        {\r\n            for (var x = 0; x < 4; x += 2)\r\n            {\r\n                var line = BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(-1 + x, -1 + y, -1), new BABYLON.Vector3(-1 + x, -1 + y, 1)] }, scene);\r\n                line.parent = mesh;\r\n                line.alwaysSelectAsActiveMesh = true;\r\n                line.isPickable = false;\r\n                var line = BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(-1, -1 + x, -1 + y), new BABYLON.Vector3(1, -1 + x, -1 + y)] }, scene);\r\n                line.parent = mesh;\r\n                line.alwaysSelectAsActiveMesh = true;\r\n                line.isPickable = false;\r\n                var line = BABYLON.LinesBuilder.CreateLines(\"lines\", { points: [new BABYLON.Vector3(-1 + x, -1, -1 + y), new BABYLON.Vector3(-1 + x,  1, -1 + y)] }, scene);\r\n                line.parent = mesh;\r\n                line.alwaysSelectAsActiveMesh = true;\r\n                line.isPickable = false;\r\n            }\r\n        }\r\n\r\n        return root;\r\n    }\r\n}","import { Observer } from \"../../lib\";\r\nimport { GizmoManager } from \".\";\r\nimport { Tools } from \"../utility\";\r\n\r\nexport class GizmosCenter {\r\n\r\n    public static mode: number = 0;\r\n    public static gizmoManager: GizmoManager;\r\n\r\n    public static currentItems: Observer[] = [];\r\n    public static currentEvents: EventHandle[] = [];\r\n\r\n\r\n    public constructor() {\r\n\r\n    }\r\n\r\n    public static init(scene: BABYLON.Scene) {\r\n        GizmosCenter.gizmoManager = new GizmoManager(scene);\r\n        GizmosCenter.gizmoManager.positionGizmoEnabled = true;\r\n        GizmosCenter.gizmoManager.rotationGizmoEnabled = true;\r\n        GizmosCenter.gizmoManager.scaleGizmoEnabled = true;\r\n        GizmosCenter.gizmoManager.gizmos.positionGizmo!.scaleRatio = 2;\r\n        GizmosCenter.gizmoManager.gizmos.rotationGizmo!.scaleRatio = 2;\r\n        GizmosCenter.gizmoManager.gizmos.scaleGizmo!.scaleRatio = 2;\r\n        GizmosCenter.gizmoManager.positionGizmoEnabled = false;\r\n        GizmosCenter.gizmoManager.rotationGizmoEnabled = false;\r\n        GizmosCenter.gizmoManager.scaleGizmoEnabled = false;\r\n\r\n\r\n\r\n        editor.on('selector:change', (type: string, items: Observer[]) => {\r\n            GizmosCenter.clear();\r\n            if (type === 'entity') {\r\n                if (items.length === 1) {\r\n                    GizmosCenter.attach(items[0].node);\r\n                } else {\r\n                    // TODO\r\n                    // 创建一个空物体作为所有物体的父物体；\r\n                    // 记录原始父物体；\r\n                    GizmosCenter.attach(items[items.length - 1].node);\r\n                }\r\n                this.currentItems = items;\r\n                for(let i = 0; i < this.currentItems.length; i++) {\r\n                    this.currentEvents.push(this.currentItems[i].on('position:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('position.0:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('position.1:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('position.2:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('rotation:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('rotation.0:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('rotation.1:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('rotation.2:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('scale:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('scale.0:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('scale.1:set', (val: any) => {}));\r\n                    this.currentEvents.push(this.currentItems[i].on('scale.2:set', (val: any) => {}));\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    public static setMode(m: number): void {\r\n        this.mode = m;\r\n        if (this.mode == 0) {\r\n            this.gizmoManager.positionGizmoEnabled = true;\r\n            this.gizmoManager.rotationGizmoEnabled = false;\r\n            this.gizmoManager.scaleGizmoEnabled = false;\r\n        } else if (this.mode === 1) {\r\n            this.gizmoManager.positionGizmoEnabled = false;\r\n            this.gizmoManager.rotationGizmoEnabled = true;\r\n            this.gizmoManager.scaleGizmoEnabled = false;\r\n        } else {\r\n            this.gizmoManager.positionGizmoEnabled = false;\r\n            this.gizmoManager.rotationGizmoEnabled = false;\r\n            this.gizmoManager.scaleGizmoEnabled = true;\r\n        }\r\n    }\r\n\r\n    public static attach(mesh: Nullable<BABYLON.Node>): void {\r\n        if (mesh instanceof BABYLON.AbstractMesh) {\r\n            this.gizmoManager.attachToMesh(mesh);\r\n        } else {\r\n            this.gizmoManager.attachToNode(mesh);\r\n        }\r\n\r\n        this.setMode(this.mode);\r\n    }\r\n\r\n\r\n    public static setPosition(pos: BABYLON.Vector3): void {\r\n        if (this.currentItems) {\r\n            if (this.currentItems.length === 1) {\r\n                this.currentItems[0].set('position.0', pos.x);\r\n                this.currentItems[0].set('position.1', pos.y);\r\n                this.currentItems[0].set('position.2', pos.z);\r\n            } else {\r\n                // TODO\r\n                this.currentItems[this.currentItems.length - 1].set('position.0', pos.x);\r\n                this.currentItems[this.currentItems.length - 1].set('position.1', pos.y);\r\n                this.currentItems[this.currentItems.length - 1].set('position.2', pos.z);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static setRotation(rotation: BABYLON.Vector3): void {\r\n        let eulerAngle = Tools.radianToEulerAngle(rotation);\r\n        if (this.currentItems) {\r\n            if (this.currentItems.length === 1) {\r\n                this.currentItems[0].set('rotation.0', eulerAngle.x);\r\n                this.currentItems[0].set('rotation.1', eulerAngle.y);\r\n                this.currentItems[0].set('rotation.2', eulerAngle.z);\r\n            } else {\r\n                // TODO\r\n                this.currentItems[this.currentItems.length - 1].set('rotation.0', eulerAngle.x);\r\n                this.currentItems[this.currentItems.length - 1].set('rotation.1', eulerAngle.y);\r\n                this.currentItems[this.currentItems.length - 1].set('rotation.2', eulerAngle.z);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static setScale(scale: BABYLON.Vector3): void {\r\n        if (this.currentItems) {\r\n            if (this.currentItems.length === 1) {\r\n                this.currentItems[0].set('scale.0', scale.x);\r\n                this.currentItems[0].set('scale.1', scale.y);\r\n                this.currentItems[0].set('scale.2', scale.z);\r\n            } else {\r\n                // TODO\r\n                this.currentItems[this.currentItems.length - 1].set('scale.0', scale.x);\r\n                this.currentItems[this.currentItems.length - 1].set('scale.1', scale.y);\r\n                this.currentItems[this.currentItems.length - 1].set('scale.2', scale.z);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static clear(): void {\r\n        this.gizmoManager.attachToMesh(null);\r\n        if (this.currentEvents && this.currentEvents.length > 0) {\r\n            for (let i = 0; i < this.currentEvents.length; i++)\r\n                this.currentEvents[i].unbind();\r\n        }\r\n        this.currentEvents = [];\r\n        this.currentItems = [];\r\n    }\r\n\r\n\r\n\r\n}","// import { Observer } from \"../Misc/observable\";\r\n// import { Nullable } from \"../types\";\r\n// import { WebVRFreeCamera } from \"../Cameras/VR/webVRCamera\";\r\n// import { Scene, IDisposable } from \"../scene\";\r\n// import { Quaternion, Vector3, Matrix } from \"../Maths/math.vector\";\r\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\n// import { Camera } from \"../Cameras/camera\";\r\n// import { TargetCamera } from \"../Cameras/targetCamera\";\r\n// import { Node } from \"../node\";\r\n// import { Bone } from \"../Bones/bone\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n// import { TransformNode } from '../Meshes/transformNode';\r\n\r\nimport { GizmosCenter } from \".\";\r\n\r\n\r\n/**\r\n * Renders gizmos on top of an existing scene which provide controls for position, rotation, etc.\r\n */\r\nexport class Gizmo implements BABYLON.IDisposable {\r\n    /**\r\n     * The root mesh of the gizmo\r\n     */\r\n    public _rootMesh: BABYLON.Mesh;\r\n    private _attachedMesh: Nullable<BABYLON.AbstractMesh> = null;\r\n    private _attachedNode: Nullable<BABYLON.Node> = null;\r\n\r\n    /**\r\n     * Ratio for the scale of the gizmo (Default: 1)\r\n     */\r\n    protected _scaleRatio = 1;\r\n\r\n    protected _operationType: string = '';\r\n\r\n    /**\r\n     * Ratio for the scale of the gizmo (Default: 1)\r\n     */\r\n    public set scaleRatio(value: number) {\r\n        this._scaleRatio = value;\r\n    }\r\n\r\n    public get scaleRatio() {\r\n        return this._scaleRatio;\r\n    }\r\n    /**\r\n     * If a custom mesh has been set (Default: false)\r\n     */\r\n    protected _customMeshSet = false;\r\n    /**\r\n     * Mesh that the gizmo will be attached to. (eg. on a drag gizmo the mesh that will be dragged)\r\n     * * When set, interactions will be enabled\r\n     */\r\n    public get attachedMesh() {\r\n        return this._attachedMesh;\r\n    }\r\n    public set attachedMesh(value: Nullable<BABYLON.AbstractMesh>) {\r\n        this._attachedMesh = value;\r\n        if (value) {\r\n            this._attachedNode = value;\r\n        }\r\n        this._rootMesh.setEnabled(value ? true : false);\r\n        this._attachedNodeChanged(value);\r\n    }\r\n    /**\r\n     * Node that the gizmo will be attached to. (eg. on a drag gizmo the mesh, bone or NodeTransform that will be dragged)\r\n     * * When set, interactions will be enabled\r\n     */\r\n    public get attachedNode() {\r\n        return this._attachedNode;\r\n    }\r\n    public set attachedNode(value: Nullable<BABYLON.Node>) {\r\n        this._attachedNode = value;\r\n        this._attachedMesh = null;\r\n        this._rootMesh.setEnabled(value ? true : false);\r\n        this._attachedNodeChanged(value);\r\n    }\r\n\r\n    /**\r\n     * Disposes and replaces the current meshes in the gizmo with the specified mesh\r\n     * @param mesh The mesh to replace the default mesh of the gizmo\r\n     */\r\n    public setCustomMesh(mesh: BABYLON.Mesh) {\r\n        if (mesh.getScene() != this.gizmoLayer.utilityLayerScene) {\r\n            throw \"When setting a custom mesh on a gizmo, the custom meshes scene must be the same as the gizmos (eg. gizmo.gizmoLayer.utilityLayerScene)\";\r\n        }\r\n        this._rootMesh.getChildMeshes().forEach((c) => {\r\n            c.dispose();\r\n        });\r\n        mesh.parent = this._rootMesh;\r\n        this._customMeshSet = true;\r\n    }\r\n\r\n    protected _updateGizmoRotationToMatchAttachedMesh = true;\r\n\r\n    /**\r\n     * If set the gizmo's rotation will be updated to match the attached mesh each frame (Default: true)\r\n     */\r\n    public set updateGizmoRotationToMatchAttachedMesh(value: boolean) {\r\n        this._updateGizmoRotationToMatchAttachedMesh = value;\r\n    }\r\n    public get updateGizmoRotationToMatchAttachedMesh() {\r\n        return this._updateGizmoRotationToMatchAttachedMesh;\r\n    }\r\n    /**\r\n     * If set the gizmo's position will be updated to match the attached mesh each frame (Default: true)\r\n     */\r\n    public updateGizmoPositionToMatchAttachedMesh = true;\r\n    /**\r\n     * When set, the gizmo will always appear the same size no matter where the camera is (default: true)\r\n     */\r\n    public updateScale = true;\r\n    protected _interactionsEnabled = true;\r\n    protected _attachedNodeChanged(value: Nullable<BABYLON.Node>) {\r\n    }\r\n\r\n    private _beforeRenderObserver: Nullable<BABYLON.Observer<BABYLON.Scene>>;\r\n    private _tempQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);\r\n    private _tempVector = new BABYLON.Vector3();\r\n    private _tempVector2 = new BABYLON.Vector3();\r\n    private _tempMatrix1 = new BABYLON.Matrix();\r\n    private _tempMatrix2 = new BABYLON.Matrix();\r\n    private _rightHandtoLeftHandMatrix = BABYLON.Matrix.RotationY(Math.PI);\r\n\r\n    /**\r\n     * Creates a gizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     */\r\n    constructor(\r\n        /** The utility layer the gizmo will be added to */\r\n        public gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer) {\r\n\r\n        this._rootMesh = new BABYLON.Mesh(\"gizmoRootNode\", gizmoLayer.utilityLayerScene);\r\n        this._rootMesh.rotationQuaternion = BABYLON.Quaternion.Identity();\r\n\r\n        this._beforeRenderObserver = this.gizmoLayer.utilityLayerScene.onBeforeRenderObservable.add(() => {\r\n            this._update();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Updates the gizmo to match the attached mesh's position/rotation\r\n     */\r\n    protected _update() {\r\n        if (this.attachedNode) {\r\n            var effectiveNode = this.attachedNode;\r\n            if (this.attachedMesh) {\r\n                effectiveNode = this.attachedMesh._effectiveMesh || this.attachedNode;\r\n            }\r\n\r\n            // Position\r\n            if (this.updateGizmoPositionToMatchAttachedMesh) {\r\n                const row = effectiveNode.getWorldMatrix().getRow(3);\r\n                const position = row ? row.toVector3() : new BABYLON.Vector3(0, 0, 0);\r\n                this._rootMesh.position.copyFrom(position);\r\n            }\r\n\r\n            // Rotation\r\n            if (this.updateGizmoRotationToMatchAttachedMesh) {\r\n                effectiveNode.getWorldMatrix().decompose(undefined, this._rootMesh.rotationQuaternion!);\r\n            }\r\n            else {\r\n                if (this._rootMesh.rotationQuaternion) {\r\n                    this._rootMesh.rotationQuaternion!.set(0, 0, 0, 1);\r\n                } else {\r\n                    this._rootMesh.rotation = BABYLON.Vector3.Zero();\r\n                }\r\n            }\r\n\r\n            // Scale\r\n            if (this.updateScale) {\r\n                const activeCamera = this.gizmoLayer.utilityLayerScene.activeCamera!;\r\n                var cameraPosition = activeCamera.globalPosition;\r\n                if ((<BABYLON.WebVRFreeCamera>activeCamera).devicePosition) {\r\n                    cameraPosition = (<BABYLON.WebVRFreeCamera>activeCamera).devicePosition;\r\n                }\r\n                this._rootMesh.position.subtractToRef(cameraPosition, this._tempVector);\r\n                var dist = this._tempVector.length() * this.scaleRatio;\r\n                this._rootMesh.scaling.set(dist, dist, dist);\r\n\r\n                // Account for handedness, similar to Matrix.decompose\r\n                if (effectiveNode._getWorldMatrixDeterminant() < 0) {\r\n                    this._rootMesh.scaling.y *= -1;\r\n                }\r\n            } else {\r\n                this._rootMesh.scaling.setAll(this.scaleRatio);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * computes the rotation/scaling/position of the transform once the Node world matrix has changed.\r\n     * @param value Node, TransformNode or mesh\r\n     */\r\n    protected _matrixChanged() {\r\n        if (!this._attachedNode) {\r\n            return;\r\n        }\r\n\r\n        if ((<BABYLON.Camera>this._attachedNode)._isCamera) {\r\n            var camera = this._attachedNode as BABYLON.Camera;\r\n            var worldMatrix;\r\n            var worldMatrixUC;\r\n            if (camera.parent) {\r\n                var parentInv = this._tempMatrix2;\r\n                camera.parent._worldMatrix.invertToRef(parentInv);\r\n                this._attachedNode._worldMatrix.multiplyToRef(parentInv, this._tempMatrix1);\r\n                worldMatrix = this._tempMatrix1;\r\n            } else {\r\n                worldMatrix = this._attachedNode._worldMatrix;\r\n            }\r\n\r\n            if (camera.getScene().useRightHandedSystem) {\r\n                // avoid desync with RH matrix computation. Otherwise, rotation of PI around Y axis happens each frame resulting in axis flipped because worldMatrix is computed as inverse of viewMatrix.\r\n                this._rightHandtoLeftHandMatrix.multiplyToRef(worldMatrix, this._tempMatrix2);\r\n                worldMatrixUC = this._tempMatrix2;\r\n            } else {\r\n                worldMatrixUC = worldMatrix;\r\n            }\r\n\r\n            worldMatrixUC.decompose(this._tempVector2, this._tempQuaternion, this._tempVector);\r\n\r\n            var inheritsTargetCamera = this._attachedNode.getClassName() === \"FreeCamera\"\r\n                || this._attachedNode.getClassName() === \"FlyCamera\"\r\n                || this._attachedNode.getClassName() === \"ArcFollowCamera\"\r\n                || this._attachedNode.getClassName() === \"TargetCamera\"\r\n                || this._attachedNode.getClassName() === \"TouchCamera\"\r\n                || this._attachedNode.getClassName() === \"UniversalCamera\";\r\n\r\n            if (inheritsTargetCamera) {\r\n                var targetCamera = this._attachedNode as BABYLON.TargetCamera;\r\n                targetCamera.rotation = this._tempQuaternion.toEulerAngles();\r\n\r\n                if (targetCamera.rotationQuaternion) {\r\n                    targetCamera.rotationQuaternion.copyFrom(this._tempQuaternion);\r\n                }\r\n            }\r\n\r\n            camera.position.copyFrom(this._tempVector);\r\n        } else if ((<BABYLON.Mesh>this._attachedNode)._isMesh || this._attachedNode.getClassName() === \"AbstractMesh\" || this._attachedNode.getClassName() === \"TransformNode\" || this._attachedNode.getClassName() === \"InstancedMesh\") {\r\n            var transform = this._attachedNode as BABYLON.TransformNode;\r\n            if (transform.parent) {\r\n                var parentInv = this._tempMatrix1;\r\n                var localMat = this._tempMatrix2;\r\n                transform.parent.getWorldMatrix().invertToRef(parentInv);\r\n                this._attachedNode._worldMatrix.multiplyToRef(parentInv, localMat);\r\n                localMat.decompose(transform.scaling, this._tempQuaternion, transform.position);\r\n            } else {\r\n                this._attachedNode._worldMatrix.decompose(transform.scaling, this._tempQuaternion, transform.position);\r\n            }\r\n            if (transform.rotationQuaternion) {\r\n                transform.rotationQuaternion.copyFrom(this._tempQuaternion);\r\n            } else {\r\n                transform.rotation = this._tempQuaternion.toEulerAngles();\r\n            }\r\n            // console.warn(this._operationType);\r\n            if (this._operationType === 'translate' || this._operationType === 'plane') {\r\n                GizmosCenter.setPosition(transform.position);\r\n            } else if (this._operationType === 'rotate') {\r\n                GizmosCenter.setRotation(transform.rotation);\r\n            } else if (this._operationType === 'scale') {\r\n\r\n            }\r\n        } else if (this._attachedNode.getClassName() === \"Bone\") {\r\n            var bone = this._attachedNode as BABYLON.Bone;\r\n            const parent = bone.getParent();\r\n\r\n            if (parent) {\r\n                var invParent = this._tempMatrix1;\r\n                var boneLocalMatrix = this._tempMatrix2;\r\n                parent.getWorldMatrix().invertToRef(invParent);\r\n                bone.getWorldMatrix().multiplyToRef(invParent, boneLocalMatrix);\r\n                var lmat = bone.getLocalMatrix();\r\n                lmat.copyFrom(boneLocalMatrix);\r\n                bone.markAsDirty();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        this._rootMesh.dispose();\r\n        if (this._beforeRenderObserver) {\r\n            this.gizmoLayer.utilityLayerScene.onBeforeRenderObservable.remove(this._beforeRenderObserver);\r\n        }\r\n    }\r\n}\r\n","// import { Observer, Observable } from \"../Misc/observable\";\n// import { Nullable } from \"../types\";\n// import { PointerInfo, PointerEventTypes } from \"../Events/pointerEvents\";\n// import { Scene, IDisposable } from \"../scene\";\n// import { Node } from \"../node\";\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\n// import { Color3 } from '../Maths/math.color';\n// import { SixDofDragBehavior } from \"../Behaviors/Meshes/sixDofDragBehavior\";\n\nimport { Gizmo } from \"./gizmo\";\nimport { RotationGizmo } from \"./rotationGizmo\";\nimport { PositionGizmo } from \"./positionGizmo\";\nimport { ScaleGizmo } from \"./scaleGizmo\";\nimport { BoundingBoxGizmo } from \"./boundingBoxGizmo\";\nimport { Observer } from \"src/lib\";\nimport { GizmosCenter } from \".\";\n\n/**\n * Helps setup gizmo's in the scene to rotate/scale/position nodes\n */\nexport class GizmoManager implements BABYLON.IDisposable {\n    /**\n     * Gizmo's created by the gizmo manager, gizmo will be null until gizmo has been enabled for the first time\n     */\n    public gizmos: { positionGizmo: Nullable<PositionGizmo>, rotationGizmo: Nullable<RotationGizmo>, scaleGizmo: Nullable<ScaleGizmo>, boundingBoxGizmo: Nullable<BoundingBoxGizmo> };\n\n    /** When true, the gizmo will be detached from the current object when a pointer down occurs with an empty picked mesh */\n    public clearGizmoOnEmptyPointerEvent = false;\n\n    /** Fires an event when the manager is attached to a mesh */\n    public onAttachedToMeshObservable = new BABYLON.Observable<Nullable<BABYLON.AbstractMesh>>();\n\n    /** Fires an event when the manager is attached to a node */\n    public onAttachedToNodeObservable = new BABYLON.Observable<Nullable<BABYLON.Node>>();\n\n    private _gizmosEnabled = { positionGizmo: false, rotationGizmo: false, scaleGizmo: false, boundingBoxGizmo: false };\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\n    private _attachedMesh: Nullable<BABYLON.AbstractMesh> = null;\n    private _attachedNode: Nullable<BABYLON.Node> = null;\n    private _boundingBoxColor = BABYLON.Color3.FromHexString(\"#0984e3\");\n    private _defaultUtilityLayer: BABYLON.UtilityLayerRenderer;\n    private _defaultKeepDepthUtilityLayer: BABYLON.UtilityLayerRenderer;\n    private _thickness: number = 1;\n    /**\n     * When bounding box gizmo is enabled, this can be used to track drag/end events\n     */\n    public boundingBoxDragBehavior = new BABYLON.SixDofDragBehavior();\n    /**\n     * Array of meshes which will have the gizmo attached when a pointer selected them. If null, all meshes are attachable. (Default: null)\n     */\n    public attachableMeshes: Nullable<Array<BABYLON.AbstractMesh>> = null;\n    /**\n     * Array of nodes which will have the gizmo attached when a pointer selected them. If null, all nodes are attachable. (Default: null)\n     */\n    public attachableNodes: Nullable<Array<BABYLON.Node>> = null;\n    /**\n     * If pointer events should perform attaching/detaching a gizmo, if false this can be done manually via attachToMesh/attachToNode. (Default: true)\n     */\n    public usePointerToAttachGizmos = true;\n\n    /**\n     * Utility layer that the bounding box gizmo belongs to\n     */\n    public get keepDepthUtilityLayer() {\n        return this._defaultKeepDepthUtilityLayer;\n    }\n\n    /**\n     * Utility layer that all gizmos besides bounding box belong to\n     */\n    public get utilityLayer() {\n        return this._defaultUtilityLayer;\n    }\n\n    /**\n     * Instatiates a gizmo manager\n     * @param scene the scene to overlay the gizmos on top of\n     * @param thickness display gizmo axis thickness\n     */\n    constructor(private scene: BABYLON.Scene, thickness: number = 1) {\n        this._defaultKeepDepthUtilityLayer = new BABYLON.UtilityLayerRenderer(scene);\n        this._defaultKeepDepthUtilityLayer.utilityLayerScene.autoClearDepthAndStencil = false;\n        this._defaultUtilityLayer = new BABYLON.UtilityLayerRenderer(scene);\n        this._thickness = thickness;\n        this.gizmos = { positionGizmo: null, rotationGizmo: null, scaleGizmo: null, boundingBoxGizmo: null };\n\n        // Instatiate/dispose gizmos based on pointer actions\n        this._pointerObserver = scene.onPointerObservable.add((pointerInfo) => {\n            if (!this.usePointerToAttachGizmos) {\n                return;\n            }\n            if (pointerInfo.type == BABYLON.PointerEventTypes.POINTERDOWN) {\n                if (pointerInfo.pickInfo && pointerInfo.pickInfo.pickedMesh) {\n                    // if (mesh === null) {\n                    //     GizmosCenter.clear();\n                    //     console.log('clear gizmos');\n                    // } else {\n                    //     console.log('pick mesh');\n                    //     // GizmosCenter.attach(mesh);\n                    //     var entity = editor.call('entities:get', mesh.id);\n                    //     console.error(entity);\n                    //     if (entity) {\n                    //         editor.call('selector:set', 'entity', [entity]);\n                    //     } else {\n                    //         console.error('失败');\n                    //     }\n                    // }\n\n                    // TODO: 选择方式重新确定\n                    var node: Nullable<BABYLON.Node> = pointerInfo.pickInfo.pickedMesh;\n                    // if (this.attachableMeshes == null) {\n                    //     // Attach to the most parent node\n                    //     while (node && node.parent != null) {\n                    //         node = node.parent;\n                    //     }\n                    // } else {\n                    //     // Attach to the parent node that is an attachableMesh\n                    //     var found = false;\n                    //     this.attachableMeshes.forEach((mesh) => {\n                    //         if (node && (node == mesh || node.isDescendantOf(mesh))) {\n                    //             node = mesh;\n                    //             found = true;\n                    //         }\n                    //     });\n                    //     if (!found) {\n                    //         node = null;\n                    //     }\n                    // }\n                    if (node instanceof BABYLON.AbstractMesh) {\n                        // if (this._attachedMesh != node) {\n                        //     this.attachToMesh(node);\n                        // }\n\n                        // console.log('pick mesh');\n                        // GizmosCenter.attach(mesh);\n                        var entity = editor.call('entities:get', node.id);\n                        // console.error(entity);\n                        if (entity) {\n                            editor.call('selector:set', 'entity', [entity]);\n                        } else {\n                            console.error('失败');\n                        }\n                    } else {\n                        if (this.clearGizmoOnEmptyPointerEvent) {\n                            // this.attachToMesh(null);\n                            GizmosCenter.clear();\n                        }\n                    }\n                } else {\n                    if (this.clearGizmoOnEmptyPointerEvent) {\n                        GizmosCenter.clear();\n                    }\n                }\n            }\n        });\n\n        this.initialize();\n    }\n\n\n    // public coordSystem: string = 'local';\n    private initialize(): void {\n        let self = this;\n\n        editor.on('selector:change', (type: string, items: Observer[]) => {\n\n        });\n\n        // editor.on('gizmo:coordSystem', function (system: string) {\n        //     if (self.coordSystem === system)\n        //         return;\n        //     self.coordSystem = system;\n        //     var rot = getGizmoRotation();\n        //     if (rot)\n        //         editor.call('gizmo:rotate:rotation', rot[0], rot[1], rot[2]);\n        //     var vec = getGizmoPosition();\n        //     if (vec)\n        //         editor.call('gizmo:rotate:position', vec.x, vec.y, vec.z);\n        // });\n\n\n    }\n\n    /**\n     * Attaches a set of gizmos to the specified mesh\n     * @param mesh The mesh the gizmo's should be attached to\n     */\n    public attachToMesh(mesh: Nullable<BABYLON.AbstractMesh>) {\n        if (this._attachedMesh) {\n            this._attachedMesh.removeBehavior(this.boundingBoxDragBehavior);\n            this._attachedMesh.showBoundingBox = false;\n        }\n        if (this._attachedNode) {\n            this._attachedNode.removeBehavior(this.boundingBoxDragBehavior);\n        }\n        this._attachedMesh = mesh;\n        if (this._attachedMesh) {\n            this._attachedMesh.showBoundingBox = true;\n        }\n        this._attachedNode = null;\n        for (var key in this.gizmos) {\n            var gizmo = <Nullable<Gizmo>>((<any>this.gizmos)[key]);\n            if (gizmo && (<any>this._gizmosEnabled)[key]) {\n                gizmo.attachedMesh = mesh;\n            }\n        }\n        if (this.boundingBoxGizmoEnabled && this._attachedMesh) {\n            this._attachedMesh.addBehavior(this.boundingBoxDragBehavior);\n        }\n        this.onAttachedToMeshObservable.notifyObservers(mesh);\n    }\n\n    /**\n     * Attaches a set of gizmos to the specified node\n     * @param node The node the gizmo's should be attached to\n     */\n    public attachToNode(node: Nullable<BABYLON.Node>) {\n        if (this._attachedMesh) {\n            this._attachedMesh.removeBehavior(this.boundingBoxDragBehavior);\n            this._attachedMesh.showBoundingBox = false;\n        }\n        if (this._attachedNode) {\n            this._attachedNode.removeBehavior(this.boundingBoxDragBehavior);\n        }\n        this._attachedMesh = null;\n        this._attachedNode = node;\n        for (var key in this.gizmos) {\n            var gizmo = <Nullable<Gizmo>>((<any>this.gizmos)[key]);\n            if (gizmo && (<any>this._gizmosEnabled)[key]) {\n                gizmo.attachedNode = node;\n            }\n        }\n        if (this.boundingBoxGizmoEnabled && this._attachedNode) {\n            this._attachedNode.addBehavior(this.boundingBoxDragBehavior);\n        }\n        this.onAttachedToNodeObservable.notifyObservers(node);\n    }\n\n    /**\n     * If the position gizmo is enabled\n     */\n    public set positionGizmoEnabled(value: boolean) {\n        if (value) {\n            if (!this.gizmos.positionGizmo) {\n                this.gizmos.positionGizmo = new PositionGizmo(this._defaultUtilityLayer, this._thickness);\n            }\n            if (this._attachedNode) {\n                this.gizmos.positionGizmo.attachedNode = this._attachedNode;\n            } else {\n                this.gizmos.positionGizmo.attachedMesh = this._attachedMesh;\n            }\n        } else if (this.gizmos.positionGizmo) {\n            this.gizmos.positionGizmo.attachedNode = null;\n        }\n        this._gizmosEnabled.positionGizmo = value;\n    }\n    public get positionGizmoEnabled(): boolean {\n        return this._gizmosEnabled.positionGizmo;\n    }\n    /**\n     * If the rotation gizmo is enabled\n     */\n    public set rotationGizmoEnabled(value: boolean) {\n        if (value) {\n            if (!this.gizmos.rotationGizmo) {\n                this.gizmos.rotationGizmo = new RotationGizmo(this._defaultUtilityLayer, 32, false, this._thickness);\n            }\n            if (this._attachedNode) {\n                this.gizmos.rotationGizmo.attachedNode = this._attachedNode;\n            } else {\n                this.gizmos.rotationGizmo.attachedMesh = this._attachedMesh;\n            }\n        } else if (this.gizmos.rotationGizmo) {\n            this.gizmos.rotationGizmo.attachedNode = null;\n        }\n        this._gizmosEnabled.rotationGizmo = value;\n    }\n    public get rotationGizmoEnabled(): boolean {\n        return this._gizmosEnabled.rotationGizmo;\n    }\n    /**\n     * If the scale gizmo is enabled\n     */\n    public set scaleGizmoEnabled(value: boolean) {\n        if (value) {\n            this.gizmos.scaleGizmo = this.gizmos.scaleGizmo || new ScaleGizmo(this._defaultUtilityLayer, this._thickness);\n            if (this._attachedNode) {\n                this.gizmos.scaleGizmo.attachedNode = this._attachedNode;\n            } else {\n                this.gizmos.scaleGizmo.attachedMesh = this._attachedMesh;\n            }\n        } else if (this.gizmos.scaleGizmo) {\n            this.gizmos.scaleGizmo.attachedNode = null;\n        }\n        this._gizmosEnabled.scaleGizmo = value;\n    }\n    public get scaleGizmoEnabled(): boolean {\n        return this._gizmosEnabled.scaleGizmo;\n    }\n    /**\n     * If the boundingBox gizmo is enabled\n     */\n    public set boundingBoxGizmoEnabled(value: boolean) {\n        if (value) {\n            this.gizmos.boundingBoxGizmo = this.gizmos.boundingBoxGizmo || new BoundingBoxGizmo(this._boundingBoxColor, this._defaultKeepDepthUtilityLayer);\n            if (this._attachedMesh) {\n                this.gizmos.boundingBoxGizmo.attachedMesh = this._attachedMesh;\n            } else {\n                this.gizmos.boundingBoxGizmo.attachedNode = this._attachedNode;\n            }\n\n            if (this._attachedMesh) {\n                this._attachedMesh.removeBehavior(this.boundingBoxDragBehavior);\n                this._attachedMesh.addBehavior(this.boundingBoxDragBehavior);\n            } else if (this._attachedNode) {\n                this._attachedNode.removeBehavior(this.boundingBoxDragBehavior);\n                this._attachedNode.addBehavior(this.boundingBoxDragBehavior);\n            }\n        } else if (this.gizmos.boundingBoxGizmo) {\n            if (this._attachedMesh) {\n                this._attachedMesh.removeBehavior(this.boundingBoxDragBehavior);\n            } else if (this._attachedNode) {\n                this._attachedNode.removeBehavior(this.boundingBoxDragBehavior);\n            }\n            this.gizmos.boundingBoxGizmo.attachedNode = null;\n        }\n        this._gizmosEnabled.boundingBoxGizmo = value;\n    }\n    public get boundingBoxGizmoEnabled(): boolean {\n        return this._gizmosEnabled.boundingBoxGizmo;\n    }\n\n    /**\n     * Disposes of the gizmo manager\n     */\n    public dispose() {\n        this.scene.onPointerObservable.remove(this._pointerObserver);\n        for (var key in this.gizmos) {\n            var gizmo = <Nullable<Gizmo>>((<any>this.gizmos)[key]);\n            if (gizmo) {\n                gizmo.dispose();\n            }\n        }\n        this._defaultKeepDepthUtilityLayer.dispose();\n        this._defaultUtilityLayer.dispose();\n        this.boundingBoxDragBehavior.detach();\n        this.onAttachedToMeshObservable.clear();\n    }\n}","export * from \"./axisDragGizmo\";\r\nexport * from \"./axisScaleGizmo\";\r\nexport * from \"./boundingBoxGizmo\";\r\nexport * from \"./gizmo\";\r\nexport * from \"./gizmoManager\";\r\nexport * from \"./planeRotationGizmo\";\r\nexport * from \"./positionGizmo\";\r\nexport * from \"./rotationGizmo\";\r\nexport * from \"./scaleGizmo\";\r\nexport * from \"./lightGizmo\";\r\nexport * from \"./cameraGizmo\";\r\nexport * from \"./planeDragGizmo\";\r\nexport * from './gizmo-center';","// import { Nullable } from \"../types\";\r\n// import { Vector3, Quaternion } from \"../Maths/math.vector\";\r\n// import { Color3 } from '../Maths/math.color';\r\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\nimport { Gizmo } from \"./gizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n\r\n// import { StandardMaterial } from '../Materials/standardMaterial';\r\n// import { Light } from '../Lights/light';\r\n// import { Scene } from '../scene';\r\n// import { HemisphericLight } from '../Lights/hemisphericLight';\r\n// import { DirectionalLight } from '../Lights/directionalLight';\r\n// import { SphereBuilder } from '../Meshes/Builders/sphereBuilder';\r\n// import { HemisphereBuilder } from '../Meshes/Builders/hemisphereBuilder';\r\n// import { SpotLight } from '../Lights/spotLight';\r\n// import { TransformNode } from '../Meshes/transformNode';\r\n// import { PointerEventTypes, PointerInfo } from '../Events/pointerEvents';\r\n// import { Observer, Observable } from \"../Misc/observable\";\r\n\r\n/**\r\n * Gizmo that enables viewing a light\r\n */\r\nexport class LightGizmo extends Gizmo {\r\n    private _lightMesh!: BABYLON.Mesh;\r\n    private _material: BABYLON.StandardMaterial;\r\n    private _cachedPosition = new BABYLON.Vector3();\r\n    private _cachedForward = new BABYLON.Vector3(0, 0, 1);\r\n    private _attachedMeshParent: BABYLON.TransformNode;\r\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n    /**\r\n     * Event that fires each time the gizmo is clicked\r\n     */\r\n    public onClickedObservable = new BABYLON.Observable<BABYLON.Light>();\r\n\r\n    /**\r\n     * Creates a LightGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     */\r\n    constructor(gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer) {\r\n        super(gizmoLayer);\r\n        this.attachedMesh = new BABYLON.AbstractMesh(\"\", this.gizmoLayer.utilityLayerScene);\r\n        this._attachedMeshParent = new BABYLON.TransformNode(\"parent\", this.gizmoLayer.utilityLayerScene);\r\n\r\n        this.attachedMesh.parent = this._attachedMeshParent;\r\n        this._material = new BABYLON.StandardMaterial(\"light\", this.gizmoLayer.utilityLayerScene);\r\n        this._material.diffuseColor = new BABYLON.Color3(0.5, 0.5, 0.5);\r\n        this._material.specularColor = new BABYLON.Color3(0.1, 0.1, 0.1);\r\n\r\n        this._pointerObserver = gizmoLayer.utilityLayerScene.onPointerObservable.add((pointerInfo) => {\r\n            if (!this._light) {\r\n                return;\r\n            }\r\n\r\n            var isHovered = pointerInfo.pickInfo && (this._rootMesh.getChildMeshes().indexOf(<BABYLON.Mesh>pointerInfo.pickInfo.pickedMesh) != -1);\r\n            if (isHovered && pointerInfo.event.button === 0) {\r\n                this.onClickedObservable.notifyObservers(this._light);\r\n            }\r\n        }, BABYLON.PointerEventTypes.POINTERDOWN);\r\n    }\r\n    private _light: Nullable<BABYLON.Light> = null;\r\n\r\n    /**\r\n     * The light that the gizmo is attached to\r\n     */\r\n    public set light(light: Nullable<BABYLON.Light>) {\r\n        this._light = light;\r\n        if (light) {\r\n            // Create the mesh for the given light type\r\n            if (this._lightMesh) {\r\n                this._lightMesh.dispose();\r\n            }\r\n\r\n            if (light instanceof BABYLON.HemisphericLight) {\r\n                this._lightMesh = LightGizmo._CreateHemisphericLightMesh(this.gizmoLayer.utilityLayerScene);\r\n            } else if (light instanceof BABYLON.DirectionalLight) {\r\n                this._lightMesh = LightGizmo._CreateDirectionalLightMesh(this.gizmoLayer.utilityLayerScene);\r\n            } else if (light instanceof BABYLON.SpotLight) {\r\n                this._lightMesh = LightGizmo._CreateSpotLightMesh(this.gizmoLayer.utilityLayerScene);\r\n            } else {\r\n                this._lightMesh = LightGizmo._CreatePointLightMesh(this.gizmoLayer.utilityLayerScene);\r\n            }\r\n            this._lightMesh.getChildMeshes(false).forEach((m) => {\r\n                m.material = this._material;\r\n            });\r\n            this._lightMesh.parent = this._rootMesh;\r\n\r\n            // Add lighting to the light gizmo\r\n            var gizmoLight = this.gizmoLayer._getSharedGizmoLight();\r\n            gizmoLight.includedOnlyMeshes = gizmoLight.includedOnlyMeshes.concat(this._lightMesh.getChildMeshes(false));\r\n\r\n            this._lightMesh.rotationQuaternion = new BABYLON.Quaternion();\r\n\r\n            if (!this.attachedMesh!.reservedDataStore) {\r\n                this.attachedMesh!.reservedDataStore = {};\r\n            }\r\n            this.attachedMesh!.reservedDataStore.lightGizmo = this;\r\n\r\n            if (light.parent) {\r\n                // this._attachedMeshParent.freezeWorldMatrix(light.parent.getWorldMatrix());\r\n                this._attachedMeshParent.freezeWorldMatrix();\r\n            }\r\n\r\n            // Get update position and direction if the light has it\r\n            if ((light as any).position) {\r\n                this.attachedMesh!.position.copyFrom((light as any).position);\r\n                this.attachedMesh!.computeWorldMatrix(true);\r\n                this._cachedPosition.copyFrom(this.attachedMesh!.position);\r\n            }\r\n            if ((light as any).direction) {\r\n                this.attachedMesh!.setDirection((light as any).direction);\r\n                this.attachedMesh!.computeWorldMatrix(true);\r\n                this._cachedForward.copyFrom(this.attachedMesh!.forward);\r\n            }\r\n\r\n            this._update();\r\n        }\r\n    }\r\n    public get light() {\r\n        return this._light;\r\n    }\r\n\r\n    /**\r\n     * Gets the material used to render the light gizmo\r\n     */\r\n    public get material() {\r\n        return this._material;\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     * Updates the gizmo to match the attached mesh's position/rotation\r\n     */\r\n    protected _update() {\r\n        super._update();\r\n        if (!this._light) {\r\n            return;\r\n        }\r\n\r\n        if (this._light.parent) {\r\n            // this._attachedMeshParent.freezeWorldMatrix(this._light.parent.getWorldMatrix());\r\n            this._attachedMeshParent.freezeWorldMatrix();\r\n        }\r\n\r\n        if ((this._light as any).position) {\r\n            // If the gizmo is moved update the light otherwise update the gizmo to match the light\r\n            if (!this.attachedMesh!.position.equals(this._cachedPosition)) {\r\n                // update light to match gizmo\r\n                (this._light as any).position.copyFrom(this.attachedMesh!.position);\r\n                this._cachedPosition.copyFrom(this.attachedMesh!.position);\r\n            } else {\r\n                // update gizmo to match light\r\n                this.attachedMesh!.position.copyFrom((this._light as any).position);\r\n                this.attachedMesh!.computeWorldMatrix(true);\r\n                this._cachedPosition.copyFrom(this.attachedMesh!.position);\r\n            }\r\n\r\n        }\r\n        if ((this._light as any).direction) {\r\n            // If the gizmo is moved update the light otherwise update the gizmo to match the light\r\n            if (BABYLON.Vector3.DistanceSquared(this.attachedMesh!.forward, this._cachedForward) > 0.0001) {\r\n                // update light to match gizmo\r\n                (this._light as any).direction.copyFrom(this.attachedMesh!.forward);\r\n                this._cachedForward.copyFrom(this.attachedMesh!.forward);\r\n            } else if (BABYLON.Vector3.DistanceSquared(this.attachedMesh!.forward, (this._light as any).direction) > 0.0001) {\r\n                // update gizmo to match light\r\n                this.attachedMesh!.setDirection((this._light as any).direction);\r\n                this.attachedMesh!.computeWorldMatrix(true);\r\n                this._cachedForward.copyFrom(this.attachedMesh!.forward);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Static helper methods\r\n    private static _Scale = 0.007;\r\n\r\n    /**\r\n     * Creates the lines for a light mesh\r\n     */\r\n    private static _CreateLightLines = (levels: number, scene: BABYLON.Scene) => {\r\n        var distFromSphere = 1.2;\r\n\r\n        var root = new BABYLON.Mesh(\"root\", scene);\r\n        root.rotation.x = Math.PI / 2;\r\n\r\n        // Create the top line, this will be cloned for all other lines\r\n        var linePivot = new BABYLON.Mesh(\"linePivot\", scene);\r\n        linePivot.parent = root;\r\n        var line = BABYLON.Mesh.CreateCylinder(\"line\", 2, 0.2, 0.3, 6, 1, scene);\r\n        line.position.y = line.scaling.y / 2 + distFromSphere;\r\n        line.parent = linePivot;\r\n\r\n        if (levels < 2) {\r\n            return linePivot;\r\n        }\r\n        for (var i = 0; i < 4; i++) {\r\n            var l = linePivot.clone(\"lineParentClone\")!;\r\n            l.rotation.z = Math.PI / 4;\r\n            l.rotation.y = (Math.PI / 2) + (Math.PI / 2 * i);\r\n\r\n            l.getChildMeshes()[0].scaling.y = 0.5;\r\n            l.getChildMeshes()[0].scaling.x = l.getChildMeshes()[0].scaling.z = 0.8;\r\n            l.getChildMeshes()[0].position.y = l.getChildMeshes()[0].scaling.y / 2 + distFromSphere;\r\n        }\r\n\r\n        if (levels < 3) {\r\n            return root;\r\n        }\r\n        for (var i = 0; i < 4; i++) {\r\n            var l = linePivot.clone(\"linePivotClone\");\r\n            l.rotation.z = Math.PI / 2;\r\n            l.rotation.y = (Math.PI / 2 * i);\r\n        }\r\n\r\n        if (levels < 4) {\r\n            return root;\r\n        }\r\n        for (var i = 0; i < 4; i++) {\r\n            var l = linePivot.clone(\"linePivotClone\");\r\n            l.rotation.z = Math.PI + (Math.PI / 4);\r\n            l.rotation.y = (Math.PI / 2) + (Math.PI / 2 * i);\r\n\r\n            l.getChildMeshes()[0].scaling.y = 0.5;\r\n            l.getChildMeshes()[0].scaling.x = l.getChildMeshes()[0].scaling.z = 0.8;\r\n            l.getChildMeshes()[0].position.y = l.getChildMeshes()[0].scaling.y / 2 + distFromSphere;\r\n        }\r\n\r\n        if (levels < 5) {\r\n            return root;\r\n        }\r\n        var l = linePivot.clone(\"linePivotClone\");\r\n        l.rotation.z = Math.PI;\r\n\r\n        return root;\r\n    }\r\n\r\n    /**\r\n     * Disposes of the light gizmo\r\n     */\r\n    public dispose() {\r\n        this.onClickedObservable.clear();\r\n        this.gizmoLayer.utilityLayerScene.onPointerObservable.remove(this._pointerObserver);\r\n        this._material.dispose();\r\n        super.dispose();\r\n        this._attachedMeshParent.dispose();\r\n    }\r\n\r\n    private static _CreateHemisphericLightMesh(scene: BABYLON.Scene) {\r\n        var root = new BABYLON.Mesh(\"hemisphereLight\", scene);\r\n        var hemisphere = BABYLON.HemisphereBuilder.CreateHemisphere(root.name, { segments: 10, diameter: 1 }, scene);\r\n        hemisphere.position.z = -0.15;\r\n        hemisphere.rotation.x = Math.PI / 2;\r\n        hemisphere.parent = root;\r\n\r\n        var lines = this._CreateLightLines(3, scene);\r\n        lines.parent = root;\r\n        lines.position.z - 0.15;\r\n\r\n        root.scaling.scaleInPlace(LightGizmo._Scale);\r\n        root.rotation.x = Math.PI / 2;\r\n\r\n        return root;\r\n    }\r\n\r\n    private static _CreatePointLightMesh(scene: BABYLON.Scene) {\r\n        var root = new BABYLON.Mesh(\"pointLight\", scene);\r\n        var sphere = BABYLON.SphereBuilder.CreateSphere(root.name, { segments: 10, diameter: 1 }, scene);\r\n        sphere.rotation.x = Math.PI / 2;\r\n        sphere.parent = root;\r\n\r\n        var lines = this._CreateLightLines(5, scene);\r\n        lines.parent = root;\r\n        root.scaling.scaleInPlace(LightGizmo._Scale);\r\n        root.rotation.x = Math.PI / 2;\r\n\r\n        return root;\r\n    }\r\n\r\n    private static _CreateSpotLightMesh(scene: BABYLON.Scene) {\r\n        var root = new BABYLON.Mesh(\"spotLight\", scene);\r\n        var sphere = BABYLON.SphereBuilder.CreateSphere(root.name, { segments: 10, diameter: 1 }, scene);\r\n        sphere.parent = root;\r\n\r\n        var hemisphere = BABYLON.HemisphereBuilder.CreateHemisphere(root.name, { segments: 10, diameter: 2 }, scene);\r\n        hemisphere.parent = root;\r\n        hemisphere.rotation.x = -Math.PI / 2;\r\n\r\n        var lines = this._CreateLightLines(2, scene);\r\n        lines.parent = root;\r\n        root.scaling.scaleInPlace(LightGizmo._Scale);\r\n        root.rotation.x = Math.PI / 2;\r\n\r\n        return root;\r\n    }\r\n\r\n    private static _CreateDirectionalLightMesh(scene: BABYLON.Scene) {\r\n        var root = new BABYLON.Mesh(\"directionalLight\", scene);\r\n\r\n        var mesh = new BABYLON.Mesh(root.name, scene);\r\n        mesh.parent = root;\r\n        var sphere = BABYLON.SphereBuilder.CreateSphere(root.name, { diameter: 1.2, segments: 10 }, scene);\r\n        sphere.parent = mesh;\r\n\r\n        var line = BABYLON.Mesh.CreateCylinder(root.name, 6, 0.3, 0.3, 6, 1, scene);\r\n        line.parent = mesh;\r\n\r\n        var left = line.clone(root.name)!;\r\n        left.scaling.y = 0.5;\r\n        left.position.x += 1.25;\r\n\r\n        var right = line.clone(root.name)!;\r\n        right.scaling.y = 0.5;\r\n        right.position.x += -1.25;\r\n\r\n        var arrowHead = BABYLON.Mesh.CreateCylinder(root.name, 1, 0, 0.6, 6, 1, scene);\r\n        arrowHead.position.y += 3;\r\n        arrowHead.parent = mesh;\r\n\r\n        var left = arrowHead.clone(root.name);\r\n        left.position.y = 1.5;\r\n        left.position.x += 1.25;\r\n\r\n        var right = arrowHead.clone(root.name);\r\n        right.position.y = 1.5;\r\n        right.position.x += -1.25;\r\n\r\n        mesh.scaling.scaleInPlace(LightGizmo._Scale);\r\n        mesh.rotation.z = Math.PI / 2;\r\n        mesh.rotation.y = Math.PI / 2;\r\n        return root;\r\n    }\r\n}","// import { Observer, Observable } from \"../Misc/observable\";\r\n// import { Nullable } from \"../types\";\r\n// import { PointerInfo } from \"../Events/pointerEvents\";\r\n// import { Vector3, Matrix } from \"../Maths/math.vector\";\r\n// import { Color3 } from '../Maths/math.color';\r\n// import { TransformNode } from \"../Meshes/transformNode\";\r\n// import { Node } from \"../node\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\n// import { PlaneBuilder } from \"../Meshes/Builders/planeBuilder\";\r\n// import { PointerDragBehavior } from \"../Behaviors/Meshes/pointerDragBehavior\";\r\nimport { Gizmo } from \"./gizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n// import { StandardMaterial } from \"../Materials/standardMaterial\";\r\n// import { Scene } from \"../scene\";\r\nimport { PositionGizmo } from \"./positionGizmo\";\r\n/**\r\n * Single plane drag gizmo\r\n */\r\nexport class PlaneDragGizmo extends Gizmo {\r\n    /**\r\n     * Drag behavior responsible for the gizmos dragging interactions\r\n     */\r\n    public dragBehavior: BABYLON.PointerDragBehavior;\r\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n    /**\r\n     * Drag distance in babylon units that the gizmo will snap to when dragged (Default: 0)\r\n     */\r\n    public snapDistance = 0;\r\n    /**\r\n     * Event that fires each time the gizmo snaps to a new location.\r\n     * * snapDistance is the the change in distance\r\n     */\r\n    public onSnapObservable = new BABYLON.Observable<{ snapDistance: number }>();\r\n\r\n    private _plane: BABYLON.TransformNode;\r\n    private _coloredMaterial: BABYLON.StandardMaterial;\r\n    private _hoverMaterial: BABYLON.StandardMaterial;\r\n\r\n    private _isEnabled: boolean = false;\r\n    private _parent: Nullable<PositionGizmo> = null;\r\n\r\n    /** @hidden */\r\n    public static _CreatePlane(scene: BABYLON.Scene, material: BABYLON.StandardMaterial): BABYLON.TransformNode {\r\n        var plane = new BABYLON.TransformNode(\"plane\", scene);\r\n\r\n        //make sure plane is double sided\r\n        var dragPlane = BABYLON.PlaneBuilder.CreatePlane(\"dragPlane\", { width: .1375, height: .1375, sideOrientation: 2 }, scene);\r\n        // var dragPlane = BABYLON.MeshBuilder.CreateGround(\"dragPlane\", { width: .1375, height: .1375 }, scene)\r\n        // .CreatePlane(\"dragPlane\", .1375, scene, undefined, 2);\r\n        dragPlane.material = material;\r\n        dragPlane.parent = plane;\r\n        return plane;\r\n    }\r\n\r\n    /** @hidden */\r\n    public static _CreateArrowInstance(scene: BABYLON.Scene, arrow: BABYLON.TransformNode): BABYLON.TransformNode {\r\n        const instance = new BABYLON.TransformNode(\"arrow\", scene);\r\n        for (const mesh of arrow.getChildMeshes()) {\r\n            const childInstance = (mesh as BABYLON.Mesh).createInstance(mesh.name);\r\n            childInstance.parent = instance;\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * Creates a PlaneDragGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     * @param dragPlaneNormal The axis normal to which the gizmo will be able to drag on\r\n     * @param color The color of the gizmo\r\n     */\r\n    constructor(dragPlaneNormal: BABYLON.Vector3, color: BABYLON.Color3 = BABYLON.Color3.Gray(), gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer, parent: Nullable<PositionGizmo> = null) {\r\n        super(gizmoLayer);\r\n        this._parent = parent;\r\n        // Create Material\r\n        this._coloredMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this._coloredMaterial.diffuseColor = color;\r\n        this._coloredMaterial.specularColor = color.subtract(new BABYLON.Color3(0.1, 0.1, 0.1));\r\n        this._coloredMaterial.alpha = 0.5;\r\n\r\n        this._hoverMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\r\n        this._hoverMaterial.diffuseColor = color.add(new BABYLON.Color3(0.3, 0.3, 0.3));\r\n        this._hoverMaterial.alpha = 0.4;\r\n\r\n        // Build plane mesh on root node\r\n        this._plane = PlaneDragGizmo._CreatePlane(gizmoLayer.utilityLayerScene, this._coloredMaterial);\r\n\r\n        this._plane.lookAt(this._rootMesh.position.add(dragPlaneNormal));\r\n        this._plane.scaling.scaleInPlace(1 / 6);\r\n        this._plane.parent = this._rootMesh;\r\n        \r\n        if(dragPlaneNormal.x > 0) {\r\n            this._plane.position = new BABYLON.Vector3(0, .1375 / 12, .1375 / 12);\r\n        } else if(dragPlaneNormal.y > 0) {\r\n            this._plane.position = new BABYLON.Vector3(.1375 / 12, 0, .1375 / 12);\r\n        } else {\r\n            this._plane.position = new BABYLON.Vector3(.1375 / 12, .1375 / 12, 0);\r\n        }\r\n\r\n        var currentSnapDragDistance = 0;\r\n        var tmpVector = new BABYLON.Vector3();\r\n        var tmpSnapEvent = { snapDistance: 0 };\r\n        // Add dragPlaneNormal drag behavior to handle events when the gizmo is dragged\r\n        this.dragBehavior = new BABYLON.PointerDragBehavior({ dragPlaneNormal: dragPlaneNormal });\r\n        this.dragBehavior.moveAttached = false;\r\n        this._rootMesh.addBehavior(this.dragBehavior);\r\n\r\n        var localDelta = new BABYLON.Vector3();\r\n        var tmpMatrix = new BABYLON.Matrix();\r\n        this.dragBehavior.onDragObservable.add((event) => {\r\n            if (this.attachedNode) {\r\n                // Convert delta to local translation if it has a parent\r\n                if (this.attachedNode.parent) {\r\n                    this.attachedNode.parent.computeWorldMatrix().invertToRef(tmpMatrix);\r\n                    tmpMatrix.setTranslationFromFloats(0, 0, 0);\r\n                    BABYLON.Vector3.TransformCoordinatesToRef(event.delta, tmpMatrix, localDelta);\r\n                } else {\r\n                    localDelta.copyFrom(event.delta);\r\n                }\r\n                // Snapping logic\r\n                if (this.snapDistance == 0) {\r\n                    this.attachedNode.getWorldMatrix().addTranslationFromFloats(localDelta.x, localDelta.y, localDelta.z);\r\n                } else {\r\n                    currentSnapDragDistance += event.dragDistance;\r\n                    if (Math.abs(currentSnapDragDistance) > this.snapDistance) {\r\n                        var dragSteps = Math.floor(Math.abs(currentSnapDragDistance) / this.snapDistance);\r\n                        currentSnapDragDistance = currentSnapDragDistance % this.snapDistance;\r\n                        localDelta.normalizeToRef(tmpVector);\r\n                        tmpVector.scaleInPlace(this.snapDistance * dragSteps);\r\n                        this.attachedNode.getWorldMatrix().addTranslationFromFloats(tmpVector.x, tmpVector.y, tmpVector.z);\r\n                        tmpSnapEvent.snapDistance = this.snapDistance * dragSteps;\r\n                        this.onSnapObservable.notifyObservers(tmpSnapEvent);\r\n                    }\r\n                }\r\n                this._operationType = 'plane';\r\n                this._matrixChanged();\r\n            }\r\n        });\r\n\r\n        this._pointerObserver = gizmoLayer.utilityLayerScene.onPointerObservable.add((pointerInfo) => {\r\n            if (this._customMeshSet) {\r\n                return;\r\n            }\r\n            var isHovered = pointerInfo.pickInfo && (this._rootMesh.getChildMeshes().indexOf(<BABYLON.Mesh>pointerInfo.pickInfo.pickedMesh) != -1);\r\n            var material = isHovered ? this._hoverMaterial : this._coloredMaterial;\r\n            this._rootMesh.getChildMeshes().forEach((m) => {\r\n                m.material = material;\r\n            });\r\n        });\r\n\r\n        var light = gizmoLayer._getSharedGizmoLight();\r\n        light.includedOnlyMeshes = light.includedOnlyMeshes.concat(this._rootMesh.getChildMeshes(false));\r\n    }\r\n    protected _attachedNodeChanged(value: Nullable<BABYLON.Node>) {\r\n        if (this.dragBehavior) {\r\n            this.dragBehavior.enabled = value ? true : false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * If the gizmo is enabled\r\n     */\r\n    public set isEnabled(value: boolean) {\r\n        this._isEnabled = value;\r\n        if (!value) {\r\n            this.attachedNode = null;\r\n        }\r\n        else {\r\n            if (this._parent) {\r\n                this.attachedNode = this._parent.attachedNode;\r\n            }\r\n        }\r\n    }\r\n    public get isEnabled(): boolean {\r\n        return this._isEnabled;\r\n    }\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        this.onSnapObservable.clear();\r\n        this.gizmoLayer.utilityLayerScene.onPointerObservable.remove(this._pointerObserver);\r\n        this.dragBehavior.detach();\r\n        super.dispose();\r\n        if (this._plane) {\r\n            this._plane.dispose();\r\n        }\r\n        [this._coloredMaterial, this._hoverMaterial].forEach((matl) => {\r\n            if (matl) {\r\n                matl.dispose();\r\n            }\r\n        });\r\n    }\r\n}","// import { Observer, Observable } from \"../Misc/observable\";\n// import { Nullable } from \"../types\";\n// import { PointerInfo } from \"../Events/pointerEvents\";\n// import { Quaternion, Matrix, Vector3 } from \"../Maths/math.vector\";\n// import { Color3 } from '../Maths/math.color';\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\n// import { Mesh } from \"../Meshes/mesh\";\n// import { Node } from \"../node\";\n// import { LinesMesh } from \"../Meshes/linesMesh\";\n// import { PointerDragBehavior } from \"../Behaviors/Meshes/pointerDragBehavior\";\nimport { Gizmo } from \"./gizmo\";\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\n// import { StandardMaterial } from \"../Materials/standardMaterial\";\n\n// import \"../Meshes/Builders/linesBuilder\";\nimport { RotationGizmo } from \"./rotationGizmo\";\n\n/**\n * Single plane rotation gizmo\n */\nexport class PlaneRotationGizmo extends Gizmo {\n    /**\n     * Drag behavior responsible for the gizmos dragging interactions\n     */\n    public dragBehavior: BABYLON.PointerDragBehavior;\n    private _pointerObserver: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\n\n    /**\n     * Rotation distance in radians that the gizmo will snap to (Default: 0)\n     */\n    public snapDistance = 0;\n    /**\n     * Event that fires each time the gizmo snaps to a new location.\n     * * snapDistance is the the change in distance\n     */\n    public onSnapObservable = new BABYLON.Observable<{ snapDistance: number }>();\n\n    private _isEnabled: boolean = true;\n    private _parent: Nullable<RotationGizmo> = null;\n\n    /**\n     * Creates a PlaneRotationGizmo\n     * @param gizmoLayer The utility layer the gizmo will be added to\n     * @param planeNormal The normal of the plane which the gizmo will be able to rotate on\n     * @param color The color of the gizmo\n     * @param tessellation Amount of tessellation to be used when creating rotation circles\n     * @param useEulerRotation Use and update Euler angle instead of quaternion\n     * @param thickness display gizmo axis thickness\n     */\n    constructor(planeNormal: BABYLON.Vector3, color: BABYLON.Color3 = BABYLON.Color3.Gray(), gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer, tessellation = 32, parent: Nullable<RotationGizmo> = null, useEulerRotation = false, thickness: number = 1) {\n        super(gizmoLayer);\n        this._parent = parent;\n        // Create Material\n        var coloredMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\n        coloredMaterial.diffuseColor = color;\n        coloredMaterial.specularColor = color.subtract(new BABYLON.Color3(0.1, 0.1, 0.1));\n\n        var hoverMaterial = new BABYLON.StandardMaterial(\"\", gizmoLayer.utilityLayerScene);\n        hoverMaterial.diffuseColor = color.add(new BABYLON.Color3(0.3, 0.3, 0.3));\n\n        // Build mesh on root node\n        var parentMesh = new BABYLON.AbstractMesh(\"\", gizmoLayer.utilityLayerScene);\n\n        let drag = BABYLON.Mesh.CreateTorus(\"\", 0.6, 0.03 * thickness, tessellation, gizmoLayer.utilityLayerScene);\n        drag.visibility = 0;\n        let rotationMesh = BABYLON.Mesh.CreateTorus(\"\", 0.6, 0.005 * thickness, tessellation, gizmoLayer.utilityLayerScene);\n        rotationMesh.material = coloredMaterial;\n\n        // Position arrow pointing in its drag axis\n        rotationMesh.rotation.x = Math.PI / 2;\n        drag.rotation.x = Math.PI / 2;\n        parentMesh.addChild(rotationMesh);\n        parentMesh.addChild(drag);\n        parentMesh.lookAt(this._rootMesh.position.add(planeNormal));\n\n        this._rootMesh.addChild(parentMesh);\n        parentMesh.scaling.scaleInPlace(1 / 3);\n        // Add drag behavior to handle events when the gizmo is dragged\n        this.dragBehavior = new BABYLON.PointerDragBehavior({ dragPlaneNormal: planeNormal });\n        this.dragBehavior.moveAttached = false;\n        this.dragBehavior.maxDragAngle = Math.PI * 9 / 20;\n        this.dragBehavior._useAlternatePickedPointAboveMaxDragAngle = true;\n        this._rootMesh.addBehavior(this.dragBehavior);\n\n        var lastDragPosition = new BABYLON.Vector3();\n\n        this.dragBehavior.onDragStartObservable.add((e) => {\n            if (this.attachedNode) {\n                lastDragPosition.copyFrom(e.dragPlanePoint);\n            }\n        });\n\n        var rotationMatrix = new BABYLON.Matrix();\n        var planeNormalTowardsCamera = new BABYLON.Vector3();\n        var localPlaneNormalTowardsCamera = new BABYLON.Vector3();\n\n        var tmpSnapEvent = { snapDistance: 0 };\n        var currentSnapDragDistance = 0;\n        var tmpMatrix = new BABYLON.Matrix();\n        var amountToRotate = new BABYLON.Quaternion();\n        this.dragBehavior.onDragObservable.add((event) => {\n            if (this.attachedNode) {\n                // Calc angle over full 360 degree (https://stackoverflow.com/questions/43493711/the-angle-between-two-3d-vectors-with-a-result-range-0-360)\n                var nodeScale = new BABYLON.Vector3(1, 1, 1);\n                var nodeQuaternion = new BABYLON.Quaternion(0, 0, 0, 1);\n                var nodeTranslation = new BABYLON.Vector3(0, 0, 0);\n                this.attachedNode.getWorldMatrix().decompose(nodeScale, nodeQuaternion, nodeTranslation);\n\n                var newVector = event.dragPlanePoint.subtract(nodeTranslation).normalize();\n                var originalVector = lastDragPosition.subtract(nodeTranslation).normalize();\n                var cross = BABYLON.Vector3.Cross(newVector, originalVector);\n                var dot = BABYLON.Vector3.Dot(newVector, originalVector);\n                var angle = Math.atan2(cross.length(), dot);\n                planeNormalTowardsCamera.copyFrom(planeNormal);\n                localPlaneNormalTowardsCamera.copyFrom(planeNormal);\n                if (this.updateGizmoRotationToMatchAttachedMesh) {\n                    nodeQuaternion.toRotationMatrix(rotationMatrix);\n                    localPlaneNormalTowardsCamera = BABYLON.Vector3.TransformCoordinates(planeNormalTowardsCamera, rotationMatrix);\n                }\n                // Flip up vector depending on which side the camera is on\n                if (gizmoLayer.utilityLayerScene.activeCamera) {\n                    var camVec = gizmoLayer.utilityLayerScene.activeCamera.position.subtract(nodeTranslation);\n                    if (BABYLON.Vector3.Dot(camVec, localPlaneNormalTowardsCamera) > 0) {\n                        planeNormalTowardsCamera.scaleInPlace(-1);\n                        localPlaneNormalTowardsCamera.scaleInPlace(-1);\n                    }\n                }\n                var halfCircleSide = BABYLON.Vector3.Dot(localPlaneNormalTowardsCamera, cross) > 0.0;\n                if (halfCircleSide) { angle = -angle; }\n\n                // Snapping logic\n                var snapped = false;\n                if (this.snapDistance != 0) {\n                    currentSnapDragDistance += angle;\n                    if (Math.abs(currentSnapDragDistance) > this.snapDistance) {\n                        var dragSteps = Math.floor(Math.abs(currentSnapDragDistance) / this.snapDistance);\n                        if (currentSnapDragDistance < 0) {\n                            dragSteps *= -1;\n                        }\n                        currentSnapDragDistance = currentSnapDragDistance % this.snapDistance;\n                        angle = this.snapDistance * dragSteps;\n                        snapped = true;\n                    } else {\n                        angle = 0;\n                    }\n                }\n\n                // Convert angle and axis to quaternion (http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm)\n                var quaternionCoefficient = Math.sin(angle / 2);\n                amountToRotate.set(planeNormalTowardsCamera.x * quaternionCoefficient, planeNormalTowardsCamera.y * quaternionCoefficient, planeNormalTowardsCamera.z * quaternionCoefficient, Math.cos(angle / 2));\n\n                // If the meshes local scale is inverted (eg. loaded gltf file parent with z scale of -1) the rotation needs to be inverted on the y axis\n                if (tmpMatrix.determinant() > 0) {\n                    var tmpVector = new BABYLON.Vector3();\n                    amountToRotate.toEulerAnglesToRef(tmpVector);\n                    BABYLON.Quaternion.RotationYawPitchRollToRef(tmpVector.y, -tmpVector.x, -tmpVector.z, amountToRotate);\n                }\n\n                if (this.updateGizmoRotationToMatchAttachedMesh) {\n                    // Rotate selected mesh quaternion over fixed axis\n                    nodeQuaternion.multiplyToRef(amountToRotate, nodeQuaternion);\n                } else {\n                    // Rotate selected mesh quaternion over rotated axis\n                    amountToRotate.multiplyToRef(nodeQuaternion, nodeQuaternion);\n                }\n\n                // recompose matrix\n                this.attachedNode.getWorldMatrix().copyFrom(BABYLON.Matrix.Compose(nodeScale, nodeQuaternion, nodeTranslation));\n\n                lastDragPosition.copyFrom(event.dragPlanePoint);\n                if (snapped) {\n                    tmpSnapEvent.snapDistance = angle;\n                    this.onSnapObservable.notifyObservers(tmpSnapEvent);\n                }\n                this._operationType = 'rotate';\n                this._matrixChanged();\n            }\n        });\n\n        this._pointerObserver = gizmoLayer.utilityLayerScene.onPointerObservable.add((pointerInfo) => {\n            if (this._customMeshSet) {\n                return;\n            }\n            var isHovered = pointerInfo.pickInfo && (this._rootMesh.getChildMeshes().indexOf(<BABYLON.Mesh>pointerInfo.pickInfo.pickedMesh) != -1);\n            var material = isHovered ? hoverMaterial : coloredMaterial;\n            this._rootMesh.getChildMeshes().forEach((m) => {\n                m.material = material;\n                if ((<BABYLON.LinesMesh>m).color) {\n                    (<BABYLON.LinesMesh>m).color = material.diffuseColor;\n                }\n            });\n        });\n\n        var light = gizmoLayer._getSharedGizmoLight();\n        light.includedOnlyMeshes = light.includedOnlyMeshes.concat(this._rootMesh.getChildMeshes(false));\n    }\n\n    protected _attachedNodeChanged(value: Nullable<BABYLON.Node>) {\n        if (this.dragBehavior) {\n            this.dragBehavior.enabled = value ? true : false;\n        }\n    }\n\n    /**\n         * If the gizmo is enabled\n         */\n    public set isEnabled(value: boolean) {\n        this._isEnabled = value;\n        if (!value) {\n            this.attachedMesh = null;\n        }\n        else {\n            if (this._parent) {\n                this.attachedMesh = this._parent.attachedMesh;\n            }\n        }\n    }\n    public get isEnabled(): boolean {\n        return this._isEnabled;\n    }\n    /**\n     * Disposes of the gizmo\n     */\n    public dispose() {\n        this.onSnapObservable.clear();\n        this.gizmoLayer.utilityLayerScene.onPointerObservable.remove(this._pointerObserver);\n        this.dragBehavior.detach();\n        super.dispose();\n    }\n}","// import { Logger } from \"../Misc/logger\";\r\n// import { Observable } from \"../Misc/observable\";\r\n// import { Nullable } from \"../types\";\r\n// import { Vector3 } from \"../Maths/math.vector\";\r\n// import { Color3 } from '../Maths/math.color';\r\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n// import { Node } from \"../node\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\nimport { Gizmo } from \"./gizmo\";\r\nimport { AxisDragGizmo } from \"./axisDragGizmo\";\r\nimport { PlaneDragGizmo } from \"./planeDragGizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n/**\r\n * Gizmo that enables dragging a mesh along 3 axis\r\n */\r\nexport class PositionGizmo extends Gizmo {\r\n    /**\r\n     * Internal gizmo used for interactions on the x axis\r\n     */\r\n    public xGizmo: AxisDragGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the y axis\r\n     */\r\n    public yGizmo: AxisDragGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the z axis\r\n     */\r\n    public zGizmo: AxisDragGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the yz plane\r\n     */\r\n    public xPlaneGizmo: PlaneDragGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the xz plane\r\n     */\r\n    public yPlaneGizmo: PlaneDragGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the xy plane\r\n     */\r\n    public zPlaneGizmo: PlaneDragGizmo;\r\n\r\n    /**\r\n     * private variables\r\n     */\r\n    private _meshAttached: Nullable<BABYLON.AbstractMesh> = null;\r\n    private _nodeAttached: Nullable<BABYLON.Node> = null;\r\n    private _snapDistance!: number;\r\n\r\n    /** Fires an event when any of it's sub gizmos are dragged */\r\n    public onDragStartObservable = new BABYLON.Observable();\r\n    /** Fires an event when any of it's sub gizmos are released from dragging */\r\n    public onDragEndObservable = new BABYLON.Observable();\r\n\r\n    /**\r\n     * If set to true, planar drag is enabled\r\n     */\r\n    private _planarGizmoEnabled = false;\r\n\r\n    public get attachedMesh() {\r\n        return this._meshAttached;\r\n    }\r\n    public set attachedMesh(mesh: Nullable<BABYLON.AbstractMesh>) {\r\n        this._meshAttached = mesh;\r\n        this._nodeAttached = mesh;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            if (gizmo.isEnabled) {\r\n                gizmo.attachedMesh = mesh;\r\n            }\r\n            else {\r\n                gizmo.attachedMesh = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    public get attachedNode() {\r\n        return this._nodeAttached;\r\n    }\r\n    public set attachedNode(node: Nullable<BABYLON.Node>) {\r\n        this._meshAttached = null;\r\n        this._nodeAttached = null;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            if (gizmo.isEnabled) {\r\n                gizmo.attachedNode = node;\r\n            }\r\n            else {\r\n                gizmo.attachedNode = null;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Creates a PositionGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n      @param thickness display gizmo axis thickness\r\n     */\r\n    constructor(gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer, thickness: number = 1) {\r\n        super(gizmoLayer);\r\n        this.xGizmo = new AxisDragGizmo(new BABYLON.Vector3(1, 0, 0), BABYLON.Color3.Red().scale(0.5), gizmoLayer, this, thickness);\r\n        this.yGizmo = new AxisDragGizmo(new BABYLON.Vector3(0, 1, 0), BABYLON.Color3.Green().scale(0.5), gizmoLayer, this, thickness);\r\n        this.zGizmo = new AxisDragGizmo(new BABYLON.Vector3(0, 0, 1), BABYLON.Color3.Blue().scale(0.5), gizmoLayer, this, thickness);\r\n\r\n        this.xPlaneGizmo = new PlaneDragGizmo(new BABYLON.Vector3(1, 0, 0), BABYLON.Color3.Red().scale(0.5), this.gizmoLayer, this);\r\n        this.yPlaneGizmo = new PlaneDragGizmo(new BABYLON.Vector3(0, 1, 0), BABYLON.Color3.Green().scale(0.5), this.gizmoLayer, this);\r\n        this.zPlaneGizmo = new PlaneDragGizmo(new BABYLON.Vector3(0, 0, 1), BABYLON.Color3.Blue().scale(0.5), this.gizmoLayer, this);\r\n\r\n        this.onDragEndObservable.add(() => {\r\n            // console.log('position drag 结束');\r\n            // console.error(gizmoLayer.utilityLayerScene.rootNodes);\r\n        });\r\n        // Relay drag events\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            gizmo.dragBehavior.onDragStartObservable.add(() => {\r\n                this.onDragStartObservable.notifyObservers({});\r\n            });\r\n            gizmo.dragBehavior.onDragEndObservable.add(() => {\r\n                this.onDragEndObservable.notifyObservers({});\r\n            });\r\n        });\r\n\r\n        this.planarGizmoEnabled = true;\r\n        // this.updateGizmoRotationToMatchAttachedMesh = false;\r\n        this.attachedMesh = null;\r\n\r\n        this.initialize();\r\n    }\r\n\r\n    public coordSystem: string = 'local';\r\n    private initialize(): void {\r\n        let self = this;\r\n        editor.on('gizmo:coordSystem', function (system: string) {\r\n            if (self.coordSystem === system)\r\n                return;\r\n\r\n            self.coordSystem = system;\r\n\r\n            if (self.coordSystem === 'world') {\r\n                self.updateGizmoRotationToMatchAttachedMesh = false;\r\n            } else {\r\n                self.updateGizmoRotationToMatchAttachedMesh = true;\r\n            }\r\n            // console.log('position: ' + self.updateGizmoRotationToMatchAttachedMesh);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * If the planar drag gizmo is enabled\r\n     * setting this will enable/disable XY, XZ and YZ planes regardless of individual gizmo settings.\r\n     */\r\n    public set planarGizmoEnabled(value: boolean) {\r\n        this._planarGizmoEnabled = value;\r\n        [this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.isEnabled = value;\r\n                if (value) {\r\n                    if (gizmo.attachedMesh) {\r\n                        gizmo.attachedMesh = this.attachedMesh;\r\n                    } else {\r\n                        gizmo.attachedNode = this.attachedNode;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }, this);\r\n    }\r\n    public get planarGizmoEnabled(): boolean {\r\n        return this._planarGizmoEnabled;\r\n    }\r\n\r\n    public set updateGizmoRotationToMatchAttachedMesh(value: boolean) {\r\n        this._updateGizmoRotationToMatchAttachedMesh = value;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.updateGizmoRotationToMatchAttachedMesh = value;\r\n            }\r\n        });\r\n    }\r\n    public get updateGizmoRotationToMatchAttachedMesh() {\r\n        return this._updateGizmoRotationToMatchAttachedMesh;\r\n    }\r\n\r\n    /**\r\n     * Drag distance in babylon units that the gizmo will snap to when dragged (Default: 0)\r\n     */\r\n    public set snapDistance(value: number) {\r\n        this._snapDistance = value;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.snapDistance = value;\r\n            }\r\n        });\r\n    }\r\n    public get snapDistance() {\r\n        return this._snapDistance;\r\n    }\r\n\r\n    /**\r\n     * Ratio for the scale of the gizmo (Default: 1)\r\n     */\r\n    public set scaleRatio(value: number) {\r\n        this._scaleRatio = value;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.scaleRatio = value;\r\n            }\r\n        });\r\n    }\r\n    public get scaleRatio() {\r\n        return this._scaleRatio;\r\n    }\r\n\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.xPlaneGizmo, this.yPlaneGizmo, this.zPlaneGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.dispose();\r\n            }\r\n        });\r\n        this.onDragStartObservable.clear();\r\n        this.onDragEndObservable.clear();\r\n    }\r\n\r\n    /**\r\n     * CustomMeshes are not supported by this gizmo\r\n     * @param mesh The mesh to replace the default mesh of the gizmo\r\n     */\r\n    public setCustomMesh(mesh: BABYLON.Mesh) {\r\n        BABYLON.Logger.Error(\"Custom meshes are not supported on this gizmo, please set the custom meshes on the gizmos contained within this one (gizmo.xGizmo, gizmo.yGizmo, gizmo.zGizmo,gizmo.xPlaneGizmo, gizmo.yPlaneGizmo, gizmo.zPlaneGizmo)\");\r\n    }\r\n}\r\n","// import { Logger } from \"../Misc/logger\";\r\n// import { Observable } from \"../Misc/observable\";\r\n// import { Nullable } from \"../types\";\r\n// import { Vector3 } from \"../Maths/math.vector\";\r\n// import { Color3 } from '../Maths/math.color';\r\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\nimport { Gizmo } from \"./gizmo\";\r\nimport { PlaneRotationGizmo } from \"./planeRotationGizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n// import { Node } from \"../node\";\r\n/**\r\n * Gizmo that enables rotating a mesh along 3 axis\r\n */\r\nexport class RotationGizmo extends Gizmo {\r\n    /**\r\n     * Internal gizmo used for interactions on the x axis\r\n     */\r\n    public xGizmo: PlaneRotationGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the y axis\r\n     */\r\n    public yGizmo: PlaneRotationGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the z axis\r\n     */\r\n    public zGizmo: PlaneRotationGizmo;\r\n\r\n    /** Fires an event when any of it's sub gizmos are dragged */\r\n    public onDragStartObservable = new BABYLON.Observable();\r\n    /** Fires an event when any of it's sub gizmos are released from dragging */\r\n    public onDragEndObservable = new BABYLON.Observable();\r\n\r\n    private _meshAttached!: Nullable<BABYLON.AbstractMesh>;\r\n    private _nodeAttached!: Nullable<BABYLON.Node>;\r\n\r\n    public get attachedMesh() {\r\n        return this._meshAttached;\r\n    }\r\n    public set attachedMesh(mesh: Nullable<BABYLON.AbstractMesh>) {\r\n        this._meshAttached = mesh;\r\n        this._nodeAttached = mesh;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo].forEach((gizmo) => {\r\n            if (gizmo.isEnabled) {\r\n                gizmo.attachedMesh = mesh;\r\n            }\r\n            else {\r\n                gizmo.attachedMesh = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    public get attachedNode() {\r\n        return this._nodeAttached;\r\n    }\r\n    public set attachedNode(node: Nullable<BABYLON.Node>) {\r\n        this._meshAttached = null;\r\n        this._nodeAttached = node;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo].forEach((gizmo) => {\r\n            if (gizmo.isEnabled) {\r\n                gizmo.attachedNode = node;\r\n            }\r\n            else {\r\n                gizmo.attachedNode = null;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Creates a RotationGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     * @param tessellation Amount of tessellation to be used when creating rotation circles\r\n     * @param useEulerRotation Use and update Euler angle instead of quaternion\r\n     * @param thickness display gizmo axis thickness\r\n     */\r\n    constructor(gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer, tessellation = 32, useEulerRotation = false, thickness: number = 1) {\r\n        super(gizmoLayer);\r\n        this.xGizmo = new PlaneRotationGizmo(new BABYLON.Vector3(1, 0, 0), BABYLON.Color3.Red().scale(0.5), gizmoLayer, tessellation, this, useEulerRotation, thickness);\r\n        this.yGizmo = new PlaneRotationGizmo(new BABYLON.Vector3(0, 1, 0), BABYLON.Color3.Green().scale(0.5), gizmoLayer, tessellation, this, useEulerRotation, thickness);\r\n        this.zGizmo = new PlaneRotationGizmo(new BABYLON.Vector3(0, 0, 1), BABYLON.Color3.Blue().scale(0.5), gizmoLayer, tessellation, this, useEulerRotation, thickness);\r\n\r\n        // Relay drag events\r\n        [this.xGizmo, this.yGizmo, this.zGizmo].forEach((gizmo) => {\r\n            gizmo.dragBehavior.onDragStartObservable.add(() => {\r\n                this.onDragStartObservable.notifyObservers({});\r\n            });\r\n            gizmo.dragBehavior.onDragEndObservable.add(() => {\r\n                this.onDragEndObservable.notifyObservers({});\r\n            });\r\n        });\r\n\r\n        // this._updateGizmoRotationToMatchAttachedMesh = false;\r\n\r\n        this.attachedMesh = null;\r\n        this.attachedNode = null;\r\n        this.initialize();\r\n    }\r\n\r\n    public coordSystem: string = 'local';\r\n    private initialize(): void {\r\n        let self = this;\r\n        editor.on('gizmo:coordSystem', function (system: string) {\r\n            if (self.coordSystem === system)\r\n                return;\r\n\r\n            self.coordSystem = system;\r\n\r\n            if (self.coordSystem === 'world') {\r\n                self.updateGizmoRotationToMatchAttachedMesh = false;\r\n            } else {\r\n                self.updateGizmoRotationToMatchAttachedMesh = true;\r\n            }\r\n\r\n            // console.log('rotate: ' + self.updateGizmoRotationToMatchAttachedMesh);\r\n        });\r\n    }\r\n\r\n    public set updateGizmoRotationToMatchAttachedMesh(value: boolean) {\r\n        if (this.xGizmo) {\r\n            this.xGizmo.updateGizmoRotationToMatchAttachedMesh = value;\r\n            this.yGizmo.updateGizmoRotationToMatchAttachedMesh = value;\r\n            this.zGizmo.updateGizmoRotationToMatchAttachedMesh = value;\r\n        }\r\n    }\r\n    public get updateGizmoRotationToMatchAttachedMesh() {\r\n        return this.xGizmo.updateGizmoRotationToMatchAttachedMesh;\r\n    }\r\n\r\n    /**\r\n     * Drag distance in babylon units that the gizmo will snap to when dragged (Default: 0)\r\n     */\r\n    public set snapDistance(value: number) {\r\n        if (this.xGizmo) {\r\n            this.xGizmo.snapDistance = value;\r\n            this.yGizmo.snapDistance = value;\r\n            this.zGizmo.snapDistance = value;\r\n        }\r\n    }\r\n    public get snapDistance() {\r\n        return this.xGizmo.snapDistance;\r\n    }\r\n\r\n    /**\r\n     * Ratio for the scale of the gizmo (Default: 1)\r\n     */\r\n    public set scaleRatio(value: number) {\r\n        if (this.xGizmo) {\r\n            this.xGizmo.scaleRatio = value;\r\n            this.yGizmo.scaleRatio = value;\r\n            this.zGizmo.scaleRatio = value;\r\n        }\r\n    }\r\n    public get scaleRatio() {\r\n        return this.xGizmo.scaleRatio;\r\n    }\r\n\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        this.xGizmo.dispose();\r\n        this.yGizmo.dispose();\r\n        this.zGizmo.dispose();\r\n        this.onDragStartObservable.clear();\r\n        this.onDragEndObservable.clear();\r\n    }\r\n\r\n    /**\r\n     * CustomMeshes are not supported by this gizmo\r\n     * @param mesh The mesh to replace the default mesh of the gizmo\r\n     */\r\n    public setCustomMesh(mesh: BABYLON.Mesh) {\r\n        BABYLON.Logger.Error(\"Custom meshes are not supported on this gizmo, please set the custom meshes on the gizmos contained within this one (gizmo.xGizmo, gizmo.yGizmo, gizmo.zGizmo)\");\r\n    }\r\n}\r\n","// import { Logger } from \"../Misc/logger\";\r\n// import { Observable } from \"../Misc/observable\";\r\n// import { Nullable } from \"../types\";\r\n// import { Vector3 } from \"../Maths/math.vector\";\r\n// import { Color3 } from '../Maths/math.color';\r\n// import { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n// import { PolyhedronBuilder } from \"../Meshes/Builders/polyhedronBuilder\";\r\nimport { Gizmo } from \"./gizmo\";\r\nimport { AxisScaleGizmo } from \"./axisScaleGizmo\";\r\n// import { UtilityLayerRenderer } from \"../Rendering/utilityLayerRenderer\";\r\n// import { Mesh } from \"../Meshes/mesh\";\r\n// import { Node } from \"../node\";\r\n// /**\r\n//  * Gizmo that enables scaling a mesh along 3 axis\r\n//  */\r\nexport class ScaleGizmo extends Gizmo {\r\n    /**\r\n     * Internal gizmo used for interactions on the x axis\r\n     */\r\n    public xGizmo: AxisScaleGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the y axis\r\n     */\r\n    public yGizmo: AxisScaleGizmo;\r\n    /**\r\n     * Internal gizmo used for interactions on the z axis\r\n     */\r\n    public zGizmo: AxisScaleGizmo;\r\n\r\n    /**\r\n     * Internal gizmo used to scale all axis equally\r\n     */\r\n    public uniformScaleGizmo: AxisScaleGizmo;\r\n\r\n    private _meshAttached: Nullable<BABYLON.AbstractMesh> = null;\r\n    private _nodeAttached: Nullable<BABYLON.Node> = null;\r\n    private _snapDistance!: number;\r\n    private _uniformScalingMesh: BABYLON.Mesh;\r\n    private _octahedron: BABYLON.Mesh;\r\n    private _sensitivity: number = 1;\r\n\r\n    /** Fires an event when any of it's sub gizmos are dragged */\r\n    public onDragStartObservable = new BABYLON.Observable();\r\n    /** Fires an event when any of it's sub gizmos are released from dragging */\r\n    public onDragEndObservable = new BABYLON.Observable();\r\n\r\n    public get attachedMesh() {\r\n        return this._meshAttached;\r\n    }\r\n    public set attachedMesh(mesh: Nullable<BABYLON.AbstractMesh>) {\r\n        this._meshAttached = mesh;\r\n        this._nodeAttached = mesh;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n            if (gizmo.isEnabled) {\r\n                gizmo.attachedMesh = mesh;\r\n            }\r\n            else {\r\n                gizmo.attachedMesh = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    public get attachedNode() {\r\n        return this._nodeAttached;\r\n    }\r\n    public set attachedNode(node: Nullable<BABYLON.Node>) {\r\n        this._meshAttached = null;\r\n        this._nodeAttached = node;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n            if (gizmo.isEnabled) {\r\n                gizmo.attachedNode = node;\r\n            }\r\n            else {\r\n                gizmo.attachedNode = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Creates a ScaleGizmo\r\n     * @param gizmoLayer The utility layer the gizmo will be added to\r\n     * @param thickness display gizmo axis thickness\r\n     */\r\n    constructor(gizmoLayer: BABYLON.UtilityLayerRenderer = BABYLON.UtilityLayerRenderer.DefaultUtilityLayer, thickness: number = 1) {\r\n        super(gizmoLayer);\r\n        this.xGizmo = new AxisScaleGizmo(new BABYLON.Vector3(1, 0, 0), BABYLON.Color3.Red().scale(0.5), gizmoLayer, this, thickness);\r\n        this.yGizmo = new AxisScaleGizmo(new BABYLON.Vector3(0, 1, 0), BABYLON.Color3.Green().scale(0.5), gizmoLayer, this, thickness);\r\n        this.zGizmo = new AxisScaleGizmo(new BABYLON.Vector3(0, 0, 1), BABYLON.Color3.Blue().scale(0.5), gizmoLayer, this, thickness);\r\n\r\n        // Create uniform scale gizmo\r\n        this.uniformScaleGizmo = new AxisScaleGizmo(new BABYLON.Vector3(0, 1, 0), BABYLON.Color3.Yellow().scale(0.5), gizmoLayer, this);\r\n        this.uniformScaleGizmo.updateGizmoRotationToMatchAttachedMesh = false;\r\n        this.uniformScaleGizmo.uniformScaling = true;\r\n        this._uniformScalingMesh = BABYLON.PolyhedronBuilder.CreatePolyhedron(\"\", { type: 1 }, this.uniformScaleGizmo.gizmoLayer.utilityLayerScene);\r\n        this._uniformScalingMesh.scaling.scaleInPlace(0.02);\r\n        this._uniformScalingMesh.visibility = 0;\r\n        this._octahedron = BABYLON.PolyhedronBuilder.CreatePolyhedron(\"\", { type: 1 }, this.uniformScaleGizmo.gizmoLayer.utilityLayerScene);\r\n        this._octahedron.scaling.scaleInPlace(0.007);\r\n        this._uniformScalingMesh.addChild(this._octahedron);\r\n        this.uniformScaleGizmo.setCustomMesh(this._uniformScalingMesh, true);\r\n        var light = gizmoLayer._getSharedGizmoLight();\r\n        light.includedOnlyMeshes = light.includedOnlyMeshes.concat(this._octahedron);\r\n\r\n        // Relay drag events\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n            gizmo.dragBehavior.onDragStartObservable.add(() => {\r\n                this.onDragStartObservable.notifyObservers({});\r\n            });\r\n            gizmo.dragBehavior.onDragEndObservable.add(() => {\r\n                this.onDragEndObservable.notifyObservers({});\r\n            });\r\n        });\r\n\r\n        this.attachedMesh = null;\r\n        this.attachedNode = null;\r\n        this.initialize();\r\n    }\r\n\r\n    public coordSystem: string = 'local';\r\n    private initialize(): void {\r\n        let self = this;\r\n        editor.on('gizmo:coordSystem', function (system: string) {\r\n            if (self.coordSystem === system)\r\n                return;\r\n\r\n            self.coordSystem = system;\r\n\r\n            // if (self.coordSystem === 'world') {\r\n            //     self.updateGizmoRotationToMatchAttachedMesh = false;\r\n            // } else {\r\n            //     self.updateGizmoRotationToMatchAttachedMesh = true;\r\n            // }\r\n        });\r\n    }\r\n\r\n    public set updateGizmoRotationToMatchAttachedMesh(value: boolean) {\r\n        if (!value) {\r\n            BABYLON.Logger.Warn(\"Setting updateGizmoRotationToMatchAttachedMesh = false on scaling gizmo is not supported.\");\r\n        }\r\n        else {\r\n            this._updateGizmoRotationToMatchAttachedMesh = value;\r\n            [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n                if (gizmo) {\r\n                    gizmo.updateGizmoRotationToMatchAttachedMesh = value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public get updateGizmoRotationToMatchAttachedMesh() {\r\n        return this._updateGizmoRotationToMatchAttachedMesh;\r\n    }\r\n\r\n    /**\r\n     * Drag distance in babylon units that the gizmo will snap to when dragged (Default: 0)\r\n     */\r\n    public set snapDistance(value: number) {\r\n        this._snapDistance = value;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.snapDistance = value;\r\n            }\r\n        });\r\n    }\r\n    public get snapDistance() {\r\n        return this._snapDistance;\r\n    }\r\n\r\n    /**\r\n     * Ratio for the scale of the gizmo (Default: 1)\r\n     */\r\n    public set scaleRatio(value: number) {\r\n        this._scaleRatio = value;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.scaleRatio = value;\r\n            }\r\n        });\r\n    }\r\n    public get scaleRatio() {\r\n        return this._scaleRatio;\r\n    }\r\n\r\n    /**\r\n     * Sensitivity factor for dragging (Default: 1)\r\n     */\r\n    public set sensitivity(value: number) {\r\n        this._sensitivity = value;\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.sensitivity = value;\r\n            }\r\n        });\r\n    }\r\n    public get sensitivity() {\r\n        return this._sensitivity;\r\n    }\r\n\r\n    /**\r\n     * Disposes of the gizmo\r\n     */\r\n    public dispose() {\r\n        [this.xGizmo, this.yGizmo, this.zGizmo, this.uniformScaleGizmo].forEach((gizmo) => {\r\n            if (gizmo) {\r\n                gizmo.dispose();\r\n            }\r\n        });\r\n        this.onDragStartObservable.clear();\r\n        this.onDragEndObservable.clear();\r\n\r\n        [this._uniformScalingMesh, this._octahedron].forEach((msh) => {\r\n            if (msh) {\r\n                msh.dispose();\r\n            }\r\n        });\r\n    }\r\n}\r\n","export class Config{\r\n\r\n    public static projectID: string = 'projectID';\r\n    public static projectName: string;\r\n    public static scenesData: any;\r\n    public static sceneIndex: number = 0;\r\n    public static sceneID: string = 'sceneID';\r\n    public static sceneName: string;\r\n    public static lastScene: string;\r\n    public static userID: string;\r\n    public static username: string;\r\n\r\n    public static assetsData: any;\r\n\r\n    public static isSceneDirty: boolean = false;\r\n\r\n    // TODO: 暂时只允许加载一个表格\r\n    public static tableAssetsID: string = '';\r\n\r\n\r\n    public constructor () {\r\n\r\n    }\r\n\r\n}","export * from './config';","import { Panel, MenuItem, Menu, MenuItemArgs, TreeItem } from \"../../ui\";\r\nimport { Entity } from \"../entity\";\r\nimport { Observer } from \"../../lib\";\r\n\r\nexport class HierarchyContextMenu {\r\n\r\n  public root: Panel;\r\n  public clickableSubmenus: boolean;\r\n  public menu!: Menu;\r\n  public customMenuItems: MenuItemArgs[] = [];\r\n  public entity!: Entity;\r\n  public items = [];\r\n\r\n\r\n  public constructor() {\r\n    this.root = editor.call('layout.root');\r\n\r\n    this.clickableSubmenus = /clickableContextSubmenus=true/.test(location.search);\r\n\r\n    this.initMenu();\r\n    this.initFunction();\r\n\r\n  }\r\n\r\n\r\n  private initMenu(): void {\r\n    let that = this;\r\n    var menuData: { [key: string]: ContextMenuArgs } = {};\r\n\r\n    menuData['new-entity'] = {\r\n      title: 'New Entity',\r\n      className: 'menu-item-new-entity',\r\n      // filter: function () {\r\n      //   return that.items.length === 1;\r\n      // },\r\n      // select: function () {\r\n      //   editor.call('entities:new', { parent: that.items[0] });\r\n      // },\r\n      // \r\n      // items: editor.call('menu:entities:new', function () { return that.items[0]; })\r\n    };\r\n\r\n    menuData['add-component'] = {\r\n      title: 'Add Component',\r\n      className: 'menu-item-add-component',\r\n      // items: editor.call('menu:entities:add-component')\r\n      items: {\r\n        'add-new-entity': {\r\n          title: 'Entity',\r\n          className: 'menu-item-add-entity',\r\n          icon: '&#57632;'\r\n        },\r\n        'audio-sub-menu': {\r\n          title: 'Audio',\r\n          className: 'menu-item-audio-sub-menu',\r\n          icon: editor.call('components:logos')['sound'],\r\n          items: {\r\n            'add-new-entity2': {\r\n              title: '测试1',\r\n              className: 'menu-item-add-entity2',\r\n              icon: '&#57632;'\r\n            },\r\n            'audio-sub-menu2': {\r\n              title: '测试2',\r\n              className: 'menu-item-audio-sub-menu2',\r\n              icon: editor.call('components:logos')['sound']\r\n            } \r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    menuData['enable'] = {\r\n      title: 'Enable',\r\n      className: 'menu-item-enable',\r\n      icon: '&#57651;',\r\n      // hide: function () {\r\n      //   if (that.items.length === 1) {\r\n      //     return that.items[0].get('enabled');\r\n      //   } else {\r\n      //     var enabled = that.items[0].get('enabled');\r\n      //     for (var i = 1; i < that.items.length; i++) {\r\n      //       if (enabled !== that.items[i].get('enabled'))\r\n      //         return false;\r\n      //     }\r\n      //     return enabled;\r\n      //   }\r\n      // },\r\n      // select: function () {\r\n      //   setField('enabled', true);\r\n      // }\r\n    };\r\n\r\n    menuData['disable'] = {\r\n      title: 'Disable',\r\n      className: 'menu-item-disable',\r\n      icon: '&#57650;',\r\n      // hide: function () {\r\n      //   if (that.items.length === 1) {\r\n      //     return !that.items[0].get('enabled');\r\n      //   } else {\r\n      //     var disabled = that.items[0].get('enabled');\r\n      //     for (var i = 1; i < that.items.length; i++) {\r\n      //       if (disabled !== that.items[i].get('enabled'))\r\n      //         return false;\r\n      //     }\r\n      //     return !disabled;\r\n      //   }\r\n      // },\r\n      // select: function () {\r\n      //   setField('enabled', false);\r\n      // }\r\n    };\r\n\r\n    menuData['copy'] = {\r\n      title: 'Copy',\r\n      className: 'menu-item-copy',\r\n      icon: '&#58193;',\r\n      // select: function () {\r\n      //   editor.call('entities:copy', that.items);\r\n      // }\r\n    };\r\n\r\n    menuData['paste'] = {\r\n      title: 'Paste',\r\n      className: 'menu-item-paste',\r\n      icon: '&#58184;',\r\n      // filter: function () {\r\n      //   return that.items.length <= 1 && !editor.call('entities:clipboard:empty');\r\n      // },\r\n      // select: function () {\r\n      //   editor.call('entities:paste', that.entity);\r\n      // }\r\n    };\r\n\r\n    menuData['duplicate'] = {\r\n      title: 'Duplicate',\r\n      className: 'menu-item-duplicate',\r\n      icon: '&#57638;',\r\n      // filter: function () {\r\n      //   var items = getSelection();\r\n\r\n      //   if (items.indexOf(editor.call('entities:root')) !== -1)\r\n      //     return false;\r\n\r\n      //   return items.length > 0;\r\n      // },\r\n      // select: function () {\r\n      //   editor.call('entities:duplicate', getSelection());\r\n      // }\r\n    };\r\n\r\n    menuData['delete'] = {\r\n      title: 'Delete',\r\n      className: 'menu-item-delete',\r\n      icon: '&#57636;',\r\n      // filter: function () {\r\n      //   var root = editor.call('entities:root');\r\n      //   for (var i = 0; i < that.items.length; i++) {\r\n      //     if (that.items[i] === root)\r\n      //       return false;\r\n      //   }\r\n      //   return true;\r\n      // },\r\n      // select: function () {\r\n      //   editor.call('entities:delete', that.items);\r\n      // }\r\n    };\r\n\r\n    // menu\r\n    this.menu = Menu.fromData(menuData, { clickableSubmenus: this.clickableSubmenus });\r\n    this.root.append(this.menu);\r\n\r\n    // this.menu.on('open', function () {\r\n    //   var selection = getSelection();\r\n\r\n    //   for (var i = 0; i < that.customMenuItems.length; i++) {\r\n    //     if (!that.customMenuItems[i].filter)\r\n    //       continue;\r\n\r\n    //     that.customMenuItems[i].hidden = !that.customMenuItems[i].filter(selection);\r\n    //   }\r\n    // });\r\n\r\n  }\r\n\r\n\r\n  private getSelection() {\r\n    var selection = editor.call('selector:items');\r\n\r\n    if (selection.indexOf(this.entity) !== -1) {\r\n      return selection;\r\n    } else {\r\n      return [this.entity];\r\n    }\r\n  }\r\n\r\n\r\n  private initFunction(): void {\r\n\r\n    let that = this;\r\n\r\n    // TODO\r\n    // editor.method('entities:contextmenu:add', function (data: MenuItemArgs) {\r\n    //   var item = new MenuItem({\r\n    //     text: data.text,\r\n    //     icon: data.icon,\r\n    //     value: data.value,\r\n    //     hasChildren: !!(data.items && Object.keys(data.items).length > 0),\r\n    //     clickableSubmenus: that.clickableSubmenus\r\n    //   });\r\n\r\n    //   item.on('select', function () {\r\n    //     data.select.call(item, getSelection());\r\n    //   });\r\n\r\n    //   var parent = data.parent || that.menu;\r\n    //   parent.append(item);\r\n\r\n    //   if (data.filter)\r\n    //     item.filter = data.filter;\r\n\r\n    //   that.customMenuItems.push(item);\r\n\r\n    //   return item;\r\n    // });\r\n\r\n    editor.method('entities:contextmenu:open', function (item: TreeItem, x: number, y: number, ignoreSelection: boolean) {\r\n      // TODO\r\n      // if (!that.menu || !editor.call('permissions:write')) return;\r\n      if (!that.menu) return;\r\n      // that.entity = item;\r\n\r\n      // if (ignoreSelection) {\r\n      //   items = [];\r\n      // } else {\r\n      //   items = getSelection();\r\n      // }\r\n\r\n      that.menu.open = true;\r\n      that.menu.position(x + 1, y);\r\n\r\n      return true;\r\n    });\r\n\r\n    // get the entity that was right-clicked when opening the context menu\r\n    editor.method('entities:contextmenu:entity', function () {\r\n      return that.entity;\r\n    });\r\n\r\n    // for each entity added\r\n    editor.on('entities:add', function (item: Observer) {\r\n      // get tree item\r\n      var treeItem = editor.call('entities:panel:get', item.get('resource_id'));\r\n        if (! treeItem) return;\r\n\r\n      // attach contextmenu event\r\n      treeItem.element!.addEventListener('contextmenu', function (evt: MouseEvent) {\r\n        // console.log(\"context click: \" + item.element!.innerText);\r\n        let openned = editor.call('entities:contextmenu:open', item, evt.clientX, evt.clientY);\r\n\r\n        if (openned) {\r\n          evt.preventDefault();\r\n          evt.stopPropagation();\r\n        }\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\nexport interface ContextMenuArgs {\r\n  title?: string;\r\n  className?: string;\r\n  icon?: string;\r\n  filter?: () => boolean;\r\n  hide?: () => boolean;\r\n  select?: () => void;\r\n  items?: any;\r\n}","import { VeryEngine } from \"../../engine\";\r\nimport { Panel, Button, Tooltip, TopElementContainer, TopElementPanel } from \"../../ui\";\r\nimport { Observer } from \"../../lib\";\r\n\r\nexport class HierarchyControl {\r\n\r\n    public constructor() {\r\n\r\n        let root: TopElementContainer = VeryEngine.root;\r\n        let panel: TopElementPanel = VeryEngine.hierarchy;\r\n\r\n        // 层级菜单控制菜单\r\n        let controls = new TopElementContainer({\r\n            flex: true,\r\n            flexDirection: 'row',\r\n            alignItems: 'center',\r\n            // hidden: !editor.call('permissions:write')\r\n        });\r\n        controls.class!.add('hierarchy-controls');\r\n\r\n        // TODO: 分享项目给他人时，是否允许修改\r\n        // controls.hidden = !editor.call('permissions:write');\r\n        // editor.on('permissions:writeState', function (state: boolean) {\r\n        //     controls.hidden = !state;\r\n        // });\r\n\r\n        panel.header.append(controls);\r\n\r\n        // controls add\r\n        let btnAdd: Button = new Button('&#57632;');\r\n        btnAdd.class!.add('add');\r\n        btnAdd.on('click', function () {\r\n            // menuEntities.open = true;\r\n            // let rect = btnAdd.element.getBoundingClientRect();\r\n            // menuEntities.position(rect.left, rect.top);\r\n        });\r\n        controls.append(btnAdd);\r\n\r\n        Tooltip.attach({\r\n            target: btnAdd.element!,\r\n            text: '添加',\r\n            align: 'top',\r\n            root: root\r\n        });\r\n\r\n        editor.on('attributes:clear', function () {\r\n            btnDuplicate.disabled = true;\r\n            btnDelete.disabled = true;\r\n            tooltipDelete.class!.add('innactive');\r\n            tooltipDuplicate.class!.add('innactive');\r\n        });\r\n\r\n\r\n        // controls duplicate\r\n        let btnDuplicate: Button = new Button('&#57638;');\r\n        btnDuplicate.disabled = true;\r\n        btnDuplicate.class!.add('duplicate');\r\n        btnDuplicate.on('click', function () {\r\n            let type = editor.call('selector:type');\r\n            let items = editor.call('selector:items');\r\n\r\n            if (type === 'entity' && items.length)\r\n                editor.call('entities:duplicate', items);\r\n        });\r\n        controls.append(btnDuplicate);\r\n\r\n        let tooltipDuplicate = Tooltip.attach({\r\n            target: btnDuplicate.element!,\r\n            text: '复制',\r\n            align: 'top',\r\n            root: root\r\n        });\r\n        tooltipDuplicate.class!.add('innactive');\r\n\r\n        // controls delete (Button)\r\n        let btnDelete: Button = new Button('&#57636;');\r\n        btnDelete.class!.add('delete');\r\n        btnDelete.style!.fontWeight = '200';\r\n        btnDelete.on('click', function () {\r\n            let type = editor.call('selector:type');\r\n            if (type !== 'entity')\r\n                return;\r\n            editor.call('entities:delete', editor.call('selector:items'));\r\n        });\r\n        controls.append(btnDelete);\r\n\r\n        let tooltipDelete = Tooltip.attach({\r\n            target: btnDelete.element!,\r\n            text: '删除',\r\n            align: 'top',\r\n            root: root\r\n        });\r\n        tooltipDelete.class!.add('innactive');\r\n\r\n        // TODO: Menu\r\n        // let menuEntities = ui.Menu.fromData(editor.call('menu:entities:new'));\r\n        // root.append(menuEntities);\r\n\r\n        \r\n\r\n        // TODO: 选择到了hierarchy的scene一行\r\n        editor.on('attributes:inspect[*]', function (type: string, items: Observer[]) {\r\n            var root = editor.call('entities:root');\r\n\r\n            if (type === 'entity' && items[0] !== root) {\r\n                btnDelete.enabled = true;\r\n                btnDuplicate.enabled = true;\r\n                tooltipDelete.class!.remove('innactive');\r\n                tooltipDuplicate.class!.remove('innactive');\r\n            } else {\r\n                btnDelete.enabled = false;\r\n                btnDuplicate.enabled = false;\r\n                tooltipDelete.class!.add('innactive');\r\n                tooltipDuplicate.class!.add('innactive');\r\n            }\r\n        });\r\n\r\n    }\r\n}","export class HierarchyMenu {\r\n\r\n\r\n\r\n  public constructor () {\r\n    let componentsLogos = editor.call('components:logos');\r\n\r\n    \r\n\r\n  }\r\n\r\n\r\n\r\n\r\n}","import { Panel, Button, Tooltip, Tree, TreeItem, TopElementPanel, ReparentDragItems } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\nimport { HierarchySearch } from './hierarchy-search';\r\nimport { HierarchyMenu } from './hierarchy-menu';\r\nimport { HierarchyContextMenu } from './hierarchy-context-menu';\r\nimport { Observer } from '../../lib';\r\nimport { Config } from '../global';\r\nimport { BabylonLoader } from '../middleware/loader/babylonLoader';\r\n\r\nexport class HierarchyPanel {\r\n\r\n    // hierarchy index\r\n    private uiItemIndex: { [key: string]: TreeItem } = {};\r\n\r\n\r\n    public constructor() {\r\n\r\n\r\n\r\n        this.init();\r\n\r\n    }\r\n\r\n    public init(): void {\r\n\r\n        let self = this;\r\n        // left control\r\n        // hierarchy index\r\n        // let uiItemIndex: any = {};\r\n        let awaitingParent: any = {};\r\n        let panel: TopElementPanel = VeryEngine.hierarchy;\r\n\r\n        let hierarchy: Tree = new Tree();\r\n        VeryEngine.hierarchyTree = hierarchy;\r\n\r\n        let rootParent: TreeItem;\r\n\r\n        // TODO: hierarchy权限管理，有些人可看不可编辑；\r\n        // hierarchy.allowRenaming = editor.call('permissions:write');\r\n        hierarchy.draggable = hierarchy.allowRenaming;\r\n        hierarchy.class!.add('hierarchy');\r\n        panel.append(hierarchy);\r\n\r\n        let resizeQueued = false;\r\n        let resizeTree = function () {\r\n            resizeQueued = false;\r\n            hierarchy.element!.style.width = '';\r\n            hierarchy.element!.style.width = (panel.content.dom!.scrollWidth - 5) + 'px';\r\n        };\r\n        let resizeQueue = function () {\r\n            if (resizeQueued) return;\r\n            resizeQueued = true;\r\n            requestAnimationFrame(resizeTree);\r\n        };\r\n        panel.on('resize', resizeQueue);\r\n        hierarchy.on('open', resizeQueue);\r\n        hierarchy.on('close', resizeQueue);\r\n        setInterval(resizeQueue, 1000);\r\n\r\n        // return hierarchy\r\n        editor.method('entities:hierarchy', function () {\r\n            return hierarchy;\r\n        });\r\n\r\n        // list item selected\r\n        hierarchy.on('select', function (item: TreeItem) {\r\n            // open items till parent\r\n            let parent = item.parent;\r\n            while (parent && parent instanceof TreeItem) {\r\n                parent.open = true;\r\n                parent = parent.parent;\r\n            }\r\n            // focus\r\n            item.elementTitle.focus();\r\n            // add selection\r\n            // TODO\r\n            // console.log('hierarchy 面板选中entity');\r\n            // console.log(item.entity);\r\n\r\n            // TODO: 当前entity为undefined\r\n            editor.call('selector:add', 'entity', item.entity);\r\n        });\r\n\r\n        // list item deselected\r\n        hierarchy.on('deselect', function (item: TreeItem) {\r\n            // TODO:\r\n            // console.log('selector:remove entity');\r\n            editor.call('selector:remove', item.entity);\r\n        });\r\n\r\n        // scrolling on drag\r\n        let dragScroll = 0;\r\n        let dragTimer: NodeJS.Timer | null = null;;\r\n        let dragLastEvt;\r\n        let dragEvt = function (evt: MouseEvent) {\r\n            if (!hierarchy._dragging) {\r\n                clearInterval(Number(dragTimer));\r\n                window.removeEventListener('mousemove', dragEvt);\r\n                return;\r\n            }\r\n            let rect = panel.content.dom!.getBoundingClientRect();\r\n\r\n            if ((evt.clientY - rect.top) < 32 && panel.content.dom!.scrollTop > 0) {\r\n                dragScroll = -1;\r\n            } else if ((rect.bottom - evt.clientY) < 32 && (panel.content.dom!.scrollHeight - (rect.height + panel.content.dom!.scrollTop)) > 0) {\r\n                dragScroll = 1;\r\n            } else {\r\n                dragScroll = 0;\r\n            }\r\n        };\r\n\r\n        hierarchy.on('dragstart', function () {\r\n            dragTimer = setInterval(function () {\r\n                if (dragScroll === 0)\r\n                    return;\r\n\r\n                panel.content.dom!.scrollTop += dragScroll * 8;\r\n                hierarchy._dragOver = null;\r\n                hierarchy._updateDragHandle();\r\n            }, 1000 / 60);\r\n\r\n            dragScroll = 0;\r\n            window.addEventListener('mousemove', dragEvt, false);\r\n\r\n            // TODO:\r\n            // console.log('get drag TreeItem entity resourceId');\r\n\r\n            let resourceId = hierarchy._dragItems[0].entity.get('resource_id');\r\n            editor.call('drop:set', 'entity', { resource_id: resourceId });\r\n            editor.call('drop:activate', true);\r\n        });\r\n\r\n        hierarchy.on('dragend', function () {\r\n            // console.log('hierarchy panel drag end');\r\n            editor.call('drop:activate', false);\r\n            editor.call('drop:set');\r\n        });\r\n\r\n        // TODO\r\n        let target = editor.call('drop:target', {\r\n            ref: panel.content.dom,\r\n            type: 'entity',\r\n            hole: true,\r\n            passThrough: true\r\n        });\r\n        target.element.style.outline = 'none';\r\n\r\n        // let classList = ['tree-item-entity', 'entity-id-' + 'ids-to-be-done', 'c-model'];\r\n        // if (isRoot) {\r\n        //   classList.push('tree-item-root');\r\n        // }\r\n\r\n        // let rootElement = new TreeItem({\r\n        //     text: 'Scene',\r\n        //     classList: classList\r\n        // });\r\n        // rootElement.class!.remove('c-model');\r\n        // hierarchy.element!.appendChild(rootElement.element!);\r\n        // hierarchy.emit('append', rootElement);\r\n\r\n\r\n        /*\r\n        for (let i: number = 0; i < 10; i++) {\r\n          let element1 = new TreeItem({\r\n            text: '物体名' + (i + 1),\r\n            classList: classList\r\n          });\r\n          editor.emit('entities:add', element1);\r\n          hierarchy.emit('append', element1);\r\n          rootElement.append(element1);\r\n    \r\n          for (let k = 0; k < 5; k++) {\r\n            let element2 = new TreeItem({\r\n              text: '子物体名' + (k + 1),\r\n              classList: classList\r\n            });\r\n            editor.emit('entities:add', element2);\r\n            hierarchy.emit('append', element2);\r\n            element1.append(element2);\r\n            for (let x = 0; x < 5; x++) {\r\n              let element3 = new TreeItem({\r\n                text: '二级子物体' + (x + 1),\r\n                classList: classList\r\n              });\r\n              editor.emit('entities:add', element3);\r\n              hierarchy.emit('append', element3);\r\n    \r\n              element2.append(element3);\r\n    \r\n            }\r\n          }\r\n        }\r\n        */\r\n\r\n        // reparenting\r\n        hierarchy.on('reparent', function (items: ReparentDragItems[]) {\r\n            var records: any = [];\r\n\r\n            var preserveTransform = !Tree._ctrl || !Tree._ctrl();\r\n\r\n            // make records and collect relevant data\r\n            for (var i = 0; i < items.length; i++) {\r\n                if (items[i].item.entity.reparenting)\r\n                    continue;\r\n\r\n                var record: any = {\r\n                    item: items[i].item,\r\n                    parent: (<TreeItem>items[i].item.parent!).entity,\r\n                    entity: items[i].item.entity,\r\n                    parentOld: (<TreeItem>items[i].old!).entity,\r\n                    resourceId: items[i].item.entity.get('resource_id'),\r\n                    parentId: (<TreeItem>items[i].item.parent).entity.get('resource_id'),\r\n                    parentIdOld: (<TreeItem>items[i].old!).entity.get('resource_id')\r\n                };\r\n\r\n                if (preserveTransform && record.entity) {\r\n                    record.position = record.entity.node.position.clone();\r\n                    record.rotation = record.entity.node.rotation.clone();\r\n                }\r\n\r\n                // relative entity\r\n                record.indOld = record.parentOld.get('children').indexOf(record.resourceId);\r\n\r\n                // console.error(record.parent);\r\n                // console.error(record.entity);\r\n                // console.error(record.parentOld);\r\n                // console.warn(record.item);\r\n                // console.warn(record.item.parent);\r\n                // console.warn(record.item.parent.element);\r\n                // console.warn(record.item.parent.element.childNodes);\r\n\r\n                record.indNew = Array.prototype.indexOf.call(record.item.parent.element.childNodes, record.item.element) - 1;\r\n\r\n                // console.warn(record.indNew);\r\n\r\n                records.push(record);\r\n            }\r\n\r\n            for (var i = 0; i < records.length; i++) {\r\n                var record = records[i];\r\n\r\n                record.entity.reparenting = true;\r\n\r\n                // record.parent.history.enabled = false;\r\n                // record.parentOld.history.enabled = false;\r\n                // record.entity.history.enabled = false;\r\n\r\n                if (record.parent === record.parentOld) {\r\n                    // move\r\n                    record.parent.removeValue('children', record.resourceId);\r\n                    record.parent.insert('children', record.resourceId, record.indNew + ((record.indNew > record.indOld) ? (records.length - 1 - i) : 0));\r\n                } else {\r\n                    // reparenting\r\n\r\n                    // remove from old parent\r\n                    record.parentOld.removeValue('children', record.resourceId);\r\n\r\n                    // add to new parent children\r\n                    if (record.indNew !== -1) {\r\n                        // before other item\r\n                        record.parent.insert('children', record.resourceId, record.indNew);\r\n                    } else {\r\n                        // at the end\r\n                        record.parent.insert('children', record.resourceId);\r\n                    }\r\n\r\n                    // set parent\r\n                    record.entity.set('parent', record.parentId);\r\n                }\r\n\r\n                BabylonLoader.updateSceneData(record.parentOld.get('resource_id'), record.parentOld._data2); \r\n                BabylonLoader.updateSceneData(record.parent.get('resource_id'), record.parent._data2);\r\n                BabylonLoader.updateSceneData(record.entity.get('resource_id'), record.entity._data2);\r\n                editor.call('make:scene:dirty');\r\n\r\n                if (preserveTransform && record.position) {\r\n                    // record.entity.node.position = record.position;\r\n                    // record.entity.node.rotation = record.rotation;\r\n\r\n                    // var localPosition = record.entity.node.position;\r\n                    // var localRotation = record.entity.node.rotation;\r\n                    // record.entity.set('position', [localPosition.x, localPosition.y, localPosition.z]);\r\n                    // record.entity.set('rotation', [localRotation.x, localRotation.y, localRotation.z]);\r\n                }\r\n\r\n                // record.parent.history.enabled = true;\r\n                // record.parentOld.history.enabled = true;\r\n                // record.entity.history.enabled = true;\r\n                record.entity.reparenting = false;\r\n            }\r\n\r\n            // TODO: history\r\n\r\n            resizeQueue();\r\n            // editor.call('viewport:render');\r\n        });\r\n\r\n        // selector add\r\n        editor.on('selector:add', function (entity: Observer, type: string) {\r\n            if (type !== 'entity')\r\n                return;\r\n\r\n            self.uiItemIndex[entity.get('resource_id')].selected = true;\r\n        });\r\n\r\n        // selector remove\r\n        editor.on('selector:remove', function (entity: Observer, type: string) {\r\n\r\n            if (type !== 'entity')\r\n                return;\r\n\r\n            self.uiItemIndex[entity.get('resource_id')].selected = false;\r\n        });\r\n\r\n        // selector change\r\n        editor.on('selector:change', function (type: string, items: Observer[]) {\r\n            if (type !== 'entity') {\r\n                hierarchy.clear();\r\n            } else {\r\n                var selected = hierarchy.selected;\r\n                var ids: any = {};\r\n\r\n                // build index of selected items\r\n                for (var i = 0; i < items.length; i++) {\r\n                    ids[items[i].get('resource_id')] = true;\r\n                };\r\n\r\n                // deselect unselected items\r\n                for (var i = 0; i < selected.length; i++) {\r\n                    if (!ids[selected[i].entity.get('resource_id')])\r\n                        selected[i].selected = false;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        // entity removed\r\n        editor.on('entities:remove', function (entity: Observer) {\r\n            self.uiItemIndex[entity.get('resource_id')].destroy();\r\n            resizeQueue();\r\n        });\r\n\r\n\r\n        // element.append();\r\n        var componentList: any;\r\n        // entity added\r\n        editor.on('entities:add', function (entity: Observer, isRoot: boolean) {\r\n\r\n            // console.log('add hierarchy entity: ' + entity.get('name'));\r\n            if (entity.get('type') === 'transformnode' || entity.get('type') === 'mesh') {\r\n                entity.node = VeryEngine.viewScene.getNodeByID(entity.get('resource_id'));\r\n            }\r\n            var classList = ['tree-item-entity', 'entity-id-' + entity.get('resource_id')];\r\n            if (isRoot) {\r\n                classList.push('tree-item-root');\r\n            }\r\n\r\n            var element = new TreeItem({\r\n                text: entity.get('name'),\r\n                classList: classList\r\n            });\r\n\r\n            if (!isRoot) {\r\n                if (entity.get('type') === 'camera') {\r\n                    element.class?.add('c-camera');\r\n                } else if (entity.get('type') === 'light') {\r\n                    element.class?.add('c-light');\r\n                } else {\r\n                    element.class?.add('c-model');\r\n                }\r\n            }\r\n\r\n\r\n            element.entity = entity;\r\n            element.enabled = entity.get('enabled');\r\n\r\n\r\n            if (!componentList)\r\n                componentList = editor.call('components:list');\r\n\r\n            // entity.reparenting = false;\r\n\r\n            // index\r\n            self.uiItemIndex[entity.get('resource_id')] = element;\r\n\r\n            // name change\r\n            entity.on('name:set', function (value: string) {\r\n                element.text = value;\r\n                resizeQueue();\r\n            });\r\n\r\n            entity.on('enabled:set', function (value: boolean) {\r\n                element.enabled = value;\r\n            });\r\n\r\n            entity.on('children:move', function (value: string, ind: number, indOld: number) {\r\n                var item = self.uiItemIndex[value];\r\n                if (!item || item.entity.reparenting)\r\n                    return;\r\n\r\n                element.remove(item);\r\n\r\n                var next = self.uiItemIndex[entity.get('children.' + (ind + 1))];\r\n                var after = null;\r\n                let isNext: boolean = next ? true : false;\r\n                if (next === item) {\r\n                    // next = null;\r\n                    isNext = false;\r\n\r\n                    if (ind > 0)\r\n                        after = self.uiItemIndex[entity.get('children.' + ind)]\r\n                }\r\n\r\n                if (item.parent)\r\n                    (<TreeItem>item.parent).remove(item);\r\n\r\n                if (next) {\r\n                    element.appendBefore(item, next);\r\n                } else if (after) {\r\n                    element.appendAfter(item, after);\r\n                } else {\r\n                    element.append(item);\r\n                }\r\n            });\r\n\r\n            // remove children\r\n            entity.on('children:remove', function (value: string) {\r\n                var item = self.uiItemIndex[value];\r\n                if (!item || item.entity.reparenting)\r\n                    return;\r\n\r\n                element.remove(item);\r\n            });\r\n\r\n            // add children\r\n            entity.on('children:insert', function (value: string, ind: number) {\r\n\r\n                // console.warn('children:insert in hierarchy-panel');\r\n                var item = self.uiItemIndex[value];\r\n\r\n                if (!item || item.entity.reparenting)\r\n                    return;\r\n\r\n                if (item.parent)\r\n                    (<TreeItem>item.parent).remove(item);\r\n\r\n                var next = self.uiItemIndex[entity.get('children.' + (ind + 1))];\r\n                if (next) {\r\n                    element.appendBefore(item, next);\r\n                } else {\r\n                    element.append(item);\r\n                }\r\n            });\r\n\r\n            // collaborators\r\n            var users = element.users = document.createElement('span');\r\n            users.classList.add('users');\r\n            element.elementTitle.appendChild(users);\r\n\r\n            // if (entity.get('root')) {\r\n            //     // root\r\n            //     hierarchy.append(element);\r\n            //     element.open = true;\r\n            // } else {\r\n            //     if(entity.get('parent') === editor.call('entities:root').get('resource_id')) {\r\n            //         rootParent.append(element);\r\n            //     }\r\n            // }\r\n\r\n            // var children = entity.get('children');\r\n            // if (children.length) {\r\n            //     for (var c = 0; c < children.length; c++) {\r\n            //         var child = self.uiItemIndex[children[c]];\r\n            //         if (!child) {\r\n            //             var err = 'Cannot find child entity ' + children[c];\r\n            //             editor.call('status:error', err);\r\n            //             console.error(err);\r\n            //             continue;\r\n            //         }\r\n            //         element.append(child);\r\n            //     }\r\n            // }\r\n\r\n            resizeQueue();\r\n\r\n        });\r\n\r\n\r\n        // append all treeItems according to child order\r\n        // 加载scene数据后，统一运行一遍，设定tree item\r\n        editor.on('entities:load', function (upload?: boolean) {\r\n            var entities = editor.call('entities:list');\r\n\r\n            // var datas: any = {};\r\n\r\n            // var path1: string = '';\r\n            // var path2: string = '';\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity = entities[i];\r\n                // if (upload) {\r\n                //     datas[entity.get('resource_id')] = entity.origin;\r\n                // }\r\n\r\n                // console.warn(entity.get('resource_id'));\r\n\r\n                // if (entity.get('asset') && entity.get('asset2')) {\r\n                //     path1 = entity.get('asset');\r\n                //     path2 = entity.get('asset2');\r\n                // }\r\n\r\n                var element = self.uiItemIndex[entity.get('resource_id')];\r\n\r\n                if (entity.get('root')) {\r\n                    // root\r\n                    hierarchy.append(element);\r\n                    element.open = true;\r\n                    rootParent = element;\r\n                }\r\n                // else {\r\n                //     if (entity.get('parent') === '') {\r\n                //         rootParent.append(element);\r\n                //     }\r\n                // }\r\n\r\n                var children = entity.get('children');\r\n                if (children.length) {\r\n                    for (var c = 0; c < children.length; c++) {\r\n                        var child = self.uiItemIndex[children[c]];\r\n                        if (!child) {\r\n                            var err = '父物体： ' + entity.get('name') + '，hierarchy菜单无法关联到子物体，子物体ID：' + children[c];\r\n                            editor.call('status:error', err);\r\n                            console.error(err);\r\n                            continue;\r\n                        }\r\n                        element.append(child);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // if (upload) {\r\n            //     axios.post('/api/addScene', { projectID: Config.projectID, entities: datas, path1: path1, path2: path2 })\r\n            //         .then(response => {\r\n            //             var data = response.data;\r\n            //             if (data.code === '0000') {\r\n            //                 console.log(data.data);\r\n            //             } else {\r\n            //                 console.error(data.message);\r\n            //             }\r\n            //         })\r\n            //         .catch(\r\n            //             error => {\r\n            //                 console.error(error);\r\n            //             }\r\n\r\n            //         );\r\n            // }\r\n\r\n            // if (path1 && path2 && !upload) {\r\n            //     editor.call('loadTempModel2', path1, path2);\r\n            // }\r\n        });\r\n    }\r\n\r\n}","import { List, TextField, ListItem, Panel, Tree, TopElementPanel } from \"../../ui\";\r\nimport { VeryEngine } from \"../../engine\";\r\nimport { Observer } from \"../../lib\";\r\n\r\nexport class HierarchySearch {\r\n\r\n\r\n    public constructor() {\r\n\r\n        editor.method('entities:fuzzy-search', function (query: string) {\r\n            var items = [];\r\n            var entities = editor.call('entities:list');\r\n\r\n            for (var i = 0; i < entities.length; i++)\r\n                items.push([entities[i].get('name'), entities[i]]);\r\n\r\n            return editor.call('search:items', items, query);\r\n        });\r\n\r\n\r\n        let panel: TopElementPanel = VeryEngine.hierarchy;\r\n        let hierarchy: Tree = editor.call('entities:hierarchy');\r\n        var changing = false;\r\n        var itemsIndex: { [key: string]: ListItem } = {};\r\n\r\n        // 结果列表\r\n        let results = new List();\r\n        results.element!.tabIndex = 0;\r\n        results.hidden = true;\r\n        results.class!.add('search-results');\r\n        panel.append(results);\r\n\r\n        var lastSearch = '';\r\n        var search = new TextField('搜索');\r\n        search.blurOnEnter = false;\r\n        search.keyChange = true;\r\n        search.class!.add('search');\r\n        search.renderChanges = false;\r\n        panel.prepend(search)\r\n        // panel.element!.insertBefore(search.element!, panel.innerElement);\r\n\r\n        var searchClear = document.createElement('div');\r\n        searchClear.innerHTML = '&#57650;';\r\n        searchClear.classList.add('clear');\r\n        search.element!.appendChild(searchClear);\r\n\r\n        searchClear.addEventListener('click', function () {\r\n            search.value = '';\r\n        }, false);\r\n\r\n\r\n\r\n        // clear on escape\r\n        results.element!.addEventListener('keydown', function (evt) {\r\n            if (evt.keyCode === 27) { // esc\r\n                searchClear.click();\r\n            } else if (evt.keyCode === 13) { // enter\r\n                // 搜索结果出现以后，按下enter键\r\n                if (!results.selected) {\r\n                    var firstElement = results.element!.firstChild;\r\n                    if (firstElement && (<HTMLElement>firstElement).ui && (<ListItem>(<HTMLElement>firstElement).ui).entity)\r\n                        editor.call('selector:set', 'entity', [(<ListItem>(<HTMLElement>firstElement).ui).entity]);\r\n                }\r\n                search.value = '';\r\n\r\n            } else if (evt.keyCode === 40) { // down\r\n                selectNext();\r\n                evt.stopPropagation();\r\n\r\n            } else if (evt.keyCode === 38) { // up\r\n                selectPrev();\r\n                evt.stopPropagation();\r\n            }\r\n        }, false);\r\n\r\n        // deselecting\r\n        results.unbind('deselect', results._onDeselect);\r\n        results._onDeselect = function (item: ListItem) {\r\n            var ind = results.selected.indexOf(item);\r\n            if (ind !== -1) results.selected.splice(ind, 1);\r\n\r\n            if (this._changing)\r\n                return;\r\n\r\n            if (List._ctrl && List._ctrl()) {\r\n\r\n            } else {\r\n                this._changing = true;\r\n\r\n                var items = editor.call('selector:type') === 'entity' && editor.call('selector:items') || [];\r\n                var inSelected = items.indexOf(item.entity) !== -1;\r\n\r\n                if (items.length >= 2 && inSelected) {\r\n                    var selected = this.selected;\r\n                    for (var i = 0; i < selected.length; i++)\r\n                        selected[i].selected = false;\r\n\r\n                    item.selected = true;\r\n                }\r\n\r\n                this._changing = false;\r\n            }\r\n\r\n            this.emit('change');\r\n        };\r\n        results.on('deselect', results._onDeselect);\r\n\r\n        // results selection change\r\n        results.on('change', function () {\r\n            if (changing)\r\n                return;\r\n\r\n            if (results.selected) {\r\n                editor.call('selector:set', 'entity', results.selected.map(function (item) {\r\n                    return item.entity;\r\n                }));\r\n            } else {\r\n                editor.call('selector:clear');\r\n            }\r\n        });\r\n\r\n        // selector change\r\n        editor.on('selector:change', function (type: string, items: Observer[]) {\r\n            if (changing)\r\n                return;\r\n\r\n            changing = true;\r\n\r\n            if (type === 'entity') {\r\n                results.selected = [];\r\n\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var item = itemsIndex[items[i].get('resource_id')];\r\n                    if (!item) continue;\r\n                    item.selected = true;\r\n                }\r\n            } else {\r\n                results.selected = [];\r\n            }\r\n\r\n            changing = false;\r\n        });\r\n\r\n        var selectNext = function () {\r\n            // list item\r\n            var children = results.element!.children;\r\n\r\n            // could be nothing or only one item to select\r\n            if (!children.length)\r\n                return;\r\n\r\n            var toSelect = null;\r\n            // 被选择的item\r\n            var items = results.element!.querySelectorAll('.ui-list-item.selected');\r\n            var multi = (List._ctrl && List._ctrl()) || (List._shift && List._shift());\r\n\r\n            if (items.length) {\r\n                var last = items[items.length - 1];\r\n                var next = last.nextSibling; // 下一个list item\r\n                if (next) {\r\n                    // select next\r\n                    toSelect = (<HTMLElement>next).ui;\r\n                } else {\r\n                    // loop through\r\n                    if (!multi) toSelect = (<HTMLElement>children[0]).ui;\r\n                }\r\n            } else {\r\n                // select first\r\n                toSelect = (<HTMLElement>children[0]).ui;\r\n            }\r\n\r\n            if (toSelect) {\r\n                if (!multi) results.selected = [];\r\n                (<ListItem>toSelect).selected = true;\r\n            }\r\n        };\r\n\r\n        var selectPrev = function () {\r\n            var children = results.element!.children;\r\n\r\n            // could be nothing or only one item to select\r\n            if (!children.length)\r\n                return;\r\n\r\n            var toSelect = null;\r\n            var items = results.element!.querySelectorAll('.ui-list-item.selected');\r\n            var multi = (List._ctrl && List._ctrl()) || (List._shift && List._shift());\r\n\r\n            if (items.length) {\r\n                var first = items[0];\r\n                var prev = first.previousSibling;\r\n                if (prev) {\r\n                    // select previous\r\n                    toSelect = (<HTMLElement>prev).ui;\r\n                } else {\r\n                    // loop through\r\n                    if (!multi) toSelect = (<HTMLElement>children[children.length - 1]).ui;\r\n                }\r\n            } else {\r\n                // select last\r\n                toSelect = (<HTMLElement>children[children.length - 1]).ui;\r\n            }\r\n\r\n            if (toSelect) {\r\n                if (!multi) results.selected = [];\r\n                (<ListItem>toSelect).selected = true;\r\n            }\r\n        };\r\n\r\n        search.element!.addEventListener('keydown', function (evt: KeyboardEvent) {\r\n            if (evt.keyCode === 27) {\r\n                searchClear.click();\r\n\r\n            } else if (evt.keyCode === 13) {\r\n                if (!results.selected.length) {\r\n                    var firstElement = results.element!.firstChild;\r\n                    if (firstElement && (<HTMLElement>firstElement).ui && (<ListItem>(<HTMLElement>firstElement).ui).entity)\r\n                        editor.call('selector:set', 'entity', [(<ListItem>(<HTMLElement>firstElement).ui).entity]);\r\n                }\r\n                search.value = '';\r\n\r\n            } else if (evt.keyCode === 40) { // down\r\n                editor.call('hotkey:updateModifierKeys', evt);\r\n                selectNext();\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n\r\n            } else if (evt.keyCode === 38) { // up\r\n                editor.call('hotkey:updateModifierKeys', evt);\r\n                selectPrev();\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n\r\n            } else if (evt.keyCode === 65 && evt.ctrlKey) { // ctrl + a\r\n                var toSelect: ListItem[] = [];\r\n\r\n                var items = results.element!.querySelectorAll('.ui-list-item');\r\n                for (var i = 0; i < items.length; i++)\r\n                    toSelect.push(<ListItem>(<HTMLElement>items[i]).ui);\r\n\r\n                results.selected = toSelect;\r\n\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n            }\r\n        }, false);\r\n\r\n\r\n        // if entity added, check if it maching query\r\n        editor.on('entities:add', function (entity: Observer) {\r\n            var query = search.value.trim();\r\n            if (!query)\r\n                return;\r\n\r\n            var items = [[entity.get('name'), entity]];\r\n            var result = editor.call('search:items', items, query);\r\n\r\n            if (!result.length)\r\n                return;\r\n\r\n            performSearch();\r\n        });\r\n\r\n        var addItem = function (entity: Observer) {\r\n            var events: any = [];\r\n\r\n            var item = new ListItem(entity.get('name'));\r\n            item.disabledClick = true;\r\n            item.entity = entity;\r\n\r\n            if (entity.get('children').length)\r\n                item.class!.add('container');\r\n\r\n            // relate to tree item\r\n            var treeItem = editor.call('entities:panel:get', entity.get('resource_id'));\r\n\r\n            item.disabled = treeItem.disabled;\r\n\r\n            var onStateChange = function () {\r\n                item.disabled = treeItem.disabled;\r\n            };\r\n\r\n            events.push(treeItem.on('enable', onStateChange));\r\n            events.push(treeItem.on('disable', onStateChange));\r\n\r\n            var onNameSet = function (name: string) {\r\n                item.text = name;\r\n            };\r\n            // TODO\r\n            events.push(entity.on('name:set', onNameSet));\r\n\r\n            // icon\r\n            var components = Object.keys(entity.get('components'));\r\n            for (var c = 0; c < components.length; c++)\r\n                item.class!.add('c-' + components[c]);\r\n\r\n            var onContextMenu = function (evt: MouseEvent) {\r\n                var openned = editor.call('entities:contextmenu:open', entity, evt.clientX, evt.clientY);\r\n\r\n                if (openned) {\r\n                    evt.preventDefault();\r\n                    evt.stopPropagation();\r\n                }\r\n            };\r\n\r\n            var onDblClick = function (evt: MouseEvent) {\r\n                search.value = '';\r\n                editor.call('selector:set', 'entity', [entity]);\r\n\r\n                evt.stopPropagation();\r\n                evt.preventDefault();\r\n            };\r\n\r\n            item.element!.addEventListener('contextmenu', onContextMenu);\r\n            item.element!.addEventListener('dblclick', onDblClick);\r\n\r\n            events.push(item.once('destroy', function () {\r\n                for (var i = 0; i < events.length; i++)\r\n                    events[i].unbind();\r\n                events = null;\r\n\r\n                item.element!.removeEventListener('contextmenu', onContextMenu);\r\n                item.element!.removeEventListener('dblclick', onDblClick);\r\n            }));\r\n\r\n            events.push(treeItem.once('destroy', function () {\r\n                // if entity removed, perform search again\r\n                performSearch();\r\n            }));\r\n\r\n            return item;\r\n        };\r\n\r\n        var performSearch = function () {\r\n            var query = lastSearch;\r\n\r\n            // clear results list\r\n            results.clear();\r\n            itemsIndex = {};\r\n\r\n            if (query) {\r\n                var result = editor.call('entities:fuzzy-search', query);\r\n\r\n                hierarchy.hidden = true;\r\n                results.hidden = false;\r\n\r\n                var selected = [];\r\n                if (editor.call('selector:type') === 'entity')\r\n                    selected = editor.call('selector:items');\r\n\r\n                for (var i = 0; i < result.length; i++) {\r\n                    var item = addItem(result[i]);\r\n\r\n                    itemsIndex[result[i].get('resource_id')] = item;\r\n\r\n                    if (selected.indexOf(result[i]) !== -1)\r\n                        item.selected = true;\r\n\r\n                    results.append(item);\r\n                }\r\n            } else {\r\n                results.hidden = true;\r\n                hierarchy.hidden = false;\r\n            }\r\n        };\r\n\r\n        search.on('change', function (value: string) {\r\n            value = value.trim();\r\n\r\n            if (lastSearch === value) return;\r\n            lastSearch = value;\r\n\r\n            if (value) {\r\n                search.class!.add('not-empty');\r\n            } else {\r\n                search.class!.remove('not-empty');\r\n            }\r\n\r\n            performSearch();\r\n        });\r\n\r\n    }\r\n\r\n\r\n}","export * from './keeper';\r\nexport * from './hierarchy-panel';\r\nexport * from './hierarchy-menu';\r\nexport * from './hierarchy-control';\r\nexport * from './hierarchy-search';\r\n\r\n\r\nexport * from './hierarchy-context-menu';","import { Panel, Button, Tooltip, Tree, TreeItem } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\nimport { HierarchySearch } from './hierarchy-search';\r\nimport { HierarchyMenu } from './hierarchy-menu';\r\nimport { HierarchyContextMenu } from './hierarchy-context-menu';\r\nimport { HierarchyPanel } from './hierarchy-panel';\r\nimport { HierarchyControl } from './hierarchy-control';\r\n\r\nexport class HierarchyKeeper {\r\n\r\n  // public hierarchyMain: Panel;\r\n\r\n  public constructor() {\r\n    // this.hierarchyMain = new Panel();\r\n    // this.hierarchyMain.class!.add('hierarchy-controls');\r\n    // this.hierarchyMain.parent = VeryEngine.hierarchyPanel;\r\n    // VeryEngine.hierarchyPanel.headerAppend(this.hierarchyMain);\r\n    // // console.log('hierarchy-controls');\r\n\r\n    // // controls delete (Button)\r\n    // let btnDelete: Button = new Button('&#57636;');\r\n    // btnDelete.class!.add('delete');\r\n    // btnDelete.style!.fontWeight = '200';\r\n    // btnDelete.on('click', function () {\r\n    //   let type = editor.call('selector:type');\r\n    //   if (type !== 'entity')\r\n    //     return;\r\n    //   editor.call('entities:delete', editor.call('selector:items'));\r\n    // });\r\n    // this.hierarchyMain.append(btnDelete);\r\n\r\n    // let tooltipDelete = Tooltip.attach({\r\n    //   target: btnDelete.element!,\r\n    //   text: '删除',\r\n    //   align: 'top',\r\n    //   root: VeryEngine.rootPanel\r\n    // });\r\n    // tooltipDelete.class!.add('innactive');\r\n\r\n    // // controls duplicate\r\n    // let btnDuplicate: Button = new Button('&#57638;');\r\n    // btnDuplicate.disabled = true;\r\n    // btnDuplicate.class!.add('duplicate');\r\n    // btnDuplicate.on('click', function () {\r\n    //   let type = editor.call('selector:type');\r\n    //   let items = editor.call('selector:items');\r\n\r\n    //   if (type === 'entity' && items.length)\r\n    //     editor.call('entities:duplicate', items);\r\n    // });\r\n    // this.hierarchyMain.append(btnDuplicate);\r\n\r\n    // let tooltipDuplicate = Tooltip.attach({\r\n    //   target: btnDuplicate.element!,\r\n    //   text: '复制',\r\n    //   align: 'top',\r\n    //   root: VeryEngine.rootPanel\r\n    // });\r\n    // tooltipDuplicate.class!.add('innactive');\r\n\r\n    // // TODO: Menu\r\n    // // let menuEntities = ui.Menu.fromData(editor.call('menu:entities:new'));\r\n    // // root.append(menuEntities);\r\n\r\n    // // controls add\r\n    // let btnAdd: Button = new Button('&#57632;');\r\n    // btnAdd.class!.add('add');\r\n    // btnAdd.on('click', function () {\r\n    //   // menuEntities.open = true;\r\n    //   // let rect = btnAdd.element.getBoundingClientRect();\r\n    //   // menuEntities.position(rect.left, rect.top);\r\n    // });\r\n    // this.hierarchyMain.append(btnAdd);\r\n\r\n    // Tooltip.attach({\r\n    //   target: btnAdd.element!,\r\n    //   text: '添加',\r\n    //   align: 'top',\r\n    //   root: VeryEngine.rootPanel\r\n    // });\r\n\r\n    // hierarchy panel\r\n    let hierarchyMainPanel = new HierarchyPanel();\r\n\r\n    // 全局菜单\r\n    let contextMenuLogo = new HierarchyMenu();\r\n    let controlMenu = new HierarchyControl();\r\n\r\n    // 搜索区域：Search Field\r\n    let searchField = new HierarchySearch();\r\n\r\n    \r\n\r\n    let contextMenu = new HierarchyContextMenu();\r\n\r\n  }\r\n\r\n\r\n}","import { BabylonLoader } from \"./middleware/loader/babylonLoader\";\r\n\r\nexport class Hotkeys {\r\n\r\n    public static ctrl: boolean = false;\r\n    public static shift: boolean = false;\r\n    public static alt: boolean = false;\r\n\r\n    private hotkeys: { [key: string]: HotKeyArgs } = {};\r\n    private keyIndex: { [key: string]: string[] } = {};\r\n    // private keysDown = {};\r\n\r\n    private isMac: boolean = navigator.userAgent.indexOf('Mac OS X') !== -1;\r\n\r\n    private keyByKeyCode: { [key: number]: string } = {};\r\n    private keyByCode: { [key: string]: string } = {};\r\n\r\n    private keyMap: { [key: string]: { keyCode: number, code: string | string[] } } = {};\r\n\r\n    public constructor() {\r\n        this.keyMapInit();\r\n\r\n        let self = this;\r\n\r\n        editor.method('hotkey:register', function (name: string, args: HotKeyArgs) {\r\n            self.hotkeys[name] = args;\r\n\r\n            // keys list\r\n            let keys: string[] = [args.ctrl ? '1' : '0', args.alt ? '1' : '0', args.shift ? '1' : '0'];\r\n\r\n            // map keyCode to key\r\n            if (typeof (args.key) === 'number')\r\n                args.key = self.keyByKeyCode[args.key];\r\n\r\n            // unknown key\r\n            if (!args.key) {\r\n                console.error('未知的hotkeys: ' + name + ', ' + args.key);\r\n                return;\r\n            }\r\n\r\n            keys.push(args.key);\r\n\r\n            args.index = keys.join('+');\r\n\r\n            if (!self.keyIndex[args.index])\r\n                self.keyIndex[args.index] = [];\r\n\r\n            self.keyIndex[args.index].push(name);\r\n        });\r\n\r\n        editor.method('hotkey:unregister', function (name: string) {\r\n            let hotkey: HotKeyArgs = self.hotkeys[name];\r\n            if (!hotkey) return;\r\n\r\n            if (self.keyIndex[hotkey.index!].length === 1) {\r\n                delete self.keyIndex[hotkey.index!];\r\n            } else {\r\n                self.keyIndex[hotkey.index!].splice(self.keyIndex[hotkey.index!].indexOf(name), 1);\r\n            }\r\n\r\n            delete self.hotkeys[name];\r\n        });\r\n\r\n\r\n        editor.method('hotkey:shift', function () {\r\n            return Hotkeys.shift;\r\n        });\r\n\r\n        editor.method('hotkey:ctrl', function () {\r\n            return Hotkeys.ctrl;\r\n        });\r\n\r\n        editor.method('hotkey:alt', function () {\r\n            return Hotkeys.alt;\r\n        });\r\n\r\n        let updateModifierKeys: (evt: Event) => void = function (evt: Event): void {\r\n            if (evt instanceof KeyboardEvent || evt instanceof MouseEvent) {\r\n                // console.warn(evt);\r\n                Hotkeys.shift = evt.shiftKey;\r\n                Hotkeys.ctrl = evt.ctrlKey || evt.metaKey;\r\n                Hotkeys.alt = evt.altKey;\r\n            }\r\n        };\r\n        editor.method('hotkey:updateModifierKeys', updateModifierKeys);\r\n\r\n        window.addEventListener('keydown', function (evt: KeyboardEvent) {\r\n            if (evt.target) {\r\n                let tag: string = (<HTMLElement>evt.target).tagName;\r\n                if (/(input)|(textarea)/i.test(tag) && !(<HTMLElement>evt.target).classList.contains('hotkeys'))\r\n                    return;\r\n            }\r\n\r\n            updateModifierKeys(evt);\r\n\r\n            let key: string = evt.code ? self.keyByCode[evt.code] : self.keyByKeyCode[evt.keyCode];\r\n\r\n            if (evt.keyCode === 92 || evt.keyCode === 93)\r\n                return;\r\n\r\n            let index: string = [Hotkeys.ctrl ? '1' : '0', Hotkeys.alt ? '1' : '0', Hotkeys.shift ? '1' : '0', key].join('+');\r\n\r\n            if (self.keyIndex[index]) {\r\n                let skipPreventDefault: boolean = false;\r\n                for (let i: number = 0; i < self.keyIndex[index].length; i++) {\r\n                    if (!skipPreventDefault && self.hotkeys[self.keyIndex[index][i]].skipPreventDefault)\r\n                        skipPreventDefault = true;\r\n\r\n                    self.hotkeys[self.keyIndex[index][i]].callback(evt);\r\n                }\r\n                if (!skipPreventDefault)\r\n                    evt.preventDefault();\r\n            }\r\n        }, false);\r\n\r\n        // Returns Ctrl or Cmd for Mac\r\n        editor.method('hotkey:ctrl:string', function () {\r\n            return self.isMac ? 'Cmd' : 'Ctrl';\r\n        });\r\n\r\n\r\n        window.addEventListener('keyup', updateModifierKeys, false);\r\n        window.addEventListener('mousedown', updateModifierKeys, false);\r\n        window.addEventListener('mouseup', updateModifierKeys, false);\r\n        window.addEventListener('click', updateModifierKeys, false);\r\n\r\n        // save scene\r\n        editor.call('hotkey:register', 'save:scene', {\r\n            key: 's',\r\n            ctrl: true,\r\n            callback: function () {\r\n                editor.call('save:scene');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    private keyMapInit(): void {\r\n        this.keyMap = {\r\n            'backspace': {\r\n                keyCode: 8,\r\n                code: 'Backspace'\r\n            },\r\n            'tab': {\r\n                keyCode: 9,\r\n                code: 'Tab',\r\n            },\r\n            'enter': {\r\n                keyCode: 13,\r\n                code: ['enter', 'NumpadEnter', 'Enter'],\r\n            },\r\n            'shift': {\r\n                keyCode: 16,\r\n                code: ['ShiftLeft', 'ShiftRight'],\r\n            },\r\n            'ctrl': {\r\n                keyCode: 17,\r\n                code: ['CtrlLeft', 'CtrlRight'],\r\n            },\r\n            'alt': {\r\n                keyCode: 18,\r\n                code: ['AltLeft', 'AltRight'],\r\n            },\r\n            'pause/break': {\r\n                keyCode: 19,\r\n                code: 'Pause',\r\n            },\r\n            'caps lock': {\r\n                keyCode: 20,\r\n                code: 'CapsLock',\r\n            },\r\n            'esc': {\r\n                keyCode: 27,\r\n                code: 'Escape',\r\n            },\r\n            'space': {\r\n                keyCode: 32,\r\n                code: 'Space',\r\n            },\r\n            'page up': {\r\n                keyCode: 33,\r\n                code: 'PageUp'\r\n            },\r\n            'page down': {\r\n                keyCode: 34,\r\n                code: 'PageDown'\r\n            },\r\n            'end': {\r\n                keyCode: 35,\r\n                code: 'End'\r\n            },\r\n            'home': {\r\n                keyCode: 36,\r\n                code: 'Home'\r\n            },\r\n            'left arrow': {\r\n                keyCode: 37,\r\n                code: 'ArrowLeft'\r\n            },\r\n            'up arrow': {\r\n                keyCode: 38,\r\n                code: 'ArrowUp'\r\n            },\r\n            'right arrow': {\r\n                keyCode: 39,\r\n                code: 'ArrowRight'\r\n            },\r\n            'down arrow': {\r\n                keyCode: 40,\r\n                code: 'ArrowDown'\r\n            },\r\n            'insert': {\r\n                keyCode: 45,\r\n                code: 'Insert'\r\n            },\r\n            'delete': {\r\n                keyCode: 46,\r\n                code: 'Delete'\r\n            },\r\n            '0': {\r\n                keyCode: 48,\r\n                code: 'Digit0'\r\n            },\r\n            '1': {\r\n                keyCode: 49,\r\n                code: 'Digit1'\r\n            },\r\n            '2': {\r\n                keyCode: 50,\r\n                code: 'Digit2'\r\n            },\r\n            '3': {\r\n                keyCode: 51,\r\n                code: 'Digit3'\r\n            },\r\n            '4': {\r\n                keyCode: 52,\r\n                code: 'Digit4'\r\n            },\r\n            '5': {\r\n                keyCode: 53,\r\n                code: 'Digit5'\r\n            },\r\n            '6': {\r\n                keyCode: 54,\r\n                code: 'Digit6'\r\n            },\r\n            '7': {\r\n                keyCode: 55,\r\n                code: 'Digit7'\r\n            },\r\n            '8': {\r\n                keyCode: 56,\r\n                code: 'Digit8'\r\n            },\r\n            '9': {\r\n                keyCode: 57,\r\n                code: 'Digit9'\r\n            },\r\n            'a': {\r\n                keyCode: 65,\r\n                code: 'KeyA'\r\n            },\r\n            'b': {\r\n                keyCode: 66,\r\n                code: 'KeyB'\r\n            },\r\n            'c': {\r\n                keyCode: 67,\r\n                code: 'KeyC'\r\n            },\r\n            'd': {\r\n                keyCode: 68,\r\n                code: 'KeyD'\r\n            },\r\n            'e': {\r\n                keyCode: 69,\r\n                code: 'KeyE'\r\n            },\r\n            'f': {\r\n                keyCode: 70,\r\n                code: 'KeyF'\r\n            },\r\n            'g': {\r\n                keyCode: 71,\r\n                code: 'KeyG'\r\n            },\r\n            'h': {\r\n                keyCode: 72,\r\n                code: 'KeyH'\r\n            },\r\n            'i': {\r\n                keyCode: 73,\r\n                code: 'KeyI'\r\n            },\r\n            'j': {\r\n                keyCode: 74,\r\n                code: 'KeyJ'\r\n            },\r\n            'k': {\r\n                keyCode: 75,\r\n                code: 'KeyK'\r\n            },\r\n            'l': {\r\n                keyCode: 76,\r\n                code: 'KeyL'\r\n            },\r\n            'm': {\r\n                keyCode: 77,\r\n                code: 'KeyM'\r\n            },\r\n            'n': {\r\n                keyCode: 78,\r\n                code: 'KeyN'\r\n            },\r\n            'o': {\r\n                keyCode: 79,\r\n                code: 'KeyO'\r\n            },\r\n            'p': {\r\n                keyCode: 80,\r\n                code: 'KeyP'\r\n            },\r\n            'q': {\r\n                keyCode: 81,\r\n                code: 'KeyQ'\r\n            },\r\n            'r': {\r\n                keyCode: 82,\r\n                code: 'KeyR'\r\n            },\r\n            's': {\r\n                keyCode: 83,\r\n                code: 'KeyS'\r\n            },\r\n            't': {\r\n                keyCode: 84,\r\n                code: 'KeyT'\r\n            },\r\n            'u': {\r\n                keyCode: 85,\r\n                code: 'KeyU'\r\n            },\r\n            'v': {\r\n                keyCode: 86,\r\n                code: 'KeyV'\r\n            },\r\n            'w': {\r\n                keyCode: 87,\r\n                code: 'KeyW'\r\n            },\r\n            'x': {\r\n                keyCode: 88,\r\n                code: 'KeyX'\r\n            },\r\n            'y': {\r\n                keyCode: 89,\r\n                code: 'KeyY'\r\n            },\r\n            'z': {\r\n                keyCode: 90,\r\n                code: 'KeyZ'\r\n            },\r\n            'left window key': {\r\n                keyCode: 91,\r\n                code: 'MetaLeft'\r\n            },\r\n            'right window key': {\r\n                keyCode: 92,\r\n                code: 'MetaRight'\r\n            },\r\n            'select key': {\r\n                keyCode: 93,\r\n                code: 'ContextMenu'\r\n            },\r\n            'numpad 0': {\r\n                keyCode: 96,\r\n                code: 'Numpad0'\r\n            },\r\n            'numpad 1': {\r\n                keyCode: 97,\r\n                code: 'Numpad1'\r\n            },\r\n            'numpad 2': {\r\n                keyCode: 98,\r\n                code: 'Numpad2'\r\n            },\r\n            'numpad 3': {\r\n                keyCode: 99,\r\n                code: 'Numpad3'\r\n            },\r\n            'numpad 4': {\r\n                keyCode: 100,\r\n                code: 'Numpad4'\r\n            },\r\n            'numpad 5': {\r\n                keyCode: 101,\r\n                code: 'Numpad5'\r\n            },\r\n            'numpad 6': {\r\n                keyCode: 102,\r\n                code: 'Numpad6'\r\n            },\r\n            'numpad 7': {\r\n                keyCode: 103,\r\n                code: 'Numpad7'\r\n            },\r\n            'numpad 8': {\r\n                keyCode: 104,\r\n                code: 'Numpad8'\r\n            },\r\n            'numpad 9': {\r\n                keyCode: 105,\r\n                code: 'Numpad9'\r\n            },\r\n            'multiply': {\r\n                keyCode: 106,\r\n                code: 'NumpadMultiply'\r\n            },\r\n            'add': {\r\n                keyCode: 107,\r\n                code: 'NumpadAdd'\r\n            },\r\n            'subtract': {\r\n                keyCode: 109,\r\n                code: 'NumpadSubtract'\r\n            },\r\n            'decimal point': {\r\n                keyCode: 110,\r\n                code: 'NumpadDecimal'\r\n            },\r\n            'divide': {\r\n                keyCode: 111,\r\n                code: 'NumpadDivide'\r\n            },\r\n            'f1': {\r\n                keyCode: 112,\r\n                code: 'F1'\r\n            },\r\n            'f2': {\r\n                keyCode: 113,\r\n                code: 'F2'\r\n            },\r\n            'f3': {\r\n                keyCode: 114,\r\n                code: 'F3'\r\n            },\r\n            'f4': {\r\n                keyCode: 115,\r\n                code: 'F4'\r\n            },\r\n            'f5': {\r\n                keyCode: 116,\r\n                code: 'F5'\r\n            },\r\n            'f6': {\r\n                keyCode: 117,\r\n                code: 'F6'\r\n            },\r\n            'f7': {\r\n                keyCode: 118,\r\n                code: 'F7'\r\n            },\r\n            'f8': {\r\n                keyCode: 119,\r\n                code: 'F8'\r\n            },\r\n            'f9': {\r\n                keyCode: 120,\r\n                code: 'F9'\r\n            },\r\n            'f10': {\r\n                keyCode: 121,\r\n                code: 'F10'\r\n            },\r\n            'f11': {\r\n                keyCode: 122,\r\n                code: 'F11'\r\n            },\r\n            'f12': {\r\n                keyCode: 123,\r\n                code: 'F12'\r\n            },\r\n            'num lock': {\r\n                keyCode: 144,\r\n                code: 'NumLock'\r\n            },\r\n            'scroll lock': {\r\n                keyCode: 145,\r\n                code: 'ScrollLock'\r\n            },\r\n            'semi-colon': {\r\n                keyCode: 186,\r\n                code: 'Semicolon'\r\n            },\r\n            'equal sign': {\r\n                keyCode: 187,\r\n                code: 'Equal'\r\n            },\r\n            'comma': {\r\n                keyCode: 188,\r\n                code: 'Comma'\r\n            },\r\n            'dash': {\r\n                keyCode: 189,\r\n                code: 'Minus'\r\n            },\r\n            'period': {\r\n                keyCode: 190,\r\n                code: 'Period'\r\n            },\r\n            'forward slash': {\r\n                keyCode: 191,\r\n                code: ''\r\n            },\r\n            'grave accent': {\r\n                keyCode: 192,\r\n                code: 'Backquote'\r\n            },\r\n            'open bracket': {\r\n                keyCode: 219,\r\n                code: 'BracketLeft'\r\n            },\r\n            'back slash': {\r\n                keyCode: 220,\r\n                code: ['Backslash', 'IntlBackslash']\r\n            },\r\n            'close bracket': {\r\n                keyCode: 221,\r\n                code: 'BracketRight'\r\n            },\r\n            'single quote': {\r\n                keyCode: 222,\r\n                code: 'Quote'\r\n            },\r\n        };\r\n\r\n        for (let key in this.keyMap) {\r\n            this.keyByKeyCode[this.keyMap[key].keyCode] = key;\r\n\r\n            if (this.keyMap[key].code instanceof Array) {\r\n                for (let i: number = 0; i < this.keyMap[key].code.length; i++) {\r\n                    this.keyByCode[this.keyMap[key].code[i]] = key;\r\n                }\r\n            } else {\r\n                this.keyByCode[<string>(this.keyMap[key].code)] = key;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport interface HotKeyArgs {\r\n    key: string | number;\r\n    callback: (evt?: Event) => void;\r\n    ctrl?: boolean;\r\n    alt?: boolean;\r\n    shift?: boolean;\r\n    skipPreventDefault?: boolean;\r\n    index?: string\r\n}","export * from './initialize-before';\r\nexport * from './editor';\r\nexport * from './layout';\r\nexport * from './viewport';\r\nexport * from './hierarchy';\r\nexport * from './hotkeys';\r\nexport * from './entity';\r\nexport * from './assets';\r\nexport * from './scenes';\r\nexport * from './toolbar';\r\nexport * from './utility';\r\nexport * from './middleware';\r\nexport * from './initialize-after';\r\nexport * from './localstorage';\r\nexport * from './search';\r\nexport * from './drop';\r\nexport * from './global';\r\nexport * from './Initialize-data';\r\nexport * from './gizmos';\r\n","import { AttributesPanel, AttributesEntity, AttributesReference, AttributesKeeper } from \"./attributes\";\r\nimport { ToolbarKeeper } from \"./toolbar\";\r\nimport { ViewportKeeper } from \"./viewport/keeper\";\r\nimport { EntityKeeper } from \"./entity\";\r\nimport { ScenesKeeper } from \"./scenes\";\r\n\r\n\r\nexport class InitializeAfter {\r\n\r\n\r\n  public constructor() {\r\n\r\n    // entity\r\n    let entity = new EntityKeeper();\r\n\r\n    // scenes\r\n    new ScenesKeeper();\r\n\r\n    // attributes\r\n    let attributes = new AttributesKeeper();\r\n\r\n    // toolbar\r\n    let toolbar = new ToolbarKeeper();\r\n\r\n    // viewport\r\n    new ViewportKeeper();\r\n\r\n  }\r\n\r\n\r\n}","import { Hotkeys } from \"./hotkeys\";\r\nimport { ComponentsLogos, ContextMenu } from \"./utility\";\r\nimport { Selector } from \"./selector\";\r\nimport { Realtime } from \"./web/realtime\";\r\nimport { LocalStorage } from \"./localstorage\";\r\n\r\nexport class InitializeBefore {\r\n\r\n    public constructor() {\r\n\r\n        editor.method('permissions:write', () => {\r\n            return true;\r\n        });\r\n\r\n        this.init();\r\n    }\r\n\r\n    private init(): void {\r\n\r\n        // axois默认请求头设置，全局通过json方式传送和接收数据\r\n        // axios.defaults.headers.post[\"Content-Type\"] = \"application/json\";\r\n\r\n        // 全局快捷键注册\r\n        let hotkeys = new Hotkeys();\r\n\r\n        // localstorage\r\n        let localstorage = new LocalStorage();\r\n\r\n        // components-logos\r\n        let logos = new ComponentsLogos();\r\n\r\n        // 屏蔽浏览器默认右键菜单\r\n        let systemContextMenu = new ContextMenu();\r\n\r\n        // selector \r\n        let selector = new Selector();\r\n\r\n        // Websocket\r\n        // let io = new Realtime();\r\n\r\n    }\r\n\r\n}","import { Panel, TopElementContainer, TopElementPanel } from '../ui';\r\nimport { VeryEngine } from '../engine';\r\n\r\nexport class Layout {\r\n\r\n    private ignoreClasses: RegExp = /(ui-list-item)|(ui-button)|(ui-text-field)|(ui-number-field)/i;\r\n    private ignoreElements: RegExp = /(input)|(textarea)/i;\r\n\r\n\r\n    public constructor() {\r\n        let self = this;\r\n        // prevent drag'n'select\r\n        window.addEventListener('mousedown', function (evt) {\r\n            // don't prevent for certain cases\r\n            if (evt.target) {\r\n                if (self.ignoreClasses.test((<HTMLElement>evt.target).className)) {\r\n                    return;\r\n                } else if (self.ignoreElements.test((<HTMLElement>evt.target).tagName)) {\r\n                    return;\r\n                } else if ((<HTMLElement>evt.target).classList.contains('selectable')) {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // blur inputs\r\n            if (window.getSelection) {\r\n                let focusNode = window.getSelection()!.focusNode;\r\n                if (focusNode) {\r\n                    if ((<HTMLElement>focusNode).tagName === 'INPUT') {\r\n                        (<HTMLElement>focusNode).blur();\r\n                    } else if (focusNode.firstChild && (<HTMLElement>focusNode.firstChild).tagName === 'INPUT') {\r\n                        (<HTMLElement>focusNode.firstChild).blur();\r\n                    }\r\n                }\r\n            }\r\n\r\n            // prevent default will prevent blur, dragstart and selection\r\n            evt.preventDefault();\r\n        }, false);\r\n    }\r\n\r\n    public init(): void {\r\n        // main container\r\n        var root = new TopElementContainer({\r\n            id: 'layout-root',\r\n            grid: true\r\n        });\r\n        document.body.appendChild(root.dom!);\r\n        // expose\r\n        editor.method('layout.root', function () {\r\n            return root;\r\n        });\r\n        VeryEngine.root = root;\r\n\r\n        // toolbar (left)\r\n        var toolbar = new TopElementContainer({\r\n            id: 'layout-toolbar',\r\n            flex: true\r\n        });\r\n        root.append(toolbar);\r\n        // expose\r\n        editor.method('layout.toolbar', function () { return toolbar; });\r\n        VeryEngine.toolbar = toolbar;\r\n\r\n        // hierarchy\r\n        var hierarchyPanel = new TopElementPanel({\r\n            headerText: '层级菜单',\r\n            id: 'layout-hierarchy',\r\n            flex: true,\r\n            enabled: false,\r\n            width: editor.call('localStorage:get', 'editor:layout:hierarchy:width') || 256,\r\n            panelType: 'normal',\r\n            collapsible: true,\r\n            collapseHorizontally: true,\r\n            collapsed: editor.call('localStorage:get', 'editor:layout:hierarchy:collapse') || window.innerWidth <= 480,\r\n            scrollable: true,\r\n            resizable: 'right',\r\n            resizeMin: 196,\r\n            resizeMax: 512\r\n        });\r\n\r\n        hierarchyPanel.on('resize', function () {\r\n            editor.call('localStorage:set', 'editor:layout:hierarchy:width', hierarchyPanel.width);\r\n        });\r\n        hierarchyPanel.on('collapse', function () {\r\n            editor.call('localStorage:set', 'editor:layout:hierarchy:collapse', true);\r\n        });\r\n        hierarchyPanel.on('expand', function () {\r\n            editor.call('localStorage:set', 'editor:layout:hierarchy:collapse', false);\r\n        });\r\n\r\n        root.append(hierarchyPanel);\r\n        // expose\r\n        editor.method('layout.hierarchy', function () { return hierarchyPanel; });\r\n\r\n        editor.on('permissions:writeState', function (state: boolean) {\r\n            hierarchyPanel.enabled = state;\r\n        });\r\n        VeryEngine.hierarchy = hierarchyPanel;\r\n\r\n\r\n        // viewport\r\n        var viewport = new TopElementContainer({\r\n            id: 'layout-viewport'\r\n        });\r\n        viewport.class!.add('viewport');\r\n        root.append(viewport);\r\n        // expose\r\n        editor.method('layout.viewport', function () { return viewport; });\r\n        VeryEngine.viewportPanel = viewport;\r\n\r\n        // assets\r\n        var assetsPanel = new TopElementPanel({\r\n            id: 'layout-assets',\r\n            headerText: '资源面板',\r\n            flex: true,\r\n            flexDirection: 'row',\r\n            panelType: 'normal',\r\n            collapsible: true,\r\n            collapsed: editor.call('localStorage:get', 'editor:layout:assets:collapse') || window.innerHeight <= 480,\r\n            height: editor.call('localStorage:get', 'editor:layout:assets:height') || 212,\r\n            scrollable: true,\r\n            resizable: 'top',\r\n            resizeMin: 106,\r\n            resizeMax: 106 * 6\r\n        });\r\n        assetsPanel.class!.add('assets');\r\n\r\n        assetsPanel.on('resize', function () {\r\n            editor.call('localStorage:set', 'editor:layout:assets:height', assetsPanel.height);\r\n        });\r\n        assetsPanel.on('collapse', function () {\r\n            editor.call('localStorage:set', 'editor:layout:assets:collapse', true);\r\n        });\r\n        assetsPanel.on('expand', function () {\r\n            editor.call('localStorage:set', 'editor:layout:assets:collapse', false);\r\n        });\r\n\r\n        root.append(assetsPanel);\r\n        // expose\r\n        editor.method('layout.assets', function () { return assetsPanel; });\r\n        VeryEngine.assets = assetsPanel;\r\n\r\n        // attributes\r\n        var attributesPanel = new TopElementPanel({\r\n            id: 'layout-attributes',\r\n            headerText: 'INSPECTOR',\r\n            enabled: false,\r\n            panelType: 'normal',\r\n            width: editor.call('localStorage:get', 'editor:layout:attributes:width') || 320,\r\n            collapsible: true,\r\n            collapseHorizontally: true,\r\n            collapsed: editor.call('localStorage:get', 'editor:layout:attributes:collapse') || false,\r\n            scrollable: true,\r\n            resizable: 'left',\r\n            resizeMin: 256,\r\n            resizeMax: 512\r\n        });\r\n        attributesPanel.class!.add('attributes');\r\n\r\n        attributesPanel.on('resize', function () {\r\n            editor.call('localStorage:set', 'editor:layout:attributes:width', attributesPanel.width);\r\n        });\r\n        attributesPanel.on('collapse', function () {\r\n            editor.call('localStorage:set', 'editor:layout:attributes:collapse', true);\r\n        });\r\n        attributesPanel.on('expand', function () {\r\n            editor.call('localStorage:set', 'editor:layout:attributes:collapse', false);\r\n        });\r\n\r\n        root.append(attributesPanel);\r\n        // expose\r\n        editor.method('layout.attributes', function () { return attributesPanel; });\r\n        editor.on('permissions:writeState', function (state: boolean) {\r\n            attributesPanel.enabled = state;\r\n        });\r\n        VeryEngine.attributes = attributesPanel;\r\n\r\n        // status bar\r\n        var statusBar = new TopElementContainer({\r\n            id: 'layout-statusbar',\r\n            flex: true,\r\n            flexDirection: 'row'\r\n        });\r\n        root.append(statusBar);\r\n        // expose\r\n        editor.method('layout.statusBar', function () { return statusBar; });\r\n        VeryEngine.statusBar = statusBar;\r\n\r\n        if (window.innerWidth <= 720) {\r\n            // attributesPanel.folded = true;\r\n            console.warn('folder');\r\n        }\r\n            \r\n\r\n    }\r\n\r\n\r\n}","export class LocalStorage {\r\n\r\n    public constructor() {\r\n        // Get a key from the local storage\r\n        editor.method('localStorage:get', function (key: string) {\r\n            var value = localStorage.getItem(key);\r\n            if (value) {\r\n                try {\r\n                    value = JSON.parse(value);\r\n                } catch (e) {\r\n                    console.error(e);\r\n                }\r\n            }\r\n\r\n            return value;\r\n        });\r\n\r\n        // Set a key-value pair in localStorage\r\n        editor.method('localStorage:set', function (key: string, value: any) {\r\n            localStorage.setItem(key, JSON.stringify(value));\r\n        });\r\n\r\n        // Returns true if the key exists in the local storage\r\n        editor.method('localStorage:has', function (key: string) {\r\n            return !!localStorage.getItem(key);\r\n        });\r\n    }\r\n}","import { Transform } from \"./transform\";\r\nimport { GameObject } from \"./gameobject\";\r\n\r\nexport class Component {\r\n\r\n\r\n  public get transform(): Transform {\r\n    return new Transform();\r\n  }\r\n\r\n  public get gameObject(): GameObject {\r\n    return new GameObject();\r\n  }\r\n\r\n  public get tag(): string {\r\n    return '';\r\n  }\r\n\r\n  public get camera(): Component {\r\n    return new Component();\r\n  }\r\n\r\n\r\n  public get light(): Component {\r\n    return new Component();\r\n  }\r\n\r\n  public get renderer(): Component {\r\n    return new Component();\r\n  }\r\n\r\n  public get collider(): Component {\r\n    return new Component();\r\n  }\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n\r\n\r\n}","import { Transform } from \"./transform\";\r\nimport { BabylonEngine } from \"../../engine\";\r\n\r\nexport class GameObject {\r\n\r\n\r\n  public get gameObject(): GameObject {\r\n    return this;\r\n  }\r\n\r\n  public get transform(): Transform {\r\n    return this._transform;\r\n  }\r\n  public set transform(val: Transform) {\r\n    this._transform = val;\r\n  }\r\n  private _transform: Transform;\r\n\r\n  public get name(): string {\r\n    return this.transform.name;\r\n  }\r\n  public set name(val: string) {\r\n    this.transform.name = val;\r\n  }\r\n\r\n  private _guid: string = '';\r\n  public get guid(): string {\r\n    return this._guid;\r\n  }\r\n  public set guid(val: string) {\r\n    this._guid = val;\r\n  }\r\n\r\n  public get isEmpty(): boolean {\r\n    return this._transform.isEmpty;\r\n  }\r\n\r\n  public get mesh(): Nullable<BABYLON.AbstractMesh> {\r\n    return this._transform.mesh;\r\n  }\r\n\r\n  private _tag: string = '';\r\n  public get tag(): string {\r\n    return this._tag;\r\n  }\r\n  public set tag(val: string) {\r\n    this._tag = val;\r\n  }\r\n\r\n  public get isActive(): boolean {\r\n    return this.isEmpty ? false : this.transform.transformNode!.isEnabled();\r\n  }\r\n\r\n  constructor(name?: string, mesh: Nullable<BABYLON.AbstractMesh> = null, node: Nullable<BABYLON.TransformNode> = null) {\r\n    if (mesh) {\r\n      this._transform = new Transform('', mesh);\r\n    } else {\r\n      if (node) {\r\n        this._transform = new Transform('', null, node);\r\n      } else if (name) {\r\n        this._transform = new Transform(name);\r\n      } else {\r\n        this._transform = new Transform();\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public static Find(name: string, scene?: BABYLON.Scene): Nullable<GameObject> {\r\n    if (!scene) {\r\n      scene = BabylonEngine.Scene;\r\n    }\r\n    let node: Nullable<BABYLON.Node> = scene.getNodeByName(name);\r\n    if (!node) {\r\n      return null;\r\n    } else {\r\n      if (node instanceof BABYLON.AbstractMesh) {\r\n        return new GameObject('', <BABYLON.AbstractMesh>node);\r\n      } else if (node instanceof BABYLON.TransformNode) {\r\n        return new GameObject('', null, <BABYLON.TransformNode>node);\r\n      } else {\r\n        console.error('GameObject.Find函数查找到不支持的类型：' + node.getClassName());\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  public static FindGameObjectWithTag(tag: string): void {\r\n\r\n  }\r\n\r\n  public static FindGameObjectsWithTag(tag: string): void {\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  // TODO\r\n  public static Destroy(obj: GameObject): void {\r\n    if (obj) {\r\n      obj.transform.destroy();\r\n    }\r\n  }\r\n\r\n\r\n  public static CreateInstance(game_object: GameObject): Nullable<GameObject> {\r\n    if (!game_object) {\r\n      return null;\r\n    }\r\n\r\n    if (game_object.isEmpty) {\r\n      return new GameObject();\r\n    } else {\r\n      if (game_object.transform.mesh) {\r\n        let tempMesh: BABYLON.AbstractMesh;\r\n        if (game_object.transform.mesh instanceof BABYLON.Mesh) {\r\n          tempMesh = (<BABYLON.Mesh>game_object.transform.mesh).createInstance(game_object.name + '_instance');\r\n        } else {\r\n          tempMesh = (<BABYLON.InstancedMesh>game_object.transform.mesh).sourceMesh.createInstance(game_object.name + '_instance');\r\n        }\r\n        return new GameObject('', tempMesh);\r\n      } else {\r\n        let newNode: Nullable<BABYLON.TransformNode> = game_object.transform.transformNode!.clone(game_object.name + '_intance');\r\n        return new GameObject('', null, newNode);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public addMesh(mesh: BABYLON.AbstractMesh): void {\r\n    // 删除空物体\r\n    if (this._transform.mesh === null && this._transform.transformNode) {\r\n      this._transform.transformNode.dispose();\r\n    }\r\n    this._transform.mesh = mesh;\r\n  }\r\n\r\n  public setActive(value: boolean): void {\r\n\r\n  }\r\n\r\n  public setActiveRecursively(value: boolean): void {\r\n\r\n  }\r\n\r\n  public static AddComponent(): void {\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  // public static empty(name: string): GameObject {\r\n\r\n  // }\r\n\r\n}","export * from './transform';\r\nexport * from './gameobject';\r\nexport * from './component';\r\nexport * from './resource-container';","import { Tools, AjaxRequest, Ajax, GUID } from \"../../../editor/utility\";\r\nimport { Observer } from \"../../../lib\";\r\nimport { VeryEngine } from \"../../../engine\";\r\nimport { Config } from \"../../../editor/global\";\r\n\r\nexport class BabylonLoader {\r\n\r\n\r\n    public static prefix: string = '/assets/';\r\n\r\n    public static assetsData: any = {};\r\n    public static projectData: any = {};\r\n    public static scenesData: any = {};\r\n    public static sceneIndex: number = 0;\r\n\r\n\r\n    public static babylonCacheData: { [key: string]: any } = {};\r\n    public static babylonParsedData: { [key: string]: any } = {};\r\n\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public static loadFromBabylonAsset() {\r\n\r\n    }\r\n\r\n\r\n    public static loadBabylon(asset: Observer) {\r\n        let assetID: string = asset.get('id');\r\n        let dataBabylon: any = null;\r\n        if (BabylonLoader.babylonCacheData[assetID]) {\r\n            dataBabylon = BabylonLoader.babylonCacheData[assetID];\r\n            BabylonLoader.parseBabylon(assetID, dataBabylon);\r\n            BabylonLoader.assembleBabylon(assetID, dataBabylon);\r\n        } else {\r\n            var data1 = {\r\n                url: BabylonLoader.prefix + asset.get('id') + '/' + asset.get('name'),\r\n                method: 'GET',\r\n                // auth: true,\r\n                data: null,\r\n                ignoreContentType: true,\r\n                // headers: {\r\n                //     Accept: 'application/json'\r\n                // }\r\n            };\r\n\r\n            // 直接返回babylon json格式内容数据\r\n            (<AjaxRequest>new Ajax(data1))\r\n                .on('load', (status: any, data: any) => {\r\n\r\n                    dataBabylon = data;\r\n                    BabylonLoader.babylonCacheData[assetID] = dataBabylon;\r\n                    BabylonLoader.parseBabylon(assetID, dataBabylon);\r\n                    BabylonLoader.assembleBabylon(assetID, dataBabylon);\r\n                }).on('error', (evt: any) => {\r\n                    console.error(evt);\r\n                });;\r\n        }\r\n    }\r\n\r\n\r\n    public static assembleBabylon(assetID: string, dataBabylon: any) {\r\n        if (dataBabylon !== null) {\r\n            console.warn(dataBabylon);\r\n            console.log(dataBabylon.meshes);\r\n            console.log(dataBabylon.materials);\r\n            console.log(dataBabylon.lights);\r\n\r\n            // if (dataBabylon.lights) {\r\n            //     dataBabylon.lights.forEach((element: any) => {\r\n            //         BabylonLoader.loadLight(element, VeryEngine.viewScene);\r\n            //     });\r\n            // }\r\n\r\n            // material assemble\r\n            if (BabylonLoader.assetsData.babylon[assetID]) {\r\n                let mats = BabylonLoader.assetsData.babylon[assetID]['materials'];\r\n                let newMats = [];\r\n                for (let key in mats) {\r\n                    if (mats[key].asset_id && BabylonLoader.assetsData.assets[mats[key].asset_id]) {\r\n                        let newMat = BabylonLoader.assetsData.assets[mats[key].asset_id].data;\r\n                        // 检测texture\r\n                        if (newMat.diffuseTexture && newMat.diffuseTexture.texture_id) {\r\n                            newMat.diffuseTexture.name = BabylonLoader.prefix + newMat.diffuseTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.diffuseTexture.texture_id].name;\r\n                            // console.warn(newMat.diffuseTexture.name);\r\n                        }\r\n                        if (newMat.specularTexture && newMat.specularTexture.texture_id) {\r\n                            newMat.specularTexture.name = BabylonLoader.prefix + newMat.specularTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.specularTexture.texture_id].name;\r\n                        }\r\n                        if (newMat.reflectionTexture && newMat.reflectionTexture.texture_id) {\r\n                            newMat.reflectionTexture.name = BabylonLoader.prefix + newMat.reflectionTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.reflectionTexture.texture_id].name;\r\n                        }\r\n                        if (newMat.refractionTexture && newMat.refractionTexture.texture_id) {\r\n                            newMat.refractionTexture.name = BabylonLoader.prefix + newMat.refractionTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.refractionTexture.texture_id].name;\r\n                        }\r\n                        if (newMat.emissiveTexture && newMat.emissiveTexture.texture_id) {\r\n                            newMat.emissiveTexture.name = BabylonLoader.prefix + newMat.emissiveTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.emissiveTexture.texture_id].name;\r\n                        }\r\n                        if (newMat.bumpTexture && newMat.bumpTexture.texture_id) {\r\n                            newMat.bumpTexture.name = BabylonLoader.prefix + newMat.bumpTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.bumpTexture.texture_id].name;\r\n                        }\r\n                        if (newMat.opacityTexture && newMat.opacityTexture.texture_id) {\r\n                            newMat.opacityTexture.name = BabylonLoader.prefix + newMat.opacityTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.opacityTexture.texture_id].name;\r\n                        }\r\n                        if (newMat.ambientTexture && newMat.ambientTexture.texture_id) {\r\n                            newMat.ambientTexture.name = BabylonLoader.prefix + newMat.ambientTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.ambientTexture.texture_id].name;\r\n                        }\r\n                        if (newMat.lightmapTexture && newMat.lightmapTexture.texture_id) {\r\n                            newMat.lightmapTexture.name = BabylonLoader.prefix + newMat.lightmapTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.lightmapTexture.texture_id].name;\r\n                        }\r\n\r\n                        newMats.push(newMat);\r\n                    }\r\n                }\r\n\r\n                newMats.forEach((element: any) => {\r\n                    // console.error(element);\r\n                    BabylonLoader.loadMaterial(element, VeryEngine.viewScene, '');\r\n                });\r\n            }\r\n\r\n            // geometries assemble\r\n            if (dataBabylon.geometries && dataBabylon.geometries.vertexData) {\r\n                dataBabylon.geometries.vertexData.array.forEach((parsedVertexData: any) => {\r\n                    BabylonLoader.loadGeometry(parsedVertexData, VeryEngine.viewScene, '');\r\n                });\r\n            }\r\n\r\n            // transformNode assemble\r\n            let newTransformNodes: Nullable<BABYLON.TransformNode>[] = [];\r\n            if (dataBabylon.transformNodes) {\r\n                dataBabylon.transformNodes.forEach((parsedTransformNode: any) => {\r\n                    let node = BabylonLoader.loadTransformNode(parsedTransformNode, VeryEngine.viewScene, '');\r\n                    newTransformNodes.push(node);\r\n                });\r\n            }\r\n\r\n            // mesh assemble\r\n            let newMeshes: Nullable<BABYLON.AbstractMesh>[] = [];\r\n            let parentMeshes: Nullable<BABYLON.AbstractMesh>[] = [];\r\n\r\n            let tempMeshDic: { [key: string]: Nullable<BABYLON.AbstractMesh> } = {};\r\n\r\n            let tempMeshID: { [key: string]: string } = {};\r\n\r\n            if (dataBabylon.meshes) {\r\n                dataBabylon.meshes.forEach((element: any) => {\r\n                    // 若当前scene数据中已包含mesh id，则重新创建resource_id\r\n                    if (BabylonLoader.scenesData.entities[element.id]) {\r\n                        let newID = GUID.create();\r\n                        let oldID = element.id;\r\n                        // element['babylon_id'] = oldID;\r\n                        tempMeshID[newID] = oldID;\r\n                        element.id = newID;\r\n                        // 遍历，更改parentID\r\n                        dataBabylon.meshes.forEach((element2: any) => {\r\n                            if (element2.parentId === oldID) {\r\n                                element2.parentId = newID;\r\n                                console.log('change parent id');\r\n                            }\r\n                        });\r\n                    } else {\r\n                        tempMeshID[element.id] = element.id;\r\n                        // element['babylon_id'] = element.id;\r\n                    }\r\n                    // console.error(element);\r\n                });\r\n\r\n                dataBabylon.meshes.forEach((element: any) => {\r\n                    let tempMesh = BabylonLoader.loadMesh(element, VeryEngine.viewScene, '');\r\n                    newMeshes.push(tempMesh);\r\n                    tempMeshDic[element.id] = tempMesh;\r\n                });\r\n            }\r\n\r\n            // parent \r\n            // TODO: 若不为root，则mesh这里也要设定父子关系，parent为null则为当前选中物体\r\n            let parent = null;\r\n            let parentNode: Nullable<BABYLON.Node> = null;\r\n            if (editor.call('selector:type') === 'entity')\r\n                parent = editor.call('selector:items')[0];\r\n\r\n            if (!parent) {\r\n                parent = editor.call('entities:root');\r\n            } else {\r\n                // console.warn(parent);\r\n                // console.warn(parent.node);\r\n                if (parent.node) {\r\n                    parentNode = parent.node;\r\n                }\r\n            }\r\n\r\n\r\n            var entities: any[] = [];\r\n            var data: any[] = [];\r\n\r\n            // TODO: 还没有考虑有transformNode数据的情况\r\n            for (let index = 0, cache = newTransformNodes.length; index < cache; index++) {\r\n                var transformNode = newTransformNodes[index];\r\n                if (transformNode && transformNode._waitingParentId) {\r\n                    transformNode.parent = VeryEngine.viewScene.getLastEntryByID(transformNode._waitingParentId);\r\n                    transformNode._waitingParentId = null;\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = newMeshes.length; i < len; i++) {\r\n                if (newMeshes[i] !== null) {\r\n                    if (newMeshes[i]!._waitingParentId) {\r\n                        if (tempMeshDic[newMeshes[i]!._waitingParentId!]) {\r\n                            newMeshes[i]!.parent = tempMeshDic[newMeshes[i]!._waitingParentId!];\r\n                        } else {\r\n                            newMeshes[i]!.parent = parentNode;\r\n                            parentMeshes.push(newMeshes[i]);\r\n                        }\r\n                    } else {\r\n                        newMeshes[i]!.parent = parentNode;\r\n                        parentMeshes.push(newMeshes[i]);\r\n                    }\r\n                    newMeshes[i]!._waitingParentId = null;\r\n                    // console.warn(newMeshes[i]);\r\n                }\r\n            }\r\n\r\n\r\n\r\n            for (let i = 0; i < parentMeshes.length; i++) {\r\n                BabylonLoader.meshParseRecursion(parentMeshes[i], assetID, tempMeshID, entities, data);\r\n            }\r\n\r\n            editor.call('selector:history', false);\r\n            editor.call('selector:set', 'entity', [editor.call('entities:get', parentMeshes[0]?.id)]);\r\n            editor.once('selector:change', function () {\r\n                editor.call('selector:history', true);\r\n            });\r\n\r\n            editor.call('make:scene:dirty');\r\n\r\n\r\n            // editor.emit('entities:load', true);\r\n\r\n\r\n            // TODO\r\n            // VeryEngine.viewScene.onPointerObservable.add(pointerInfo => {\r\n            //     switch (pointerInfo.type) {\r\n            //         case BABYLON.PointerEventTypes.POINTERDOWN:\r\n            //             // console.log('down');\r\n            //             if (pointerInfo!.pickInfo!.pickedMesh != null) {\r\n            //                 editor.call('pick', pointerInfo!.pickInfo!.pickedMesh);\r\n            //             } else {\r\n            //                 editor.call('pick', null);\r\n            //             }\r\n            //             // console.log(pointerInfo!.pickInfo!.pickedMesh);\r\n            //             break;\r\n            //     }\r\n            // });\r\n            // });\r\n        }\r\n    }\r\n\r\n    public static parseBabylon(assetID: string, babylonData: any): void {\r\n        if (babylonData) {\r\n            let parsedData: any = {};\r\n            // 材质\r\n            if (babylonData.materials) {\r\n                parsedData.materials = {};\r\n                babylonData.materials.forEach((material: any) => {\r\n                    parsedData.materials[material.id] = material;\r\n                });\r\n            }\r\n            // geometries\r\n            if (babylonData.geometries && babylonData.geometries.vertexData) {\r\n                parsedData.geometries = {};\r\n                babylonData.geometries.vertexData.forEach((geometry: any) => {\r\n                    parsedData.geometries[geometry.id] = geometry;\r\n                });\r\n            }\r\n            // mesh\r\n            if (babylonData.meshes) {\r\n                parsedData.meshes = {};\r\n                babylonData.meshes.forEach((mesh: any) => {\r\n                    parsedData.meshes[mesh.id] = mesh;\r\n                });\r\n            }\r\n            // transformNodes\r\n            if (babylonData.transformNodes) {\r\n                parsedData.transformNodes = {};\r\n                babylonData.transformNodes.forEach((transformNode: any) => {\r\n                    parsedData.transformNodes[transformNode.id] = transformNode;\r\n                });\r\n            }\r\n            BabylonLoader.babylonParsedData[assetID] = parsedData;\r\n        }\r\n    }\r\n\r\n    public static hasBabylobData(assetID: string): boolean {\r\n        return assetID in BabylonLoader.babylonCacheData;\r\n    }\r\n\r\n    public static getBabylonData(assetID: string): any {\r\n        if (assetID in BabylonLoader.babylonCacheData) {\r\n            return BabylonLoader.babylonCacheData[assetID];\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static hasParsedBabylonData(assetID: string): boolean {\r\n        return assetID in BabylonLoader.babylonParsedData;\r\n    }\r\n\r\n    public static getParsedBabylonData(assetID: string): any {\r\n        if (assetID in BabylonLoader.babylonParsedData) {\r\n            return BabylonLoader.babylonParsedData[assetID];\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    private static meshParseRecursion(mesh: Nullable<BABYLON.AbstractMesh>, assetID: string, tempMeshID: any, entities: any[], data: any[]): void {\r\n        if (mesh) {\r\n\r\n            let parentID: string = '';\r\n            if (mesh.parent !== null) {\r\n                parentID = mesh.parent!.id;\r\n            } else {\r\n                let root = editor.call('entities:root');\r\n                parentID = root.get('resource_id');\r\n                // root.insert('children', mesh.id);\r\n                // BabylonLoader.updateSceneData(parentID, root._data2);\r\n                // editor.call('make:scene:dirty');\r\n            }\r\n\r\n            var childs = mesh.getChildren();\r\n            var myChildren = [];\r\n            for (let k = 0; k < childs.length; k++) {\r\n                myChildren.push(childs[k].id);\r\n            }\r\n\r\n            let eulerAngle = Tools.radianToEulerAngle(mesh.rotation);\r\n\r\n            let entityData = {\r\n                name: mesh.name,\r\n                resource_id: mesh.id,\r\n                babylon_id: tempMeshID[mesh.id],  // 原始的mesh id\r\n                asset_id: assetID,  // 对应babylon资源id\r\n                parent: parentID,\r\n                position: [mesh.position.x, mesh.position.y, mesh.position.z],\r\n                rotation: [eulerAngle.x, eulerAngle.y, eulerAngle.z],\r\n                scale: [mesh.scaling.x, mesh.scaling.y, mesh.scaling.z],\r\n                children: myChildren,\r\n                enabled: mesh.isEnabled(),\r\n                checkCollisions: mesh.checkCollisions,\r\n                pickable: mesh.isPickable,\r\n                isVisible: mesh.isVisible,\r\n                tags: [],\r\n                type: 'mesh'\r\n            }\r\n\r\n            let entity = editor.call('entities:new', entityData);\r\n            entities.push(entity);\r\n            data.push(entity.origin);\r\n\r\n            for (let k = 0; k < childs.length; k++) {\r\n                BabylonLoader.meshParseRecursion(<BABYLON.AbstractMesh>childs[k], assetID, tempMeshID, entities, data);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static addSceneData(resource_id: string, data: any): void {\r\n        BabylonLoader.scenesData.entities[resource_id] = data;\r\n        BabylonLoader.scenesData['modified'] = BabylonLoader.createdAtTime();\r\n    }\r\n\r\n    public static updateSceneData(resource_id: string, data: any): void {\r\n        BabylonLoader.scenesData.entities[resource_id] = data;\r\n        BabylonLoader.scenesData['modified'] = BabylonLoader.createdAtTime();\r\n    }\r\n\r\n    public static createdAtTime(): string {\r\n        var now = new Date();\r\n        var Y = now.getFullYear();\r\n        var m = BabylonLoader.getRealTime(now.getMonth() + 1);\r\n        var d = BabylonLoader.getRealTime(now.getDate());\r\n        var H = BabylonLoader.getRealTime(now.getHours());\r\n        var i = BabylonLoader.getRealTime(now.getMinutes());\r\n        // var s = getRealTime(now.getSeconds());\r\n        return Y + \"-\" + m + \"-\" + d + \" \" + H + \":\" + i;\r\n    }\r\n\r\n    private static getRealTime(str: number): string {\r\n        if (str < 10) {\r\n            return \"0\" + str;\r\n        }\r\n        return str.toString();\r\n    }\r\n\r\n    public static saveScene(): void {\r\n        if (Config.isSceneDirty) {\r\n\r\n            // var data = {\r\n            //     url: '/api/addScene',\r\n            //     method: 'POST',\r\n            //     // auth: true,\r\n            //     data: { sceneIndex: BabylonLoader.sceneIndex, scene: BabylonLoader.scenesData, projectID: Config.projectID },\r\n            //     ignoreContentType: true,\r\n            //     headers: {\r\n            //         Accept: 'application/json'\r\n            //     }\r\n            // };\r\n\r\n            // // 上传全部scene数据\r\n            // (<AjaxRequest>new Ajax(data))\r\n            //     .on('load', (status: any, data: any) => {\r\n            //         // console.log('status: ' + status);\r\n            //         console.log(data);\r\n            //         if (data.code === '0000') {\r\n            //             for (let i = 0, len = data.data.length; i < len; i++) {\r\n            //                 var asset = new Observer(data.data[i]);\r\n            //                 editor.call('assets:add', asset);\r\n            //             }\r\n            //         }\r\n            //     });\r\n\r\n            axios.post('/api/addScene', { sceneIndex: BabylonLoader.sceneIndex, scene: BabylonLoader.scenesData, projectID: Config.projectID })\r\n                .then(response => {\r\n                    var data = response.data;\r\n                    if (data.code === '0000') {\r\n                        console.log(data.data);\r\n                        editor.call('make:scene:clear');\r\n                    } else {\r\n                        console.error(data.message);\r\n                    }\r\n                })\r\n                .catch(\r\n                    error => {\r\n                        console.error(error);\r\n                    }\r\n\r\n                );\r\n        }\r\n    }\r\n\r\n\r\n    public static loadLight(parsedLight: any, scene: BABYLON.Scene): Nullable<BABYLON.Light> {\r\n        // Light\r\n        if (parsedLight !== undefined && parsedLight !== null) {\r\n            var light = BABYLON.Light.Parse(parsedLight, scene);\r\n            return light;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadReflectionProbe(parsedReflectionProbe: any, scene: BABYLON.Scene, rootUrl: string): Nullable<BABYLON.ReflectionProbe> {\r\n        // ReflectionProbe\r\n        if (parsedReflectionProbe !== undefined && parsedReflectionProbe !== null) {\r\n            var reflectionProbe = BABYLON.ReflectionProbe.Parse(parsedReflectionProbe, scene, rootUrl);\r\n            return reflectionProbe;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadAnimation(parsedAnimation: any): Nullable<BABYLON.Animation[]> {\r\n        // Animation\r\n        if (parsedAnimation !== undefined && parsedAnimation !== null) {\r\n            const internalClass = BABYLON._TypeStore.GetClass(\"BABYLON.Animation\");\r\n            if (internalClass) {\r\n                let animation = internalClass.Parse(parsedAnimation);\r\n                return animation;\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadMaterial(parsedMaterial: any, scene: BABYLON.Scene, rootUrl: string): Nullable<BABYLON.Material> {\r\n        // Material\r\n        if (parsedMaterial !== undefined && parsedMaterial !== null) {\r\n            var mat = BABYLON.Material.Parse(parsedMaterial, scene, rootUrl);\r\n            return mat;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadMultiMaterial(parsedMultiMaterial: any, scene: BABYLON.Scene): Nullable<BABYLON.MultiMaterial> {\r\n        // MultiMaterial\r\n        if (parsedMultiMaterial !== undefined && parsedMultiMaterial !== null) {\r\n            var mmat = BABYLON.MultiMaterial.ParseMultiMaterial(parsedMultiMaterial, scene);\r\n            return mmat;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadMorphTargetManager(managerData: any, scene: BABYLON.Scene): Nullable<BABYLON.MorphTargetManager> {\r\n        // MorphTargetManager\r\n        if (managerData !== undefined && managerData !== null) {\r\n            var morphTarget = BABYLON.MorphTargetManager.Parse(managerData, scene);\r\n            return morphTarget;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadSkeleton(parsedSkeleton: any, scene: BABYLON.Scene): Nullable<BABYLON.Skeleton> {\r\n        // Skeleton\r\n        if (parsedSkeleton !== undefined && parsedSkeleton !== null) {\r\n            var skeleton = BABYLON.Skeleton.Parse(parsedSkeleton, scene);\r\n            return skeleton;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadGeometry(vertexData: any, scene: BABYLON.Scene, rootUrl: string): Nullable<BABYLON.Geometry> {\r\n        // Geometry\r\n        if (vertexData !== undefined && vertexData !== null) {\r\n            var geometry = BABYLON.Geometry.Parse(vertexData, scene, rootUrl);\r\n            return geometry;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadTransformNode(parsedTransformNode: any, scene: BABYLON.Scene, rootUrl: string): Nullable<BABYLON.TransformNode> {\r\n        // TransformNode\r\n        if (parsedTransformNode !== undefined && parsedTransformNode !== null) {\r\n            var node = BABYLON.TransformNode.Parse(parsedTransformNode, scene, rootUrl);\r\n            return node;\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    public static loadMesh(parsedMesh: any, scene: BABYLON.Scene, rootUrl: string): Nullable<BABYLON.AbstractMesh> {\r\n        // Mesh\r\n        if (parsedMesh !== undefined && parsedMesh !== null) {\r\n            var mesh = <BABYLON.AbstractMesh>BABYLON.Mesh.Parse(parsedMesh, scene, rootUrl);\r\n            return mesh;\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    public static loadCamera(parsedCamera: any, scene: BABYLON.Scene): Nullable<BABYLON.Camera> {\r\n        // Camera\r\n        if (parsedCamera !== undefined && parsedCamera !== null) {\r\n            var camera = BABYLON.Camera.Parse(parsedCamera, scene);\r\n            return camera;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static loadAnimationGroup(parsedAnimationGroup: any, scene: BABYLON.Scene): Nullable<BABYLON.AnimationGroup> {\r\n        // AnimationGroup\r\n        if (parsedAnimationGroup !== undefined && parsedAnimationGroup !== null) {\r\n            var animationGroup = BABYLON.AnimationGroup.Parse(parsedAnimationGroup, scene);\r\n            return animationGroup;\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    public static setBabylonParent(scene: BABYLON.Scene): void {\r\n        let index, cache = 0;\r\n        // Browsing all the graph to connect the dots\r\n        for (let index = 0, cache = scene.cameras.length; index < cache; index++) {\r\n            var camera = scene.cameras[index];\r\n            if (camera._waitingParentId) {\r\n                camera.parent = scene.getLastEntryByID(camera._waitingParentId);\r\n                camera._waitingParentId = null;\r\n            }\r\n        }\r\n\r\n        for (index = 0, cache = scene.lights.length; index < cache; index++) {\r\n            let light = scene.lights[index];\r\n            if (light && light._waitingParentId) {\r\n                light.parent = scene.getLastEntryByID(light._waitingParentId);\r\n                light._waitingParentId = null;\r\n            }\r\n        }\r\n\r\n        //加载完所有资源以后，设立父子关系，加入在自己的引擎中，这些关系有scene数据确立，可以取消此处的操作\r\n        // Connect parents & children and parse actions\r\n        for (index = 0, cache = scene.transformNodes.length; index < cache; index++) {\r\n            var transformNode = scene.transformNodes[index];\r\n            if (transformNode._waitingParentId) {\r\n                transformNode.parent = scene.getLastEntryByID(transformNode._waitingParentId);\r\n                transformNode._waitingParentId = null;\r\n            }\r\n        }\r\n        for (index = 0, cache = scene.meshes.length; index < cache; index++) {\r\n            var mesh = scene.meshes[index];\r\n            if (mesh._waitingParentId) {\r\n                mesh.parent = scene.getLastEntryByID(mesh._waitingParentId);\r\n                mesh._waitingParentId = null;\r\n            }\r\n        }\r\n\r\n        // freeze world matrix application\r\n        // 此部分为babylon隐藏方法\r\n        // for (index = 0, cache = scene.meshes.length; index < cache; index++) {\r\n        //     var currentMesh = scene.meshes[index];\r\n        //     if (currentMesh._waitingFreezeWorldMatrix) {\r\n        //         currentMesh.freezeWorldMatrix();\r\n        //         currentMesh._waitingFreezeWorldMatrix = null;\r\n        //     } else {\r\n        //         currentMesh.computeWorldMatrix(true);\r\n        //     }\r\n        // }\r\n    }\r\n\r\n\r\n    public static load(rootUrl: string, sceneFilename: string | File = \"\", scene: BABYLON.Scene): any {\r\n\r\n        // // Browsing all the graph to connect the dots\r\n        // for (index = 0, cache = scene.cameras.length; index < cache; index++) {\r\n        //     var camera = scene.cameras[index];\r\n        //     if (camera._waitingParentId) {\r\n        //         camera.parent = scene.getLastEntryByID(camera._waitingParentId);\r\n        //         camera._waitingParentId = null;\r\n        //     }\r\n        // }\r\n\r\n        // for (index = 0, cache = scene.lights.length; index < cache; index++) {\r\n        //     let light = scene.lights[index];\r\n        //     if (light && light._waitingParentId) {\r\n        //         light.parent = scene.getLastEntryByID(light._waitingParentId);\r\n        //         light._waitingParentId = null;\r\n        //     }\r\n        // }\r\n\r\n        // //加载完所有资源以后，设立父子关系，加入在自己的引擎中，这些关系有scene数据确立，可以取消此处的操作\r\n        // // Connect parents & children and parse actions\r\n        // for (index = 0, cache = scene.transformNodes.length; index < cache; index++) {\r\n        //     var transformNode = scene.transformNodes[index];\r\n        //     if (transformNode._waitingParentId) {\r\n        //         transformNode.parent = scene.getLastEntryByID(transformNode._waitingParentId);\r\n        //         transformNode._waitingParentId = null;\r\n        //     }\r\n        // }\r\n        // for (index = 0, cache = scene.meshes.length; index < cache; index++) {\r\n        //     var mesh = scene.meshes[index];\r\n        //     if (mesh._waitingParentId) {\r\n        //         mesh.parent = scene.getLastEntryByID(mesh._waitingParentId);\r\n        //         mesh._waitingParentId = null;\r\n        //     }\r\n        // }\r\n\r\n        // // freeze world matrix application\r\n        // for (index = 0, cache = scene.meshes.length; index < cache; index++) {\r\n        //     var currentMesh = scene.meshes[index];\r\n        //     if (currentMesh._waitingFreezeWorldMatrix) {\r\n        //         currentMesh.freezeWorldMatrix();\r\n        //         currentMesh._waitingFreezeWorldMatrix = null;\r\n        //     } else {\r\n        //         currentMesh.computeWorldMatrix(true);\r\n        //     }\r\n        // }\r\n\r\n        // // Lights exclusions / inclusions\r\n        // for (index = 0, cache = scene.lights.length; index < cache; index++) {\r\n        //     let light = scene.lights[index];\r\n        //     // Excluded check\r\n        //     if (light._excludedMeshesIds.length > 0) {\r\n        //         for (var excludedIndex = 0; excludedIndex < light._excludedMeshesIds.length; excludedIndex++) {\r\n        //             var excludedMesh = scene.getMeshByID(light._excludedMeshesIds[excludedIndex]);\r\n\r\n        //             if (excludedMesh) {\r\n        //                 light.excludedMeshes.push(excludedMesh);\r\n        //             }\r\n        //         }\r\n\r\n        //         light._excludedMeshesIds = [];\r\n        //     }\r\n\r\n        //     // Included check\r\n        //     if (light._includedOnlyMeshesIds.length > 0) {\r\n        //         for (var includedOnlyIndex = 0; includedOnlyIndex < light._includedOnlyMeshesIds.length; includedOnlyIndex++) {\r\n        //             var includedOnlyMesh = scene.getMeshByID(light._includedOnlyMeshesIds[includedOnlyIndex]);\r\n\r\n        //             if (includedOnlyMesh) {\r\n        //                 light.includedOnlyMeshes.push(includedOnlyMesh);\r\n        //             }\r\n        //         }\r\n\r\n        //         light._includedOnlyMeshesIds = [];\r\n        //     }\r\n        // }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    private static _getFileInfo(rootUrl: string, sceneFilename: string | File): Nullable<IFileInformation> {\r\n        let url: string;\r\n        let name: string;\r\n        let file: Nullable<File> = null;\r\n\r\n        if (!sceneFilename) {\r\n            url = rootUrl;\r\n            name = Tools.GetFilename(rootUrl);\r\n            rootUrl = Tools.GetFolderPath(rootUrl);\r\n        }\r\n        else if ((sceneFilename as File).name) {\r\n            const sceneFile = sceneFilename as File;\r\n            url = rootUrl + sceneFile.name;\r\n            name = sceneFile.name;\r\n            file = sceneFile;\r\n        }\r\n        else {\r\n            const filename = sceneFilename as string;\r\n            if (filename.substr(0, 1) === \"/\") {\r\n                Tools.Error(\"Wrong sceneFilename parameter\");\r\n                return null;\r\n            }\r\n\r\n            url = rootUrl + filename;\r\n            name = filename;\r\n        }\r\n\r\n        return {\r\n            url: url,\r\n            rootUrl: rootUrl,\r\n            name: name,\r\n            file: file\r\n        };\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\ninterface IFileInformation {\r\n    /**\r\n     * Gets the file url\r\n     */\r\n    url: string;\r\n    /**\r\n     * Gets the root url\r\n     */\r\n    rootUrl: string;\r\n    /**\r\n     * Gets filename\r\n     */\r\n    name: string;\r\n    /**\r\n     * Gets the file\r\n     */\r\n    file: Nullable<File>;\r\n}","import { GameObject } from \"./gameobject\";\r\n\r\nexport class ResourceContainer {\r\n\r\n    public gameObjects: GameObject[] = [];\r\n\r\n\r\n    public constructor() {\r\n\r\n    }\r\n\r\n\r\n    public addGameObject(object: GameObject): void {\r\n        this.gameObjects.push();\r\n        \r\n    }\r\n\r\n}","export class Transform {\r\n\r\n  // public get gameObject(): GameObject {\r\n  //   return this._gameObject;\r\n  // }\r\n  // private _gameObject: GameObject;\r\n\r\n  private _transformNode: BABYLON.Nullable<BABYLON.TransformNode> = null;\r\n  private _mesh: BABYLON.Nullable<BABYLON.AbstractMesh> = null;\r\n\r\n  public get transformNode(): Nullable<BABYLON.TransformNode> {\r\n    if (this._mesh) {\r\n      return this._mesh;\r\n    } else if (this._transformNode) {\r\n      return this._transformNode;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public get mesh(): Nullable<BABYLON.AbstractMesh> {\r\n    return this._mesh;\r\n  }\r\n  public set mesh(val: Nullable<BABYLON.AbstractMesh>) {\r\n    this._mesh = val;\r\n  }\r\n\r\n  public get isMesh(): boolean {\r\n    if (this._mesh) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public get isEmpty(): boolean {\r\n    if (this._transformNode || this._mesh) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  // public get parent(): Nullable<BABYLON.TransformNode>\r\n\r\n  public get name(): string {\r\n    return this._name;\r\n  }\r\n  public set name(val: string) {\r\n    if (this._transformNode) {\r\n      this._transformNode.name = val;\r\n    }\r\n    if (this._mesh) {\r\n      this._mesh.name = val;\r\n    }\r\n    this._name = val;\r\n  }\r\n  private _name: string = '';\r\n\r\n  private _tempVec: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n\r\n  public get parent(): Nullable<Transform> {\r\n    return this._parent;\r\n  }\r\n  private _parent: Nullable<Transform> = null;\r\n\r\n  public set parent(val: Nullable<Transform>) {\r\n    if (!this.isEmpty) {\r\n      if (val && !val.isEmpty) {\r\n        this._transformNode!.setParent(val.transformNode);\r\n        this._parent = val;\r\n      } else {\r\n        this._transformNode!.setParent(null);\r\n        this._parent = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取相对坐标\r\n   */\r\n  public get localPosition(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      this._tempVec.copyFrom(this.transformNode!.position);\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置相对坐标\r\n   */\r\n  public set localPosition(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      this.transformNode!.position = val;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取绝对坐标\r\n   */\r\n  public get position(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      this._tempVec.copyFrom(this.transformNode!.getAbsolutePosition());\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置绝对坐标\r\n   */\r\n  public set position(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      this.transformNode!.setAbsolutePosition(val);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取相对欧拉角度\r\n   */\r\n  public get localEulerAngles(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      let para: number = 180 / Math.PI;\r\n      return this.transformNode!.rotation.multiplyByFloats(para, para, para);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置相对欧拉角度\r\n   */\r\n  public set localEulerAngles(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      let para: number = Math.PI / 180;\r\n      this.transformNode!.rotation = val.multiplyByFloats(para, para, para);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取相对角度（弧度）\r\n   */\r\n  public get localRotation(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      this._tempVec.copyFrom(this.transformNode!.rotation);\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置相对角度（弧度）\r\n   */\r\n  public set localRotation(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      this.transformNode!.rotation = val;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取绝对欧拉角度\r\n   */\r\n  public get eulerAngles(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      let para: number = 180 / Math.PI;\r\n      this.transformNode!.setParent(null);\r\n      let result: BABYLON.Vector3 = this.transformNode!.rotation.multiplyByFloats(para, para, para);\r\n      this.transformNode!.setParent(parent);\r\n      return result;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置绝对欧拉角度\r\n   */\r\n  public set eulerAngles(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      let para: number = Math.PI / 180;\r\n      this.transformNode!.setParent(null);\r\n      this.transformNode!.rotation = val.multiplyByFloats(para, para, para);\r\n      this.transformNode!.setParent(parent);\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取绝对角度（弧度）\r\n   */\r\n  public get rotation(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      this.transformNode!.setParent(null);\r\n      this._tempVec.copyFrom(this.transformNode!.rotation);\r\n      this.transformNode!.setParent(parent);\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置绝对角度（弧度）\r\n   */\r\n  public set rotation(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      this.transformNode!.setParent(null);\r\n      this.transformNode!.rotation = val;\r\n      this.transformNode!.setParent(parent);\r\n    }\r\n  }\r\n\r\n\r\n  // TO be contioued\r\n\r\n  public get children(): BABYLON.Node[] {\r\n      return this.transformNode!.getChildren();\r\n  }\r\n\r\n  public get childCount(): number {\r\n    return 0;\r\n  }\r\n\r\n  public forward: BABYLON.Vector3 = BABYLON.Vector3.Forward();\r\n\r\n\r\n  public get hierarchyCount(): number {\r\n    return 0;\r\n  }\r\n\r\n  public localScale: BABYLON.Vector3 = new BABYLON.Vector3(1, 1, 1);\r\n\r\n\r\n  /**\r\n   * BabylonJS Mesh和TransformNode包装类，仿照UnityEngine数据结构；\r\n   * @param name 物体名，默认为“空物体”；\r\n   * @param mesh BabylonJS Mesh;\r\n   * @param node BabylonJS TransformNode;\r\n   */\r\n  constructor(name: string = '空物体', mesh: Nullable<BABYLON.AbstractMesh> = null, node: Nullable<BABYLON.TransformNode> = null) {\r\n    if (mesh) {\r\n      this._mesh = mesh;\r\n      this._transformNode = mesh;\r\n      this._name = mesh.name;\r\n    } else {\r\n      if (node) {\r\n        this._mesh = null;\r\n        this._transformNode = node;\r\n        this._name = node.name;\r\n      } else {\r\n        // if (!name) name = '空物体';\r\n        this._mesh = null;\r\n        this._transformNode = new BABYLON.TransformNode(name);\r\n        this._name = name;\r\n      }\r\n    }\r\n\r\n    // 设置父物体\r\n    if (this._transformNode) {\r\n      let tempParent: Nullable<BABYLON.Node> = this._transformNode.parent;\r\n      if (tempParent) {\r\n        if (tempParent instanceof BABYLON.AbstractMesh) {\r\n          this._parent = new Transform(tempParent.name, <BABYLON.AbstractMesh>tempParent);\r\n        } else {\r\n          this._parent = new Transform(tempParent.name, null, <BABYLON.TransformNode>tempParent);\r\n        }\r\n      }\r\n    } else {\r\n      this._parent = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿世界或局部坐标系平移；\r\n   * @param translation 平移方向向量；\r\n   * @param relativeTo 平移参考系，LOCAL为局部坐标，WORLD为世界坐标；\r\n   */\r\n  public translate(translation: BABYLON.Vector3, relativeTo: BABYLON.Space): void {\r\n    if (this.transformNode) {\r\n      this.transformNode.translate(translation, 1, relativeTo);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿着某个参考物体的局部方向向量平移，参考物体为null时，则沿世界坐标移动；\r\n   * @param translation 参考物体的局部方向向量；\r\n   * @param trans 平移参考物体；\r\n   */\r\n  public translateRelativeTo(translation: BABYLON.Vector3, trans: Transform): void {\r\n    if (this.transformNode) {\r\n      let direction: BABYLON.Vector3 = translation.clone();\r\n      if (trans && trans.transformNode) {\r\n        direction = this.transformDirection(direction);\r\n      }\r\n      this.transformNode.translate(direction, 1, BABYLON.Space.WORLD);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿某个轴自转，可选择相对世界坐标或自身坐标；\r\n   * @param eulerAngles 自转运动向量；\r\n   * @param relativeTo 自转参考系；\r\n   */\r\n  public rotate(eulerAngles: BABYLON.Vector3, relativeTo: BABYLON.Space): void {\r\n    if (this.transformNode) {\r\n      let axis: BABYLON.Vector3 = BABYLON.Vector3.Zero().copyFrom(eulerAngles.normalize());\r\n      let angle: number = eulerAngles.length();\r\n      this.transformNode.rotate(axis, angle, relativeTo);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿世界坐标某个轴公转；\r\n   * @param point 旋转点；\r\n   * @param axis 旋转轴；\r\n   * @param speed 旋转速度；\r\n   */\r\n  public rotateAround(point: BABYLON.Vector3, axis: BABYLON.Vector3, speed: number): void {\r\n    if (this.transformNode) {\r\n      this.transformNode.rotateAround(point, axis, speed);\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  /**\r\n   * 局部坐标位置转世界坐标位置；\r\n   * @param local_position 局部坐标位置；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public transformPosition(local_position: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = this.transformNode.computeWorldMatrix();\r\n      return BABYLON.Vector3.TransformCoordinates(local_position, matrix);\r\n    } else {\r\n      return local_position;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 局部方向向量转世界方向向量，转换后保持向量长度相等；\r\n   * @param local_direction 局部方向向量；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public transformDirection(local_direction: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = this.transformNode.computeWorldMatrix();\r\n      return BABYLON.Vector3.TransformCoordinates(local_direction, matrix).subtract(this.transformNode.getAbsolutePosition());\r\n    } else {\r\n      return local_direction;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 世界坐标位置转局部坐标位置；\r\n   * @param global_position 世界坐标位置；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public inverseTransformPosition(global_position: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = BABYLON.Matrix.Invert(this.transformNode.computeWorldMatrix());\r\n      return BABYLON.Vector3.TransformCoordinates(global_position, matrix);\r\n    } else {\r\n      return global_position;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 世界方向向量转局部方向向量，转换后保持向量长度相等；\r\n   * @param global_direction 世界方向向量；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public inverseTransformDirection(global_direction: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = BABYLON.Matrix.Invert(this.transformNode.computeWorldMatrix());\r\n      let pointA: BABYLON.Vector3 = BABYLON.Vector3.TransformCoordinates(global_direction, matrix);\r\n      let pointOrigin: BABYLON.Vector3 = BABYLON.Vector3.TransformCoordinates(BABYLON.Vector3.Zero(), matrix);\r\n      return pointA.subtract(pointOrigin);\r\n    } else {\r\n      return global_direction;\r\n    }\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n    if (this.mesh) this.mesh.dispose();\r\n    if (this.transformNode) this.transformNode.dispose();\r\n  }\r\n\r\n\r\n  // TODO\r\n\r\n  public lookAt(target: Transform, worldUp: BABYLON.Vector3 = BABYLON.Vector3.Up()): void {\r\n\r\n  }\r\n\r\n  public setParent(parent: Nullable<Transform>): void {\r\n\r\n  }\r\n\r\n  public detachChildren(): void {\r\n\r\n  }\r\n\r\n  public findChild(name: string): void {\r\n\r\n\r\n  }\r\n\r\n  public isChildOf(name: string): boolean {\r\n    return true;\r\n  }\r\n\r\n  public getChild(index: number): void {\r\n\r\n  }\r\n\r\n\r\n}","export * from './keeper';\r\nexport * from './scenes';","import { Scenes } from \"./scenes\";\r\n\r\nexport class ScenesKeeper {\r\n    public constructor() {\r\n        new Scenes();\r\n    }\r\n}","import { Config } from \"../global\";\r\n\r\nexport class Scenes {\r\n\r\n    private _prefix: string = '（未保存）';\r\n\r\n    public constructor() {\r\n\r\n        let self = this;\r\n\r\n\r\n        editor.method('make:scene:dirty', () => {\r\n            if (!document.title.startsWith(self._prefix)) {\r\n                document.title = self._prefix + document.title;\r\n            }\r\n            Config.isSceneDirty = true;\r\n            // console.error('make:scene:dirty');\r\n        });\r\n\r\n        editor.method('make:scene:clear', () => {\r\n            Config.isSceneDirty = false;\r\n            if (document.title.startsWith(self._prefix)) {\r\n                document.title = document.title.substring(self._prefix.length);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        // Create a scene and pass result to callback\r\n        // editor.method('scenes:new', function (name: string, callback: Function) {\r\n        //     var data = {\r\n        //         projectId: config.project.id,\r\n        //         branchId: config.self.branch.id\r\n        //     };\r\n\r\n        //     if (name) data.name = name;\r\n\r\n        //     Ajax({\r\n        //         url: '{{url.api}}/scenes',\r\n        //         auth: true,\r\n        //         method: 'POST',\r\n        //         data: data\r\n        //     })\r\n        //         .on('load', function (status: boolean, data: any) {\r\n        //             if (callback)\r\n        //                 callback(data);\r\n        //         });\r\n        // });\r\n\r\n\r\n    }\r\n\r\n\r\n}","import { Observer } from \"src/lib\";\r\n\r\nexport class Search {\r\n    public constructor() {\r\n        // calculate, how many string `a`\r\n        // requires edits, to become string `b`\r\n        editor.method('search:stringEditDistance', function (a: string, b: string) {\r\n            // Levenshtein distance\r\n            // https://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Levenshtein_distance#JavaScript\r\n            if (a.length === 0) return b.length;\r\n            if (b.length === 0) return a.length;\r\n            if (a === b) return 0;\r\n\r\n            var i, j;\r\n            var matrix = [];\r\n\r\n            for (i = 0; i <= b.length; i++)\r\n                matrix[i] = [i];\r\n\r\n            for (j = 0; j <= a.length; j++)\r\n                matrix[0][j] = j;\r\n\r\n            for (i = 1; i <= b.length; i++) {\r\n                for (j = 1; j <= a.length; j++) {\r\n                    if (b.charAt(i - 1) === a.charAt(j - 1)) {\r\n                        matrix[i][j] = matrix[i - 1][j - 1];\r\n                    } else {\r\n                        matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, Math.min(matrix[i][j - 1] + 1, matrix[i - 1][j] + 1));\r\n                    }\r\n                }\r\n            }\r\n\r\n            return matrix[b.length][a.length];\r\n        });\r\n\r\n        // calculate, how many characters string `b`\r\n        // contains of a string `a`\r\n        editor.method('search:charsContains', function (a: string, b: string) {\r\n            if (a === b)\r\n                return a.length;\r\n\r\n            var contains = 0;\r\n            var ind: { [key: string]: boolean } = {};\r\n            var i;\r\n\r\n            for (i = 0; i < b.length; i++)\r\n                ind[b.charAt(i)] = true;\r\n\r\n            for (i = 0; i < a.length; i++) {\r\n                if (ind[a.charAt(i)])\r\n                    contains++;\r\n            }\r\n\r\n            return contains;\r\n        });\r\n\r\n        // tokenize string into array of tokens\r\n        editor.method('search:stringTokenize', function (name: string) {\r\n            var tokens = [];\r\n\r\n            // camelCase\r\n            // upperCASE123\r\n            var string = name.replace(/([^A-Z])([A-Z][^A-Z])/g, '$1 $2').replace(/([A-Z0-9]{2,})/g, ' $1');\r\n\r\n            // space notation\r\n            // dash-notation\r\n            // underscore_notation\r\n            var parts = string.split(/(\\s|\\-|_)/g);\r\n\r\n            // filter valid tokens\r\n            for (var i = 0; i < parts.length; i++) {\r\n                parts[i] = parts[i].toLowerCase().trim();\r\n                if (parts[i] && parts[i] !== '-' && parts[i] !== '_')\r\n                    tokens.push(parts[i]);\r\n            }\r\n\r\n            return tokens;\r\n        });\r\n\r\n        var searchItems = function (items: any, search: string, args: any) {\r\n            var results = [];\r\n\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n\r\n                // direct hit\r\n                if (item.subFull !== Infinity) {\r\n                    results.push(item);\r\n\r\n                    if (item.edits === Infinity)\r\n                        item.edits = 0;\r\n\r\n                    if (item.sub === Infinity)\r\n                        item.sub = item.subFull;\r\n\r\n                    continue;\r\n                } else if (item.name === search || item.name.indexOf(search) === 0) {\r\n                    results.push(item);\r\n\r\n                    if (item.edits === Infinity)\r\n                        item.edits = 0;\r\n\r\n                    if (item.sub === Infinity)\r\n                        item.sub = 0;\r\n\r\n                    continue;\r\n                }\r\n\r\n                // check if name contains enough of search characters\r\n                var contains = editor.call('search:charsContains', search, item.name);\r\n                if (contains / search.length < args.containsCharsTolerance)\r\n                    continue;\r\n\r\n                var editsCandidate = Infinity;\r\n                var subCandidate = Infinity;\r\n\r\n                // for each token\r\n                for (var t = 0; t < item.tokens.length; t++) {\r\n                    // direct token match\r\n                    if (item.tokens[t] === search) {\r\n                        editsCandidate = 0;\r\n                        subCandidate = t;\r\n                        break;\r\n                    }\r\n\r\n                    var edits = editor.call('search:stringEditDistance', search, item.tokens[t]);\r\n\r\n                    if ((subCandidate === Infinity || edits < editsCandidate) && item.tokens[t].indexOf(search) !== -1) {\r\n                        // search is a substring of a token\r\n                        subCandidate = t;\r\n                        editsCandidate = edits;\r\n                        continue;\r\n                    } else if (subCandidate === Infinity && edits < editsCandidate) {\r\n                        // new edits candidate, not a substring of a token\r\n                        if ((edits / Math.max(search.length, item.tokens[t].length)) <= args.editsDistanceTolerance) {\r\n                            // check if edits tolerance is satisfied\r\n                            editsCandidate = edits;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // no match candidate\r\n                if (editsCandidate === Infinity)\r\n                    continue;\r\n\r\n                // add new result\r\n                results.push(item);\r\n                item.edits = item.edits === Infinity ? editsCandidate : item.edits + editsCandidate;\r\n                item.sub = item.sub === Infinity ? subCandidate : item.sub + subCandidate;\r\n            }\r\n\r\n            return results;\r\n        };\r\n\r\n\r\n        // perform search through items\r\n        // items is an array with arrays of two values\r\n        // where first value is a string to be searched by\r\n        // and second value is an object to be found\r\n        /*\r\n        [\r\n            [ 'camera', {object} ],\r\n            [ 'New Entity', {object} ],\r\n            [ 'Sun', {object} ]\r\n        ]\r\n        */\r\n        editor.method('search:items', function (items: any, search: string, args: any) {\r\n            search = (search || '').toLowerCase().trim();\r\n\r\n            if (!search)\r\n                return [];\r\n\r\n            var searchTokens = editor.call('search:stringTokenize', search);\r\n            if (!searchTokens.length)\r\n                return [];\r\n\r\n            args = args || {};\r\n            args.containsCharsTolerance = args.containsCharsTolerance || 0.5;\r\n            args.editsDistanceTolerance = args.editsDistanceTolerance || 0.5;\r\n\r\n            var result = [];\r\n            var records = [];\r\n\r\n            for (var i = 0; i < items.length; i++) {\r\n                var subInd = items[i][0].toLowerCase().trim().indexOf(search);\r\n\r\n                records.push({\r\n                    name: items[i][0],\r\n                    item: items[i][1],\r\n                    tokens: editor.call('search:stringTokenize', items[i][0]),\r\n                    edits: Infinity,\r\n                    subFull: (subInd !== -1) ? subInd : Infinity,\r\n                    sub: Infinity\r\n                });\r\n            }\r\n\r\n            // search each token\r\n            for (var i = 0; i < searchTokens.length; i++)\r\n                records = searchItems(records, searchTokens[i], args);\r\n\r\n            // sort result first by substring? then by edits number\r\n            records.sort(function (a, b) {\r\n                if (a.subFull !== b.subFull) {\r\n                    return a.subFull - b.subFull;\r\n                } else if (a.sub !== b.sub) {\r\n                    return a.sub - b.sub;\r\n                } else if (a.edits !== b.edits) {\r\n                    return a.edits - b.edits;\r\n                } else {\r\n                    return a.name.length - b.name.length;\r\n                }\r\n            });\r\n\r\n            // return only items without match information\r\n            for (var i = 0; i < records.length; i++)\r\n                records[i] = records[i].item;\r\n\r\n            // limit number of results\r\n            if (args.hasOwnProperty('limitResults') && records.length > args.limitResults) {\r\n                records = records.slice(0, args.limitResults);\r\n            }\r\n\r\n            return records;\r\n        });\r\n    }\r\n}","export * from './selector';\r\nexport * from './selector-history';","export class SelectorHistory {\r\n  \r\n}","import { Observer } from '../../lib/observer';\r\nimport { ObserverList } from '../../lib';\r\n\r\n\r\nexport class Selector {\r\n\r\n    public enabled: boolean = true;\r\n\r\n    public selector: ObserverList;\r\n    public legacyScripts: boolean = false;\r\n\r\n    public evtChange: boolean;\r\n\r\n    public type: string = '';\r\n    public length: number = 0;\r\n\r\n    public constructor() {\r\n        this.selector = new ObserverList();\r\n\r\n        this.evtChange = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n\r\n    private init(): void {\r\n\r\n        let self = this;\r\n\r\n        var index: any = {};\r\n\r\n        var keyByType = function (type: string) {\r\n            switch (type) {\r\n                case 'entity':\r\n                    return 'resource_id';\r\n                case 'asset':\r\n                    return 'id';\r\n            }\r\n            return '';\r\n        };\r\n\r\n        var setIndex = function (type: string, item: Observer) {\r\n            var key = keyByType(type);\r\n            if (!key) return;\r\n\r\n            if (!index[type])\r\n                index[type] = {};\r\n\r\n            index[type][item.get(key)] = item.once('destroy', function () {\r\n                var state = editor.call('selector:history');\r\n                if (state)\r\n                    editor.call('selector:history', false);\r\n\r\n                self.selector.remove(item);\r\n                delete index[type][item.get(key)];\r\n\r\n                if (state)\r\n                    editor.call('selector:history', true);\r\n            });\r\n        };\r\n\r\n        var removeIndex = function (type: string, item: Observer) {\r\n            if (!index[type]) return;\r\n\r\n            var key = keyByType(type);\r\n            if (!key) return;\r\n\r\n            var ind = index[type][item.get(key)];\r\n            if (!ind) return;\r\n\r\n            ind.unbind();\r\n        };\r\n\r\n        var evtChange = false;\r\n        var evtChangeFn = function () {\r\n            evtChange = false;\r\n            // console.log(self.selector.type);\r\n            // console.log(self.selector.array());\r\n            editor.emit('selector:change', self.selector.type, self.selector.array());\r\n        };\r\n\r\n        // adding\r\n        self.selector.on('add', function (item: Observer) {\r\n            // add index\r\n            setIndex(self.type, item);\r\n            // console.error(\"adddddddd: \" + self.type);\r\n            editor.emit('selector:add', item, self.type);\r\n\r\n            if (!evtChange) {\r\n                evtChange = true;\r\n                setTimeout(evtChangeFn, 0);\r\n            }\r\n        });\r\n\r\n        // removing\r\n        self.selector.on('remove', function (item: Observer) {\r\n            editor.emit('selector:remove', item, self.type);\r\n            // console.error(\"removeeeeeee: \" + self.type);\r\n            // remove index\r\n            removeIndex(self.type, item);\r\n\r\n            if (self.length === 0)\r\n                self.type = '';\r\n\r\n            if (!evtChange) {\r\n                evtChange = true;\r\n                setTimeout(evtChangeFn, 0);\r\n            }\r\n        });\r\n\r\n\r\n        // selecting item (toggle)\r\n        editor.method('selector:toggle', function (type: string, item: Observer) {\r\n            if (!self.enabled)\r\n                return;\r\n\r\n            if (self.selector.length && self.selector.type !== type) {\r\n                self.selector.clear();\r\n            }\r\n            self.selector.type = type;\r\n            self.type = type;\r\n\r\n            if (self.selector.has(item)) {\r\n                self.selector.remove(item);\r\n            } else {\r\n                self.selector.add(item);\r\n            }\r\n        });\r\n\r\n        // selecting list of items\r\n        editor.method('selector:set', function (type: string, items: Observer[]) {\r\n            if (!self.enabled)\r\n                return;\r\n\r\n            self.selector.clear();\r\n\r\n            if (!type || !items.length)\r\n                return;\r\n\r\n            // make sure items still exist\r\n            if (type === 'asset') {\r\n                items = items.filter(function (item: Observer) {\r\n                    return (self.legacyScripts && item.get('type') === 'script') || !!editor.call('assets:get', item.get('id'));\r\n                });\r\n            } else if (type === 'entity') {\r\n                items = items.filter(function (item: Observer) {\r\n                    return !!editor.call('entities:get', item.get('resource_id'));\r\n                });\r\n            }\r\n\r\n            if (!items.length)\r\n                return;\r\n\r\n            // type\r\n            self.selector.type = type;\r\n            self.type = type;\r\n\r\n            // remove\r\n            // TODO: 删除不重合的部分\r\n            // self.selector.find(function (item: Observer) {\r\n            //     return items.indexOf(item) === -1;\r\n            // }).forEach(function (item: Observer) {\r\n            //     self.selector.remove(item);\r\n            // });\r\n\r\n            // add\r\n            for (var i = 0; i < items.length; i++)\r\n                self.selector.add(items[i]);\r\n        });\r\n\r\n        // 某个面板选中item // selecting item hierarchy选择物体\r\n        editor.method('selector:add', (type: string, item: Observer) => {\r\n\r\n            if (!self.enabled)\r\n                return;\r\n\r\n            if (self.selector.has(item))\r\n                return;\r\n\r\n            // console.warn('selector add入口, type: ' + type);\r\n            // console.warn(item.get('id'));\r\n\r\n            if (self.selector.length > 0 && self.selector.type !== type) {\r\n                self.selector.clear();\r\n            }\r\n\r\n            self.selector.type = type;\r\n            self.type = type;\r\n            self.selector.add(item);\r\n        });\r\n\r\n        // deselecting item\r\n        editor.method('selector:remove', (item: Observer) => {\r\n\r\n            if (!self.enabled)\r\n                return;\r\n\r\n            if (!self.selector.has(item))\r\n                return;\r\n\r\n            self.selector.remove(item);\r\n        });\r\n\r\n        // deselecting\r\n        editor.method('selector:clear', function () {\r\n            if (!self.enabled)\r\n                return;\r\n\r\n            self.selector.clear();\r\n        });\r\n\r\n\r\n        // return select type\r\n        editor.method('selector:type', function () {\r\n            return self.selector.type;\r\n        });\r\n\r\n\r\n        // return selected count\r\n        editor.method('selector:count', function () {\r\n            return self.selector.length;\r\n        });\r\n\r\n\r\n        // return selected items\r\n        editor.method('selector:items', function () {\r\n            return self.selector.array();\r\n        });\r\n\r\n        // return selected items without making copy of array\r\n        editor.method('selector:itemsRaw', function () {\r\n            return self.selector.data;\r\n        });\r\n\r\n        // return if it has item\r\n        editor.method('selector:has', function (item: Observer) {\r\n            return self.selector.has(item);\r\n        });\r\n\r\n\r\n        editor.method('selector:enabled', function (state: boolean) {\r\n            self.enabled = state;\r\n        });\r\n\r\n    }\r\n\r\n\r\n}","export * from './toolbar-top-control';\r\nexport * from './keeper';\r\nexport * from './toolbar-logo';\r\nexport * from './toolbar-gizmos';\r\nexport * from './toolbar-history';\r\nexport * from './toolbar-help';\r\nexport * from './toolbar-control';\r\nexport * from './toolbar-editor-settings';\r\nexport * from './toolbar-publish';\r\nexport * from './toolbar-scene';\r\n","import { ToolbarLogo } from \"./toolbar-logo\";\r\nimport { ToolbarGizmos } from \"./toolbar-gizmos\";\r\nimport { ToolbarHistory } from \"./toolbar-history\";\r\nimport { ToolbarHelp } from \"./toolbar-help\";\r\nimport { ToolbarControl } from \"./toolbar-control\";\r\nimport { ToolbarEditorSettings } from \"./toolbar-editor-settings\";\r\nimport { ToolbarPublish } from \"./toolbar-publish\";\r\nimport { ToolbarScene } from \"./toolbar-scene\";\r\n\r\nexport class ToolbarKeeper {\r\n\r\n    public constructor() {\r\n\r\n        let logo = new ToolbarLogo();\r\n        let gizmos = new ToolbarGizmos();\r\n        let history = new ToolbarHistory();\r\n\r\n        let help = new ToolbarHelp();\r\n        let control = new ToolbarControl();\r\n        let settings = new ToolbarEditorSettings();\r\n        let publish = new ToolbarPublish();\r\n\r\n\r\n        let scene = new ToolbarScene();\r\n\r\n    }\r\n\r\n}","import { VeryEngine } from \"../../engine\";\r\nimport { Button, Tooltip } from \"../../ui\";\r\n\r\nexport class ToolbarControl {\r\n\r\n    public constructor() {\r\n\r\n        // var toolbar = VeryEngine.toolbar;\r\n\r\n        // var button = new Button('&#57654;');\r\n        // button.class!.add('pc-icon', 'help-controls', 'bottom');\r\n        // toolbar.append(button);\r\n\r\n        // button.on('click', function () {\r\n        //     editor.call('help:controls');\r\n        // });\r\n\r\n        // editor.on('help:controls:open', function () {\r\n        //     button.class!.add('active');\r\n        // });\r\n\r\n        // editor.on('help:controls:close', function () {\r\n        //     button.class!.remove('active');\r\n        // });\r\n\r\n        // Tooltip.attach({\r\n        //     target: button.element!,\r\n        //     text: 'Controls',\r\n        //     align: 'left',\r\n        //     root: editor.call('layout.root')\r\n        // });\r\n\r\n    }\r\n}","import { VeryEngine } from \"../../engine\";\r\nimport { Button, Tooltip } from \"../../ui\";\r\n\r\nexport class ToolbarEditorSettings {\r\n\r\n\r\n    public constructor() {\r\n\r\n        var toolbar = VeryEngine.toolbar;\r\n\r\n        // settings button\r\n        var button = new Button('&#57652;');\r\n        button.class!.add('pc-icon', 'editor-settings', 'bottom');\r\n        toolbar.append(button);\r\n\r\n        button.on('click', function () {\r\n            // TODO:设置按钮按下\r\n            // editor.call('selector:set', 'editorSettings', [editor.call('settings:projectUser')]);\r\n        });\r\n\r\n        editor.on('attributes:clear', function () {\r\n            button.class!.remove('active');\r\n        });\r\n\r\n        editor.on('attributes:inspect[editorSettings]', function () {\r\n            editor.call('attributes.rootPanel').collapsed = false;\r\n\r\n            button.class!.add('active');\r\n        });\r\n\r\n        editor.on('viewport:expand', function (state: boolean) {\r\n            button.disabled = state;\r\n        });\r\n\r\n        Tooltip.attach({\r\n            target: button.element!,\r\n            text: '设置',\r\n            align: 'left',\r\n            root: editor.call('layout.root')\r\n        });\r\n    }\r\n}","import { Button, Tooltip } from \"../../ui\";\r\nimport { GizmosCenter } from \"../gizmos/gizmo-center\";\r\n\r\nexport class ToolbarGizmos {\r\n\r\n    public constructor() {\r\n\r\n        var root = editor.call('layout.root');\r\n        var toolbar = editor.call('layout.toolbar');\r\n\r\n        var activeGizmo: Nullable<Button> = null;\r\n        var gizmoButtons: { [key: string]: Button } = {};\r\n\r\n        // create gizmo type buttons\r\n        [{\r\n            icon: '&#57617;',\r\n            tooltip: '移动',\r\n            op: 'translate'\r\n        }, {\r\n            icon: '&#57619;',\r\n            tooltip: '旋转',\r\n            op: 'rotate'\r\n        }, {\r\n            icon: '&#57618;',\r\n            tooltip: '缩放',\r\n            op: 'scale'\r\n        }\r\n        // , {\r\n        //     icon: '&#57666;',\r\n        //     tooltip: 'Resize Element Component',\r\n        //     op: 'resize'\r\n        // }\r\n    ].forEach(function (item, index) {\r\n            var button = new Button(item.icon);\r\n            // button.hidden = !editor.call('permissions:write');\r\n            button.op = item.op;\r\n            button.class!.add('pc-icon');\r\n\r\n            gizmoButtons[item.op] = button;\r\n\r\n            button.on('click', function () {\r\n                if (activeGizmo!.op === button.op)\r\n                    return;\r\n\r\n                activeGizmo!.class!.remove('active');\r\n                activeGizmo!.tooltip!.class!.add('innactive');\r\n                activeGizmo = button;\r\n                activeGizmo!.class!.add('active');\r\n                activeGizmo!.tooltip!.class!.remove('innactive');\r\n\r\n                editor.call('gizmo:type', button.op);\r\n\r\n                if (button.op === 'translate') {\r\n                    GizmosCenter.setMode(0);\r\n                } else if (button.op === 'rotate') {\r\n                    GizmosCenter.setMode(1);\r\n                } else {\r\n                    GizmosCenter.setMode(2);\r\n                }\r\n            });\r\n\r\n            toolbar.append(button);\r\n\r\n            button.tooltip = Tooltip.attach({\r\n                target: button.element!,\r\n                text: item.tooltip,\r\n                align: 'left',\r\n                root: root\r\n            });\r\n\r\n            if (item.op === 'translate') {\r\n                activeGizmo = button;\r\n                button.class!.add('active');\r\n            } else {\r\n                button.tooltip.class!.add('innactive');\r\n            }\r\n        });\r\n\r\n\r\n        // coordinate system\r\n        var buttonWorld = new Button('&#57624;');\r\n        // buttonWorld.hidden = !editor.call('permissions:write');\r\n        // buttonWorld.class!.add('pc-icon', 'active');\r\n        buttonWorld.class!.add('pc-icon');\r\n        toolbar.append(buttonWorld);\r\n\r\n        buttonWorld.on('click', function () {\r\n            if (buttonWorld.class!.contains('active')) {\r\n                buttonWorld.class!.remove('active');\r\n                tooltipWorld.html = '<span style=\"color:#fff\">局部坐标</span> / 世界坐标';\r\n            } else {\r\n                buttonWorld.class!.add('active');\r\n                tooltipWorld.html = '局部坐标 / <span style=\"color:#fff\">世界坐标</span>';\r\n            }\r\n            editor.emit('gizmo:coordSystem', buttonWorld.class!.contains('active') ? 'world' : 'local');\r\n        });\r\n\r\n        var tooltipWorld = Tooltip.attach({\r\n            target: buttonWorld.element!,\r\n            align: 'left',\r\n            root: root\r\n        });\r\n        tooltipWorld.html = '<span style=\"color:#fff\">局部坐标</span> / 世界坐标';\r\n        tooltipWorld.class!.add('innactive');\r\n\r\n\r\n        // toggle grid snap\r\n        // var buttonSnap = new Button('&#57622;');\r\n        // // buttonSnap.hidden = !editor.call('permissions:write');\r\n        // buttonSnap.class!.add('pc-icon');\r\n        // buttonSnap.on('click', function () {\r\n        //     if (buttonSnap.class!.contains('active')) {\r\n        //         buttonSnap.class!.remove('active');\r\n        //         tooltipSnap.class!.add('innactive');\r\n        //     } else {\r\n        //         buttonSnap.class!.add('active');\r\n        //         tooltipSnap.class!.remove('innactive');\r\n        //     }\r\n        //     editor.call('gizmo:snap', buttonSnap.class!.contains('active'));\r\n        // });\r\n        // toolbar.append(buttonSnap);\r\n\r\n        // var tooltipSnap = Tooltip.attach({\r\n        //     target: buttonSnap.element!,\r\n        //     text: 'Snap',\r\n        //     align: 'left',\r\n        //     root: root\r\n        // });\r\n        // tooltipSnap.class!.add('innactive');\r\n\r\n\r\n        editor.on('permissions:writeState', function (state: boolean) {\r\n            for (var key in gizmoButtons) {\r\n                // gizmoButtons[key].hidden = !state;\r\n            }\r\n\r\n            // buttonWorld.hidden = !state;\r\n            // buttonSnap.hidden = !state;\r\n        });\r\n\r\n\r\n        // focus on entity\r\n        var buttonFocus = new Button('&#57623;');\r\n        buttonFocus.disabled = true;\r\n        buttonFocus.class!.add('pc-icon');\r\n        buttonFocus.on('click', function () {\r\n            editor.call('viewport:focus');\r\n        });\r\n        toolbar.append(buttonFocus);\r\n\r\n        editor.on('attributes:clear', function () {\r\n            buttonFocus.disabled = true;\r\n            tooltipFocus.class!.add('innactive');\r\n        });\r\n        editor.on('attributes:inspect[*]', function (type: string) {\r\n            buttonFocus.disabled = type !== 'entity';\r\n            if (type === 'entity') {\r\n                tooltipFocus.class!.remove('innactive');\r\n            } else {\r\n                tooltipFocus.class!.add('innactive');\r\n            }\r\n        });\r\n\r\n        var tooltipFocus = Tooltip.attach({\r\n            target: buttonFocus.element!,\r\n            text: '聚焦当前物体',\r\n            align: 'left',\r\n            root: root\r\n        });\r\n        tooltipFocus.class!.add('innactive');\r\n\r\n\r\n\r\n    }\r\n\r\n}","import { VeryEngine } from \"../../engine\";\r\nimport { Button, Tooltip } from \"../../ui\";\r\n\r\nexport class ToolbarHelp {\r\n\r\n    public constructor() {\r\n        // var toolbar = VeryEngine.toolbar;\r\n\r\n        // var button = new Button('&#57656;');\r\n        // button.class!.add('pc-icon', 'help-howdoi', 'bottom', 'push-top');\r\n        // toolbar.append(button);\r\n\r\n        // button.on('click', function () {\r\n        //     editor.call('help:howdoi:toggle');\r\n        // });\r\n\r\n        // editor.on('help:howdoi:open', function () {\r\n        //     button.class!.add('active');\r\n        // });\r\n\r\n        // editor.on('help:howdoi:close', function () {\r\n        //     button.class!.remove('active');\r\n        // });\r\n\r\n        // Tooltip.attach({\r\n        //     target: button.element!,\r\n        //     text: 'How do I...?',\r\n        //     align: 'left',\r\n        //     root: editor.call('layout.root')\r\n        // });\r\n\r\n    }\r\n}","import { VeryEngine } from \"../../engine\";\r\nimport { Button, Tooltip } from \"../../ui\";\r\n\r\nexport class ToolbarHistory {\r\n\r\n    public constructor() {\r\n        var root = VeryEngine.root;\r\n        var toolbar = VeryEngine.toolbar;\r\n\r\n        // undo\r\n        var buttonUndo = new Button('&#57620;');\r\n        // buttonUndo.hidden = !editor.call('permissions:write');\r\n        buttonUndo.class!.add('pc-icon');\r\n        buttonUndo.enabled = editor.call('history:canUndo');\r\n        toolbar.append(buttonUndo);\r\n\r\n        editor.on('history:canUndo', function (state:boolean) {\r\n            buttonUndo.enabled = state;\r\n            if (state) {\r\n                tooltipUndo.class!.remove('innactive');\r\n            } else {\r\n                tooltipUndo.class!.add('innactive');\r\n            }\r\n        });\r\n        buttonUndo.on('click', function () {\r\n            editor.call('history:undo');\r\n        });\r\n\r\n        var tooltipUndo = Tooltip.attach({\r\n            target: buttonUndo.element!,\r\n            text: '撤销',\r\n            align: 'left',\r\n            root: root\r\n        });\r\n        if (!editor.call('history:canUndo'))\r\n            tooltipUndo.class!.add('innactive');\r\n\r\n\r\n        // redo\r\n        var buttonRedo = new Button('&#57621;');\r\n        // buttonRedo.hidden = !editor.call('permissions:write');\r\n        buttonRedo.class!.add('pc-icon');\r\n        buttonRedo.enabled = editor.call('history:canRedo');\r\n        toolbar.append(buttonRedo);\r\n\r\n        editor.on('history:canRedo', function (state: boolean) {\r\n            buttonRedo.enabled = state;\r\n            if (state) {\r\n                tooltipRedo.class!.remove('innactive');\r\n            } else {\r\n                tooltipRedo.class!.add('innactive');\r\n            }\r\n        });\r\n        buttonRedo.on('click', function () {\r\n            editor.call('history:redo');\r\n        });\r\n\r\n        var tooltipRedo = Tooltip.attach({\r\n            target: buttonRedo.element!,\r\n            text: '重做',\r\n            align: 'left',\r\n            root: root\r\n        });\r\n        if (!editor.call('history:canUndo'))\r\n            tooltipRedo.class!.add('innactive');\r\n\r\n        editor.on('permissions:writeState', function (state: boolean) {\r\n            buttonUndo.hidden = buttonRedo.hidden = !state;\r\n        });\r\n    }\r\n\r\n\r\n}","import { Button } from \"../../ui\";\r\n\r\nexport class ToolbarLogo {\r\n\r\n    public constructor() {\r\n\r\n        var root = editor.call('layout.root');\r\n        var toolbar = editor.call('layout.toolbar');\r\n\r\n        var logo = new Button();\r\n        logo.class!.add('logo');\r\n        logo.on('click', function () {\r\n            // menu.open = true;\r\n            console.log('logo click');\r\n        });\r\n        toolbar.append(logo);\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n","import { VeryEngine } from \"../../engine\";\r\nimport { Button, Tooltip } from \"../../ui\";\r\n\r\nexport class ToolbarPublish {\r\n    public constructor() {\r\n\r\n        var toolbar = VeryEngine.toolbar;\r\n\r\n        var button = new Button('&#57911;');\r\n        button.class!.add('pc-icon', 'publish-download');\r\n        toolbar.append(button);\r\n\r\n        button.on('click', function () {\r\n            editor.call('picker:publish');\r\n        });\r\n\r\n        editor.on('picker:publish:open', function () {\r\n            button.class!.add('active');\r\n        });\r\n\r\n        editor.on('picker:publish:close', function () {\r\n            button.class!.remove('active');\r\n        });\r\n\r\n        Tooltip.attach({\r\n            target: button.element!,\r\n            text: '发布',\r\n            align: 'left',\r\n            root: editor.call('layout.root')\r\n        });\r\n    }\r\n}","import { VeryEngine } from \"../../engine\";\r\nimport { Panel, Label, Tooltip } from \"../../ui\";\r\n\r\nexport class ToolbarScene {\r\n\r\n    public constructor() {\r\n\r\n        var root = VeryEngine.root;\r\n        var viewport = VeryEngine.viewportPanel;\r\n\r\n        var panel = new Panel();\r\n        panel.class!.add('widget-title');\r\n        viewport.append(panel);\r\n\r\n        editor.method('layout.toolbar.scene', function () {\r\n            return panel;\r\n        });\r\n\r\n        var projectName = new Label();\r\n        // TODO\r\n        projectName.text = '当前项目名称';\r\n        projectName.class!.add('project-name');\r\n        projectName.renderChanges = false;\r\n        panel.append(projectName);\r\n\r\n        projectName.on('click', function (argument: any) {\r\n            // window.open('/project/' + config.project.id, '_blank');\r\n        });\r\n\r\n        editor.method(\"toolbar.project.set\", (name: string) => {\r\n            projectName.text = name;\r\n        });\r\n\r\n        Tooltip.attach({\r\n            target: projectName.element!,\r\n            text: '项目名',\r\n            align: 'top',\r\n            root: root\r\n        });\r\n\r\n        var sceneName = new Label();\r\n        // TODO\r\n        sceneName.text = '当前Scene Name';\r\n        sceneName.class!.add('scene-name');\r\n        sceneName.renderChanges = false;\r\n        panel.append(sceneName);\r\n\r\n        editor.method(\"toolbar.scene.set\", (name: string) => {\r\n            sceneName.text = name;\r\n        });\r\n\r\n        Tooltip.attach({\r\n            target: sceneName.element!,\r\n            text: '场景名',\r\n            align: 'top',\r\n            root: root\r\n        });\r\n\r\n        editor.on('scene:name', function (name: string) {\r\n            sceneName.text = name;\r\n        });\r\n\r\n        sceneName.on('click', function () {\r\n            // editor.call('selector:set', 'editorSettings', [editor.call('settings:projectUser')]);\r\n        });\r\n\r\n        editor.on('attributes:clear', function () {\r\n            sceneName.class!.remove('active');\r\n        });\r\n\r\n        editor.on('attributes:inspect[editorSettings]', function () {\r\n            sceneName.class!.add('active');\r\n        });\r\n\r\n        editor.on('scene:unload', function () {\r\n            sceneName.text = '';\r\n        });\r\n\r\n\r\n        // if (!config.project.settings.useLegacyScripts) {\r\n        //     var name = config.self.branch.name;\r\n        //     if (name.length > 33) {\r\n        //         name = name.substring(0, 30) + '...';\r\n        //     }\r\n        //     var branchButton = new ui.Label({\r\n        //         text: name\r\n        //     });\r\n        //     branchButton.class.add('branch-name');\r\n        //     panel.append(branchButton);\r\n        //     branchButton.on('click', function () {\r\n        //         editor.call('picker:versioncontrol');\r\n        //     });\r\n\r\n        //     Tooltip.attach({\r\n        //         target: branchButton.element,\r\n        //         text: 'Version Control',\r\n        //         align: 'top',\r\n        //         root: root\r\n        //     });\r\n\r\n        //     // hide version control picker if we are not part of the team\r\n        //     if (!editor.call('permissions:read')) {\r\n        //         branchButton.hidden = true;\r\n        //     }\r\n        //     editor.on('permissions:set', function () {\r\n        //         branchButton.hidden = !editor.call('permissions:read');\r\n        //     });\r\n        // }\r\n\r\n        var sceneList = new Label();\r\n        sceneList.class!.add('scene-list');\r\n        panel.append(sceneList);\r\n\r\n        Tooltip.attach({\r\n            target: sceneList.element!,\r\n            text: '场景设置',\r\n            align: 'top',\r\n            root: root\r\n        });\r\n\r\n        sceneList.on('click', function () {\r\n            // editor.call('picker:scene');\r\n        });\r\n\r\n        editor.on('picker:scene:open', function () {\r\n            sceneList.class!.add('active');\r\n        });\r\n\r\n        editor.on('picker:scene:close', function () {\r\n            sceneList.class!.remove('active');\r\n        });\r\n\r\n\r\n    }\r\n}","import { Panel, Button, Tooltip } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\nimport { Config } from '../global';\r\n\r\nexport class ToolbarTopControl {\r\n\r\n\r\n\r\n\r\n    public constructor() {\r\n\r\n        // panel\r\n        var panel = new Panel();\r\n        panel.class!.add('top-controls');\r\n        VeryEngine.viewportPanel.append(panel);\r\n\r\n        editor.method('layout.toolbar.launch', function () {\r\n            return panel;\r\n        });\r\n\r\n        // fullscreen button\r\n        var buttonExpand = new Button('&#57639;');\r\n        buttonExpand.class!.add('icon', 'expand');\r\n        panel.append(buttonExpand);\r\n\r\n        buttonExpand.on('click', function () {\r\n            editor.call('viewport:expand');\r\n        });\r\n\r\n        editor.on('viewport:expand', function (state: boolean) {\r\n            if (state) {\r\n                tooltipExpand.text = '还原';\r\n                buttonExpand.class!.add('active');\r\n            } else {\r\n                tooltipExpand.text = '最大化';\r\n                buttonExpand.class!.remove('active');\r\n            }\r\n\r\n            tooltipExpand.hidden = true;\r\n        });\r\n\r\n        var tooltipExpand = Tooltip.attach({\r\n            target: buttonExpand.element!,\r\n            text: '最大化',\r\n            align: 'top',\r\n            root: VeryEngine.root\r\n        });\r\n\r\n        // launch\r\n        var launch = new Panel();\r\n        launch.class!.add('launch');\r\n        panel.append(launch);\r\n        launch.style!.marginRight = '2px';\r\n        // launch.disabled = true;\r\n\r\n        var buttonLaunch = new Button('&#57649;');\r\n        buttonLaunch.class!.add('icon');\r\n        launch.append(buttonLaunch);\r\n\r\n        buttonLaunch.on('click', function () {\r\n            window.open(window.location.protocol + '//' + window.location.host + '/publish/' + Config.projectID);\r\n        });\r\n\r\n        var tooltipLaunch = Tooltip.attach({\r\n            target: buttonLaunch.element!,\r\n            text: '运行',\r\n            align: 'top',\r\n            root: VeryEngine.root\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n}","import { Events } from \"../../lib\";\r\n\r\nexport class Ajax {\r\n\r\n    public constructor(args: object | string) {\r\n        if (typeof (args) === 'string')\r\n            args = { url: args };\r\n\r\n        return new AjaxRequest(args);\r\n    }\r\n\r\n    public static get(url: string): AjaxRequest {\r\n        return new AjaxRequest({ url: url });\r\n    }\r\n\r\n    public static post(url: string, data: any): AjaxRequest {\r\n        return new AjaxRequest({\r\n            method: 'POST',\r\n            url: url,\r\n            data: data\r\n        });\r\n    }\r\n\r\n    public static put(url: string, data: any): AjaxRequest {\r\n        return new AjaxRequest({\r\n            method: 'PUT',\r\n            url: url,\r\n            data: data\r\n        });\r\n    }\r\n\r\n    public static delete(url: string): AjaxRequest {\r\n        return new AjaxRequest({\r\n            method: 'DELETE',\r\n            url: url\r\n        });\r\n    }\r\n\r\n    public static params: { [key: string]: any } = {};\r\n\r\n    public static param(name: string, value: any): void {\r\n        Ajax.params[name] = value;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AjaxRequest extends Events {\r\n\r\n    private _progress: number = 0;\r\n\r\n    private _xhr: XMLHttpRequest;\r\n\r\n    public notJson: boolean;\r\n\r\n    public constructor(args: any) {\r\n        super();\r\n\r\n        if (!args) {\r\n            throw new Error('ajax请求无参数，请检查！')\r\n        }\r\n\r\n        this._progress = 0.0;\r\n        this.emit('progress', this._progress);\r\n\r\n        this._xhr = new XMLHttpRequest();\r\n\r\n        // send cookies\r\n        if (args.cookies)\r\n            this._xhr.withCredentials = true;\r\n\r\n        // events\r\n        this._xhr.addEventListener('load', this._onLoad.bind(this), false);\r\n        // this._xhr.addEventListener('progress', this._onProgress.bind(this), false);\r\n        this._xhr.upload.addEventListener('progress', this._onProgress.bind(this), false);\r\n        this._xhr.addEventListener('error', this._onError.bind(this), false);\r\n        this._xhr.addEventListener('abort', this._onAbort.bind(this), false);\r\n\r\n        // url\r\n        let url: string = args.url;\r\n\r\n        // query\r\n        if (args.query && Object.keys(args.query).length) {\r\n            if (url.indexOf('?') === -1) {\r\n                url += '?';\r\n            }\r\n\r\n            var query = [];\r\n            for (var key in args.query) {\r\n                query.push(key + '=' + args.query[key]);\r\n            }\r\n\r\n            url += query.join('&');\r\n        }\r\n\r\n        // templating\r\n        var parts = url.split('{{');\r\n        if (parts.length > 1) {\r\n            for (var i = 1; i < parts.length; i++) {\r\n                var ends = parts[i].indexOf('}}');\r\n                var key = parts[i].slice(0, ends);\r\n\r\n                if (Ajax.params[key] === undefined)\r\n                    continue;\r\n\r\n                // replace\r\n                parts[i] = Ajax.params[key] + parts[i].slice(ends + 2);\r\n            }\r\n\r\n            url = parts.join('');\r\n        }\r\n\r\n        // open request\r\n        this._xhr.open(args.method || 'GET', url, true);\r\n\r\n        // 返回数据是否为json格式\r\n        this.notJson = args.notJson || false;\r\n\r\n        // header for PUT/POST\r\n        if (!args.ignoreContentType && (args.method === 'PUT' || args.method === 'POST' || args.method === 'DELETE'))\r\n            this._xhr.setRequestHeader('Content-Type', 'application/json');\r\n\r\n        // TODO: 权限header参数\r\n        // if (args.auth && config.accessToken) {\r\n        //     this._xhr.setRequestHeader('Authorization', 'Bearer ' + config.accessToken);\r\n        // }\r\n\r\n        if (args.headers) {\r\n            for (var key in args.headers)\r\n                this._xhr.setRequestHeader(key, args.headers[key]);\r\n        }\r\n\r\n        // stringify data if needed\r\n        if (args.data && typeof (args.data) !== 'string' && !(args.data instanceof FormData)) {\r\n            args.data = JSON.stringify(args.data);\r\n        }\r\n\r\n        // make request\r\n        this._xhr.send(args.data || null);\r\n    }\r\n\r\n    private _onLoad(): void {\r\n        this._progress = 1.0;\r\n        this.emit('progress', 1.0);\r\n\r\n        if (this._xhr.status === 200 || this._xhr.status === 201) {\r\n            if (this.notJson) {\r\n                this.emit('load', this._xhr.status, this._xhr.responseText);\r\n            } else {\r\n                try {\r\n                    var json = JSON.parse(this._xhr.responseText);\r\n                } catch (ex) {\r\n                    this.emit('error', this._xhr.status || 0, new Error('invalid json'));\r\n                    return;\r\n                }\r\n                this.emit('load', this._xhr.status, json);\r\n            }\r\n        } else {\r\n            try {\r\n                var json = JSON.parse(this._xhr.responseText);\r\n                var msg = json.message;\r\n                if (!msg) {\r\n                    msg = json.error || (json.response && json.response.error);\r\n                }\r\n\r\n                if (!msg) {\r\n                    msg = this._xhr.responseText;\r\n                }\r\n\r\n                this.emit('error', this._xhr.status, msg);\r\n            } catch (ex) {\r\n                this.emit('error', this._xhr.status);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _onError(evt: any): void {\r\n        this.emit('error', 0, evt);\r\n    }\r\n\r\n    private _onAbort(evt: any): void {\r\n        this.emit('error', 0, evt);\r\n    }\r\n\r\n    private _onProgress(evt: any): void {\r\n        if (!evt.lengthComputable)\r\n            return;\r\n\r\n        var progress = evt.loaded / evt.total;\r\n\r\n        if (progress !== this._progress) {\r\n            this._progress = progress;\r\n            this.emit('progress', this._progress);\r\n        }\r\n    }\r\n\r\n    public abort(): void {\r\n        this._xhr.abort();\r\n    }\r\n\r\n\r\n}","export class ComponentsLogos {\r\n\r\n  public constructor() {\r\n    editor.method('components:logos', function () {\r\n      return {\r\n        'animation': '&#57875;',\r\n        'audiolistener': '&#57750;',\r\n        'audiosource': '&#57751;',\r\n        'sound': '&#57751;',\r\n        'camera': '&#57874;',\r\n        'collision': '&#57735;',\r\n        'directional': '&#57746;',\r\n        'point': '&#57745;',\r\n        'spot': '&#57747;',\r\n        'light': '&#57748;',\r\n        'model': '&#57736;',\r\n        'particlesystem': '&#57753;',\r\n        'rigidbody': '&#57737;',\r\n        'script': '&#57910;',\r\n        'screen': '&#58371;',\r\n        'sprite': '&#58261;',\r\n        'element': '&#58232;',\r\n        'layoutgroup': '&#57667;',\r\n        'layoutchild': '&#57667;',\r\n        'scrollview': '&#58376;',\r\n        'scrollbar': '&#58377;',\r\n        'button': '&#58373;',\r\n        'zone': '&#57910;',\r\n        '2d-screen': '&#58371;',\r\n        '3d-screen': '&#58372;',\r\n        'text-element': '&#58374;',\r\n        'image-element': '&#58005;',\r\n        'group-element': '&#58375;',\r\n        'userinterface': '&#58370;'\r\n      };\r\n    });\r\n  }\r\n\r\n\r\n\r\n}","export class ContextMenu {\r\n\r\n  public constructor() {\r\n    // 阻止默认鼠标右键菜单\r\n    window.addEventListener('contextmenu', function (evt) {\r\n      evt.preventDefault();\r\n    }, false);\r\n  }\r\n\r\n}","export class Debug {\r\n\r\n    private allow: boolean;\r\n\r\n    public constructor(allow: boolean = true) {\r\n        this.allow = allow;\r\n    }\r\n\r\n    public log(message?: any, ...optionalParams: any[]): void {\r\n        if (!this.allow) return;\r\n        console.log(message, optionalParams);\r\n    }\r\n\r\n    public warn(message?: any, ...optionalParams: any[]): void {\r\n        if (!this.allow) return;\r\n        console.warn(message, optionalParams);\r\n    }\r\n\r\n    public error(message?: any, ...optionalParams: any[]): void {\r\n        if (!this.allow) return;\r\n        console.error(message, optionalParams);\r\n    }\r\n\r\n}","export class EventProxy {\r\n\r\n    private _callbacks: { [key: string]: Function[] };\r\n    private _fired: { [key: string]: any } = {};\r\n    private _after: any;\r\n\r\n    public debug: Function;\r\n\r\n    /*!\r\n     * refs\r\n     */\r\n    private SLICE = Array.prototype.slice;\r\n    private CONCAT = Array.prototype.concat;\r\n    private ALL_EVENT: string = '__all__';\r\n\r\n    private later = (typeof setImmediate !== 'undefined' && setImmediate) ||\r\n        (typeof process !== 'undefined' && process.nextTick) || function (fn) {\r\n            setTimeout(fn, 0);\r\n        };\r\n\r\n\r\n    public constructor(debug?: () => void) {\r\n        this.debug = debug || function () { };\r\n        this._callbacks = {};\r\n    }\r\n\r\n    public addListener(ev: string, callback: Function): EventProxy {\r\n        this.debug('Add listener for %s', ev);\r\n        this._callbacks[ev] = this._callbacks[ev] || [];\r\n        this._callbacks[ev].push(callback);\r\n        return this;\r\n    }\r\n\r\n    public bind(ev: string, callback: Function): EventProxy {\r\n        return this.addListener(ev, callback);\r\n    }\r\n\r\n    public on(ev: string, callback: Function): EventProxy {\r\n        return this.addListener(ev, callback);\r\n    }\r\n\r\n    public subscribe(ev: string, callback: Function): EventProxy {\r\n        return this.addListener(ev, callback);\r\n    }\r\n\r\n    public headbind(ev: string, callback: Function): EventProxy {\r\n        this.debug('Add listener for %s', ev);\r\n        this._callbacks[ev] = this._callbacks[ev] || [];\r\n        this._callbacks[ev].unshift(callback);\r\n        return this;\r\n    }\r\n\r\n    public removeListener(eventname?: string, callback?: Nullable<Function>): EventProxy {\r\n        var calls = this._callbacks;\r\n        if (!eventname) {\r\n            this.debug('Remove all listeners');\r\n            this._callbacks = {};\r\n        } else {\r\n            if (!callback) {\r\n                this.debug('Remove all listeners of %s', eventname);\r\n                calls[eventname] = [];\r\n            } else {\r\n                var list = calls[eventname];\r\n                if (list) {\r\n                    var l = list.length;\r\n                    for (var i = 0; i < l; i++) {\r\n                        if (callback === list[i]) {\r\n                            this.debug('Remove a listener of %s', eventname);\r\n                            list.splice(i, 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public unbind(eventname?: string, callback?: Nullable<Function>): EventProxy {\r\n        return this.removeListener(eventname, callback);\r\n    }\r\n\r\n    public removeAllListeners(): EventProxy {\r\n        return this.unbind();\r\n    }\r\n\r\n    public bindForAll(callback: Function): void {\r\n        this.bind(this.ALL_EVENT, callback);\r\n    }\r\n\r\n    public unbindForAll(callback: Function): void {\r\n        this.unbind(this.ALL_EVENT, callback);\r\n    }\r\n\r\n\r\n    public trigger(eventname: string, data?: any, ...args: any[]): EventProxy {\r\n        var list, ev, callback, i, l;\r\n        var both = 2;\r\n        var calls = this._callbacks;\r\n        this.debug('Emit event %s with data %j', eventname, data);\r\n        // 运行当前ev和ALL\r\n        while (both--) {\r\n            ev = both ? eventname : this.ALL_EVENT;\r\n            list = calls[ev];\r\n            if (list) {\r\n                for (i = 0, l = list.length; i < l; i++) {\r\n                    if (!(callback = list[i])) {\r\n                        list.splice(i, 1);\r\n                        i--;\r\n                        l--;\r\n                    } else {\r\n                        var args = [];\r\n                        var start = both ? 1 : 0;\r\n                        for (var j = start; j < arguments.length; j++) {\r\n                            args.push(arguments[j]);\r\n                        }\r\n                        callback.apply(this, args);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public emit(eventname: string, data?: any): EventProxy {\r\n        return this.trigger(eventname, data);\r\n    }\r\n\r\n    public fire(eventname: string, data?: any): EventProxy {\r\n        return this.trigger(eventname, data);\r\n    }\r\n\r\n    public once(ev: string, callback: Function): EventProxy {\r\n        var self = this;\r\n        var wrapper = function () {\r\n            callback.apply(self, arguments);\r\n            self.unbind(ev, wrapper);\r\n        };\r\n        this.bind(ev, wrapper);\r\n        return this;\r\n    }\r\n\r\n    // TODO\r\n    // public emitLater() {\r\n    //     var self = this;\r\n    //     var args: any[] = [];\r\n\r\n    //     for(var i = 0; i < arguments.length; i++) {\r\n    //         args.push(arguments[i]);\r\n    //     }\r\n    //     this.later(function () {\r\n    //         self.trigger.apply(self, args);\r\n    //     });\r\n    // }\r\n\r\n\r\n    public immediate(ev: string, callback: Function, data: any) {\r\n        this.bind(ev, callback);\r\n        this.trigger(ev, data);\r\n        return this;\r\n    }\r\n\r\n    private _assign(eventnames: string[], cb: Function, once: boolean): void {\r\n        var proxy = this;\r\n        // var argsLength = arguments.length;\r\n        var times = 0;\r\n        var flag: { [key: string]: boolean } = {};\r\n\r\n        // Check the arguments length.\r\n        // if (argsLength < 3) {\r\n        //     return this;\r\n        // }\r\n\r\n        var events = eventnames;\r\n        var callback = cb;\r\n        var isOnce = once;\r\n\r\n        // Check the callback type.\r\n        if (typeof callback !== \"function\") {\r\n            return;\r\n        }\r\n        this.debug('Assign listener for events %j, once is %s', events, !!isOnce);\r\n\r\n        var bind = function (key: string) {\r\n            if (isOnce) {\r\n                proxy.once(key, (data: any) => {\r\n                    proxy._fired[key] = proxy._fired[key] || {};\r\n                    proxy._fired[key].data = data;\r\n                    if (!flag[key]) {\r\n                        flag[key] = true;\r\n                        times++;\r\n                    }\r\n                });\r\n            } else {\r\n                proxy.bind(key, (data: any) => {\r\n                    proxy._fired[key] = proxy._fired[key] || {};\r\n                    proxy._fired[key].data = data;\r\n                    if (!flag[key]) {\r\n                        flag[key] = true;\r\n                        times++;\r\n                    }\r\n                })\r\n            }\r\n        };\r\n\r\n        var length = events.length;\r\n        for (var index = 0; index < length; index++) {\r\n            bind(events[index]);\r\n        }\r\n\r\n        var _all = function (event: string) {\r\n            if (times < length) {\r\n                return;\r\n            }\r\n            if (!flag[event]) {\r\n                return;\r\n            }\r\n            var data = [];\r\n            for (var index = 0; index < length; index++) {\r\n                data.push(proxy._fired[events[index]].data);\r\n            }\r\n            if (isOnce) {\r\n                proxy.unbindForAll(_all);\r\n            }\r\n            proxy.debug('Events %j all emited with data %j', events, data);\r\n            callback.apply(null, data);\r\n        };\r\n        proxy.bindForAll(_all);\r\n    }\r\n\r\n\r\n    public all(eventname1: string | string[], eventname2: string | string[], callback: Function): EventProxy {\r\n        var names: string[] = [];\r\n        if (typeof eventname1 === 'string') {\r\n            names.push(eventname1);\r\n        } else {\r\n            names = this.CONCAT.apply(names, <string[]>eventname1);\r\n        }\r\n        if (typeof eventname2 === 'string') {\r\n            names.push(eventname2);\r\n        } else {\r\n            names = this.CONCAT.apply(names, <string[]>eventname2);\r\n        }\r\n        this._assign.apply(this, [names, callback, true]);\r\n        return this;\r\n    }\r\n\r\n    public assign(eventname1: string | string[], eventname2: string | string[], callback: Function): EventProxy {\r\n        return this.all(eventname1, eventname2, callback);\r\n    }\r\n\r\n    public fail(callback: Function): EventProxy {\r\n        var that = this;\r\n        that.once('error', function () {\r\n            that.unbind();\r\n            // put all arguments to the error handler\r\n            // fail(function(err, args1, args2, ...){})\r\n            callback.apply(null, arguments);\r\n        });\r\n        return this;\r\n    }\r\n\r\n    public throw(err: Error): void {\r\n        this.emit('error', err);\r\n    }\r\n\r\n    public tail(eventname1: string | string[], eventname2: string | string[], callback: Function): EventProxy {\r\n        var names: string[] = [];\r\n        if (typeof eventname1 === 'string') {\r\n            names.push(eventname1);\r\n        } else {\r\n            names = this.CONCAT.apply(names, <string[]>eventname1);\r\n        }\r\n        if (typeof eventname2 === 'string') {\r\n            names.push(eventname2);\r\n        } else {\r\n            names = this.CONCAT.apply(names, <string[]>eventname2);\r\n        }\r\n        this._assign.apply(this, [names, callback, false]);\r\n        return this;\r\n    }\r\n\r\n    public assignAll(eventname1: string | string[], eventname2: string | string[], callback: Function): EventProxy {\r\n        return this.tail(eventname1, eventname2, callback);\r\n    }\r\n\r\n    public assignAlways(eventname1: string | string[], eventname2: string | string[], callback: Function): EventProxy {\r\n        return this.tail(eventname1, eventname2, callback);\r\n    }\r\n\r\n    /**\r\n     * The callback will be executed after the event be fired N times.\r\n     * @param {String} eventname Event name.\r\n     * @param {Number} times N times.\r\n     * @param {Function} callback Callback, that will be called after event was fired N times.\r\n     */\r\n    public after(eventname: string, times: number, callback: Function): EventProxy {\r\n        if (times === 0) {\r\n            callback.call(null, []);\r\n            return this;\r\n        }\r\n        var proxy = this,\r\n            firedData: any[] = [];\r\n        this._after = this._after || {};\r\n        var group = eventname + '_group';\r\n        this._after[group] = {\r\n            index: 0,\r\n            results: []\r\n        };\r\n        this.debug('After emit %s times, event %s\\'s listenner will execute', times, eventname);\r\n        var all = function (name: string, data: any) {\r\n            if (name === eventname) {\r\n                times--;\r\n                firedData.push(data);\r\n                if (times < 1) {\r\n                    proxy.debug('Event %s was emit %s, and execute the listenner', eventname, times);\r\n                    proxy.unbindForAll(all);\r\n                    callback.apply(null, [firedData]);\r\n                }\r\n            }\r\n            if (name === group) {\r\n                times--;\r\n                proxy._after[group].results[data.index] = data.result;\r\n                if (times < 1) {\r\n                    proxy.debug('Event %s was emit %s, and execute the listenner', eventname, times);\r\n                    proxy.unbindForAll(all);\r\n                    callback.call(null, proxy._after[group].results);\r\n                }\r\n            }\r\n        };\r\n        proxy.bindForAll(all);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * The `after` method's helper. Use it will return ordered results.\r\n     * If you need manipulate result, you need callback\r\n     * Examples:\r\n     * ```js\r\n     * var ep = new EventProxy();\r\n     * ep.after('file', files.length, function (list) {\r\n     *   // Ordered results\r\n     * });\r\n     * for (var i = 0; i < files.length; i++) {\r\n     *   fs.readFile(files[i], 'utf-8', ep.group('file'));\r\n     * }\r\n     * ```\r\n     * @param {String} eventname Event name, shoule keep consistent with `after`.\r\n     * @param {Function} callback Callback function, should return the final result.\r\n     */\r\n    public group(eventname: string, callback: Function) {\r\n        var that = this;\r\n        var group = eventname + '_group';\r\n        var index = that._after[group].index;\r\n        that._after[group].index++;\r\n        return function (err: Error, data: any) {\r\n            if (err) {\r\n                // put all arguments to the error handler\r\n                that.throw(err);\r\n            }\r\n            that.emit(group, {\r\n                index: index,\r\n                // callback(err, args1, args2, ...)\r\n                result: callback ? callback.apply(null, that.SLICE.call(arguments, 1)) : data\r\n            });\r\n        };\r\n    }\r\n\r\n    /**\r\n     * The callback will be executed after any registered event was fired. It only executed once.\r\n     * @param {String} eventname1 Event name.\r\n     * @param {String} eventname2 Event name.\r\n     * @param {Function} callback The callback will get a map that has data and eventname attributes.\r\n     */\r\n    public any(eventname1: string | string[], eventname2: string | string[], callback: Function) {\r\n        var proxy = this,\r\n            events = proxy.SLICE.call(arguments, 0, -1),\r\n            _eventname = events.join(\"_\");\r\n\r\n        proxy.debug('Add listenner for Any of events %j emit', events);\r\n        proxy.once(_eventname, callback);\r\n\r\n        var _bind = function (key: string) {\r\n            proxy.bind(key, function (data: any) {\r\n                proxy.debug('One of events %j emited, execute the listenner');\r\n                proxy.trigger(_eventname, { \"data\": data, eventName: key });\r\n            });\r\n        };\r\n\r\n        for (var index = 0; index < events.length; index++) {\r\n            _bind(events[index]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The callback will be executed when the event name not equals with assigned event.\r\n     * @param {String} eventname Event name.\r\n     * @param {Function} callback Callback.\r\n     */\r\n    public not(eventname: string, callback: Function) {\r\n        var proxy = this;\r\n        proxy.debug('Add listenner for not event %s', eventname);\r\n        proxy.bindForAll(function (name: string, data: any) {\r\n            if (name !== eventname) {\r\n                proxy.debug('listenner execute of event %s emit, but not event %s.', name, eventname);\r\n                callback(data);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Success callback wrapper, will handler err for you.\r\n     *\r\n     * ```js\r\n     * fs.readFile('foo.txt', ep.done('content'));\r\n     *\r\n     * // equal to =>\r\n     *\r\n     * fs.readFile('foo.txt', function (err, content) {\r\n     *   if (err) {\r\n     *     return ep.emit('error', err);\r\n     *   }\r\n     *   ep.emit('content', content);\r\n     * });\r\n     * ```\r\n     *\r\n     * ```js\r\n     * fs.readFile('foo.txt', ep.done('content', function (content) {\r\n     *   return content.trim();\r\n     * }));\r\n     *\r\n     * // equal to =>\r\n     *\r\n     * fs.readFile('foo.txt', function (err, content) {\r\n     *   if (err) {\r\n     *     return ep.emit('error', err);\r\n     *   }\r\n     *   ep.emit('content', content.trim());\r\n     * });\r\n     * ```\r\n     * @param {Function|String} handler, success callback or event name will be emit after callback.\r\n     * @return {Function}\r\n     */\r\n    public done(handler: Function | String, callback?: Function) {\r\n        var that = this;\r\n        return function (err: Error, data: any) {\r\n            if (err) {\r\n                // put all arguments to the error handler\r\n                return that.emit.apply(that, ['error', err]);\r\n            }\r\n\r\n            // callback(err, args1, args2, ...)\r\n            var args = that.SLICE.call(arguments, 1);\r\n\r\n            if (typeof handler === 'string') {\r\n                if (callback) {\r\n                    // only replace the args when it really return a result\r\n                    return that.emit(handler, callback.apply(null, args));\r\n                } else {\r\n                    // put all arguments to the done handler\r\n                    //ep.done('some');\r\n                    //ep.on('some', function(args1, args2, ...){});\r\n                    return that.emit.apply(that, [handler, args]);\r\n                }\r\n            }\r\n\r\n            // speed improve for mostly case: `callback(err, data)`\r\n            if (arguments.length <= 2) {\r\n                return (<Function>handler)(data);\r\n            }\r\n\r\n            // callback(err, args1, args2, ...)\r\n            (<Function>handler).apply(null, args);\r\n        };\r\n    }\r\n\r\n    //     /**\r\n    //    * make done async\r\n    //    * @return {Function} delay done\r\n    //    */\r\n    //     EventProxy.prototype.doneLater = function (handler, callback) {\r\n    //         var _doneHandler = this.done(handler, callback);\r\n    //         return function (err, data) {\r\n    //             var args = arguments;\r\n    //             later(function () {\r\n    //                 _doneHandler.apply(null, args);\r\n    //             });\r\n    //         };\r\n    //     };\r\n\r\n    /**\r\n     * Create a new EventProxy\r\n     * Examples:\r\n     * ```js\r\n     * var ep = EventProxy.create();\r\n     * ep.assign('user', 'articles', function(user, articles) {\r\n     *   // do something...\r\n     * });\r\n     * // or one line ways: Create EventProxy and Assign\r\n     * var ep = EventProxy.create('user', 'articles', function(user, articles) {\r\n     *   // do something...\r\n     * });\r\n     * ```\r\n     * @return {EventProxy} EventProxy instance\r\n     */\r\n    public static create(): EventProxy {\r\n        var ep = new EventProxy();\r\n        return ep;\r\n    }\r\n\r\n    public static createWithArgs(eventname1: string | string[], eventname2: string | string[], callback: Function): EventProxy {\r\n        var ep = new EventProxy();\r\n        var names: string[] = [];\r\n        if (typeof eventname1 === 'string') {\r\n            names.push(eventname1);\r\n        } else {\r\n            names = ep.CONCAT.apply(names, <string[]>eventname1);\r\n        }\r\n        if (typeof eventname2 === 'string') {\r\n            names.push(eventname2);\r\n        } else {\r\n            names = ep.CONCAT.apply(names, <string[]>eventname2);\r\n        }\r\n        ep._assign.apply(this, [names, callback, true]);\r\n        return ep;\r\n    }\r\n\r\n\r\n}","export class GUID {\r\n\r\n  /**\r\n   * 创建GUID唯一标志，注意：采用大数法，有很小的可能性会重复，一般够用；\r\n   */\r\n  public static create(): string {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c: string) {\r\n      let r = Math.random() * 16 | 0,\r\n        v = (c === 'x') ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n  }\r\n\r\n}","export * from './components-logos';\r\nexport * from './context-menu';\r\nexport * from './guid';\r\nexport * from './eventproxy';\r\nexport * from './debug';\r\nexport * from './tools';\r\nexport * from './ajax';\r\nexport * from './sha1';\r\n","export class SHA1 {\r\n\r\n    public constructor() {\r\n\r\n    }\r\n\r\n\r\n    // SHA1  \r\n    private static add(x: any, y: any) {\r\n        return ((x & 0x7FFFFFFF) + (y & 0x7FFFFFFF)) ^ (x & 0x80000000) ^ (y & 0x80000000);\r\n    }\r\n\r\n    private static SHA1hex(num: any) {\r\n        var sHEXChars = \"0123456789abcdef\";\r\n        var str = \"\";\r\n        for (var j = 7; j >= 0; j--)\r\n            str += sHEXChars.charAt((num >> (j * 4)) & 0x0F);\r\n        return str;\r\n    }\r\n\r\n    private static AlignSHA1(sIn: any) {\r\n        var nblk = ((sIn.length + 8) >> 6) + 1,\r\n            blks = new Array(nblk * 16);\r\n        for (var i = 0; i < nblk * 16; i++) blks[i] = 0;\r\n        for (i = 0; i < sIn.length; i++)\r\n            blks[i >> 2] |= sIn.charCodeAt(i) << (24 - (i & 3) * 8);\r\n        blks[i >> 2] |= 0x80 << (24 - (i & 3) * 8);\r\n        blks[nblk * 16 - 1] = sIn.length * 8;\r\n        return blks;\r\n    }\r\n\r\n    private static rol(num: any, cnt: any) {\r\n        return (num << cnt) | (num >>> (32 - cnt));\r\n    }\r\n\r\n    private static ft(t: any, b: any, c: any, d: any) {\r\n        if (t < 20) return (b & c) | ((~b) & d);\r\n        if (t < 40) return b ^ c ^ d;\r\n        if (t < 60) return (b & c) | (b & d) | (c & d);\r\n        return b ^ c ^ d;\r\n    }\r\n\r\n    private static kt(t: any) {\r\n        return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 :\r\n            (t < 60) ? -1894007588 : -899497514;\r\n    }\r\n\r\n    public static SHA1(sIn: any) {\r\n        var x = SHA1.AlignSHA1(sIn);\r\n        var w = new Array(80);\r\n        var a = 1732584193;\r\n        var b = -271733879;\r\n        var c = -1732584194;\r\n        var d = 271733878;\r\n        var e = -1009589776;\r\n        for (var i = 0; i < x.length; i += 16) {\r\n            var olda = a;\r\n            var oldb = b;\r\n            var oldc = c;\r\n            var oldd = d;\r\n            var olde = e;\r\n            for (var j = 0; j < 80; j++) {\r\n                if (j < 16) w[j] = x[i + j];\r\n                else w[j] = SHA1.rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\r\n                var  t = SHA1.add(SHA1.add(SHA1.rol(a, 5), SHA1.ft(j, b, c, d)), SHA1.add(SHA1.add(e, w[j]), SHA1.kt(j)));\r\n                e = d;\r\n                d = c;\r\n                c = SHA1.rol(b, 30);\r\n                b = a;\r\n                a = t;\r\n            }\r\n            a = SHA1.add(a, olda);\r\n            b = SHA1.add(b, oldb);\r\n            c = SHA1.add(c, oldc);\r\n            d = SHA1.add(d, oldd);\r\n            e = SHA1.add(e, olde);\r\n        }\r\n        var SHA1Value = SHA1.SHA1hex(a) + SHA1.SHA1hex(b) + SHA1.SHA1hex(c) + SHA1.SHA1hex(d) + SHA1.SHA1hex(e);\r\n        return SHA1Value;\r\n    }\r\n}\r\n\r\n\r\n","// import { WebRequest } from '../middleware/offline/webrequest';\r\nimport { VeryEngine } from '../../engine';\r\nimport { SHA1 } from './sha1';\r\n\r\nexport class Tools {\r\n\r\n    public static BaseUrl = '';\r\n\r\n\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public static eulerAngleToRadian(val: BABYLON.Vector3): BABYLON.Vector3 {\r\n        let para: number = Math.PI / 180;\r\n        return val.multiplyByFloats(para, para, para);\r\n    }\r\n\r\n    public static radianToEulerAngle(val: BABYLON.Vector3): BABYLON.Vector3 {\r\n        let para: number = 180 / Math.PI;\r\n        return val.multiplyByFloats(para, para, para);\r\n    }\r\n\r\n    public static vector3ToArray(val: BABYLON.Vector3): number[] {\r\n        return [val.x, val.y, val.z];\r\n    }\r\n\r\n    public static sha1(val: any): string {\r\n        return SHA1.SHA1(val);\r\n    }\r\n\r\n    public static GetFilename(path: string): string {\r\n        var index = path.lastIndexOf('/');\r\n        if (index < 0) {\r\n            return path;\r\n        }\r\n\r\n        return path.substring(index + 1);\r\n    }\r\n\r\n    public static GetFolderPath(uri: string, returnUnchangedIfNoSlash = false): string {\r\n        var index = uri.lastIndexOf('/');\r\n        if (index < 0) {\r\n            if (returnUnchangedIfNoSlash) {\r\n                return uri;\r\n            }\r\n            return '';\r\n        }\r\n        return uri.substring(0, index + 1);\r\n    }\r\n\r\n\r\n    // TODO\r\n    public static Error(message: string): void {\r\n        debug.error(message);\r\n    }\r\n\r\n    public static CleanUrl(url: string): string {\r\n        url = url.replace(/#/mg, '%23');\r\n        return url;\r\n    }\r\n\r\n    public static PreprocessUrl = (url: string) => {\r\n        return url;\r\n    }\r\n\r\n\r\n    public static loadBabylon(): void {\r\n        // axios.defaults.responseType = 'json';\r\n        axios.get('scene/dude.json')\r\n            .then(respone => {\r\n                console.warn(typeof respone.data);\r\n                // console.log(respone.data.toString());\r\n                console.log(respone.data);\r\n                // console.log(respone.data.meshes);\r\n                // scene数据 -> mesh -> name -> babylon.meshes array -> id ？ 貌似导出的id应该是不重合的\r\n\r\n                // 加载blue\r\n                Tools.loadBlue(respone.data, 'scene/');\r\n\r\n            });\r\n\r\n        let success = (data: string | ArrayBuffer, url: string | undefined): void => {\r\n            // console.error(data);\r\n            // console.error(data);\r\n            // console.error(url);\r\n        }\r\n\r\n        // BABYLON.Tools.LoadFile('scene/scene.babylon', success);\r\n\r\n        // console.error('length: ' + Object.keys(BABYLON.FilesInputStore.FilesToLoad).length);\r\n        // for (let key in BABYLON.FilesInputStore.FilesToLoad) {\r\n        //     console.error('key: ' + key);\r\n        //     console.error(BABYLON.FilesInputStore.FilesToLoad[key]);\r\n        // }\r\n    }\r\n\r\n\r\n    public static loadBlue(data: any, rootUrl: string): void {\r\n\r\n        // 根据ID加载资源 -> mesh -> material -> animations\r\n        // 属性面板和Assets显示完整模型? -> container中包含模型，两边使用 -> 但是如果一边删除了模型，container中也没了\r\n\r\n        // ?在new Mesh时，mesh已经添加到对应的scene，难办了，如何实现缓存？只实现数据的缓存？\r\n        // 再搞一个中间结构缓存原始数据？\r\n        // scene数据 -> .babylon数据缓存 -> model -> mesh | 几何 + material + texture -> 进行快速关联 -> 如何把texture提交进去\r\n        // texture数据如何实现缓存，直接将数据交给engine中的数据结构？\r\n\r\n        // Lights\r\n        if (data.lights !== undefined && data.lights !== null) {\r\n            for (let index = 0, cache = data.lights.length; index < cache; index++) {\r\n                var parsedLight = data.lights[index];\r\n                var light = BABYLON.Light.Parse(parsedLight, VeryEngine.viewScene);\r\n                if (light) {\r\n                    // container.lights.push(light);\r\n                    // log += (index === 0 ? '\\n\\tLights:' : '');\r\n                    // log += '\\n\\t\\t' + light.toString(fullDetails);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Animations\r\n        if (data.animations !== undefined && data.animations !== null) {\r\n            for (let index = 0, cache = data.animations.length; index < cache; index++) {\r\n                var parsedAnimation = data.animations[index];\r\n                const internalClass = BABYLON._TypeStore.GetClass('BABYLON.Animation');\r\n                if (internalClass) {\r\n                    let animation = internalClass.Parse(parsedAnimation);\r\n                    VeryEngine.viewScene.animations.push(animation);\r\n                    // container.animations.push(animation);\r\n                    // log += (index === 0 ? '\\n\\tAnimations:' : '');\r\n                    // log += '\\n\\t\\t' + animation.toString(fullDetails);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Materials\r\n        if (data.materials !== undefined && data.materials !== null) {\r\n            for (let index = 0, cache = data.materials.length; index < cache; index++) {\r\n                var parsedMaterial = data.materials[index];\r\n                var mat = BABYLON.Material.Parse(parsedMaterial, VeryEngine.viewScene, rootUrl);\r\n                // container.materials.push(mat);\r\n                // log += (index === 0 ? '\\n\\tMaterials:' : '');\r\n                // log += '\\n\\t\\t' + mat.toString(fullDetails);\r\n            }\r\n        }\r\n\r\n        if (data.multiMaterials !== undefined && data.multiMaterials !== null) {\r\n            for (let index = 0, cache = data.multiMaterials.length; index < cache; index++) {\r\n                var parsedMultiMaterial = data.multiMaterials[index];\r\n                var mmat = BABYLON.MultiMaterial.ParseMultiMaterial(parsedMultiMaterial, VeryEngine.viewScene);\r\n                // container.multiMaterials.push(mmat);\r\n                // log += (index === 0 ? '\\n\\tMultiMaterials:' : '');\r\n                // log += '\\n\\t\\t' + mmat.toString(fullDetails);\r\n            }\r\n        }\r\n\r\n        // Skeletons\r\n        if (data.skeletons !== undefined && data.skeletons !== null) {\r\n            for (let index = 0, cache = data.skeletons.length; index < cache; index++) {\r\n                var parsedSkeleton = data.skeletons[index];\r\n                var skeleton = BABYLON.Skeleton.Parse(parsedSkeleton, VeryEngine.viewScene);\r\n                skeleton.beginAnimation('Skeleton0', true);\r\n                // container.skeletons.push(skeleton);\r\n                // log += (index === 0 ? '\\n\\tSkeletons:' : '');\r\n                // log += '\\n\\t\\t' + skeleton.toString(fullDetails);\r\n            }\r\n        }\r\n\r\n        // Geometries\r\n        var geometries = data.geometries;\r\n        if (geometries !== undefined && geometries !== null) {\r\n            var addedGeometry = new Array<Nullable<BABYLON.Geometry>>();\r\n\r\n            // VertexData\r\n            var vertexData = geometries.vertexData;\r\n            if (vertexData !== undefined && vertexData !== null) {\r\n                for (let index = 0, cache = vertexData.length; index < cache; index++) {\r\n                    var parsedVertexData = vertexData[index];\r\n                    addedGeometry.push(BABYLON.Geometry.Parse(parsedVertexData, VeryEngine.viewScene, rootUrl));\r\n                }\r\n            }\r\n\r\n            // addedGeometry.forEach((g) => {\r\n            //     if (g) {\r\n            //         container.geometries.push(g);\r\n            //     }\r\n            // });\r\n        }\r\n\r\n        // meshes\r\n        if (data.meshes !== undefined && data.meshes !== null) {\r\n            for (let index = 0, cache = data.meshes.length; index < cache; index++) {\r\n                var parsedMesh = data.meshes[index];\r\n                var mesh = <BABYLON.AbstractMesh>BABYLON.Mesh.Parse(parsedMesh, VeryEngine.viewScene, rootUrl);\r\n                // container.meshes.push(mesh);\r\n                // log += (index === 0 ? '\\n\\tMeshes:' : '');\r\n                // log += '\\n\\t\\t' + mesh.toString(fullDetails);\r\n            }\r\n        }\r\n\r\n        // 创建之前先搞一个blob？\r\n        // let tex = new BABYLON.Texture('scene/头像.png', VeryEngine.viewScene);\r\n        // console.log(tex);\r\n\r\n        console.log(VeryEngine.viewEngine._internalTexturesCache);\r\n\r\n        // setTimeout(() => {\r\n        //     VeryEngine.viewScene.render();\r\n        //     BABYLON.Tools.CreateScreenshot(VeryEngine.viewEngine, VeryEngine.viewScene.activeCamera!, 1600);\r\n        // }, 2000);\r\n        // 信息交换\r\n\r\n    }\r\n\r\n    // public static LoadFile(url: string, onSuccess: (data: string | ArrayBuffer, responseURL?: string) => void, onProgress?: (data: any) => void, useArrayBuffer?: boolean, onError?: (request?: WebRequest, exception?: any) => void): IFileRequest {\r\n    //     url = Tools.CleanUrl(url);\r\n\r\n    //     url = Tools.PreprocessUrl(url);\r\n\r\n    //     // 在本地缓存中存在此文件， TODO: 还有本地上传的情况处理\r\n    //     if (url.indexOf('file:') !== -1) {\r\n    //         // const fileName = decodeURIComponent(url.substring(5).toLowerCase());\r\n    //         // if (FilesInputStore.FilesToLoad[fileName]) {\r\n    //         //     // 缓存文件\r\n    //         //     return Tools.ReadFile(FilesInputStore.FilesToLoad[fileName], onSuccess, onProgress, useArrayBuffer);\r\n    //         // }\r\n    //     }\r\n\r\n    //     const loadUrl = Tools.BaseUrl + url;\r\n\r\n    //     let aborted = false;\r\n    //     const fileRequest: IFileRequest = {\r\n    //         onCompleteObservable: new Observable<IFileRequest>(),\r\n    //         abort: () => aborted = true,\r\n    //     };\r\n\r\n\r\n\r\n\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n    /**\r\n     * name字符串合法性检查，不允许出现 “\\/*<>?|'':” 等字符串，若存在，则返回false；\r\n     * @param name 待检查的name字符串；\r\n     */\r\n    public static isLegalName(name: string): boolean {\r\n        // var re = /[^\\u4e00-\\u9fa5]/; // 中文正则\r\n        // var pattern = new RegExp('[`\\\\-~!@#$^&*()=|{}':;',\\\\[\\\\].<>《》/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？12345678990]'); // 特殊符号\r\n        const illegalPattern = /[\\\\\\/*<>?|'':]/;\r\n        if (illegalPattern.test(name)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 字符串排序，特殊字符在最前头，其余按照字母顺序进行排列\r\n     * @param a 第1个字符串；\r\n     * @param b 第2个字符串；\r\n     */\r\n    public static stringCompare(a: string, b: string): number {\r\n        a = a.toLowerCase();\r\n        b = b.toLowerCase();\r\n        if (a === b) {\r\n            return 0;\r\n        }\r\n        // TODO: 目前采用了js默认的比较函数，由于Safari等浏览器不支持locals参数，英文默认在中文之后，特殊字符在最前\r\n        return a.localeCompare(b);\r\n    }\r\n\r\n\r\n    public static appendQuery(origin: string, query: string): string {\r\n        let separator = origin.indexOf('?') !== -1 ? '&' : '?';\r\n        return this + separator + query;\r\n    }\r\n\r\n}","export * from './viewport';\r\nexport * from './viewport-expand';\r\nexport * from './viewport-application';\r\nexport * from './viewport-entities-observer-binding';\r\nexport * from './viewport-instance-create';\r\nexport * from './viewport-drop-model';","import { ViewportApplication } from \"./viewport-application\";\r\nimport { ViewportInstanceCreate } from \"./viewport-instance-create\";\r\nimport { ViewportDropModel } from \"./viewport-drop-model\";\r\nimport { ViewportEntitiesObserverBinding } from \"./viewport-entities-observer-binding\";\r\n\r\nexport class ViewportKeeper {\r\n\r\n    public constructor() {\r\n        new ViewportApplication();\r\n        new ViewportEntitiesObserverBinding();\r\n        new ViewportInstanceCreate();\r\n        new ViewportDropModel();\r\n    }\r\n\r\n}","import { VeryEngine } from '../../engine';\r\nimport { Observer } from '../../lib';\r\nimport { BabylonLoader } from '../middleware/loader/babylonLoader';\r\nimport { AjaxRequest, Ajax, Tools } from '../utility';\r\n\r\nexport class ViewportApplication {\r\n\r\n\r\n\r\n\r\n    public constructor() {\r\n\r\n        // entities indexes for parenting\r\n        var childIndex: { [key: string]: any } = {};\r\n        var entitiesIndex: { [key: string]: any } = {};\r\n        var unknowns = {};\r\n\r\n        editor.method('create:scene:element', (entity: Observer) => {\r\n            // console.log('create scene element');\r\n            // console.error(entity);\r\n            if (entity.get('type') === 'light') {\r\n                // Lights\r\n                var light = BABYLON.Light.Parse(entity.get('data'), VeryEngine.viewScene);\r\n                if (light) {\r\n                    entitiesIndex[entity.get('resource_id')] = light;\r\n                    entity.node = light;\r\n                    light.id = entity.get('resource_id');\r\n                    childAndParent(entity, light);\r\n                    // (<BABYLON.ShadowLight>light)\r\n                    // console.warn(light);\r\n                } else {\r\n                    console.error('light创建失败，light原始信息：');\r\n                    console.error(entity.get('data'));\r\n                }\r\n            } else if (entity.get('type') === 'camera') {\r\n                // TODO: camera要特别处理\r\n                // Cameras\r\n                // var camera = BABYLON.Camera.Parse(entity.get('data'), VeryEngine.viewScene);\r\n                // camera.attachControl(VeryEngine.viewCanvasElement);\r\n                // entity.node = camera;\r\n                // entitiesIndex[entity.get('resource_id')] = camera;\r\n                // camera!.id = entity.get('resource_id');\r\n                // childAndParent(entity, camera);\r\n                // console.warn(camera);\r\n            } else if (entity.get('type') === 'box') {\r\n                // box\r\n                var box = BABYLON.Mesh.CreateBox(entity.get('name'), 1, VeryEngine.viewScene);\r\n                entity.node = box;\r\n                entitiesIndex[entity.get('resource_id')] = box;\r\n                box.id = entity.get('resource_id');\r\n                box.position = BABYLON.Vector3.FromArray(entity.get('position'));\r\n                box.rotation = Tools.eulerAngleToRadian(BABYLON.Vector3.FromArray(entity.get('rotation')));\r\n                box.scaling = BABYLON.Vector3.FromArray(entity.get('scale'));\r\n                box.isEnabled(entity.get('enabled'));\r\n                box.checkCollisions = entity.get('checkCollisions');\r\n                box.isVisible = entity.get('isVisible');\r\n                // 加载自定义关联材质\r\n                if (entity.get('material_id')) {\r\n\r\n                }\r\n                childAndParent(entity, box);\r\n                // console.warn(box);\r\n            } else if (entity.get('type') === 'mesh') {\r\n                // 模型异步加载，因为mesh需要先加载.babylon文件；\r\n                // console.warn('scene创建mesh：' + entity.get('name'));\r\n                editor.call('scene:mesh:create', entity);\r\n            }\r\n\r\n\r\n\r\n        });\r\n\r\n\r\n        let childAndParent = (entity: Observer, node: Nullable<BABYLON.Node>) => {\r\n            // children\r\n            let children = entity.get('children');\r\n            for (var i = 0; i < children.length; i++) {\r\n                childIndex[children[i]] = {\r\n                    index: i,\r\n                    parent: node\r\n                };\r\n\r\n                if (entitiesIndex[children[i]]) {\r\n                    insertChild(node, entitiesIndex[children[i]], i);\r\n                }\r\n            }\r\n\r\n            // parenting\r\n            if (!entity.get('parent')) {\r\n                // babylon root\r\n            } else {\r\n                // child\r\n                var details = childIndex[entity.get('resource_id')];\r\n                if (details && details.parent) {\r\n                    insertChild(details.parent, node, details.index);\r\n                }\r\n            }\r\n        }\r\n\r\n        let insertChild = (parent: Nullable<BABYLON.Node>, node: Nullable<BABYLON.Node>, index: number) => {\r\n            // try to insert the node at the right index\r\n            // 但是babylon不支持直接操作children列表，_children为private类型，可以通过修改.d.ts文件获取，但是也没必要；\r\n            if (node !== null) {\r\n                node.parent = parent;\r\n            }\r\n\r\n            // for (var i = 0, len = parent._children.length; i < len; i++) {\r\n            //     var child = parent._children[i];\r\n            //     if (child instanceof pc.Entity && childIndex[child.getGuid()]) {\r\n            //         // if our index is less than this child's index\r\n            //         // then put the item here\r\n            //         if (index < childIndex[child.getGuid()].index) {\r\n            //             parent.insertChild(node, i);\r\n            //             return;\r\n            //         }\r\n            //     }\r\n            // }\r\n\r\n            // // the node can be safely added to the end of the child list\r\n            // parent.addChild(node);\r\n        }\r\n\r\n\r\n\r\n        editor.method('scene:mesh:create', (entity: Observer) => {\r\n\r\n            loadBabylon(entity);\r\n            // // 变成异步事件\r\n            // setTimeout(() => { }, 0);\r\n        });\r\n\r\n\r\n        let loadingBabylonFlag: { [key: string]: boolean } = {};\r\n        let toLoadEntity: { [key: string]: Observer[] } = {};\r\n        let loadBabylon = (entity: Observer) => {\r\n            let assetID: string = entity.get('asset_id');\r\n            let dataBabylon: any = null;\r\n\r\n            if (BabylonLoader.hasBabylobData(assetID)) {\r\n                dataBabylon = BabylonLoader.getParsedBabylonData(assetID);\r\n                // BabylonLoader.assembleBabylon(assetID, dataBabylon);\r\n                // 关联mesh\r\n                assembleSceneMesh(entity, dataBabylon);\r\n            } else {\r\n                if (assetID in loadingBabylonFlag) {\r\n                    toLoadEntity[assetID].push(entity);\r\n                } else {\r\n                    loadingBabylonFlag[assetID] = true;\r\n                    toLoadEntity[assetID] = [entity];\r\n\r\n                    var data1 = {\r\n                        url: BabylonLoader.prefix + assetID + '/' + BabylonLoader.assetsData.assets[assetID].name,\r\n                        method: 'GET',\r\n                        // auth: true,\r\n                        data: null,\r\n                        ignoreContentType: true,\r\n                        // headers: {\r\n                        //     Accept: 'application/json'\r\n                        // }\r\n                    };\r\n                    // 直接返回babylon json格式内容数据\r\n                    (<AjaxRequest>new Ajax(data1))\r\n                        .on('load', (status: any, data: any) => {\r\n\r\n                            dataBabylon = data;\r\n                            BabylonLoader.babylonCacheData[assetID] = dataBabylon;\r\n                            // BabylonLoader.parseBabylon(assetID, data);\r\n                            BabylonLoader.parseBabylon(assetID, data);\r\n                            dataBabylon = BabylonLoader.getParsedBabylonData(assetID);\r\n                            toLoadEntity[assetID].forEach((item: Observer) => {\r\n                                assembleSceneMesh(item, dataBabylon);\r\n                            });\r\n                            // 关联mesh\r\n                        }).on('error', (evt: any) => {\r\n                            console.error('scene数据匹配babylon mesh数据错误！');\r\n                            console.error(evt);\r\n                        });;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        let assembleSceneMesh = (entity: Observer, parsedBabylon: any) => {\r\n            // TODO: 暂时未考虑TransformNode数据的情况\r\n            if (parsedBabylon) {\r\n                let assetID: string = entity.get('asset_id');\r\n                // 先从.babylon提取原始mesh数据\r\n                let meshID: string = entity.get('babylon_id');\r\n                if (parsedBabylon.meshes[meshID]) {\r\n                    let meshData = parsedBabylon.meshes[meshID];\r\n                    // 结合scene和babylon数据，更新mesh信息\r\n                    meshData.position = entity.has('position') && entity.get('position') ? entity.get('position') : meshData.position;\r\n                    let recordRotation = entity.get('rotation');\r\n                    if(recordRotation && recordRotation.length > 0) {\r\n                        recordRotation = Tools.vector3ToArray(Tools.eulerAngleToRadian(BABYLON.Vector3.FromArray(recordRotation)));\r\n                    } else {\r\n                        recordRotation = meshData.rotation;\r\n                    }\r\n                    meshData.rotation = recordRotation;\r\n                    meshData.scale = entity.has('scale') && entity.get('scale') ? entity.get('scale') : meshData.scal;\r\n                    meshData.name = entity.has('name') && entity.get('name') ? entity.get('name') : meshData.name;\r\n                    meshData.id = entity.has('resource_id') && entity.get('resource_id') ? entity.get('resource_id') : meshData.id;\r\n                    meshData.isEnabled = entity.has('enabled') ? entity.get('enabled') : meshData.isEnabled;\r\n                    meshData.isVisible = entity.has('isVisible') ? entity.get('isVisible') : meshData.isVisible;\r\n                    // meshData.pickable = entity.has('pickable') ? entity.get('pickable') : meshData.pickable;\r\n                    // TODO：scene编辑条件下默认就是加载状态；\r\n                    meshData.pickable = true;\r\n                    meshData.checkCollisions = entity.has('checkCollisions') ? entity.get('checkCollisions') : meshData.checkCollisions;\r\n                    meshData.materialId = entity.has('material_id') ? entity.get('material_id') : meshData.materialId;\r\n                    // 要注意是否为root id\r\n                    meshData.parentId = entity.has('parent') ? entity.get('parent') : meshData.parentId;\r\n\r\n\r\n                    // 判断是否关联了geometry\r\n                    if (meshData.geometryId) {\r\n                        if (VeryEngine.viewScene.getGeometryByID(meshData.geometryId) === null) {\r\n                            if (parsedBabylon.geometries && parsedBabylon.geometries[meshData.geometryId]) {\r\n                                let vertexData = parsedBabylon.geometries[meshData.geometryId];\r\n                                BabylonLoader.loadGeometry(vertexData, VeryEngine.viewScene, '');\r\n                            }\r\n                        }\r\n                    }\r\n                    // 组装material\r\n                    // console.error(meshData.materialId);\r\n                    if (meshData.materialId) {\r\n                        if (VeryEngine.viewScene.getMaterialByID(meshData.materialId) === null) {\r\n                            // console.error(BabylonLoader.assetsData.babylon[assetID]);\r\n                            if (BabylonLoader.assetsData.babylon[assetID]) {\r\n                                let mats = BabylonLoader.assetsData.babylon[assetID]['materials'];\r\n                                if (mats && mats[meshData.materialId]) {\r\n                                    let matAssetID = mats[meshData.materialId].asset_id;\r\n                                    if (BabylonLoader.assetsData.assets[matAssetID]) {\r\n                                        let newMat = BabylonLoader.assetsData.assets[matAssetID].data;\r\n\r\n                                        // 检测texture\r\n                                        if (newMat.diffuseTexture && newMat.diffuseTexture.texture_id) {\r\n                                            newMat.diffuseTexture.name = BabylonLoader.prefix + newMat.diffuseTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.diffuseTexture.texture_id].name;\r\n                                            // console.warn(newMat.diffuseTexture.name);\r\n                                        }\r\n                                        if (newMat.specularTexture && newMat.specularTexture.texture_id) {\r\n                                            newMat.specularTexture.name = BabylonLoader.prefix + newMat.specularTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.specularTexture.texture_id].name;\r\n                                        }\r\n                                        if (newMat.reflectionTexture && newMat.reflectionTexture.texture_id) {\r\n                                            newMat.reflectionTexture.name = BabylonLoader.prefix + newMat.reflectionTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.reflectionTexture.texture_id].name;\r\n                                        }\r\n                                        if (newMat.refractionTexture && newMat.refractionTexture.texture_id) {\r\n                                            newMat.refractionTexture.name = BabylonLoader.prefix + newMat.refractionTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.refractionTexture.texture_id].name;\r\n                                        }\r\n                                        if (newMat.emissiveTexture && newMat.emissiveTexture.texture_id) {\r\n                                            newMat.emissiveTexture.name = BabylonLoader.prefix + newMat.emissiveTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.emissiveTexture.texture_id].name;\r\n                                        }\r\n                                        if (newMat.bumpTexture && newMat.bumpTexture.texture_id) {\r\n                                            newMat.bumpTexture.name = BabylonLoader.prefix + newMat.bumpTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.bumpTexture.texture_id].name;\r\n                                        }\r\n                                        if (newMat.opacityTexture && newMat.opacityTexture.texture_id) {\r\n                                            newMat.opacityTexture.name = BabylonLoader.prefix + newMat.opacityTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.opacityTexture.texture_id].name;\r\n                                        }\r\n                                        if (newMat.ambientTexture && newMat.ambientTexture.texture_id) {\r\n                                            newMat.ambientTexture.name = BabylonLoader.prefix + newMat.ambientTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.ambientTexture.texture_id].name;\r\n                                        }\r\n                                        if (newMat.lightmapTexture && newMat.lightmapTexture.texture_id) {\r\n                                            newMat.lightmapTexture.name = BabylonLoader.prefix + newMat.lightmapTexture.texture_id + '/' + BabylonLoader.assetsData.assets[newMat.lightmapTexture.texture_id].name;\r\n                                        }\r\n                                        // console.error(newMat);\r\n                                        BabylonLoader.loadMaterial(newMat, VeryEngine.viewScene, '');\r\n                                    } else {\r\n                                        console.warn('scene mesh warn');\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                console.warn('scene mesh warn');\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // 加载mesh\r\n                    let mesh = BabylonLoader.loadMesh(meshData, VeryEngine.viewScene, '');\r\n                    entity.node = mesh;\r\n                    entitiesIndex[entity.get('resource_id')] = mesh;\r\n                    childAndParent(entity, mesh);\r\n                } else {\r\n                    console.warn('scene mesh warn');\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n}","import { Observer } from '../../lib';\r\nimport { VeryEngine } from '../../engine';\r\nimport { BabylonLoader } from '../middleware/loader/babylonLoader';\r\nimport { GizmosCenter } from '../gizmos';\r\n\r\nexport class ViewportDropModel {\r\n\r\n\r\n    public constructor() {\r\n\r\n\r\n        editor.method('load:from:asset', (babylon_data: Observer) => {\r\n            BabylonLoader.loadBabylon(babylon_data);\r\n            // console.log('assets加载模型');\r\n            // console.log(babylon_data);\r\n        });\r\n\r\n        editor.method('pick', (mesh: Nullable<BABYLON.AbstractMesh>) => {\r\n            if (mesh === null) {\r\n                GizmosCenter.clear();\r\n                console.log('clear gizmos');\r\n            } else {\r\n                console.log('pick mesh');\r\n                // GizmosCenter.attach(mesh);\r\n                var entity = editor.call('entities:get', mesh.id);\r\n                console.error(entity);\r\n                if (entity) {\r\n                    editor.call('selector:set', 'entity', [entity]);\r\n                } else {\r\n                    console.error('失败');\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n        editor.method('loadTempModel', (babylon_data: Observer) => {\r\n\r\n            BabylonLoader.loadBabylon(babylon_data);\r\n            console.log('加载模型');\r\n            console.log(babylon_data);\r\n            return;\r\n            var rootUrl = babylon_data.get('file.url');\r\n            var modelName = babylon_data.get('file.filename');\r\n            rootUrl = rootUrl.substring(0, rootUrl.length - modelName.length);\r\n\r\n            BABYLON.SceneLoader.Append(rootUrl, modelName, VeryEngine.viewScene, function (scene) {\r\n\r\n                // console.log('************mesh个数：' + scene.meshes.length);\r\n                for (let i = 0; i < scene.meshes.length; i++) {\r\n                    let mesh = scene.meshes[i];\r\n                    mesh.checkCollisions = true;\r\n                    mesh.isPickable = true;\r\n                    let parentID: string = '';\r\n                    if (mesh.parent !== null) {\r\n                        parentID = mesh.parent!.id;\r\n                    }\r\n\r\n                    var childs = mesh.getChildren();\r\n                    var myChildren = [];\r\n\r\n                    for (let k = 0; k < childs.length; k++) {\r\n                        myChildren.push(childs[k].id);\r\n                    }\r\n\r\n                    let data = {\r\n                        name: mesh.name,\r\n                        resource_id: mesh.id,\r\n                        parent: parentID,\r\n                        position: [mesh.position.x, mesh.position.y, mesh.position.z],\r\n                        rotation: [mesh.rotation.x, mesh.rotation.y, mesh.rotation.z],\r\n                        scale: [mesh.scaling.x, mesh.scaling.y, mesh.scaling.z],\r\n                        children: myChildren,\r\n                        enabled: mesh.isEnabled(),\r\n                        tags: [],\r\n                        root: false,\r\n                        type: 'Mesh',\r\n                        asset: rootUrl,\r\n                        asset2: modelName\r\n                    }\r\n                    // console.log(scene.meshes[i].id + ' : ' + scene.meshes[i].name);\r\n                    // console.error(data);\r\n                    editor.call('entity:new:babylon', data);\r\n                }\r\n\r\n                for (let i = 0; i < scene.transformNodes.length; i++) {\r\n                    let node = scene.transformNodes[i];\r\n                    let parentID: string = '';\r\n                    if (node.parent !== null) {\r\n                        parentID = node.parent!.id;\r\n                    }\r\n\r\n                    let data = {\r\n                        name: node.name,\r\n                        resource_id: node.id,\r\n                        parent: parentID,\r\n                        position: [node.position.x, node.position.y, node.position.z],\r\n                        rotation: [node.rotation.x, node.rotation.y, node.rotation.z],\r\n                        scale: [node.scaling.x, node.scaling.y, node.scaling.z],\r\n                        children: myChildren,\r\n                        enabled: node.isEnabled(),\r\n                        tags: [],\r\n                        root: false,\r\n                        type: 'TransformNode',\r\n                        asset: rootUrl,\r\n                        asset2: modelName\r\n                    }\r\n                    // console.log(scene.meshes[i].id + ' : ' + scene.meshes[i].name);\r\n                    editor.call('entity:new:babylon', data);\r\n                }\r\n\r\n                // console.error('加载');\r\n\r\n                editor.emit('entities:load', true);\r\n\r\n                // console.log('************node个数：' + scene.transformNodes.length);\r\n                // for(let i = 0; i < scene.transformNodes.length; i++) {\r\n                //     console.log(scene.transformNodes[i].id + ' : ' + scene.transformNodes[i].name);\r\n                // }\r\n                // console.log('************root个数：' + scene.rootNodes.length);\r\n                // for(let i = 0; i < scene.rootNodes.length; i++) {\r\n                //     console.log(scene.rootNodes[i].id + ' : ' + scene.rootNodes[i].name);\r\n                // }\r\n\r\n\r\n                scene.onPointerObservable.add(pointerInfo => {\r\n                    switch (pointerInfo.type) {\r\n                        case BABYLON.PointerEventTypes.POINTERDOWN:\r\n                            // console.log('down');\r\n                            if (pointerInfo!.pickInfo!.pickedMesh != null) {\r\n                                editor.call('pick', pointerInfo!.pickInfo!.pickedMesh);\r\n                            } else {\r\n                                editor.call('pick', null);\r\n                            }\r\n                            // console.log(pointerInfo!.pickInfo!.pickedMesh);\r\n                            break;\r\n                    }\r\n\r\n\r\n                });\r\n            });\r\n\r\n            // 默认加载\r\n\r\n            // editor.method('entity:new:mesh', )\r\n\r\n        });\r\n\r\n\r\n        editor.method('loadTempModel2', (rootUrl: string, modelName: string) => {\r\n\r\n            BABYLON.SceneLoader.Append(rootUrl, modelName, VeryEngine.viewScene, function (scene) {\r\n                // console.error('加载2');\r\n\r\n                // console.log('************mesh个数：' + scene.meshes.length);\r\n                for (let i = 0; i < scene.meshes.length; i++) {\r\n                    let mesh = scene.meshes[i];\r\n                    mesh.checkCollisions = true;\r\n                    mesh.isPickable = true;\r\n\r\n                    var entity = editor.call('entities:get', mesh.id);\r\n                    if (entity) {\r\n                        entity.node = mesh;\r\n                    }\r\n                    // let parentID: string = '';\r\n                    // if (mesh.parent !== null) {\r\n                    //     parentID = mesh.parent!.id;\r\n                    // }\r\n\r\n                    // var childs = mesh.getChildren();\r\n                    // var myChildren = [];\r\n\r\n                    // for (let k = 0; k < childs.length; k++) {\r\n                    //     myChildren.push(childs[k].id);\r\n                    // }\r\n\r\n                    // let data = {\r\n                    //     name: mesh.name,\r\n                    //     resource_id: mesh.id,\r\n                    //     parent: parentID,\r\n                    //     position: [mesh.position.x, mesh.position.y, mesh.position.z],\r\n                    //     rotation: [mesh.rotation.x, mesh.rotation.y, mesh.rotation.z],\r\n                    //     scale: [mesh.scaling.x, mesh.scaling.y, mesh.scaling.z],\r\n                    //     children: myChildren,\r\n                    //     enabled: mesh.isEnabled(),\r\n                    //     tags: [],\r\n                    //     root: false,\r\n                    //     type: 'Mesh',\r\n                    //     asset: rootUrl,\r\n                    //     asset2: modelName\r\n                    // }\r\n                    // // console.log(scene.meshes[i].id + ' : ' + scene.meshes[i].name);\r\n                    // // console.error(data);\r\n                    // editor.call('entity:new:babylon', data);\r\n                }\r\n\r\n                for (let i = 0; i < scene.transformNodes.length; i++) {\r\n                    let node = scene.transformNodes[i];\r\n                    let parentID: string = '';\r\n                    if (node.parent !== null) {\r\n                        parentID = node.parent!.id;\r\n                    }\r\n\r\n                    var entity = editor.call('entities:get', node.id);\r\n                    if (entity) {\r\n                        entity.node = node;\r\n                    }\r\n                    // let data = {\r\n                    //     name: node.name,\r\n                    //     resource_id: node.id,\r\n                    //     parent: parentID,\r\n                    //     position: [node.position.x, node.position.y, node.position.z],\r\n                    //     rotation: [node.rotation.x, node.rotation.y, node.rotation.z],\r\n                    //     scale: [node.scaling.x, node.scaling.y, node.scaling.z],\r\n                    //     children: myChildren,\r\n                    //     enabled: node.isEnabled(),\r\n                    //     tags: [],\r\n                    //     root: false,\r\n                    //     type: 'TransformNode',\r\n                    //     asset: rootUrl,\r\n                    //     asset2: modelName\r\n                    // }\r\n                    // // console.log(scene.meshes[i].id + ' : ' + scene.meshes[i].name);\r\n                    // editor.call('entity:new:babylon', data);\r\n                }\r\n\r\n\r\n                // editor.emit('entities:load', true);\r\n\r\n                // console.log('************node个数：' + scene.transformNodes.length);\r\n                // for(let i = 0; i < scene.transformNodes.length; i++) {\r\n                //     console.log(scene.transformNodes[i].id + ' : ' + scene.transformNodes[i].name);\r\n                // }\r\n                // console.log('************root个数：' + scene.rootNodes.length);\r\n                // for(let i = 0; i < scene.rootNodes.length; i++) {\r\n                //     console.log(scene.rootNodes[i].id + ' : ' + scene.rootNodes[i].name);\r\n                // }\r\n\r\n\r\n                scene.onPointerObservable.add(pointerInfo => {\r\n                    switch (pointerInfo.type) {\r\n                        case BABYLON.PointerEventTypes.POINTERDOWN:\r\n                            // console.log('down');\r\n                            if (pointerInfo!.pickInfo!.pickedMesh != null) {\r\n                                editor.call('pick', pointerInfo!.pickInfo!.pickedMesh);\r\n                            } else {\r\n                                editor.call('pick', null);\r\n                            }\r\n                            // console.log(pointerInfo!.pickInfo!.pickedMesh);\r\n                            break;\r\n                    }\r\n                });\r\n            });\r\n\r\n\r\n\r\n        });\r\n\r\n\r\n        var canvas = editor.call('viewport:canvas');\r\n        if (! canvas) return;\r\n\r\n        var dropRef = editor.call('drop:target', {\r\n            ref: canvas.element,\r\n            filter: function (type: string, data: any) {\r\n                if (type === 'asset.model') {\r\n                    // var asset = app.assets.get(data.id);\r\n                    // if (asset) app.assets.load(asset);\r\n\r\n                    return true;\r\n                }\r\n\r\n                if (type === 'assets') {\r\n                    for (var i = 0; i < data.ids.length; i++) {\r\n                        var asset = editor.call('assets:get', data.ids[i]);\r\n                        if (!asset)\r\n                            return false;\r\n\r\n                        if (asset.get('type') !== 'model')\r\n                            return false;\r\n                    }\r\n\r\n                    // for (var i = 0; i < data.ids.length; i++) {\r\n                    //     var asset = app.assets.get(data.ids[i]);\r\n                    //     if (asset) app.assets.load(asset);\r\n                    // }\r\n\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            },\r\n            drop: function (type: string, data: any) {\r\n                // if (!config.scene.id)\r\n                //     return;\r\n                console.warn('viewport drop: ' + type);\r\n\r\n                var assets = [];\r\n\r\n                if (type === 'asset.model') {\r\n                    var asset = editor.call('assets:get', data.id);\r\n                    if (asset) assets.push(asset);\r\n                } else if (type === 'assets') {\r\n                    for (var i = 0; i < data.ids.length; i++) {\r\n                        var asset = editor.call('assets:get', data.ids[i]);\r\n                        if (asset && asset.get('type') === 'model')\r\n                            assets.push(asset);\r\n                    }\r\n                }\r\n\r\n                if (!assets.length)\r\n                    return;\r\n\r\n                // parent\r\n                var parent = null;\r\n                if (editor.call('selector:type') === 'entity')\r\n                    parent = editor.call('selector:items')[0];\r\n\r\n                if (!parent)\r\n                    parent = editor.call('entities:root');\r\n\r\n                var entities = [];\r\n                var data: any = [];\r\n\r\n                // calculate aabb\r\n                // var first = true;\r\n                // for (var i = 0; i < assets.length; i++) {\r\n                //     var assetEngine = app.assets.get(assets[i].get('id'));\r\n                //     if (!assetEngine) continue;\r\n\r\n                //     if (assetEngine.resource) {\r\n                //         var meshes = assetEngine.resource.meshInstances;\r\n                //         for (var m = 0; m < meshes.length; m++) {\r\n                //             if (first) {\r\n                //                 first = false;\r\n                //                 aabb.copy(meshes[m].aabb);\r\n                //             } else {\r\n                //                 aabb.add(meshes[m].aabb);\r\n                //             }\r\n                //         }\r\n                //     }\r\n                // }\r\n\r\n                // if (first) {\r\n                //     aabb.center.set(0, 0, 0);\r\n                //     aabb.halfExtents.set(1, 1, 1);\r\n                // }\r\n\r\n                // calculate point\r\n                // var camera = editor.call('camera:current');\r\n                // var distance = 0;\r\n\r\n                // if (ui.Tree._ctrl && ui.Tree._ctrl()) {\r\n                //     vecA.copy(camera.forward).scale(aabb.halfExtents.length() * 2.2);\r\n                //     vecB.copy(camera.getPosition()).add(vecA);\r\n                //     vecC.copy(vecB).sub(aabb.center);\r\n\r\n                //     var tmp = new pc.Entity();\r\n                //     parent.entity.addChild(tmp);\r\n                //     tmp.setPosition(vecC);\r\n                //     vecC.copy(tmp.getLocalPosition());\r\n                //     tmp.destroy();\r\n\r\n                //     // focus distance\r\n                //     distance = vecA.copy(camera.getPosition()).sub(vecB).length();\r\n                // } else {\r\n                //     vecC.set(0, 0, 0);\r\n                //     vecB.copy(parent.entity.getPosition()).add(aabb.center);\r\n                //     distance = aabb.halfExtents.length() * 2.2;\r\n                // }\r\n\r\n                // for (var i = 0; i < assets.length; i++) {\r\n                //     var component = editor.call('components:getDefault', 'model');\r\n                //     component.type = 'asset';\r\n                //     component.asset = parseInt(assets[i].get('id'), 10);\r\n\r\n                //     var name = assets[i].get('name');\r\n                //     if (/\\.json$/i.test(name))\r\n                //         name = name.slice(0, -5) || 'Untitled';\r\n\r\n                //     // new entity\r\n                //     var entity = editor.call('entities:new', {\r\n                //         parent: parent,\r\n                //         name: name,\r\n                //         position: [vecC.x, vecC.y, vecC.z],\r\n                //         components: {\r\n                //             model: component\r\n                //         },\r\n                //         noSelect: true,\r\n                //         noHistory: true\r\n                //     });\r\n\r\n                //     entities.push(entity);\r\n                //     data.push(entity.json());\r\n                // }\r\n\r\n                // editor.call('selector:history', false);\r\n                // editor.call('selector:set', 'entity', entities);\r\n                // editor.once('selector:change', function () {\r\n                //     editor.call('selector:history', true);\r\n                // });\r\n\r\n                // var selectorType = editor.call('selector:type');\r\n                // var selectorItems = editor.call('selector:items');\r\n                // if (selectorType === 'entity') {\r\n                //     for (var i = 0; i < selectorItems.length; i++)\r\n                //         selectorItems[i] = selectorItems[i].get('resource_id');\r\n                // }\r\n\r\n                // var parentId = parent.get('resource_id');\r\n                // var resourceIds = [];\r\n                // for (var i = 0; i < entities.length; i++)\r\n                //     resourceIds.push(entities[i].get('resource_id'));\r\n\r\n                // editor.call('history:add', {\r\n                //     name: 'new model entities ' + entities.length,\r\n                //     undo: function () {\r\n                //         for (var i = 0; i < resourceIds.length; i++) {\r\n                //             var entity = editor.call('entities:get', resourceIds[i]);\r\n                //             if (!entity)\r\n                //                 continue;\r\n\r\n                //             editor.call('entities:removeEntity', entity);\r\n                //         }\r\n\r\n                //         if (selectorType === 'entity' && selectorItems.length) {\r\n                //             var items = [];\r\n                //             for (var i = 0; i < selectorItems.length; i++) {\r\n                //                 var item = editor.call('entities:get', selectorItems[i]);\r\n                //                 if (item)\r\n                //                     items.push(item);\r\n                //             }\r\n\r\n                //             if (items.length) {\r\n                //                 editor.call('selector:history', false);\r\n                //                 editor.call('selector:set', selectorType, items);\r\n                //                 editor.once('selector:change', function () {\r\n                //                     editor.call('selector:history', true);\r\n                //                 });\r\n                //             }\r\n                //         }\r\n                //     },\r\n                //     redo: function () {\r\n                //         var parent = editor.call('entities:get', parentId);\r\n                //         if (!parent)\r\n                //             return;\r\n\r\n                //         var entities = [];\r\n\r\n                //         for (var i = 0; i < data.length; i++) {\r\n                //             var entity = new Observer(data[i]);\r\n                //             entities.push(entity);\r\n                //             editor.call('entities:addEntity', entity, parent, false);\r\n                //         }\r\n\r\n                //         editor.call('selector:history', false);\r\n                //         editor.call('selector:set', 'entity', entities);\r\n                //         editor.once('selector:change', function () {\r\n                //             editor.call('selector:history', true);\r\n                //         });\r\n\r\n                //         editor.call('viewport:render');\r\n                //         editor.call('camera:focus', vecB, distance);\r\n                //     }\r\n                // });\r\n\r\n                // editor.call('viewport:render');\r\n                // editor.call('camera:focus', vecB, distance);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}","import { VeryEngine } from \"../../engine\";\r\nimport { Observer } from \"../../lib\";\r\nimport { BabylonLoader } from \"../middleware/loader/babylonLoader\";\r\nimport { Tools } from \"../utility\";\r\n\r\nexport class ViewportEntitiesObserverBinding {\r\n\r\n\r\n\r\n    public constructor() {\r\n        // let nnnode = new BABYLON.Node('sdf', VeryEngine.viewScene);\r\n        // nnnode\r\n        editor.on('entities:add', function (obj: Observer) {\r\n            // console.warn(obj);\r\n            // subscribe to changes\r\n            obj.on('*:set', function (path: string, value: any) {\r\n                var entity = obj.node;\r\n                if (!entity)\r\n                    return;\r\n\r\n                if (path === 'name') {\r\n                    entity.name = obj.get('name');\r\n\r\n                } else if (path.startsWith('position')) {\r\n                    // TODO: 有数据值的最好换一个通用的方式记录\r\n                    entity.position = new BABYLON.Vector3(obj.get('position.0'), obj.get('position.1'), obj.get('position.2'));\r\n\r\n                } else if (path.startsWith('rotation')) {\r\n                    entity.rotation = Tools.eulerAngleToRadian(new BABYLON.Vector3(obj.get('rotation.0'), obj.get('rotation.1'), obj.get('rotation.2')));\r\n\r\n                } else if (path.startsWith('scale')) {\r\n                    entity.scaling = new BABYLON.Vector3(obj.get('scale.0'), obj.get('scale.1'), obj.get('scale.2'));\r\n\r\n                } else if (path.startsWith('enabled')) {\r\n                    entity.setEnabled(obj.get('enabled'));\r\n                } else if (path.startsWith('checkCollisions')) {\r\n                    entity.checkCollisions = obj.get('checkCollisions');\r\n                } else if (path.startsWith('pickable')) {\r\n                    // TODO: 编辑场景下entity不改，一直为true，publish加载才真改\r\n                    // entity.isPickable = obj.get('pickable');\r\n\r\n                } else if (path.startsWith('isVisible')) {\r\n                    entity.isVisible = obj.get('isVisible');\r\n                } else if (path.startsWith('parent')) {\r\n                    // 父子关系设定\r\n                    var parent = editor.call('entities:get', obj.get('parent'));\r\n\r\n                    // console.log('parent');\r\n                    // console.warn(parent);\r\n                    // TODO\r\n                    // if (parent && parent.node && entity.parent !== parent.node)\r\n                    //     entity.parent = parent.node;\r\n                } else if (path === 'components.model.type' && value === 'asset') {\r\n                    // WORKAROUND\r\n                    // entity deletes asset when switching to primitive, restore it\r\n                    // do this in a timeout to allow the model type to change first\r\n                    // setTimeout(function () {\r\n                    //     var assetId = obj.get('components.model.asset');\r\n                    // if (assetId)\r\n                    //     entity.model.asset = assetId;\r\n                    // });\r\n                }\r\n\r\n\r\n                BabylonLoader.updateSceneData(obj.get('resource_id'), obj._data2);\r\n                // console.error(obj._data2);\r\n                editor.call('make:scene:dirty');\r\n\r\n                // console.warn(entity);\r\n                // render\r\n                // editor.call('viewport:render');\r\n            });\r\n\r\n            var reparent = function (child: string, index: number) {\r\n                console.warn('reparent : ' + child);\r\n                var childEntity = editor.call('entities:get', child);\r\n                if (childEntity && childEntity.node) {\r\n                    // var oldParent = childEntity.node.parent;\r\n                    // TODO: Light、Camera等不是TransformNode对象\r\n                    if (childEntity.node instanceof BABYLON.TransformNode) {\r\n                        console.warn(childEntity.node);\r\n\r\n                        let absPos = BABYLON.Vector3.Zero().copyFrom((<BABYLON.TransformNode>childEntity.node).getAbsolutePosition());\r\n\r\n                        // TODO: children中的数据要删除\r\n\r\n                        // 还有灯和摄像机怎么办\r\n                        // (<BABYLON.TransformNode>childEntity.node).setAbsolutePosition(absPos);\r\n                        // console.warn(childEntity.node);\r\n                        // VeryEngine.viewScene.render();\r\n\r\n                        (<BABYLON.TransformNode>childEntity.node).setParent(obj.node ? obj.node : null);\r\n\r\n                        // (<BABYLON.TransformNode>childEntity.node).parent =(obj.node ? obj.node : null);\r\n\r\n                        console.log(absPos);\r\n\r\n                        // (<BABYLON.TransformNode>childEntity.node).position = new BABYLON.Vector3(5,5,5);\r\n                        console.warn(childEntity.node);\r\n                        let localPosition = childEntity.node.position.clone();\r\n                        let localRotation = Tools.radianToEulerAngle(childEntity.node.rotation.clone());\r\n                        childEntity.set('position.0', localPosition.x);\r\n                        childEntity.set('position.1', localPosition.y);\r\n                        childEntity.set('position.2', localPosition.z);\r\n                        childEntity.set('rotation.0', localRotation.x);\r\n                        childEntity.set('rotation.1', localRotation.y);\r\n                        childEntity.set('rotation.2', localRotation.z);\r\n                    } else {\r\n                        console.error('当前类型还未考虑');\r\n                        console.error(childEntity);\r\n                    }\r\n                    // childEntity.node.parent = null;\r\n                    // childEntity.node.parent = obj.node;\r\n                    // if (oldParent)\r\n                    //     oldParent.removeChild(childEntity.node);\r\n\r\n                    // skip any graph nodes\r\n                    // if (index > 0) {\r\n                    //     var children = obj.node.getChildren();\r\n                    //     for (var i = 0, len = children.length; i < len && index > 0; i++) {\r\n                    //         if (children[i] instanceof BABYLON.Node) {\r\n                    //             index--;\r\n                    //         }\r\n                    //     }\r\n\r\n                    //     index = i;\r\n                    // }\r\n\r\n                    // re-insert TODO\r\n                    // obj.node.insertChild(childEntity.node, index);\r\n\r\n                    // persist the positions and sizes of elements if they were previously\r\n                    // under control of a layout group but have now been reparented\r\n                    // if (oldParent && oldParent.layoutgroup) {\r\n                    //     editor.call('entities:layout:storeLayout', [childEntity.node.getGuid()]);\r\n                    // }\r\n                }\r\n            };\r\n\r\n            obj.on('children:insert', reparent);\r\n            obj.on('children:move', reparent);\r\n\r\n            obj.on('destroy', function () {\r\n                if (obj.node) {\r\n                    obj.node.dispose();\r\n                    editor.call('viewport:render');\r\n                }\r\n            });\r\n        });\r\n\r\n        editor.on('entities:remove', function (obj: Observer) {\r\n            var entity = obj.node;\r\n            if (!entity)\r\n                return;\r\n\r\n            entity.dispose();\r\n            // editor.call('viewport:render');\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}","import { Panel, TopElementPanel } from \"../../ui\";\r\nimport { VeryEngine } from \"../../engine\";\r\n\r\n/* \r\n*  viewport窗口最大化显示控制；\r\n*/\r\nexport class ViewportExpand {\r\n\r\n  public constructor() {\r\n    let panels: TopElementPanel[] = [];\r\n    panels.push(VeryEngine.hierarchy);\r\n    panels.push(VeryEngine.assets);\r\n    panels.push(VeryEngine.attributes);\r\n\r\n    let expanded: boolean = false;\r\n\r\n    window.editor.method('viewport:expand', function (state: boolean) {\r\n      if (state === undefined)\r\n        state = !expanded;\r\n\r\n      if (expanded === state)\r\n        return;\r\n\r\n      expanded = state;\r\n\r\n      for (var i = 0; i < panels.length; i++)\r\n        panels[i].hidden = expanded;\r\n\r\n      window.editor.emit('viewport:expand', state);\r\n    });\r\n\r\n\r\n    window.editor.method('viewport:expand:state', function () {\r\n      return expanded;\r\n    });\r\n\r\n\r\n    // expand hotkey\r\n    window.editor.call('hotkey:register', 'viewport:expand', {\r\n      key: 'space',\r\n      callback: function () {\r\n        window.editor.call('viewport:expand');\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n","export class ViewportInstanceCreate{\r\n\r\n\r\n    // 注册事件到相关脚本\r\n    public constructor() {\r\n\r\n    }\r\n\r\n\r\n\r\n    public addEntity(): void {\r\n\r\n    }\r\n\r\n\r\n    \r\n}","import { Canvas } from '../../ui';\r\nimport { VeryEngine } from '../../engine';\r\nimport { ToolbarTopControl} from '../toolbar';\r\nimport { ViewportExpand } from './viewport-expand';\r\nimport { GizmosCenter } from '../gizmos';\r\n\r\nexport class Viewport {\r\n\r\n    public canvas!: Canvas;\r\n\r\n    private _engine!: BABYLON.Engine;\r\n    private _scene!: BABYLON.Scene;\r\n    private _canvas!: HTMLCanvasElement;\r\n\r\n\r\n    public constructor() {\r\n\r\n        this.init();\r\n\r\n        // console.log(VeryEngine.viewEngine._internalTexturesCache);\r\n        // let tex = VeryEngine.viewEngine.createTexture('static/editor_logo.png', false, true, VeryEngine.viewScene);\r\n        // console.log(VeryEngine.viewEngine._internalTexturesCache);\r\n\r\n        let self = this;\r\n\r\n        let engine = this._engine;\r\n\r\n\r\n        // TODO: 设定相机\r\n        // this._scene.clearColor = new BABYLON.Color4(49 / 255, 77 / 255, 121 / 255, 1); \r\n        this._scene.clearColor = new BABYLON.Color4(116 / 255, 116 / 255, 116 / 255, 1);\r\n\r\n        var camera = new BABYLON.ArcRotateCamera('Default', 100, 50, 50, new BABYLON.Vector3(0, 0, 0), this._scene);\r\n        camera.setPosition(new BABYLON.Vector3(0, 1, -20));\r\n        camera.attachControl(this._canvas, true);\r\n        // camera.lowerBetaLimit = 0.1;\r\n        // camera.upperBetaLimit = (Math.PI / 2) * 0.99;\r\n        // camera.lowerRadiusLimit = 150;\r\n\r\n        // var light1 = new BABYLON.PointLight(\"omni\", new BABYLON.Vector3(0, 50, 0), this._scene);\r\n\r\n\r\n        // 加载过度动画开\r\n        // engine.loadingScreen.hideLoadingUI();\r\n        // engine.displayLoadingUI();\r\n\r\n        // let inputMap: { [key: string]: boolean } = {};\r\n\r\n        // TODO: 加载scene.babylon场景文件，当前为默认\r\n        // 默认Editor场景，加载保存的某一个场景资源\r\n        // 资源的父子关系以及模型\r\n        /*\r\n        BABYLON.SceneLoader.Append('./scene/', 'scene.babylon', this._scene, function (scene) {\r\n          // do something with the scene\r\n          // 加载过度动画关\r\n          // engine.hideLoadingUI();\r\n    \r\n          // Keyboard events\r\n          var blue = scene.getMeshByName('blue')!;\r\n    \r\n          scene.actionManager = new BABYLON.ActionManager(scene);\r\n          scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyDownTrigger, function (evt) {\r\n            inputMap[evt.sourceEvent.key] = evt.sourceEvent.type == 'keydown';\r\n          }));\r\n          scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyUpTrigger, function (evt) {\r\n            inputMap[evt.sourceEvent.key] = evt.sourceEvent.type == 'keydown';\r\n          }));\r\n    \r\n    \r\n          // // Game/Render loop\r\n          scene.onBeforeRenderObservable.add(() => {\r\n    \r\n            if (inputMap['w'] || inputMap['ArrowUp']) {\r\n              blue.position.z -= 100 * engine.getDeltaTime() / 1000;\r\n            }\r\n            if (inputMap['a'] || inputMap['ArrowLeft']) {\r\n              blue.position.x += 100 * engine.getDeltaTime() / 1000;\r\n            }\r\n            if (inputMap['s'] || inputMap['ArrowDown']) {\r\n              blue.position.z += 100 * engine.getDeltaTime() / 1000;\r\n            }\r\n            if (inputMap['d'] || inputMap['ArrowRight']) {\r\n              blue.position.x -= 100 * engine.getDeltaTime() / 1000;\r\n            }\r\n          })\r\n    \r\n          // sphere\r\n          var sphere = scene.getMeshByName('sphere')!;\r\n          sphere.actionManager = new BABYLON.ActionManager(scene);\r\n    \r\n          sphere.actionManager.registerAction(new BABYLON.SetValueAction(\r\n            { trigger: BABYLON.ActionManager.OnIntersectionEnterTrigger, parameter: blue },\r\n            sphere, 'scaling', new BABYLON.Vector3(2, 2, 2)));\r\n    \r\n          sphere.actionManager.registerAction(new BABYLON.SetValueAction(\r\n            { trigger: BABYLON.ActionManager.OnIntersectionExitTrigger, parameter: blue }\r\n            , sphere, 'scaling', new BABYLON.Vector3(1, 1, 1)));\r\n    \r\n          let i: number = 0;\r\n    \r\n          // WebSocket 测试\r\n          // scene.onKeyboardObservable.add( kbInfo => {\r\n          //   if(kbInfo.type === BABYLON.KeyboardEventTypes.KEYUP) {\r\n          //     if(kbInfo.event.keyCode === 65) {\r\n          //       // editor.call('send', '按下次数：' + (i++) + '!');\r\n          //       editor.call('send', '{'data': {'a': 123, 'b': 'qwe'}}');\r\n          //     }\r\n          //   }\r\n          // });\r\n    \r\n        });\r\n        */\r\n\r\n\r\n        this._engine.runRenderLoop(() => {\r\n            if (this._canvas.width !== this._canvas.clientWidth) {\r\n                this._engine.resize();\r\n            }\r\n\r\n            if (this._scene) {\r\n                if (this._scene.activeCamera) {\r\n                    this._scene.render();\r\n                }\r\n            }\r\n\r\n            // if (this._showFps) {\r\n            // \tthis.updateFpsPos();\r\n            // }\r\n\r\n\r\n        });\r\n        // return this;\r\n\r\n\r\n        this.expandControl();\r\n    }\r\n\r\n\r\n    private init(): void {\r\n        let self = this;\r\n\r\n        this.canvas = new Canvas('canvas-viewport');\r\n        VeryEngine.viewCanvas = this.canvas;\r\n\r\n        this._canvas = <HTMLCanvasElement>this.canvas.element;\r\n        VeryEngine.viewCanvasElement = this._canvas;\r\n        // 去掉Babylon的蓝色边框\r\n        this._canvas.style.outline = 'none';\r\n        // add canvas\r\n        editor.call('layout.viewport').prepend(this.canvas);\r\n\r\n        // get canvas\r\n        editor.method('viewport:canvas', function () {\r\n            return self.canvas;\r\n        });\r\n\r\n        // update viewpot 视窗大小\r\n        setInterval(function () {\r\n            let rect = VeryEngine.viewportPanel.element!.getBoundingClientRect();\r\n            self.canvas.resize(Math.floor(rect.width), Math.floor(rect.height));\r\n        }, 100 / 6);\r\n\r\n        // if(this._engine) this._engine.dispose();\r\n\r\n        this._engine = new BABYLON.Engine(this._canvas, true);\r\n        VeryEngine.viewEngine = this._engine;\r\n        let engine = this._engine;\r\n\r\n        window.addEventListener('resize', function () {\r\n            engine.resize();\r\n        });\r\n\r\n        this._scene = new BABYLON.Scene(this._engine);\r\n        VeryEngine.viewScene = this._scene;\r\n        this._scene.clearColor = new BABYLON.Color4(0, 0, 0, 1);\r\n        GizmosCenter.init(this._scene);\r\n    }\r\n\r\n\r\n    private expandControl(): void {\r\n        let control: ToolbarTopControl = new ToolbarTopControl();\r\n        let expandView: ViewportExpand = new ViewportExpand();\r\n    }\r\n\r\n\r\n\r\n\r\n}","export class Application {\r\n    constructor() {\r\n        \r\n    }\r\n}","export class BabylonEngine {\r\n  public static Canvas: HTMLCanvasElement;\r\n  public static Engine: BABYLON.Engine;\r\n  public static Scene: BABYLON.Scene;\r\n}","export * from './babylon-engine';\r\nexport * from './very-engine';\r\nexport * from './application';","import { Viewport } from \"../editor\";\r\nimport { Canvas, Panel, Tree, Grid, TopElementContainer, TopElementPanel } from \"../ui\";\r\nimport { Database } from \"../editor/middleware/offline/database\";\r\n\r\nexport class VeryEngine {\r\n    public static root: TopElementContainer;\r\n    public static toolbar: TopElementContainer;\r\n    public static viewportPanel: TopElementContainer;\r\n    public static statusBar: TopElementContainer;\r\n    public static hierarchy: TopElementPanel;\r\n    public static assets: TopElementPanel;\r\n    public static attributes: TopElementPanel;\r\n    \r\n\r\n\r\n\r\n    // public static viewPanel: Panel;\r\n    // public static rootPanel: Panel;\r\n    public static toolbarPanel: Panel;\r\n\r\n    public static hierarchyPanel: Panel;\r\n    public static hierarchyTree: Tree;\r\n\r\n    // public static assetPanel: Panel;\r\n    public static attributesPanel: Panel;\r\n\r\n    public static viewport: Viewport;\r\n\r\n    public static viewCanvas: Canvas;\r\n    public static viewCanvasElement: HTMLCanvasElement;\r\n    public static viewEngine: BABYLON.Engine;\r\n    public static viewScene: BABYLON.Scene;\r\n\r\n    // assets\r\n    public static assetsGrid: Grid;\r\n\r\n\r\n    // TODO\r\n    public static database: Database;\r\n\r\n\r\n    // public static \r\n\r\n    public constructor() {\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n// export veryconfig","export * from './lib';\r\nexport * from './editor';\r\nexport * from './ui';\r\n\r\n\r\nexport * from './engine';\r\n","export class Events {\r\n\r\n  // 相较于Editor，同一个函数名可包含一系列函数，不仅仅是一个，且有once功能；\r\n\r\n  public get suspendEvents(): boolean {\r\n    return this._suspendEvents;\r\n  }\r\n  public set suspendEvents(val: boolean) {\r\n    this._suspendEvents = val;\r\n  }\r\n  private _suspendEvents: boolean = false;\r\n\r\n  // 某个name对应的事件数组，name与Function是1对多的关系；\r\n  private _events: { [key: string]: Function[] } = {};\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n  /**\r\n   * 添加事件数组，若name相同，则在数组末尾继续添加；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public on(name: string, fn: Function): EventHandle {\r\n    let events: Function[] = this._events[name];\r\n    if (events === undefined) {\r\n      this._events[name] = [fn];\r\n    } else {\r\n      if (events.indexOf(fn) == -1) {\r\n        events.push(fn);\r\n      }\r\n    }\r\n    return new EventHandle(this, name, fn);\r\n  }\r\n\r\n  /**\r\n   * emit后只执行一次；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public once(name: string, fn: Function): EventHandle {\r\n    let self = this;\r\n    let evt: EventHandle = this.on(name, function (\r\n      arg0: any,\r\n      arg1: any,\r\n      arg2: any,\r\n      arg3: any,\r\n      arg4: any,\r\n      arg5: any,\r\n      arg6: any,\r\n      arg7: any\r\n    ) {\r\n      fn.call(self, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7);\r\n      evt.unbind();\r\n    });\r\n    return evt;\r\n  }\r\n\r\n  /**\r\n   * 执行事件；\r\n   * @param name 函数名；\r\n   * @param arg0 函数参数1，可选；\r\n   * @param arg1 函数参数2，可选；\r\n   * @param arg2 函数参数3，可选；\r\n   * @param arg3 函数参数4，可选；\r\n   * @param arg4 函数参数5，可选；\r\n   * @param arg5 函数参数6，可选；\r\n   * @param arg6 函数参数7，可选；\r\n   * @param arg7 函数参数8，可选；\r\n   */\r\n  public emit(name: string,\r\n    arg0?: any,\r\n    arg1?: any,\r\n    arg2?: any,\r\n    arg3?: any,\r\n    arg4?: any,\r\n    arg5?: any,\r\n    arg6?: any,\r\n    arg7?: any\r\n  ): Events {\r\n    if (this._suspendEvents) return this;\r\n\r\n    let events: Function[] = this._events[name];\r\n    if (!events) return this;\r\n\r\n    // 返回新数组\r\n    events = events.slice(0);\r\n\r\n    for (let i: number = 0; i < events.length; i++) {\r\n      if (!events[i]) continue;\r\n      try {\r\n        events[i].call(this, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7);\r\n      } catch (ex) {\r\n        console.info(\"%c%s %c(event error)\", \"color: #06f\", name, \"color: #f00\");\r\n        console.log(ex.stack);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * 取消Events事件绑定，若name为空，则清空events；\r\n   * @param name 函数名；\r\n   * @param fn 函数本体；\r\n   */\r\n  public unbind(name?: string, fn?: Function): Events {\r\n    if (name) {\r\n      let events: Function[] = this._events[name];\r\n      if (!events) return this;\r\n\r\n      if (fn) {\r\n        let i: number = events.indexOf(fn);\r\n        if (i !== -1) {\r\n          if (events.length === 1) {\r\n            delete this._events[name];\r\n          } else {\r\n            events.splice(i, 1);\r\n          }\r\n        }\r\n      } else {\r\n        delete this._events[name];\r\n      }\r\n    } else {\r\n      this._events = {};\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n}\r\n\r\n\r\nexport class EventHandle {\r\n\r\n  public name: Nullable<string>;\r\n\r\n  public owner: Nullable<Events>;\r\n\r\n  public fn: Nullable<Function>;\r\n\r\n  public constructor(owner: Events, name: string, fn: Function) {\r\n    this.owner = owner;\r\n    this.name = name;\r\n    this.fn = fn;\r\n  }\r\n\r\n  public unbind(): void {\r\n    if (!this.owner) return;\r\n\r\n    this.owner.unbind(this.name!, this.fn!);\r\n\r\n    this.owner = null;\r\n    this.name = null;\r\n    this.fn = null;\r\n  }\r\n\r\n  public call(): void {\r\n    if (!this.fn) return;\r\n\r\n    this.fn.call(\r\n      this.owner!,\r\n      arguments[0],\r\n      arguments[1],\r\n      arguments[2],\r\n      arguments[3],\r\n      arguments[4],\r\n      arguments[5],\r\n      arguments[6],\r\n      arguments[7]\r\n    );\r\n  }\r\n\r\n  public on(name: string, fn: Function): EventHandle {\r\n    return this.owner!.on(name, fn);\r\n  }\r\n\r\n}","export * from './events';\r\nexport * from './observer';\r\nexport * from './observer-list';\r\nexport * from './observer-sync';","import { Events } from './events';\r\nimport { Observer } from './observer';\r\n\r\nexport class ObserverList extends Events {\r\n\r\n    public data: Observer[];\r\n\r\n    public id: string;\r\n    public sorted: Nullable<Function> = null;\r\n    private _indexed: { [key: string]: Observer };\r\n\r\n    public type: string;\r\n\r\n\r\n    public get length(): number {\r\n        return this.data.length;\r\n    }\r\n\r\n\r\n    public constructor(options?: any) {\r\n        super();\r\n\r\n        options = options || {};\r\n\r\n        this.type = '';\r\n        this.data = [];\r\n        this._indexed = {};\r\n        this.sorted = options.sorted || null;\r\n        this.id = options.id || '';\r\n    }\r\n\r\n\r\n    public get(index: number | string): Nullable<Observer> {\r\n        if (this.id && typeof index === 'string') {\r\n            return this._indexed[index] || null;\r\n        } else {\r\n            return typeof index === 'number' ? this.data[index] || null : null;\r\n        }\r\n    }\r\n\r\n    public set(index: number | string, val: Observer): void {\r\n        if (this.id) {\r\n            this._indexed[index] = val;\r\n        } else {\r\n            if (typeof index === 'number')\r\n                this.data[index] = val;\r\n        }\r\n    }\r\n\r\n    public indexof(item: Observer): number {\r\n        // if (this.id) {\r\n        //     let index: string = item.get(this.id);\r\n        //     return (this._indexed[index] && index) || -1;\r\n        // } else {\r\n        //     return this.data.indexOf(item);\r\n        // }\r\n        return this.data.indexOf(item);\r\n    }\r\n\r\n    public position(b: any, fn: Function): number {\r\n        var l = this.data;\r\n        var min = 0;\r\n        var max = l.length - 1;\r\n        var cur;\r\n        var a, i;\r\n        fn = fn || this.sorted;\r\n\r\n        while (min <= max) {\r\n            cur = Math.floor((min + max) / 2);\r\n            a = l[cur];\r\n\r\n            i = fn(a, b);\r\n\r\n            if (i === 1) {\r\n                max = cur - 1;\r\n            } else if (i === -1) {\r\n                min = cur + 1;\r\n            } else {\r\n                return cur;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    };\r\n\r\n    // 2分法求最近距离，对文件显示进行排序\r\n    public positionNextClosest(b: any, fn: any): number {\r\n        let l = this.data;\r\n        let min = 0;\r\n        let max = l.length - 1;\r\n        let cur: number = 0;\r\n        let a, i;\r\n        fn = fn || this.sorted;\r\n\r\n        if (l.length === 0) return -1;\r\n\r\n        // 名字与第一个元素相同的情况\r\n        if (fn(l[0], b) === 0) return 0;\r\n\r\n        while (min <= max) {\r\n            cur = Math.floor((min + max) / 2);\r\n            a = l[cur];\r\n\r\n            i = fn(a, b);\r\n\r\n            if (i === 1) {\r\n                max = cur - 1;\r\n            } else if (i === -1) {\r\n                min = cur + 1;\r\n            } else {\r\n                return cur;\r\n            }\r\n        }\r\n\r\n        if (fn(a, b) === 1) return cur;\r\n\r\n        if (cur! + 1 === l.length) return -1;\r\n\r\n        return cur! + 1;\r\n    };\r\n\r\n\r\n    public has(item: Observer): boolean {\r\n        if (this.id) {\r\n            var index = item.get(this.id);\r\n            return !!this._indexed[index];\r\n        } else {\r\n            return this.data.indexOf(item) !== -1;\r\n        }\r\n    };\r\n\r\n    public add(item: Observer): number {\r\n        if (this.has(item)) return -1;\r\n\r\n        // var index = this.data.length;\r\n        if (this.id) {\r\n            var index = item.get(this.id);\r\n            this._indexed[index] = item;\r\n        } else {\r\n            this._indexed[this.data.length] = item;\r\n        }\r\n\r\n        var pos = 0;\r\n\r\n        if (this.sorted) {\r\n            pos = this.positionNextClosest(item, this.sorted);\r\n            // console.error('name: ' + item.get('name') + ' ,,, pos: ' + pos.toString());\r\n            if (pos !== -1) {\r\n                this.data.splice(pos, 0, item);\r\n            } else {\r\n                this.data.push(item);\r\n            }\r\n        } else {\r\n            this.data.push(item);\r\n            pos = this.data.length - 1;\r\n        }\r\n\r\n        // 回调函数\r\n        this.emit('add', item);\r\n\r\n        return pos;\r\n    };\r\n\r\n    public move(item: Observer, pos: number): void {\r\n        let ind = this.data.indexOf(item);\r\n        this.data.splice(ind, 1);\r\n        if (pos === -1) {\r\n            this.data.push(item);\r\n        } else {\r\n            this.data.splice(pos, 0, item);\r\n        }\r\n    };\r\n\r\n\r\n    public remove(item: Observer): void {\r\n        if (!this.has(item)) return;\r\n\r\n        let ind = this.data.indexOf(item);\r\n\r\n        if (this.id) {\r\n            let index = item.get(this.id);\r\n            delete this._indexed[index];\r\n        }\r\n\r\n        this.data.splice(ind, 1);\r\n\r\n        this.emit('remove', item, ind);\r\n    };\r\n\r\n    public removeByKey(index: number): void {\r\n        if (this.id) {\r\n            let item = this._indexed[index];\r\n\r\n            if (!item) return;\r\n\r\n            let ind = this.data.indexOf(item);\r\n            this.data.splice(ind, 1);\r\n\r\n            delete this._indexed[index];\r\n\r\n            this.emit('remove', item, ind);\r\n        } else {\r\n            if (this.data.length < index) return;\r\n\r\n            let item = this.data[index];\r\n\r\n            this.data.splice(index, 1);\r\n\r\n            this.emit('remove', item, index);\r\n        }\r\n    };\r\n\r\n    public removeBy(fn: Function) {\r\n        let i = this.data.length;\r\n        while (i--) {\r\n            if (!fn(this.data[i])) continue;\r\n\r\n            if (this.id) {\r\n                delete this._indexed[this.data[i].get(this.id)];\r\n            }\r\n            this.data.splice(i, 1);\r\n\r\n            this.emit('remove', this.data[i], i);\r\n        }\r\n    };\r\n\r\n    public clear(): void {\r\n        let items = this.data.slice(0);\r\n\r\n        this.data = [];\r\n        this._indexed = {};\r\n\r\n        let i = items.length;\r\n        while (i--) {\r\n            this.emit('remove', items[i], i);\r\n        }\r\n    };\r\n\r\n    public forEach(fn: Function) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            fn(this.data[i], (this.id && this.data[i].get(this.id)) || i);\r\n        }\r\n    };\r\n\r\n    public find(fn: Function) {\r\n        let items = [];\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            if (!fn(this.data[i])) continue;\r\n\r\n            let index = i;\r\n            if (this.id) index = this.data[i].get(this.id);\r\n\r\n            items.push([index, this.data[i]]);\r\n        }\r\n        return items;\r\n    };\r\n\r\n    public findOne(fn: Function) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            if (!fn(this.data[i])) continue;\r\n\r\n            let index = i;\r\n            if (this.id) index = this.data[i].get(this.id);\r\n\r\n            return [index, this.data[i]];\r\n        }\r\n        return null;\r\n    };\r\n\r\n    public map(fn: any) {\r\n        return this.data.map(fn);\r\n    };\r\n\r\n    public sort(fn: any) {\r\n        this.data.sort(fn);\r\n    };\r\n\r\n    public array(): Observer[] {\r\n        return this.data.slice(0);\r\n    };\r\n\r\n    // public json() {\r\n    //     let items = this.array();\r\n    //     for (let i = 0; i < items.length; i++) {\r\n    //         if (items[i] instanceof Observer) {\r\n    //             items[i] = items[i].json();\r\n    //         }\r\n    //     }\r\n    //     return items;\r\n    // };\r\n\r\n}","import { Events } from './events';\r\nimport { Observer } from './observer';\r\nimport { ObserverList } from './observer-list';\r\n\r\nexport class ObserverSync extends Events {\r\n\r\n\r\n    public item: Observer;\r\n\r\n    private _enabled: boolean = true;\r\n    public get enabled(): boolean {\r\n        return this._enabled;\r\n    }\r\n    public set enabled(value: boolean) {\r\n        this._enabled = value;\r\n    }\r\n\r\n    private _prefix: Nullable<string[]>;\r\n    public get prefix(): Nullable<string[]> {\r\n        return this._prefix;\r\n    }\r\n    public set prefix(value: Nullable<string[]>) {\r\n        this._prefix = value || [];\r\n    }\r\n\r\n    private _paths: Nullable<string[]>;\r\n    public get paths(): Nullable<string[]> {\r\n        return this._paths;\r\n    }\r\n    public set paths(value: Nullable<string[]>) {\r\n        this._paths = value || null;\r\n    }\r\n\r\n\r\n\r\n    public constructor(args: any) {\r\n        super();\r\n\r\n        args = args || {};\r\n\r\n        this.item = args.item;\r\n        this._enabled = args.enabled || true;\r\n        this._prefix = args.prefix || [];\r\n        this._paths = args.paths || null;\r\n        // this._sync = args.sync || true;\r\n\r\n        this._initialize();\r\n    }\r\n\r\n    private _initialize(): void {\r\n        var self = this;\r\n        var item = this.item;\r\n\r\n        // // object/array set\r\n        // item.on('*:set', function (path: string, value: any, valueOld: any) {\r\n        //     if (!self._enabled) return;\r\n\r\n        //     // if this happens it's a bug\r\n        //     if (item.sync !== self) {\r\n        //         console.error('Garbage Observer Sync still pointing to item', item);\r\n        //     }\r\n\r\n        //     // check if path is allowed\r\n        //     if (self._paths) {\r\n        //         var allowedPath = false;\r\n        //         for (var i = 0; i < self._paths.length; i++) {\r\n        //             if (path.indexOf(self._paths[i]) !== -1) {\r\n        //                 allowedPath = true;\r\n        //                 break;\r\n        //             }\r\n        //         }\r\n\r\n        //         // path is not allowed\r\n        //         if (!allowedPath)\r\n        //             return;\r\n        //     }\r\n\r\n        //     // full path\r\n        //     var p = self._prefix!.concat(path.split('.'));\r\n\r\n        //     // need jsonify\r\n        //     if (value instanceof Observer || value instanceof ObserverList)\r\n        //         value = value.json();\r\n\r\n        //     // can be array value\r\n        //     var ind = path.lastIndexOf('.');\r\n        //     if (ind !== -1 && (self.get(path.slice(0, ind)) instanceof Array)) {\r\n        //         // array index should be int\r\n        //         p[p.length - 1] = parseInt(p[p.length - 1], 10);\r\n\r\n        //         // emit operation: list item set\r\n        //         self.emit('op', {\r\n        //             p: p,\r\n        //             li: value,\r\n        //             ld: valueOld\r\n        //         });\r\n        //     } else {\r\n        //         // emit operation: object item set\r\n        //         var obj = {\r\n        //             p: p,\r\n        //             oi: value\r\n        //         };\r\n\r\n        //         if (valueOld !== undefined) {\r\n        //             obj.od = valueOld;\r\n        //         }\r\n\r\n        //         self.emit('op', obj);\r\n        //     }\r\n        // });\r\n\r\n        // // unset\r\n        // item.on('*:unset', function (path: string, value: any) {\r\n        //     if (!self._enabled) return;\r\n\r\n        //     self.emit('op', {\r\n        //         p: self._prefix!.concat(path.split('.')),\r\n        //         od: null\r\n        //     });\r\n        // });\r\n\r\n        // // list move\r\n        // item.on('*:move', function (path: string, value: any, ind: string, indOld: string) {\r\n        //     if (!self._enabled) return;\r\n        //     self.emit('op', {\r\n        //         p: self._prefix!.concat(path.split('.')).concat([indOld]),\r\n        //         lm: ind\r\n        //     });\r\n        // });\r\n\r\n        // // list remove\r\n        // item.on('*:remove', function (path: string, value: any, ind: string) {\r\n        //     if (!self._enabled) return;\r\n\r\n        //     // need jsonify\r\n        //     if (value instanceof Observer || value instanceof ObserverList)\r\n        //         value = value.json();\r\n\r\n        //     self.emit('op', {\r\n        //         p: self._prefix!.concat(path.split('.')).concat([ind]),\r\n        //         ld: value\r\n        //     });\r\n        // });\r\n\r\n        // // list insert\r\n        // item.on('*:insert', function (path: string, value: any, ind: string) {\r\n        //     if (!self._enabled) return;\r\n\r\n        //     // need jsonify\r\n        //     if (value instanceof Observer || value instanceof ObserverList)\r\n        //         value = value.json();\r\n\r\n        //     self.emit('op', {\r\n        //         p: self._prefix!.concat(path.split('.')).concat([ind]),\r\n        //         li: value\r\n        //     });\r\n        // });\r\n\r\n    }\r\n\r\n\r\n    // public write(op: any): void {\r\n    //     // disable history if available\r\n    //     var historyReEnable = false;\r\n    //     if (this.item.history && this.item.history.enabled) {\r\n    //         historyReEnable = true;\r\n    //         this.item.history.enabled = false;\r\n    //     }\r\n\r\n    //     if (op.hasOwnProperty('oi')) {\r\n    //         // set key value\r\n    //         var path = op.p.slice(this._prefix!.length).join('.');\r\n\r\n    //         this._enabled = false;\r\n    //         this.item.set(path, op.oi);\r\n    //         this._enabled = true;\r\n\r\n\r\n    //     } else if (op.hasOwnProperty('ld') && op.hasOwnProperty('li')) {\r\n    //         // set array value\r\n    //         var path = op.p.slice(this._prefix!.length).join('.');\r\n\r\n    //         this._enabled = false;\r\n    //         this.item.set(path, op.li);\r\n    //         this._enabled = true;\r\n\r\n\r\n    //     } else if (op.hasOwnProperty('ld')) {\r\n    //         // delete item\r\n    //         var path = op.p.slice(this._prefix!.length, -1).join('.');\r\n\r\n    //         this._enabled = false;\r\n    //         this.item.remove(path, op.p[op.p.length - 1], false, true);\r\n    //         this._enabled = true;\r\n\r\n\r\n    //     } else if (op.hasOwnProperty('li')) {\r\n    //         // add item\r\n    //         var path = op.p.slice(this._prefix!.length, -1).join('.');\r\n    //         var ind = op.p[op.p.length - 1];\r\n\r\n    //         this._enabled = false;\r\n    //         this.item.insert(path, op.li, ind, false, true);\r\n    //         this._enabled = true;\r\n\r\n\r\n    //     } else if (op.hasOwnProperty('lm')) {\r\n    //         // item moved\r\n    //         var path = op.p.slice(this._prefix!.length, -1).join('.');\r\n    //         var indOld = op.p[op.p.length - 1];\r\n    //         var ind = op.lm;\r\n\r\n    //         this._enabled = false;\r\n    //         this.item.move(path, indOld, ind, false, true);\r\n    //         this._enabled = true;\r\n\r\n\r\n    //     } else if (op.hasOwnProperty('od')) {\r\n    //         // unset key value\r\n    //         var path = op.p.slice(this._prefix!.length).join('.');\r\n    //         this._enabled = false;\r\n    //         this.item.unset(path, false, true);\r\n    //         this._enabled = true;\r\n\r\n\r\n    //     } else {\r\n    //         console.log('unknown operation', op);\r\n    //     }\r\n\r\n    //     // reenable history\r\n    //     if (historyReEnable)\r\n    //         this.item.history.enabled = true;\r\n\r\n    //     this.emit('sync', op);\r\n    // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}","import { Events } from './events';\r\nimport { GameObject } from '../editor';\r\nimport { ObserverSync } from './observer-sync';\r\n\r\n//  TODO： 当前暂不考虑赋值会超出现有类型的情况，比如原来是个number，赋值为了array；\r\nexport class Observer extends Events {\r\n\r\n    public get className(): string {\r\n        return 'Observer';\r\n    }\r\n\r\n    public origin: any;\r\n\r\n    public entity: Nullable<GameObject> = null;\r\n\r\n\r\n    private SEPARATOR: string = '.';\r\n\r\n\r\n    private _destroyed: boolean;\r\n    public _path: string;\r\n    // TODO\r\n    public _keys: string[]; // 记录对象的key、value值；\r\n\r\n\r\n    public _data: { [key: string]: any }; // 采用此对象，完整记录所有值；\r\n    public _data2: { [key: string]: any }; // 采用此对象，完整记录所有值；\r\n    public _dataType: { [key: string]: boolean } = {}; // 暂时只判断是否为array分拆而成的类型；\r\n    public _dataType2: { [key: string]: boolean } = {}; // 暂时只判断是否为array分拆而成的类型；\r\n\r\n\r\n\r\n\r\n    public _parent: any; // 当前父物体\r\n    // public _parentPath: string;\r\n    private _parentField: any;\r\n    private _parentKey: any;\r\n\r\n    private _silent: boolean;\r\n\r\n    public history!: History;\r\n    public sync: Nullable<ObserverSync> = null;\r\n    // private sync!: History;\r\n\r\n    public node: any = null;\r\n\r\n    public reparenting: boolean = false;\r\n    private _pathsWithDuplicates: { [key: string]: boolean } = {};\r\n\r\n    // entity, assets, components: script, 一般components, selector, history\r\n    public constructor(data: any, options?: any) {\r\n        super();\r\n\r\n        this.origin = data;\r\n        options = options || {};\r\n\r\n\r\n\r\n\r\n\r\n        this._destroyed = false;\r\n        this._path = '';\r\n        this._keys = [];\r\n        this._data = {};\r\n\r\n        this._data2 = {};\r\n\r\n        // array paths where duplicate entries are allowed - normally\r\n        // we check if an array already has a value before inserting it\r\n        // but if the array path is in here we'll allow it\r\n        if (options.pathsWithDuplicates) {\r\n            this._pathsWithDuplicates = {};\r\n            for (let i = 0; i < options.pathsWithDuplicates.length; i++) {\r\n                this._pathsWithDuplicates[options.pathsWithDuplicates[i]] = true;\r\n            }\r\n        }\r\n\r\n        this.patchData(data);\r\n\r\n        // for (let ke in this._data) {\r\n        //   debug.log('key: ' + ke);\r\n        //   debug.log(this._data[ke]);\r\n        // }\r\n\r\n        // this._parent = options.parent || null;\r\n        // this._parentPath = options.parentPath || '';\r\n        // this._parentField = options.parentField || null;\r\n        // this._parentKey = options.parentKey || null;\r\n\r\n        this._silent = false;\r\n    }\r\n\r\n    public patchData(data: any): void {\r\n        if (typeof data !== 'object') {\r\n            debug.warn(this.className + ': 不是正确的json对象，打印：\\n' + data);\r\n            return;\r\n        }\r\n\r\n        for (let key in data) {\r\n            if (typeof data[key] === 'object') {\r\n                // 对象属性\r\n                // debug.log('对象属性：' + key);\r\n                // debug.log(data[key]);\r\n                // this._prepare(this, key, data[key]);\r\n                this.parserObject(key, key, data[key]);\r\n            } else {\r\n                // 一般属性\r\n                // debug.log('一般属性：' + key);\r\n                // debug.log(data[key]);\r\n                this.set(key, data[key]);\r\n                this._dataType[key] = false;\r\n                this._dataType2[key] = false;\r\n                // this.set(key, data[key]);\r\n            }\r\n        }\r\n    }\r\n\r\n    // TODO: 若设置值为object，需要再parse\r\n    public set(path: string, value: any): void {\r\n        // console.warn(path + ' : ' + value);\r\n        let oldValue = this._data[path];\r\n        // console.warn(path);\r\n        // console.warn(value);\r\n        let keys = path.split('.');\r\n        let parentID = '';\r\n        for (let i = 0; i < keys.length - 1; i++) {\r\n            if (i === 0) {\r\n                parentID = keys[i];\r\n            } else {\r\n                parentID += this.SEPARATOR + keys[i];\r\n            }\r\n        }\r\n        // 数组处理，其他形式暂不考虑\r\n        if (keys.length > 1 && this._dataType[path]) {\r\n            let index = parseInt(keys[keys.length - 1]);\r\n            this._data[path] = value;\r\n            // 上一级数组修改\r\n            this._data[parentID][index] = value;\r\n        } else {\r\n            // if (value instanceof Array) {\r\n            //     value = value.slice(0);\r\n            // }\r\n            this._data[path] = value;\r\n            this.updateChildData(path, value);\r\n            this._data2[path] = value;\r\n        }\r\n        // console.warn(this._data);\r\n\r\n        // if (parentID && this._dataType2[parentID] && this.isNumber(keys[keys.length - 1])) {\r\n        //     this._data2[parentID][parseInt(keys[keys.length - 1])] = value;\r\n        // }\r\n\r\n        this.emit(path + ':set', value, oldValue);\r\n        this.emit('*:set', path, value, oldValue);\r\n    }\r\n\r\n    private isNumber(str: string): boolean {\r\n        var n = Number(str);\r\n        return !isNaN(n) ? true : false;\r\n    }\r\n\r\n    private updateChildData(path: string, value: any): void {\r\n        if (value instanceof Array) {\r\n            for (let key in this._data) {\r\n                if (key.startsWith(path + this.SEPARATOR)) {\r\n                    delete this._data[key];\r\n                    delete this._dataType[key];\r\n                }\r\n            }\r\n            let newPath = '';\r\n            for (let i = 0; i < value.length; i++) {\r\n                newPath = path + this.SEPARATOR + i.toString();\r\n                this._data[newPath] = value[i];\r\n                this._dataType[newPath] = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    // TODO\r\n    public unset(path: string, value: any): boolean {\r\n        // console.log(path + ' : ' + value);\r\n        if (!this.has(path)) {\r\n            return false;\r\n        }\r\n        let oldValue = this._data[path];\r\n        delete this._data[path];\r\n        delete this._dataType[path];\r\n\r\n        delete this._data2[path];\r\n        delete this._dataType2[path];\r\n\r\n        this.emit(path + ':set', value, oldValue);\r\n        this.emit('*:set', path, value, oldValue);\r\n\r\n        return true;\r\n    }\r\n\r\n    // 在数组的某个指定位置增加值\r\n    public insert(path: string, value: any, ind: number | undefined): boolean {\r\n        // console.error(path + ':insert-value: ' + value);\r\n        // console.warn(this._data);\r\n        if (!this.has(path) || !(this._data[path] instanceof Array)) {\r\n            return false;\r\n        }\r\n        let arr = this._data[path];\r\n        if (value instanceof Array) {\r\n            value = value.slice(0);\r\n        }\r\n        // if (!this._pathsWithDuplicates || !this._pathsWithDuplicates[path]) {\r\n        //     if (arr.indexOf(value) !== -1) {\r\n        //         return false;\r\n        //     }\r\n        // }\r\n        if (ind === undefined) {\r\n            arr.push(value);\r\n            ind = arr.length - 1;\r\n        } else {\r\n            arr.splice(ind, 0, value);\r\n        }\r\n        this.updateChildData(path, arr);\r\n        // TODO\r\n        // let arr2 = this._data2[path];\r\n        // console.error(arr2);\r\n        // if (arr2) {\r\n        //     // if (!this._pathsWithDuplicates || !this._pathsWithDuplicates[path]) {\r\n        //     //     if (arr2.indexOf(value) !== -1) {\r\n        //     //         return false;\r\n        //     //     }\r\n        //     // }\r\n        //     if (ind === undefined) {\r\n        //         arr2.push(value);\r\n        //     } else {\r\n        //         arr2.splice(ind, 0, value);\r\n        //     }\r\n        // }\r\n        // console.error(arr2);\r\n        \r\n        // console.warn(this._data);\r\n        this.emit(path + ':insert', value, ind);\r\n        this.emit('*:insert', path, value, ind);\r\n\r\n        return true;\r\n    }\r\n\r\n    // 删除数组指定某个序号的值\r\n    public remove(path: string, ind: number): boolean {\r\n        if (!this.has(path) || !(this._data[path] instanceof Array)) {\r\n            return false;\r\n        }\r\n        let arr = this._data[path];\r\n        if (arr.length < ind) return false;\r\n        let value = arr[ind];\r\n        arr.splice(ind, 1);\r\n        this.updateChildData(path, arr);\r\n\r\n        // TODO\r\n        // let arr2 = this._data2[path];\r\n        // if (arr2 && arr2.length >= ind) {\r\n        //     arr2.splice(ind, 1);\r\n        // }\r\n\r\n        this.emit(path + ':remove', value, ind);\r\n        this.emit('*:remove', path, value, ind);\r\n        return true;\r\n    }\r\n\r\n    // 删除数组中的某个value值\r\n    public removeValue(path: string, value: any): boolean {\r\n        if (!this.has(path) || !(this._data[path] instanceof Array)) {\r\n            return false;\r\n        }\r\n        let arr = this._data[path];\r\n        let ind = arr.indexOf(value);\r\n        if (ind === -1) {\r\n            return false;\r\n        }\r\n        let oldValue = arr[ind];\r\n        arr.splice(ind, 1);\r\n        this.updateChildData(path, arr);\r\n\r\n        // TODO\r\n        // let arr2 = this._data2[path];\r\n        // if (arr2 && ind >= 0) {\r\n        //     arr2.splice(ind, 1);\r\n        // }\r\n\r\n        // console.warn('删除');\r\n        // console.warn(this._data);\r\n        // console.warn(this._data2);\r\n\r\n        this.emit(path + ':remove', oldValue, ind);\r\n        this.emit('*:remove', path, oldValue, ind);\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    public move(path: string, indOld: number, indNew: number): boolean {\r\n        if (!this.has(path) || !(this._data[path] instanceof Array)) {\r\n            return false;\r\n        }\r\n\r\n        let indNew2 = indNew;\r\n\r\n        let arr = this._data[path];\r\n        if (arr.length < indOld || arr.length < indNew || indOld === indNew) return false;\r\n        let oldValue = arr[indOld]\r\n        arr.splice(indOld, 1);\r\n        if (indNew === -1) indNew = arr.length;\r\n        arr.splice(indNew, 0, oldValue);\r\n        this.updateChildData(path, arr);\r\n\r\n        // TODO\r\n        // let arr2 = this._data2[path];\r\n        // if (arr2) {\r\n        //     if (arr2.length < indOld || arr2.length < indNew2 || indOld === indNew2) {\r\n\r\n        //     } else {\r\n        //         let oldValue2 = arr2[indOld]\r\n        //         arr2.splice(indOld, 1);\r\n        //         if (indNew2 === -1) indNew2 = arr2.length;\r\n        //         arr2.splice(indNew2, 0, oldValue2);\r\n        //     }\r\n        // }\r\n\r\n        this.emit(path + ':move', oldValue, indNew, indOld);\r\n        this.emit('*:move', path, oldValue, indNew, indOld);\r\n        return true;\r\n    }\r\n\r\n    public parserObject(prefix: string, key: string, value: any): void {\r\n        // 先保存一份\r\n        this.set(prefix, value);\r\n        this._dataType[prefix] = false;\r\n\r\n        let path: string;\r\n        let type: string = typeof value;\r\n\r\n        if (type === 'object' && value instanceof Array) {\r\n            this._dataType2[prefix] = true;\r\n            for (let i = 0; i < value.length; i++) {\r\n                path = prefix + this.SEPARATOR + i.toString();\r\n                this.set(path, value[i]);\r\n                this._dataType[path] = true;\r\n                // 数组元素还是对象的情况暂时不处理\r\n            }\r\n        } else if (type === 'object' && value instanceof Object) {\r\n\r\n            for (let key2 in value) {\r\n                if (typeof value[key2] === 'object') {\r\n                    // 递归解析\r\n                    this.parserObject(prefix + this.SEPARATOR + key2, key2, value[key2]);\r\n                } else {\r\n                    path = prefix + this.SEPARATOR + key2;\r\n                    this.set(path, value[key2]);\r\n                    this._dataType[path] = false;\r\n                    this._dataType2[prefix] = false;\r\n\r\n                }\r\n            }\r\n        } else {\r\n            // 目前看，null和undefined会经过这里\r\n            // debug.warn(this.className + '.parserObject, 为止数据类型:' + value);\r\n        }\r\n    }\r\n\r\n\r\n    public has(path: string): boolean {\r\n        return path in this._data;\r\n    }\r\n\r\n    public get(path: string): any {\r\n        if (path in this._data) {\r\n            return this._data[path];\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public propagate(evt: any) {\r\n        let that = this;\r\n        return function (path: string, arg1: any, arg2: any, arg3: any) {\r\n            if (!that._parent) return;\r\n\r\n            let key = that._parentKey;\r\n            if (!key && that._parentField instanceof Array) {\r\n                key = that._parentField.indexOf(that);\r\n\r\n                if (key === -1) return;\r\n            }\r\n\r\n            // path = that._parentPath + '.' + key + '.' + path;\r\n\r\n            let state;\r\n            if (that._silent) state = that._parent.silence();\r\n\r\n            that._parent.emit(path + ':' + evt, arg1, arg2, arg3);\r\n            that._parent.emit('*:' + evt, path, arg1, arg2, arg3);\r\n\r\n            if (that._silent) that._parent.silenceRestore(state);\r\n        };\r\n    }\r\n\r\n    // key => object\r\n    private _prepare(target: Observer, key: string, value: any, silent?: boolean, remote?: any) {\r\n        let self = this;\r\n        let state: boolean[];\r\n        let path = (target._path ? target._path + '.' : '') + key;\r\n        let type = typeof value;\r\n\r\n        target._keys.push(key);\r\n\r\n        if (type === 'object' && value instanceof Array) {\r\n            target._data[key] = value.slice(0); // 复制一份新的数组\r\n\r\n            // 子一层数据\r\n            for (let i = 0; i < target._data[key].length; i++) {\r\n                if (typeof target._data[key][i] === 'object' && target._data[key][i] !== null) {\r\n                    if (target._data[key][i] instanceof Array) {\r\n                        target._data[key][i].slice(0);\r\n                    } else {\r\n                        // observer? 这里不需要递归吗？\r\n                        target._data[key][i] = new Observer(\r\n                            target._data[key][i],\r\n                            {\r\n                                parent: this,\r\n                                parentPath: path,\r\n                                parentField: target._data[key],\r\n                                parentKey: null\r\n                            }\r\n                        );\r\n                    }\r\n                } else {\r\n                    state = this.silence();\r\n                    this.emit(path + '.' + i + ':set', target._data[key][i], null, remote);\r\n                    this.emit('*:set', path + '.' + i, target._data[key][i], null, remote);\r\n                    this.silenceRestore(state);\r\n                }\r\n            }\r\n\r\n            if (silent) state = this.silence();\r\n\r\n            this.emit(path + ':set', target._data[key], null, remote);\r\n            this.emit('*:set', path, target._data[key], null, remote);\r\n\r\n            if (silent) this.silenceRestore(state!);\r\n        } else if (type === 'object' && value instanceof Object) {\r\n            if (typeof target._data[key] !== 'object') {\r\n                target._data[key] = {\r\n                    _path: path,\r\n                    _keys: [],\r\n                    _data: {}\r\n                };\r\n            }\r\n\r\n            for (let i in value) {\r\n                if (typeof value[i] === 'object') {\r\n                    // 递归\r\n                    this._prepare(target._data[key], i, value[i], true, remote);\r\n                } else {\r\n                    state = this.silence();\r\n\r\n                    target._data[key]._data[i] = value[i];\r\n                    target._data[key]._keys.push(i);\r\n\r\n                    this.emit(path + '.' + i + ':set', value[i], null, remote);\r\n                    this.emit('*:set', path + '.' + i, value[i], null, remote);\r\n\r\n                    this.silenceRestore(state);\r\n                }\r\n            }\r\n\r\n            if (silent) state = this.silence();\r\n\r\n            // passing undefined as valueOld here\r\n            // but we should get the old value to be consistent\r\n            this.emit(path + ':set', value, undefined, remote);\r\n            this.emit('*:set', path, value, undefined, remote);\r\n\r\n            if (silent) this.silenceRestore(state!);\r\n        } else {\r\n            if (silent) state = this.silence();\r\n\r\n            target._data[key] = value;\r\n\r\n            this.emit(path + ':set', value, undefined, remote);\r\n            this.emit('*:set', path, value, undefined, remote);\r\n\r\n            if (silent) this.silenceRestore(state!);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public silence(): boolean[] {\r\n        this._silent = true;\r\n\r\n        // history hook to prevent array values to be recorded\r\n        let historyState: boolean =\r\n            this.history !== undefined && this.history.enabled !== undefined;\r\n        if (historyState) this.history.enabled = false;\r\n\r\n        // sync hook to prevent array values to be recorded as array root already did\r\n        let syncState: boolean = this.sync !== null && this.sync.enabled !== undefined;\r\n        if (this.sync !== null && this.sync.enabled !== undefined)\r\n            this.sync.enabled = false;\r\n\r\n        return [historyState, syncState];\r\n    }\r\n\r\n    public silenceRestore(state: boolean[]): void {\r\n        this._silent = false;\r\n\r\n        if (state[0]) this.history.enabled = true;\r\n\r\n        if (state[1] && this.sync !== null && this.sync.enabled !== undefined)\r\n            this.sync!.enabled = true;\r\n    }\r\n\r\n    // public json(target?: Observer): Observer {\r\n    //   let obj: { [key: string]: any } = {};\r\n    //   let node = target === undefined ? this : target;\r\n    //   let len, nlen;\r\n\r\n    //   if (node instanceof Object && node._keys) {\r\n    //     len = node._keys.length;\r\n    //     for (let i = 0; i < len; i++) {\r\n    //       let key = node._keys[i];\r\n    //       let value = node._data[key];\r\n    //       let type = typeof (value);\r\n\r\n    //       if (type === 'object' && (value instanceof Array)) {\r\n    //         obj[key] = value.slice(0);\r\n\r\n    //         nlen = obj[key].length;\r\n    //         for (let n = 0; n < nlen; n++) {\r\n    //           if (typeof (obj[key][n]) === 'object')\r\n    //             obj[key][n] = this.json(obj[key][n]);\r\n    //         }\r\n    //       } else if (type === 'object' && (value instanceof Object)) {\r\n    //         obj[key] = this.json(value);\r\n    //       } else {\r\n    //         obj[key] = value;\r\n    //       }\r\n    //     }\r\n    //   } else {\r\n    //     if (node === null) {\r\n    //       return null;\r\n    //     } else if (typeof (node) === 'object' && (node instanceof Array)) {\r\n    //       obj = node.slice(0);\r\n\r\n    //       len = obj.length;\r\n    //       for (let n = 0; n < len; n++) {\r\n    //         obj[n] = this.json(obj[n]);\r\n    //       }\r\n    //     } else if (typeof (node) === 'object') {\r\n    //       for (let key in node) {\r\n    //         if (node.hasOwnProperty(key))\r\n    //           obj[key] = node[key];\r\n    //       }\r\n    //     } else {\r\n    //       obj = node;\r\n    //     }\r\n    //   }\r\n    //   return obj;\r\n    // }\r\n\r\n    // public forEach(fn: Function, target: Observer, path: string): void {\r\n    //   let node = target || this;\r\n    //   path = path || '';\r\n\r\n    //   for (let i = 0; i < node._keys.length; i++) {\r\n    //     let key = node._keys[i];\r\n    //     let value = node._data[key];\r\n    //     let type = (this.schema && this.schema.has(path + key) && this.schema.get(path + key).type.name.toLowerCase()) || typeof (value);\r\n\r\n    //     if (type === 'object' && (value instanceof Array)) {\r\n    //       fn(path + key, 'array', value, key);\r\n    //     } else if (type === 'object' && (value instanceof Object)) {\r\n    //       fn(path + key, 'object', value, key);\r\n    //       this.forEach(fn, value, path + key + '.');\r\n    //     } else {\r\n    //       fn(path + key, type, value, key);\r\n    //     }\r\n    //   }\r\n    // };\r\n\r\n    public destroy(): void {\r\n        if (this._destroyed) return;\r\n        this._destroyed = true;\r\n        this.emit('destroy');\r\n        this.unbind();\r\n    }\r\n}\r\n\r\nexport interface History {\r\n    enabled?: boolean;\r\n}\r\n","import { Editor, Layout, Viewport, HierarchyKeeper, AssetsPanel, InitializeBefore, InitializeAfter, Debug, Tools, AssetsKeeper, Search, Drop, InitializeData } from './editor';\r\n// import { Element, Canvas } from './ui';\r\nimport { VeryEngine } from './engine';\r\n// import { Database } from './editor/middleware/offline/database';\r\n\r\nexport * from './index';\r\n\r\n// 添加到全局变量\r\nwindow.editor = new Editor();\r\n\r\n// 全局注册debug类\r\nwindow.debug = new Debug();\r\n\r\n// 初始化全局信息类\r\nlet initialize: InitializeBefore = new InitializeBefore();\r\n\r\n// 后期可以修改为load、start等string表示的事件，通过event来实现\r\n// 打开project或者scene，1对多的关系，记录一下默认的scene（上一次打开的scene），一开始就打开默认的scene；\r\n// 当前project的编辑器设置，如摄像机等，各种设置数据；\r\n// assets数据；\r\n// scene的数据，可能会多个，当前scene，不同scene之间还有顺序关系；\r\n\r\n// 整体布局\r\nlet layout = new Layout();\r\nlayout.init();\r\n\r\nlet drop = new Drop();\r\nlet search = new Search();\r\n\r\n// 层级菜单\r\nlet hierarchy = new HierarchyKeeper();\r\n\r\n// 资源菜单\r\nlet assetsKeeper = new AssetsKeeper();\r\n\r\n// 初始化全局信息类\r\nlet initializeAfter: InitializeAfter = new InitializeAfter();\r\n\r\n// 编辑视窗\r\nlet viewport = new Viewport();\r\nVeryEngine.viewport = viewport;\r\n\r\n// 初始数据\r\nlet initializeData: InitializeData = new InitializeData();\r\n\r\n// TODO\r\n// Tools.loadBabylon();\r\n// 加载资源\r\n\r\n// 关联资源\r\n\r\n// 本地数据库测试\r\n// VeryEngine.database = new Database();\r\n// VeryEngine.database.connect('test', 'store', 1, ['xxx']);\r\n\r\n// let im = new Image();\r\n// im.src = \"test.jpeg\";\r\n// im.onload = () => {\r\n//   console.log('--------------');\r\n//   console.log(im.name);\r\n//   console.log(im.sizes);\r\n// }\r\n\r\n/* TEST\r\neditor.once('load', () => {\r\n  console.log('once');\r\n});\r\n\r\neditor.on('array', () => {\r\n  console.log('1');\r\n});\r\neditor.on('array', () => {\r\n  console.log('2');\r\n});\r\neditor.on('array', () => {\r\n  console.log('3');\r\n});\r\n\r\neditor.on('array', (args0: any, args1: any) => {\r\n  console.log(args0 + ' +++ ' +  args1);\r\n});\r\n\r\neditor.method('method', (a: any) => {\r\n  console.log(a);\r\n});\r\n\r\n\r\neditor.emit('load');\r\neditor.emit('load');\r\n\r\neditor.emit('array', 'abc', 'dfg');\r\neditor.emit('array');\r\n\r\neditor.call('method', 123);\r\n*/\r\n\r\n// let parent: HTMLElement = document.getElementById('test')!;\r\n\r\n// console.log('children');\r\n\r\n// console.log(parent);\r\n// console.log(parent.childNodes);\r\n\r\n// for(let i: number = 0; i < parent.children.length; i++) {\r\n//   (<HTMLElement>(parent.children[i])).ui = new Element();\r\n//   console.warn((<HTMLElement>(parent.children[i])).ui === undefined);\r\n//   console.log((<HTMLElement>(parent.children[i])).ui);\r\n//   (<HTMLElement>(parent.children[i])).ui.destroy();\r\n//   console.log(parent.children[i] instanceof HTMLElement);\r\n// }\r\n\r\n// console.log('childNodes');\r\n\r\n// for(let i: number = 0; i < parent.childNodes.length; i++) {\r\n//   console.log(parent.childNodes[i] instanceof HTMLElement);\r\n// }\r\n","import { Element } from \"./element\";\r\n\r\nexport class Bubble extends Element {\r\n\r\n\r\n  public constructor(id?: string, tabindex?: number) {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-bubble');\r\n\r\n    let pulseCircle: HTMLDivElement = document.createElement('div');\r\n    pulseCircle.classList.add('pulse');\r\n    this.element.appendChild(pulseCircle);\r\n\r\n    let centerCircle: HTMLDivElement = document.createElement('div');\r\n    centerCircle.classList.add('center');\r\n    this.element.appendChild(centerCircle);\r\n\r\n    this.on('click', this._onClick);\r\n\r\n    if (id !== undefined)\r\n      this.element.id = id;\r\n\r\n    if (tabindex !== undefined)\r\n      this.element.setAttribute('tabindex', tabindex.toString());\r\n  }\r\n\r\n  private _onClick(): void {\r\n    if (this.class!.contains('active')) {\r\n      this.deactivate();\r\n    } else {\r\n      this.activate();\r\n    }\r\n  }\r\n\r\n  public activate(): void {\r\n    this.class!.add('active');\r\n    this.emit('activate');\r\n  }\r\n\r\n  public deactivate(): void {\r\n    this.class!.remove('active');\r\n    this.emit('deactivate');\r\n  }\r\n\r\n  public position(x: number, y: number) {\r\n    let rect = this.element!.getBoundingClientRect();\r\n\r\n    let left = x || 0;\r\n    let top = y || 0;\r\n\r\n    this.element!.style.left = (typeof left === 'number') ? left + 'px' : left;\r\n    this.element!.style.top = (typeof top === 'number') ? top + 'px' : top;\r\n  }\r\n\r\n}","import { Element } from \"./element\";\r\nimport { Tooltip } from \"./tooltip\";\r\n\r\nexport class Button extends Element {\r\n\r\n\r\n  private _text: string;\r\n  public get text(): string {\r\n    return this._text;\r\n  }\r\n  public set text(val: string) {\r\n    if (this._text === val) return;\r\n    this._text = val;\r\n    this.element!.innerHTML = this._text;\r\n  }\r\n\r\n  public tooltip: Nullable<Tooltip> = null;\r\n  public op: string = '';\r\n\r\n\r\n  public constructor(text?: string) {\r\n    super();\r\n\r\n    this._text = text ? text : '';\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-button');\r\n    this.element.innerHTML = this._text;\r\n    this.element.ui = this;\r\n    this.element.tabIndex = 0;\r\n\r\n    // space > click\r\n    // 鼠标抬起时完成keydown，才会触发；\r\n    this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n    this.on('click', this._onClick);\r\n    // this.element.addEventListener('mousedown', this._onClick.bind(this));\r\n\r\n  }\r\n\r\n\r\n  private _onKeyDown(evt: KeyboardEvent): void {\r\n    // console.log('c');\r\n    if (evt.keyCode === 27)  // 27: Escape\r\n      return (<HTMLElement>evt.target).blur();\r\n\r\n    if (evt.keyCode !== 32 || this.disabled)  // 32: Space\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n    this.emit('click');\r\n  }\r\n\r\n  private _onClick(): void {\r\n    this.element!.blur();\r\n  };\r\n\r\n  // TODO\r\n  public _onLinkChange(value: any): void {\r\n    (<HTMLButtonElement>this.element).value = value;\r\n  };\r\n\r\n\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class Canvas extends Element {\r\n\r\n  public get width(): number {\r\n    return this.element ? (<HTMLCanvasElement>this.element).width : 0;\r\n  }\r\n  public set width(val: number) {\r\n    if (!this.element) return;\r\n    if ((<HTMLCanvasElement>this.element).width === val) return;\r\n\r\n    (<HTMLCanvasElement>this.element).width = val;\r\n    this.emit(\"resize\", (<HTMLCanvasElement>this.element).width, (<HTMLCanvasElement>this.element).height);\r\n  }\r\n\r\n  public get height(): number {\r\n    return this.element ? (<HTMLCanvasElement>this.element).height : 0;\r\n  }\r\n  public set height(val: number) {\r\n    if (!this.element) return;\r\n    if ((<HTMLCanvasElement>this.element).height === val) return;\r\n\r\n    (<HTMLCanvasElement>this.element).height = val;\r\n    this.emit(\"resize\", (<HTMLCanvasElement>this.element).width, (<HTMLCanvasElement>this.element).height);\r\n  }\r\n\r\n  public constructor(id?: string) {\r\n    super();\r\n\r\n    this.element = document.createElement('canvas');\r\n    this.element.classList.add('ui-canvas');\r\n\r\n    if (id !== undefined) this.element.id = id;\r\n\r\n    this.element.onselectstart = this.onselectstart;\r\n\r\n  }\r\n\r\n  private onselectstart(): boolean {\r\n    return false;\r\n  };\r\n\r\n  public resize(width: number, height: number): void {\r\n    if ((<HTMLCanvasElement>this.element).width === width && (<HTMLCanvasElement>this.element).height === height) return;\r\n\r\n    (<HTMLCanvasElement>this.element).width = width;\r\n    (<HTMLCanvasElement>this.element).height = height;\r\n    this.emit(\"resize\", (<HTMLCanvasElement>this.element).width, (<HTMLCanvasElement>this.element).height);\r\n  };\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class Checkbox extends Element {\r\n\r\n\r\n    private _text: string;\r\n\r\n    public get value(): boolean {\r\n        if (this._link) {\r\n            return this._link.get(this.path);\r\n        } else {\r\n            return this.element!.classList.contains('checked');\r\n        }\r\n    }\r\n    public set value(val: boolean) {\r\n        if (this._link) {\r\n            this._link.set(this.path, val);\r\n        } else {\r\n            if (this.element!.classList.contains('checked') !== val)\r\n                this._onLinkChange(val);\r\n        }\r\n    }\r\n\r\n    public constructor(text?: string) {\r\n        super();\r\n\r\n        this._text = text || '';\r\n\r\n        this.element = document.createElement('div');\r\n        this.element.classList.add('ui-checkbox', 'noSelect');\r\n        this.element.tabIndex = 0;\r\n\r\n        this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n\r\n        this.on('click', this._onClick);\r\n        this.on('change', this._onChange);\r\n\r\n    }\r\n\r\n    private _onClick(): void {\r\n        // console.log('checkbox click');\r\n        this.value = !this.value;\r\n        this.element!.blur();\r\n    }\r\n\r\n    private _onChange(): void {\r\n        // console.log('checkbox _onChange');\r\n        if (!this.renderChanges)\r\n            return;\r\n\r\n        this.flash();\r\n    }\r\n\r\n    private _onKeyDown(evt: KeyboardEvent): void {\r\n        // console.log('checkbox _onKeyDown');\r\n        if (evt.keyCode === 27)  // Escape\r\n            return (<HTMLElement>evt.target).blur();\r\n\r\n        // Space\r\n        if (evt.keyCode !== 32 || this.disabled)\r\n            return;\r\n\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n        this.value = !this.value;\r\n    }\r\n\r\n    // TODO\r\n    public _onLinkChange(value: boolean) {\r\n        // console.log('checkbox _onLinkChange');\r\n        if (value === null) {\r\n            this.element!.classList.remove('checked');\r\n            this.element!.classList.add('null');\r\n        } else if (value) {\r\n            this.element!.classList.add('checked');\r\n            this.element!.classList.remove('null');\r\n        } else {\r\n            this.element!.classList.remove('checked', 'null');\r\n        }\r\n        this.emit('change', value);\r\n    }\r\n\r\n\r\n}","import { ContainerElement } from \"./container-element\";\r\n\r\nexport class Code extends ContainerElement {\r\n\r\n  public get text(): string {\r\n    return this.element!.textContent || '';\r\n  }\r\n  public set text(val: string) {\r\n    this.element!.textContent = val;\r\n  }\r\n\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    this.element = document.createElement('pre');\r\n    this.element.classList.add('ui-code');\r\n\r\n  }\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class ColorField extends Element {\r\n\r\n  public elementColor: HTMLElement;\r\n\r\n  private _values: number[];\r\n\r\n  public evtLinkChannels: EventHandle[];\r\n\r\n  private _channels: number;\r\n  public get channels(): number {\r\n    return this._channels;\r\n  }\r\n  public set channels(val: number) {\r\n    if (this._channels === val)\r\n      return;\r\n\r\n    this._channels = val;\r\n    this.emit('channels', this._channels);\r\n  }\r\n\r\n  public get r(): number {\r\n    if (this._link) {\r\n      return Math.floor(this._link.get(this.path + '.0') * 255);\r\n    } else {\r\n      return this._values[0];\r\n    }\r\n  }\r\n  public set r(val: number) {\r\n    val = Math.min(0, Math.max(255, val));\r\n\r\n    if (this._values[0] === val)\r\n      return;\r\n\r\n    this._values[0] = val;\r\n    this.emit('r', this._values[0]);\r\n    this.emit('change', this._values.slice(0, this._channels));\r\n  }\r\n\r\n  public get g(): number {\r\n    if (this._link) {\r\n      return Math.floor(this._link.get(this.path + '.1') * 255);\r\n    } else {\r\n      return this._values[1];\r\n    }\r\n  }\r\n  public set g(val: number) {\r\n    val = Math.min(0, Math.max(255, val));\r\n\r\n    if (this._values[1] === val)\r\n      return;\r\n\r\n    this._values[1] = val;\r\n\r\n    if (this._channels >= 2) {\r\n      this.emit('g', this._values[1]);\r\n      this.emit('change', this._values.slice(0, this._channels));\r\n    }\r\n  }\r\n\r\n  public get b(): number {\r\n    if (this._link) {\r\n      return Math.floor(this._link.get(this.path + '.2') * 255);\r\n    } else {\r\n      return this._values[2];\r\n    }\r\n  }\r\n  public set b(val: number) {\r\n    val = Math.min(0, Math.max(255, val));\r\n\r\n    if (this._values[2] === val)\r\n      return;\r\n\r\n    this._values[2] = val;\r\n\r\n    if (this._channels >= 3) {\r\n      this.emit('b', this._values[2]);\r\n      this.emit('change', this._values.slice(0, this._channels));\r\n    }\r\n  }\r\n\r\n  public get a(): number {\r\n    if (this._link) {\r\n      return Math.floor(this._link.get(this.path + '.3') * 255);\r\n    } else {\r\n      return this._values[3];\r\n    }\r\n  }\r\n  public set a(val: number) {\r\n    val = Math.min(0, Math.max(255, val));\r\n\r\n    if (this._values[3] === val)\r\n      return;\r\n\r\n    this._values[3] = val;\r\n\r\n    if (this._channels >= 4) {\r\n      this.emit('a', this._values[3]);\r\n      this.emit('change', this._values.slice(0, this._channels));\r\n    }\r\n  }\r\n\r\n  public get hex(): string {\r\n    var values = this._values;\r\n\r\n    if (this._link) {\r\n      values = this._link.get(this.path).map(function (channel: number) {\r\n        return Math.floor(channel * 255);\r\n      });\r\n    }\r\n\r\n    var hex = '';\r\n    for (var i = 0; i < this._channels; i++) {\r\n      hex += ('00' + values[i].toString(16)).slice(-2);\r\n    }\r\n    return hex;\r\n  }\r\n  public set hex(val: string) {\r\n    console.log('todo color-field: ' + val);\r\n  }\r\n\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.tabIndex = 0;\r\n    this.element.classList.add('ui-color-field', 'rgb');\r\n\r\n    this.elementColor = document.createElement('span');\r\n    this.elementColor.classList.add('color');\r\n    this.element.appendChild(this.elementColor);\r\n\r\n    this._channels = 3;\r\n    this._values = [0, 0, 0, 0];\r\n\r\n    // space > click\r\n    this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n\r\n    // render color back\r\n    this.on('change', this._onChange);\r\n\r\n    // link to channels\r\n    this.evtLinkChannels = [];\r\n    this.on('link', this._onLink);\r\n    this.on('unlink', this._onUnlink);\r\n\r\n  }\r\n\r\n\r\n  private _onKeyDown(evt: KeyboardEvent) {\r\n    if (evt.keyCode === 27) // ESC按键\r\n      return this.element!.blur();\r\n\r\n    if (evt.keyCode !== 13 || this.disabled)  // Enter回车键\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n    this.emit('click');\r\n  };\r\n\r\n  private _onChange(color: any) {\r\n    if (this._channels === 1) {\r\n      this.elementColor.style.backgroundColor = 'rgb(' + [this.r, this.r, this.r].join(',') + ')';\r\n    } else if (this._channels === 3) {\r\n      this.elementColor.style.backgroundColor = 'rgb(' + this._values.slice(0, 3).join(',') + ')';\r\n    } else if (this._channels === 4) {\r\n      var rgba = this._values.slice(0, 4);\r\n      rgba[3] /= 255;\r\n      this.elementColor.style.backgroundColor = 'rgba(' + rgba.join(',') + ')';\r\n    } else {\r\n      console.log('unknown channels', color);\r\n    }\r\n  };\r\n\r\n  private _onLink(): void {\r\n    let that = this;\r\n    for (var i = 0; i < 4; i++) {\r\n      this.evtLinkChannels[i] = this._link!.on(this.path + '.' + i + ':set', function (value: any) {\r\n        that._setValue(that._link!.get(that.path));\r\n      }.bind(that));\r\n    }\r\n  };\r\n\r\n  private _onUnlink(): void {\r\n    for (var i = 0; i < this.evtLinkChannels.length; i++)\r\n      this.evtLinkChannels[i].unbind();\r\n\r\n    this.evtLinkChannels = [];\r\n  };\r\n\r\n  public _onLinkChange(value: number[]) {\r\n    if (!value)\r\n      return;\r\n\r\n    this._setValue(value);\r\n  };\r\n\r\n\r\n  private _setValue(value: number[]) {\r\n    var changed = false;\r\n\r\n    if (!value)\r\n      return;\r\n\r\n    if (value.length !== this._channels) {\r\n      changed = true;\r\n      this.channels = value.length;\r\n    }\r\n\r\n    for (var i = 0; i < this._channels; i++) {\r\n      if (this._values[i] === Math.floor(value[i]))\r\n        continue;\r\n\r\n      changed = true;\r\n      this._values[i] = Math.floor(value[i]);\r\n    }\r\n\r\n    if (changed)\r\n      this.emit('change', this._values.slice(0, this._channels));\r\n  };\r\n\r\n\r\n}","import { Element } from './element';\r\n\r\nexport class ContainerElement extends Element {\r\n\r\n\r\n    private _innerElement: Nullable<HTMLElement> = null;\r\n    public get innerElement(): Nullable<HTMLElement> {\r\n        return this._innerElement;\r\n    }\r\n    public set innerElement(val: Nullable<HTMLElement>) {\r\n        if (this._innerElement) {\r\n            this._observer.disconnect();\r\n        }\r\n\r\n        this._innerElement = val;\r\n\r\n        this._observer.observe(this._innerElement!, this._observerOptions);\r\n    }\r\n\r\n    private _observerChanged: boolean = false;\r\n\r\n    private _observer: MutationObserver;\r\n\r\n    private _observerOptions: {} = {\r\n        childList: true,\r\n        attributes: true,\r\n        characterData: false,\r\n        subtree: true,\r\n        attributeOldValue: false,\r\n        characterDataOldValue: false\r\n    };\r\n\r\n\r\n    public get flexible(): boolean {\r\n        return this.element ? this.element.classList.contains('flexible') : false;\r\n    }\r\n    public set flexible(val: boolean) {\r\n        if (!this.element || this.element.classList.contains('flexible') === val)\r\n            return;\r\n\r\n        if (val) {\r\n            this.element.classList.add('flexible');\r\n        } else {\r\n            this.element.classList.remove('flexible');\r\n        }\r\n    }\r\n\r\n    public get flex(): boolean {\r\n        return this.element ? this.element.classList.contains('flex') : false;\r\n    }\r\n    public set flex(val: boolean) {\r\n        if (!this.element || this.element.classList.contains('flex') === val)\r\n            return;\r\n\r\n        if (val) {\r\n            this.element.classList.add('flex');\r\n        } else {\r\n            this.element.classList.remove('flex');\r\n        }\r\n    }\r\n\r\n    public get flexDirection(): string {\r\n        return this._innerElement ? (this._innerElement!.style.flexDirection || '') : '';\r\n    }\r\n    public set flexDirection(val: string) {\r\n        if (this._innerElement) {\r\n            this._innerElement.style.flexDirection = val;\r\n            this._innerElement.style.webkitFlexDirection = val!;\r\n        }\r\n    }\r\n\r\n    public get flexWrap(): string {\r\n        return this._innerElement ? (this._innerElement!.style.flexWrap || '') : '';\r\n    }\r\n    public set flexWrap(val: string) {\r\n        if (this._innerElement) {\r\n            this._innerElement.style.flexWrap = val;\r\n            this._innerElement.style.webkitFlexWrap = val!;\r\n        }\r\n    }\r\n\r\n    public get flexGrow(): string {\r\n        return this.element ? (this.element.style.flexGrow || '') : '';\r\n    }\r\n    public set flexGrow(val: string) {\r\n        if (!!val) this.flex = true;\r\n\r\n        if (this.element) {\r\n            this.element.style.flexGrow = val;\r\n            this.element.style.webkitFlexGrow = val!;\r\n        }\r\n\r\n        if (this._innerElement) {\r\n            this._innerElement.style.flexGrow = val;\r\n            this._innerElement.style.webkitFlexGrow = val!;\r\n        }\r\n    }\r\n\r\n    public get flexShrink(): string {\r\n        return this.element ? (this.element.style.flexShrink || '') : '';\r\n    }\r\n    public set flexShrink(val: string) {\r\n        if (!!val) this.flex = true;\r\n\r\n        if (this.element) {\r\n            this.element.style.flexShrink = val;\r\n            this.element.style.webkitFlexShrink = val!;\r\n        }\r\n\r\n        if (this._innerElement) {\r\n            this._innerElement.style.flexShrink = val;\r\n            this._innerElement.style.webkitFlexShrink = val!;\r\n        }\r\n    }\r\n\r\n    public get scroll(): boolean {\r\n        return this.class ? this.class.contains('scrollable') : false;\r\n    }\r\n    public set scroll(val: boolean) {\r\n        if (this.class) this.class.add('scrollable');\r\n    }\r\n\r\n\r\n    public constructor() {\r\n        super();\r\n\r\n        let self = this;\r\n\r\n        let observerTimeout = function () {\r\n            self._observerChanged = false;\r\n            self.emit('nodesChanged');\r\n            // console.warn('nodesChanged');\r\n        };\r\n\r\n        this._observer = new MutationObserver(function () {\r\n            if (self._observerChanged)\r\n                return;\r\n            self._observerChanged = true;\r\n            setTimeout(observerTimeout, 0);\r\n        });\r\n\r\n    }\r\n\r\n    public append(element: HTMLElement | Element): void {\r\n        let html: boolean = element instanceof HTMLElement;\r\n        let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n        this._innerElement!.appendChild(node);\r\n\r\n        if (!html) {\r\n            (<Element>element).parent = this;\r\n            this.emit('append', element);\r\n        }\r\n    }\r\n\r\n\r\n    public appendBefore(element: HTMLElement | Element, reference: HTMLElement | Element | null): void {\r\n        let html: boolean = (element instanceof HTMLElement);\r\n        let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n        if (reference instanceof Element) reference = reference.element;\r\n\r\n        this._innerElement!.insertBefore(node, reference);\r\n\r\n        if (!html) {\r\n            (<Element>element).parent = this;\r\n            this.emit('append', element);\r\n        }\r\n    };\r\n\r\n    public appendAfter(element: HTMLElement | Element, reference: HTMLElement | Element | null): void {\r\n        let html: boolean = (element instanceof HTMLElement);\r\n        let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n        if (reference instanceof Element) reference = reference.element;\r\n\r\n        if (reference) {\r\n            this._innerElement!.insertBefore(node, reference.nextSibling);\r\n        } else {\r\n            this._innerElement!.appendChild(node);\r\n        }\r\n\r\n        if (!html) {\r\n            (<Element>element).parent = this;\r\n            this.emit('append', element);\r\n        }\r\n    };\r\n\r\n\r\n    public prepend(element: HTMLElement | Element): void {\r\n        let first = this._innerElement!.firstChild;\r\n        let html: boolean = (element instanceof HTMLElement);\r\n        let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n        if (first) {\r\n            this._innerElement!.insertBefore(node, first);\r\n        } else {\r\n            this._innerElement!.appendChild(node);\r\n        }\r\n\r\n        if (!html) {\r\n            (<Element>element).parent = this;\r\n            this.emit('append', element);\r\n        }\r\n    };\r\n\r\n    public remove(element: HTMLElement | Element): void {\r\n        let html: boolean = (element instanceof HTMLElement);\r\n        let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n        if (!node.parentElement || node.parentElement !== this._innerElement)\r\n            return;\r\n\r\n        this._innerElement.removeChild(node);\r\n\r\n        if (!html) {\r\n            (<Element>element).parent = null;\r\n            this.emit('remove', element);\r\n        }\r\n    };\r\n\r\n    // TODO：怕不对\r\n    public clear(): void {\r\n        // console.log('clear');\r\n        let node: HTMLElement;\r\n        this._observer.disconnect();\r\n        // console.log(this._innerElement);\r\n        let i: number = this._innerElement!.children.length;\r\n        while (i--) {\r\n            node = <HTMLElement>(this._innerElement!.children[i]);\r\n\r\n            if (!node.ui)\r\n                continue;\r\n\r\n            node.ui.destroy();\r\n        }\r\n        this._innerElement!.innerHTML = '';\r\n\r\n        this._observer.observe(this._innerElement!, this._observerOptions);\r\n    };\r\n\r\n\r\n}","import { Events, EventHandle } from \"../lib\";\r\nimport { Link } from \"./link\";\r\n\r\nexport class Element extends Events {\r\n\r\n    private _parent: Nullable<Element> = null;\r\n    private _destroyed: boolean = false;\r\n\r\n    // TODO\r\n    public _link: Nullable<Link> = null;\r\n    /*\r\n      on get set .schema.has .schema.get .history .history.combine .entity\r\n    */\r\n    private _linkOnSet: Nullable<EventHandle> = null;\r\n    private _linkOnUnset: Nullable<EventHandle> = null;\r\n    public path: string = '';\r\n\r\n    public renderChanges = false;\r\n    // TODO\r\n    // // render changes only from next ticks\r\n    // setTimeout(function() {\r\n    //   if (self.renderChanges === null) self.renderChanges = true;\r\n    // }, 0);\r\n\r\n    public disabledClick = false;\r\n    private _disabled = false;\r\n    private _disabledParent = false;\r\n\r\n    private _evtParentDestroy: Nullable<EventHandle> = null;\r\n    private _evtParentDisable: Nullable<EventHandle> = null;\r\n    private _evtParentEnable: Nullable<EventHandle> = null;\r\n\r\n    // public get selected(): boolean {\r\n    //   return this.class!.contains('selected');\r\n    // }\r\n\r\n    // HTMLElement \r\n    private _element: Nullable<HTMLElement> = null;\r\n    // public innerElement: Nullable<HTMLElement> = null;\r\n    public get element(): Nullable<HTMLElement> {\r\n        return this._element;\r\n    }\r\n    public set element(val: Nullable<HTMLElement>) {\r\n        if (this._element) return;\r\n\r\n        this._element = val;\r\n        this._element!.ui = this;\r\n\r\n        if (!this._element) return;\r\n\r\n        let self = this;\r\n        // click 事件\r\n        this._element.addEventListener('click', (evt) => {\r\n            if (self.disabled && !self.disabledClick) return;\r\n            self.emit(\"click\", evt);\r\n        }, false);\r\n        // hover 事件\r\n        this._element.addEventListener('mouseover', (evt) => {\r\n            self.emit('hover', evt);\r\n        }, false);\r\n        // blur 事件，mouse out\r\n        this._element.addEventListener('mouseout', (evt) => {\r\n            self.emit('blur', evt);\r\n        }, false);\r\n\r\n        // if (!this.innerElement) this.innerElement = this._element;\r\n    }\r\n\r\n    public get parent(): Nullable<Element> {\r\n        return this._parent;\r\n    }\r\n    public set parent(val: Nullable<Element>) {\r\n        if (this._parent) {\r\n            this._parent = null;\r\n            this._evtParentDestroy!.unbind();\r\n            this._evtParentDisable!.unbind();\r\n            this._evtParentEnable!.unbind();\r\n        }\r\n\r\n        if (val) {\r\n            this._parent = val;\r\n            this._evtParentDestroy = this._parent.once(\r\n                \"destroy\",\r\n                this._parentDestroy\r\n            );\r\n            this._evtParentDisable = this._parent.on(\"disable\", this._parentDisable);\r\n            this._evtParentEnable = this._parent.on(\"enable\", this._parentEnable);\r\n\r\n            if (this._disabledParent !== this._parent.disabled) {\r\n                this._disabledParent = this._parent.disabled;\r\n\r\n                if (this._disabledParent) {\r\n                    this.class!.add(\"disabled\");\r\n                    this.emit(\"disable\");\r\n                } else {\r\n                    this.class!.remove(\"disabled\");\r\n                    this.emit(\"enable\");\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        this.emit(\"parent\");\r\n    }\r\n\r\n    public get disabled(): boolean {\r\n        return this._disabled || this._disabledParent;\r\n    }\r\n    public set disabled(val: boolean) {\r\n        if (this._disabled === val) return;\r\n\r\n        this._disabled = !!val;\r\n        this.emit(this._disabled || this._disabledParent ? 'disable' : 'enable');\r\n\r\n        if (this._disabled || this._disabledParent) {\r\n            if (this.class) this.class.add('disabled');\r\n        } else {\r\n            if (this.class) this.class.remove('disabled');\r\n        }\r\n    }\r\n\r\n    public get disabledSelf(): boolean {\r\n        return this._disabled;\r\n    }\r\n\r\n    public get enabled(): boolean {\r\n        return !this._disabled;\r\n    }\r\n    public set enabled(val: boolean) {\r\n        this.disabled = !val;\r\n    }\r\n\r\n    public get hidden(): boolean {\r\n        return this._element ? this._element.classList.contains('hidden') : false;\r\n    }\r\n    public set hidden(val: boolean) {\r\n        if (!this._element) return;\r\n\r\n        if (this._element.classList.contains('hidden') === !!val) return;\r\n\r\n        if (val) {\r\n            this._element.classList.add('hidden');\r\n            this.emit('hide');\r\n        } else {\r\n            this._element.classList.remove('hidden');\r\n            this.emit('show');\r\n\r\n        }\r\n    }\r\n\r\n    // TODO\r\n    public get value(): any {\r\n        if (!this._link) return null;\r\n        return this._link.get(this.path);\r\n    }\r\n    public set value(val: any) {\r\n        if (!this._link) return;\r\n        this._link.set(this.path, val);\r\n    }\r\n\r\n    /* DOM Element */\r\n\r\n    public get class(): Nullable<DOMTokenList> {\r\n        if (this._element) {\r\n            return this._element.classList;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public get style(): Nullable<CSSStyleDeclaration> {\r\n        if (this._element) {\r\n            return this._element.style;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // flex-grow 属性用于设置或检索弹性盒子的扩展比率，用作css动画效果\r\n    public get flexGrow(): string {\r\n        return this._element ? (this._element.style.flexGrow || '') : '';\r\n    }\r\n    public set flexGrow(val: string) {\r\n        if (this._element) {\r\n            this._element.style.flexGrow = val;\r\n            this._element.style.webkitFlexGrow = val;\r\n        }\r\n    }\r\n\r\n    // flex-shrink 属性规定项目将相对于同一容器内其他灵活的项目进行收缩的量，用作css动画效果\r\n    public get flexShrink(): string {\r\n        return this._element ? (this._element.style.flexShrink || '') : '';\r\n    }\r\n    public set flexShrink(val: string) {\r\n        if (this._element) {\r\n            this._element.style.flexShrink = val;\r\n            this._element.style.webkitFlexShrink = val!;\r\n        }\r\n    }\r\n\r\n\r\n    public constructor() {\r\n        super();\r\n        // this._element!.addEventListener('click', )\r\n\r\n        this._parent = null;\r\n        // let self = this;\r\n        // this._parentDestroy = function () {\r\n        //   self.destroy();\r\n        // };\r\n    }\r\n\r\n    // 设置元素闪烁效果\r\n    public flash(): void {\r\n        if (this.class) {\r\n            this.class.add('flash');\r\n            setTimeout(this._onFlashDelay, 200);\r\n        }\r\n    }\r\n\r\n\r\n    private _onFlashDelay(): void {\r\n        if (this.class) {\r\n            this.class.remove('flash');\r\n        }\r\n    }\r\n\r\n    public link(link: Link, path: string): void {\r\n        let self = this;\r\n\r\n        if (this._link) this.unlink();\r\n        this._link = link;\r\n        this.path = path;\r\n\r\n        this.emit(\"link\", path);\r\n\r\n        // add :set link\r\n        if (this._onLinkChange) {\r\n            let renderChanges = this.renderChanges;\r\n            this.renderChanges = false;\r\n            this._linkOnSet = this._link.on(this.path + \":set\", function (value: any) {\r\n                self._onLinkChange(value);\r\n            });\r\n            this._linkOnUnset = this._link.on(this.path + \":unset\", function (value: any) {\r\n                self._onLinkChange(value);\r\n            });\r\n            this._onLinkChange(this._link.get(this.path));\r\n            this.renderChanges = renderChanges;\r\n        }\r\n    };\r\n\r\n\r\n    public unlink(): void {\r\n        if (!this._link) return;\r\n\r\n        this.emit(\"unlink\", this.path);\r\n\r\n        // remove :set link\r\n        if (this._linkOnSet) {\r\n            this._linkOnSet.unbind();\r\n            this._linkOnSet = null;\r\n\r\n            this._linkOnUnset!.unbind();\r\n            this._linkOnUnset = null;\r\n        }\r\n\r\n        this._link = null;\r\n        this.path = \"\";\r\n    };\r\n\r\n    public _onLinkChange(value: any): void {\r\n\r\n    }\r\n\r\n\r\n    public destroy(): void {\r\n        if (this._destroyed) return;\r\n\r\n        this._destroyed = true;\r\n\r\n        if (this._parent) {\r\n            this._evtParentDestroy!.unbind();\r\n            this._evtParentDisable!.unbind();\r\n            this._evtParentEnable!.unbind();\r\n            this._parent = null;\r\n        }\r\n\r\n        if (this._element && this._element.parentNode) {\r\n            this._element.parentNode.removeChild(this._element);\r\n        }\r\n\r\n        this.unlink();\r\n\r\n        this.emit('destroy');\r\n\r\n        this.unbind();\r\n\r\n        // console.error('destroy');\r\n    };\r\n\r\n    private _parentDestroy(): void {\r\n        this.destroy();\r\n    };\r\n\r\n    private _parentDisable(): void {\r\n        if (this._disabledParent) return;\r\n\r\n        this._disabledParent = true;\r\n\r\n        if (!this._disabled) {\r\n            this.emit(\"disable\");\r\n            this.class!.add(\"disabled\");\r\n        }\r\n    };\r\n\r\n    private _parentEnable(): void {\r\n        if (!this._disabledParent) return;\r\n\r\n        this._disabledParent = false;\r\n\r\n        if (!this._disabled) {\r\n            this.emit(\"enable\");\r\n            this.class!.remove(\"disabled\");\r\n        }\r\n    };\r\n\r\n\r\n}","import { Element } from \"./element\";\r\nimport { Observer } from \"../lib\";\r\nimport { TreeItem } from \"./tree-item\";\r\n\r\nexport class GridItem extends Element {\r\n\r\n    private _clicked: boolean;\r\n    public _selectPending: boolean;\r\n    private _toggleSelectOnClick: boolean;\r\n\r\n    private _text: string;\r\n    public get text(): string {\r\n        return this._text;\r\n    }\r\n    public set text(val: string) {\r\n        if (this._text === val) return;\r\n        this._text = val;\r\n        this.element!.innerHTML = this._text;\r\n    }\r\n\r\n    // TODO\r\n    public asset!: Observer;\r\n    public tree!: TreeItem;\r\n    public thumbnail?: any;\r\n    public labelElement?: any;\r\n    public users?: any;\r\n    public script?: any;\r\n\r\n    private _selected: boolean;\r\n    public get selected(): boolean {\r\n        return this._selected;\r\n    }\r\n    public set selected(val: boolean) {\r\n        if (this._selected === val)\r\n            return;\r\n\r\n        this._selectPending = val;\r\n\r\n        if (this.parent && this._clicked)\r\n            this.parent.emit('before' + (val ? 'Select' : 'Deselect'), this, this._clicked);\r\n\r\n        if (this._selected === this._selectPending)\r\n            return;\r\n\r\n        this._selected = this._selectPending;\r\n\r\n        if (this._selected) {\r\n            this.element!.classList.add('selected');\r\n        } else {\r\n            this.element!.classList.remove('selected');\r\n        }\r\n\r\n        this.emit(this.selected ? 'select' : 'deselect');\r\n        this.emit('change', this.selected);\r\n\r\n        if (this.parent)\r\n            this.parent.emit(this.selected ? 'select' : 'deselect', this, this._clicked);\r\n    }\r\n\r\n\r\n    public constructor(args?: GridItemArgs) {\r\n        super();\r\n        args = args || {};\r\n\r\n        this._text = args.text || '';\r\n        this._selectPending = false;\r\n        this._selected = args.selected || false;\r\n        this._toggleSelectOnClick = args && args.toggleSelectOnClick !== undefined ? args.toggleSelectOnClick : true;\r\n        this._clicked = false;\r\n\r\n        this.element = document.createElement('li');\r\n        this.element.ui = this;\r\n        this.element.tabIndex = 0;\r\n        this.element.classList.add('ui-grid-item');\r\n        this.element.innerHTML = this._text;\r\n\r\n        // this.element.removeEventListener('click', this._evtClick);\r\n        this.element.addEventListener('click', this._onClick.bind(this), false);\r\n\r\n        this.on('select', this._onSelect);\r\n        this.on('deselect', this._onDeselect);\r\n\r\n    }\r\n\r\n\r\n    private _onClick() {\r\n        this.emit('click');\r\n        this._clicked = true;\r\n        if (this._toggleSelectOnClick) {\r\n            this.selected = !this.selected;\r\n        } else {\r\n            this.selected = true;\r\n        }\r\n        this._clicked = false;\r\n    };\r\n\r\n    private _onSelect() {\r\n        this.element!.focus();\r\n    };\r\n\r\n    private _onDeselect() {\r\n        this.element!.blur();\r\n    };\r\n\r\n}\r\n\r\n\r\nexport class GridItemArgs {\r\n    text?: string;\r\n    selected?: boolean;\r\n    toggleSelectOnClick?: boolean;\r\n}","import { ContainerElement } from \"./container-element\";\r\nimport { GridItem } from \"./grid-item\";\r\nimport { Hotkeys } from \"../editor\";\r\n\r\nexport class Grid extends ContainerElement {\r\n\r\n    public dragOver: any;\r\n\r\n    private _lastSelect: Nullable<GridItem>;\r\n\r\n    private _selecting: boolean;\r\n    private _multiSelect: boolean;\r\n\r\n\r\n    public get selected(): GridItem[] {\r\n        var items: GridItem[] = [];\r\n        var elements = this.element!.querySelectorAll('.ui-grid-item.selected');\r\n\r\n        for (var i = 0; i < elements.length; i++)\r\n            items.push(<GridItem>((<HTMLElement>elements[i]).ui));\r\n\r\n        return items;\r\n    }\r\n\r\n    public set selected(val: GridItem[]) {\r\n        if (this._selecting)\r\n            return;\r\n\r\n        this._selecting = true;\r\n\r\n        // deselecting\r\n        var items = this.selected;\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (val && val.indexOf(items[i]) !== -1)\r\n                continue;\r\n            items[i].selected = false;\r\n        }\r\n\r\n        if (!val)\r\n            return;\r\n\r\n        // selecting\r\n        for (var i = 0; i < val.length; i++) {\r\n            if (!val[i])\r\n                continue;\r\n\r\n            val[i].selected = true;\r\n        }\r\n\r\n        this._selecting = false;\r\n    }\r\n\r\n    public constructor(multiSelect?: boolean) {\r\n        super();\r\n\r\n        this.element = document.createElement('ul');\r\n        this.element.tabIndex = 0;\r\n        this.element.classList.add('ui-grid');\r\n\r\n        this.innerElement = this.element;\r\n\r\n        this._lastSelect = null;\r\n        this._selecting = false;\r\n        this._multiSelect = multiSelect !== undefined ? multiSelect : true;\r\n\r\n        this.on('select', this._onSelect);\r\n        this.on('beforeDeselect', this._onBeforeDeselect);\r\n\r\n        this.on('append', this._onAppend);\r\n        this.on('remove', this._onRemove);\r\n\r\n    }\r\n\r\n    public static _ctrl(): boolean {\r\n        return Hotkeys.ctrl;\r\n    }\r\n\r\n    public static _shift(): boolean {\r\n        return Hotkeys.shift;\r\n    }\r\n\r\n    private _onAppend(): void {\r\n\r\n    }\r\n\r\n    private _onRemove(): void {\r\n\r\n    }\r\n\r\n    private _onSelect(item: GridItem) {\r\n        if (this._selecting)\r\n            return;\r\n\r\n        if (this._multiSelect && Grid._shift && Grid._shift()) {\r\n            var children = Array.prototype.slice.call(this.element!.childNodes, 0);\r\n\r\n            // multi select from-to\r\n            if (this._lastSelect) {\r\n                this._selecting = true;\r\n\r\n                var startInd = children.indexOf(this._lastSelect.element);\r\n                var endInd = children.indexOf(item.element);\r\n\r\n                // swap if backwards\r\n                if (startInd > endInd) {\r\n                    var t = startInd;\r\n                    startInd = endInd;\r\n                    endInd = t;\r\n                }\r\n\r\n                for (var i = startInd; i < endInd; i++) {\r\n                    if (!children[i] || !children[i].ui || children[i].ui.hidden)\r\n                        continue;\r\n\r\n                    children[i].ui.selected = true;\r\n                }\r\n\r\n                this._selecting = false;\r\n            } else {\r\n                this._lastSelect = item;\r\n            }\r\n        } else if (this._multiSelect && Grid._ctrl && Grid._ctrl()) {\r\n            // multi select\r\n            this._lastSelect = item;\r\n        } else {\r\n            // single select\r\n            var items = this.element!.querySelectorAll('.ui-grid-item.selected');\r\n\r\n            if (items.length > 1) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    if ((<HTMLElement>items[i]).ui === item)\r\n                        continue;\r\n\r\n                    (<GridItem>(<HTMLElement>items[i]).ui).selected = false;\r\n                }\r\n            }\r\n\r\n            this._lastSelect = item;\r\n        }\r\n    };\r\n\r\n    private _onBeforeDeselect(item: GridItem) {\r\n        if (this._selecting)\r\n            return;\r\n\r\n        this._selecting = true;\r\n\r\n        if (this._multiSelect && Grid._shift && Grid._shift()) {\r\n            this._lastSelect = null;\r\n        } else if (this._multiSelect && Grid._ctrl && Grid._ctrl()) {\r\n            this._lastSelect = null;\r\n        } else {\r\n            var items = this.element!.querySelectorAll('.ui-grid-item.selected');\r\n            if (items.length > 1) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    if ((<HTMLElement>items[i]).ui === item)\r\n                        continue;\r\n                    (<GridItem>(<HTMLElement>items[i]).ui).selected = false;\r\n                }\r\n                item._selectPending = true;\r\n                this._lastSelect = item;\r\n            }\r\n        }\r\n\r\n        this._selecting = false;\r\n    };\r\n\r\n    public filter(fn: Function) {\r\n        this.forEach(function (item: HTMLElement) {\r\n            item.hidden = !fn(item);\r\n        });\r\n    };\r\n\r\n    public forEach(fn: Function) {\r\n        var child = this.element!.firstChild;\r\n        while (child) {\r\n            if ((<HTMLElement>child).ui)\r\n                fn((<HTMLElement>child).ui);\r\n\r\n            child = child.nextSibling;\r\n        };\r\n    };\r\n\r\n\r\n}","import { Element } from \"./element\";\r\nimport { Label } from \"./label\";\r\n\r\nexport class ImageField extends Element {\r\n\r\n  private _value: any;\r\n\r\n  public elementImage: HTMLImageElement | HTMLCanvasElement;\r\n\r\n  public _lable: Nullable<Label> = null;\r\n\r\n\r\n  public get image(): string {\r\n    if (this.elementImage instanceof HTMLCanvasElement) {\r\n      return '';\r\n    } else {\r\n      return (<HTMLImageElement>this.elementImage).src;\r\n    }\r\n  }\r\n  public set image(val: string) {\r\n    if (this.elementImage instanceof HTMLImageElement) {\r\n      this.elementImage.src = val;\r\n    }\r\n  }\r\n\r\n  public get empty(): boolean {\r\n    return this.class!.contains('empty');\r\n  }\r\n  public set empty(val: boolean) {\r\n    if (this.class!.contains('empty') === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.class!.add('empty');\r\n      this.image = '';\r\n    } else {\r\n      this.class!.remove('empty');\r\n    }\r\n  }\r\n\r\n  public get value(): any {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this._value;\r\n    }\r\n  }\r\n  public set value(val: any) {\r\n    val = val && parseInt(val) || null;\r\n\r\n    if (this._link) {\r\n      if (!this._link.set(this.path, val))\r\n        this._value = this._link.get(this.path);\r\n    } else {\r\n      if (this._value === val && !this.class!.contains('null'))\r\n        return;\r\n\r\n      this._value = val;\r\n      this.emit('change', val);\r\n    }\r\n  }\r\n\r\n\r\n  public constructor(canvas?: boolean) {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-image-field', 'empty');\r\n\r\n    if (canvas) {\r\n      this.elementImage = document.createElement('canvas');\r\n      this.elementImage.width = 64;\r\n      this.elementImage.height = 64;\r\n    } else {\r\n      this.elementImage = new Image();\r\n    }\r\n\r\n    this.elementImage.classList.add('preview');\r\n    this.element.appendChild(this.elementImage);\r\n\r\n    this._value = null;\r\n\r\n    // this.element.removeEventListener('click', this._evtClick);\r\n    this.element.addEventListener('click', this._onClick.bind(this), false);\r\n    this.on('change', this._onChange.bind(this));\r\n\r\n    // space > click\r\n    this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n\r\n  }\r\n\r\n  private _onClick(evt: MouseEvent) {\r\n    this.emit('click', evt);\r\n  };\r\n\r\n  private _onChange() {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n  private _onKeyDown(evt: KeyboardEvent) {\r\n    if (evt.keyCode === 27)\r\n      return this.element!.blur();\r\n\r\n    if (evt.keyCode !== 32 || this.disabled)\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n    this.emit('pick');\r\n  };\r\n\r\n  public _onLinkChange(value: any) {\r\n    this._value = value;\r\n    this.emit('change', value);\r\n  };\r\n\r\n}","export * from './top/index'\r\nexport * from './link';\r\nexport * from './element';\r\nexport * from './container-element';\r\nexport * from './panel';\r\nexport * from './canvas';\r\nexport * from './button';\r\nexport * from './label';\r\nexport * from './text-field';\r\nexport * from './textarea-field';\r\nexport * from './tree';\r\nexport * from './tree-item';\r\nexport * from './list';\r\nexport * from './list-item';\r\nexport * from './checkbox';\r\nexport * from './bubble';\r\nexport * from './overlay';\r\nexport * from './tooltip';\r\nexport * from './progress';\r\nexport * from './menu-item';\r\nexport * from './menu';\r\nexport * from './code';\r\nexport * from './color-field';\r\nexport * from './grid-item';\r\nexport * from './grid';\r\nexport * from './image-field';\r\nexport * from './number-field';\r\nexport * from './slider';\r\nexport * from './select-field';","import { Element } from \"./element\";\r\nimport { Tooltip } from \"./tooltip\";\r\n\r\nexport class Label extends Element {\r\n\r\n  private _text: string;\r\n  public get text(): string {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this._text;\r\n    }\r\n  }\r\n  public set text(val: string) {\r\n    if (this._link) {\r\n      // TODO \r\n      this._link.set(this.path, val)\r\n      val = this._link.get(this.path);\r\n      this._setText(val);\r\n    } else {\r\n      if (this._text === val) return;\r\n\r\n      if (val === undefined || val === null) {\r\n        this._text = '';\r\n      } else {\r\n        this._text = val;\r\n      }\r\n\r\n      this._setText(this._text);\r\n      this.emit('change', val);\r\n    }\r\n  }\r\n\r\n  // if unsafe is true then use innerHTML for the\r\n  // contents\r\n  private _unsafe: boolean;\r\n\r\n  public get placeholder(): string {\r\n    return this.element!.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    this.element!.setAttribute('placeholder', val);\r\n  }\r\n\r\n  public get value(): string {\r\n    return this.text;\r\n  }\r\n  public set value(val: string) {\r\n    this.text = val;\r\n  }\r\n\r\n\r\n  public tooltip: Nullable<Tooltip> = null;\r\n\r\n\r\n  public constructor(text?: string, placeholder?: string, unsafe?: boolean) {\r\n    super();\r\n\r\n    this._text = text ? text : '';\r\n    this._unsafe = unsafe ? unsafe : false;\r\n\r\n    this.element = document.createElement('span');\r\n    this.element.classList.add('ui-label');\r\n\r\n    if (this._text)\r\n      this._setText(this._text);\r\n\r\n    this.on('change', this._onChange);\r\n\r\n    if (placeholder) {\r\n      this.placeholder = placeholder;\r\n    }\r\n  }\r\n\r\n  private _setText(text: string): void {\r\n    if (this._unsafe) {\r\n      this.element!.innerHTML = text;\r\n    } else {\r\n      this.element!.textContent = text;\r\n    }\r\n  }\r\n\r\n  private _onChange(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n  public _onLinkChange(value: any) {\r\n    this.text = value;\r\n    this.emit('change', value);\r\n  };\r\n\r\n\r\n\r\n}","import { Element } from '../ui';\r\nimport { EventHandle } from '../lib';\r\n\r\n// TODO\r\nexport class Link {\r\n\r\n  private _element: Element;\r\n\r\n  private _value: { [key: string]: any } = {};\r\n\r\n  public history: any;\r\n\r\n  public schema!: LinkSchema;\r\n\r\n  public constructor(ele: Element) {\r\n    this._element = ele;\r\n  }\r\n\r\n  public get(path: string): any {\r\n    return this._value[path];\r\n  }\r\n\r\n  // TODO\r\n  public set(path: string, value: any): boolean {\r\n    this._value[path] = value;\r\n    return true;\r\n  }\r\n\r\n  public on(name: string, fn: Function): EventHandle {\r\n    return this._element.on(name, fn);\r\n  }\r\n}\r\n\r\n\r\nexport class LinkSchema {\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n  public has(path: string): boolean {\r\n    return true;\r\n  }\r\n\r\n  public get(path: string): any {\r\n    return true;\r\n  }\r\n\r\n}","import { Element } from \"./element\";\r\nimport { Observer } from \"../lib\";\r\n\r\nexport class ListItem extends Element {\r\n\r\n    public entity?: Observer;\r\n\r\n    private _text: string;\r\n    public get text(): string {\r\n        return this._text;\r\n    }\r\n    public set text(val: string) {\r\n        if (this._text === val) return;\r\n        this._text = val;\r\n        this.elementText.textContent = this._text;\r\n    }\r\n\r\n    private _selected: boolean;\r\n    public get selected(): boolean {\r\n        return this._selected;\r\n    }\r\n    public set selected(val: boolean) {\r\n        if (this._selected === val)\r\n            return;\r\n\r\n        this._selected = val;\r\n\r\n        if (this._selected) {\r\n            this.element!.classList.add('selected');\r\n        } else {\r\n            this.element!.classList.remove('selected');\r\n        }\r\n\r\n        this.emit(this.selected ? 'select' : 'deselect');\r\n\r\n        if (this.parent)\r\n            this.parent.emit(this.selected ? 'select' : 'deselect', this);\r\n\r\n        this.emit('change', this.selected);\r\n    }\r\n\r\n    private _allowDeselect: boolean;\r\n\r\n    public elementText: HTMLElement;\r\n\r\n    public constructor(text?: string, selected?: boolean, allowDeselect?: boolean) {\r\n        super();\r\n\r\n        this._text = text || '';\r\n        this._selected = selected || false;\r\n        this._allowDeselect = allowDeselect || false;\r\n\r\n        this.element = document.createElement('li');\r\n        this.element.classList.add('ui-list-item');\r\n        this.element.ui = this;\r\n\r\n        this.elementText = document.createElement('span');\r\n        this.elementText.textContent = this._text;\r\n        this.element.appendChild(this.elementText);\r\n\r\n        this.on('click', this._onClick);\r\n    }\r\n\r\n\r\n    private _onClick(): void {\r\n        if (!this.selected) {\r\n            this.selected = true;\r\n        } else if (this._allowDeselect) {\r\n            this.selected = false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}","import { ContainerElement } from \"./container-element\";\r\nimport { ListItem } from \"./list-item\";\r\nimport { Hotkeys } from \"../editor\";\r\n\r\nexport class List extends ContainerElement {\r\n\r\n\r\n  private _selectable: boolean;\r\n  public get selectable(): boolean {\r\n    return this._selectable;\r\n  }\r\n  public set selectable(val: boolean) {\r\n    if (this._selectable === !!val)\r\n      return;\r\n\r\n    this._selectable = val;\r\n\r\n    if (this._selectable) {\r\n      this.class!.add('selectable');\r\n    } else {\r\n      this.class!.remove('selectable');\r\n    }\r\n  }\r\n\r\n  public _changing: boolean;\r\n\r\n  private _selected: ListItem[];\r\n  public get selected(): ListItem[] {\r\n    return this._selected.slice(0);\r\n  }\r\n  public set selected(val: ListItem[]) {\r\n    this._changing = true;\r\n\r\n    // deselecting\r\n    let items: ListItem[] = this.selected;\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (val.indexOf(items[i]) !== -1)\r\n        continue;\r\n\r\n      items[i].selected = false;\r\n    }\r\n\r\n    // selecting\r\n    for (let i = 0; i < val.length; i++) {\r\n      val[i].selected = true;\r\n    }\r\n\r\n    this._changing = false;\r\n  }\r\n\r\n  public constructor(selectable?: boolean) {\r\n    super();\r\n\r\n    this.element = document.createElement('ul');\r\n    this.element.classList.add('ui-list');\r\n    this.innerElement = this.element;\r\n\r\n    this._selectable = selectable || true;\r\n\r\n    this._changing = false;\r\n    this._selected = [];\r\n\r\n    this.on('select', this._onSelect);\r\n    this.on('deselect', this._onDeselect);\r\n    this.on('append', this._onAppend);\r\n  }\r\n\r\n  private _onSelect(item: ListItem): void {\r\n    let ind: number = this._selected.indexOf(item);\r\n    if (ind === -1)\r\n      this._selected.push(item);\r\n\r\n    if (this._changing)\r\n      return;\r\n\r\n    if (List._ctrl && List._ctrl()) {\r\n\r\n    } else if (List._shift && List._shift() && this.selected.length) {\r\n\r\n    } else {\r\n      this._changing = true;\r\n\r\n      let items: ListItem[] = this.selected;\r\n\r\n      if (items.length > 1) {\r\n        for (let i = 0; i < items.length; i++) {\r\n          if (items[i] === item)\r\n            continue;\r\n\r\n          items[i].selected = false;\r\n        }\r\n      }\r\n\r\n      this._changing = false;\r\n    }\r\n\r\n    this.emit('change');\r\n  }\r\n\r\n  public _onDeselect(item: ListItem): void {\r\n    let ind: number = this._selected.indexOf(item);\r\n    if (ind !== -1) this._selected.splice(ind, 1);\r\n\r\n    if (this._changing)\r\n      return;\r\n\r\n    if (List._ctrl && List._ctrl()) {\r\n\r\n    } else {\r\n      this._changing = true;\r\n\r\n      let items: ListItem[] = this.selected;\r\n\r\n      if (items.length) {\r\n        for (let i = 0; i < items.length; i++)\r\n          items[i].selected = false;\r\n\r\n        item.selected = true;\r\n      }\r\n\r\n      this._changing = false;\r\n    }\r\n\r\n    this.emit('change');\r\n  }\r\n\r\n  private _onAppend(item: ListItem): void {\r\n    if (!item.selected)\r\n      return;\r\n\r\n    let ind = this._selected.indexOf(item);\r\n    if (ind === -1) this._selected.push(item);\r\n  }\r\n\r\n  public clear(): void {\r\n    this._selected = [];\r\n    ContainerElement.prototype.clear.call(this);\r\n  }\r\n\r\n  public static _ctrl(): boolean {\r\n    return Hotkeys.ctrl;\r\n  }\r\n\r\n  public static _shift(): boolean {\r\n    return Hotkeys.shift;\r\n  }\r\n\r\n}","import { ContainerElement } from './container-element';\r\n\r\nexport class MenuItem extends ContainerElement {\r\n\r\n\r\n  private _hasChildren: boolean;\r\n  private _clickableSubmenus: boolean = false;\r\n  private _container: boolean;\r\n\r\n  public _index: { [key: string]: MenuItem } = {};\r\n\r\n  public elementTitle: HTMLElement;\r\n  public elementIcon: Nullable<HTMLElement>;\r\n  public elementText: HTMLElement;\r\n\r\n  private _value: string;\r\n  public get value(): string {\r\n    return this._value;\r\n  }\r\n  public set value(val: string) {\r\n    if (this._value === val)\r\n      return;\r\n\r\n    let valueOld = this._value;\r\n    this._value = val;\r\n    this.emit('value', val, valueOld);\r\n  }\r\n\r\n  public get text(): string {\r\n    return this.elementText.textContent || '';\r\n  }\r\n  public set text(val: string) {\r\n    if (this.elementText.textContent === val)\r\n      return;\r\n\r\n    this.elementText.textContent = val;\r\n  }\r\n\r\n  public get icon(): string {\r\n    if (this.elementIcon !== null) {\r\n      return this.elementIcon.textContent || '';\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n  public set icon(val: string) {\r\n    if ((!val && !this.elementIcon) || (this.elementIcon && this.elementIcon.textContent === val))\r\n      return;\r\n\r\n    if (!val) {\r\n      if (this.elementIcon && this.elementIcon.parentNode)\r\n        this.elementIcon.parentNode.removeChild(this.elementIcon);\r\n      this.elementIcon = null;\r\n    } else {\r\n      if (!this.elementIcon) {\r\n        this.elementIcon = document.createElement('span');\r\n        this.elementIcon.classList.add('icon');\r\n        this.elementTitle.insertBefore(this.elementIcon, this.elementText);\r\n      }\r\n\r\n      this.elementIcon.innerHTML = val;\r\n    }\r\n  }\r\n\r\n  public constructor(args?: MenuItemArgs) {\r\n    super();\r\n\r\n    args = args || {};\r\n    this._value = args.value || '';\r\n    this._hasChildren = args.hasChildren || false;\r\n    this._clickableSubmenus = args.clickableSubmenus || false;\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-menu-item');\r\n\r\n    if (args.className) {\r\n      this.element.classList.add(args.className);\r\n    }\r\n\r\n    this.elementTitle = document.createElement('div');\r\n    this.elementTitle.classList.add('title');\r\n    this.elementTitle.ui = this;\r\n    this.element.appendChild(this.elementTitle);\r\n\r\n    this.elementIcon = null;\r\n\r\n    this.elementText = document.createElement('span');\r\n    this.elementText.classList.add('text');\r\n    this.elementText.textContent = args.text || 'Untitled';\r\n    this.elementTitle.appendChild(this.elementText);\r\n\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.classList.add('content');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n    this._index = {};\r\n\r\n    this._container = false;\r\n\r\n    this.elementTitle.addEventListener('mouseenter', this._onMouseEnter.bind(this), false);\r\n    this.elementTitle.addEventListener('touchstart', this._onTouchStart, false);\r\n    this.elementTitle.addEventListener('touchend', this._onTouchEnd, false);\r\n    this.elementTitle.addEventListener('click', this._onClick.bind(this), false);\r\n\r\n    this.on('over', this._onOver.bind(this));\r\n    this.on('select-propagate', this._onSelectPropagate.bind(this));\r\n    this.on('append', this._onAppend.bind(this));\r\n\r\n    if (args.icon)\r\n      this.icon = args.icon;\r\n\r\n  }\r\n\r\n\r\n  private _onMouseEnter(evt: MouseEvent): void {\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n\r\n    let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n    (<MenuItem>(htmlEle.ui)).parent!.emit('over', [this._value]);\r\n  }\r\n\r\n  private _onTouchStart(evt: TouchEvent): void {\r\n    let item: MenuItem = (<MenuItem>(<HTMLElement>evt.target).ui);\r\n\r\n    if (!item.parent || item.disabled)\r\n      return;\r\n\r\n    if (!item._container || item.class!.contains('hover')) {\r\n      item.emit('select', item._value, item._hasChildren);\r\n      item.parent.emit('select-propagate', [item._value], item._hasChildren);\r\n      item.class!.remove('hover');\r\n    } else {\r\n      item.parent.emit('over', [item._value]);\r\n    }\r\n  }\r\n\r\n  private _onTouchEnd(evt: TouchEvent): void {\r\n    let item: MenuItem = (<MenuItem>(<HTMLElement>evt.target).ui);\r\n\r\n    if (!item.parent || item.disabled)\r\n      return;\r\n\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n  }\r\n\r\n  private _onClick(): void {\r\n\r\n    if (!this.parent || this.disabled)\r\n      return;\r\n\r\n    this.emit('select', this._value, this._hasChildren);\r\n    this.parent.emit('select-propagate', [this._value], this._hasChildren);\r\n\r\n    if (!this._clickableSubmenus || !this._hasChildren) {\r\n      this.class!.remove('hover');\r\n    }\r\n  }\r\n\r\n  private _onOver(path: string[]): void {\r\n    if (!this.parent)\r\n      return;\r\n    path.splice(0, 0, this._value);\r\n    this.parent.emit('over', path);\r\n  }\r\n\r\n  private _onSelectPropagate(path: string[], selectedItemHasChildren: boolean): void {\r\n    if (!this.parent)\r\n      return;\r\n\r\n    path.splice(0, 0, this._value);\r\n    this.parent.emit('select-propagate', path, selectedItemHasChildren);\r\n\r\n    if (!this._clickableSubmenus || !selectedItemHasChildren) {\r\n      this.class!.remove('hover');\r\n    }\r\n  }\r\n\r\n  private _onAppend(item: MenuItem) {\r\n    let self = this;\r\n\r\n    this._container = true;\r\n    this.class!.add('container');\r\n\r\n    this._index[item.value] = item;\r\n\r\n    item.on('value', function (value: string, valueOld: string) {\r\n      delete self._index[valueOld];\r\n      self._index[value] = item;\r\n    });\r\n    item.once('destroy', function () {\r\n      delete self._index[item.value];\r\n    });\r\n  }\r\n\r\n}\r\n\r\n\r\nexport interface MenuItemArgs {\r\n  text?: string;\r\n  className?: string;\r\n  value?: string;\r\n  icon?: string;\r\n  hasChildren?: boolean;\r\n  clickableSubmenus?: boolean;\r\n}","import { ContainerElement } from \"./container-element\";\r\nimport { MenuItem } from \"./menu-item\";\r\n\r\nexport class Menu extends ContainerElement {\r\n\r\n\r\n  public elementOverlay: HTMLElement;\r\n  private _clickableSubmenus: boolean = false;\r\n  private _hovered: MenuItem[] = [];\r\n  public _index: { [key: string]: MenuItem } = {};\r\n\r\n\r\n  public get open(): boolean {\r\n    return this.class!.contains('open');\r\n  }\r\n  public set open(val: boolean) {\r\n    if (this.class!.contains('open') === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.class!.add('open');\r\n      this.element!.focus();\r\n    } else {\r\n      this.class!.remove('open');\r\n    }\r\n\r\n    this.emit('open', !!val);\r\n  }\r\n\r\n\r\n  public constructor(args?: any) {\r\n    super();\r\n\r\n    args = args || {};\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.tabIndex = 1;\r\n    this.element.classList.add('ui-menu');\r\n    this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n\r\n    this.elementOverlay = document.createElement('div');\r\n    this.elementOverlay.ui = this;\r\n    this.elementOverlay.classList.add('overlay');\r\n    this.elementOverlay.addEventListener('click', this._onClick.bind(this), false);\r\n    this.elementOverlay.addEventListener('contextmenu', this._onContextMenu.bind(this), false);\r\n    this.element.appendChild(this.elementOverlay);\r\n\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.classList.add('inner');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n    // this._index = { };\r\n    // this._hovered = [ ];\r\n    this._clickableSubmenus = args.clickableSubmenus;\r\n\r\n    this.on('select-propagate', this._onSelectPropagate.bind(this));\r\n    this.on('append', this._onAppend.bind(this));\r\n    this.on('over', this._onOver.bind(this));\r\n    this.on('open', this._onOpen.bind(this));\r\n\r\n  }\r\n\r\n  private _onClick(): void {\r\n    this.open = false;\r\n  }\r\n\r\n  private _onContextMenu(): void {\r\n    this.open = false;\r\n  }\r\n\r\n  private _onKeyDown(evt: KeyboardEvent): void {\r\n    if (this.open && evt.keyCode === 27)\r\n      this.open = false;\r\n  }\r\n\r\n  private _onAppend(item: MenuItem) {\r\n    let self = this;\r\n    this._index[item.value] = item;\r\n\r\n    item.on('value', function (value: string, valueOld: string) {\r\n      delete self._index[valueOld];\r\n      self._index[value] = item;\r\n    });\r\n    item.once('destroy', function () {\r\n      delete self._index[item.value];\r\n    });\r\n  }\r\n\r\n  private _onOver(path: string[]): void {\r\n    this._updatePath(path);\r\n  }\r\n\r\n  private _onOpen(state: boolean): void {\r\n    if (state) return;\r\n    this._updatePath([]);\r\n  }\r\n\r\n  private _onSelectPropagate(path: string[], selectedItemHasChildren: boolean): void {\r\n    if (this._clickableSubmenus && selectedItemHasChildren) {\r\n      this._updatePath(path);\r\n    } else {\r\n      this.open = false;\r\n      this.emit(path.join('.') + ':select', path);\r\n      this.emit('select', path);\r\n    }\r\n  }\r\n\r\n  public findByPath(path: string[] | string): Nullable<MenuItem> {\r\n    if (!(path instanceof Array))\r\n      path = path.split('.');\r\n\r\n    let item: Nullable<MenuItem> = null;\r\n\r\n    for (let i = 0; i < path.length; i++) {\r\n      if (i === 0) {\r\n        item = this._index[path[i]];\r\n      } else {\r\n        item = item!._index[path[i]];\r\n      }\r\n      if (!item)\r\n        return null;\r\n    }\r\n\r\n    return item;\r\n  }\r\n\r\n  private _updatePath(path: string[]): void {\r\n    let node: Nullable<MenuItem>;\r\n\r\n    // 把之前hover的取消\r\n    for (let i = 0; i < this._hovered.length; i++) {\r\n      node = this._hovered[i];\r\n      if (!node) continue;\r\n      // if (path.length <= i || path[i] !== this._hovered[i]) {\r\n      node.class!.remove('hover');\r\n      node.innerElement!.style.top = '';\r\n      node.innerElement!.style.left = '';\r\n      node.innerElement!.style.right = '';\r\n      // }\r\n    }\r\n\r\n    this._hovered = [];\r\n    // node = this;\r\n\r\n    for (let i = 0; i < path.length; i++) {\r\n      node = this.findByPath(path.slice(0, i + 1));\r\n\r\n      if (!node)\r\n        continue;\r\n\r\n      this._hovered.push(node);\r\n\r\n      node.class!.add('hover');\r\n      node.innerElement!.style.top = '';\r\n      node.innerElement!.style.left = '';\r\n      node.innerElement!.style.right = '';\r\n\r\n      let rect = node.innerElement!.getBoundingClientRect();\r\n\r\n      // limit to bottom / top of screen\r\n      if (rect.bottom > window.innerHeight) {\r\n        node.innerElement!.style.top = -(rect.bottom - window.innerHeight) + 'px';\r\n      }\r\n      if (rect.right > window.innerWidth) {\r\n        node.innerElement!.style.left = 'auto';\r\n        // TODO\r\n        node.innerElement!.style.right = (node.parent!.element!.clientWidth) + 'px';\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public position(x: number, y: number): void {\r\n\r\n    this.element!.style.display = 'block';\r\n    this.innerElement!.style.width = '158px';\r\n    let rect = this.innerElement!.getBoundingClientRect();\r\n    let left = (x || 0);\r\n    let top = (y || 0);\r\n\r\n    // limit to bottom / top of screen\r\n    if (top + rect.height > window.innerHeight) {\r\n      top = window.innerHeight - rect.height;\r\n    } else if (top < 0) {\r\n      top = 0;\r\n    }\r\n    if (left + rect.width > window.innerWidth) {\r\n      left = window.innerWidth - rect.width;\r\n    } else if (left < 0) {\r\n      left = 0;\r\n    }\r\n\r\n    this.innerElement!.style.left = left + 'px';\r\n    this.innerElement!.style.top = top + 'px';\r\n\r\n    this.element!.style.display = '';\r\n  }\r\n\r\n  public createItem(key: string, data: any): MenuItem {\r\n    let item = new MenuItem({\r\n      text: data.title || key,\r\n      className: data.className || null,\r\n      value: key,\r\n      icon: data.icon,\r\n      hasChildren: !!(data.items && Object.keys(data.items).length > 0),\r\n      clickableSubmenus: this._clickableSubmenus\r\n    });\r\n\r\n    if (data.select) {\r\n      item.on('select', data.select);\r\n    }\r\n\r\n    if (data.filter) {\r\n      this.on('open', function () {\r\n        item.enabled = data.filter();\r\n      });\r\n    }\r\n\r\n    if (data.hide) {\r\n      this.on('open', function () {\r\n        item.hidden = data.hide();\r\n      });\r\n    }\r\n\r\n    return item;\r\n  }\r\n\r\n\r\n  public static fromData(data: any, args: any) {\r\n    let menu = new Menu(args);\r\n\r\n    let listItems = function (data: any, parent: ContainerElement): void {\r\n      for (let key in data) {\r\n        let item = menu.createItem(key, data[key]);\r\n        parent.append(item);\r\n        // console.warn(item.parent);\r\n        if (data[key].items)\r\n          listItems(data[key].items, item);\r\n      }\r\n    };\r\n\r\n    listItems(data, menu);\r\n\r\n    return menu;\r\n  }\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class NumberField extends Element {\r\n\r\n  public precision: Nullable<number>;\r\n  public step: Nullable<number>;\r\n  public max: Nullable<number>;\r\n  public min: Nullable<number>;\r\n\r\n  public allowNull: boolean;\r\n\r\n  public elementInput: HTMLInputElement;\r\n\r\n  private _lastValue: number = -1;\r\n\r\n  public blurOnEnter: boolean;\r\n  public refocusable: boolean;\r\n  public _dragging: boolean;\r\n\r\n  private _dragDiff: number;\r\n  private _dragStart: number;\r\n\r\n  public get value(): number {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this.elementInput.value !== '' ? parseFloat(this.elementInput.value) : -1;\r\n    }\r\n  }\r\n  public set value(val: number) {\r\n    if (this._link) {\r\n      if (!this._link.set(this.path, val)) {\r\n        this.elementInput.value = this._link.get(this.path);\r\n      }\r\n    } else {\r\n      if (val !== null) {\r\n        if (this.max !== null && this.max < val)\r\n          val = this.max;\r\n\r\n        if (this.min !== null && this.min > val)\r\n          val = this.min;\r\n      }\r\n\r\n      val = (val !== null && val !== undefined && (this.precision !== null) ? parseFloat(val.toFixed(this.precision)) : val);\r\n      if (val === undefined)\r\n        val = -1;\r\n\r\n      let different = this._lastValue !== val;\r\n      this._lastValue = val;\r\n      this.elementInput.value = val.toString();\r\n\r\n      if (different) {\r\n        this.emit('change', val);\r\n      }\r\n    }\r\n  }\r\n\r\n  public get placeholder(): string {\r\n    return this.element!.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('placeholder');\r\n    } else {\r\n      this.element!.setAttribute('placeholder', val);\r\n    }\r\n  }\r\n\r\n  public get proxy(): string {\r\n    return this.element!.getAttribute('proxy') || '';\r\n  }\r\n  public set proxy(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('proxy');\r\n    } else {\r\n      this.element!.setAttribute('proxy', val);\r\n    }\r\n  }\r\n\r\n\r\n  public constructor(args?: NumberFieldArgs) {\r\n    super();\r\n\r\n    args = args || {};\r\n\r\n    this.precision = (args.precision !== undefined) ? args.precision : null;\r\n    this.step = (args.step != undefined) ? args.step : ((args.precision != null) ? 1 / Math.pow(10, args.precision) : 1);\r\n\r\n    this.max = (args.max !== undefined) ? args.max : null;\r\n    this.min = (args.min !== undefined) ? args.min : null;\r\n\r\n    this.allowNull = !!args.allowNull;\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-number-field');\r\n\r\n    this.elementInput = document.createElement('input');\r\n    this.elementInput.ui = this;\r\n    this.elementInput.tabIndex = 0;\r\n    this.elementInput.classList.add('field');\r\n    this.elementInput.type = 'text';\r\n    this.elementInput.addEventListener('focus', this._onInputFocus.bind(this), false);\r\n    this.elementInput.addEventListener('blur', this._onInputBlur.bind(this), false);\r\n    this.elementInput.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n    this.elementInput.addEventListener('dblclick', this._onFullSelect.bind(this), false);\r\n    this.elementInput.addEventListener('contextmenu', this._onFullSelect.bind(this), false);\r\n    this.element.appendChild(this.elementInput);\r\n\r\n    if (args.default !== undefined)\r\n      this.value = args.default;\r\n\r\n    this.elementInput.addEventListener('change', this._onChange.bind(this), false);\r\n    // this._element.addEventListener('mousedown', this._onMouseDown.bind(this), false);\r\n    // this._element.addEventListener('mousewheel', this._onMouseDown.bind(this), false);\r\n\r\n    this.blurOnEnter = true;\r\n    this.refocusable = true;\r\n\r\n    this._lastValue = this.value;\r\n    // this._mouseMove = null;\r\n    this._dragging = false;\r\n    this._dragDiff = 0;\r\n    this._dragStart = 0;\r\n\r\n    this.on('disable', this._onDisable);\r\n    this.on('enable', this._onEnable);\r\n    this.on('change', this._onChangeField);\r\n\r\n    if (args.placeholder)\r\n      this.placeholder = args.placeholder;\r\n\r\n  }\r\n\r\n\r\n  public _onLinkChange(value: string) {\r\n    this.elementInput.value = value || '0';\r\n    this.emit('change', value || '0');\r\n  };\r\n\r\n  public _onChange(): void {\r\n    let value = parseFloat(this.elementInput.value);\r\n    if (isNaN(value)) {\r\n      if (this.allowNull) {\r\n        this.value = -1;\r\n      } else {\r\n        this.elementInput.value = '0';\r\n        this.value = 0;\r\n      }\r\n    } else {\r\n      // this.elementInput.value = value;\r\n      this.value = value;\r\n    }\r\n  };\r\n\r\n\r\n  public focus(select?: boolean) {\r\n    this.elementInput.focus();\r\n    if (select) this.elementInput.select();\r\n  };\r\n\r\n  private _onInputFocus() {\r\n    this.class!.add('focus');\r\n  };\r\n\r\n  private _onInputBlur() {\r\n    this.class!.remove('focus');\r\n  };\r\n\r\n  private _onKeyDown(evt: KeyboardEvent) {\r\n    if (evt.keyCode === 27)\r\n      return this.elementInput.blur();\r\n\r\n    if (this.blurOnEnter && evt.keyCode === 13) {\r\n      let focused = false;\r\n\r\n      let parent = this.parent;\r\n      while (parent) {\r\n        if (parent.element && parent.element.focus) {\r\n          parent.element.focus();\r\n          focused = true;\r\n          break;\r\n        }\r\n\r\n        parent = parent.parent;\r\n      }\r\n\r\n      if (!focused)\r\n        this.elementInput.blur();\r\n\r\n      return;\r\n    }\r\n\r\n    if (this.disabled || [38, 40].indexOf(evt.keyCode) === -1)\r\n      return;\r\n\r\n    let inc = evt.keyCode === 40 ? -1 : 1;\r\n\r\n    if (evt.shiftKey)\r\n      inc *= 10;\r\n\r\n    let value = this.value + (this.step || 1) * inc;\r\n\r\n    if (this.max != null)\r\n      value = Math.min(this.max, value);\r\n\r\n    if (this.min != null)\r\n      value = Math.max(this.min, value);\r\n\r\n    if (this.precision != null)\r\n      value = parseFloat(value.toFixed(this.precision));\r\n\r\n    this.value = value;\r\n    // this.ui.value = value;\r\n  };\r\n\r\n  private _onFullSelect() {\r\n    this.elementInput.select();\r\n  };\r\n\r\n  private _onDisable() {\r\n    this.elementInput.readOnly = true;\r\n  };\r\n\r\n  private _onEnable() {\r\n    this.elementInput.readOnly = false;\r\n  };\r\n\r\n  private _onChangeField() {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport interface NumberFieldArgs {\r\n  default?: number;\r\n  placeholder?: string;\r\n  precision?: number;\r\n  step?: number;\r\n  min?: number;\r\n  max?: number;\r\n  allowNull?: boolean;\r\n}","import { ContainerElement } from \"./container-element\";\r\n\r\nexport class Overlay extends ContainerElement {\r\n\r\n\r\n  public elementOverlay: HTMLElement;\r\n\r\n\r\n  public get clickable(): boolean {\r\n    return this.elementOverlay.classList.contains('clickable');\r\n  }\r\n  public set clickable(val: boolean) {\r\n    if (val) {\r\n      this.elementOverlay.classList.add('clickable');\r\n    } else {\r\n      this.elementOverlay.classList.remove('clickable');\r\n    }\r\n  }\r\n\r\n  public get rect(): ClientRect | DOMRect {\r\n    return this.innerElement!.getBoundingClientRect();\r\n  }\r\n\r\n  public get center(): boolean {\r\n    return this.element!.classList.contains('center');\r\n  }\r\n  public set center(val: boolean) {\r\n    if (val) {\r\n      this.element!.classList.add('center');\r\n      this.innerElement!.style.left = '';\r\n      this.innerElement!.style.top = '';\r\n    } else {\r\n      this.element!.classList.remove('center');\r\n    }\r\n  }\r\n\r\n  public get transparent(): boolean {\r\n    return this.element!.classList.contains('transparent');\r\n  }\r\n  public set transparent(val: boolean) {\r\n    if (val) {\r\n      this.element!.classList.add('transparent');\r\n    } else {\r\n      this.element!.classList.remove('transparent');\r\n    }\r\n  }\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-overlay', 'center');\r\n\r\n    this.elementOverlay = document.createElement('div');\r\n    this.elementOverlay.ui = this;\r\n    this.elementOverlay.classList.add('overlay', 'clickable');\r\n    this.element.appendChild(this.elementOverlay);\r\n\r\n    this.elementOverlay.addEventListener('mousedown', this._onMouseDown.bind(this), false);\r\n\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.classList.add('content');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n  }\r\n\r\n  private _onMouseDown(evt: MouseEvent): void {\r\n    if (!this.clickable)\r\n      return;\r\n\r\n    let self = this;\r\n\r\n    // some field might be in focus\r\n    document.body.blur();\r\n\r\n    // wait till blur takes in account\r\n    requestAnimationFrame(function () {\r\n      // hide overlay\r\n      self.hidden = true;\r\n    });\r\n\r\n    evt.preventDefault();\r\n  }\r\n\r\n  public position(x: number, y: number): void {\r\n    let area = this.elementOverlay.getBoundingClientRect();\r\n    let rect = this.innerElement!.getBoundingClientRect();\r\n\r\n    x = Math.max(0, Math.min(area.width - rect.width, x));\r\n    y = Math.max(0, Math.min(area.height - rect.height, y));\r\n\r\n    this.innerElement!.style.left = x + 'px';\r\n    this.innerElement!.style.top = y + 'px';\r\n  }\r\n\r\n\r\n}","import { ContainerElement } from './container-element';\r\nimport { Element } from './element';\r\nimport { Label } from './label';\r\n\r\nexport class Panel extends ContainerElement {\r\n\r\n  public headerElement: Nullable<HTMLElement> = null;\r\n  public headerElementTitle: Nullable<HTMLElement> = null;\r\n  private _handleElement: Nullable<HTMLElement> = null;\r\n\r\n  private _resizeEvtMove: any;\r\n  private _resizeEvtEnd: any;\r\n  private _resizeEvtTouchMove: any;\r\n  private _resizeEvtTouchEnd: any;\r\n\r\n  private _resizeData: { [key: string]: number } = { end: 0 };\r\n  private _resizeLimits: { [key: string]: number } = {\r\n    min: 0,\r\n    max: Infinity\r\n  };\r\n  private _handle: string = '';\r\n  public headerSize: number = 0;\r\n  private _resizeTouchId: number = -100;\r\n\r\n  public title: string = '';\r\n\r\n  public _lable: Nullable<Label> = null;\r\n\r\n  public get folded(): boolean {\r\n    return this.class ? this.class.contains('foldable') && this.class.contains('folded') : false;\r\n  }\r\n  public set folded(val: boolean) {\r\n    if (this.hidden)\r\n      return;\r\n\r\n    if (this.class!.contains('folded') === !!val)\r\n      return;\r\n\r\n    if (this.headerElement && this.headerSize === 0)\r\n      this.headerSize = this.headerElement.clientHeight;\r\n\r\n    if (val) {\r\n      this.class!.add('folded');\r\n\r\n      if (this.class!.contains('foldable'))\r\n        this.emit('fold');\r\n    } else {\r\n      this.class!.remove('folded');\r\n\r\n      if (this.class!.contains('foldable'))\r\n        this.emit('unfold');\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get horizontal(): boolean {\r\n    return this.class ? this.class.contains('horizontal') : false;\r\n  }\r\n  public set horizontal(val: boolean) {\r\n    if (val) {\r\n      this.class!.add('horizontal');\r\n    } else {\r\n      this.class!.remove('horizontal');\r\n    }\r\n    this._reflow();\r\n  }\r\n\r\n  public get resizable(): string {\r\n    return this._handle;\r\n  }\r\n  public set resizable(val: string) {\r\n    if (this._handle === val)\r\n      return;\r\n\r\n    var oldHandle = this._handle;\r\n    this._handle = val;\r\n\r\n    if (this._handle !== '') {\r\n      if (!this._handleElement) {\r\n        this._handleElement = document.createElement('div');\r\n        this._handleElement.ui = this;\r\n        this._handleElement.classList.add('handle');\r\n        this._handleElement.addEventListener('mousedown', this._resizeStart.bind(this), false);\r\n        this._handleElement.addEventListener('touchstart', this._resizeStart.bind(this), false);\r\n      }\r\n\r\n      if (this._handleElement.parentNode)\r\n        this.element!.removeChild(this._handleElement);\r\n      // TODO\r\n      // append in right place\r\n      this.element!.appendChild(this._handleElement);\r\n      this.class!.add('resizable', 'resizable-' + this._handle);\r\n    } else {\r\n      if (this._handleElement) this.element!.removeChild(this._handleElement);\r\n\r\n      this.class!.remove('resizable', 'resizable-' + oldHandle);\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get resizeMin(): number {\r\n    return this._resizeLimits.min;\r\n  }\r\n  public set resizeMin(val: number) {\r\n    this._resizeLimits.min = Math.max(0, Math.min(this._resizeLimits.max, val));\r\n  }\r\n\r\n  public get resizeMax(): number {\r\n    return this._resizeLimits.max;\r\n  }\r\n  public set resizeMax(val: number) {\r\n    this._resizeLimits.max = Math.max(this._resizeLimits.min, val);\r\n  }\r\n\r\n  public get foldable(): boolean {\r\n    return this.class ? this.class.contains('foldable') : false;\r\n  }\r\n  public set foldable(val: boolean) {\r\n    if (val) {\r\n      this.class!.add('foldable');\r\n\r\n      if (this.class!.contains('folded'))\r\n        this.emit('fold');\r\n    } else {\r\n      this.class!.remove('foldable');\r\n\r\n      if (this.class!.contains('folded'))\r\n        this.emit('unfold');\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get header(): string {\r\n    return this.headerElementTitle ? (this.headerElementTitle.textContent || '') : '';\r\n  }\r\n  public set header(val: string) {\r\n    if (!this.headerElement && val) {\r\n      this.headerElement = document.createElement('header');\r\n      this.headerElement.classList.add('ui-header');\r\n\r\n      this.headerElementTitle = document.createElement('span');\r\n      this.headerElementTitle.classList.add('title');\r\n      this.headerElementTitle.textContent = val;\r\n      this.headerElement.appendChild(this.headerElementTitle);\r\n\r\n      let first = this.element!.firstChild;\r\n      if (first) {\r\n        this.element!.insertBefore(this.headerElement, first);\r\n      } else {\r\n        this.element!.appendChild(this.headerElement);\r\n      }\r\n\r\n      this.class!.remove('noHeader');\r\n\r\n      let self = this;\r\n\r\n      // folding\r\n      this.headerElement.addEventListener('click', function (evt) {\r\n        if (!self.foldable || (evt.target !== self.headerElement && evt.target !== self.headerElementTitle))\r\n          return;\r\n\r\n        self.folded = !self.folded;\r\n      }, false);\r\n    } else if (this.headerElement && !val) {\r\n      if (this.headerElement.parentNode) {\r\n        this.headerElement.parentNode.removeChild(this.headerElement);\r\n      }\r\n      this.headerElement = null;\r\n      this.headerElementTitle = null;\r\n      this.class!.add('noHeader');\r\n    } else {\r\n      this.headerElementTitle!.textContent = val || '';\r\n      this.class!.remove('noHeader');\r\n    }\r\n  }\r\n\r\n  public constructor(title?: string) {\r\n    super();\r\n\r\n    let self = this;\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-panel', 'noHeader', 'noAnimation');\r\n\r\n    // this.on('nodesChanged', this._onNodesChanged);\r\n\r\n    // content\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.ui = this;\r\n    this.innerElement.classList.add('content');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n    if (title) {\r\n      this.title = title;\r\n      this.header = title;\r\n    }\r\n\r\n    // this.innerElement.addEventListener('scroll', this._onScroll, false);\r\n\r\n    this._resizeEvtMove = function (evt: MouseEvent) {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      self._resizeMove(evt.clientX, evt.clientY);\r\n    };\r\n\r\n    this._resizeEvtEnd = function (evt: MouseEvent) {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      self._resizeEnd();\r\n    };\r\n\r\n    this._resizeEvtTouchMove = function (evt: TouchEvent) {\r\n      for (let i = 0; i < evt.changedTouches.length; i++) {\r\n        let touch = evt.changedTouches[i];\r\n\r\n        if (touch.identifier !== self._resizeTouchId)\r\n          continue;\r\n\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        self._resizeMove(touch.clientX, touch.clientY);\r\n\r\n        return;\r\n      }\r\n    };\r\n\r\n    this._resizeEvtTouchEnd = function (evt: TouchEvent) {\r\n      for (let i = 0; i < evt.changedTouches.length; i++) {\r\n        let touch = evt.changedTouches[i];\r\n\r\n        if (touch.identifier !== self._resizeTouchId)\r\n          continue;\r\n\r\n        self._resizeTouchId = -100;\r\n\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        self._resizeEnd();\r\n\r\n        return;\r\n      }\r\n    };\r\n\r\n    // HACK\r\n    // skip 2 frames before enabling transitions\r\n    requestAnimationFrame(function () {\r\n      requestAnimationFrame(function () {\r\n        self.class!.remove('noAnimation');\r\n      });\r\n    });\r\n\r\n    // on parent change\r\n    this.on('parent', this._onParent);\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  private _resizeMove(x: number, y: number): void {\r\n    if (this._resizeData.end === 0) {\r\n      this._resizeData = {\r\n        x: x,\r\n        y: y,\r\n        width: this.innerElement!.clientWidth,\r\n        height: this.innerElement!.clientHeight,\r\n        end: 1\r\n      };\r\n    } else {\r\n      if (this._handle === 'left' || this._handle === 'right') {\r\n        // horizontal\r\n        let offsetX = this._resizeData.x - x;\r\n\r\n        if (this._handle === 'right')\r\n          offsetX = -offsetX;\r\n\r\n        let width = Math.max(this._resizeLimits.min, Math.min(this._resizeLimits.max, (this._resizeData.width + offsetX)));\r\n\r\n        this.style!.width = (width + 4) + 'px';\r\n        this.innerElement!.style.width = (width + 4) + 'px';\r\n      } else {\r\n        // vertical\r\n        let offsetY = this._resizeData.y - y;\r\n\r\n        if (this._handle === 'bottom')\r\n          offsetY = -offsetY;\r\n\r\n        let height = Math.max(this._resizeLimits.min, Math.min(this._resizeLimits.max, (this._resizeData.height + offsetY)));\r\n\r\n        this.style!.height = (height + (this.headerSize === -1 ? 0 : this.headerSize || 32)) + 'px';\r\n        this.innerElement!.style.height = height + 'px';\r\n      }\r\n    }\r\n\r\n    this.emit('resize');\r\n  };\r\n\r\n  private _resizeEnd(): void {\r\n    window.removeEventListener('mousemove', this._resizeEvtMove, false);\r\n    window.removeEventListener('mouseup', this._resizeEvtEnd, false);\r\n\r\n    // window.removeEventListener('touchmove', this._resizeEvtTouchMove, false);\r\n    // window.removeEventListener('touchend', this._resizeEvtTouchEnd, false);\r\n\r\n    this.class!.remove('noAnimation', 'resizing');\r\n    this._resizeData.end = 0;\r\n  };\r\n\r\n  private _resizeStart(evt: Event): void {\r\n    if (this._handle === '')\r\n      return;\r\n    if ((<TouchEvent>evt).changedTouches) {\r\n      for (let i = 0; i < (<TouchEvent>evt).changedTouches.length; i++) {\r\n        let touch = (<TouchEvent>evt).changedTouches[i];\r\n        if (<HTMLElement>touch.target !== this.element)\r\n          continue;\r\n\r\n        this._resizeTouchId = touch.identifier;\r\n      }\r\n    }\r\n\r\n    this.class!.add('noAnimation', 'resizing');\r\n    this._resizeData.end = 0;\r\n\r\n    window.addEventListener('mousemove', this._resizeEvtMove, false);\r\n    window.addEventListener('mouseup', this._resizeEvtEnd, false);\r\n\r\n    window.addEventListener('touchmove', this._resizeEvtTouchMove, false);\r\n    window.addEventListener('touchend', this._resizeEvtTouchEnd, false);\r\n\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n  };\r\n\r\n  private _onParent(): void {\r\n    // HACK\r\n    // wait till DOM parses, then reflow\r\n    requestAnimationFrame(this._reflow.bind(this));\r\n  };\r\n\r\n  private _reflow(): void {\r\n    if (this.hidden)\r\n      return;\r\n\r\n    if (this.folded) {\r\n      if (this.horizontal) {\r\n        this.style!.height = '';\r\n        this.style!.width = (this.headerSize || 32) + 'px';\r\n      } else {\r\n        this.style!.height = (this.headerSize || 32) + 'px';\r\n      }\r\n    } else if (this.foldable) {\r\n      if (this.horizontal) {\r\n        this.style!.height = '';\r\n        this.style!.width = this.innerElement!.clientWidth + 'px';\r\n      } else {\r\n        this.style!.height = ((this.headerSize || 32) + this.innerElement!.clientHeight) + 'px';\r\n      }\r\n    }\r\n  };\r\n\r\n  private _onNodesChanged(): void {\r\n    if (!this.foldable || this.folded || this.horizontal || this.hidden)\r\n      return;\r\n\r\n    this.style!.height = (Math.max(0, (this.headerSize || 32)) + this.innerElement!.clientHeight) + 'px';\r\n  };\r\n\r\n  public headerAppend(element: HTMLElement | Element): void {\r\n    if (!this.headerElement)\r\n      return;\r\n\r\n    let html: boolean = (element instanceof HTMLElement);\r\n    let node: HTMLElement = html ? <HTMLElement>element : (<Element>element).element!;\r\n\r\n    this.headerElement.insertBefore(node, this.headerElementTitle);\r\n\r\n    if (!html)\r\n      (<Element>element).parent = this;\r\n  };\r\n\r\n  // TODO\r\n  private _onScroll(evt: any) {\r\n    this.emit('scroll', evt);\r\n  };\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class Progress extends Element {\r\n\r\n\r\n  private _progress: number;\r\n  private _targetProgress: number;\r\n  private _lastProgress: number;\r\n  private _speed: number;\r\n\r\n  private _inner: HTMLElement;\r\n\r\n  private _now: number;\r\n  private _animating: boolean;\r\n  private _failed: boolean;\r\n\r\n  public get progress(): number {\r\n    return this._progress;\r\n  }\r\n  public set progress(val: number) {\r\n    let self = this;\r\n\r\n    val = Math.max(0, Math.min(1, val));\r\n\r\n    if (this._targetProgress === val)\r\n      return;\r\n\r\n    this._targetProgress = val;\r\n\r\n    if (this._speed === 0 || this._speed === 1) {\r\n      this._progress = this._targetProgress;\r\n      this._inner.style.width = (this._progress * 100) + '%';\r\n\r\n      let progress: number = Math.max(0, Math.min(100, Math.round(this._progress * 100)));\r\n      if (progress !== this._lastProgress) {\r\n        this._lastProgress = progress;\r\n        this.emit('progress:' + progress);\r\n        this.emit('progress', progress);\r\n      }\r\n    } else if (!this._animating) {\r\n      requestAnimationFrame(function () {\r\n        self._animate();\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  public get speed(): number {\r\n    return this._speed;\r\n  }\r\n  public set speed(val: number) {\r\n    this._speed = Math.max(0, Math.min(1, val));\r\n  }\r\n\r\n  public get failed(): boolean {\r\n    return this._failed;\r\n  }\r\n  public set failed(val: boolean) {\r\n    this._failed = val;\r\n    if (this._failed) {\r\n      this.class!.add('failed');\r\n    } else {\r\n      this.class!.remove('failed');\r\n    }\r\n  }\r\n\r\n\r\n  public constructor(progress?: number, speed?: number) {\r\n    super();\r\n\r\n    this._progress = progress ? Math.max(0, Math.min(1, progress)) : 0;\r\n    this._targetProgress = this._progress;\r\n    this._lastProgress = Math.floor(this._progress * 100);\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-progress');\r\n\r\n    this._inner = document.createElement('div');\r\n    this._inner.classList.add('inner');\r\n    this._inner.style.width = (this._progress * 100) + '%';\r\n    this.element.appendChild(this._inner);\r\n\r\n    this._speed = speed || 1;\r\n\r\n    this._now = Date.now();\r\n    this._animating = false;\r\n \r\n    this._failed = false;\r\n\r\n  }\r\n\r\n  /**\r\n   *  websocket link -> best way;\r\n   *  information format -> many kinds of information to be transformed;\r\n   * \r\n   *  think about the process:\r\n   *     1. access permission check;\r\n   *     2. a data structure of scene detail;\r\n   *     3. a data structure for assets detail;\r\n   *     4. keep the original file no change so there will be only one source file;\r\n   *     5. link to any information;\r\n   * \r\n   * \r\n   * \r\n\r\n   *  \r\n   */\r\n  private _animate(): void {\r\n    let self = this;\r\n\r\n    if (Math.abs(this._targetProgress - this._progress) < 0.01) {\r\n      this._progress = this._targetProgress;\r\n      this._animating = false;\r\n    } else {\r\n      if (!this._animating) {\r\n        this._now = Date.now() - (1000 / 60);\r\n        this._animating = true;\r\n      }\r\n      requestAnimationFrame(function () {\r\n        self._animate();\r\n      });\r\n\r\n      let dt: number = Math.max(0.1, Math.min(3, (Date.now() - this._now) / (1000 / 60)));\r\n      this._now = Date.now();\r\n      this._progress = this._progress + (this._targetProgress - this._progress) * (this._speed * dt);\r\n    }\r\n\r\n    let progress: number = Math.max(0, Math.min(100, Math.round(this._progress * 100)));\r\n    if (progress !== this._lastProgress) {\r\n      this._lastProgress = progress;\r\n      this.emit('progress:' + progress);\r\n      this.emit('progress', progress);\r\n    }\r\n\r\n    this._inner.style.width = (this._progress * 100) + '%';\r\n  }\r\n\r\n\r\n}","import { Element } from \"./element\"\r\n\r\n// 下拉选择列表\r\nexport class SelectField extends Element {\r\n\r\n\r\n  public elementValue: HTMLElement;\r\n  public elementOptions: HTMLElement;\r\n\r\n  public options: any;\r\n  public optionsKeys: string[];\r\n\r\n  private _oldValue: any;\r\n  private _value: any;\r\n  private _type: string;\r\n  private _optionClassNamePrefix: string;\r\n  private timerClickAway: any;\r\n  private evtTouchId: number;\r\n  private evtTouchSecond: boolean;\r\n  private evtMouseDist: number[] = [0, 0];\r\n\r\n  private optionElements: { [key: string]: HTMLElement };\r\n\r\n\r\n  public get value(): any {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this._value;\r\n    }\r\n  }\r\n  public set value(raw: any) {\r\n    var value = this.valueToType(raw);\r\n\r\n    if (this._link) {\r\n      this._oldValue = this._value;\r\n      this.emit('change:before', value);\r\n      this._link.set(this.path, value);\r\n    } else {\r\n      if ((value === null || value === undefined || raw === '') && this.optionElements[''])\r\n        value = '';\r\n\r\n      if (this._oldValue === value) return;\r\n      if (value !== null && this.options[value] === undefined) return;\r\n\r\n      // deselect old one\r\n      if (this.optionElements[this._oldValue])\r\n        this.optionElements[this._oldValue].classList.remove('selected');\r\n\r\n      this._value = value;\r\n      if (value !== '')\r\n        this._value = this.valueToType(this._value);\r\n\r\n      this.emit('change:before', this._value);\r\n      this._oldValue = this._value;\r\n      if (this.options[this._value]) {\r\n        this.elementValue.textContent = this.options[this._value];\r\n        this.optionElements[this._value].classList.add('selected');\r\n      } else {\r\n        this.elementValue.textContent = '';\r\n      }\r\n      this.emit('change', this._value);\r\n    }\r\n  }\r\n\r\n  public get placeholder(): string {\r\n    return this.elementValue.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    if (!val) {\r\n      this.elementValue.removeAttribute('placeholder');\r\n    } else {\r\n      this.elementValue.setAttribute('placeholder', val);\r\n    }\r\n  }\r\n\r\n  public constructor(args: any) {\r\n    super();\r\n\r\n    // let self = this;\r\n\r\n    args = args || {};\r\n    this.options = args.options || {};\r\n    this.optionsKeys = [];\r\n\r\n    if (this.options instanceof Array) {\r\n      var options: any = {};\r\n      for (var i = 0; i < this.options.length; i++) {\r\n        this.optionsKeys.push(this.options[i].v);\r\n        options[this.options[i].v] = this.options[i].t;\r\n      }\r\n      this.options = options;\r\n    } else {\r\n      this.optionsKeys = Object.keys(this.options);\r\n    }\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.tabIndex = 0;\r\n    this.element.classList.add('ui-select-field', 'noSelect');\r\n\r\n    this.elementValue = document.createElement('div');\r\n    this.elementValue.ui = this;\r\n    this.elementValue.classList.add('value');\r\n    this.element.appendChild(this.elementValue);\r\n\r\n    this._oldValue = null;\r\n    this._value = null;\r\n    this._type = args.type || 'string';\r\n\r\n    this._optionClassNamePrefix = args.optionClassNamePrefix || '';\r\n\r\n    this.timerClickAway = null;\r\n    this.evtTouchId = -9;\r\n    this.evtTouchSecond = false;\r\n    this.evtMouseDist = [0, 0];\r\n\r\n    this.elementValue.addEventListener('mousedown', this._onMouseDown.bind(this), false);\r\n    this.elementValue.addEventListener('touchstart', this._onTouchStart.bind(this), false);\r\n\r\n    this.elementOptions = document.createElement('ul');\r\n    this.element.appendChild(this.elementOptions);\r\n\r\n    this.optionElements = {};\r\n\r\n    if (args.default !== undefined && this.options[args.default] !== undefined) {\r\n      this._value = this.valueToType(args.default);\r\n      this._oldValue = this._value;\r\n    }\r\n\r\n    this.on('link', this._onLink);\r\n    this._updateOptions();\r\n\r\n    this.on('change', this._onChange.bind(this));\r\n\r\n    // arrows - change\r\n    this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n\r\n    if (args.placeholder)\r\n      this.placeholder = args.placeholder;\r\n  }\r\n\r\n\r\n  private _onHoldSelect(target: HTMLElement, x: number, y: number, evt?: TouchEvent) {\r\n    if (target && target.uiElement && target.uiElement === this && target.classList.contains('selected'))\r\n      return;\r\n\r\n    if ((Math.abs(x - this.evtMouseDist[0]) + Math.abs(y - this.evtMouseDist[1])) < 8)\r\n      return;\r\n\r\n    if (target && target.uiElement && target.uiElement === this && evt !== undefined)\r\n      this._onOptionSelect.call(target, evt);\r\n\r\n    this.close();\r\n  };\r\n\r\n  private _onMouseDown(evt: MouseEvent): void {\r\n    if (this.disabled && !this.disabledClick)\r\n      return;\r\n\r\n    if (this.element!.classList.contains('active')) {\r\n      this.close();\r\n    } else {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      this.evtMouseDist[0] = evt.pageX;\r\n      this.evtMouseDist[1] = evt.pageY;\r\n      this.element!.focus();\r\n      this.open();\r\n      window.addEventListener('mouseup', this.evtMouseUp.bind(this));\r\n    }\r\n  };\r\n\r\n  private _onTouchStart(evt: TouchEvent): void {\r\n    if (this.disabled && !this.disabledClick)\r\n      return;\r\n\r\n    if (this.element!.classList.contains('active')) {\r\n      this.close();\r\n    } else {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n\r\n      var touch;\r\n\r\n      for (var i = 0; i < evt.changedTouches.length; i++) {\r\n        if ((<HTMLElement>(evt.changedTouches[i].target)).uiElement !== this)\r\n          continue;\r\n\r\n        touch = evt.changedTouches[i];\r\n\r\n        break;\r\n      }\r\n\r\n      if (!touch) return;\r\n\r\n      this.evtTouchId = touch.identifier;\r\n      this.evtMouseDist[0] = touch.pageX;\r\n      this.evtMouseDist[1] = touch.pageY;\r\n      this.element!.focus();\r\n      this.open();\r\n      window.addEventListener('touchend', this.evtTouchEnd.bind(this));\r\n    }\r\n  };\r\n\r\n  private _onLink(path: string): void {\r\n    if (this._link!.schema && this._link!.schema.has(path)) {\r\n      var field = this._link!.schema.get(path);\r\n      var options = field.options || {};\r\n      this._updateOptions(options);\r\n    }\r\n  };\r\n\r\n  private _onChange(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n  private _onKeyDown(evt: KeyboardEvent): void {\r\n    if (evt.keyCode === 27) {\r\n      this.close();\r\n      (<HTMLElement>evt.target).blur();\r\n      return;\r\n    }\r\n\r\n    if ((this.disabled && !this.disabledClick) || [38, 40].indexOf(evt.keyCode) === -1)\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n\r\n    var keys = Object.keys(this.options);\r\n    var ind = keys.indexOf(this.value !== undefined ? this.value.toString() : null);\r\n\r\n    var y = evt.keyCode === 38 ? -1 : 1;\r\n\r\n    // already first item\r\n    if (y === -1 && ind <= 0)\r\n      return;\r\n\r\n    // already last item\r\n    if (y === 1 && ind === (keys.length - 1))\r\n      return\r\n\r\n    // set new item\r\n    this.value = keys[ind + y];\r\n  };\r\n\r\n  private valueToType(value: any): any {\r\n    switch (this._type) {\r\n      case 'boolean':\r\n        return !!value;\r\n        break;\r\n      case 'number':\r\n        return parseInt(value, 10);\r\n        break;\r\n      case 'string':\r\n        return '' + value;\r\n        break;\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  private evtMouseUp(evt: MouseEvent): void {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    this._onHoldSelect(<HTMLElement>evt.target, evt.pageX, evt.pageY);\r\n  };\r\n\r\n  private evtTouchEnd(evt: TouchEvent): void {\r\n    for (var i = 0; i < evt.changedTouches.length; i++) {\r\n      var touch = evt.changedTouches[i];\r\n      if (touch.identifier !== this.evtTouchId)\r\n        continue;\r\n\r\n      this.evtTouchId = -9;\r\n\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n\r\n      var target = document.elementFromPoint(touch.pageX, touch.pageY);\r\n\r\n      this._onHoldSelect(<HTMLElement>target, touch.pageX, touch.pageY, evt);\r\n    }\r\n\r\n    if (this.evtTouchSecond) {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      self.close();\r\n    } else if (this.element!.classList.contains('active')) {\r\n      this.evtTouchSecond = true;\r\n    }\r\n  };\r\n\r\n\r\n  private open(): void {\r\n    if ((this.disabled && !this.disabledClick) || this.element!.classList.contains('active'))\r\n      return;\r\n\r\n    this.element!.classList.add('active');\r\n\r\n    var rect = this.element!.getBoundingClientRect();\r\n\r\n    // left\r\n    var left = Math.round(rect.left) + ((Math.round(rect.width) - this.element!.clientWidth) / 2);\r\n\r\n    // top\r\n    var top = rect.top;\r\n    if (this.optionElements[this._value]) {\r\n      top -= this.optionElements[this._value].offsetTop;\r\n      top += (Math.round(rect.height) - this.optionElements[this._value].clientHeight) / 2;\r\n    }\r\n\r\n    // limit to bottom / top of screen\r\n    if (top + this.elementOptions.clientHeight > window.innerHeight) {\r\n      top = window.innerHeight - this.elementOptions.clientHeight + 1;\r\n    } else if (top < 0) {\r\n      top = 0;\r\n    }\r\n\r\n    // top\r\n    this.elementOptions.style.top = Math.max(0, top) + 'px';\r\n    // left\r\n    this.elementOptions.style.left = left + 'px';\r\n    // right\r\n    this.elementOptions.style.width = Math.round(this.element!.clientWidth) + 'px';\r\n    // bottom\r\n    if (top <= 0 && this.elementOptions.offsetHeight >= window.innerHeight) {\r\n      this.elementOptions.style.bottom = '0';\r\n      this.elementOptions.style.height = 'auto';\r\n\r\n      // scroll to item\r\n      if (this.optionElements[this._value]) {\r\n        var off = this.optionElements[this._value].offsetTop - rect.top;\r\n        this.elementOptions.scrollTop = off;\r\n      }\r\n    } else {\r\n      this.elementOptions.style.bottom = '';\r\n      this.elementOptions.style.height = '';\r\n    }\r\n\r\n    var self = this;\r\n    this.timerClickAway = setTimeout(function () {\r\n      var looseActive = function () {\r\n        self.element!.classList.remove('active');\r\n        self.element!.blur();\r\n        window.removeEventListener('click', looseActive);\r\n      };\r\n\r\n      window.addEventListener('click', looseActive);\r\n    }, 300);\r\n\r\n    this.emit('open');\r\n  };\r\n\r\n\r\n  private close(): void {\r\n    if ((this.disabled && !this.disabledClick) || !this.element!.classList.contains('active'))\r\n      return;\r\n\r\n    window.removeEventListener('mouseup', this.evtMouseUp.bind(this));\r\n    window.removeEventListener('touchend', this.evtTouchEnd.bind(this));\r\n\r\n    if (this.timerClickAway) {\r\n      clearTimeout(this.timerClickAway);\r\n      this.timerClickAway = null;\r\n    }\r\n\r\n    this.element!.classList.remove('active');\r\n\r\n    this.elementOptions.style.top = '';\r\n    this.elementOptions.style.right = '';\r\n    this.elementOptions.style.bottom = '';\r\n    this.elementOptions.style.left = '';\r\n    this.elementOptions.style.width = '';\r\n    this.elementOptions.style.height = '';\r\n\r\n    this.emit('close');\r\n\r\n    this.evtTouchSecond = false;\r\n  };\r\n\r\n  private toggle(): void {\r\n    if (this.element!.classList.contains('active')) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  };\r\n\r\n  private _updateOptions(options?: any) {\r\n    if (options !== undefined) {\r\n      if (options instanceof Array) {\r\n        this.options = {};\r\n        this.optionsKeys = [];\r\n        for (var i = 0; i < options.length; i++) {\r\n          this.optionsKeys.push(options[i].v);\r\n          this.options[options[i].v] = options[i].t;\r\n        }\r\n      } else {\r\n        this.options = options;\r\n        this.optionsKeys = Object.keys(options);\r\n      }\r\n    }\r\n\r\n    this.optionElements = {};\r\n    this.elementOptions.innerHTML = '';\r\n\r\n    for (var i = 0; i < this.optionsKeys.length; i++) {\r\n      if (!this.options.hasOwnProperty(this.optionsKeys[i]))\r\n        continue;\r\n\r\n      var element = document.createElement('li');\r\n      element.textContent = this.options[this.optionsKeys[i]];\r\n      element.uiElement = this;\r\n      element.uiValue = this.optionsKeys[i];\r\n      element.addEventListener('touchstart', this._onOptionSelect.bind(this));\r\n      element.addEventListener('mouseover', this._onOptionHover.bind(this));\r\n      element.addEventListener('mouseout', this._onOptionOut.bind(this));\r\n\r\n      if (this._optionClassNamePrefix) {\r\n        element.classList.add(this._optionClassNamePrefix + '-' + element.textContent!.toLowerCase());\r\n      }\r\n\r\n      this.elementOptions.appendChild(element);\r\n      this.optionElements[this.optionsKeys[i]] = element;\r\n    }\r\n  };\r\n\r\n  private _onOptionSelect(evt: TouchEvent): void {\r\n    this.value = (<HTMLElement>evt.target).uiValue;\r\n  };\r\n\r\n  private _onOptionHover(): void {\r\n    this.element!.classList.add('hover');\r\n  };\r\n\r\n  private _onOptionOut(): void {\r\n    this.element!.classList.remove('hover');\r\n  };\r\n\r\n  public _onLinkChange(value: any) {\r\n    if (this.optionElements[value] === undefined)\r\n      return;\r\n\r\n    if (this.optionElements[this._oldValue]) {\r\n      this.optionElements[this._oldValue].classList.remove('selected');\r\n    }\r\n\r\n    this._value = this.valueToType(value);\r\n    this.elementValue.textContent = this.options[value];\r\n    this.optionElements[value].classList.add('selected');\r\n    this.emit('change', value);\r\n  };\r\n\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class Slider extends Element {\r\n\r\n  private _value: number;\r\n  private _lastValue: number;\r\n  public precision: number;\r\n\r\n  public elementBar: HTMLElement;\r\n  public elementHandle: HTMLElement;\r\n  public evtTouchId: any;\r\n\r\n  private _min: number;\r\n  public get min(): number {\r\n    return this._min;\r\n  }\r\n  public set min(val: number) {\r\n    if (this._min === val)\r\n      return;\r\n\r\n    this._min = val;\r\n    this._updateHandle(this._value);\r\n  }\r\n\r\n  private _max: number;\r\n  public get max(): number {\r\n    return this._max;\r\n  }\r\n  public set max(val: number) {\r\n    if (this._max === val)\r\n      return;\r\n\r\n    this._max = val;\r\n    this._updateHandle(this._value);\r\n  }\r\n\r\n  public get value(): number {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this._value;\r\n    }\r\n  }\r\n  public set value(val: number) {\r\n    if (this._link) {\r\n      if (!this._link.set(this.path, val))\r\n        this._updateHandle(this._link.get(this.path));\r\n    } else {\r\n      if (this._max !== null && this._max < val)\r\n        val = this._max;\r\n\r\n      if (this._min !== null && this._min > val)\r\n        val = this._min;\r\n\r\n      // TODO\r\n      if (val === null) {\r\n        this.class!.add('null');\r\n      } else {\r\n        if (typeof val !== 'number')\r\n          val = 0;\r\n\r\n        val = (val !== undefined && this.precision !== null) ? parseFloat(val.toFixed(this.precision)) : val;\r\n        this.class!.remove('null');\r\n      }\r\n\r\n      this._updateHandle(val);\r\n      this._value = val;\r\n\r\n      if (this._lastValue !== val) {\r\n        this._lastValue = val;\r\n        this.emit('change', val);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public constructor(args?: SliderArgs) {\r\n    super();\r\n\r\n    args = args || {};\r\n    this._value = 0;\r\n    this._lastValue = 0;\r\n\r\n    this.precision = (args.precision === undefined) ? 2 : args.precision;\r\n    this._min = (args.min === undefined) ? 0 : args.min;\r\n    this._max = (args.max === undefined) ? 1 : args.max;\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-slider');\r\n\r\n    this.elementBar = document.createElement('div');\r\n    this.elementBar.ui = this;\r\n    this.elementBar.classList.add('bar');\r\n    this.element.appendChild(this.elementBar);\r\n\r\n    this.elementHandle = document.createElement('div');\r\n    this.elementHandle.ui = this;\r\n    this.elementHandle.tabIndex = 0;\r\n    this.elementHandle.classList.add('handle');\r\n    this.elementBar.appendChild(this.elementHandle);\r\n\r\n    this.element.addEventListener('mousedown', this._onMouseDown.bind(this), false);\r\n    this.element.addEventListener('touchstart', this._onTouchStart.bind(this), false);\r\n\r\n    this.evtTouchId = null;\r\n\r\n    this.on('change', this._onChange);\r\n\r\n    // arrows - change\r\n    this.element.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n\r\n  }\r\n\r\n\r\n  private evtMouseMove(evt: MouseEvent) {\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n\r\n    this._onSlideMove(evt.pageX);\r\n  };\r\n\r\n  private evtMouseUp(evt: MouseEvent) {\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n\r\n    this._onSlideEnd(evt.pageX);\r\n  };\r\n\r\n  private evtTouchMove(evt: TouchEvent) {\r\n    for (let i = 0; i < evt.changedTouches.length; i++) {\r\n      let touch = evt.changedTouches[i];\r\n\r\n      if (touch.identifier !== this.evtTouchId)\r\n        continue;\r\n\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n\r\n      this._onSlideMove(touch.pageX);\r\n      break;\r\n    }\r\n  };\r\n\r\n  private evtTouchEnd(evt: TouchEvent) {\r\n    for (let i = 0; i < evt.changedTouches.length; i++) {\r\n      let touch = evt.changedTouches[i];\r\n\r\n      if (touch.identifier !== this.evtTouchId)\r\n        continue;\r\n\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n\r\n      this._onSlideEnd(touch.pageX);\r\n      this.evtTouchId = null;\r\n      break;\r\n    }\r\n  };\r\n\r\n  private _onChange() {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n  private _onKeyDown(evt: KeyboardEvent) {\r\n    if (evt.keyCode === 27)\r\n      return this.elementHandle.blur();\r\n\r\n    if (this.disabled || [37, 39].indexOf(evt.keyCode) === -1)\r\n      return;\r\n\r\n    evt.stopPropagation();\r\n    evt.preventDefault();\r\n\r\n    let x = evt.keyCode === 37 ? -1 : 1;\r\n\r\n    if (evt.shiftKey)\r\n      x *= 10;\r\n\r\n    let rect = this.element!.getBoundingClientRect();\r\n    let step = (this._max - this._min) / rect.width;\r\n    let value = Math.max(this._min, Math.min(this._max, this.value + x * step));\r\n    value = parseFloat(value.toFixed(this.precision));\r\n\r\n    this.renderChanges = false;\r\n    this._updateHandle(value);\r\n    this.value = value;\r\n    this.renderChanges = true;\r\n  };\r\n\r\n  public _onLinkChange(value: number) {\r\n    this._updateHandle(value);\r\n    this._value = value;\r\n    this.emit('change', value || 0);\r\n  };\r\n\r\n  private _updateHandle(value: number) {\r\n    this.elementHandle.style.left = (Math.max(0, Math.min(1, ((value || 0) - this._min) / (this._max - this._min))) * 100) + '%';\r\n  };\r\n\r\n  private _onMouseDown(evt: MouseEvent) {\r\n    if (evt.button !== 0 || this.disabled)\r\n      return;\r\n\r\n    this._onSlideStart(evt.pageX);\r\n  };\r\n\r\n  private _onTouchStart(evt: TouchEvent) {\r\n    if (this.disabled)\r\n      return;\r\n\r\n    for (let i = 0; i < evt.changedTouches.length; i++) {\r\n      let touch = evt.changedTouches[i];\r\n      if (!(<HTMLElement>(touch.target)).ui || (<HTMLElement>(touch.target)).ui !== this)\r\n        continue;\r\n\r\n      this.evtTouchId = touch.identifier;\r\n      this._onSlideStart(touch.pageX);\r\n      break;\r\n    }\r\n  };\r\n\r\n  private _onSlideStart(pageX: number) {\r\n    this.elementHandle.focus();\r\n\r\n    this.renderChanges = false;\r\n\r\n    if (this.evtTouchId === null) {\r\n      window.addEventListener('mousemove', this.evtMouseMove.bind(this), false);\r\n      window.addEventListener('mouseup', this.evtMouseUp.bind(this), false);\r\n    } else {\r\n      window.addEventListener('touchmove', this.evtTouchMove.bind(this), false);\r\n      window.addEventListener('touchend', this.evtTouchEnd.bind(this), false);\r\n    }\r\n\r\n    this.class!.add('active');\r\n\r\n    this.emit('start', this.value);\r\n\r\n    this._onSlideMove(pageX);\r\n\r\n    if (this._link && this._link.history)\r\n      this._link.history.combine = true;\r\n  };\r\n\r\n  private _onSlideMove(pageX: number) {\r\n    let rect = this.element!.getBoundingClientRect();\r\n    let x = Math.max(0, Math.min(1, (pageX - rect.left) / rect.width));\r\n\r\n    let range = this._max - this._min;\r\n    let value = (x * range) + this._min;\r\n    value = parseFloat(value.toFixed(this.precision));\r\n\r\n    this._updateHandle(value);\r\n    this.value = value;\r\n  };\r\n\r\n  private _onSlideEnd(pageX: number) {\r\n    this._onSlideMove(pageX);\r\n\r\n    this.renderChanges = true;\r\n\r\n    this.class!.remove('active');\r\n\r\n    if (this.evtTouchId === null) {\r\n      window.removeEventListener('mousemove', this.evtMouseMove.bind(this));\r\n      window.removeEventListener('mouseup', this.evtMouseUp.bind(this));\r\n    } else {\r\n      window.removeEventListener('touchmove', this.evtTouchMove.bind(this));\r\n      window.removeEventListener('touchend', this.evtTouchEnd.bind(this));\r\n    }\r\n\r\n    if (this._link && this._link.history)\r\n      this._link.history.combine = false;\r\n\r\n    this.emit('end', this.value);\r\n  };\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport interface SliderArgs {\r\n  precision?: number;\r\n  min?: number;\r\n  max?: number;\r\n}","import { Element } from \"./element\";\r\n\r\nexport class TextField extends Element {\r\n\r\n  public elementInput: HTMLInputElement;\r\n\r\n  public evtKeyChange: boolean;\r\n  public ignoreChange: boolean;\r\n  public blurOnEnter: boolean;\r\n  public refocusable: boolean;\r\n\r\n\r\n  public get value(): string {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this.elementInput.value;\r\n    }\r\n  }\r\n  public set value(val: string) {\r\n    if (this._link) {\r\n      // TODO\r\n      // if (!this._link.set(this.path, value)) {\r\n      //   this.elementInput.value = this._link.get(this.path);\r\n      // }\r\n    } else {\r\n      if (this.elementInput.value === val)\r\n        return;\r\n\r\n      this.elementInput.value = val || '';\r\n      this.emit('change', val);\r\n    }\r\n  }\r\n\r\n\r\n  public get placeholder(): string {\r\n    return this.element!.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('placeholder');\r\n    } else {\r\n      this.element!.setAttribute('placeholder', val);\r\n    }\r\n  }\r\n\r\n  public get proxy(): string {\r\n    return this.element!.getAttribute('proxy') || '';\r\n  }\r\n  public set proxy(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('proxy');\r\n    } else {\r\n      this.element!.setAttribute('proxy', val);\r\n    }\r\n  }\r\n\r\n  public get keyChange(): boolean {\r\n    return this.evtKeyChange;\r\n  }\r\n  public set keyChange(val: boolean) {\r\n    if (this.evtKeyChange === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.elementInput.addEventListener('keyup', this._onChange.bind(this), false);\r\n    } else {\r\n      this.elementInput.removeEventListener('keyup', this._onChange.bind(this));\r\n    }\r\n  }\r\n\r\n\r\n  public constructor(placeholder?: string, value?: string) {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-text-field');\r\n\r\n    this.elementInput = document.createElement('input');\r\n    this.elementInput.ui = this;\r\n    this.elementInput.classList.add('field');\r\n    this.elementInput.type = 'text';\r\n    this.elementInput.tabIndex = 0;\r\n    this.elementInput.addEventListener('focus', this._onInputFocus.bind(this), false);\r\n    this.elementInput.addEventListener('blur', this._onInputBlur.bind(this), false);\r\n    this.element.appendChild(this.elementInput);\r\n\r\n    if (value !== undefined)\r\n      this.value = value;\r\n\r\n    this.elementInput.addEventListener('change', this._onChange.bind(this), false);\r\n    this.elementInput.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n    this.elementInput.addEventListener('contextmenu', this._onFullSelect.bind(this), false);\r\n    this.evtKeyChange = false;\r\n    this.ignoreChange = false;\r\n\r\n    this.blurOnEnter = true;\r\n    this.refocusable = true;\r\n\r\n    this.on('disable', this._onDisable);\r\n    this.on('enable', this._onEnable);\r\n    this.on('change', this._onChangeField);\r\n\r\n    if (placeholder)\r\n      this.placeholder = placeholder;\r\n\r\n  }\r\n\r\n  public _onLinkChange(value: string): void {\r\n    this.elementInput.value = value;\r\n    this.emit('change', value);\r\n  }\r\n\r\n  private _onChange(): void {\r\n    if (this.ignoreChange) return;\r\n\r\n    this.value = this.value || '';\r\n\r\n    if (!this._link)\r\n      this.emit('change', this.value);\r\n  }\r\n\r\n  private _onKeyDown(evt: KeyboardEvent) {\r\n    if (evt.keyCode === 27) {\r\n      (<HTMLInputElement>evt.target).blur();\r\n    } else if (this.blurOnEnter && evt.keyCode === 13) {\r\n      let focused: boolean = false;\r\n\r\n      let parent: Nullable<Element> = this.parent;\r\n      while (parent) {\r\n        if (parent.element && parent.element.focus) {\r\n          parent.element.focus();\r\n          focused = true;\r\n          break;\r\n        }\r\n        parent = parent.parent;\r\n      }\r\n\r\n      if (!focused)\r\n        (<HTMLElement>evt.target).blur();\r\n    }\r\n  }\r\n\r\n  private _onFullSelect(): void {\r\n    this.elementInput.select();\r\n  }\r\n\r\n  public focus(select?: boolean): void {\r\n    this.elementInput.focus();\r\n    if (select) this.elementInput.select();\r\n  }\r\n\r\n  private _onInputFocus(): void {\r\n    this.class!.add('focus');\r\n    this.emit('input:focus');\r\n  }\r\n\r\n  private _onInputBlur(): void {\r\n    this.class!.remove('focus');\r\n    this.emit('input:blur');\r\n  }\r\n\r\n  private _onDisable(): void {\r\n    this.elementInput.readOnly = true;\r\n  }\r\n\r\n  private _onEnable(): void {\r\n    this.elementInput.readOnly = false;\r\n  }\r\n\r\n  private _onChangeField(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  }\r\n\r\n}","import { Element } from \"./element\";\r\n\r\nexport class TextAreaField extends Element {\r\n\r\n  public elementInput: HTMLTextAreaElement;\r\n  public evtKeyChange: boolean;\r\n  public ignoreChange: boolean;\r\n  public blurOnEnter: boolean;\r\n  public refocusable: boolean;\r\n\r\n  public get value(): string {\r\n    if (this._link) {\r\n      return this._link.get(this.path);\r\n    } else {\r\n      return this.elementInput.value;\r\n    }\r\n  }\r\n  public set value(val: string) {\r\n    if (this._link) {\r\n      // TODO\r\n      // if (!this._link.set(this.path, value)) {\r\n      //   this.elementInput.value = this._link.get(this.path);\r\n      // }\r\n\r\n      this._link.set(this.path, val);\r\n      this.elementInput.value = this._link.get(this.path);\r\n    } else {\r\n      if (this.elementInput.value === val)\r\n        return;\r\n\r\n      this.elementInput.value = val || '';\r\n      this.emit('change', val);\r\n    }\r\n  }\r\n\r\n  public get placeholder(): string {\r\n    return this.element!.getAttribute('placeholder') || '';\r\n  }\r\n  public set placeholder(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('placeholder');\r\n    } else {\r\n      this.element!.setAttribute('placeholder', val);\r\n    }\r\n  }\r\n\r\n  public get keyChange(): boolean {\r\n    return this.evtKeyChange;\r\n  }\r\n  public set keyChange(val: boolean) {\r\n    if (this.evtKeyChange === !!val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.elementInput.addEventListener('keyup', this._onChange.bind(this), false);\r\n    } else {\r\n      this.elementInput.removeEventListener('keyup', this._onChange.bind(this));\r\n    }\r\n  }\r\n\r\n  public get proxy(): string {\r\n    return this.element!.getAttribute('proxy') || '';\r\n  }\r\n  public set proxy(val: string) {\r\n    if (!val) {\r\n      this.element!.removeAttribute('proxy');\r\n    } else {\r\n      this.element!.setAttribute('proxy', val);\r\n    }\r\n  }\r\n\r\n  public constructor(placeholder?: string, value?: string, blurOnEnter?: boolean) {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-textarea-field');\r\n\r\n    this.elementInput = document.createElement('textarea');\r\n    this.elementInput.ui = this;\r\n    this.elementInput.classList.add('field');\r\n    this.elementInput.tabIndex = 0;\r\n    this.elementInput.addEventListener('focus', this._onInputFocus.bind(this), false);\r\n    this.elementInput.addEventListener('blur', this._onInputBlur.bind(this), false);\r\n    this.element.appendChild(this.elementInput);\r\n\r\n    if (value !== undefined)\r\n      this.value = value;\r\n\r\n    this.elementInput.addEventListener('change', this._onChange.bind(this), false);\r\n    this.elementInput.addEventListener('keydown', this._onKeyDown.bind(this), false);\r\n    this.elementInput.addEventListener('contextmenu', this._onFullSelect.bind(this), false);\r\n    this.evtKeyChange = false;\r\n    this.ignoreChange = false;\r\n\r\n    this.blurOnEnter = blurOnEnter !== undefined ? blurOnEnter : true;\r\n    this.refocusable = true;\r\n\r\n    this.on('disable', this._onDisable);\r\n    this.on('enable', this._onEnable);\r\n    this.on('change', this._onChangeField);\r\n\r\n    if (placeholder)\r\n      this.placeholder = placeholder;\r\n\r\n  }\r\n\r\n  private _onChange(): void {\r\n    if (this.ignoreChange) return;\r\n\r\n    this.value = this.value || '';\r\n\r\n    if (!this._link)\r\n      this.emit('change', this.value);\r\n  }\r\n\r\n  private _onKeyDown(evt: KeyboardEvent): void {\r\n    if (evt.keyCode === 27) {\r\n      (<HTMLElement>evt.target).blur();\r\n    } else if (this.blurOnEnter && evt.keyCode === 13 && !evt.shiftKey) {\r\n      let focused: boolean = false;\r\n\r\n      let parent: Nullable<Element> = this.parent;\r\n      while (parent) {\r\n        if (parent.element && parent.element.focus) {\r\n          parent.element.focus();\r\n          focused = true;\r\n          break;\r\n        }\r\n        parent = parent.parent;\r\n      }\r\n\r\n      if (!focused)\r\n        (<HTMLElement>evt.target).blur();\r\n    }\r\n  }\r\n\r\n  private _onFullSelect(): void {\r\n    this.elementInput.select();\r\n  }\r\n\r\n  private _onInputFocus(): void {\r\n    this.class!.add('focus');\r\n    this.emit('input:focus');\r\n  }\r\n\r\n  private _onInputBlur(): void {\r\n    this.class!.remove('focus');\r\n    this.emit('input:blur');\r\n  }\r\n\r\n  private _onDisable(): void {\r\n    this.elementInput.readOnly = true;\r\n  }\r\n\r\n  private _onEnable() {\r\n    this.elementInput.readOnly = false;\r\n  }\r\n\r\n  private _onChangeField(): void {\r\n    if (!this.renderChanges)\r\n      return;\r\n\r\n    this.flash();\r\n  };\r\n\r\n  public focus(select: boolean) {\r\n    this.elementInput.focus();\r\n    if (select) this.elementInput.select();\r\n  }\r\n\r\n  public _onLinkChange(value: string) {\r\n    this.elementInput.value = value;\r\n    this.emit('change', value);\r\n  }\r\n\r\n\r\n\r\n}","import { ContainerElement } from \"./container-element\";\r\nimport { TopElementContainer } from \"./top\";\r\n\r\nexport class Tooltip extends ContainerElement {\r\n\r\n  public arrow: HTMLElement;\r\n  public hoverable: boolean;\r\n  public x: number;\r\n  public y: number;\r\n\r\n  private _align: string;\r\n  public get align(): string {\r\n    return this._align;\r\n  }\r\n  public set align(val: string) {\r\n    if (this._align === val)\r\n      return;\r\n\r\n    this.class!.remove('align-' + this._align);\r\n    this._align = val;\r\n    this.class!.add('align-' + this._align);\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public get html(): string {\r\n    return this.innerElement!.innerHTML;\r\n  }\r\n  public set html(val: string) {\r\n    if (this.innerElement!.innerHTML === val)\r\n      return;\r\n\r\n    this.innerElement!.innerHTML = val;\r\n  }\r\n\r\n  public get text(): string {\r\n    return this.innerElement!.textContent || '';\r\n  }\r\n  public set text(val: string) {\r\n    if (this.innerElement!.textContent === val)\r\n      return;\r\n\r\n    this.innerElement!.textContent = val;\r\n  }\r\n\r\n  public get flip(): boolean {\r\n    return this.class!.contains('flip');\r\n  }\r\n  public set flip(val: boolean) {\r\n    if (this.class!.contains('flip') === val)\r\n      return;\r\n\r\n    if (val) {\r\n      this.class!.add('flip');\r\n    } else {\r\n      this.class!.remove('flip');\r\n    }\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  public constructor(args?: TooltipArgs) {\r\n    super();\r\n    args = args || {};\r\n    let self = this;\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-tooltip', 'align-left');\r\n\r\n    this.innerElement = document.createElement('div');\r\n    this.innerElement.classList.add('inner');\r\n    this.element.appendChild(this.innerElement);\r\n\r\n    this.arrow = document.createElement('div');\r\n    this.arrow.classList.add('arrow');\r\n    this.element.appendChild(this.arrow);\r\n\r\n    this.hoverable = args.hoverable || false;\r\n    this.x = args.x || 0;\r\n    this.y = args.y || 0;\r\n    this._align = 'left';\r\n    this.align = args.align || 'left';\r\n\r\n    this.on('show', this._reflow);\r\n    this.hidden = args.hidden !== undefined ? args.hidden : true;\r\n    if (args.html) {\r\n      this.html = args.html;\r\n    } else {\r\n      this.text = args.text || '';\r\n    }\r\n\r\n    this.element.addEventListener('mouseover', this._onMouseOver.bind(this), false);\r\n    this.element.addEventListener('mouseleave', this._onMouseLeave.bind(this), false);\r\n\r\n  }\r\n\r\n  private _onMouseOver(evt: MouseEvent): void {\r\n    if (!this.hoverable)\r\n      return;\r\n\r\n    this.hidden = false;\r\n    this.emit('hover', evt);\r\n  }\r\n\r\n  private _onMouseLeave(): void {\r\n    if (!this.hoverable)\r\n      return;\r\n\r\n    this.hidden = true;\r\n  }\r\n\r\n  public position(x: number, y: number): void {\r\n    x = Math.floor(x);\r\n    y = Math.floor(y);\r\n\r\n    if (this.x === x && this.y === y)\r\n      return;\r\n\r\n    this.x = x;\r\n    this.y = y;\r\n\r\n    this._reflow();\r\n  }\r\n\r\n  private _reflow(): void {\r\n    if (this.hidden)\r\n      return;\r\n\r\n    this.element!.style.top = '';\r\n    this.element!.style.right = '';\r\n    this.element!.style.bottom = '';\r\n    this.element!.style.left = '';\r\n\r\n    this.arrow.style.top = '';\r\n    this.arrow.style.right = '';\r\n    this.arrow.style.bottom = '';\r\n    this.arrow.style.left = '';\r\n\r\n    this.element!.style.display = 'block';\r\n\r\n    // alignment\r\n    switch (this._align) {\r\n      case 'top':\r\n        this.element!.style.top = this.y + 'px';\r\n        if (this.flip) {\r\n          this.element!.style.right = 'calc(100% - ' + this.x + 'px)';\r\n        } else {\r\n          this.element!.style.left = this.x + 'px';\r\n        }\r\n        break;\r\n      case 'right':\r\n        this.element!.style.top = this.y + 'px';\r\n        this.element!.style.right = 'calc(100% - ' + this.x + 'px)';\r\n        break;\r\n      case 'bottom':\r\n        this.element!.style.bottom = 'calc(100% - ' + this.y + 'px)';\r\n        if (this.flip) {\r\n          this.element!.style.right = 'calc(100% - ' + this.x + 'px)';\r\n        } else {\r\n          this.element!.style.left = this.x + 'px';\r\n        }\r\n        break;\r\n      case 'left':\r\n        this.element!.style.top = this.y + 'px';\r\n        this.element!.style.left = this.x + 'px';\r\n        break;\r\n    }\r\n\r\n    // limit to screen bounds\r\n    let rect = this.element!.getBoundingClientRect();\r\n\r\n    if (rect.left < 0) {\r\n      this.element!.style.left = '0px';\r\n      this.element!.style.right = '';\r\n    }\r\n    if (rect.top < 0) {\r\n      this.element!.style.top = '0px';\r\n      this.element!.style.bottom = '';\r\n    }\r\n    if (rect.right > window.innerWidth) {\r\n      this.element!.style.right = '0px';\r\n      this.element!.style.left = '';\r\n      this.arrow.style.left = Math.floor(rect.right - window.innerWidth + 8) + 'px';\r\n    }\r\n    if (rect.bottom > window.innerHeight) {\r\n      this.element!.style.bottom = '0px';\r\n      this.element!.style.top = '';\r\n      this.arrow.style.top = Math.floor(rect.bottom - window.innerHeight + 8) + 'px';\r\n    }\r\n\r\n    this.element!.style.display = '';\r\n  }\r\n\r\n  public evtHover(): void {\r\n\r\n  }\r\n\r\n  public evtBlur(): void {\r\n\r\n  }\r\n\r\n\r\n  public static attach(args: TooltipArgs): Tooltip {\r\n    let data: TooltipArgs = {\r\n      align: args.align,\r\n      hoverable: args.hoverable\r\n    }\r\n\r\n    if (args.html) {\r\n      data.html = args.html;\r\n    } else {\r\n      data.text = args.text || '';\r\n    }\r\n\r\n    let item: Tooltip = new Tooltip(data);\r\n\r\n    item.evtHover = function () {\r\n      let rect = args.target!.getBoundingClientRect();\r\n      let off = 16;\r\n\r\n      switch (item.align) {\r\n        case 'top':\r\n          if (rect.width < 64) off = rect.width / 2;\r\n          item.flip = rect.left + off > window.innerWidth / 2;\r\n          if (item.flip) {\r\n            item.position(rect.right - off, rect.bottom);\r\n          } else {\r\n            item.position(rect.left + off, rect.bottom);\r\n          }\r\n          break;\r\n        case 'right':\r\n          if (rect.height < 64) off = rect.height / 2;\r\n          item.flip = false;\r\n          item.position(rect.left, rect.top + off);\r\n          break;\r\n        case 'bottom':\r\n          if (rect.width < 64) off = rect.width / 2;\r\n          item.flip = rect.left + off > window.innerWidth / 2;\r\n          if (item.flip) {\r\n            item.position(rect.right - off, rect.top);\r\n          } else {\r\n            item.position(rect.left + off, rect.top);\r\n          }\r\n          break;\r\n        case 'left':\r\n          if (rect.height < 64) off = rect.height / 2;\r\n          item.flip = false;\r\n          item.position(rect.right, rect.top + off);\r\n          break;\r\n      }\r\n\r\n      item.hidden = false;\r\n    };\r\n\r\n    item.evtBlur = function () {\r\n      item.hidden = true;\r\n    };\r\n\r\n    args.target!.addEventListener('mouseover', item.evtHover, false);\r\n    args.target!.addEventListener('mouseout', item.evtBlur, false);\r\n\r\n    item.on('destroy', function () {\r\n      args.target!.removeEventListener('mouseover', item.evtHover);\r\n      args.target!.removeEventListener('mouseout', item.evtBlur);\r\n    });\r\n\r\n    args.root!.append(item);\r\n\r\n    return item;\r\n  }\r\n\r\n\r\n  public attachReference(args: any): void {\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport interface TooltipArgs {\r\n\r\n  target?: HTMLElement;\r\n  text?: string;\r\n  align?: string;\r\n  root?: TopElementContainer;\r\n  hoverable?: boolean;\r\n  html?: string;\r\n  x?: number;\r\n  y?: number;\r\n  hidden?: boolean;\r\n\r\n}","export * from './top-element';\r\nexport * from './top-element-container';\r\nexport * from './top-element-panel';","import { TopElement } from \"./top-element\";\r\nimport { Element } from \"../element\";\r\n\r\nexport class TopElementContainer extends TopElement {\r\n\r\n\r\n    public RESIZE_HANDLE_SIZE = 4;\r\n\r\n    public VALID_RESIZABLE_VALUES = [\r\n        null,\r\n        'top',\r\n        'right',\r\n        'bottom',\r\n        'left'\r\n    ];\r\n\r\n    private _flex: boolean = false;\r\n    private _grid: boolean = false;\r\n    private _scrollable: boolean = false;\r\n    private _resizable: Nullable<string> = null;\r\n    private _resizeMin: number = 0;\r\n    private _resizeMax: number = 0;\r\n\r\n    private _domContent: Nullable<HTMLElement> = null;\r\n\r\n    private _domEventScroll: any;\r\n    private _domResizeHandle: any;\r\n    private _resizeHorizontally: boolean;\r\n\r\n    private _domEventResizeStart: any;\r\n    private _domEventResizeMove: any;\r\n    private _domEventResizeEnd: any;\r\n    private _domEventResizeTouchStart: any;\r\n    private _domEventResizeTouchMove: any;\r\n    private _domEventResizeTouchEnd: any;\r\n    private _resizeTouchId: any;\r\n    private _resizeData: any;\r\n\r\n\r\n    public get flex(): boolean {\r\n        return this._flex;\r\n    }\r\n    public set flex(value: boolean) {\r\n        if (value === this._flex) return;\r\n\r\n        this._flex = value;\r\n\r\n        if (value) {\r\n            this.class!.add('pcui-flex');\r\n        } else {\r\n            this.class!.remove('pcui-flex');\r\n        }\r\n    }\r\n\r\n    public get grid(): boolean {\r\n        return this._grid;\r\n    }\r\n    public set grid(value: boolean) {\r\n        if (value === this._grid) return;\r\n\r\n        this._grid = value;\r\n\r\n        if (value) {\r\n            this.class!.add('pcui-grid');\r\n        } else {\r\n            this.class!.remove('pcui-grid');\r\n        }\r\n    }\r\n\r\n    public get scrollable(): boolean {\r\n        return this._scrollable;\r\n    }\r\n    public set scrollable(value: boolean) {\r\n        if (value === this._scrollable) return;\r\n\r\n        this._scrollable = value;\r\n\r\n        if (value) {\r\n            this.class!.add('pcui-scrollable');\r\n        } else {\r\n            this.class!.remove('pcui-scrollable');\r\n        }\r\n    }\r\n\r\n    public get resizable(): Nullable<string> {\r\n        return this._resizable;\r\n    }\r\n    public set resizable(value: Nullable<string>) {\r\n        if (value === this._resizable) return;\r\n\r\n        if (this.VALID_RESIZABLE_VALUES.indexOf(value) === -1) {\r\n            console.error('Invalid resizable value: must be one of ' + this.VALID_RESIZABLE_VALUES.join(','));\r\n            return;\r\n        }\r\n\r\n        // remove old class\r\n        if (this._resizable) {\r\n            this.class!.remove('pcui-resizable-' + this._resizable);\r\n        }\r\n\r\n        this._resizable = value;\r\n        this._resizeHorizontally = (value === 'right' || value === 'left');\r\n\r\n        if (value) {\r\n            // add resize class and create / append resize handle\r\n            this.class!.add('pcui-resizable');\r\n            this.class!.add('pcui-resizable-' + value);\r\n\r\n            if (!this._domResizeHandle) {\r\n                this._createResizeHandle();\r\n            }\r\n            this.dom!.appendChild(this._domResizeHandle);\r\n        } else {\r\n            // remove resize class and resize handle\r\n            this.class!.remove('pcui-resizable');\r\n            if (this._domResizeHandle) {\r\n                this.dom!.removeChild(this._domResizeHandle);\r\n            }\r\n        }\r\n    }\r\n\r\n    public get resizeMin(): number {\r\n        return this._resizeMin;\r\n    }\r\n    public set resizeMin(value: number) {\r\n        this._resizeMin = Math.max(0, Math.min(value, this._resizeMax));\r\n    }\r\n\r\n    public get resizeMax(): number {\r\n        return this._resizeMax;\r\n    }\r\n    public set resizeMax(value: number) {\r\n        this._resizeMax = Math.max(this._resizeMin, value);\r\n    }\r\n\r\n    public get domContent(): Nullable<HTMLElement> {\r\n        return this._domContent;\r\n    }\r\n    public set domContent(value: Nullable<HTMLElement>) {\r\n        if (this._domContent === value) return;\r\n\r\n        if (this._domContent) {\r\n            this._domContent.removeEventListener('scroll', this._domEventScroll);\r\n        }\r\n\r\n        this._domContent = value;\r\n\r\n        if (this._domContent) {\r\n            this._domContent.addEventListener('scroll', this._domEventScroll);\r\n        }\r\n    }\r\n\r\n    public get innerElement(): Nullable<HTMLElement> {\r\n        return this.domContent;\r\n    }\r\n    public set innerElement(value: Nullable<HTMLElement>) {\r\n        this.domContent = value;\r\n    }\r\n\r\n\r\n    public constructor(args: any) {\r\n        super(document.createElement('div'), args);\r\n\r\n        if (!args) args = {}\r\n\r\n        var dom = this.dom!;\r\n        dom.classList.add('pcui-container');\r\n\r\n        this._domEventScroll = this._onScroll.bind(this);\r\n        this.domContent = dom;\r\n\r\n        // pcui.Element.call(this, dom, args);\r\n        // pcui.IContainer.call(this);\r\n        // pcui.IFlex.call(this);\r\n        // pcui.IGrid.call(this);\r\n        // pcui.IScrollable.call(this);\r\n        // pcui.IResizable.call(this);\r\n\r\n        // scroll\r\n        this.scrollable = args.scrollable !== undefined ? args.scrollable : false;\r\n\r\n        // flex\r\n        this.flex = !!args.flex;\r\n\r\n        // grid\r\n        var grid = !!args.grid;\r\n        if (grid) {\r\n            if (this.flex) {\r\n                console.error('Invalid pcui.Container arguments: \"grid\" and \"flex\" cannot both be true.');\r\n                grid = false;\r\n            }\r\n        }\r\n        this.grid = grid;\r\n\r\n        // resize related\r\n        this._domResizeHandle = null;\r\n        this._domEventResizeStart = this._onResizeStart.bind(this);\r\n        this._domEventResizeMove = this._onResizeMove.bind(this);\r\n        this._domEventResizeEnd = this._onResizeEnd.bind(this);\r\n        this._domEventResizeTouchStart = this._onResizeTouchStart.bind(this);\r\n        this._domEventResizeTouchMove = this._onResizeTouchMove.bind(this);\r\n        this._domEventResizeTouchEnd = this._onResizeTouchEnd.bind(this);\r\n        this._resizeTouchId = null;\r\n        this._resizeData = null;\r\n        this._resizeHorizontally = true;\r\n\r\n        this.resizable = args.resizable || null;\r\n        this._resizeMin = 100;\r\n        this._resizeMax = 300;\r\n\r\n        if (args.resizeMin !== undefined) {\r\n            this.resizeMin = args.resizeMin;\r\n        }\r\n        if (args.resizeMax !== undefined) {\r\n            this.resizeMax = args.resizeMax;\r\n        }\r\n\r\n    }\r\n\r\n    public append(element: HTMLElement | TopElement | Element) {\r\n        var dom = this._getDomFromElement(element);\r\n        this._domContent!.appendChild(dom);\r\n        this._onAppendChild(element);\r\n    };\r\n\r\n    public appendBefore(element: HTMLElement | TopElement | Element, referenceElement: HTMLElement | TopElement | Element) {\r\n        var dom = this._getDomFromElement(element);\r\n        this._domContent!.appendChild(dom);\r\n        var referenceDom = referenceElement && this._getDomFromElement(referenceElement);\r\n\r\n        if ((referenceDom)) {\r\n            this._domContent!.insertBefore(dom, referenceDom);\r\n        } else {\r\n            this._domContent!.appendChild(dom);\r\n        }\r\n\r\n        this._onAppendChild(element);\r\n    };\r\n\r\n    public appendAfter(element: HTMLElement | TopElement | Element, referenceElement: HTMLElement | TopElement | Element) {\r\n        var dom = this._getDomFromElement(element);\r\n        var referenceDom = referenceElement && this._getDomFromElement(referenceElement);\r\n\r\n        var elementBefore = referenceDom ? referenceDom.nextSibling : null;\r\n        if (elementBefore) {\r\n            this._domContent!.insertBefore(dom, elementBefore);\r\n        } else {\r\n            this._domContent!.appendChild(dom);\r\n        }\r\n\r\n        this._onAppendChild(element);\r\n    };\r\n\r\n    public prepend(element: HTMLElement | TopElement | Element) {\r\n        var dom = this._getDomFromElement(element);\r\n        var first = this._domContent!.firstChild;\r\n        if (first) {\r\n            this._domContent!.insertBefore(dom, first);\r\n        } else {\r\n            this._domContent!.appendChild(dom);\r\n        }\r\n\r\n        this._onAppendChild(element);\r\n    };\r\n\r\n    public remove(element: HTMLElement | TopElement | Element) {\r\n        let html: boolean = (element instanceof HTMLElement);\r\n        if (!html && (<TopElement>element).parent !== this) return;\r\n        var dom = this._getDomFromElement(element);\r\n        this._domContent!.removeChild(dom);\r\n        if (!html)\r\n            (<TopElement>element).parent = null;\r\n        this.emit('remove', element);\r\n    };\r\n\r\n    public clear() {\r\n        if (this._domContent) {\r\n            var i = this._domContent.childNodes.length;\r\n            while (i--) {\r\n                var node = this._domContent.childNodes[i];\r\n                if ((<HTMLElement>node).ui) {\r\n                    (<HTMLElement>node).ui.destroy();\r\n                }\r\n            }\r\n\r\n            this._domContent.innerHTML = '';\r\n        }\r\n    };\r\n\r\n    private _getDomFromElement(element: HTMLElement | TopElement | Element) {\r\n        if (element instanceof HTMLElement)\r\n            return element;\r\n        else if (element instanceof TopElement)\r\n            return (<TopElement>element).dom!;\r\n        else\r\n            return (<Element>element).element!;\r\n        // if (element.dom) {\r\n        //     return element.dom;\r\n        // }\r\n        // if (element.element) {\r\n        //     // console.log('Legacy ui.Element passed to pcui.Container', this.class, element.class);\r\n        //     return element.element;\r\n        // }\r\n        // return element;\r\n    };\r\n\r\n    private _onAppendChild(element: HTMLElement | TopElement | Element) {\r\n        if (element instanceof TopElement)\r\n            (<TopElement>element).parent = this;\r\n        this.emit('append', element);\r\n    };\r\n\r\n    private _onScroll(evt: MouseEvent) {\r\n        this.emit('scroll', evt);\r\n    };\r\n\r\n    private _createResizeHandle() {\r\n        var handle = document.createElement('div');\r\n        handle.classList.add('pcui-resizable-handle');\r\n        handle.ui = this;\r\n\r\n        handle.addEventListener('mousedown', this._domEventResizeStart);\r\n        handle.addEventListener('touchstart', this._domEventResizeTouchStart);\r\n\r\n        this._domResizeHandle = handle;\r\n    };\r\n\r\n    private _onResizeStart(evt: MouseEvent) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n\r\n        window.addEventListener('mousemove', this._domEventResizeMove);\r\n        window.addEventListener('mouseup', this._domEventResizeEnd);\r\n\r\n        this._resizeStart();\r\n    };\r\n\r\n    private _onResizeMove(evt: MouseEvent) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n\r\n        this._resizeMove(evt.clientX, evt.clientY);\r\n    };\r\n\r\n    private _onResizeEnd(evt: MouseEvent) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n\r\n        window.removeEventListener('mousemove', this._domEventResizeMove);\r\n        window.removeEventListener('mouseup', this._domEventResizeEnd);\r\n\r\n        this._resizeEnd();\r\n    };\r\n\r\n    private _onResizeTouchStart(evt: TouchEvent) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n\r\n        for (var i = 0; i < evt.changedTouches.length; i++) {\r\n            var touch = evt.changedTouches[i];\r\n            if (touch.target === this._domResizeHandle) {\r\n                this._resizeTouchId = touch.identifier;\r\n            }\r\n        }\r\n\r\n        window.addEventListener('touchmove', this._domEventResizeTouchMove);\r\n        window.addEventListener('touchend', this._domEventResizeTouchEnd);\r\n\r\n        this._resizeStart();\r\n    };\r\n\r\n    private _onResizeTouchMove(evt: TouchEvent) {\r\n        for (var i = 0; i < evt.changedTouches.length; i++) {\r\n            var touch = evt.changedTouches[i];\r\n            if (touch.identifier !== this._resizeTouchId) {\r\n                continue;\r\n            }\r\n\r\n            evt.stopPropagation();\r\n            evt.preventDefault();\r\n\r\n            this._resizeMove(touch.clientX, touch.clientY);\r\n\r\n            break;\r\n        }\r\n    };\r\n\r\n    private _onResizeTouchEnd(evt: TouchEvent) {\r\n        for (var i = 0; i < evt.changedTouches.length; i++) {\r\n            var touch = evt.changedTouches[i];\r\n            if (touch.identifier === this._resizeTouchId) {\r\n                continue;\r\n            }\r\n\r\n            this._resizeTouchId = null;\r\n\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n\r\n            window.removeEventListener('touchmove', this._domEventResizeTouchMove);\r\n            window.removeEventListener('touchend', this._domEventResizeTouchEnd);\r\n\r\n            this._resizeEnd();\r\n\r\n            break;\r\n        }\r\n    };\r\n\r\n    private _resizeStart() {\r\n        this.class!.add('pcui-resizable-resizing');\r\n    };\r\n\r\n    private _resizeMove(x: number, y: number) {\r\n        // if we haven't initialized resizeData do so now\r\n        if (!this._resizeData) {\r\n            this._resizeData = {\r\n                x: x,\r\n                y: y,\r\n                width: this.dom!.clientWidth,\r\n                height: this.dom!.clientHeight\r\n            };\r\n\r\n            return;\r\n        }\r\n\r\n        if (this._resizeHorizontally) {\r\n            // horizontal resizing\r\n            var offsetX = this._resizeData.x - x;\r\n\r\n            if (this._resizable === 'right') {\r\n                offsetX = -offsetX;\r\n            }\r\n\r\n            this.width = this.RESIZE_HANDLE_SIZE + Math.max(this._resizeMin, Math.min(this._resizeMax, (this._resizeData.width + offsetX)));\r\n        } else {\r\n            // vertical resizing\r\n            var offsetY = this._resizeData.y - y;\r\n\r\n            if (this._resizable === 'bottom') {\r\n                offsetY = -offsetY;\r\n            }\r\n\r\n            this.height = Math.max(this._resizeMin, Math.min(this._resizeMax, (this._resizeData.height + offsetY)));\r\n        }\r\n\r\n        this.emit('resize');\r\n    };\r\n\r\n    private _resizeEnd() {\r\n        this._resizeData = null;\r\n        this.class!.remove('pcui-resizable-resizing');\r\n    };\r\n\r\n    public destroy() {\r\n        this.domContent = null;\r\n\r\n        if (this._domResizeHandle) {\r\n            this._domResizeHandle.removeEventListener('mousedown', this._domEventResizeStart);\r\n            window.removeEventListener('mousemove', this._domEventResizeMove);\r\n            window.removeEventListener('mouseup', this._domEventResizeEnd);\r\n\r\n            this._domResizeHandle.removeEventListener('touchstart', this._domEventResizeTouchStart);\r\n            window.removeEventListener('touchmove', this._domEventResizeTouchMove);\r\n            window.removeEventListener('touchend', this._domEventResizeTouchEnd);\r\n        }\r\n\r\n        this._domResizeHandle = null;\r\n        this._domEventResizeStart = null;\r\n        this._domEventResizeMove = null;\r\n        this._domEventResizeEnd = null;\r\n        this._domEventResizeTouchStart = null;\r\n        this._domEventResizeTouchMove = null;\r\n        this._domEventResizeTouchEnd = null;\r\n\r\n        super.destroy.call(this);\r\n    };\r\n\r\n\r\n\r\n}","import { TopElementContainer } from \"./top-element-container\";\r\n\r\nexport class TopElementPanel extends TopElementContainer {\r\n\r\n    private _suspendReflow: boolean;\r\n\r\n    private _containerHeader: TopElementContainer;\r\n    private _domHeaderTitle: HTMLElement;\r\n    private _headerSize: number = 0\r\n\r\n    private _containerContent: TopElementContainer;\r\n\r\n    private _collapsible: boolean = false;\r\n    private _collapsed: boolean = false;\r\n    private _collapseHorizontally: boolean = false;\r\n\r\n    private _reflowTimeout: Nullable<number> = null;\r\n    private _widthBeforeCollapse: Nullable<number> = null;\r\n    private _heightBeforeCollapse: Nullable<number> = null;\r\n\r\n    private _evtAppend: Nullable<EventHandle>;\r\n    private _evtRemove: Nullable<EventHandle>;\r\n\r\n\r\n    public get collapsible(): boolean {\r\n        return this._collapsible;\r\n    }\r\n    public set collapsible(value: boolean) {\r\n        if (value === this._collapsible) return;\r\n\r\n        this._collapsible = value;\r\n\r\n        if (this._evtAppend) {\r\n            this._evtAppend.unbind();\r\n            this._evtAppend = null;\r\n        }\r\n\r\n        if (this._evtRemove) {\r\n            this._evtRemove.unbind();\r\n            this._evtRemove = null;\r\n        }\r\n\r\n        if (value) {\r\n            // listen to append / remove events so we can change our height\r\n            var onChange = this._onChildrenChange.bind(this);\r\n            this._evtAppend = this._containerContent.on('append', onChange);\r\n            this._evtRemove = this._containerContent.on('remove', onChange);\r\n\r\n            this.class!.add('pcui-collapsible');\r\n        } else {\r\n            this.class!.remove('pcui-collapsible');\r\n        }\r\n\r\n        this._reflow();\r\n\r\n        if (this.collapsed) {\r\n            this.emit(value ? 'collapse' : 'expand');\r\n        }\r\n    }\r\n\r\n    public get collapsed(): boolean {\r\n        return this._collapsed;\r\n    }\r\n    public set collapsed(value: boolean) {\r\n        if (this._collapsed === value) return;\r\n\r\n        this._collapsed = value;\r\n\r\n        if (value) {\r\n            this.class!.add('pcui-collapsed');\r\n        } else {\r\n            this.class!.remove('pcui-collapsed');\r\n        }\r\n\r\n        this._reflow();\r\n\r\n        if (this.collapsible) {\r\n            this.emit(value ? 'collapse' : 'expand');\r\n        }\r\n    }\r\n\r\n    public get collapseHorizontally(): boolean {\r\n        return this._collapseHorizontally;\r\n    }\r\n    public set collapseHorizontally(value: boolean) {\r\n        if (this._collapseHorizontally === value) return;\r\n\r\n        this._collapseHorizontally = value;\r\n        if (value) {\r\n            this.class!.add('pcui-panel-horizontal');\r\n        } else {\r\n            this.class!.remove('pcui-panel-horizontal');\r\n        }\r\n\r\n        this._reflow();\r\n    }\r\n\r\n    public get content(): TopElementContainer {\r\n        return this._containerContent;\r\n    }\r\n\r\n    public get header(): TopElementContainer {\r\n        return this._containerHeader;\r\n    }\r\n\r\n    public get headerText(): string {\r\n        return this._domHeaderTitle.textContent || '';\r\n    }\r\n    public set headerText(value: string) {\r\n        this._domHeaderTitle.textContent = value;\r\n    }\r\n\r\n    public get headerSize(): number {\r\n        return this._headerSize;\r\n    }\r\n    public set headerSize(value: number) {\r\n        this._headerSize = value;\r\n        let style = this._containerHeader.dom!.style;\r\n        style.height = Math.max(0, value) + 'px';\r\n        style.lineHeight = style.height;\r\n        this._reflow();\r\n    }\r\n\r\n\r\n\r\n    public constructor(args: any) {\r\n        super(args);\r\n\r\n        if (!args) args = {};\r\n\r\n        var panelArgs = Object.assign({}, args);\r\n        panelArgs.flex = true;\r\n        delete panelArgs.flexDirection;\r\n        delete panelArgs.scrollable;\r\n\r\n        this.class!.add('pcui-panel');\r\n\r\n        if (args.panelType) {\r\n            this.class!.add('pcui-panel-' + args.panelType);\r\n        }\r\n\r\n        // do not call reflow on every update while\r\n        // we are initializing\r\n        this._suspendReflow = true;\r\n\r\n        // initialize header container\r\n        // this._initializeHeader(args);\r\n        // header container\r\n        this._containerHeader = new TopElementContainer({\r\n            flex: true,\r\n            flexDirection: 'row'\r\n        });\r\n        this._containerHeader.class!.add('pcui-panel-header');\r\n\r\n        // header title\r\n        this._domHeaderTitle = document.createElement('span');\r\n        this._domHeaderTitle.textContent = args.headerText || '';\r\n        this._domHeaderTitle.classList.add('pcui-panel-header-title');\r\n        this._domHeaderTitle.ui = this._containerHeader;\r\n        this._containerHeader.dom!.appendChild(this._domHeaderTitle);\r\n\r\n        // use native click listener because the pcui.Element#click event is only fired\r\n        // if the element is enabled. However we still want to catch header click events in order\r\n        // to collapse them\r\n        this._containerHeader.dom!.addEventListener('click', this._onHeaderClick.bind(this));\r\n\r\n        this.append(this._containerHeader);\r\n\r\n        // initialize content container\r\n        // this._initializeContent(args);\r\n        this._containerContent = new TopElementContainer({\r\n            flex: args.flex,\r\n            flexDirection: args.flexDirection,\r\n            scrollable: args.scrollable\r\n        });\r\n        this._containerContent.class!.add('pcui-panel-content');\r\n        this._containerContent.style.height = '100%';\r\n\r\n        this.appendAfter(this._containerContent, this._containerHeader);\r\n\r\n        // event handlers\r\n        this._evtAppend = null;\r\n        this._evtRemove = null;\r\n\r\n        // header size\r\n        this.headerSize = args.headerSize !== undefined ? args.headerSize : 32;\r\n\r\n        // collapse related\r\n        this._reflowTimeout = null;\r\n        this._widthBeforeCollapse = null;\r\n        this._heightBeforeCollapse = null;\r\n\r\n        // if we initialize the panel collapsed\r\n        // then use the width / height passed in the arguments\r\n        // as the size to expand to\r\n        if (args.collapsed) {\r\n            if (args.width) {\r\n                this._widthBeforeCollapse = args.width;\r\n            }\r\n            if (args.height) {\r\n                this._heightBeforeCollapse = args.height;\r\n            }\r\n        }\r\n\r\n        this.collapsible = args.collapsible || false;\r\n        this.collapsed = args.collapsed || false;\r\n        this.collapseHorizontally = args.collapseHorizontally || false;\r\n\r\n        // set the contents container to be the content DOM element\r\n        // from now on calling append functions on the panel will append themn\r\n        // elements to the contents container\r\n        this.domContent = this._containerContent.dom;\r\n\r\n        // execute reflow now after all fields have been initialized\r\n        this._suspendReflow = false;\r\n        this._reflow();\r\n\r\n    }\r\n\r\n\r\n    private _onHeaderClick(evt: MouseEvent) {\r\n        if (!this._collapsible) return;\r\n        if (evt.target !== this.header.dom && evt.target !== this._domHeaderTitle) return;\r\n        // toggle collapsed\r\n        this.collapsed = !this.collapsed;\r\n    };\r\n\r\n    private _onChildrenChange() {\r\n        if (!this.collapsible || this.collapsed || this._collapseHorizontally || this.hidden) {\r\n            return;\r\n        }\r\n        this.height = this.headerSize + this._containerContent.dom!.clientHeight;\r\n    };\r\n\r\n    // Collapses or expands the panel as needed\r\n    private _reflow() {\r\n        let self = this;\r\n\r\n        if (this._suspendReflow) {\r\n            return;\r\n        }\r\n\r\n        if (this._reflowTimeout) {\r\n            cancelAnimationFrame(this._reflowTimeout);\r\n            this._reflowTimeout = null;\r\n        }\r\n\r\n        if (this.hidden || !this.collapsible) return;\r\n\r\n        if (this.collapsed && this.collapseHorizontally) {\r\n            this._containerHeader.style.top = -this.headerSize + 'px';\r\n        } else {\r\n            this._containerHeader.style.top = '';\r\n        }\r\n\r\n        // we rely on the content width / height and we have to\r\n        // wait for 1 frame before we can get the final values back\r\n        this._reflowTimeout = requestAnimationFrame(function () {\r\n            self._reflowTimeout = null;\r\n\r\n            if (self.collapsed) {\r\n                // remember size before collapse\r\n                if (!self._widthBeforeCollapse) {\r\n                    self._widthBeforeCollapse = self.dom!.clientWidth;\r\n                }\r\n                if (!self._heightBeforeCollapse) {\r\n                    self._heightBeforeCollapse = self.dom!.clientHeight;\r\n                }\r\n\r\n                if (self._collapseHorizontally) {\r\n                    self.height = '';\r\n                    self.width = self.headerSize;\r\n                } else {\r\n                    self.height = self.headerSize;\r\n                }\r\n            } else {\r\n                if (self._collapseHorizontally) {\r\n                    self.height = '';\r\n                    if (self._widthBeforeCollapse !== null) {\r\n                        self.width = self._widthBeforeCollapse;\r\n                    }\r\n                } else {\r\n                    if (self._heightBeforeCollapse !== null) {\r\n                        self.height = self._heightBeforeCollapse;\r\n                    }\r\n                }\r\n\r\n                // reset before collapse vars\r\n                self._widthBeforeCollapse = null;\r\n                self._heightBeforeCollapse = null;\r\n            }\r\n        }.bind(self));\r\n    };\r\n\r\n    public destroy() {\r\n        if (this._reflowTimeout) {\r\n            cancelAnimationFrame(this._reflowTimeout);\r\n            this._reflowTimeout = null;\r\n        }\r\n\r\n        super.destroy.call(this);\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n}","import { Events } from \"../../lib\";\r\n\r\nexport class TopElement extends Events {\r\n\r\n    public SIMPLE_CSS_PROPERTIES: {[key: string]: string} = {\r\n        'flexDirection': 'flex-direction',\r\n        'flexGrow': 'flex-grow',\r\n        'flexBasis': 'flex-basis',\r\n        'flexShrink': 'flex-shrink',\r\n        'flexWrap': 'flex-wrap',\r\n        'alignItems': 'align-items',\r\n        'justifyContent': 'justify-content'\r\n    };\r\n\r\n    private _destroyed = false;\r\n    private _enabled = true;\r\n    private _hidden = false;\r\n    private _parent: Nullable<TopElement> = null;\r\n\r\n    private _domEventClick: any;\r\n    private _domEventMouseOver: any;\r\n    private _domEventMouseOut: any;\r\n\r\n    private _evtParentDestroy: Nullable<EventHandle> = null;\r\n    private _evtParentDisable: Nullable<EventHandle> = null;\r\n    private _evtParentEnable: Nullable<EventHandle> = null;\r\n\r\n    private _dom: Nullable<HTMLElement>;\r\n    // private domContent: Nullable<HTMLElement> = null;\r\n\r\n\r\n    public get enabled(): boolean {\r\n        return this._enabled && (!this._parent || this._parent.enabled);\r\n    }\r\n    public set enabled(value: boolean) {\r\n        if (this._enabled === value) return;\r\n\r\n        // remember if enabled in hierarchy\r\n        let enabled = this.enabled;\r\n\r\n        this._enabled = value;\r\n\r\n        // only fire event if hierarchy state changed\r\n        if (enabled !== value) {\r\n            this._onEnabledChange(value);\r\n        }\r\n    }\r\n\r\n    public get dom(): Nullable<HTMLElement> {\r\n        return this._dom;\r\n    }\r\n    public set dom(value: Nullable<HTMLElement>) {\r\n        this._dom = value;\r\n    }\r\n\r\n    public get parent(): Nullable<TopElement> {\r\n        return this._parent;\r\n    }\r\n    public set parent(value: Nullable<TopElement>) {\r\n        if (value === this._parent) return;\r\n\r\n        var oldEnabled = this.enabled;\r\n\r\n        if (this._parent) {\r\n            this._evtParentDestroy!.unbind();\r\n            this._evtParentDisable!.unbind();\r\n            this._evtParentEnable!.unbind();\r\n        }\r\n\r\n        this._parent = value;\r\n\r\n        if (this._parent) {\r\n            this._evtParentDestroy = this._parent.once('destroy', this._onParentDestroy.bind(this));\r\n            this._evtParentDisable = this._parent.on('disable', this._onParentDisable.bind(this));\r\n            this._evtParentEnable = this._parent.on('enable', this._onParentEnable.bind(this));\r\n        }\r\n\r\n        this.emit('parent', this._parent);\r\n\r\n        var newEnabled = this.enabled;\r\n        if (newEnabled !== oldEnabled) {\r\n            this._onEnabledChange(newEnabled);\r\n        }\r\n    }\r\n\r\n    public get hidden(): boolean {\r\n        return this._hidden;\r\n    }\r\n    public set hidden(value: boolean) {\r\n        if (value === this._hidden) return;\r\n\r\n        this._hidden = value;\r\n\r\n        if (value) {\r\n            this.class!.add('pcui-hidden');\r\n        } else {\r\n            this.class!.remove('pcui-hidden');\r\n        }\r\n\r\n        this.emit(value ? 'hide' : 'show');\r\n    }\r\n\r\n    public get style(): CSSStyleDeclaration {\r\n        return this._dom!.style;\r\n    }\r\n\r\n    public get class(): Nullable<DOMTokenList> {\r\n        return this._dom!.classList;\r\n    }\r\n\r\n    public get width(): number | string {\r\n        return this._dom!.clientWidth;\r\n    }\r\n    public set width(value: number | string) {\r\n        if (typeof value === 'number') {\r\n            value = value.toString() + 'px';\r\n        }\r\n        this.style.width = value;\r\n    }\r\n\r\n    public get height(): number | string {\r\n        return this._dom!.clientHeight;\r\n    }\r\n    public set height(value: number | string) {\r\n        if (typeof value === 'number') {\r\n            value = value.toString() + 'px';\r\n        }\r\n        this.style.height = value;\r\n    }\r\n\r\n    public get disabled(): boolean {\r\n        return !this.enabled;\r\n    }\r\n    public set disabled(value: boolean) {\r\n        this.enabled = !value;\r\n    }\r\n\r\n\r\n    public get element(): Nullable<HTMLElement> {\r\n        return this.dom;\r\n    }\r\n    public set element(value: Nullable<HTMLElement>) {\r\n        this.dom = value;\r\n    }\r\n\r\n    // public get innerElement(): Nullable<HTMLElement> {\r\n    //     return this.domContent;\r\n    // }\r\n    // public set innerElement(value: Nullable<HTMLElement>) {\r\n    //     this.domContent = value;\r\n    // }\r\n\r\n\r\n\r\n    public constructor(dom: HTMLElement, args: any) {\r\n        super();\r\n\r\n        if (!args) args = {};\r\n\r\n        this._destroyed = false;\r\n        this._enabled = true;\r\n        this._hidden = false;\r\n        this._parent = null;\r\n\r\n        this._domEventClick = this._onClick.bind(this);\r\n        this._domEventMouseOver = this._onMouseOver.bind(this);\r\n        this._domEventMouseOut = this._onMouseOut.bind(this);\r\n\r\n        this._evtParentDestroy = null;\r\n        this._evtParentDisable = null;\r\n        this._evtParentEnable = null;\r\n\r\n        this._dom = dom;\r\n\r\n        if (args.id !== undefined) {\r\n            this._dom.id = args.id;\r\n        }\r\n\r\n        // add ui reference\r\n        this._dom.ui = this;\r\n\r\n        // add event listeners\r\n        this._dom.addEventListener('click', this._domEventClick);\r\n        this._dom.addEventListener('mouseover', this._domEventMouseOver);\r\n        this._dom.addEventListener('mouseout', this._domEventMouseOut);\r\n\r\n        // add element class\r\n        this._dom.classList.add('pcui-element');\r\n\r\n        if (args.enabled !== undefined) {\r\n            this.enabled = args.enabled;\r\n        }\r\n        if (args.hidden !== undefined) {\r\n            this.hidden = args.hidden;\r\n        }\r\n        if (args.width !== undefined) {\r\n            this.width = args.width;\r\n        }\r\n        if (args.height !== undefined) {\r\n            this.height = args.height;\r\n        }\r\n\r\n        // copy CSS properties from args\r\n        for (var key in args) {\r\n            if (args[key] === undefined) continue;\r\n            if (this.SIMPLE_CSS_PROPERTIES[key] !== null) {\r\n                this.style.setProperty(this.SIMPLE_CSS_PROPERTIES[key], args[key]);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public exposeCssProperty(name: string) {\r\n        Object.defineProperty(TopElement.prototype, name, {\r\n            get: function () {\r\n                return this.style[name];\r\n            },\r\n            set: function (value) {\r\n                this.style[name] = value;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public link(observer: any, path: any) {\r\n        throw new Error('Not implemented');\r\n    };\r\n\r\n    public unlink() {\r\n        throw new Error('Not implemented');\r\n    };\r\n\r\n    public flash() {\r\n        let self = this;\r\n        this.class!.add('flash');\r\n        setTimeout(function () {\r\n            self.class!.remove('flash');\r\n        }.bind(self), 200);\r\n    };\r\n\r\n    private _onClick(evt: MouseEvent) {\r\n        if (this.enabled) {\r\n            this.emit('click', evt);\r\n        }\r\n    };\r\n\r\n    private _onMouseOver(evt: MouseEvent) {\r\n        this.emit('hover', evt);\r\n    };\r\n\r\n    private _onMouseOut(evt: MouseEvent) {\r\n        this.emit('hoverend', evt);\r\n    };\r\n\r\n    private _onEnabledChange(enabled: boolean) {\r\n        if (enabled) {\r\n            this.class!.remove('pcui-disabled');\r\n        } else {\r\n            this.class!.add('pcui-disabled');\r\n        }\r\n\r\n        this.emit(enabled ? 'enable' : 'disable');\r\n    };\r\n\r\n    private _onParentDestroy() {\r\n        this.destroy();\r\n    };\r\n\r\n    private _onParentDisable() {\r\n        if (this._enabled) {\r\n            this._onEnabledChange(false);\r\n        }\r\n    };\r\n\r\n    private _onParentEnable() {\r\n        if (this._enabled) {\r\n            this._onEnabledChange(true);\r\n        }\r\n    };\r\n\r\n    public destroy() {\r\n        if (this._destroyed) return;\r\n\r\n        this._destroyed = true;\r\n\r\n        if (this.parent && this.parent.element) {\r\n            if (this.element && this.element.parentNode) {\r\n                this.element.parentNode.removeChild(this.parent.element);\r\n            }\r\n        }\r\n\r\n        if (this._dom) {\r\n            // remove event listeners\r\n            this._dom.removeEventListener('click', this._domEventClick);\r\n            this._dom.removeEventListener('mouseover', this._domEventMouseOver);\r\n            this._dom.removeEventListener('mouseout', this._domEventMouseOut);\r\n\r\n            // remove ui reference\r\n            delete this._dom.ui;\r\n\r\n            this._dom = null;\r\n        }\r\n\r\n        this._domEventClick = null;\r\n        this._domEventMouseOver = null;\r\n        this._domEventMouseOut = null;\r\n    };\r\n\r\n\r\n}","import { Element } from \"./element\";\r\nimport { Tree } from \"./tree\";\r\nimport { TextField } from \"./text-field\";\r\nimport { Observer } from \"../lib\";\r\n\r\nexport class TreeItem extends Element {\r\n\r\n    public tree: Nullable<Tree>;\r\n\r\n    public elementTitle: HTMLElement;\r\n    public elementIcon: HTMLElement;\r\n    public elementText: HTMLElement;\r\n\r\n    public _children: number;\r\n    public selectable: boolean;\r\n\r\n    public _onMouseUp: any;\r\n    private _dragRelease: any;\r\n\r\n    private _dragging: boolean;\r\n    private _allowDrop: boolean;\r\n\r\n    public _dragId: number = -1;\r\n\r\n    public entity!: Observer;\r\n\r\n    public asset: any;\r\n    public users: any;\r\n\r\n    public get selected(): boolean {\r\n        return this.class!.contains('selected');\r\n    }\r\n    public set selected(val: boolean) {\r\n        if (this.class!.contains('selected') === !!val)\r\n            return;\r\n\r\n        if (val) {\r\n            this.class!.add('selected');\r\n\r\n            // console.warn('tree selected');\r\n\r\n            this.emit('select');\r\n            if (this.tree)\r\n                this.tree.emit('select', this);\r\n\r\n        } else {\r\n            this.class!.remove('selected');\r\n\r\n            this.emit('deselect');\r\n            if (this.tree)\r\n                this.tree.emit('deselect', this);\r\n        }\r\n    }\r\n\r\n    public get text(): string {\r\n        return this.elementText.textContent || '';\r\n    }\r\n    public set text(val: string) {\r\n        if (this.elementText.textContent === val)\r\n            return;\r\n        this.elementText.textContent = val;\r\n    }\r\n\r\n    public get open(): boolean {\r\n        return this.class!.contains('open');\r\n    }\r\n    public set open(val: boolean) {\r\n        if (this.class!.contains('open') === !!val)\r\n            return;\r\n\r\n        if (val) {\r\n            this.class!.add('open');\r\n            this.emit('open');\r\n            this.tree!.emit('open', this);\r\n        } else {\r\n            this.class!.remove('open');\r\n            this.emit('close');\r\n            this.tree!.emit('close', this);\r\n        }\r\n\r\n        // if (this.element) {\r\n        // }\r\n    }\r\n\r\n    public get prev(): Nullable<TreeItem> {\r\n        if ((<HTMLElement>this.element).previousElementSibling && (<HTMLElement>(<HTMLElement>this.element).previousElementSibling).ui && (<HTMLElement>(<HTMLElement>this.element).previousElementSibling).ui instanceof TreeItem) {\r\n            return (<TreeItem>(<HTMLElement>(<HTMLElement>this.element).previousElementSibling).ui);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public get next(): Nullable<TreeItem> {\r\n        if ((<HTMLElement>this.element).nextElementSibling && (<HTMLElement>(<HTMLElement>this.element).nextElementSibling).ui && (<HTMLElement>(<HTMLElement>this.element).nextElementSibling).ui instanceof TreeItem) {\r\n            return (<TreeItem>(<HTMLElement>(<HTMLElement>this.element).nextElementSibling).ui);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    public get allowDrop(): boolean {\r\n        return this._allowDrop;\r\n    }\r\n    public set allowDrop(val: boolean) {\r\n        this._allowDrop = val;\r\n    }\r\n\r\n\r\n    public constructor(args: TreeItemArgs) {\r\n        super();\r\n\r\n        let self = this;\r\n        args = args || {};\r\n\r\n        this.tree = null;\r\n\r\n        this.element = document.createElement('div');\r\n        this.element.classList.add('ui-tree-item');\r\n        this.element.ui = this;\r\n\r\n        if (args.classList) {\r\n            args.classList.forEach(function (className: string): void {\r\n                self.element!.classList.add(className);\r\n            }, this);\r\n        }\r\n\r\n        this.elementTitle = document.createElement('div');\r\n        this.elementTitle.classList.add('title');\r\n        this.elementTitle.draggable = true;\r\n        this.elementTitle.tabIndex = 0;\r\n        this.elementTitle.ui = this;\r\n        this.element.appendChild(this.elementTitle);\r\n\r\n        this.elementIcon = document.createElement('span');\r\n        this.elementIcon.classList.add('icon');\r\n        this.elementTitle.appendChild(this.elementIcon);\r\n\r\n        this.elementText = document.createElement('span');\r\n        this.elementText.textContent = args.text || '';\r\n        this.elementText.classList.add('text');\r\n        this.elementTitle.appendChild(this.elementText);\r\n\r\n        this._children = 0;\r\n        this.selectable = true;\r\n\r\n        this._onMouseUp = function (evt: MouseEvent) {\r\n            window.removeEventListener('mouseup', self._dragRelease);\r\n            self._dragRelease = null;\r\n\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n\r\n            self._dragging = false;\r\n            self.emit('dragend');\r\n        };\r\n\r\n        this.elementTitle.addEventListener('click', this._onClick, false);\r\n        this.elementTitle.addEventListener('dblclick', this._onDblClick, false);\r\n\r\n        this._dragRelease = null;\r\n        this._dragging = false;\r\n        this._allowDrop = (args.allowDrop !== undefined ? !!args.allowDrop : true);\r\n\r\n        this.elementTitle.addEventListener('mousedown', this._onMouseDown, false);\r\n        this.elementTitle.addEventListener('dragstart', this._onDragStart, false);\r\n        this.elementTitle.addEventListener('mouseover', this._onMouseOver, false);\r\n\r\n        this.on('destroy', this._onDestroy);\r\n        this.on('append', this._onAppend);\r\n        this.on('remove', this._onRemove);\r\n        this.on('select', this._onSelect);\r\n        this.on('deselect', this._onDeselect);\r\n\r\n        this.elementTitle.addEventListener('keydown', this._onKeyDown, false);\r\n\r\n\r\n    }\r\n\r\n    // TODO\r\n    public child(index: number): HTMLElement {\r\n        return <HTMLElement>this.element!.children[index + 1];\r\n    };\r\n\r\n    private _onClick(evt: MouseEvent): void {\r\n        let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n        // 可能点击title或者title子项\r\n        if (!(<TreeItem>htmlEle.ui)) {\r\n            if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n                htmlEle = htmlEle.parentElement;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (evt.button !== 0 || !(<TreeItem>htmlEle.ui).selectable)\r\n            return;\r\n\r\n        let rect = htmlEle.getBoundingClientRect();\r\n\r\n        if ((<TreeItem>htmlEle.ui)._children && (evt.clientX - rect.left) < 0) {\r\n            (<TreeItem>htmlEle.ui).open = !(<TreeItem>htmlEle.ui).open;\r\n        } else {\r\n            (<TreeItem>htmlEle.ui).tree!._onItemClick((<TreeItem>htmlEle.ui));\r\n            evt.stopPropagation();\r\n        }\r\n    };\r\n\r\n    private _onDblClick(evt: MouseEvent): void {\r\n        let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n        // 可能点击title或者title子项\r\n        if (!(<TreeItem>htmlEle.ui)) {\r\n            if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n                htmlEle = htmlEle.parentElement;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!(<TreeItem>htmlEle.ui).tree!.allowRenaming || evt.button !== 0)\r\n            return;\r\n\r\n        evt.stopPropagation();\r\n        let rect = htmlEle.getBoundingClientRect();\r\n\r\n        if ((<TreeItem>htmlEle.ui)._children && (evt.clientX - rect.left) < 0) {\r\n            return;\r\n        } else {\r\n            (<TreeItem>htmlEle.ui)._onRename(true);\r\n        }\r\n    };\r\n\r\n    private _onMouseDown(evt: MouseEvent): void {\r\n        let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n        // 可能点击title或者title子项\r\n        if (!(<TreeItem>htmlEle.ui)) {\r\n            if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n                htmlEle = htmlEle.parentElement;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n        if ((<TreeItem>htmlEle.ui).tree && !(<TreeItem>htmlEle.ui).tree!.draggable)\r\n            return;\r\n\r\n        evt.stopPropagation();\r\n\r\n    };\r\n\r\n    private _onDragStart = function (evt: MouseEvent): void {\r\n        let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n        // 可能点击title或者title子项\r\n        if (!(<TreeItem>htmlEle.ui)) {\r\n            if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n                htmlEle = htmlEle.parentElement;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!(<TreeItem>htmlEle.ui).tree!.draggable) {\r\n            evt.stopPropagation();\r\n            evt.preventDefault();\r\n            return;\r\n        }\r\n\r\n        (<TreeItem>htmlEle.ui)._dragging = true;\r\n\r\n        if ((<TreeItem>htmlEle.ui)._dragRelease)\r\n            window.removeEventListener('mouseup', (<TreeItem>htmlEle.ui)._dragRelease);\r\n\r\n        (<TreeItem>htmlEle.ui)._dragRelease = (<TreeItem>htmlEle.ui)._onMouseUp;\r\n        window.addEventListener('mouseup', (<TreeItem>htmlEle.ui)._dragRelease, false);\r\n\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n\r\n        // console.log('drag start');\r\n\r\n        (<TreeItem>htmlEle.ui).emit('dragstart');\r\n    };\r\n\r\n    private _onMouseOver(evt: MouseEvent): void {\r\n        let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n        // 可能点击title或者title子项\r\n        if (!(<TreeItem>htmlEle.ui)) {\r\n            if (htmlEle.parentElement && <TreeItem>(htmlEle.parentElement).ui) {\r\n                htmlEle = htmlEle.parentElement;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n        evt.stopPropagation();\r\n        (<TreeItem>htmlEle.ui).emit('mouseover', evt);\r\n\r\n    };\r\n\r\n\r\n    private _onSelect(): void {\r\n        this.elementTitle.focus();\r\n    };\r\n\r\n    private _onDeselect(): void {\r\n        this.elementTitle.blur();\r\n    };\r\n\r\n\r\n    private _onKeyDown(evt: KeyboardEvent) {\r\n        let htmlEle: HTMLElement = <HTMLElement>evt.target;\r\n\r\n        if (!(<TreeItem>htmlEle.ui)) return;\r\n\r\n        let currentItem: TreeItem = <TreeItem>htmlEle.ui;\r\n\r\n        if (evt.target && htmlEle.tagName.toLowerCase() === 'input')\r\n            return;\r\n\r\n        if ([9, 38, 40, 37, 39].indexOf(evt.keyCode) === -1)\r\n            return;\r\n\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n\r\n        let selectedItem: Nullable<TreeItem> = null;\r\n        let item: Nullable<TreeItem> = null;\r\n        switch (evt.keyCode) {\r\n            case 9: // tab\r\n                break;\r\n            case 40: // down\r\n                let downItem = currentItem.element!.nextElementSibling;\r\n                if (downItem)\r\n                    item = <TreeItem>(<HTMLElement>downItem).ui;\r\n\r\n                if (currentItem._children && currentItem.open) {\r\n                    let first = currentItem.element!.firstElementChild!.nextElementSibling;\r\n                    if (first && (<HTMLElement>first).ui) {\r\n                        selectedItem = <TreeItem>(<HTMLElement>first).ui;\r\n                        // first.ui.selected = true;\r\n                    } else if (item) {\r\n                        selectedItem = item;\r\n                        // item.selected = true;\r\n                    }\r\n                } else if (item) {\r\n                    selectedItem = item;\r\n                    // item.selected = true;\r\n                } else if (currentItem.parent && currentItem.parent instanceof TreeItem) {\r\n                    let parent: Nullable<TreeItem> = currentItem.parent;\r\n\r\n                    let findNext = function (from: TreeItem): Nullable<TreeItem> {\r\n                        let next = from.next;\r\n                        if (next) {\r\n                            selectedItem = next;\r\n                            // next.selected = true;\r\n                        } else if (from.parent instanceof TreeItem) {\r\n                            return from.parent;\r\n                        }\r\n                        return null;\r\n                    };\r\n                    parent = findNext(parent);\r\n                    while (parent) {\r\n                        parent = findNext(parent);\r\n                    }\r\n                }\r\n                break;\r\n            case 38: // up\r\n                let itemUp = currentItem.element!.previousElementSibling;\r\n                if (itemUp)\r\n                    item = <TreeItem>(<HTMLElement>itemUp).ui;\r\n\r\n                if (item) {\r\n                    if (item._children && item.open && item !== currentItem.parent) {\r\n                        let lastItem = item.element!.lastElementChild;\r\n                        let last: Nullable<TreeItem> = null;\r\n                        if (lastItem && (<HTMLElement>lastItem).ui)\r\n                            last = <TreeItem>(<HTMLElement>lastItem).ui;\r\n\r\n                        if (last) {\r\n                            let findLast = function (inside: TreeItem): Nullable<TreeItem> {\r\n                                if (inside._children && inside.open) {\r\n                                    if (inside.element!.lastElementChild && (<HTMLElement>inside.element!.lastElementChild).ui) {\r\n                                        return <TreeItem>(<HTMLElement>inside.element!.lastElementChild).ui;\r\n                                    }\r\n                                    return null;\r\n                                } else {\r\n                                    return null;\r\n                                }\r\n                            }\r\n\r\n                            let found: boolean = false;\r\n                            while (!found) {\r\n                                let deeper: Nullable<TreeItem> = findLast(last);\r\n                                if (deeper) {\r\n                                    last = deeper\r\n                                } else {\r\n                                    found = true;\r\n                                }\r\n                            }\r\n\r\n                            selectedItem = last;\r\n                            // last.selected = true;\r\n                        } else {\r\n                            selectedItem = item;\r\n                            // item.selected = true;\r\n                        }\r\n                    } else {\r\n                        selectedItem = item;\r\n                        // item.selected = true;\r\n                    }\r\n                } else if (currentItem.parent && currentItem.parent instanceof TreeItem) {\r\n                    selectedItem = currentItem.parent;\r\n                    // this.ui.parent.selected = true;\r\n                }\r\n\r\n                break;\r\n            case 37: // left (close)\r\n                if (currentItem.parent !== currentItem.tree && currentItem.open)\r\n                    currentItem.open = false;\r\n                break;\r\n            case 39: // right (open)\r\n                if (currentItem._children && !currentItem.open)\r\n                    currentItem.open = true;\r\n                break;\r\n        }\r\n\r\n        if (selectedItem) {\r\n            if (!(Tree._ctrl && Tree._ctrl()) && !(Tree._shift && Tree._shift()))\r\n                currentItem.tree!.clear();\r\n            selectedItem.selected = true;\r\n        }\r\n    }\r\n\r\n    // TODO:link to the observer \r\n    private _onRename(select: boolean): void {\r\n        if (select) {\r\n            this.tree!.clear();\r\n            this.tree!._onItemClick(this);\r\n        }\r\n\r\n        var self = this;\r\n        this.class!.add('rename');\r\n        console.log('tree item rename');\r\n        // add remaning field\r\n        var field = new TextField();\r\n        field.parent = this;\r\n        field.renderChanges = false;\r\n        field.value = this.text;\r\n        field.elementInput.readOnly = !this.tree!.allowRenaming;\r\n        field.elementInput.addEventListener('blur', function () {\r\n            field.destroy();\r\n            self.class!.remove('rename');\r\n        }, false);\r\n        field.on('click', function (evt: MouseEvent) {\r\n            evt.stopPropagation();\r\n        });\r\n        field.element!.addEventListener('dblclick', function (evt) {\r\n            evt.stopPropagation();\r\n        });\r\n        field.on('change', function (value: string) {\r\n            value = value.trim();\r\n            if (value) {\r\n                // TODO\r\n                // if (self.entity) {\r\n                //   self.entity.set('name', value);\r\n                // }\r\n\r\n                self.emit('rename', value);\r\n            }\r\n\r\n            field.destroy();\r\n            self.class!.remove('rename');\r\n        });\r\n        this.elementTitle.appendChild(field.element!);\r\n        field.elementInput.focus();\r\n        field.elementInput.select();\r\n    }\r\n\r\n    private _onDestroy(): void {\r\n        this.elementTitle.removeEventListener('click', this._onClick);\r\n        this.elementTitle.removeEventListener('dblclick', this._onDblClick);\r\n        this.elementTitle.removeEventListener('mousedown', this._onMouseDown);\r\n        this.elementTitle.removeEventListener('dragstart', this._onDragStart);\r\n        this.elementTitle.removeEventListener('mouseover', this._onMouseOver);\r\n        this.elementTitle.removeEventListener('keydown', this._onKeyDown);\r\n    }\r\n\r\n    private _onAppend(item: TreeItem): void {\r\n        if (this.parent)\r\n            this.parent.emit('append', item);\r\n    }\r\n\r\n    private _onRemove(item: TreeItem): void {\r\n        if (this.parent)\r\n            this.parent.emit('remove', item);\r\n    }\r\n\r\n\r\n    public focus(): void {\r\n        this.elementTitle.focus();\r\n    }\r\n\r\n    public append(item: TreeItem): void {\r\n        if (this._children === 1) {\r\n            this.element!.children[1].classList.remove('single');\r\n        }\r\n\r\n        item.parent = this;\r\n        this.element!.appendChild(item.element!);\r\n        this._children++;\r\n\r\n        if (this._children === 1) {\r\n            item.class!.add('single');\r\n            this.class!.add('container');\r\n        } else if (this._children > 1) {\r\n            item.class!.remove('single');\r\n        }\r\n\r\n        let appendChildren = function (treeItem: TreeItem): void {\r\n            treeItem.emit('append', treeItem);\r\n\r\n            if (treeItem._children) {\r\n                for (let i = 1; i < treeItem.element!.children.length; i++) {\r\n                    appendChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n                }\r\n            }\r\n        };\r\n        appendChildren(item);\r\n    }\r\n\r\n    public appendBefore(item: TreeItem, referenceItem: TreeItem): void {\r\n        if (this._children === 1) {\r\n            this.element!.children[1].classList.remove('single');\r\n        }\r\n\r\n        item.parent = this;\r\n        this.element!.insertBefore(item.element!, referenceItem.element);\r\n        this._children++;\r\n\r\n        if (this._children === 1) {\r\n            item.class!.add('single');\r\n            this.class!.add('container');\r\n        } else if (this._children > 1) {\r\n            item.class!.remove('single');\r\n        }\r\n\r\n        var appendChildren = function (treeItem: TreeItem): void {\r\n            treeItem.emit('append', treeItem);\r\n\r\n            if (treeItem._children) {\r\n                for (var i = 1; i < treeItem.element!.children.length; i++) {\r\n                    appendChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n                }\r\n            }\r\n        };\r\n        appendChildren(item);\r\n    }\r\n\r\n    public appendAfter(item: TreeItem, referenceItem: TreeItem): void {\r\n        item.parent = this;\r\n\r\n        // might be last\r\n        if (!referenceItem)\r\n            this.append(item);\r\n\r\n        this.element!.insertBefore(item.element!, referenceItem.element!.nextElementSibling);\r\n        this._children++;\r\n\r\n        if (this._children === 1) {\r\n            item.class!.add('single');\r\n            this.class!.add('container');\r\n        } else if (this._children === 2) {\r\n            this.element!.children[1].classList.remove('single');\r\n        }\r\n\r\n        var appendChildren = function (treeItem: TreeItem): void {\r\n            treeItem.emit('append', treeItem);\r\n\r\n            if (treeItem._children) {\r\n                for (var i = 1; i < treeItem.element!.children.length; i++) {\r\n                    appendChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n                }\r\n            }\r\n        };\r\n        appendChildren(item);\r\n    }\r\n\r\n\r\n    public remove(item: TreeItem): void {\r\n        if (!this._children || !this.element!.contains(item.element))\r\n            return;\r\n\r\n        this.element!.removeChild(item.element!);\r\n        this._children--;\r\n\r\n        if (this._children === 0) {\r\n            this.class!.remove('container');\r\n        } else if (this._children === 1 && this.element!.children.length > 2) {\r\n            this.element!.children[1].classList.add('single');\r\n        }\r\n\r\n        let removeChildren = function (treeItem: TreeItem): void {\r\n            treeItem.emit('remove', treeItem);\r\n\r\n            if (treeItem._children) {\r\n                for (let i: number = 1; i < treeItem.element!.children.length; i++) {\r\n                    if ((<HTMLElement>treeItem.element!.children[i]).ui && (<HTMLElement>treeItem.element!.children[i]).ui instanceof TreeItem) {\r\n                        removeChildren(<TreeItem>(<HTMLElement>treeItem.element!.children[i]).ui);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        removeChildren(item);\r\n    }\r\n}","import { ContainerElement } from \"./container-element\";\r\nimport { TreeItem } from \"./tree-item\";\r\nimport { Hotkeys } from \"../editor\";\r\nimport { Element } from \"./element\";\r\n\r\nexport class Tree extends ContainerElement {\r\n\r\n  private elementDrag: HTMLElement;\r\n  public draggable: boolean;\r\n  public _dragging: boolean;\r\n  public _dragItems: TreeItem[] = [];\r\n  public _dragOver: Nullable<TreeItem>;\r\n  private _dragArea: string;\r\n  private _evtDragMove: any;\r\n  public reordering: boolean;\r\n  public dragInstant: boolean;\r\n  private _selected: TreeItem[] = [];\r\n\r\n  public allowRenaming: boolean = true;\r\n\r\n  public get selected(): TreeItem[] {\r\n    return this._selected.slice(0);\r\n  }\r\n\r\n  public constructor() {\r\n    super();\r\n\r\n    this.element = document.createElement('div');\r\n    this.element.classList.add('ui-tree');\r\n\r\n    this.innerElement = this.element;\r\n\r\n\r\n    this.elementDrag = document.createElement('div');\r\n    this.elementDrag.classList.add('drag-handle');\r\n    this.element.appendChild(this.elementDrag);\r\n\r\n    let self = this;\r\n    this.elementDrag.addEventListener('mousemove', function (evt: MouseEvent): void {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n\r\n      self._onDragMove(evt);\r\n    });\r\n    this.element.addEventListener('mouseleave', function (evt: MouseEvent): void {\r\n      self._onDragOut();\r\n    });\r\n\r\n    this.on('select', this._onSelect);\r\n    this.on('deselect', this._onDeselect);\r\n    this.on('append', this._onAppend);\r\n    this.on('remove', this._onRemove);\r\n\r\n    this.draggable = true;\r\n    this._dragging = false;\r\n    this._dragItems = [];\r\n    this._dragOver = null;\r\n    this._dragArea = 'inside';\r\n    this._evtDragMove = null;\r\n    this.reordering = true;\r\n    this.dragInstant = true;\r\n\r\n    this._selected = [];\r\n\r\n  }\r\n\r\n  public static _ctrl(): boolean {\r\n    return Hotkeys.ctrl;\r\n  }\r\n\r\n  public static _shift(): boolean {\r\n    return Hotkeys.shift;\r\n  }\r\n\r\n\r\n  private _onDragMove(evt: MouseEvent): void {\r\n    if (!this.draggable)\r\n      return;\r\n\r\n    this._hoverCalculate(evt);\r\n    this.emit('dragmove', evt);\r\n  }\r\n\r\n  private _hoverCalculate(evt: MouseEvent): void {\r\n    if (!this.draggable || !this._dragOver)\r\n      return;\r\n\r\n    let rect = this.elementDrag.getBoundingClientRect();\r\n    let area: number = Math.floor((evt.clientY - rect.top) / rect.height * 5);\r\n\r\n    let oldArea = this._dragArea;\r\n    let oldDragOver = this._dragOver;\r\n\r\n    if (this._dragOver.parent === this) {\r\n      let parent = false;\r\n      for (let i = 0; i < this._dragItems.length; i++) {\r\n        if (this._dragItems[i].parent === this._dragOver) {\r\n          parent = true;\r\n          this._dragOver = null;\r\n          break;\r\n        }\r\n      }\r\n      if (!parent)\r\n        this._dragArea = 'inside';\r\n    } else {\r\n      // check if we are trying to drag item inside any of its children\r\n      let invalid = false;\r\n      for (let i = 0; i < this._dragItems.length; i++) {\r\n        let parent = this._dragOver.parent;\r\n        while (parent) {\r\n          if (parent === this._dragItems[i]) {\r\n            invalid = true;\r\n            break;\r\n          }\r\n\r\n          parent = parent.parent;\r\n        }\r\n      }\r\n\r\n      if (invalid) {\r\n        this._dragOver = null;\r\n      } else if (this.reordering && area <= 1 && this._dragItems.indexOf(this._dragOver.prev!) === -1) {\r\n        this._dragArea = 'before';\r\n      } else if (this.reordering && area >= 4 && this._dragItems.indexOf(this._dragOver.next!) === -1 && (this._dragOver._children === 0 || !this._dragOver.open)) {\r\n        this._dragArea = 'after';\r\n      } else {\r\n        let parent = false;\r\n        if (this.reordering && this._dragOver.open) {\r\n          for (let i = 0; i < this._dragItems.length; i++) {\r\n            if (this._dragItems[i].parent === this._dragOver) {\r\n              parent = true;\r\n              this._dragArea = 'before';\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (!parent)\r\n          this._dragArea = 'inside';\r\n      }\r\n    }\r\n\r\n    if (oldArea !== this._dragArea || oldDragOver !== this._dragOver)\r\n      this._updateDragHandle();\r\n  }\r\n\r\n\r\n  public _onItemClick(item: TreeItem): void {\r\n    if (Tree._ctrl && Tree._ctrl()) {\r\n      // 按住ctrl键，针对某个item，按第1次选中，按第2次取消选中\r\n      item.selected = !item.selected;\r\n    } else if (Tree._shift && Tree._shift() && this._selected.length) {\r\n      // shift按住以后，往上往下都可进行选择，不断添加选择项，不减少\r\n      console.log('shift按钮')\r\n      let from: TreeItem = this._selected[this._selected.length - 1];\r\n      let to: TreeItem = item;\r\n\r\n      let up: TreeItem[] = [];\r\n      let down: TreeItem[] = [];\r\n\r\n      let prev = function (refItem: TreeItem): Nullable<TreeItem> {\r\n        if (!refItem) return null;\r\n        let result: Nullable<TreeItem> = null;\r\n        let prevItem = refItem.element!.previousElementSibling;\r\n        let item: Nullable<TreeItem> = null;\r\n        if (prevItem) item = <TreeItem>(<HTMLElement>prevItem).ui;\r\n\r\n        if (item) {\r\n          if (refItem.parent && refItem.parent === item && refItem.parent instanceof TreeItem) {\r\n            result = refItem.parent;\r\n          } else if (item.open && item._children) {  // 没有open貌似就没有选中\r\n            // element above is open, find last available element\r\n            let lastItem = item.element!.lastElementChild;\r\n            let last: Nullable<TreeItem> = null;\r\n            if (lastItem && (<HTMLElement>lastItem).ui)\r\n              last = <TreeItem>(<HTMLElement>lastItem).ui;\r\n\r\n            if (last) {\r\n              let findLast = function (inside: Nullable<TreeItem>) {\r\n                if (inside && inside.open && inside._children) {\r\n                  if (inside.element!.lastElementChild && (<HTMLElement>inside.element!.lastChild).ui) {\r\n                    return <TreeItem>(<HTMLElement>inside.element!.lastChild).ui;\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                } else {\r\n                  return null;\r\n                }\r\n              }\r\n\r\n              let found: boolean = false;\r\n              while (!found) {\r\n                let deeper: Nullable<TreeItem> = findLast(last);\r\n                if (deeper) {\r\n                  last = deeper;\r\n                } else {\r\n                  found = true;\r\n                }\r\n              }\r\n\r\n              result = last;\r\n            } else {\r\n              result = item;\r\n            }\r\n          } else {\r\n            result = item;\r\n          }\r\n        }\r\n\r\n        return result;\r\n      };\r\n\r\n      let next = function (refItem: TreeItem): Nullable<TreeItem> {\r\n        let result: Nullable<TreeItem> = null;\r\n        let nextItem = refItem.element!.nextElementSibling;\r\n        let item: Nullable<TreeItem> = null;\r\n        if (nextItem) item = <TreeItem>(<HTMLElement>nextItem).ui;\r\n\r\n        if (refItem.open && refItem._children) {\r\n          // select a child\r\n          let first = refItem.element!.firstElementChild!.nextElementSibling;\r\n          if (first && (<HTMLElement>first).ui) {\r\n            result = <TreeItem>(<HTMLElement>first).ui;\r\n          } else if (item) {\r\n            result = item;\r\n          }\r\n        } else if (item) {\r\n          // select next item\r\n          result = item;\r\n        } else if (refItem.parent && refItem.parent instanceof TreeItem) {\r\n          // no next element, go to parent\r\n          let parent: Nullable<TreeItem> = refItem.parent;\r\n\r\n          let findNext = function (from: TreeItem): Nullable<TreeItem> {\r\n            let next: Nullable<TreeItem> = from.next;\r\n            if (next) {\r\n              result = next;\r\n            } else if (from.parent instanceof TreeItem) {\r\n              return from.parent;\r\n            }\r\n            return null;\r\n          }\r\n          parent = findNext(parent);\r\n          while (parent) {\r\n            parent = findNext(parent);\r\n          }\r\n        }\r\n\r\n        return result;\r\n      };\r\n\r\n      let done: boolean = false;\r\n      let path: TreeItem[] = [];\r\n      let lookUp: boolean = true;\r\n      let lookDown: boolean = true;\r\n      let lookingUp: boolean = true;\r\n      // TODO\r\n      while (!done) {\r\n        lookingUp = !lookingUp;\r\n\r\n        let item: Nullable<TreeItem> = null;\r\n        let lookFrom: TreeItem = from;\r\n        if ((!lookDown || lookingUp) && lookUp) {\r\n          // up\r\n          if (up.length)\r\n            lookFrom = up[up.length - 1];\r\n\r\n          item = prev(lookFrom);\r\n          if (item) {\r\n            up.push(item);\r\n\r\n            if (item === to) {\r\n              done = true;\r\n              path = up;\r\n              break;\r\n            }\r\n          } else {\r\n            lookUp = false;\r\n          }\r\n        } else if (lookDown) {\r\n          // down\r\n          if (down.length)\r\n            lookFrom = down[down.length - 1];\r\n\r\n          item = next(lookFrom);\r\n          if (item) {\r\n            down.push(item);\r\n\r\n            if (item === to) {\r\n              done = true;\r\n              path = down;\r\n              break;\r\n            }\r\n          } else {\r\n            lookDown = false;\r\n          }\r\n        } else {\r\n          done = true;\r\n        }\r\n      }\r\n\r\n      if (path) {\r\n        for (let i = 0; i < path.length; i++) {\r\n          path[i].selected = true;\r\n        }\r\n      }\r\n\r\n\r\n    } else {\r\n      let selected: boolean = item.selected && ((this._selected.indexOf(item) === -1) || (this._selected.length === 1 && this._selected[0] === item));\r\n      this.clear();\r\n\r\n      if (!selected)\r\n        item.selected = true;\r\n    }\r\n  }\r\n\r\n  private _onSelect(item: TreeItem): void {\r\n    this._selected.push(item);\r\n  }\r\n\r\n  private _onDeselect(item: TreeItem): void {\r\n    let index: number = this._selected.indexOf(item);\r\n    if (index === -1)\r\n      return;\r\n\r\n    this._selected.splice(index, 1);\r\n  }\r\n\r\n\r\n  private _onDragStart(item: TreeItem): void {\r\n    if (!this.draggable || this._dragging)\r\n      return;\r\n\r\n    this._dragItems = [];\r\n\r\n    if (this._selected && this._selected.length > 1 && this._selected.indexOf(item) !== -1) {\r\n      let items: TreeItem[] = [];\r\n      let index: { [key: number]: TreeItem } = {};\r\n      let defaultLevel = -1;\r\n\r\n      // build index\r\n      for (let i: number = 0; i < this._selected.length; i++) {\r\n        // cant drag parent\r\n        if (this._selected[i].parent === this)\r\n          return;\r\n\r\n        this._selected[i]._dragId = i + 1;\r\n        index[this._selected[i]._dragId] = this._selected[i];\r\n      }\r\n\r\n      for (let i: number = 0; i < this._selected.length; i++) {\r\n        let s: TreeItem = this._selected[i];\r\n        let level: number = 0;\r\n        let child: boolean = false;\r\n        let parent: Nullable<Element> = this._selected[i].parent;\r\n        if (!parent || !(parent instanceof TreeItem))\r\n          parent = null;\r\n\r\n        while (parent) {\r\n          if (parent._dragId && index[parent._dragId]) {\r\n            // child, to be ignored\r\n            child = true;\r\n            break;\r\n          }\r\n\r\n          parent = parent.parent;\r\n          if (!(parent instanceof TreeItem)) {\r\n            parent = null;\r\n            break;\r\n          }\r\n\r\n          level++;\r\n        }\r\n\r\n        if (!child) {\r\n          if (defaultLevel === -1) {\r\n            defaultLevel = level;\r\n          } else if (defaultLevel !== level) {\r\n            // multi-level drag no allowed\r\n            return;\r\n          }\r\n\r\n          items.push(this._selected[i]);\r\n        }\r\n      }\r\n\r\n      // clean ids\r\n      for (let i: number = 0; i < this._selected.length; i++)\r\n        this._selected[i]._dragId = -1;\r\n\r\n      this._dragItems = items;\r\n\r\n      // sort items by their number of apperance in hierarchy\r\n      if (items.length > 1) {\r\n        let commonParent: Nullable<TreeItem> = null;\r\n\r\n        // find common parent\r\n        let findCommonParent = function (items: TreeItem[]): TreeItem[] {\r\n          let parents: TreeItem[] = [];\r\n          for (let i: number = 0; i < items.length; i++) {\r\n            if (items[i].parent && items[i].parent instanceof TreeItem) {\r\n              if (parents.indexOf(<TreeItem>items[i].parent) === -1)\r\n                parents.push(<TreeItem>items[i].parent);\r\n            }\r\n          }\r\n          if (parents.length === 1) {\r\n            commonParent = parents[0];\r\n          }\r\n          return parents;\r\n        };\r\n        let parents: TreeItem[] = items;\r\n        while (!commonParent && parents)\r\n          parents = findCommonParent(parents);\r\n\r\n        // calculate ind number\r\n        for (let i: number = 0; i < items.length; i++) {\r\n          let ind: number = 0;\r\n\r\n          let countChildren = function (item: TreeItem): number {\r\n            if (!item._children) {\r\n              return 0;\r\n            } else {\r\n              let count: number = 0;\r\n              let children = item.element!.children;\r\n              for (let i: number = 0; i < children.length; i++) {\r\n                if ((<HTMLElement>children[i]).ui && (<HTMLElement>children[i]).ui instanceof TreeItem)\r\n                  count += countChildren(<TreeItem>(<HTMLElement>children[i]).ui) + 1;\r\n              }\r\n              return count;\r\n            }\r\n          };\r\n\r\n          let scanUpForIndex = function (item: TreeItem): Nullable<TreeItem> {\r\n            ind++;\r\n            let sibling = item.element!.previousElementSibling;\r\n            let siblingItem: Nullable<TreeItem> = null;\r\n            if (sibling && (<HTMLElement>sibling).ui && (<HTMLElement>sibling).ui instanceof TreeItem) {\r\n              siblingItem = <TreeItem>(<HTMLElement>sibling).ui;\r\n            }\r\n\r\n            if (siblingItem) {\r\n              ind += countChildren(siblingItem);\r\n              return siblingItem;\r\n            } else if (item.parent === commonParent) {\r\n              return null;\r\n            } else {\r\n              if (item.parent instanceof TreeItem) {\r\n                return <TreeItem>item.parent;\r\n              } else {\r\n                return null;\r\n              }\r\n            }\r\n          };\r\n\r\n          let prev: Nullable<TreeItem> = scanUpForIndex(items[i]);\r\n          while (prev)\r\n            prev = scanUpForIndex(prev);\r\n\r\n          items[i]._dragId = ind;\r\n        }\r\n\r\n        items.sort(function (a, b) {\r\n          return a._dragId - b._dragId;\r\n        });\r\n      }\r\n    } else {\r\n      // single drag\r\n      this._dragItems = [item];\r\n    }\r\n\r\n    if (this._dragItems.length) {\r\n      this._dragging = true;\r\n\r\n      this.class!.add('dragging');\r\n      for (let i: number = 0; i < this._dragItems.length; i++) {\r\n        this._dragItems[i].class!.add('dragged');\r\n      }\r\n\r\n      this._updateDragHandle();\r\n      this.emit('dragstart');\r\n    }\r\n  }\r\n\r\n  private _onDragOver(item: TreeItem, evt: MouseEvent): void {\r\n    if (!this.draggable || !this._dragging || (this._dragItems.indexOf(item) !== -1 && !this._dragOver) || this._dragOver === item)\r\n      return;\r\n\r\n    let dragOver = null;\r\n\r\n    if (item.allowDrop) {\r\n      if (this._dragItems.indexOf(item) === -1)\r\n        dragOver = item;\r\n\r\n      if (this._dragOver === null && dragOver)\r\n        this.emit('dragin');\r\n    }\r\n\r\n\r\n\r\n    this._dragOver = dragOver;\r\n\r\n    this._updateDragHandle();\r\n    this._onDragMove(evt);\r\n  }\r\n\r\n  private _onDragEnd(): void {\r\n    if (!this.draggable || !this._dragging)\r\n      return;\r\n\r\n    // TODO\r\n    let reparentedItems: ReparentDragItems[] = [];\r\n    this._dragging = false;\r\n    this.class!.remove('dragging');\r\n\r\n    let lastDraggedItem: Nullable<TreeItem> = this._dragOver;\r\n\r\n    for (let i: number = 0; i < this._dragItems.length; i++) {\r\n      this._dragItems[i].class!.remove('dragged');\r\n\r\n      if (this._dragOver && this._dragOver !== this._dragItems[i]) {\r\n\r\n        let oldParent: Nullable<Element> = this._dragItems[i].parent;\r\n\r\n        if (oldParent !== this._dragOver || this._dragArea !== 'inside') {\r\n          let newParent: Nullable<Element> = null;\r\n\r\n          if (this.dragInstant) {\r\n            if (this._dragItems[i].parent)\r\n              (<TreeItem>(this._dragItems[i].parent!)).remove(this._dragItems[i]);\r\n          }\r\n\r\n          if (this._dragArea === 'before') {\r\n            newParent = this._dragOver.parent;\r\n            if (this.dragInstant)\r\n              (<TreeItem>this._dragOver.parent).appendBefore(this._dragItems[i], this._dragOver);\r\n          } else if (this._dragArea === 'inside') {\r\n            newParent = this._dragOver;\r\n            if (this.dragInstant) {\r\n              this._dragOver.open = true;\r\n              this._dragOver.append(this._dragItems[i]);\r\n            }\r\n          } else if (this._dragArea === 'after') {\r\n            newParent = this._dragOver.parent;\r\n            if (this.dragInstant) {\r\n              (<TreeItem>this._dragOver.parent).appendAfter(this._dragItems[i], lastDraggedItem!);\r\n              lastDraggedItem = this._dragItems[i];\r\n            }\r\n          }\r\n\r\n          reparentedItems.push({\r\n            item: this._dragItems[i],\r\n            old: oldParent,\r\n            new: newParent\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    this.emit('reparent', reparentedItems);\r\n\r\n    this._dragItems = [];\r\n\r\n    if (this._dragOver)\r\n      this._dragOver = null;\r\n\r\n    this.emit('dragend');\r\n  }\r\n\r\n  private _onDragOut(): void {\r\n    if (!this.draggable || !this._dragging || !this._dragOver)\r\n      return;\r\n\r\n    this._dragOver = null;\r\n    this._updateDragHandle();\r\n    this.emit('dragout');\r\n  }\r\n\r\n  public _updateDragHandle(): void {\r\n    if (!this.draggable || !this._dragging)\r\n      return;\r\n\r\n    if (!this._dragOver) {\r\n      this.elementDrag.classList.add('hidden');\r\n    } else {\r\n      let rect = this._dragOver.elementTitle.getBoundingClientRect();\r\n\r\n      this.elementDrag.classList.remove('before', 'inside', 'after', 'hidden')\r\n      this.elementDrag.classList.add(this._dragArea);\r\n\r\n      this.elementDrag.style.top = rect.top + 'px';\r\n      this.elementDrag.style.left = rect.left + 'px';\r\n      this.elementDrag.style.width = (rect.width - 4) + 'px';\r\n    }\r\n  }\r\n\r\n  private _onAppend(item: TreeItem): void {\r\n    // console.error('_onAppend');\r\n    item.tree = this;\r\n\r\n    let self = this;\r\n\r\n    item.on('dragstart', function () {\r\n      // can't drag root  TODO\r\n      if (item.parent === self)\r\n        return;\r\n\r\n      self._onDragStart(item);\r\n    });\r\n\r\n    item.on('mouseover', function (evt: MouseEvent) {\r\n      self._onDragOver(item, evt);\r\n    });\r\n\r\n    item.on('dragend', function () {\r\n      self._onDragEnd();\r\n    });\r\n  }\r\n\r\n  private _onRemove(item: TreeItem): void {\r\n    item.tree = null;\r\n    item.unbind('dragstart');\r\n    item.unbind('mouseover');\r\n    item.unbind('dragend');\r\n  }\r\n\r\n\r\n  public clear(): void {\r\n    if (!this._selected.length)\r\n      return;\r\n\r\n    let i: number = this._selected.length;\r\n    while (i--) {\r\n      this._selected[i].selected = false;\r\n    }\r\n    this._selected = [];\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport interface ReparentDragItems {\r\n  item: TreeItem;\r\n  old: Nullable<Element>;\r\n  new: Nullable<Element>;\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMS4wQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIm5vZGVfbW9kdWxlcy9fcHJvY2Vzc0AwLjExLjEwQHByb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9fdGltZXJzLWJyb3dzZXJpZnlAMS40LjJAdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsInNyYy9lZGl0b3IvSW5pdGlhbGl6ZS1kYXRhLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLWNvbnRleHQtbWVudS50cyIsInNyYy9lZGl0b3IvYXNzZXRzL2Fzc2V0cy1jcmVhdGUtZm9sZGVyLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLWNyZWF0ZS10YWJsZS50cyIsInNyYy9lZGl0b3IvYXNzZXRzL2Fzc2V0cy1kcm9wLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLWZpbHRlci50cyIsInNyYy9lZGl0b3IvYXNzZXRzL2Fzc2V0cy1mcy50cyIsInNyYy9lZGl0b3IvYXNzZXRzL2Fzc2V0cy1wYW5lbC1jb250cm9sLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLXBhbmVsLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLXByZXZpZXcudHMiLCJzcmMvZWRpdG9yL2Fzc2V0cy9hc3NldHMtcmVuYW1lLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLXN0b3JlLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLXN5bmMudHMiLCJzcmMvZWRpdG9yL2Fzc2V0cy9hc3NldHMtdXBsb2FkLnRzIiwic3JjL2VkaXRvci9hc3NldHMvYXNzZXRzLnRzIiwic3JjL2VkaXRvci9hc3NldHMvaW5kZXgudHMiLCJzcmMvZWRpdG9yL2Fzc2V0cy9rZWVwZXIudHMiLCJzcmMvZWRpdG9yL2F0dHJpYnV0ZXMvYXNzZXRzL2F0dHJpYnV0ZXMtYXNzZXRzLXRleHR1cmUudHMiLCJzcmMvZWRpdG9yL2F0dHJpYnV0ZXMvYXR0cmlidXRlcy1hc3NldHMudHMiLCJzcmMvZWRpdG9yL2F0dHJpYnV0ZXMvYXR0cmlidXRlcy1lbnRpdHkudHMiLCJzcmMvZWRpdG9yL2F0dHJpYnV0ZXMvYXR0cmlidXRlcy1oaXN0b3J5LnRzIiwic3JjL2VkaXRvci9hdHRyaWJ1dGVzL2F0dHJpYnV0ZXMtcGFuZWwudHMiLCJzcmMvZWRpdG9yL2F0dHJpYnV0ZXMvYXR0cmlidXRlcy1yZWZlcmVuY2UudHMiLCJzcmMvZWRpdG9yL2F0dHJpYnV0ZXMvaW5kZXgudHMiLCJzcmMvZWRpdG9yL2F0dHJpYnV0ZXMva2VlcGVyLnRzIiwic3JjL2VkaXRvci9kcm9wLnRzIiwic3JjL2VkaXRvci9lZGl0b3IudHMiLCJzcmMvZWRpdG9yL2VudGl0eS9lbnRpdGllcy50cyIsInNyYy9lZGl0b3IvZW50aXR5L2VudGl0eS1jcmVhdGUudHMiLCJzcmMvZWRpdG9yL2VudGl0eS9lbnRpdHktZWRpdC50cyIsInNyYy9lZGl0b3IvZW50aXR5L2VudGl0eS1sb2FkLnRzIiwic3JjL2VkaXRvci9lbnRpdHkvZW50aXR5LXN5bmMudHMiLCJzcmMvZWRpdG9yL2VudGl0eS9lbnRpdHkudHMiLCJzcmMvZWRpdG9yL2VudGl0eS9pbmRleC50cyIsInNyYy9lZGl0b3IvZW50aXR5L2tlZXBlci50cyIsInNyYy9lZGl0b3IvZ2l6bW9zL2F4aXNEcmFnR2l6bW8udHMiLCJzcmMvZWRpdG9yL2dpem1vcy9heGlzU2NhbGVHaXptby50cyIsInNyYy9lZGl0b3IvZ2l6bW9zL2JvdW5kaW5nQm94R2l6bW8udHMiLCJzcmMvZWRpdG9yL2dpem1vcy9jYW1lcmFHaXptby50cyIsInNyYy9lZGl0b3IvZ2l6bW9zL2dpem1vLWNlbnRlci50cyIsInNyYy9lZGl0b3IvZ2l6bW9zL2dpem1vLnRzIiwic3JjL2VkaXRvci9naXptb3MvZ2l6bW9NYW5hZ2VyLnRzIiwic3JjL2VkaXRvci9naXptb3MvaW5kZXgudHMiLCJzcmMvZWRpdG9yL2dpem1vcy9saWdodEdpem1vLnRzIiwic3JjL2VkaXRvci9naXptb3MvcGxhbmVEcmFnR2l6bW8udHMiLCJzcmMvZWRpdG9yL2dpem1vcy9wbGFuZVJvdGF0aW9uR2l6bW8udHMiLCJzcmMvZWRpdG9yL2dpem1vcy9wb3NpdGlvbkdpem1vLnRzIiwic3JjL2VkaXRvci9naXptb3Mvcm90YXRpb25HaXptby50cyIsInNyYy9lZGl0b3IvZ2l6bW9zL3NjYWxlR2l6bW8udHMiLCJzcmMvZWRpdG9yL2dsb2JhbC9jb25maWcudHMiLCJzcmMvZWRpdG9yL2dsb2JhbC9pbmRleC50cyIsInNyYy9lZGl0b3IvaGllcmFyY2h5L2hpZXJhcmNoeS1jb250ZXh0LW1lbnUudHMiLCJzcmMvZWRpdG9yL2hpZXJhcmNoeS9oaWVyYXJjaHktY29udHJvbC50cyIsInNyYy9lZGl0b3IvaGllcmFyY2h5L2hpZXJhcmNoeS1tZW51LnRzIiwic3JjL2VkaXRvci9oaWVyYXJjaHkvaGllcmFyY2h5LXBhbmVsLnRzIiwic3JjL2VkaXRvci9oaWVyYXJjaHkvaGllcmFyY2h5LXNlYXJjaC50cyIsInNyYy9lZGl0b3IvaGllcmFyY2h5L2luZGV4LnRzIiwic3JjL2VkaXRvci9oaWVyYXJjaHkva2VlcGVyLnRzIiwic3JjL2VkaXRvci9ob3RrZXlzLnRzIiwic3JjL2VkaXRvci9pbmRleC50cyIsInNyYy9lZGl0b3IvaW5pdGlhbGl6ZS1hZnRlci50cyIsInNyYy9lZGl0b3IvaW5pdGlhbGl6ZS1iZWZvcmUudHMiLCJzcmMvZWRpdG9yL2xheW91dC50cyIsInNyYy9lZGl0b3IvbG9jYWxzdG9yYWdlLnRzIiwic3JjL2VkaXRvci9taWRkbGV3YXJlL2NvbXBvbmVudC50cyIsInNyYy9lZGl0b3IvbWlkZGxld2FyZS9nYW1lb2JqZWN0LnRzIiwic3JjL2VkaXRvci9taWRkbGV3YXJlL2luZGV4LnRzIiwic3JjL2VkaXRvci9taWRkbGV3YXJlL2xvYWRlci9iYWJ5bG9uTG9hZGVyLnRzIiwic3JjL2VkaXRvci9taWRkbGV3YXJlL3Jlc291cmNlLWNvbnRhaW5lci50cyIsInNyYy9lZGl0b3IvbWlkZGxld2FyZS90cmFuc2Zvcm0udHMiLCJzcmMvZWRpdG9yL3NjZW5lcy9pbmRleC50cyIsInNyYy9lZGl0b3Ivc2NlbmVzL2tlZXBlci50cyIsInNyYy9lZGl0b3Ivc2NlbmVzL3NjZW5lcy50cyIsInNyYy9lZGl0b3Ivc2VhcmNoLnRzIiwic3JjL2VkaXRvci9zZWxlY3Rvci9pbmRleC50cyIsInNyYy9lZGl0b3Ivc2VsZWN0b3Ivc2VsZWN0b3ItaGlzdG9yeS50cyIsInNyYy9lZGl0b3Ivc2VsZWN0b3Ivc2VsZWN0b3IudHMiLCJzcmMvZWRpdG9yL3Rvb2xiYXIvaW5kZXgudHMiLCJzcmMvZWRpdG9yL3Rvb2xiYXIva2VlcGVyLnRzIiwic3JjL2VkaXRvci90b29sYmFyL3Rvb2xiYXItY29udHJvbC50cyIsInNyYy9lZGl0b3IvdG9vbGJhci90b29sYmFyLWVkaXRvci1zZXR0aW5ncy50cyIsInNyYy9lZGl0b3IvdG9vbGJhci90b29sYmFyLWdpem1vcy50cyIsInNyYy9lZGl0b3IvdG9vbGJhci90b29sYmFyLWhlbHAudHMiLCJzcmMvZWRpdG9yL3Rvb2xiYXIvdG9vbGJhci1oaXN0b3J5LnRzIiwic3JjL2VkaXRvci90b29sYmFyL3Rvb2xiYXItbG9nby50cyIsInNyYy9lZGl0b3IvdG9vbGJhci90b29sYmFyLXB1Ymxpc2gudHMiLCJzcmMvZWRpdG9yL3Rvb2xiYXIvdG9vbGJhci1zY2VuZS50cyIsInNyYy9lZGl0b3IvdG9vbGJhci90b29sYmFyLXRvcC1jb250cm9sLnRzIiwic3JjL2VkaXRvci91dGlsaXR5L2FqYXgudHMiLCJzcmMvZWRpdG9yL3V0aWxpdHkvY29tcG9uZW50cy1sb2dvcy50cyIsInNyYy9lZGl0b3IvdXRpbGl0eS9jb250ZXh0LW1lbnUudHMiLCJzcmMvZWRpdG9yL3V0aWxpdHkvZGVidWcudHMiLCJzcmMvZWRpdG9yL3V0aWxpdHkvZXZlbnRwcm94eS50cyIsInNyYy9lZGl0b3IvdXRpbGl0eS9ndWlkLnRzIiwic3JjL2VkaXRvci91dGlsaXR5L2luZGV4LnRzIiwic3JjL2VkaXRvci91dGlsaXR5L3NoYTEudHMiLCJzcmMvZWRpdG9yL3V0aWxpdHkvdG9vbHMudHMiLCJzcmMvZWRpdG9yL3ZpZXdwb3J0L2luZGV4LnRzIiwic3JjL2VkaXRvci92aWV3cG9ydC9rZWVwZXIudHMiLCJzcmMvZWRpdG9yL3ZpZXdwb3J0L3ZpZXdwb3J0LWFwcGxpY2F0aW9uLnRzIiwic3JjL2VkaXRvci92aWV3cG9ydC92aWV3cG9ydC1kcm9wLW1vZGVsLnRzIiwic3JjL2VkaXRvci92aWV3cG9ydC92aWV3cG9ydC1lbnRpdGllcy1vYnNlcnZlci1iaW5kaW5nLnRzIiwic3JjL2VkaXRvci92aWV3cG9ydC92aWV3cG9ydC1leHBhbmQudHMiLCJzcmMvZWRpdG9yL3ZpZXdwb3J0L3ZpZXdwb3J0LWluc3RhbmNlLWNyZWF0ZS50cyIsInNyYy9lZGl0b3Ivdmlld3BvcnQvdmlld3BvcnQudHMiLCJzcmMvZW5naW5lL2FwcGxpY2F0aW9uLnRzIiwic3JjL2VuZ2luZS9iYWJ5bG9uLWVuZ2luZS50cyIsInNyYy9lbmdpbmUvaW5kZXgudHMiLCJzcmMvZW5naW5lL3ZlcnktZW5naW5lLnRzIiwic3JjL2luZGV4LnRzIiwic3JjL2xpYi9ldmVudHMudHMiLCJzcmMvbGliL2luZGV4LnRzIiwic3JjL2xpYi9vYnNlcnZlci1saXN0LnRzIiwic3JjL2xpYi9vYnNlcnZlci1zeW5jLnRzIiwic3JjL2xpYi9vYnNlcnZlci50cyIsInNyYy9tYWluLnRzIiwic3JjL3VpL2J1YmJsZS50cyIsInNyYy91aS9idXR0b24udHMiLCJzcmMvdWkvY2FudmFzLnRzIiwic3JjL3VpL2NoZWNrYm94LnRzIiwic3JjL3VpL2NvZGUudHMiLCJzcmMvdWkvY29sb3ItZmllbGQudHMiLCJzcmMvdWkvY29udGFpbmVyLWVsZW1lbnQudHMiLCJzcmMvdWkvZWxlbWVudC50cyIsInNyYy91aS9ncmlkLWl0ZW0udHMiLCJzcmMvdWkvZ3JpZC50cyIsInNyYy91aS9pbWFnZS1maWVsZC50cyIsInNyYy91aS9pbmRleC50cyIsInNyYy91aS9sYWJlbC50cyIsInNyYy91aS9saW5rLnRzIiwic3JjL3VpL2xpc3QtaXRlbS50cyIsInNyYy91aS9saXN0LnRzIiwic3JjL3VpL21lbnUtaXRlbS50cyIsInNyYy91aS9tZW51LnRzIiwic3JjL3VpL251bWJlci1maWVsZC50cyIsInNyYy91aS9vdmVybGF5LnRzIiwic3JjL3VpL3BhbmVsLnRzIiwic3JjL3VpL3Byb2dyZXNzLnRzIiwic3JjL3VpL3NlbGVjdC1maWVsZC50cyIsInNyYy91aS9zbGlkZXIudHMiLCJzcmMvdWkvdGV4dC1maWVsZC50cyIsInNyYy91aS90ZXh0YXJlYS1maWVsZC50cyIsInNyYy91aS90b29sdGlwLnRzIiwic3JjL3VpL3RvcC9pbmRleC50cyIsInNyYy91aS90b3AvdG9wLWVsZW1lbnQtY29udGFpbmVyLnRzIiwic3JjL3VpL3RvcC90b3AtZWxlbWVudC1wYW5lbC50cyIsInNyYy91aS90b3AvdG9wLWVsZW1lbnQudHMiLCJzcmMvdWkvdHJlZS1pdGVtLnRzIiwic3JjL3VpL3RyZWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFFLENBQUMsQ0FBQyxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUN2TCxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUN2TCxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUN2TCxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENB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Q0FBQyxFQUFFLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxLQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFDM1IsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxLQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBQzNSLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxLQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxF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WCxJQUFJLEVBQUUsTUFBTTthQUNmO1lBQ0QsR0FBRyxFQUFFO2dCQUNELE9BQU8sRUFBRSxFQUFFO2dCQUNYLElBQUksRUFBRSxNQUFNO2FBQ2Y7WUFDRCxHQUFHLEVBQUU7Z0JBQ0QsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsSUFBSSxFQUFFLE1BQU07YUFDZjtZQUNELEdBQUcsRUFBRTtnQkFDRCxPQUFPLEVBQUUsRUFBRTtnQkFDWCxJQUFJLEVBQUUsTUFBTTthQUNmO1lBQ0QsR0FBRyxFQUFFO2dCQUNELE9BQU8sRUFBRSxFQUFFO2dCQUNYLElBQUksRUFBRSxNQUFNO2FBQ2Y7WUFDRCxHQUFHLEVBQUU7Z0JBQ0QsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsSUFBSSxFQUFFLE1BQU07YUFDZjtZQUNELEdBQUcsRUFBRTtnQkFDRCxPQUFPLEVBQUUsRUFBRTtnQkFDWCxJQUFJLEVBQUUsTUFBTTthQUNmO1lBQ0QsR0FBRyxFQUFFO2dCQUNELE9BQU8sRUFBRSxFQUFFO2dCQUNYLElBQUksRUFBRSxNQUFNO2FBQ2Y7WUFDRCxHQUFHLEVBQUU7Z0JBQ0QsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsSUFBSSxFQUFFLE1BQU07YUFDZjtZQUNELEdBQUcsRUFBRTtnQkFDRCxPQUFPLEVBQUUsRUFBRTtnQkFDWCxJQUFJLEVBQUUsTUFBTTthQUNmO1lBQ0QsR0FBRyxFQUFFO2dCQUNELE9BQU8sRUFBRSxFQUFFO2dCQUNYLElBQUksRUFBRSxNQUFNO2FBQ2Y7WUFDRCxHQUFHLEVBQUU7Z0JBQ0QsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsSUFBSSxFQUFFLE1BQU07YUFDZjtZQUNELEdBQUcsRUFBRTtnQkFDRCxPQUFPLEVBQUUsRUFBRTtnQkFDWCxJQUFJLEVBQUUsTUFBTTthQUNmO1lBQ0QsR0FBRyxFQUFFO2dCQUNELE9BQU8sRUFBRSxFQUFFO2dCQUNYLElBQUksRUFBRSxNQUFNO2FBQ2Y7WUFDRCxHQUFHLEVBQUU7Z0JBQ0QsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsSUFBSSxFQUFFLE1BQU07YUFDZjtZQUNELEdBQUcs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LEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDO3lCQUM5Sjt3QkFDRCxJQUFJLE1BQU0sQ0FBQyxjQUFjLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUU7NEJBQzNELE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDO3lCQUN2Szt3QkFDRCxJQUFJLE1BQU0sQ0FBQyxjQUFjLElBQUksTUFBTSxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUU7NEJBQzNELE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDO3lCQUN2Szt3QkFDRCxJQUFJLE1BQU0sQ0FBQyxlQUFlLElBQUksTUFBTSxDQUFDLGVBQWUsQ0FBQyxVQUFVLEVBQUU7NEJBQzdELE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDO3lCQUMxSzt3QkFFRCxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO3FCQUN4QjtpQkFD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TSxHQUFHLEVBQUUsQ0FBQztZQUVoQixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO2dCQUMxQixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVwQixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO2dCQUMxQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRXJCLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDNUIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUM1QixJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO3dCQUNyQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7cUJBQ3ZDO3lCQUFNO3dCQUNILE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxD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QUksSUFBSSxHQUFHLENBQUMsQ0FBQztZQUNiLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQyxHQUFHLEVBQUU7b0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7O29CQUN2QixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNyRSxJQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDTixDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQ3BCLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNUO1lBQ0QsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENB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QyxFQUFFLENBQUMsV0FBVyxFQUFFLFVBQVUsR0FBZTtZQUM1QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztRQUM5QixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFTyx3QkFBUyxHQUFqQixVQUFrQixJQUFjO1FBQzlCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFHTSxvQkFBSyxHQUFaO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTTtZQUN4QixPQUFPO1FBRVQsSUFBSSxDQUFDLEdBQVcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7UUFDdEMsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNWLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztTQUNwQztRQUNELElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFHSCxXQUFDO0FBQUQsQ0F6bkJBLEFBeW5CQyxDQXpuQnlCLG9DQUFnQixHQXluQnpDO0FBem5CWSxvQkFBSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTsiLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL2dsb2JhbCc7XHJcbmltcG9ydCB7IEJhYnlsb25Mb2FkZXIgfSBmcm9tICcuL21pZGRsZXdhcmUvbG9hZGVyL2JhYnlsb25Mb2FkZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluaXRpYWxpemVEYXRhIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE9cclxuICAgICAgICBDb25maWcucHJvamVjdElEID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnN1YnN0cmluZyg4KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xyXG5cclxuICAgICAgICAvLyBwcm9qZWN0IGRhdGFcclxuICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2dldFByb2plY3QnLCB7IHByb2plY3RJRDogQ29uZmlnLnByb2plY3RJRCB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAnMDAwMCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIucHJvamVjdERhdGEgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLnByb2plY3ROYW1lID0gZGF0YS5kYXRhLnByb2plY3QubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBDb25maWcudXNlcklEID0gZGF0YS5kYXRhLm93bmVyLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIENvbmZpZy51c2VybmFtZSA9IGRhdGEuZGF0YS5vd25lci51c2VybmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IENvbmZpZy5wcm9qZWN0TmFtZSArICcgLSDkuIfnu7TlvJXmk44nO1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCd0b29sYmFyLnByb2plY3Quc2V0JywgQ29uZmlnLnByb2plY3ROYW1lKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBlcC5lbWl0KCdzZXR0aW5ncycsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goXHJcbiAgICAgICAgICAgICAgICBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBhc3NldHMgZGF0YVxyXG4gICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvZ2V0QXNzZXRzJywgeyBwcm9qZWN0SUQ6IENvbmZpZy5wcm9qZWN0SUQgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gJzAwMDAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlnLmFzc2V0c0RhdGEgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2luaXRBc3NldHMnLCBDb25maWcuYXNzZXRzRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWKoOi9veWujGFzc2V0c+aVsOaNruWGjeWKoOi9vXNjZW5l5pWw5o2u77yM5L6/5LqO6Kej5p6Qc2NlbmXov4fnqIvkuK3kvb/nlKhhc3NldHPmlbDmja5cclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnZ2V0U2NlbmVzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBlcC5lbWl0KCdzZXR0aW5ncycsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goXHJcbiAgICAgICAgICAgICAgICBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZ2V0U2NlbmVzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzY2VuZXMgZGF0YVxyXG4gICAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2dldFNjZW5lcycsIHsgcHJvamVjdElEOiBDb25maWcucHJvamVjdElEIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09ICcwMDAwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFNjZW5lOiBudW1iZXIgPSBkYXRhLmRhdGEubGFzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnLnNjZW5lc0RhdGEgPSBkYXRhLmRhdGEuc2NlbmVzW2xhc3RTY2VuZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZy5zY2VuZUluZGV4ID0gbGFzdFNjZW5lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhDb25maWcuc2NlbmVzRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIuc2NlbmVzRGF0YSA9IENvbmZpZy5zY2VuZXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBCYWJ5bG9uTG9hZGVyLnNjZW5lSW5kZXggPSBsYXN0U2NlbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5lbWl0KCdzY2VuZTpyYXcnLCBDb25maWcuc2NlbmVzRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCd0b29sYmFyLnNjZW5lLnNldCcsIENvbmZpZy5zY2VuZXNEYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXAuZW1pdCgnc2V0dGluZ3MnLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgTWVudSwgTWVudUl0ZW0gfSBmcm9tICcuLi8uLi91aSc7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4uLy4uL2xpYic7XHJcblxyXG5leHBvcnQgY2xhc3MgQXNzZXRzQ29udGV4dE1lbnUge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgY3VycmVudEFzc2V0OiBhbnkgPSBudWxsO1xyXG4gICAgICAgIC8vIHZhciBsZWdhY3lTY3JpcHRzID0gZWRpdG9yLmNhbGwoJ3NldHRpbmdzOnByb2plY3QnKS5nZXQoJ3VzZUxlZ2FjeVNjcmlwdHMnKTtcclxuICAgICAgICB2YXIgbGVnYWN5U2NyaXB0cyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciByb290ID0gVmVyeUVuZ2luZS5yb290O1xyXG5cclxuICAgICAgICB2YXIgY3VzdG9tTWVudUl0ZW1zOiBhbnkgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gbWVudVxyXG4gICAgICAgIHZhciBtZW51ID0gbmV3IE1lbnUoKTtcclxuICAgICAgICByb290LmFwcGVuZChtZW51KTtcclxuXHJcblxyXG4gICAgICAgIC8vIGVkaXRcclxuICAgICAgICB2YXIgbWVudUl0ZW1OZXdTY3JpcHQgPSBuZXcgTWVudUl0ZW0oe1xyXG4gICAgICAgICAgICB0ZXh0OiAnTmV3IFNjcmlwdCcsXHJcbiAgICAgICAgICAgIGljb246ICcmIzU3ODY0OycsXHJcbiAgICAgICAgICAgIHZhbHVlOiAnc2NyaXB0J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnVJdGVtTmV3U2NyaXB0Lm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChsZWdhY3lTY3JpcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc291cmNlZmlsZXM6bmV3Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGlja2VyOnNjcmlwdC1jcmVhdGUnLCBmdW5jdGlvbiAoZmlsZW5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6Y3JlYXRlOnNjcmlwdCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2lsZXJwbGF0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51LmFwcGVuZChtZW51SXRlbU5ld1NjcmlwdCk7XHJcblxyXG4gICAgICAgIC8vIG5ldyBhc3NldFxyXG4gICAgICAgIHZhciBtZW51SXRlbU5ldyA9IG5ldyBNZW51SXRlbSh7XHJcbiAgICAgICAgICAgIHRleHQ6ICfmt7vliqDotYTmupAnLFxyXG4gICAgICAgICAgICBpY29uOiAnJiM1NzYzMjsnLFxyXG4gICAgICAgICAgICB2YWx1ZTogJ25ldydcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51LmFwcGVuZChtZW51SXRlbU5ldyk7XHJcblxyXG4gICAgICAgIHZhciBkb3dubG9hZGFibGU6IGFueSA9IHtcclxuICAgICAgICAgICAgJ3RleHR1cmUnOiAxLFxyXG4gICAgICAgICAgICAndGV4dHVyZWF0bGFzJzogMSxcclxuICAgICAgICAgICAgJ2h0bWwnOiAxLFxyXG4gICAgICAgICAgICAndGFibGUnOiAxLFxyXG4gICAgICAgICAgICAnc2hhZGVyJzogMSxcclxuICAgICAgICAgICAgJ3NjZW5lJzogMSxcclxuICAgICAgICAgICAgJ2pzb24nOiAxLFxyXG4gICAgICAgICAgICAnYXVkaW8nOiAxLFxyXG4gICAgICAgICAgICAndGV4dCc6IDFcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgaWNvbnM6IGFueSA9IHtcclxuICAgICAgICAgICAgJ3VwbG9hZCc6ICcmIzU3OTA5OycsXHJcbiAgICAgICAgICAgICdmb2xkZXInOiAnJiM1NzY1NzsnLFxyXG4gICAgICAgICAgICAndGFibGUnOiAnJiM1Nzg2NDsnLFxyXG4gICAgICAgICAgICAnY3ViZW1hcCc6ICcmIzU3ODc5OycsXHJcbiAgICAgICAgICAgICdodG1sJzogJyYjNTc4NjQ7JyxcclxuICAgICAgICAgICAgJ2pzb24nOiAnJiM1Nzg2NDsnLFxyXG4gICAgICAgICAgICAnbGF5ZXJzJzogJyYjNTc5OTInLFxyXG4gICAgICAgICAgICAnbWF0ZXJpYWwnOiAnJiM1Nzc0OTsnLFxyXG4gICAgICAgICAgICAnc2NyaXB0JzogJyYjNTc4NjQ7JyxcclxuICAgICAgICAgICAgJ3NoYWRlcic6ICcmIzU3ODY0OycsXHJcbiAgICAgICAgICAgICd0ZXh0JzogJyYjNTc4NjQ7JyxcclxuICAgICAgICAgICAgJ3RleHR1cmUnOiAnJiM1Nzg1NzsnLFxyXG4gICAgICAgICAgICAndGV4dHVyZWF0bGFzJzogJyYjNTc4NTc7JyxcclxuICAgICAgICAgICAgJ21vZGVsJzogJyYjNTc3MzU7JyxcclxuICAgICAgICAgICAgJ3NjZW5lJzogJyYjNTc3MzU7JyxcclxuICAgICAgICAgICAgJ2FuaW1hdGlvbic6ICcmIzU3ODc1OycsXHJcbiAgICAgICAgICAgICdhdWRpbyc6ICcmIzU3ODcyOycsXHJcbiAgICAgICAgICAgICdidW5kbGUnOiAnJiM1ODM4NDsnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIElDT05TOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIFJFRkVSRU5DRVM6ICcmIzU3NjIyOycsXHJcbiAgICAgICAgICAgIFRFWFRVUkVfQVRMQVM6ICcmIzU4MTYyOycsXHJcbiAgICAgICAgICAgIFNQUklURV9BU1NFVDogJyYjNTgyNjE7JyxcclxuICAgICAgICAgICAgUkVQTEFDRTogJyYjNTc2NDA7JyxcclxuICAgICAgICAgICAgUkVJTVBPUlQ6ICcmIzU3ODg5OycsXHJcbiAgICAgICAgICAgIERPV05MT0FEOiAnJiM1Nzg5NjsnLFxyXG4gICAgICAgICAgICBFRElUOiAnJiM1NzY0ODsnLFxyXG4gICAgICAgICAgICBEVVBMSUNBVEU6ICcmIzU3NjM4OycsXHJcbiAgICAgICAgICAgIERFTEVURTogJyYjNTc2MzY7JyxcclxuICAgICAgICAgICAgU0NFTkVfU0VUVElOR1M6ICcmIzU3NjUyOydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB2YXIgYXNzZXRzOiBhbnkgPSB7XHJcbiAgICAgICAgLy8gICAgICd1cGxvYWQnOiAn5LiK5LygJyxcclxuICAgICAgICAvLyAgICAgJ2ZvbGRlcic6ICfmlrDlu7rmlofku7blpLknLFxyXG4gICAgICAgIC8vICAgICAnY3NzJzogJ+ihqOagvCcsXHJcbiAgICAgICAgLy8gICAgICdjdWJlbWFwJzogJ0N1YmVNYXAnLFxyXG4gICAgICAgIC8vICAgICAnaHRtbCc6ICdIVE1MJyxcclxuICAgICAgICAvLyAgICAgJ2pzb24nOiAnSlNPTicsXHJcbiAgICAgICAgLy8gICAgICdtYXRlcmlhbCc6ICfmnZDotKgnLFxyXG4gICAgICAgIC8vICAgICAnc2NyaXB0JzogJ1NjcmlwdCcsXHJcbiAgICAgICAgLy8gICAgICdzaGFkZXInOiAnU2hhZGVyJyxcclxuICAgICAgICAvLyAgICAgJ3RleHQnOiAnVGV4dCdcclxuICAgICAgICAvLyB9O1xyXG5cclxuICAgICAgICB2YXIgYXNzZXRzOiBhbnkgPSB7XHJcbiAgICAgICAgICAgICd1cGxvYWQnOiAn5LiK5LygJyxcclxuICAgICAgICAgICAgJ2ZvbGRlcic6ICfmlrDlu7rmlofku7blpLknLFxyXG4gICAgICAgICAgICAndGFibGUnOiAn6KGo5qC8JyxcclxuICAgICAgICAgICAgJ21hdGVyaWFsJzogJ+adkOi0qCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpZiAoZWRpdG9yLmNhbGwoJ3VzZXJzOmhhc0ZsYWcnLCAnaGFzQnVuZGxlcycpKSB7XHJcbiAgICAgICAgLy8gICAgIGFzc2V0cy5idW5kbGUgPSAnQXNzZXQgQnVuZGxlJztcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHZhciBhZGROZXdNZW51SXRlbSA9IGZ1bmN0aW9uIChrZXk6IHN0cmluZywgdGl0bGU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAvLyBuZXcgZm9sZGVyXHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogaWNvbnNba2V5XSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGl0ZW0ub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEFzc2V0ICYmIGN1cnJlbnRBc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ2ZvbGRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnBhcmVudCA9IGN1cnJlbnRBc3NldDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEFzc2V0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3VwbG9hZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnVwbG9hZDpwaWNrZXInLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc2NyaXB0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWdhY3lTY3JpcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzb3VyY2VmaWxlczpuZXcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGlja2VyOnNjcmlwdC1jcmVhdGUnLCBmdW5jdGlvbiAoZmlsZW5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpjcmVhdGU6c2NyaXB0Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2lsZXJwbGF0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpjcmVhdGU6JyArIGtleSwgYXJncylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG1lbnVJdGVtTmV3LmFwcGVuZChpdGVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdzY3JpcHQnKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oJ3JlcG9zaXRvcmllczpsb2FkJywgZnVuY3Rpb24gKHJlcG9zaXRvcmllczogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcG9zaXRvcmllcy5nZXQoJ2N1cnJlbnQnKSAhPT0gJ2RpcmVjdG9yeScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFzc2V0cyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghYXNzZXRzLmhhc093blByb3BlcnR5KGtleXNbaV0pKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBhZGROZXdNZW51SXRlbShrZXlzW2ldLCBhc3NldHNba2V5c1tpXV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVsYXRlZFxyXG4gICAgICAgIHZhciBtZW51SXRlbVJlZmVyZW5jZXMgPSBuZXcgTWVudUl0ZW0oe1xyXG4gICAgICAgICAgICB0ZXh0OiAnUmVmZXJlbmNlcycsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLlJFRkVSRU5DRVMsXHJcbiAgICAgICAgICAgIHZhbHVlOiAncmVmZXJlbmNlcydcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51LmFwcGVuZChtZW51SXRlbVJlZmVyZW5jZXMpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgQXRsYXNcclxuICAgICAgICB2YXIgbWVudUl0ZW1UZXh0dXJlVG9BdGxhcyA9IG5ldyBNZW51SXRlbSh7XHJcbiAgICAgICAgICAgIHRleHQ6ICdDcmVhdGUgVGV4dHVyZSBBdGxhcycsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLlRFWFRVUkVfQVRMQVMsXHJcbiAgICAgICAgICAgIHZhbHVlOiAndGV4dHVyZS10by1hdGxhcydcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51LmFwcGVuZChtZW51SXRlbVRleHR1cmVUb0F0bGFzKTtcclxuXHJcbiAgICAgICAgbWVudUl0ZW1UZXh0dXJlVG9BdGxhcy5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnRleHR1cmVUb0F0bGFzJywgY3VycmVudEFzc2V0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIFNwcml0ZSBGcm9tIEF0bGFzXHJcbiAgICAgICAgdmFyIG1lbnVJdGVtQ3JlYXRlU3ByaXRlID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJ0NyZWF0ZSBTcHJpdGUgQXNzZXQnLFxyXG4gICAgICAgICAgICBpY29uOiBJQ09OUy5TUFJJVEVfQVNTRVQsXHJcbiAgICAgICAgICAgIHZhbHVlOiAnYXRsYXMtdG8tc3ByaXRlJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnUuYXBwZW5kKG1lbnVJdGVtQ3JlYXRlU3ByaXRlKTtcclxuXHJcbiAgICAgICAgbWVudUl0ZW1DcmVhdGVTcHJpdGUub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czphdGxhc1RvU3ByaXRlJywge1xyXG4gICAgICAgICAgICAgICAgYXNzZXQ6IGN1cnJlbnRBc3NldFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIFNsaWNlZCBTcHJpdGUgRnJvbSBBdGxhc1xyXG4gICAgICAgIHZhciBtZW51SXRlbUNyZWF0ZVNsaWNlZFNwcml0ZSA9IG5ldyBNZW51SXRlbSh7XHJcbiAgICAgICAgICAgIHRleHQ6ICdDcmVhdGUgU2xpY2VkIFNwcml0ZSBBc3NldCcsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLlNQUklURV9BU1NFVCxcclxuICAgICAgICAgICAgdmFsdWU6ICdhdGxhcy10by1zbGljZWQtc3ByaXRlJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnUuYXBwZW5kKG1lbnVJdGVtQ3JlYXRlU2xpY2VkU3ByaXRlKTtcclxuXHJcbiAgICAgICAgbWVudUl0ZW1DcmVhdGVTbGljZWRTcHJpdGUub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czphdGxhc1RvU3ByaXRlJywge1xyXG4gICAgICAgICAgICAgICAgYXNzZXQ6IGN1cnJlbnRBc3NldCxcclxuICAgICAgICAgICAgICAgIHNsaWNlZDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcmVwbGFjZVxyXG4gICAgICAgIHZhciByZXBsYWNlQXZhaWxhYmxlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZXh0dXJlYXRsYXM6IHRydWUsXHJcbiAgICAgICAgICAgIG1vZGVsOiB0cnVlLFxyXG4gICAgICAgICAgICBhbmltYXRpb246IHRydWUsXHJcbiAgICAgICAgICAgIGF1ZGlvOiB0cnVlLFxyXG4gICAgICAgICAgICBjdWJlbWFwOiB0cnVlLFxyXG4gICAgICAgICAgICBjc3M6IHRydWUsXHJcbiAgICAgICAgICAgIGh0bWw6IHRydWUsXHJcbiAgICAgICAgICAgIHNoYWRlcjogdHJ1ZSxcclxuICAgICAgICAgICAgc3ByaXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBqc29uOiB0cnVlLFxyXG4gICAgICAgICAgICB0ZXh0OiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbWVudUl0ZW1SZXBsYWNlID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJ+WKoOi9vScsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLlJFUExBQ0UsXHJcbiAgICAgICAgICAgIHZhbHVlOiAncmVwbGFjZSdcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51SXRlbVJlcGxhY2Uub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudEFzc2V0KVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50QXNzZXQub3JpZ2luKVxyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnbG9hZDpmcm9tOmFzc2V0JywgY3VycmVudEFzc2V0KTtcclxuICAgICAgICAgICAgLy8gdmFyIGlkID0gcGFyc2VJbnQoY3VycmVudEFzc2V0LmdldCgnaWQnKSwgMTApO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50QXNzZXQuZ2V0KCduYW1lJykpO1xyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgncGlja2VyOmFzc2V0Jywge1xyXG4gICAgICAgICAgICAvLyAgICAgdHlwZTogY3VycmVudEFzc2V0LmdldCgndHlwZScpLFxyXG4gICAgICAgICAgICAvLyAgICAgY3VycmVudEFzc2V0OiBjdXJyZW50QXNzZXRcclxuICAgICAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgZXZ0UGljazogTnVsbGFibGU8RXZlbnRIYW5kbGU+ID0gZWRpdG9yLm9uY2UoJ3BpY2tlcjphc3NldCcsIGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgLy8gICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cmVwbGFjZScsIGN1cnJlbnRBc3NldCwgYXNzZXQpO1xyXG4gICAgICAgICAgICAvLyAgICAgZXZ0UGljayA9IG51bGw7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gZWRpdG9yLm9uY2UoJ3BpY2tlcjphc3NldDpjbG9zZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gICAgIGlmIChldnRQaWNrKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgZXZ0UGljay51bmJpbmQoKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBldnRQaWNrID0gbnVsbDtcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudS5hcHBlbmQobWVudUl0ZW1SZXBsYWNlKTtcclxuXHJcbiAgICAgICAgLy8gdmFyIG1lbnVJdGVtUmVwbGFjZVRleHR1cmVUb1Nwcml0ZSA9IG5ldyBNZW51SXRlbSh7XHJcbiAgICAgICAgLy8gICAgIHRleHQ6ICdDb252ZXJ0IFRleHR1cmUgVG8gU3ByaXRlJyxcclxuICAgICAgICAvLyAgICAgaWNvbjogSUNPTlMuU1BSSVRFX0FTU0VULFxyXG4gICAgICAgIC8vICAgICB2YWx1ZTogJ3JlcGxhY2VUZXh0dXJlVG9TcHJpdGUnXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gbWVudUl0ZW1SZXBsYWNlVGV4dHVyZVRvU3ByaXRlLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciBpZCA9IHBhcnNlSW50KGN1cnJlbnRBc3NldC5nZXQoJ2lkJyksIDEwKTtcclxuXHJcbiAgICAgICAgLy8gICAgIGVkaXRvci5jYWxsKCdwaWNrZXI6YXNzZXQnLCB7XHJcbiAgICAgICAgLy8gICAgICAgICB0eXBlOiAnc3ByaXRlJyxcclxuICAgICAgICAvLyAgICAgICAgIGN1cnJlbnRBc3NldDogY3VycmVudEFzc2V0XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAgICAgdmFyIGV2dFBpY2s6IE51bGxhYmxlPEV2ZW50SGFuZGxlPiA9IGVkaXRvci5vbmNlKCdwaWNrZXI6YXNzZXQnLCBmdW5jdGlvbiAoYXNzZXQ6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnJlcGxhY2VUZXh0dXJlVG9TcHJpdGUnLCBjdXJyZW50QXNzZXQsIGFzc2V0KTtcclxuICAgICAgICAvLyAgICAgICAgIGV2dFBpY2sgPSBudWxsO1xyXG4gICAgICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gICAgIGVkaXRvci5vbmNlKCdwaWNrZXI6YXNzZXQ6Y2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoZXZ0UGljaykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGV2dFBpY2sudW5iaW5kKCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgZXZ0UGljayA9IG51bGw7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIG1lbnUuYXBwZW5kKG1lbnVJdGVtUmVwbGFjZVRleHR1cmVUb1Nwcml0ZSk7XHJcblxyXG4gICAgICAgIC8vIGV4dHJhY3QuIFVzZWQgZm9yIHNvdXJjZSBhc3NldHMuXHJcbiAgICAgICAgdmFyIG1lbnVJdGVtRXh0cmFjdCA9IG5ldyBNZW51SXRlbSh7XHJcbiAgICAgICAgICAgIHRleHQ6ICdSZS1JbXBvcnQnLFxyXG4gICAgICAgICAgICBpY29uOiBJQ09OUy5SRUlNUE9SVCxcclxuICAgICAgICAgICAgdmFsdWU6ICdleHRyYWN0J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnVJdGVtRXh0cmFjdC5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbChcclxuICAgICAgICAgICAgICAgICdhc3NldHM6cmVpbXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgnaWQnKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRBc3NldC5nZXQoJ3R5cGUnKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnUuYXBwZW5kKG1lbnVJdGVtRXh0cmFjdCk7XHJcblxyXG4gICAgICAgIC8vIHJlLWltcG9ydC4gVXNlZCBmb3IgdGFyZ2V0IGFzc2V0cy5cclxuICAgICAgICB2YXIgbWVudUl0ZW1SZUltcG9ydCA9IG5ldyBNZW51SXRlbSh7XHJcbiAgICAgICAgICAgIHRleHQ6ICdSZS1JbXBvcnQnLFxyXG4gICAgICAgICAgICBpY29uOiBJQ09OUy5SRUlNUE9SVCxcclxuICAgICAgICAgICAgdmFsdWU6ICdyZS1pbXBvcnQnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudUl0ZW1SZUltcG9ydC5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbChcclxuICAgICAgICAgICAgICAgICdhc3NldHM6cmVpbXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgnaWQnKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRBc3NldC5nZXQoJ3R5cGUnKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnUuYXBwZW5kKG1lbnVJdGVtUmVJbXBvcnQpO1xyXG5cclxuICAgICAgICAvLyBkb3dubG9hZFxyXG4gICAgICAgIHZhciBtZW51SXRlbURvd25sb2FkID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJ+S4i+i9vScsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLkRPV05MT0FELFxyXG4gICAgICAgICAgICB2YWx1ZTogJ2Rvd25sb2FkJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnVJdGVtRG93bmxvYWQub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93Lm9wZW4oY3VycmVudEFzc2V0LmdldCgnZmlsZS51cmwnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudS5hcHBlbmQobWVudUl0ZW1Eb3dubG9hZCk7XHJcblxyXG4gICAgICAgIC8vIGVkaXRcclxuICAgICAgICB2YXIgbWVudUl0ZW1FZGl0ID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJ+e8lui+kScsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLkVESVQsXHJcbiAgICAgICAgICAgIHZhbHVlOiAnZWRpdCdcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51SXRlbUVkaXQub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2Fzc2V0czplZGl0JywgY3VycmVudEFzc2V0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+e8lui+keihqOagvCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oY3VycmVudEFzc2V0KTtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpvcGVuLXRhYmxlJywgY3VycmVudEFzc2V0LmdldCgnbmFtZScpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudS5hcHBlbmQobWVudUl0ZW1FZGl0KTtcclxuXHJcbiAgICAgICAgLy8gZHVwbGljYXRlXHJcbiAgICAgICAgdmFyIG1lbnVJdGVtRHVwbGljYXRlID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJ+WkjeWIticsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLkRVUExJQ0FURSxcclxuICAgICAgICAgICAgdmFsdWU6ICdkdXBsaWNhdGUnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudUl0ZW1EdXBsaWNhdGUub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpkdXBsaWNhdGUnLCBjdXJyZW50QXNzZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lbnUuYXBwZW5kKG1lbnVJdGVtRHVwbGljYXRlKTtcclxuXHJcbiAgICAgICAgLy8gZGVsZXRlXHJcbiAgICAgICAgdmFyIG1lbnVJdGVtRGVsZXRlID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJ+WIoOmZpCcsXHJcbiAgICAgICAgICAgIGljb246IElDT05TLkRFTEVURSxcclxuICAgICAgICAgICAgdmFsdWU6ICdkZWxldGUnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudUl0ZW1EZWxldGUuc3R5bGUhLmZvbnRXZWlnaHQgPSAnMjAwJztcclxuICAgICAgICBtZW51SXRlbURlbGV0ZS5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXNzZXQgPSBjdXJyZW50QXNzZXQ7XHJcbiAgICAgICAgICAgIHZhciBtdWx0aXBsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFzc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRUeXBlID0gYXNzZXQuZ2V0KCd0eXBlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXM7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdhc3NldCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGFzc2V0IHRoYXQgd2FzIHJpZ2h0LWNsaWNrZWQgaXMgaW4gdGhlIHNlbGVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIGluY2x1ZGUgYWxsIHRoZSBvdGhlciBzZWxlY3RlZCBpdGVtcyBpbiB0aGUgZGVsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBvbmx5IGRlbGV0ZSB0aGUgcmlnaHQtY2xpY2tlZCBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3NldFR5cGUgPT09ICdzY3JpcHQnICYmIGxlZ2FjeVNjcmlwdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1tpXS5nZXQoJ2ZpbGVuYW1lJykgPT09IGFzc2V0LmdldCgnZmlsZW5hbWUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW1zW2ldLmdldCgnaWQnKSA9PT0gYXNzZXQuZ2V0KCdpZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmRlbGV0ZTpwaWNrZXInLCBtdWx0aXBsZSA/IGl0ZW1zIDogW2Fzc2V0XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51LmFwcGVuZChtZW51SXRlbURlbGV0ZSk7XHJcblxyXG4gICAgICAgIC8vIGZpbHRlciBidXR0b25zXHJcbiAgICAgICAgbWVudS5vbignb3BlbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWVudUl0ZW1OZXdTY3JpcHQuaGlkZGVuID0gISgoY3VycmVudEFzc2V0ID09PSBudWxsIHx8IChjdXJyZW50QXNzZXQgJiYgY3VycmVudEFzc2V0LmdldCgndHlwZScpID09PSAnc2NyaXB0JykpICYmIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicpID09PSAnc2NyaXB0cycpO1xyXG4gICAgICAgICAgICBtZW51SXRlbU5ldy5oaWRkZW4gPSAhbWVudUl0ZW1OZXdTY3JpcHQuaGlkZGVuO1xyXG5cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRBc3NldCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZG93bmxvYWTvvIxUT0RP77ya5LiL6L296I+c5Y2VXHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbURvd25sb2FkLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyBtZW51SXRlbURvd25sb2FkLmhpZGRlbiA9ICEoXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgKCFjb25maWcucHJvamVjdC5wcml2YXRlQXNzZXRzIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIChjb25maWcucHJvamVjdC5wcml2YXRlQXNzZXRzICYmXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6cmVhZCcpKSkgJiZcclxuICAgICAgICAgICAgICAgIC8vICAgICBjdXJyZW50QXNzZXQuZ2V0KCd0eXBlJykgIT09ICdmb2xkZXInICYmXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgKGN1cnJlbnRBc3NldC5nZXQoJ3NvdXJjZScpIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvd25sb2FkYWJsZVtjdXJyZW50QXNzZXQuZ2V0KCd0eXBlJyldIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICghbGVnYWN5U2NyaXB0cyAmJlxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgndHlwZScpID09PSAnc2NyaXB0JykpICYmXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY3VycmVudEFzc2V0LmdldCgnZmlsZS51cmwnKVxyXG4gICAgICAgICAgICAgICAgLy8gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkdXBsaWNhdGVcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50QXNzZXQuZ2V0KCd0eXBlJykgPT09ICdtYXRlcmlhbCcgfHxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXNzZXQuZ2V0KCd0eXBlJykgPT09ICdzcHJpdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1FZGl0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJykgPT09ICdhc3NldCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtRHVwbGljYXRlLmhpZGRlbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5sZW5ndGggPiAxICYmIGl0ZW1zLmluZGV4T2YoY3VycmVudEFzc2V0KSAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1EdXBsaWNhdGUuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZW51SXRlbUR1cGxpY2F0ZS5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGVkaXRcclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudEFzc2V0LmdldCgnc291cmNlJykgJiZcclxuICAgICAgICAgICAgICAgICAgICBbJ2h0bWwnLCAndGFibGUnLCAnanNvbicsICd0ZXh0JywgJ3NjcmlwdCcsICdzaGFkZXInXS5pbmRleE9mKGN1cnJlbnRBc3NldC5nZXQoJ3R5cGUnKSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJykgPT09ICdhc3NldCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtRWRpdC5oaWRkZW4gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMubGVuZ3RoID4gMSAmJiBpdGVtcy5pbmRleE9mKGN1cnJlbnRBc3NldCkgIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtRWRpdC5oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtRWRpdC5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhdGxhc1xyXG4gICAgICAgICAgICAgICAgbWVudUl0ZW1UZXh0dXJlVG9BdGxhcy5oaWRkZW4gPVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBc3NldC5nZXQoJ3R5cGUnKSAhPT0gJ3RleHR1cmUnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgnc291cmNlJykgfHxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXNzZXQuZ2V0KCd0YXNrJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAhZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHNwcml0ZVxyXG4gICAgICAgICAgICAgICAgbWVudUl0ZW1DcmVhdGVTcHJpdGUuaGlkZGVuID1cclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXNzZXQuZ2V0KCd0eXBlJykgIT09ICd0ZXh0dXJlYXRsYXMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgnc291cmNlJykgfHxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXNzZXQuZ2V0KCd0YXNrJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAhZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJyk7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbUNyZWF0ZVNsaWNlZFNwcml0ZS5oaWRkZW4gPSBtZW51SXRlbUNyZWF0ZVNwcml0ZS5oaWRkZW47XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlXHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbURlbGV0ZS5oaWRkZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRBc3NldC5nZXQoJ3NvdXJjZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1FeHRyYWN0LmhpZGRlbiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlLWltcG9ydFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2VJZCA9IGN1cnJlbnRBc3NldC5nZXQoJ3NvdXJjZV9hc3NldF9pZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBzb3VyY2VJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZ2V0KCd0eXBlJykgPT09ICdzY2VuZScgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoWyd0ZXh0dXJlJywgJ21hdGVyaWFsJ10uaW5kZXhPZihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgndHlwZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAhPT0gLTEgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXNvdXJjZS5nZXQoJ21ldGEnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtUmVJbXBvcnQuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgndHlwZScpID09PSAnYW5pbWF0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFzb3VyY2UuZ2V0KCdtZXRhLmFuaW1hdGlvbi5hdmFpbGFibGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1SZUltcG9ydC5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXNzZXQuZ2V0KCd0eXBlJykgPT09ICdtYXRlcmlhbCcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhY3VycmVudEFzc2V0LmhhcygnbWV0YS5pbmRleCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51SXRlbVJlSW1wb3J0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtUmVJbXBvcnQuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51SXRlbVJlSW1wb3J0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW51SXRlbVJlSW1wb3J0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyByZWZlcmVuY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHJlZiA9IGVkaXRvci5jYWxsKCdhc3NldHM6dXNlZDppbmRleCcpW1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjdXJyZW50QXNzZXQuZ2V0KCdpZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAocmVmICYmIHJlZi5jb3VudCAmJiByZWYucmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG1lbnVJdGVtUmVmZXJlbmNlcy5oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbWVudUl0ZW1SZXBsYWNlLmhpZGRlbiA9IHJlcGxhY2VBdmFpbGFibGVbXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjdXJyZW50QXNzZXQuZ2V0KCd0eXBlJylcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgPyBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgOiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBtZW51SXRlbVJlcGxhY2VUZXh0dXJlVG9TcHJpdGUuaGlkZGVuID1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICFlZGl0b3IuY2FsbCgndXNlcnM6aGFzRmxhZycsICdoYXNUZXh0dXJlVG9TcHJpdGUnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY3VycmVudEFzc2V0LmdldCgndHlwZScpICE9PSAndGV4dHVyZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB3aGlsZSAobWVudUl0ZW1SZWZlcmVuY2VzLmlubmVyRWxlbWVudCEuZmlyc3RDaGlsZClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICg8SFRNTEVsZW1lbnQ+bWVudUl0ZW1SZWZlcmVuY2VzLmlubmVyRWxlbWVudCEuZmlyc3RDaGlsZCkudWkuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIG1lbnVJdGVtczogYW55ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgYWRkUmVmZXJlbmNlSXRlbSA9IGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHZhciBtZW51SXRlbSA9IG5ldyBNZW51SXRlbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFyIGl0ZW06IGFueSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKHR5cGUgPT09ICdlZGl0b3JTZXR0aW5ncycpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtZW51SXRlbS50ZXh0ID0gJ1NjZW5lIFNldHRpbmdzJztcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtZW51SXRlbS5pY29uID0gSUNPTlMuU0NFTkVfU0VUVElOR1M7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaXRlbSA9IGVkaXRvci5jYWxsKCdzZXR0aW5nczpwcm9qZWN0VXNlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2VudGl0eScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaXRlbSA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpnZXQnLCBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG1lbnVJdGVtLmljb24gPSAnJiM1NzczNDsnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Fzc2V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpdGVtID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIG1lbnVJdGVtLmljb24gPSBpY29uc1tpdGVtLmdldCgndHlwZScpXSB8fCAnJztcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWVudUl0ZW0udGV4dCA9IGl0ZW0uZ2V0KCduYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbWVudUl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG5hbWU6IG1lbnVJdGVtLnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBlbGVtZW50OiBtZW51SXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbWVudUl0ZW0ub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgdHlwZSwgW2l0ZW1dKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdmFyIGZvbGRlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdmFyIHBhdGggPSBpdGVtLmdldCgncGF0aCcpIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZm9sZGVyID0gZWRpdG9yLmNhbGwoXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAnYXNzZXRzOmdldCcsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwYXRoW3BhdGgubGVuZ3RoIC0gMV1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJywgZm9sZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy8gdW5mb2xkIHJlbmRlcmluZyB0YWJcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2VkaXRvclNldHRpbmdzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICdlZGl0b3JTZXR0aW5nczpwYW5lbDp1bmZvbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICdyZW5kZXJpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIGtleSBpbiByZWYucmVmKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgYWRkUmVmZXJlbmNlSXRlbShyZWYucmVmW2tleV0udHlwZSwga2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciB0eXBlU29ydDogYW55ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZWRpdG9yU2V0dGluZ3M6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBhc3NldDogMixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGVudGl0eTogM1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbWVudUl0ZW1zLnNvcnQoZnVuY3Rpb24gKGE6IGFueSwgYjogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoYS50eXBlICE9PSBiLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gdHlwZVNvcnRbYS50eXBlXSAtIHR5cGVTb3J0W2IudHlwZV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmIChhLm5hbWUgPiBiLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIGlmIChhLm5hbWUgPCBiLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVJdGVtcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lbnVJdGVtUmVmZXJlbmNlcy5hcHBlbmQobWVudUl0ZW1zW2ldLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG1lbnVJdGVtUmVmZXJlbmNlcy5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBtZW51SXRlbVJlcGxhY2UuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbWVudUl0ZW1SZXBsYWNlVGV4dHVyZVRvU3ByaXRlLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZW51SXRlbVJlZmVyZW5jZXMuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtZW51SXRlbVJlcGxhY2UuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtZW51SXRlbVJlcGxhY2VUZXh0dXJlVG9TcHJpdGUuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtZW51SXRlbVJlSW1wb3J0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1FeHRyYWN0LmhpZGRlbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc2NlbmUnLCAndGV4dHVyZScsICd0ZXh0dXJlYXRsYXMnXS5pbmRleE9mKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEFzc2V0LmdldCgndHlwZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkgPT09IC0xIHx8ICFjdXJyZW50QXNzZXQuZ2V0KCdtZXRhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBubyBhc3NldFxyXG4gICAgICAgICAgICAgICAgbWVudUl0ZW1FeHRyYWN0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbVJlSW1wb3J0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbURvd25sb2FkLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbUR1cGxpY2F0ZS5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWVudUl0ZW1FZGl0LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbURlbGV0ZS5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWVudUl0ZW1SZWZlcmVuY2VzLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbVJlcGxhY2UuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIG1lbnVJdGVtUmVwbGFjZVRleHR1cmVUb1Nwcml0ZS5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWVudUl0ZW1UZXh0dXJlVG9BdGxhcy5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWVudUl0ZW1DcmVhdGVTcHJpdGUuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1lbnVJdGVtQ3JlYXRlU2xpY2VkU3ByaXRlLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VzdG9tTWVudUl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1c3RvbU1lbnVJdGVtc1tpXS5maWx0ZXIpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1c3RvbU1lbnVJdGVtc1tpXS5oaWRkZW4gPSAhY3VzdG9tTWVudUl0ZW1zW2ldLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXNzZXRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gZm9yIGVhY2ggYXNzZXQgYWRkZWRcclxuICAgICAgICBlZGl0b3Iub24oJ2Fzc2V0czphZGQnLCBmdW5jdGlvbiAoYXNzZXQ6IE9ic2VydmVyKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgZ3JpZCBpdGVtXHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpnZXQnLCBhc3NldC5nZXQoJ2lkJykpO1xyXG4gICAgICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIOWPs+mUruWKn+iDvVxyXG4gICAgICAgICAgICB2YXIgY29udGV4dE1lbnVIYW5kbGVyID0gZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKCFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEFzc2V0ID0gYXNzZXQ7XHJcbiAgICAgICAgICAgICAgICAvLyDmiZPlvIDoj5zljZVcclxuICAgICAgICAgICAgICAgIG1lbnUub3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtZW51LnBvc2l0aW9uKGV2dC5jbGllbnRYICsgMSwgZXZ0LmNsaWVudFkpO1xyXG4gICAgICAgICAgICAgICAgLy8gXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBncmlkXHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGNvbnRleHRNZW51SGFuZGxlciwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgLy8gXHJcblxyXG4gICAgICAgICAgICAvLyB0cmVlLCDnu5l0cmVlIGl0ZW3kuZ/liqDkuIrlj7PplK7oj5zljZVcclxuICAgICAgICAgICAgaWYgKGl0ZW0udHJlZSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS50cmVlLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICdjb250ZXh0bWVudScsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dE1lbnVIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tIFwiLi4vZ2xvYmFsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXNzZXRzQ3JlYXRlRm9sZGVyIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpjcmVhdGU6Zm9sZGVyJywgZnVuY3Rpb24gKGFyZ3M6IGFueSkge1xyXG4gICAgICAgICAgICAvLyBpZiAoIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpKVxyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYXNzZXRzOmNyZWF0ZTpmb2xkZXInKTtcclxuXHJcbiAgICAgICAgICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhdGg6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50Rm9sZGVyID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY3VycmVudEZvbGRlciAmJiBjdXJyZW50Rm9sZGVyLmdldClcclxuICAgICAgICAgICAgICAgIHBhdGggPSBjdXJyZW50Rm9sZGVyLmdldCgncGF0aCcpLmNvbmNhdChjdXJyZW50Rm9sZGVyLmdldCgnaWQnKSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXNzZXQgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAn5paw5bu65paH5Lu25aS5JyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdmb2xkZXInLFxyXG4gICAgICAgICAgICAgICAgc291cmNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcHJlbG9hZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiAoYXJncy5wYXJlbnQgIT09IHVuZGVmaW5lZCkgPyBhcmdzLnBhcmVudCA6IGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicpLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncHJvamVjdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IENvbmZpZy5wcm9qZWN0SURcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLmpvaW4oJywnKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYXNzZXQpO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpjcmVhdGUnLCBhc3NldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuLi8uLi9saWInO1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFzc2V0c0NyZWF0ZVRhYmxlIHtcclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpjcmVhdGU6dGFibGUnLCBmdW5jdGlvbiAoYXJnczogYW55KSB7XHJcblxyXG4gICAgICAgICAgICBpZihDb25maWcudGFibGVBc3NldHNJRCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign5oqx5q2J77yM5pqC5pe25Y+q5YWB6K645Yib5bu65LiA5Liq6KGo5qC877yBJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgKCFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKSlcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAgICAgYXJncyA9IGFyZ3MgfHwge307XHJcblxyXG4gICAgICAgICAgICB2YXIgcGF0aDogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRGb2xkZXIgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9sZGVyICYmIGN1cnJlbnRGb2xkZXIuZ2V0KVxyXG4gICAgICAgICAgICAgICAgcGF0aCA9IGN1cnJlbnRGb2xkZXIuZ2V0KCdwYXRoJykuY29uY2F0KGN1cnJlbnRGb2xkZXIuZ2V0KCdpZCcpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NldCA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICfmlrDooajmoLwudGFibGUnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RhYmxlJyxcclxuICAgICAgICAgICAgICAgIHNvdXJjZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwcmVsb2FkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogKGFyZ3MucGFyZW50ICE9PSB1bmRlZmluZWQpID8gYXJncy5wYXJlbnQgOiBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInKSxcclxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiAn5paw6KGo5qC8LnRhYmxlJyxcclxuICAgICAgICAgICAgICAgIC8vIGZpbGU6IG5ldyBCbG9iKFsneyB9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncHJvamVjdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IENvbmZpZy5wcm9qZWN0SURcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLmpvaW4oJywnKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCfliJvlu7rooajmoLwnKTtcclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6Y3JlYXRlJywgYXNzZXQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiDnroDljZXlpITnkIZcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6b3Blbi10YWJsZScsICh0YWJsZV9uYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGFibGVfbmFtZSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvdGFibGUvJyArIENvbmZpZy5wcm9qZWN0SUQgKyAnP25hbWU9JyArIHRhYmxlX25hbWUgKyAnJmlkPScgKyBDb25maWcudGFibGVBc3NldHNJRCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignYXNzZXRzOmFkZCcsIGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgaWYoYXNzZXQuZ2V0KCd0eXBlJykgPT09ICd0YWJsZScpIHtcclxuICAgICAgICAgICAgICAgIENvbmZpZy50YWJsZUFzc2V0c0lEID0gYXNzZXQuZ2V0KCdpZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+iuvue9ruihqOagvElE77yaJyArIENvbmZpZy50YWJsZUFzc2V0c0lEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgQXNzZXRzRHJvcCB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgYXNzZXRzUGFuZWwgPSBlZGl0b3IuY2FsbCgnbGF5b3V0LmFzc2V0cycpO1xyXG5cclxuICAgICAgICB2YXIgZHJvcFJlZiA9IGVkaXRvci5jYWxsKCdkcm9wOnRhcmdldCcsIHtcclxuICAgICAgICAgICAgcmVmOiBhc3NldHNQYW5lbC5lbGVtZW50LFxyXG4gICAgICAgICAgICB0eXBlOiAnZmlsZXMnLFxyXG4gICAgICAgICAgICBkcm9wOiBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlICE9PSAnZmlsZXMnKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6dXBsb2FkOmZpbGVzJywgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZHJvcFJlZi5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Fzc2V0cy1kcm9wLWFyZWEnKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gXCIuLi8uLi9saWJcIjtcclxuaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gXCIuLi8uLi9lbmdpbmVcIjtcclxuaW1wb3J0IHsgUGFuZWwsIFNlbGVjdEZpZWxkLCBUb29sdGlwLCBUZXh0RmllbGQgfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBc3NldHNGaWx0ZXIge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgcm9vdCA9IFZlcnlFbmdpbmUucm9vdDtcclxuICAgICAgICB2YXIgYXNzZXRzUGFuZWwgPSBWZXJ5RW5naW5lLmFzc2V0cztcclxuICAgICAgICAvLyB2YXIgbGVnYWN5U2NyaXB0cyA9IGVkaXRvci5jYWxsKCdzZXR0aW5nczpwcm9qZWN0JykuZ2V0KCd1c2VMZWdhY3lTY3JpcHRzJyk7XHJcbiAgICAgICAgdmFyIGxlZ2FjeVNjcmlwdHMgPSBmYWxzZTtcclxuICAgICAgICB2YXIgY3VycmVudEZvbGRlcjogYW55ID0gbnVsbDtcclxuICAgICAgICB2YXIgY3VycmVudFBhdGg6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgc2VhcmNoTGFzdFZhbHVlID0gJyc7XHJcbiAgICAgICAgdmFyIHNlYXJjaFRhZ3M6IGFueSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIGZpbHRlcnNcclxuICAgICAgICB2YXIgcGFuZWxGaWx0ZXJzID0gbmV3IFBhbmVsKCk7XHJcbiAgICAgICAgcGFuZWxGaWx0ZXJzLmNsYXNzIS5hZGQoJ2ZpbHRlcnMnKTtcclxuICAgICAgICBhc3NldHNQYW5lbC5oZWFkZXIuYXBwZW5kKHBhbmVsRmlsdGVycyk7XHJcblxyXG4gICAgICAgIHZhciB0YWdzQ2hlY2sgPSBmdW5jdGlvbiAoYXNzZXQ6IE9ic2VydmVyLCB0YWdzOiBzdHJpbmdbXSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGFzc2V0LmdldCgndGFncycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFkYXRhLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRhZ3MgPSBwYy5UYWdzLnByb3RvdHlwZS5fcHJvY2Vzc0FyZ3VtZW50cyh0YWdzKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGF0YS5sZW5ndGggfHwgIXRhZ3MubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFnc1tpXS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUgb2NjdXJhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZih0YWdzW2ldWzBdKSAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lZCBvY2N1cmFuY2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbXVsdGlwbGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRhZ3NbaV0ubGVuZ3RoOyB0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZih0YWdzW2ldW3RdKSAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpcGxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgZmlsdGVyID0gZnVuY3Rpb24gKHR5cGU6IHN0cmluZywgaXRlbTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgaWYgKCFpdGVtKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIHZpc2libGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gdHlwZVxyXG4gICAgICAgICAgICBpZiAodmlzaWJsZSAmJiBmaWx0ZXJGaWVsZC52YWx1ZSAhPT0gJ2FsbCcpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnYXNzZXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzc2V0VHlwZSA9IGl0ZW0uZ2V0KCd0eXBlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldFR5cGUgPT09ICd0ZXh0dXJlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5nZXQoJ3NvdXJjZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldFR5cGUgPSAndGV4dHVyZVNvdXJjZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldFR5cGUgPSAndGV4dHVyZVRhcmdldCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2V0VHlwZSA9PT0gJ3RleHR1cmVhdGxhcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZ2V0KCdzb3VyY2UnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRUeXBlID0gJ3RleHR1cmVBdGxhc1NvdXJjZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldFR5cGUgPSAndGV4dHVyZUF0bGFzVGFyZ2V0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzZXRUeXBlID09PSAnZm9udCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZ2V0KCdzb3VyY2UnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRUeXBlID0gJ2ZvbnRTb3VyY2UnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRUeXBlID0gJ2ZvbnRUYXJnZXQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlID0gYXNzZXRUeXBlID09PSBmaWx0ZXJGaWVsZC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NjcmlwdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlID0gZmlsdGVyRmllbGQudmFsdWUgPT09ICdzY3JpcHQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBxdWVyeVxyXG4gICAgICAgICAgICBpZiAodmlzaWJsZSAmJiBzZWFyY2gudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gKHR5cGUgPT09ICdzY3JpcHRzJykgPyBpdGVtIDogaXRlbS5nZXQodHlwZSA9PT0gJ2Fzc2V0JyA/ICduYW1lJyA6ICdmaWxlbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbFNlYXJjaCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRhZ3MgIT09IGZhbHNlICYmICgoc2VhcmNoVGFncyBpbnN0YW5jZW9mIEFycmF5KSB8fCAoc2VhcmNoLnZhbHVlWzBdID09PSAnWycgJiYgc2VhcmNoLnZhbHVlLmxlbmd0aCA+IDIgJiYgL15cXFsuK1xcXSQvLnRlc3Qoc2VhcmNoLnZhbHVlKSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRhZ3MgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYXcgPSBzZWFyY2gudmFsdWUuc2xpY2UoMSwgLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJpdHMgPSByYXcuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWdzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2UgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gYml0c1tpXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWcpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHRhZ1swXSA9PT0gJ1snICYmIHRhZ1t0YWcubGVuZ3RoIC0gMV0gIT09ICddJykgfHwgKG1lcmdlICYmIHRhZ1t0YWcubGVuZ3RoIC0gMV0gIT09ICddJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2UgKz0gdGFnICsgJywnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXJnZSAmJiB0YWdbdGFnLmxlbmd0aCAtIDFdID09PSAnXScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnID0gbWVyZ2UgKyB0YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnWzBdID09PSAnWycgJiYgdGFnLmxlbmd0aCA+IDIgJiYgdGFnW3RhZy5sZW5ndGggLSAxXSA9PT0gJ10nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJSYXcgPSB0YWcuc2xpY2UoMSwgLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViQml0cyA9IHN1YlJhdy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViQml0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJUYWcgPSBzdWJCaXRzWzBdLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3ViVGFnKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MucHVzaChzdWJUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YlRhZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc3ViQml0cy5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJUYWcgPSBzdWJCaXRzW3NdLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YlRhZykgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVGFncy5wdXNoKHN1YlRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YlRhZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1YlRhZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKHN1YlRhZ3NbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2goc3ViVGFncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2godGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoVGFncyA9IHRhZ3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxTZWFyY2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFRhZ3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbFNlYXJjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzY3JpcHRzJyB8fCAodHlwZSA9PT0gJ3NjcmlwdCcgJiYgbGVnYWN5U2NyaXB0cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSB0YWdzQ2hlY2soaXRlbSwgc2VhcmNoVGFncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxTZWFyY2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VhcmNoLnZhbHVlWzBdID09PSAnKicgJiYgc2VhcmNoLnZhbHVlLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlID0gKG5ldyBSZWdFeHAoc2VhcmNoLnZhbHVlLnNsaWNlKDEpLCAnaScpKS50ZXN0KG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxTZWFyY2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkgeyB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbFNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBuYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gudmFsdWUudG9Mb3dlckNhc2UoKSkgIT09IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2libGUgJiYgdHlwZSA9PT0gJ2Fzc2V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBwYXJzZUludChzZWFyY2gudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkICYmIGlkLnRvU3RyaW5nKCkgPT09IHNlYXJjaC52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBwYXJzZUludChpdGVtLmdldCgnaWQnKSwgMTApID09PSBpZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZvbGRlclxyXG4gICAgICAgICAgICBpZiAodmlzaWJsZSAmJiAhc2VhcmNoLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3NjcmlwdCcgfHwgY3VycmVudEZvbGRlciA9PT0gJ3NjcmlwdHMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZSA9IGN1cnJlbnRGb2xkZXIgPT09ICdzY3JpcHRzJyAmJiB0eXBlID09PSAnc2NyaXB0JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NjcmlwdHMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZSA9ICFjdXJyZW50Rm9sZGVyICYmIGZpbHRlckZpZWxkLnZhbHVlID09PSAnYWxsJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBpdGVtLmdldCgncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Rm9sZGVyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBwYXRoLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlID0gKHBhdGgubGVuZ3RoID09PSBjdXJyZW50UGF0aC5sZW5ndGggKyAxKSAmJiBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT09IGN1cnJlbnRGb2xkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdmlzaWJsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpwYW5lbDpmaWx0ZXI6ZGVmYXVsdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIG9wdGlvbnNcclxuICAgICAgICB2YXIgZmlsdGVyT3B0aW9ucztcclxuXHJcbiAgICAgICAgaWYgKGVkaXRvci5jYWxsKCd1c2VyczpoYXNGbGFnJywgJ2hhc0J1bmRsZXMnKSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbDogJ0FsbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnQW5pbWF0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICBhdWRpbzogJ0F1ZGlvJyxcclxuICAgICAgICAgICAgICAgICAgICBidW5kbGU6ICdBc3NldCBCdW5kbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJpbmFyeTogJ0JpbmFyeScsXHJcbiAgICAgICAgICAgICAgICAgICAgY3ViZW1hcDogJ0N1YmVtYXAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzczogJ0NzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFRhcmdldDogJ0ZvbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTb3VyY2U6ICdGb250IChzb3VyY2UpJyxcclxuICAgICAgICAgICAgICAgICAgICBqc29uOiAnSnNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0h0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiAnTWF0ZXJpYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiAnTW9kZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjZW5lOiAnTW9kZWwgKHNvdXJjZSknLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdDogJ1NjcmlwdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyOiAnU2hhZGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGU6ICdTcHJpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdUZXh0JyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlVGFyZ2V0OiAnVGV4dHVyZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVNvdXJjZTogJ1RleHR1cmUgKHNvdXJjZSknLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVBdGxhc1RhcmdldDogJ1RleHR1cmUgQXRsYXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVBdGxhc1NvdXJjZTogJ1RleHR1cmUgQXRsYXMgKHNvdXJjZSknXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmlsdGVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhbGw6ICdBbGwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ0FuaW1hdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgYXVkaW86ICdBdWRpbycsXHJcbiAgICAgICAgICAgICAgICAgICAgYmluYXJ5OiAnQmluYXJ5JyxcclxuICAgICAgICAgICAgICAgICAgICBjdWJlbWFwOiAnQ3ViZW1hcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzOiAnQ3NzJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250VGFyZ2V0OiAnRm9udCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNvdXJjZTogJ0ZvbnQgKHNvdXJjZSknLFxyXG4gICAgICAgICAgICAgICAgICAgIGpzb246ICdKc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBodG1sOiAnSHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6ICdNYXRlcmlhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6ICdNb2RlbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NlbmU6ICdNb2RlbCAoc291cmNlKScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0OiAnU2NyaXB0JyxcclxuICAgICAgICAgICAgICAgICAgICBzaGFkZXI6ICdTaGFkZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcml0ZTogJ1Nwcml0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1RleHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVUYXJnZXQ6ICdUZXh0dXJlJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlU291cmNlOiAnVGV4dHVyZSAoc291cmNlKScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUF0bGFzVGFyZ2V0OiAnVGV4dHVyZSBBdGxhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUF0bGFzU291cmNlOiAnVGV4dHVyZSBBdGxhcyAoc291cmNlKSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBmaWx0ZXJGaWVsZCA9IG5ldyBTZWxlY3RGaWVsZChmaWx0ZXJPcHRpb25zKTtcclxuXHJcbiAgICAgICAgZmlsdGVyRmllbGQuY2xhc3MhLmFkZCgnb3B0aW9ucycpO1xyXG4gICAgICAgIGZpbHRlckZpZWxkLnZhbHVlID0gJ2FsbCc7XHJcbiAgICAgICAgZmlsdGVyRmllbGQucmVuZGVyQ2hhbmdlcyA9IGZhbHNlO1xyXG4gICAgICAgIHBhbmVsRmlsdGVycy5hcHBlbmQoZmlsdGVyRmllbGQpO1xyXG5cclxuICAgICAgICBmaWx0ZXJGaWVsZC5vbignY2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAnYWxsJykge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyRmllbGQuY2xhc3MhLmFkZCgnbm90LWVtcHR5Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJGaWVsZC5jbGFzcyEucmVtb3ZlKCdub3QtZW1wdHknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmZpbHRlcicsIGZpbHRlcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0b29sdGlwRmlsdGVyID0gVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICAgICAgICB0YXJnZXQ6IGZpbHRlckZpZWxkLmVsZW1lbnQhLFxyXG4gICAgICAgICAgICB0ZXh0OiAnRmlsdGVyIEFzc2V0cycsXHJcbiAgICAgICAgICAgIGFsaWduOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgcm9vdDogcm9vdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpbHRlckZpZWxkLm9uKCdvcGVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0b29sdGlwRmlsdGVyLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBmaWx0ZXJGaWVsZC5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXBGaWx0ZXIuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmZpbHRlcjpzZWFyY2gnLCBmdW5jdGlvbiAocXVlcnk/OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHF1ZXJ5ID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoLnZhbHVlO1xyXG4gICAgICAgICAgICBzZWFyY2gudmFsdWUgPSBxdWVyeTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlYXJjaC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmZpbHRlcjp0eXBlJywgZnVuY3Rpb24gKHR5cGU/OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJGaWVsZC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGZpbHRlckZpZWxkLnZhbHVlID0gdHlwZSB8fCAnYWxsJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmZpbHRlcjp0eXBlOmRpc2FibGVkJywgZnVuY3Rpb24gKHN0YXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGZpbHRlckZpZWxkLmRpc2FibGVkID0gc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCBmdW5jdGlvbiAoYXNzZXQ/OiBPYnNlcnZlciB8IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAoYXNzZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGFzc2V0KSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVnYWN5U2NyaXB0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rm9sZGVyID0gJ3NjcmlwdHMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGb2xkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGb2xkZXIgPSBhc3NldC5nZXQoJ2lkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3VycmVudEZvbGRlciA9IHBhcnNlSW50KGFzc2V0LmdldCgnaWQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBhc3NldC5nZXQoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRGb2xkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpmaWx0ZXInLCBmaWx0ZXIsIHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2Fzc2V0czphZGQnLCBmdW5jdGlvbiAoYXNzZXQ6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJGaWVsZC52YWx1ZSA9PT0gJ2FsbCcgJiYgIXNlYXJjaC52YWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmICghZmlsdGVyKChhc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ3NjcmlwdCcpID8gJ3NjcmlwdCcgOiAnYXNzZXQnLCBhc3NldCkpXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmdldCcsIGFzc2V0LmdldCgnaWQnKSkuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDptZXNzYWdlJywgbnVsbCk7IC8vIGNsZWFyIHBvc3NpYmxlIG5vIGFzc2V0cyBtZXNzYWdlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignc291cmNlZmlsZXM6YWRkJywgZnVuY3Rpb24gKGZpbGU6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJGaWVsZC52YWx1ZSA9PT0gJ2FsbCcgJiYgIXNlYXJjaC52YWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmICghZmlsdGVyKCdzY3JpcHQnLCBmaWxlKSlcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Z2V0JywgZmlsZS5nZXQoJ2ZpbGVuYW1lJykpLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6bWVzc2FnZScsIG51bGwpOyAvLyBjbGVhciBwb3NzaWJsZSBubyBhc3NldHMgbWVzc2FnZVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2VhcmNoXHJcbiAgICAgICAgdmFyIHNlYXJjaCA9IG5ldyBUZXh0RmllbGQoJ+aQnOe0oicpO1xyXG4gICAgICAgIHNlYXJjaC5ibHVyT25FbnRlciA9IGZhbHNlO1xyXG4gICAgICAgIHNlYXJjaC5rZXlDaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgIHNlYXJjaC5jbGFzcyEuYWRkKCdzZWFyY2gnKTtcclxuICAgICAgICBzZWFyY2gucmVuZGVyQ2hhbmdlcyA9IGZhbHNlO1xyXG4gICAgICAgIHBhbmVsRmlsdGVycy5hcHBlbmQoc2VhcmNoKTtcclxuXHJcbiAgICAgICAgc2VhcmNoLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gMjcpXHJcbiAgICAgICAgICAgICAgICBzZWFyY2hDbGVhci5jbGljaygpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gaG90a2V5c1xyXG4gICAgICAgIGVkaXRvci5jYWxsKCdob3RrZXk6cmVnaXN0ZXInLCAnYXNzZXRzLWZvY3VzLXNlYXJjaCcsIHtcclxuICAgICAgICAgICAga2V5OiAnYScsXHJcbiAgICAgICAgICAgIGFsdDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChlOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlZGl0b3IuY2FsbCgncGlja2VyOmlzT3BlbjpvdGhlclRoYW4nLCAnY3VydmUnKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNlYXJjaENsZWFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2VhcmNoQ2xlYXIuaW5uZXJIVE1MID0gJyYjNTc2NTA7JztcclxuICAgICAgICBzZWFyY2hDbGVhci5jbGFzc0xpc3QuYWRkKCdjbGVhcicpO1xyXG4gICAgICAgIHNlYXJjaC5lbGVtZW50IS5hcHBlbmRDaGlsZChzZWFyY2hDbGVhcik7XHJcblxyXG4gICAgICAgIHNlYXJjaENsZWFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWFyY2gudmFsdWUgPSAnJztcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHNlYXJjaC5vbignY2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VhcmNoTGFzdFZhbHVlID09PSB2YWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHNlYXJjaExhc3RWYWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2guY2xhc3MhLmFkZCgnbm90LWVtcHR5Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2guY2xhc3MhLnJlbW92ZSgnbm90LWVtcHR5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlYXJjaFRhZ3MgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpmaWx0ZXInLCBmaWx0ZXIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAnLi4vLi4vbGliJztcclxuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi4vZ2xvYmFsJztcclxuaW1wb3J0IHsgQWpheFJlcXVlc3QsIEFqYXggfSBmcm9tICcuLi91dGlsaXR5JztcclxuXHJcbmV4cG9ydCBjbGFzcyBBc3NldHNGcyB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgZ2V0SWRzID0gZnVuY3Rpb24gKGFzc2V0czogT2JzZXJ2ZXJbXSkge1xyXG4gICAgICAgICAgICBpZiAoIShhc3NldHMgaW5zdGFuY2VvZiBBcnJheSkpXHJcbiAgICAgICAgICAgICAgICBhc3NldHMgPSBbYXNzZXRzXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpZHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3NldHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICBpZHMucHVzaChhc3NldHNbaV0uZ2V0KCdpZCcpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpZHM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmZzOmRlbGV0ZScsIGZ1bmN0aW9uIChhc3NldHM6IE9ic2VydmVyW10pIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3JlYWx0aW1lOnNlbmQnLCAnZnMnLCB7XHJcbiAgICAgICAgICAgICAgICBvcDogJ2RlbGV0ZScsXHJcbiAgICAgICAgICAgICAgICBpZHM6IGdldElkcyhhc3NldHMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6ZnM6bW92ZScsIGZ1bmN0aW9uIChhc3NldHM6IE9ic2VydmVyW10sIGFzc2V0VG86IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignYXNzZXRzOmZzOm1vdmUnKTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGFzc2V0cyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihhc3NldFRvKTtcclxuICAgICAgICAgICAgbGV0IGlkcyA9IGdldElkcyhhc3NldHMpO1xyXG4gICAgICAgICAgICBsZXQgdG8gPSBhc3NldFRvID8gYXNzZXRUby5nZXQoJ2lkJykgOiAnJztcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3JlYWx0aW1lOnNlbmQnLCAnZnMnLCB7XHJcbiAgICAgICAgICAgICAgICBvcDogJ21vdmUnLFxyXG4gICAgICAgICAgICAgICAgaWRzOiBpZHMsXHJcbiAgICAgICAgICAgICAgICB0bzogdG9cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBmb3JtLmFwcGVuZCgnbW92ZScsIGlkcy5qb2luKCcsJykpO1xyXG4gICAgICAgICAgICAvLyBmb3JtLmFwcGVuZCgnZnJvbScsIGlkcyk7XHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCd0bycsIHRvKTtcclxuICAgICAgICAgICAgZm9ybS5hcHBlbmQoJ3Byb2plY3RJRCcsIENvbmZpZy5wcm9qZWN0SUQpO1xyXG4gICAgICAgICAgICAoPEFqYXhSZXF1ZXN0Pm5ldyBBamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdXBsb2FkL2Fzc2V0cy8nICsgaWRzWzBdLFxyXG4gICAgICAgICAgICAgICAgYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm0sXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICAgICAgaWdub3JlQ29udGVudFR5cGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBub3RKc29uOiB0cnVlXHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdsb2FkJywgKHN0YXR1czogYW55LCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RhdHVzOiAnICsgc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09ICcwMDAwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiDkuI3lpJ/pgJrnlKhcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFzc2V0ID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBrZXlzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihhc3NldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldC5zZXQoJ3BhdGgnLCBkYXRhLmRhdGFba2V5c1tpXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgYXNzZXQgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIGRhdGEuZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKGFzc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGFzc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBhc3NldC5zZXQoJ25hbWUnLCBkYXRhLmRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGFzc2V0ID0gbmV3IE9ic2VydmVyKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdhc3NldHM6YWRkJywgYXNzZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6ZnM6ZHVwbGljYXRlJywgZnVuY3Rpb24gKGFzc2V0czogT2JzZXJ2ZXJbXSkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgncmVhbHRpbWU6c2VuZCcsICdmcycsIHtcclxuICAgICAgICAgICAgICAgIG9wOiAnZHVwbGljYXRlJyxcclxuICAgICAgICAgICAgICAgIGlkczogZ2V0SWRzKGFzc2V0cylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgVG9vbHRpcCwgTWVudSwgUGFuZWwsIEJ1dHRvbiwgTWVudUl0ZW0gfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gXCIuLi8uLi9lbmdpbmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBc3NldHNQYW5lbENvbnRyb2wge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdmFyIHJvb3QgPSBWZXJ5RW5naW5lLnJvb3Q7XHJcbiAgICAgICAgdmFyIGFzc2V0c1BhbmVsID0gVmVyeUVuZ2luZS5hc3NldHM7XHJcblxyXG4gICAgICAgIC8vIGNvbnRleHQgbWVudVxyXG4gICAgICAgIHZhciBtZW51ID0gbmV3IE1lbnUoKTtcclxuICAgICAgICByb290LmFwcGVuZChtZW51KTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGFzc2V0czogYW55ID0ge1xyXG4gICAgICAgIC8vICAgICAndXBsb2FkJzoge1xyXG4gICAgICAgIC8vICAgICAgICAgdGl0bGU6ICfkuIrkvKAnLFxyXG4gICAgICAgIC8vICAgICAgICAgaWNvbjogJyYjNTc5MDk7J1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgICAnZm9sZGVyJzoge1xyXG4gICAgICAgIC8vICAgICAgICAgdGl0bGU6ICfmlrDlu7rmlofku7blpLknLFxyXG4gICAgICAgIC8vICAgICAgICAgaWNvbjogJyYjNTc2NTc7J1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgICAnY3NzJzoge1xyXG4gICAgICAgIC8vICAgICAgICAgdGl0bGU6ICfooajmoLwnLFxyXG4gICAgICAgIC8vICAgICAgICAgaWNvbjogJyYjNTc4NjQ7J1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgICAnY3ViZW1hcCc6IHtcclxuICAgICAgICAvLyAgICAgICAgIHRpdGxlOiAnQ3ViZU1hcCcsXHJcbiAgICAgICAgLy8gICAgICAgICBpY29uOiAnJiM1Nzg3OTsnXHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgICdodG1sJzoge1xyXG4gICAgICAgIC8vICAgICAgICAgdGl0bGU6ICdIVE1MJyxcclxuICAgICAgICAvLyAgICAgICAgIGljb246ICcmIzU3ODY0OydcclxuICAgICAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyAgICAgJ2pzb24nOiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ0pTT04nLFxyXG4gICAgICAgIC8vICAgICAgICAgaWNvbjogJyYjNTc4NjQ7J1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgICAnbWF0ZXJpYWwnOiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ+adkOi0qCcsXHJcbiAgICAgICAgLy8gICAgICAgICBpY29uOiAnJiM1Nzc0OTsnXHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgICdzY3JpcHQnOiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ1NjcmlwdCcsXHJcbiAgICAgICAgLy8gICAgICAgICBpY29uOiAnJiM1Nzg2NDsnXHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgICdzaGFkZXInOiB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ1NoYWRlcicsXHJcbiAgICAgICAgLy8gICAgICAgICBpY29uOiAnJiM1Nzg2NDsnXHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICAgICd0ZXh0Jzoge1xyXG4gICAgICAgIC8vICAgICAgICAgdGl0bGU6ICdUZXh0JyxcclxuICAgICAgICAvLyAgICAgICAgIGljb246ICcmIzU3ODY0OydcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgIHZhciBhc3NldHM6IGFueSA9IHtcclxuICAgICAgICAgICAgJ3VwbG9hZCc6IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiK5LygJyxcclxuICAgICAgICAgICAgICAgIGljb246ICcmIzU3OTA5OydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZvbGRlcic6IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAn5paw5bu65paH5Lu25aS5JyxcclxuICAgICAgICAgICAgICAgIGljb246ICcmIzU3NjU3OydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3RhYmxlJzoge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfooajmoLwnLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJyYjNTc4NjQ7J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnbWF0ZXJpYWwnOiB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+adkOi0qCcsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAnJiM1Nzc0OTsnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpZiAoZWRpdG9yLmNhbGwoJ3VzZXJzOmhhc0ZsYWcnLCAnaGFzQnVuZGxlcycpKSB7XHJcbiAgICAgICAgLy8gICAgIGFzc2V0cy5idW5kbGUgPSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ0Fzc2V0IEJ1bmRsZScsXHJcbiAgICAgICAgLy8gICAgICAgICBpY29uOiAnJiM1ODM4NDsnXHJcbiAgICAgICAgLy8gICAgIH07XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB2YXIgYWRkTmV3TWVudUl0ZW0gPSBmdW5jdGlvbiAoa2V5OiBzdHJpbmcsIGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICAvLyBuZXcgZm9sZGVyXHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IGRhdGEudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBpY29uOiBkYXRhLmljb24gfHwgJycsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZToga2V5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpdGVtLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICd1cGxvYWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czp1cGxvYWQ6cGlja2VyJywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NjcmlwdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLmNhbGwoJ3NldHRpbmdzOnByb2plY3QnKS5nZXQoJ3VzZUxlZ2FjeVNjcmlwdHMnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc291cmNlZmlsZXM6bmV3Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2tlcjpzY3JpcHQtY3JlYXRlJywgZnVuY3Rpb24gKGZpbGVuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6Y3JlYXRlOnNjcmlwdCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9pbGVycGxhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhc3NldHM6Y3JlYXRlOicgKyBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6Y3JlYXRlOicgKyBrZXksIGFyZ3MpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtZW51LmFwcGVuZChpdGVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdzY3JpcHQnKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oJ3JlcG9zaXRvcmllczpsb2FkJywgZnVuY3Rpb24gKHJlcG9zaXRvcmllczogYW55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcG9zaXRvcmllcy5nZXQoJ2N1cnJlbnQnKSAhPT0gJ2RpcmVjdG9yeScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFzc2V0cyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghYXNzZXRzLmhhc093blByb3BlcnR5KGtleXNbaV0pKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBhZGROZXdNZW51SXRlbShrZXlzW2ldLCBhc3NldHNba2V5c1tpXV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY29udHJvbHNcclxuICAgICAgICB2YXIgY29udHJvbHMgPSBuZXcgUGFuZWwoKTtcclxuICAgICAgICAvLyBjb250cm9scy5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29udHJvbHMuY2xhc3MhLmFkZCgnYXNzZXRzLWNvbnRyb2xzJyk7XHJcbiAgICAgICAgLy8gY29udHJvbHMucGFyZW50ID0gYXNzZXRzUGFuZWw7XHJcbiAgICAgICAgLy8gYXNzZXRzUGFuZWwuaGVhZGVyRWxlbWVudCEuaW5zZXJ0QmVmb3JlKGNvbnRyb2xzLmVsZW1lbnQhLCBhc3NldHNQYW5lbC5oZWFkZXJFbGVtZW50VGl0bGUhLm5leHRTaWJsaW5nKTtcclxuICAgICAgICBhc3NldHNQYW5lbC5oZWFkZXIuYXBwZW5kKGNvbnRyb2xzKTtcclxuICAgICAgICBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOndyaXRlU3RhdGUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgY29udHJvbHMuZW5hYmxlZCA9IHN0YXRlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gYWRkXHJcbiAgICAgICAgdmFyIGJ0bk5ldyA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICAvLyBidG5OZXcuaGlkZGVuID0gIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpO1xyXG4gICAgICAgIGJ0bk5ldy5jbGFzcyEuYWRkKCdjcmVhdGUtYXNzZXQnKTtcclxuICAgICAgICBidG5OZXcudGV4dCA9ICcmIzU3NjMyOyc7XHJcbiAgICAgICAgYnRuTmV3Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIHJlY3QgPSBidG5OZXcuZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIG1lbnUucG9zaXRpb24ocmVjdC5yaWdodCwgcmVjdC50b3ApO1xyXG4gICAgICAgICAgICBtZW51Lm9wZW4gPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZChidG5OZXcpO1xyXG5cclxuICAgICAgICB2YXIgdG9vbHRpcEFkZCA9IFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBidG5OZXcuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIHRleHQ6ICfmt7vliqDotYTmupAnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51Lm9uKCdvcGVuJywgZnVuY3Rpb24gKHN0YXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXBBZGQuZGlzYWJsZWQgPSBzdGF0ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZGVsZXRlXHJcbiAgICAgICAgdmFyIGJ0bkRlbGV0ZSA9IG5ldyBCdXR0b24oJyYjNTc2MzY7Jyk7XHJcbiAgICAgICAgLy8gYnRuRGVsZXRlLmhpZGRlbiA9ICFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKTtcclxuICAgICAgICBidG5EZWxldGUuc3R5bGUhLmZvbnRXZWlnaHQgPSAnMjAwJztcclxuICAgICAgICBidG5EZWxldGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGJ0bkRlbGV0ZS5jbGFzcyEuYWRkKCdkZWxldGUnKTtcclxuICAgICAgICBidG5EZWxldGUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6dHlwZScpO1xyXG4gICAgICAgICAgICBpZiAodHlwZSAhPT0gJ2Fzc2V0JylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6ZGVsZXRlOnBpY2tlcicsIGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb250cm9scy5hcHBlbmQoYnRuRGVsZXRlKTtcclxuXHJcbiAgICAgICAgdmFyIHRvb2x0aXBEZWxldGUgPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogYnRuRGVsZXRlLmVsZW1lbnQhLFxyXG4gICAgICAgICAgICB0ZXh0OiAn5Yig6Zmk6LWE5rqQJyxcclxuICAgICAgICAgICAgYWxpZ246ICdib3R0b20nLFxyXG4gICAgICAgICAgICByb290OiByb290XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdG9vbHRpcERlbGV0ZS5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdwZXJtaXNzaW9uczp3cml0ZVN0YXRlJywgZnVuY3Rpb24gKHN0YXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGJ0bk5ldy5oaWRkZW4gPSAhc3RhdGU7XHJcbiAgICAgICAgICAgIGJ0bkRlbGV0ZS5oaWRkZW4gPSAhc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBmb2xkZXIgdXBcclxuICAgICAgICB2YXIgYnRuVXAgPSBuZXcgQnV0dG9uKCcmIzU4MTE3OycpO1xyXG4gICAgICAgIGJ0blVwLnN0eWxlIS5mb250V2VpZ2h0ID0gJzIwMCc7XHJcbiAgICAgICAgYnRuVXAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGJ0blVwLmNsYXNzIS5hZGQoJ3VwJyk7XHJcbiAgICAgICAgYnRuVXAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZm9sZGVyID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJyk7XHJcbiAgICAgICAgICAgIGlmICghZm9sZGVyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoZm9sZGVyID09PSAnc2NyaXB0cycpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIG51bGwpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBmb2xkZXIuZ2V0KCdwYXRoJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBwYXRoW3BhdGgubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJywgcGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udHJvbHMuYXBwZW5kKGJ0blVwKTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIGZ1bmN0aW9uIChmb2xkZXI6IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoZm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICBidG5VcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcFVwLmNsYXNzIS5yZW1vdmUoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnRuVXAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcFVwLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0b29sdGlwVXAgPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogYnRuVXAuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIHRleHQ6ICfkuIrkuIDlsYInLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICB9KTtcclxuICAgICAgICB0b29sdGlwVXAuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcblxyXG5cclxuICAgICAgICB2YXIgYXNzZXRzR3JpZCA9IFZlcnlFbmdpbmUuYXNzZXRzR3JpZDtcclxuXHJcbiAgICAgICAgLy8gdGh1bWJuYWlscyBzaXplXHJcbiAgICAgICAgdmFyIGJ0blRodW1iU2l6ZSA9IG5ldyBCdXR0b24oJyYjNTc2Njk7Jyk7XHJcbiAgICAgICAgYnRuVGh1bWJTaXplLnN0eWxlIS5mb250V2VpZ2h0ID0gJzIwMCc7XHJcbiAgICAgICAgYnRuVGh1bWJTaXplLmNsYXNzIS5hZGQoJ3NpemUnKTtcclxuICAgICAgICBidG5UaHVtYlNpemUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoYXNzZXRzR3JpZC5jbGFzcyEuY29udGFpbnMoJ3NtYWxsJykpIHtcclxuICAgICAgICAgICAgICAgIGFzc2V0c0dyaWQuY2xhc3MhLnJlbW92ZSgnc21hbGwnKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBUaHVtYlNpemUuaHRtbCA9ICc8c3BhbiBzdHlsZT1cImNvbG9yOiNmZmZcIj7lpKflm77moIc8L3NwYW4+IC8g5bCP5Zu+5qCHJztcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjphc3NldHM6dGh1bWJuYWlsOnNpemUnLCAnbGFyZ2UnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFzc2V0c0dyaWQuY2xhc3MhLmFkZCgnc21hbGwnKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBUaHVtYlNpemUuaHRtbCA9ICflpKflm77moIcgLyA8c3BhbiBzdHlsZT1cImNvbG9yOiNmZmZcIj7lsI/lm77moIc8L3NwYW4+JztcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjphc3NldHM6dGh1bWJuYWlsOnNpemUnLCAnc21hbGwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZChidG5UaHVtYlNpemUpO1xyXG5cclxuICAgICAgICB2YXIgdG9vbHRpcFRodW1iU2l6ZSA9IFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBidG5UaHVtYlNpemUuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIGFsaWduOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgcm9vdDogcm9vdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2l6ZSA9IGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6Z2V0JywgJ2VkaXRvcjphc3NldHM6dGh1bWJuYWlsOnNpemUnKTtcclxuXHJcbiAgICAgICAgaWYgKHNpemUgPT09ICdzbWFsbCcpIHtcclxuICAgICAgICAgICAgYXNzZXRzR3JpZC5jbGFzcyEuYWRkKCdzbWFsbCcpO1xyXG4gICAgICAgICAgICB0b29sdGlwVGh1bWJTaXplLmh0bWwgPSAn5aSn5Zu+5qCHIC8gPHNwYW4gc3R5bGU9XCJjb2xvcjojZmZmXCI+5bCP5Zu+5qCHPC9zcGFuPic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXNzZXRzR3JpZC5jbGFzcyEucmVtb3ZlKCdzbWFsbCcpO1xyXG4gICAgICAgICAgICB0b29sdGlwVGh1bWJTaXplLmh0bWwgPSAnPHNwYW4gc3R5bGU9XCJjb2xvcjojZmZmXCI+5aSn5Zu+5qCHPC9zcGFuPiAvIOWwj+Wbvuaghyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRvb2x0aXBUaHVtYlNpemUuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcblxyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2F0dHJpYnV0ZXM6Y2xlYXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIGJ0bkR1cGxpY2F0ZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGJ0bkRlbGV0ZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRvb2x0aXBEZWxldGUuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignYXR0cmlidXRlczppbnNwZWN0WypdJywgZnVuY3Rpb24gKHR5cGU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodHlwZS5zdGFydHNXaXRoKCdhc3NldCcpKSB7XHJcbiAgICAgICAgICAgICAgICBidG5EZWxldGUuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRGVsZXRlLmNsYXNzIS5yZW1vdmUoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnRuRGVsZXRlLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBEZWxldGUuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYnRuRHVwbGljYXRlLmVuYWJsZWQgPSB0eXBlID09PSAnYXNzZXQubWF0ZXJpYWwnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuXHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgUGFuZWwsIFByb2dyZXNzLCBUcmVlLCBUcmVlSXRlbSwgR3JpZCwgTGFiZWwsIFRvb2x0aXAsIEdyaWRJdGVtLCBNZW51LCBNZW51SXRlbSwgVG9wRWxlbWVudENvbnRhaW5lciwgVG9wRWxlbWVudFBhbmVsIH0gZnJvbSAnLi4vLi4vdWknO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSAnLi4vLi4vZW5naW5lJztcclxuaW1wb3J0IHsgT2JzZXJ2ZXIsIE9ic2VydmVyTGlzdCB9IGZyb20gJy4uLy4uL2xpYic7XHJcbmltcG9ydCB7IFRvb2xzIH0gZnJvbSAnLi4vdXRpbGl0eSc7XHJcbmltcG9ydCB7IEJhYnlsb25Mb2FkZXIgfSBmcm9tICcuLi9taWRkbGV3YXJlL2xvYWRlci9iYWJ5bG9uTG9hZGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBc3NldHNQYW5lbCB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZhciByb290OiBUb3BFbGVtZW50Q29udGFpbmVyID0gVmVyeUVuZ2luZS5yb290O1xyXG4gICAgICAgIHZhciBhc3NldHNQYW5lbDogVG9wRWxlbWVudFBhbmVsID0gVmVyeUVuZ2luZS5hc3NldHM7XHJcbiAgICAgICAgdmFyIGRyYWdnaW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGRyYWdnaW5nRGF0YTogYW55ID0ge307XHJcblxyXG5cclxuICAgICAgICB2YXIgbGVnYWN5U2NyaXB0czogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBzZWxlY3RvciA9IHtcclxuICAgICAgICAgICAgdHlwZTogJycsXHJcbiAgICAgICAgICAgIGl0ZW1zOiBuZXcgQXJyYXk8T2JzZXJ2ZXI+KCksXHJcbiAgICAgICAgICAgIHByZXY6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgaXRlbXM6IG5ldyBBcnJheTxPYnNlcnZlcj4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc2VhcmNoaW5nID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICBsZXQgb3ZlcmxheTogVG9wRWxlbWVudENvbnRhaW5lciA9IG5ldyBUb3BFbGVtZW50Q29udGFpbmVyKHtcclxuICAgICAgICAgICAgZmxleDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG92ZXJsYXkuY2xhc3MhLmFkZCgncHJvZ3Jlc3Mtb3ZlcmxheScpO1xyXG4gICAgICAgIGFzc2V0c1BhbmVsLmFwcGVuZChvdmVybGF5KTtcclxuXHJcbiAgICAgICAgdmFyIGxvYWRpbmcgPSBuZXcgUHJvZ3Jlc3MoKTtcclxuICAgICAgICBsb2FkaW5nLnByb2dyZXNzID0gMC4wMTtcclxuICAgICAgICBsb2FkaW5nLm9uKCdwcm9ncmVzczoxMDAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBvdmVybGF5LmFwcGVuZChsb2FkaW5nKTtcclxuICAgICAgICAvLyBUT0RP77ya6ZqQ6JePXHJcbiAgICAgICAgb3ZlcmxheS5oaWRkZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6cHJvZ3Jlc3MnLCBmdW5jdGlvbiAocHJvZ3Jlc3M6IG51bWJlcikge1xyXG4gICAgICAgICAgICBsb2FkaW5nLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGZvbGRlcnMgcGFuZWxcclxuICAgICAgICB2YXIgZm9sZGVycyA9IG5ldyBQYW5lbCgpO1xyXG4gICAgICAgIGZvbGRlcnMuY2xhc3MhLmFkZCgnZm9sZGVycycpO1xyXG4gICAgICAgIGZvbGRlcnMuZmxleFNocmluayA9ICcwJztcclxuICAgICAgICBmb2xkZXJzLnN0eWxlIS53aWR0aCA9ICcyMDBweCc7XHJcbiAgICAgICAgZm9sZGVycy5pbm5lckVsZW1lbnQhLnN0eWxlLndpZHRoID0gJzIwMHB4JztcclxuICAgICAgICBmb2xkZXJzLmZvbGRhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgZm9sZGVycy5ob3Jpem9udGFsID0gdHJ1ZTtcclxuICAgICAgICBmb2xkZXJzLnNjcm9sbCA9IHRydWU7XHJcbiAgICAgICAgZm9sZGVycy5yZXNpemFibGUgPSAncmlnaHQnO1xyXG4gICAgICAgIGZvbGRlcnMucmVzaXplTWluID0gMTAwO1xyXG4gICAgICAgIGZvbGRlcnMucmVzaXplTWF4ID0gMzAwO1xyXG4gICAgICAgIGFzc2V0c1BhbmVsLmFwcGVuZChmb2xkZXJzKTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOnBhbmVsOmZvbGRlcnMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb2xkZXJzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBmb2xkZXJcclxuICAgICAgICB2YXIgZmlsZXMgPSBuZXcgUGFuZWwoKTtcclxuICAgICAgICBmaWxlcy5jbGFzcyEuYWRkKCdmaWxlcycpO1xyXG4gICAgICAgIGZpbGVzLmZsZXhHcm93ID0gJzEnO1xyXG4gICAgICAgIGZpbGVzLmZvbGRhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgZmlsZXMuaG9yaXpvbnRhbCA9IHRydWU7XHJcbiAgICAgICAgZmlsZXMuc2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICBhc3NldHNQYW5lbC5hcHBlbmQoZmlsZXMpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gZ3JpZFxyXG4gICAgICAgIHZhciBncmlkID0gbmV3IEdyaWQoKTtcclxuICAgICAgICAvLyBncmlkLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBncmlkLmNsYXNzIS5hZGQoJ2Fzc2V0cycpO1xyXG4gICAgICAgIGZpbGVzLmFwcGVuZChncmlkKTtcclxuICAgICAgICBWZXJ5RW5naW5lLmFzc2V0c0dyaWQgPSBncmlkO1xyXG5cclxuICAgICAgICAvLyB0cmVlXHJcbiAgICAgICAgdmFyIHRyZWUgPSBuZXcgVHJlZSgpO1xyXG4gICAgICAgIC8vIHRyZWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRyZWUuZHJhZ2dhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdHJlZS5jbGFzcyEuYWRkKCdhc3NldHMnKTtcclxuICAgICAgICBmb2xkZXJzLmFwcGVuZCh0cmVlKTtcclxuXHJcbiAgICAgICAgLy8gdHJlZSByb29077yMQXNzZXRz5qC555uu5b2VXHJcbiAgICAgICAgdmFyIHRyZWVSb290ID0gbmV3IFRyZWVJdGVtKHtcclxuICAgICAgICAgICAgdGV4dDogJy8nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJlZS5hcHBlbmQodHJlZVJvb3QpO1xyXG4gICAgICAgIC8vIHRyZWUuZWxlbWVudCEuYXBwZW5kQ2hpbGQodHJlZVJvb3QuZWxlbWVudCEpO1xyXG4gICAgICAgIC8vIHRyZWUuZW1pdCgnYXBwZW5kJywgdHJlZVJvb3QpO1xyXG4gICAgICAgIHRyZWVSb290Lm9wZW4gPSB0cnVlO1xyXG4gICAgICAgIHRyZWVSb290LmNsYXNzIS5hZGQoJ2N1cnJlbnQnKTtcclxuICAgICAgICB0cmVlUm9vdC5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0cmVlUm9vdC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB0cmVlIHdpZHRoIHJlc2l6aW5nXHJcbiAgICAgICAgdmFyIHJlc2l6ZVF1ZXVlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciByZXNpemVUcmVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXNpemVRdWV1ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdHJlZS5lbGVtZW50IS5zdHlsZS53aWR0aCA9ICcnO1xyXG4gICAgICAgICAgICB0cmVlLmVsZW1lbnQhLnN0eWxlLndpZHRoID0gKGZvbGRlcnMuaW5uZXJFbGVtZW50IS5zY3JvbGxXaWR0aCAtIDUpICsgJ3B4JztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciByZXNpemVRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHJlc2l6ZVF1ZXVlZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICByZXNpemVRdWV1ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzaXplVHJlZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb2xkZXJzLm9uKCdyZXNpemUnLCByZXNpemVRdWV1ZSk7XHJcbiAgICAgICAgdHJlZS5vbignb3BlbicsIHJlc2l6ZVF1ZXVlKTtcclxuICAgICAgICB0cmVlLm9uKCdjbG9zZScsIHJlc2l6ZVF1ZXVlKTtcclxuICAgICAgICBzZXRJbnRlcnZhbChyZXNpemVRdWV1ZSwgMTAwMCk7XHJcblxyXG4gICAgICAgIHZhciBncmlkU2NyaXB0czogR3JpZEl0ZW07XHJcbiAgICAgICAgdmFyIHRyZWVTY3JpcHRzOiBUcmVlSXRlbTtcclxuICAgICAgICB2YXIgY3JlYXRlTGVnYWN5U2NyaXB0Rm9sZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBncmlkU2NyaXB0cyA9IG5ldyBHcmlkSXRlbSgpO1xyXG4gICAgICAgICAgICBncmlkU2NyaXB0cy5jbGFzcyEuYWRkKCd0eXBlLWZvbGRlcicsICdzY3JpcHRzJyk7XHJcbiAgICAgICAgICAgIGdyaWQuYXBwZW5kKGdyaWRTY3JpcHRzKTtcclxuXHJcbiAgICAgICAgICAgIGdyaWRTY3JpcHRzLnRyZWUgPSB0cmVlU2NyaXB0cyA9IG5ldyBUcmVlSXRlbSh7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiAnc2NyaXB0cydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGdyaWRTY3JpcHRzLnRyZWUuY2xhc3MhLmFkZCgnc2NyaXB0cycpO1xyXG4gICAgICAgICAgICBncmlkU2NyaXB0cy50cmVlLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBncmlkU2NyaXB0cy50cmVlLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0cmVlUm9vdC5hcHBlbmQoZ3JpZFNjcmlwdHMudHJlZSk7XHJcblxyXG4gICAgICAgICAgICBncmlkU2NyaXB0cy5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmNsZWFyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3Rvci50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IucHJldi50eXBlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IucHJldi5pdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNjcmlwdHMgb3BlblxyXG4gICAgICAgICAgICBncmlkU2NyaXB0cy5lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRyZWUuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6ZmlsdGVyOnNlYXJjaCcsICcnKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsICdzY3JpcHRzJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgYmFjayBzZWxlY3Rpb25cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IucHJldi50eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpzZXQnLCBzZWxlY3Rvci5wcmV2LnR5cGUsIHNlbGVjdG9yLnByZXYuaXRlbXMpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGh1bWJuYWlsID0gZ3JpZFNjcmlwdHMudGh1bWJuYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKCd0aHVtYm5haWwnLCAncGxhY2Vob2xkZXInKTtcclxuICAgICAgICAgICAgZ3JpZFNjcmlwdHMuZWxlbWVudCEuYXBwZW5kQ2hpbGQodGh1bWJuYWlsKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnaWNvbicpO1xyXG4gICAgICAgICAgICBncmlkU2NyaXB0cy5lbGVtZW50IS5hcHBlbmRDaGlsZChpY29uKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGdyaWRTY3JpcHRzLmxhYmVsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbCcpO1xyXG4gICAgICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9ICdzY3JpcHRzJztcclxuICAgICAgICAgICAgZ3JpZFNjcmlwdHMuZWxlbWVudCEuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29udGV4dCBtZW51XHJcbiAgICAgICAgICAgIHZhciBtZW51ID0gbmV3IE1lbnUoKTtcclxuICAgICAgICAgICAgcm9vdC5hcHBlbmQobWVudSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzY3JpcHRcclxuICAgICAgICAgICAgdmFyIG1lbnVTY3JpcHQgPSBuZXcgTWVudUl0ZW0oe1xyXG4gICAgICAgICAgICAgICAgdGV4dDogJ05ldyBTY3JpcHQnLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6ICdzY3JpcHQnLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJyYjNTc4NjQ7J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbWVudVNjcmlwdC5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NvdXJjZWZpbGVzOm5ldycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbWVudS5hcHBlbmQobWVudVNjcmlwdCk7XHJcblxyXG4gICAgICAgICAgICBlZGl0b3Iub24oJ3JlcG9zaXRvcmllczpsb2FkJywgZnVuY3Rpb24gKHJlcG9zaXRvcmllczogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXBvc2l0b3JpZXMuZ2V0KCdjdXJyZW50JykgIT09ICdkaXJlY3RvcnknKVxyXG4gICAgICAgICAgICAgICAgICAgIG1lbnVTY3JpcHQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIG9uQ29udGV4dE1lbnUgPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBtZW51LnBvc2l0aW9uKGV2dC5jbGllbnRYICsgMSwgZXZ0LmNsaWVudFkpO1xyXG4gICAgICAgICAgICAgICAgbWVudS5vcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZ3JpZFNjcmlwdHMuZWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRyZWVTY3JpcHRzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIG9uQ29udGV4dE1lbnUsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHJlc2l6ZVF1ZXVlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAobGVnYWN5U2NyaXB0cylcclxuICAgICAgICAgICAgY3JlYXRlTGVnYWN5U2NyaXB0Rm9sZGVyKCk7XHJcblxyXG5cclxuICAgICAgICB2YXIgY3VycmVudEZvbGRlcjogT2JzZXJ2ZXIgfCBzdHJpbmcgfCBudWxsID0gbnVsbDsgIC8vIGFzc2V0cyAtPiBPYnNlcnZlclxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJywgZnVuY3Rpb24gKGFzc2V0OiBPYnNlcnZlciB8IHN0cmluZyB8IG51bGwpOiBPYnNlcnZlciB8IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgICAgICBpZiAoYXNzZXQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Rm9sZGVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFzc2V0ID09PSBjdXJyZW50Rm9sZGVyKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAvLyBjdXJyZW50IGZvbGRlciBzdHlsZSByZW1vdmVcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb2xkZXIgJiYgdHlwZW9mIChjdXJyZW50Rm9sZGVyKSAhPT0gJ3N0cmluZycgJiYgYXNzZXRzSW5kZXhbY3VycmVudEZvbGRlci5nZXQoJ2lkJyldKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NldHNJbmRleFtjdXJyZW50Rm9sZGVyLmdldCgnaWQnKV0udHJlZS5jbGFzcyEucmVtb3ZlKCdjdXJyZW50Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZvbGRlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyZWVSb290LmNsYXNzIS5yZW1vdmUoJ2N1cnJlbnQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJlZVNjcmlwdHMgJiYgY3VycmVudEZvbGRlciA9PT0gJ3NjcmlwdHMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJlZVNjcmlwdHMuY2xhc3MhLnJlbW92ZSgnY3VycmVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50Rm9sZGVyID0gYXNzZXQ7XHJcblxyXG4gICAgICAgICAgICAvLyBjdXJyZW50IGZvbGRlciBzdHlsZSBhZGRcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb2xkZXIgJiYgdHlwZW9mIChjdXJyZW50Rm9sZGVyKSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGFzc2V0c0luZGV4W2N1cnJlbnRGb2xkZXIuZ2V0KCdpZCcpXS50cmVlLmNsYXNzIS5hZGQoJ2N1cnJlbnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBvcGVuIHRyZWUgdXBcclxuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gY3VycmVudEZvbGRlci5nZXQoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYXNzZXRzSW5kZXhbcGF0aFtpXV0gfHwgIWFzc2V0c0luZGV4W3BhdGhbaV1dLnRyZWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhc3NldHNJbmRleFtwYXRoW2ldXS50cmVlLm9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRGb2xkZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRyZWVSb290LmNsYXNzIS5hZGQoJ2N1cnJlbnQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0cmVlU2NyaXB0cyAmJiBjdXJyZW50Rm9sZGVyID09PSAnc2NyaXB0cycpIHtcclxuICAgICAgICAgICAgICAgIHRyZWVTY3JpcHRzLmNsYXNzIS5hZGQoJ2N1cnJlbnQnKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6ZmlsdGVyOnR5cGUnLCAnYWxsJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChsZWdhY3lTY3JpcHRzKVxyXG4gICAgICAgICAgICAgICAgZ3JpZFNjcmlwdHMuaGlkZGVuID0gY3VycmVudEZvbGRlciAhPT0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIGN1cnJlbnRGb2xkZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZvbGRlcjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLmNhbGwoJ2hvdGtleTpyZWdpc3RlcicsICdhc3NldHM6ZnM6dXAnLCB7XHJcbiAgICAgICAgICAgIGtleTogJ2JhY2tzcGFjZScsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRGb2xkZXIgfHwgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnR5cGUnKSAhPT0gJ2Fzc2V0JylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSB0eXBlb2YgKGN1cnJlbnRGb2xkZXIpID09PSAnc3RyaW5nJyA/IFtdIDogY3VycmVudEZvbGRlci5nZXQoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIHBhdGhbcGF0aC5sZW5ndGggLSAxXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignZHJvcDphY3RpdmUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4sIHR5cGU6IHN0cmluZywgZGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkcm9wOmFjdGl2ZTogJyArIHN0YXRlICsgJyAtICcgKyB0eXBlICsgJyAtICcgKyBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGRyYWdnaW5nID0gc3RhdGU7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBncmlkLmRyYWdPdmVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZ3JpZERyb3BCb3JkZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB0cmVlRHJvcEJvcmRlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2Ryb3A6c2V0JywgZnVuY3Rpb24gKHR5cGU6IHN0cmluZywgZGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgIGRyYWdnaW5nRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignZHJvcDpzZXQnKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGRyYWdnaW5nRGF0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gSURyb3BcclxuICAgICAgICB2YXIgZHJvcFJlZiA9IGVkaXRvci5jYWxsKCdkcm9wOnRhcmdldCcsIHtcclxuICAgICAgICAgICAgcmVmOiBmb2xkZXJzLmVsZW1lbnQsXHJcbiAgICAgICAgICAgIGhvbGU6IHRydWUsXHJcbiAgICAgICAgICAgIHBhc3NUaHJvdWdoOiB0cnVlLFxyXG4gICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuc3RhcnRzV2l0aCgnYXNzZXQnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZHJvcDogZnVuY3Rpb24gKHR5cGU6IHN0cmluZywgZGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2Ryb3A6ICcgKyB0eXBlKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmICghdHlwZSB8fCBncmlkLmRyYWdPdmVyID09PSB1bmRlZmluZWQgfHwgIXR5cGUuc3RhcnRzV2l0aCgnYXNzZXQnKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRzOiBhbnkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYWRkQXNzZXQgPSBmdW5jdGlvbiAoaWQ6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3NldCA9IGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBkZXNlbGVjdCBtb3ZlZCBhc3NldFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtcy5pbmRleE9mKGFzc2V0KSAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpyZW1vdmUnLCBhc3NldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0cy5wdXNoKGFzc2V0KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaWRzICYmIGRhdGEuaWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaWRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBc3NldChkYXRhLmlkc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZEFzc2V0KGRhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpmczptb3ZlJywgYXNzZXRzLCBncmlkLmRyYWdPdmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRyb3BSZWYuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhc3NldHMtZHJvcC1hcmVhJyk7XHJcblxyXG4gICAgICAgIHZhciB0cmVlQXBwZW5kUXVldWU6IHsgW2tleTogc3RyaW5nXTogR3JpZEl0ZW1bXSB9ID0ge307XHJcblxyXG5cclxuXHJcbiAgICAgICAgdHJlZVJvb3QuZWxlbWVudFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFkcmFnZ2luZyB8fCBncmlkLmRyYWdPdmVyID09PSBudWxsIHx8ICghZHJhZ2dpbmdEYXRhLmlkICYmICFkcmFnZ2luZ0RhdGEuaWRzKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gdGhhdCBmb2xkZXJcclxuICAgICAgICAgICAgdmFyIGRyYWdBc3NldCA9IGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgZHJhZ2dpbmdEYXRhLmlkIHx8IGRyYWdnaW5nRGF0YS5pZHNbMF0pO1xyXG4gICAgICAgICAgICBpZiAoIWRyYWdBc3NldC5nZXQoJ3BhdGgnKS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBncmlkRHJvcEJvcmRlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZWN0ID0gdHJlZVJvb3QuZWxlbWVudFRpdGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB0cmVlRHJvcEJvcmRlci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdHJlZURyb3BCb3JkZXIuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArICdweCc7XHJcbiAgICAgICAgICAgIHRyZWVEcm9wQm9yZGVyLnN0eWxlLnRvcCA9IHJlY3QudG9wICsgJ3B4JztcclxuICAgICAgICAgICAgdHJlZURyb3BCb3JkZXIuc3R5bGUucmlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0KSArICdweCc7XHJcbiAgICAgICAgICAgIHRyZWVEcm9wQm9yZGVyLnN0eWxlLmJvdHRvbSA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSByZWN0LmJvdHRvbSkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgZ3JpZC5kcmFnT3ZlciA9IG51bGw7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICB0cmVlUm9vdC5lbGVtZW50VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghZHJhZ2dpbmcgfHwgZ3JpZC5kcmFnT3ZlciA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgZ3JpZERyb3BCb3JkZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRyZWVEcm9wQm9yZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgZ3JpZC5kcmFnT3ZlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyIGRyb3BSZWYyID0gZWRpdG9yLmNhbGwoJ2Ryb3A6dGFyZ2V0Jywge1xyXG4gICAgICAgICAgICByZWY6IGZpbGVzLmVsZW1lbnQsXHJcbiAgICAgICAgICAgIGhvbGU6IHRydWUsXHJcbiAgICAgICAgICAgIHBhc3NUaHJvdWdoOiB0cnVlLFxyXG4gICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuc3RhcnRzV2l0aCgnYXNzZXQnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZHJvcDogZnVuY3Rpb24gKHR5cGU6IHN0cmluZywgZGF0YTogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0eXBlIHx8IGdyaWQuZHJhZ092ZXIgPT09IHVuZGVmaW5lZCB8fCAhdHlwZS5zdGFydHNXaXRoKCdhc3NldCcpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2Ryb3AyOiAnICsgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhncmlkLmRyYWdPdmVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRzOiBhbnkgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihpdGVtcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFkZEFzc2V0ID0gZnVuY3Rpb24gKGlkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhc3NldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlc2VsZWN0IG1vdmVkIGFzc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zLmluZGV4T2YoYXNzZXQpICE9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnJlbW92ZScsIGFzc2V0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRzLnB1c2goYXNzZXQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pZHMgJiYgZGF0YS5pZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5pZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXNzZXQoZGF0YS5pZHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQXNzZXQoZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGdyaWQuZHJhZ092ZXIuZ2V0KCd0eXBlJykgPT09ICdmb2xkZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpmczptb3ZlJywgYXNzZXRzLCBncmlkLmRyYWdPdmVyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JpZC5kcmFnT3Zlci5nZXQoJ3R5cGUnKSA9PT0gJ2J1bmRsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRBZGRlZCA9IGVkaXRvci5jYWxsKCdhc3NldHM6YnVuZGxlczphZGRBc3NldHMnLCBhc3NldHMsIGdyaWQuZHJhZ092ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudEFkZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gYXNzZXRzSW5kZXhbZ3JpZC5kcmFnT3Zlci5nZXQoJ2lkJyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzIS5hZGQoJ2NvbmZpcm0tYW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzcyEucmVtb3ZlKCdjb25maXJtLWFuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRyb3BSZWYyLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYXNzZXRzLWRyb3AtYXJlYScpO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOndyaXRlU3RhdGUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgdHJlZS5lbmFibGVkID0gc3RhdGU7XHJcbiAgICAgICAgICAgIGdyaWQuZW5hYmxlZCA9IHN0YXRlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgbGFiZWxOb0Fzc2V0cyA9IG5ldyBMYWJlbCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSk7XHJcbiAgICAgICAgbGFiZWxOb0Fzc2V0cy5yZW5kZXJDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgbGFiZWxOb0Fzc2V0cy5jbGFzcyEuYWRkKCduby1hc3NldHMnKTtcclxuICAgICAgICBsYWJlbE5vQXNzZXRzLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgZmlsZXMuYXBwZW5kKGxhYmVsTm9Bc3NldHMpO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6cGFuZWw6bWVzc2FnZScsIGZ1bmN0aW9uIChtc2c6IHN0cmluZykge1xyXG4gICAgICAgICAgICBsYWJlbE5vQXNzZXRzLnRleHQgPSBtc2c7XHJcbiAgICAgICAgICAgIGxhYmVsTm9Bc3NldHMuaGlkZGVuID0gIW1zZztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNjcmlwdHNJbmRleDogeyBba2V5OiBzdHJpbmddOiBHcmlkSXRlbSB9ID0ge307XHJcbiAgICAgICAgdmFyIGFzc2V0c0luZGV4OiB7IFtrZXk6IHN0cmluZ106IEdyaWRJdGVtIH0gPSB7fTtcclxuICAgICAgICB2YXIgYXNzZXRzQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIGdyaWQuYXNzZXRzSW5kZXggPSBhc3NldHNJbmRleDtcclxuXHJcbiAgICAgICAgdmFyIGdyaWREcm9wQm9yZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZ3JpZERyb3BCb3JkZXIuY2xhc3NMaXN0LmFkZCgnYXNzZXRzLWRyb3AtYm9yZGVyJyk7XHJcbiAgICAgICAgcm9vdC5hcHBlbmQoZ3JpZERyb3BCb3JkZXIpO1xyXG5cclxuICAgICAgICB2YXIgdHJlZURyb3BCb3JkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0cmVlRHJvcEJvcmRlci5jbGFzc0xpc3QuYWRkKCdhc3NldHMtZHJvcC1ib3JkZXInKTtcclxuICAgICAgICByb290LmFwcGVuZCh0cmVlRHJvcEJvcmRlcik7XHJcblxyXG4gICAgICAgIHZhciB0b29sdGlwQXNzZXQgPSBuZXcgVG9vbHRpcCh7XHJcbiAgICAgICAgICAgIHRleHQ6ICdBc3NldCcsXHJcbiAgICAgICAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgICAgICAgaG92ZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJvb3QuYXBwZW5kKHRvb2x0aXBBc3NldCk7XHJcblxyXG4gICAgICAgIHZhciB0b29sdGlwVGFyZ2V0OiBhbnkgPSBudWxsO1xyXG4gICAgICAgIHZhciB0b29sdGlwVGltZW91dDogYW55ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIHRvb2x0aXBTaG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRvb2x0aXBUYXJnZXQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAodG9vbHRpcFRhcmdldCAmJiB0b29sdGlwVGFyZ2V0Lm5vZGVOYW1lICE9PSAnTEknICYmICF0b29sdGlwVGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndWktZ3JpZC1pdGVtJykpXHJcbiAgICAgICAgICAgICAgICB0b29sdGlwVGFyZ2V0ID0gdG9vbHRpcFRhcmdldC5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0b29sdGlwVGFyZ2V0IHx8ICF0b29sdGlwVGFyZ2V0LnVpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlY3QgPSB0b29sdGlwVGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgb2ZmID0gMTY7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVjdC53aWR0aCA8IDY0KSBvZmYgPSByZWN0LndpZHRoIC8gMjtcclxuICAgICAgICAgICAgdG9vbHRpcEFzc2V0LmZsaXAgPSByZWN0LmxlZnQgKyBvZmYgPiB3aW5kb3cuaW5uZXJXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwQXNzZXQuZmxpcCkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcEFzc2V0LnBvc2l0aW9uKHJlY3QucmlnaHQgLSBvZmYsIHJlY3QuYm90dG9tKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBBc3NldC5wb3NpdGlvbihyZWN0LmxlZnQgKyBvZmYsIHJlY3QuYm90dG9tKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdG9vbHRpcEFzc2V0LnRleHQgPSB0b29sdGlwVGFyZ2V0LnVpLmFzc2V0LmdldCgnbmFtZScpO1xyXG4gICAgICAgICAgICB0b29sdGlwQXNzZXQuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG9uQXNzZXRJdGVtSG92ZXIgPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRvb2x0aXBUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdG9vbHRpcFRhcmdldCA9IGV2dC50YXJnZXQ7XHJcbiAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gc2V0VGltZW91dCh0b29sdGlwU2hvdywgMzAwKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgb25Bc3NldEl0ZW1CbHVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0b29sdGlwQXNzZXQuaGlkZGVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0b29sdGlwVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRvb2x0aXBUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBvbkFzc2V0SXRlbVJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gaWYgKCF0b29sdGlwVGFyZ2V0IHx8ICF0b29sdGlwVGFyZ2V0LnVpIHx8IHRvb2x0aXBUYXJnZXQudWkuYXNzZXQgIT09IHRoaXMpXHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRvb2x0aXBUYXJnZXQgfHwgIXRvb2x0aXBUYXJnZXQudWkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBvbkFzc2V0SXRlbUJsdXIoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBncmlkLmlubmVyRWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdG9vbHRpcEFzc2V0LmhpZGRlbiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodG9vbHRpcFRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0b29sdGlwVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRyZWUub24oJ3NlbGVjdCcsIGZ1bmN0aW9uIChpdGVtOiBUcmVlSXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoYXNzZXRzQ2hhbmdlZClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLmFzc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVRyZWUuX2N0cmwgfHwgIVRyZWUuX2N0cmwoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Rm9sZGVyICE9PSBpdGVtLmFzc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgJ2Fzc2V0JywgW2l0ZW0uYXNzZXRdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjphZGQnLCAnYXNzZXQnLCBpdGVtLmFzc2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFpdGVtLmFzc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PT0gdHJlZVJvb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmZpbHRlcjpzZWFyY2gnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0gPT09IHRyZWVTY3JpcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpmaWx0ZXI6c2VhcmNoJywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsICdzY3JpcHRzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghVHJlZS5fY3RybCB8fCAhVHJlZS5fY3RybCgpKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmZpbHRlcjpzZWFyY2gnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCBpdGVtLmFzc2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0cmVlLm9uKCdkZXNlbGVjdCcsIGZ1bmN0aW9uIChpdGVtOiBUcmVlSXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoYXNzZXRzQ2hhbmdlZClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLmFzc2V0KVxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnJlbW92ZScsIGl0ZW0uYXNzZXQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBncmlkLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoaXRlbTogR3JpZEl0ZW0pIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChhc3NldHNDaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dyaWQgc2VsZWN0Jyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS5hc3NldCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmFkZCcsICdhc3NldCcsIGl0ZW0uYXNzZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgLy8gfSBlbHNlIGlmIChpdGVtLnNjcmlwdCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmFkZCcsICdhc3NldCcsIGl0ZW0uc2NyaXB0KTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBncmlkLm9uKCdkZXNlbGVjdCcsIGZ1bmN0aW9uIChpdGVtOiBHcmlkSXRlbSkge1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcignZ3JpZCBkZXNlbGVjdCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFzc2V0c0NoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS5hc3NldCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihpdGVtKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoaXRlbS5hc3NldCk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6cmVtb3ZlJywgaXRlbS5hc3NldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gfSBlbHNlIGlmIChpdGVtLnNjcmlwdCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnJlbW92ZScsIGl0ZW0uc2NyaXB0KTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ3NlbGVjdG9yOmNoYW5nZScsIGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGl0ZW1zOiBPYnNlcnZlcltdKSB7XHJcbiAgICAgICAgICAgIGFzc2V0c0NoYW5nZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgc2VsZWN0b3IucHJldi50eXBlID0gc2VsZWN0b3IudHlwZTtcclxuICAgICAgICAgICAgc2VsZWN0b3IucHJldi5pdGVtcyA9IHNlbGVjdG9yLml0ZW1zO1xyXG5cclxuICAgICAgICAgICAgc2VsZWN0b3IudHlwZSA9IGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJyk7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yLml0ZW1zID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCd0eXBlOiAnICsgdHlwZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdhc3NldCcpIHtcclxuICAgICAgICAgICAgICAgIHRyZWUuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMuc2xpY2UoMCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRzOiBHcmlkSXRlbVtdID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWdhY3lTY3JpcHRzICYmIGl0ZW1zW2ldLmdldCgndHlwZScpID09PSAnc2NyaXB0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldHMucHVzaChzY3JpcHRzSW5kZXhbaXRlbXNbaV0uZ2V0KCdmaWxlbmFtZScpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzLnB1c2goYXNzZXRzSW5kZXhbaXRlbXNbaV0uZ2V0KCdpZCcpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3NldHNbaV0udHJlZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzW2ldLnRyZWUuc2VsZWN0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wZW4gdHJlZSB1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBpdGVtc1tpXS5nZXQoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcGF0aC5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXNzZXRzSW5kZXhbcGF0aFtuXV0gfHwgIWFzc2V0c0luZGV4W3BhdGhbbl1dLnRyZWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0c0luZGV4W3BhdGhbbl1dLnRyZWUub3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZ3JpZC5zZWxlY3RlZCA9IGFzc2V0cztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgobGVnYWN5U2NyaXB0cyAmJiAhKGdyaWRTY3JpcHRzLnNlbGVjdGVkICYmIGdyaWQuc2VsZWN0ZWQubGVuZ3RoID09PSAxKSkgfHwgc2VsZWN0b3IudHlwZSAhPT0gJ2Fzc2V0JylcclxuICAgICAgICAgICAgICAgICAgICBncmlkLnNlbGVjdGVkID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgdHJlZS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhc3NldHNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHJldHVybiBncmlkXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmdyaWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBncmlkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2VhcmNoaW5nSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBzZWFyY2hpbmdFbGVtZW50OiBhbnkgPSBudWxsO1xyXG4gICAgICAgIHZhciBzZWFyY2hpbmdGdW5jdGlvbjogYW55ID0gbnVsbDtcclxuICAgICAgICB2YXIgc2VhcmNoaW5nQmF0Y2hMaW1pdCA9IDUxMjtcclxuXHJcbiAgICAgICAgdmFyIHNlYXJjaE5leHRCYXRjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGRvbmUgPSAwO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKHNlYXJjaGluZ0VsZW1lbnQgJiYgKHNlYXJjaGluZ0JhdGNoTGltaXQgPT09IDAgfHwgZG9uZSA8IHNlYXJjaGluZ0JhdGNoTGltaXQpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHNlYXJjaGluZ0VsZW1lbnQudWk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hc3NldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmhpZGRlbiA9ICFzZWFyY2hpbmdGdW5jdGlvbignYXNzZXQnLCBpdGVtLmFzc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc2NyaXB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlkZGVuID0gIXNlYXJjaGluZ0Z1bmN0aW9uKCdzY3JpcHQnLCBpdGVtLnNjcmlwdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZWFyY2hpbmdFbGVtZW50ID0gc2VhcmNoaW5nRWxlbWVudC5uZXh0U2libGluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFzZWFyY2hpbmdFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hpbmdJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2VhcmNoTmV4dEJhdGNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGZpbHRlciBhc3NldHMgaW4gZ3JpZFxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpwYW5lbDpmaWx0ZXInLCBmdW5jdGlvbiAoZm46IEZ1bmN0aW9uLCBpbW1lZGlhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgaWYgKCFmbilcclxuICAgICAgICAgICAgICAgIGZuID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpmaWx0ZXI6ZGVmYXVsdCcpO1xyXG5cclxuICAgICAgICAgICAgbGFiZWxOb0Fzc2V0cy5oaWRkZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8g6I635Y+WZ3JpZOeahOesrOS4gOS4quWFg+e0oO+8iOaJgOaciWdyaWTnmoTpm4blkIjvvIlcclxuICAgICAgICAgICAgc2VhcmNoaW5nRWxlbWVudCA9IGdyaWQuZWxlbWVudCEuZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgc2VhcmNoaW5nRnVuY3Rpb24gPSBmbjtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpmaWx0ZXI6dHlwZScpO1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpmaWx0ZXI6c2VhcmNoJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXNlYXJjaCB8fCBpbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaGluZ0JhdGNoTGltaXQgPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoaW5nQmF0Y2hMaW1pdCA9IDUxMjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFzZWFyY2hpbmdJblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hpbmdJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzZWFyY2hOZXh0QmF0Y2gpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBuYXZpZ2F0ZSB0byBzZWxlY3RlZCBhc3NldHMgZm9sZGVyXHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hpbmcgJiYgIXNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yLnR5cGUgPT09ICdhc3NldCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2NyaXB0ID0gbGVnYWN5U2NyaXB0cyAmJiBzZWxlY3Rvci5pdGVtc1swXS5nZXQoJ3R5cGUnKSA9PT0gJ3NjcmlwdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBzY3JpcHQgPyBbXSA6IHNlbGVjdG9yLml0ZW1zWzBdLmdldCgncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtdWx0aVBhdGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHNlbGVjdG9yLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gc2VsZWN0b3IuaXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JpcHQgIT09IChpdGVtLmdldCgndHlwZScpID09PSAnc2NyaXB0JykgfHwgKCFzY3JpcHQgJiYgIXBhdGguZXF1YWxzKGl0ZW0uZ2V0KCdwYXRoJykpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlQYXRoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW11bHRpUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgcGF0aFtwYXRoLmxlbmd0aCAtIDFdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldHNJbmRleFtzZWxlY3Rvci5pdGVtc1swXS5nZXQoJ2lkJyldLmVsZW1lbnQhLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NyaXB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCAnc2NyaXB0cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VhcmNoKVxyXG4gICAgICAgICAgICAgICAgc2VhcmNoaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsZWdhY3lTY3JpcHRzKVxyXG4gICAgICAgICAgICAgICAgZ3JpZFNjcmlwdHMuaGlkZGVuID0gIWZuKCdzY3JpcHRzJywgJ3NjcmlwdHMnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IGdyaWQgaXRlbSBieSBpZFxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpwYW5lbDpnZXQnLCBmdW5jdGlvbiAoaWQ6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXRzSW5kZXhbaWRdIHx8IHNjcmlwdHNJbmRleFtpZF07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOaPkuWFpeWtkOaWh+S7tuWkue+8jOWmguaenOacieeahOivnVxyXG4gICAgICAgIHZhciBhcHBlbmRDaGlsZEZvbGRlcnMgPSBmdW5jdGlvbiAoaXRlbTogR3JpZEl0ZW0pIHtcclxuICAgICAgICAgICAgdmFyIHF1ZXVlID0gdHJlZUFwcGVuZFF1ZXVlW2l0ZW0uYXNzZXQuZ2V0KCdpZCcpXTtcclxuICAgICAgICAgICAgaWYgKCFxdWV1ZSB8fCAhcXVldWUubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb3Nlc3QgPSB0cmVlRmluZENsb3Nlc3QoaXRlbS50cmVlLCBxdWV1ZVtpXS50cmVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbG9zZXN0ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udHJlZSEuYXBwZW5kKHF1ZXVlW2ldLnRyZWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnRyZWUhLmFwcGVuZEJlZm9yZShxdWV1ZVtpXS50cmVlLCA8VHJlZUl0ZW0+KGl0ZW0udHJlZS5jaGlsZChjbG9zZXN0KS51aSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXBwZW5kQ2hpbGRGb2xkZXJzKHF1ZXVlW2ldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRyZWVBcHBlbmRRdWV1ZVtpdGVtLmFzc2V0LmdldCgnaWQnKV07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHRyZWVGaW5kQ2xvc2VzdCA9IGZ1bmN0aW9uIChwYXJlbnQ6IFRyZWVJdGVtLCBjdXJyZW50OiBUcmVlSXRlbSwgbmFtZU9sZD86IHN0cmluZyk6IG51bWJlciB7XHJcblxyXG4gICAgICAgICAgICAvLyDmlofku7bmlLnlj5jkuYvliY3nmoTlkI3lrZdcclxuICAgICAgICAgICAgbmFtZU9sZCA9IG5hbWVPbGQgfHwgY3VycmVudC50ZXh0O1xyXG4gICAgICAgICAgICAvLyBDaGlsZE5vZGUgLT4g5b2T5YmNcGFyZW505LiL55qE5YW25LuWaXRlbVxyXG4gICAgICAgICAgICB2YXIgbCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHBhcmVudC5lbGVtZW50IS5jaGlsZE5vZGVzLCAxKTtcclxuICAgICAgICAgICAgLy8gaWYgKGl0ZW0gPT09IHRyZWVSb290ICYmIGxlZ2FjeVNjcmlwdHMpXHJcbiAgICAgICAgICAgIC8vICAgbCA9IGwuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIC8vIGlmIChwYXJlbnQgPT09IHRyZWVSb290KVxyXG4gICAgICAgICAgICAvLyAgICAgbCA9IGwuc2xpY2UoMSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbWluID0gMDtcclxuICAgICAgICAgICAgdmFyIG1heCA9IGwubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgdmFyIGN1cjogbnVtYmVyID0gLTE7XHJcbiAgICAgICAgICAgIHZhciBhLCBpO1xyXG4gICAgICAgICAgICB2YXIgYU46IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICB2YXIgYk46IHN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGwubGVuZ3RoID09PSAwKSAgLy8g5b2T5YmN5rKh5pyJaXRlbe+8jOebtOaOpeWcqOacq+WwvuaPkuWFpWl0ZW1cclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE86IGHmsqHmnInotYvlgLzllYpcclxuICAgICAgICAgICAgaWYgKCgoYSA9PT0gY3VycmVudCkgPyBuYW1lT2xkLnRvTG93ZXJDYXNlKCkgOiBsWzBdLnVpLnRleHQudG9Mb3dlckNhc2UoKSkgPT09IGJOKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAobWluIDw9IG1heCkge1xyXG4gICAgICAgICAgICAgICAgY3VyID0gTWF0aC5mbG9vcigobWluICsgbWF4KSAvIDIpOyAvLyDkuozliIbms5VcclxuICAgICAgICAgICAgICAgIGEgPSBsW2N1cl07XHJcblxyXG4gICAgICAgICAgICAgICAgYU4gPSAoYSA9PT0gY3VycmVudCkgPyBuYW1lT2xkLnRvTG93ZXJDYXNlKCkgOiBhLnVpLnRleHQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGJOID0gY3VycmVudC50ZXh0LnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFOID4gYk4pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjdXIgLSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhTiA8IGJOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY3VyICsgMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgKGFOLmxvY2FsZUNvbXBhcmUoYk4pID4gMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIGN1cjtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgaWYgKGFOID4gYk4pIHJldHVybiBjdXI7XHJcblxyXG4gICAgICAgICAgICBpZiAoKGN1ciArIDEpID09PSBsLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjdXIgKyAxO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNlbGVjdCBhbGwgaG90a2V5XHJcbiAgICAgICAgLy8gY3RybCArIGFcclxuICAgICAgICBlZGl0b3IuY2FsbCgnaG90a2V5OnJlZ2lzdGVyJywgJ2Fzc2V0OnNlbGVjdC1hbGwnLCB7XHJcbiAgICAgICAgICAgIGN0cmw6IHRydWUsXHJcbiAgICAgICAgICAgIGtleTogJ2EnLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFzc2V0cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhc3NldHNJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYXNzZXRzSW5kZXhba2V5XS5oaWRkZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0cy5wdXNoKGFzc2V0c0luZGV4W2tleV0uYXNzZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzY3JpcHRzSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNjcmlwdHNJbmRleFtrZXldLmhpZGRlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzLnB1c2goc2NyaXB0c0luZGV4W2tleV0uc2NyaXB0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpzZXQnLCAnYXNzZXQnLCBhc3NldHMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6Y2xlYXInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgcmVuZGVyUXVldWU6IGFueSA9IFtdO1xyXG4gICAgICAgIHZhciByZW5kZXJRdWV1ZUluZGV4OiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuICAgICAgICB2YXIgcmVuZGVyUXVldWVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJRdWV1ZVVwZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXJlbmRlclF1ZXVlLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlIChpdGVtcyA8IDQgJiYgcmVuZGVyUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcysrO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gcmVuZGVyUXVldWUuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSByZW5kZXJRdWV1ZUluZGV4W2lkXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFzc2V0c0luZGV4W2lkXSB8fCAhYXNzZXRzSW5kZXhbaWRdLnRodW1ibmFpbCB8fCAhYXNzZXRzSW5kZXhbaWRdLnRodW1ibmFpbC5yZW5kZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgYXNzZXRzSW5kZXhbaWRdLnRodW1ibmFpbC5yZW5kZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlclF1ZXVlVXBkYXRlKTtcclxuXHJcbiAgICAgICAgdmFyIHJlbmRlclF1ZXVlQWRkID0gZnVuY3Rpb24gKGFzc2V0OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBhc3NldC5nZXQoJ2lkJyk7XHJcbiAgICAgICAgICAgIGlmIChyZW5kZXJRdWV1ZUluZGV4W2lkXSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmICghYXNzZXRzSW5kZXhbaWRdIHx8ICFhc3NldHNJbmRleFtpZF0udGh1bWJuYWlsIHx8ICFhc3NldHNJbmRleFtpZF0udGh1bWJuYWlsLnJlbmRlcilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHJlbmRlclF1ZXVlSW5kZXhbaWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmVuZGVyUXVldWUucHVzaChpZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHJlbmRlclF1ZXVlUmVtb3ZlID0gZnVuY3Rpb24gKGFzc2V0OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBhc3NldC5nZXQoJ2lkJyk7XHJcbiAgICAgICAgICAgIGlmICghcmVuZGVyUXVldWVJbmRleFtpZF0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5kID0gcmVuZGVyUXVldWUuaW5kZXhPZihpZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmQgIT09IC0xKVxyXG4gICAgICAgICAgICAgICAgcmVuZGVyUXVldWUuc3BsaWNlKGluZCwgMSk7XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgcmVuZGVyUXVldWVJbmRleFtpZF07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHNob3dHcmlkRHJvcEhpZ2hsaWdodCA9IGZ1bmN0aW9uIChpdGVtOiBHcmlkSXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgY2xpcCA9IGZpbGVzLmVsZW1lbnQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGl0ZW0uZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHZhciB0b3AgPSBNYXRoLm1heChyZWN0LnRvcCwgY2xpcC50b3ApO1xyXG4gICAgICAgICAgICB2YXIgYm90dG9tID0gTWF0aC5taW4ocmVjdC5ib3R0b20sIGNsaXAuYm90dG9tKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgoYm90dG9tIC0gdG9wKSA+IDgpIHtcclxuICAgICAgICAgICAgICAgIGdyaWREcm9wQm9yZGVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZERyb3BCb3JkZXIuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArICdweCc7XHJcbiAgICAgICAgICAgICAgICBncmlkRHJvcEJvcmRlci5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgZ3JpZERyb3BCb3JkZXIuc3R5bGUucmlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0KSArICdweCc7XHJcbiAgICAgICAgICAgICAgICBncmlkRHJvcEJvcmRlci5zdHlsZS5ib3R0b20gPSAod2luZG93LmlubmVySGVpZ2h0IC0gYm90dG9tKSArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgdmFyIHNob3dUcmVlRHJvcEhpZ2hsaWdodCA9IGZ1bmN0aW9uIChpdGVtOiBHcmlkSXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgY2xpcCA9IGZpbGVzLmVsZW1lbnQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGl0ZW0udHJlZSEuZWxlbWVudFRpdGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgdG9wID0gTWF0aC5tYXgocmVjdC50b3AsIGNsaXAudG9wKTtcclxuICAgICAgICAgICAgdmFyIGJvdHRvbSA9IE1hdGgubWluKHJlY3QuYm90dG9tLCBjbGlwLmJvdHRvbSk7XHJcbiAgICAgICAgICAgIGlmIChyZWN0LmhlaWdodCAmJiAoYm90dG9tIC0gdG9wKSA+IDQpIHtcclxuICAgICAgICAgICAgICAgIHRyZWVEcm9wQm9yZGVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdHJlZURyb3BCb3JkZXIuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArICdweCc7XHJcbiAgICAgICAgICAgICAgICB0cmVlRHJvcEJvcmRlci5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgdHJlZURyb3BCb3JkZXIuc3R5bGUucmlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0KSArICdweCc7XHJcbiAgICAgICAgICAgICAgICB0cmVlRHJvcEJvcmRlci5zdHlsZS5ib3R0b20gPSAod2luZG93LmlubmVySGVpZ2h0IC0gYm90dG9tKSArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBDYWxsZWQgd2hlbiBhIGZvbGRlciBhc3NldCBpcyBhZGRlZFxyXG4gICAgICAgIHZhciBvbkFkZEZvbGRlciA9IGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIsIGl0ZW06IEdyaWRJdGVtKSB7XHJcbiAgICAgICAgICAgIGl0ZW0udHJlZSA9IG5ldyBUcmVlSXRlbSh7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBhc3NldC5nZXQoJ25hbWUnKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaXRlbS50cmVlLmFzc2V0ID0gYXNzZXQ7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHBhdGg6IHN0cmluZ1tdID0gYXNzZXQuZ2V0KCdwYXRoJyk7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnQ7XHJcblxyXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Rm9sZGVySWQ6IHN0cmluZyA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChhc3NldHNJbmRleFtwYXJlbnRGb2xkZXJJZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBhc3NldHNJbmRleFtwYXJlbnRGb2xkZXJJZF0udHJlZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmVlQXBwZW5kUXVldWVbcGFyZW50Rm9sZGVySWRdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmVlQXBwZW5kUXVldWVbcGFyZW50Rm9sZGVySWRdID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyZWVBcHBlbmRRdWV1ZVtwYXJlbnRGb2xkZXJJZF0ucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHRyZWVSb290O1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oaXRlbS50ZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9zZXN0ID0gdHJlZUZpbmRDbG9zZXN0KHBhcmVudCwgaXRlbS50cmVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbG9zZXN0ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmQoaXRlbS50cmVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZEJlZm9yZShpdGVtLnRyZWUsIDxUcmVlSXRlbT4ocGFyZW50LmNoaWxkKGNsb3Nlc3QpLnVpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYXBwZW5kQ2hpbGRGb2xkZXJzKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgb25Nb3VzZU92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRyYWdnaW5nIHx8IGdyaWQuZHJhZ092ZXIgPT09IGFzc2V0KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb25Nb3VzZU92ZXIxJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkcmFnZ2luZ0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZ3JpZC5kcmFnT3Zlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWxsb3cgdG8gZHJhZyBvbiBpdCBzZWxmXHJcbiAgICAgICAgICAgICAgICBpZiAoZHJhZ2dpbmdEYXRhLmlkcyAmJiBkcmFnZ2luZ0RhdGEuaWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtdWx0aS1kcmFnXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdnaW5nRGF0YS5pZHMuaW5kZXhPZihhc3NldC5nZXQoJ2lkJykgIT09IC0xKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkcmFnZ2luZ0RhdGEuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUtZHJhZ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2Fybihhc3NldC5nZXQoJ2lkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldC5nZXQoJ2lkJykgPT09IGRyYWdnaW5nRGF0YS5pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzY3JpcHQgZmlsZSBkcmFnXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvbk1vdXNlT3ZlcjInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGluIHRoYXQgZm9sZGVyXHJcbiAgICAgICAgICAgICAgICB2YXIgZHJhZ0Fzc2V0ID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBkcmFnZ2luZ0RhdGEuaWQgfHwgZHJhZ2dpbmdEYXRhLmlkc1swXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IGRyYWdBc3NldC5nZXQoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCAmJiBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT09IGFzc2V0LmdldCgnaWQnKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWxsb3cgZHJhZ2dpbmcgaW50byBvd24gY2hpbGRcclxuICAgICAgICAgICAgICAgIGlmIChkcmFnZ2luZ0RhdGEuaWRzICYmIGRyYWdnaW5nRGF0YS5pZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG11bHRpLWRyYWdcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXRQYXRoID0gYXNzZXQuZ2V0KCdwYXRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkcmFnZ2luZ0RhdGEuaWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3NldFBhdGguaW5kZXhPZihkcmFnZ2luZ0RhdGEuaWRzW2ldKSAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUtZHJhZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldC5nZXQoJ3BhdGgnKS5pbmRleE9mKGRyYWdBc3NldC5nZXQoJ2lkJykpICE9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvbk1vdXNlT3ZlcjMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzaG93R3JpZERyb3BIaWdobGlnaHQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBzaG93VHJlZURyb3BIaWdobGlnaHQoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZ3JpZC5kcmFnT3ZlciA9IGFzc2V0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBvbk1vdXNlT3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkcmFnZ2luZyB8fCBncmlkLmRyYWdPdmVyICE9PSBhc3NldClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgZ3JpZERyb3BCb3JkZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB0cmVlRHJvcEJvcmRlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGdyaWQuZHJhZ092ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBkcmFnZ2FibGVcclxuICAgICAgICAgICAgaXRlbS50cmVlLmVsZW1lbnRUaXRsZS5kcmFnZ2FibGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaXRlbS5lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIG9uTW91c2VPdXQsIGZhbHNlKTtcclxuICAgICAgICAgICAgaXRlbS50cmVlLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIG9uTW91c2VPdXQsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25Nb3VzZU92ZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgaXRlbS50cmVlLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvbk1vdXNlT3ZlciwgZmFsc2UpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENhbGxlZCB3aGVuIGEgc2NyaXB0IGFzc2V0IGlzIGFkZGVkXHJcbiAgICAgICAgdmFyIG9uQWRkU2NyaXB0ID0gZnVuY3Rpb24gKGFzc2V0OiBPYnNlcnZlciwgaXRlbTogR3JpZEl0ZW0sIGV2ZW50czogYW55KSB7XHJcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKGVkaXRvci5vbignYXNzZXRzWycgKyBhc3NldC5nZXQoJ2lkJykgKyAnXTpzY3JpcHRzOmNvbGxpZGUnLCBmdW5jdGlvbiAoc2NyaXB0OiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3MhLmFkZCgnc2NyaXB0cy1jb2xsaWRlJyk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgZXZlbnRzLnB1c2goZWRpdG9yLm9uKCdhc3NldHNbJyArIGFzc2V0LmdldCgnaWQnKSArICddOnNjcmlwdHM6cmVzb2x2ZScsIGZ1bmN0aW9uIChzY3JpcHQ6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzcyEucmVtb3ZlKCdzY3JpcHRzLWNvbGxpZGUnKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBvbkFkZEJ1bmRsZSA9IGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIsIGl0ZW06IEdyaWRJdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25maXJtRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBjb25maXJtRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb25maXJtJyk7XHJcbiAgICAgICAgICAgIGNvbmZpcm1FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RodW1ibmFpbCcpO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFwcGVuZENoaWxkKGNvbmZpcm1FbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvbk1vdXNlT3ZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZHJhZ2dpbmcgfHwgZ3JpZC5kcmFnT3ZlciA9PT0gYXNzZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZHJhZ2dpbmdEYXRhLmlkcyAmJiAhZHJhZ2dpbmdEYXRhLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2NyaXB0IGZpbGUgZHJhZ1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRJZHMgPSAoZHJhZ2dpbmdEYXRhLmlkcyAmJiBkcmFnZ2luZ0RhdGEuaWRzLmxlbmd0aCA+IDApID8gZHJhZ2dpbmdEYXRhLmlkcy5zbGljZSgpIDogW2RyYWdnaW5nRGF0YS5pZF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWxsb3cgdG8gZHJhZyBvbiBpdCBzZWxmXHJcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRJZHMuaW5kZXhPZihhc3NldC5nZXQoJ2lkJykpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UnZmUgZm91bmQgYXQgbGVhc3QgMSB2YWxpZCBhc3NldFxyXG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnVuZGxlQXNzZXRzID0gYXNzZXQuZ2V0KCdkYXRhLmFzc2V0cycpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3NldElkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmFnZ2VkQXNzZXQgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIGFzc2V0SWRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYWdnZWRBc3NldCkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1bmRsZUFzc2V0cy5pbmRleE9mKGRyYWdnZWRBc3NldC5nZXQoJ2lkJykpICE9PSAtMSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZHJhZ2dlZEFzc2V0LmdldCgnc291cmNlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkcmFnZ2VkQXNzZXQuZ2V0KCd0eXBlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbJ2ZvbGRlcicsICdzY3JpcHQnLCAnYnVuZGxlJ10uaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBzaG93R3JpZERyb3BIaWdobGlnaHQoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZ3JpZC5kcmFnT3ZlciA9IGFzc2V0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG9uTW91c2VPdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRyYWdnaW5nIHx8IGdyaWQuZHJhZ092ZXIgIT09IGFzc2V0KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBncmlkRHJvcEJvcmRlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGdyaWQuZHJhZ092ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0Jywgb25Nb3VzZU91dCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyLCBmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2Fzc2V0czphZGQnLCBmdW5jdGlvbiAoYXNzZXQ6IE9ic2VydmVyLCBwb3M6IG51bWJlcikge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBldmVudHM6IGFueSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IG5ldyBHcmlkSXRlbSgpO1xyXG4gICAgICAgICAgICBpdGVtLmFzc2V0ID0gYXNzZXQ7XHJcbiAgICAgICAgICAgIGl0ZW0uY2xhc3MhLmFkZCgndHlwZS0nICsgYXNzZXQuZ2V0KCd0eXBlJykpO1xyXG5cclxuICAgICAgICAgICAgaXRlbS5lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvbkFzc2V0SXRlbUhvdmVyLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBvbkFzc2V0SXRlbUJsdXIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGFzc2V0Lm9uY2UoJ2Rlc3Ryb3knLCBvbkFzc2V0SXRlbVJlbW92ZS5iaW5kKGFzc2V0KSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgb25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGV2dDogRHJhZ0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9ICdhc3NldC4nICsgYXNzZXQuZ2V0KCd0eXBlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogYXNzZXQuZ2V0KCdpZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkczogbmV3IEFycmF5PG51bWJlcj4oKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3JUeXBlID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnR5cGUnKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rvckl0ZW1zID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yVHlwZSA9PT0gJ2Fzc2V0JyAmJiBzZWxlY3Rvckl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHNlbGVjdG9ySXRlbXNbMF0uZ2V0KCdwYXRoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvckl0ZW1zLmluZGV4T2YoYXNzZXQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0b3JJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWxsb3cgbXVsdGktcGF0aCBkcmFnZ2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoICE9PSBzZWxlY3Rvckl0ZW1zW2ldLmdldCgncGF0aCcpLmxlbmd0aCB8fCBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gIT09IHNlbGVjdG9ySXRlbXNbaV0uZ2V0KCdwYXRoJylbcGF0aC5sZW5ndGggLSAxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzLnB1c2goc2VsZWN0b3JJdGVtc1tpXS5nZXQoJ2lkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ2Fzc2V0cyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHM6IGlkc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0eXBlKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2VsZWN0b3JUeXBlKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGVjdG9ySXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdkcm9wOnNldCcsIHR5cGUsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Ryb3A6YWN0aXZhdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ2ZvbGRlcicpIHtcclxuICAgICAgICAgICAgICAgIG9uQWRkRm9sZGVyKGFzc2V0LCBpdGVtKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0udHJlZSEuZWxlbWVudFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnRyZWUuZWxlbWVudFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIG9uRHJhZ1N0YXJ0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzZXQuZ2V0KCd0eXBlJykgPT09ICdzY3JpcHQnKSB7XHJcbiAgICAgICAgICAgICAgICBvbkFkZFNjcmlwdChhc3NldCwgaXRlbSwgZXZlbnRzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ2J1bmRsZScpIHtcclxuICAgICAgICAgICAgICAgIC8vIG9uQWRkQnVuZGxlKGFzc2V0LCBpdGVtLCBldmVudHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgdXBkYXRlVGFzayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGF0dXMgPSBhc3NldC5nZXQoJ3Rhc2snKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3MhLnJlbW92ZSgndGFzaycsICdmYWlsZWQnLCAncnVubmluZycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAmJiB0eXBlb2YgKHN0YXR1cykgPT09ICdzdHJpbmcnICYmIHN0YXR1c1swXSAhPT0gJ3snKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzcyEuYWRkKCd0YXNrJywgc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCB0YXNrIHN0YXR1c1xyXG4gICAgICAgICAgICB1cGRhdGVUYXNrKCk7XHJcbiAgICAgICAgICAgIGFzc2V0Lm9uKCd0YXNrOnNldCcsIHVwZGF0ZVRhc2spO1xyXG5cclxuICAgICAgICAgICAgaXRlbS5lbGVtZW50IS5kcmFnZ2FibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQsIGZhbHNlKTtcclxuXHJcblxyXG4gICAgICAgICAgICBhc3NldHNJbmRleFthc3NldC5nZXQoJ2lkJyldID0gaXRlbTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNvdXJjZVxyXG4gICAgICAgICAgICBpZiAoYXNzZXQuZ2V0KCdzb3VyY2UnKSlcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3MhLmFkZCgnc291cmNlJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RP77yaYXNzZXRz6L+H5ruk5Zmo5Yqf6IO9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6ZmlsdGVyOmRlZmF1bHQnKSk7XHJcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpmaWx0ZXI6ZGVmYXVsdCcpKCdhc3NldCcsIGFzc2V0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Fzc2V0czpwYW5lbDpmaWx0ZXI6ZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGZpbGVTaXplID0gYXNzZXQuZ2V0KCdmaWxlLnNpemUnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghYXNzZXQuZ2V0KCdzb3VyY2UnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRodW1ibmFpbHMgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBhc3NldC5vbigndGh1bWJuYWlscy5tOnNldCcsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJy9hcGknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB2YWx1ZSA9IHZhbHVlLmFwcGVuZFF1ZXJ5KCd0PScgKyBhc3NldC5nZXQoJ2ZpbGUuaGFzaCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFsdWUgPSBUb29scy5hcHBlbmRRdWVyeSh2YWx1ZSwgJ3Q9JyArIGFzc2V0LmdldCgnZmlsZS5oYXNoJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VybChcIicgKyBCYWJ5bG9uTG9hZGVyLnByZWZpeCArIGFzc2V0LmdldCgnaWQnKSArICcvJyArIGFzc2V0LmdldCgnbmFtZScpICsgJ1wiKScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybChcIicgKyBCYWJ5bG9uTG9hZGVyLnByZWZpeCArIGFzc2V0LmdldCgnaWQnKSArICcvJyArIGFzc2V0LmdldCgnbmFtZScpICsgJz8nICsgYXNzZXQuZ2V0KCdmaWxlLmhhc2gnKSArICdcIiknO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRodW1ibmFpbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyB2YWx1ZSArICcpJztcclxuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuY2xhc3NMaXN0LnJlbW92ZSgncGxhY2Vob2xkZXInKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGFzc2V0Lm9uKCd0aHVtYm5haWxzLm06dW5zZXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuY2xhc3NMaXN0LmFkZCgncGxhY2Vob2xkZXInKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmb2xkZXIgb3BlblxyXG4gICAgICAgICAgICBpZiAoYXNzZXQuZ2V0KCd0eXBlJykgPT09ICdmb2xkZXInKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDmlofku7blpLnlj4zlh7tcclxuICAgICAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJlZS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udHJlZS5vcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmZpbHRlcjpzZWFyY2gnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJywgaXRlbS5hc3NldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBiYWNrIHNlbGVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvci50eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0Jywgc2VsZWN0b3IucHJldi50eXBlLCBzZWxlY3Rvci5wcmV2Lml0ZW1zKTtcclxuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gb3BlbiBzcHJpdGUgZWRpdG9yIGZvciB0ZXh0dXJlYXRsYXMgYW5kIHNwcml0ZSBhc3NldHNcclxuICAgICAgICAgICAgaWYgKGFzc2V0LmdldCgndHlwZScpID09PSAnc3ByaXRlJyB8fCBhc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ3RleHR1cmVhdGxhcycpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2tlcjpzcHJpdGVzJywgaXRlbS5hc3NldCk7XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgdGh1bWJuYWlsOiBhbnk7XHJcbiAgICAgICAgICAgIHZhciBldnRTY2VuZVNldHRpbmdzOiBhbnk7XHJcbiAgICAgICAgICAgIHZhciBldnRBc3NldENoYW5nZWQ6IGFueTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ21hdGVyaWFsJyB8fCBhc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ21vZGVscycgfHwgYXNzZXQuZ2V0KCd0eXBlJykgPT09ICdzcHJpdGUnIHx8IChhc3NldC5nZXQoJ3R5cGUnKSA9PT0gJ2ZvbnQnKSAmJiAhYXNzZXQuZ2V0KCdzb3VyY2UnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXVlZFJlbmRlciA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGh1bWJuYWlsLmNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsLndpZHRoID0gNjQ7XHJcbiAgICAgICAgICAgICAgICB0aHVtYm5haWwuaGVpZ2h0ID0gNjQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0LmdldCgndHlwZScpICE9PSAnc3ByaXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKCdmbGlwWScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdtYXRlcmlhbDpwcmV2aWV3JywgdGh1bWJuYWlsLCBhc3NldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbGV0IGh0bWxDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgIC8vIGh0bWxDYW52YXMud2lkdGggPSA2NDtcclxuICAgICAgICAgICAgICAgIC8vIGh0bWxDYW52YXMuaGVpZ2h0ID0gNjQ7XHJcbiAgICAgICAgICAgICAgICAvLyBodG1sQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZChodG1sQ2FudmFzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAvLyBUT0RPOiDpnIDopoHmjInpmJ/liJfmuLLmn5PvvIzkuI3nhLblvILmraXmtYHnqIvlr7zoh7TlkIzml7blvIDnmoR3ZWJnbCBjb250ZXh05aSq5aSa77yM5Lya5bSp5rqDXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgZW5naW5lID0gbmV3IEJBQllMT04uRW5naW5lKGh0bWxDYW52YXMsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHNjZW5lID0gbmV3IEJBQllMT04uU2NlbmUoZW5naW5lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAvLyBzY2VuZS5jbGVhckNvbG9yID0gQkFCWUxPTi5Db2xvcjQuRnJvbUNvbG9yMyhCQUJZTE9OLkNvbG9yMy5HcmVlbigpKTtcclxuICAgICAgICAgICAgICAgIC8vIHNjZW5lLmNsZWFyQ29sb3IuYSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IEJBQllMT04uRGlyZWN0aW9uYWxMaWdodCgnbGlnaHQnLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDQ1LCA0NSwgMCksIHNjZW5lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FtZXJhID0gbmV3IEJBQllMT04uQXJjUm90YXRlQ2FtZXJhKCdQcmV2aWV3Q2FtZXJhJywgMTAsIDEwLCAxMCwgbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKSwgc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gY2FtZXJhLnNldFBvc2l0aW9uKG5ldyBCQUJZTE9OLlZlY3RvcjMoMjAsIDIwMCwgNDAwKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2FtZXJhLmF0dGFjaENvbnRyb2woaHRtbENhbnZhcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjYW1lcmEubG93ZXJCZXRhTGltaXQgPSAwLjE7XHJcbiAgICAgICAgICAgICAgICAvLyBjYW1lcmEudXBwZXJCZXRhTGltaXQgPSAoTWF0aC5QSSAvIDIpICogMC45OTtcclxuICAgICAgICAgICAgICAgIC8vIGNhbWVyYS5sb3dlclJhZGl1c0xpbWl0ID0gMTUwO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGxldCBib3ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSgnX19wcmV2aWV3U3BoZXJlJywgeyBkaWFtZXRlcjogODAgfSwgc2NlbmUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIC8vIGVuZ2luZS5ydW5SZW5kZXJMb29wKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBpZiAoc2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICAgICAgc2NlbmUucmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gLy8gfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2NlbmUucmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyBUT0RPOiDpnIDopoHmm7TmlrBcclxuICAgICAgICAgICAgICAgIC8vIEJBQllMT04uVG9vbHMuQ3JlYXRlU2NyZWVuc2hvdFVzaW5nUmVuZGVyVGFyZ2V0KGVuZ2luZSwgY2FtZXJhLCA2NCwgKGRhdGE6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRodW1ibmFpbC5zcmMgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZW5naW5lLmRpc3Bvc2UoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyAoPEhUTUxFbGVtZW50PnRodW1ibmFpbCkud2lkdFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpdGVtLnRodW1ibmFpbCA9IHRodW1ibmFpbDtcclxuICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoJ3RodW1ibmFpbCcpO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFwcGVuZENoaWxkKHRodW1ibmFpbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXNzZXQuaGFzKCdoYXNfdGh1bWJuYWlsJykgJiYgYXNzZXQuZ2V0KCdoYXNfdGh1bWJuYWlsJykgPT09IHRydWUgJiYgIWFzc2V0LmdldCgnc291cmNlJykpIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCInICsgQmFieWxvbkxvYWRlci5wcmVmaXggKyBhc3NldC5nZXQoJ2lkJykgKyAnLycgKyBhc3NldC5nZXQoJ25hbWUnKSArICc/JyArIGFzc2V0LmdldCgnZmlsZS5oYXNoJykgKyAnXCIpJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKCdwbGFjZWhvbGRlcicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ljb24nKTtcclxuICAgICAgICAgICAgaXRlbS5lbGVtZW50IS5hcHBlbmRDaGlsZChpY29uKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGl0ZW0ubGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJyk7XHJcbiAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gYXNzZXQuZ2V0KCduYW1lJyk7XHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVzZXJzID0gaXRlbS51c2VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB1c2Vycy5jbGFzc0xpc3QuYWRkKCd1c2VycycpO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFwcGVuZENoaWxkKHVzZXJzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBuYW1lL2ZpbGVuYW1lIGNoYW5nZVxyXG4gICAgICAgICAgICBldmVudHMucHVzaChhc3NldC5vbignbmFtZTpzZXQnLCBmdW5jdGlvbiAobmFtZTogc3RyaW5nLCBuYW1lT2xkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGdyaWRcclxuICAgICAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gYXNzZXQuZ2V0KCduYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAvLyB0cmVlXHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50cmVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS50cmVlLnRleHQgPSBhc3NldC5nZXQoJ25hbWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzb3J0IGVsZW1lbnQgKG1vdmUgbWF0Y2ggYWxwaGFiZXRpY2FsIG9yZGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSA8VHJlZUl0ZW0+aXRlbS50cmVlLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnRyZWUucGFyZW50IS5lbGVtZW50IS5yZW1vdmVDaGlsZChpdGVtLnRyZWUuZWxlbWVudCEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZXN0ID0gdHJlZUZpbmRDbG9zZXN0KHBhcmVudCwgaXRlbS50cmVlLCBuYW1lT2xkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VzdCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmVsZW1lbnQhLmFwcGVuZENoaWxkKGl0ZW0udHJlZS5lbGVtZW50ISk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmVsZW1lbnQhLmluc2VydEJlZm9yZShpdGVtLnRyZWUuZWxlbWVudCEsIHBhcmVudC5jaGlsZChjbG9zZXN0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXNpemVRdWV1ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGtlZXBMZWdhY3lTY3JpcHRzQXRUb3AoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLnB1c2goYXNzZXQub24oJ3BhdGg6c2V0JywgZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgcGF0aE9sZDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaG93IG9yIGhpZGUgYmFzZWQgb24gZmlsdGVyc1xyXG4gICAgICAgICAgICAgICAgaXRlbS5oaWRkZW4gPSAhZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpmaWx0ZXI6ZGVmYXVsdCcpKCdhc3NldCcsIGFzc2V0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXRoICsgJyAtLSAnICsgcGF0aE9sZCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmhpZGRlbik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHJlZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGF0aE9sZC5sZW5ndGggfHwgIXBhdGgubGVuZ3RoIHx8IHBhdGhbcGF0aC5sZW5ndGggLSAxXSAhPT0gcGF0aE9sZFtwYXRoT2xkLmxlbmd0aCAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICg8VHJlZUl0ZW0+aXRlbS50cmVlLnBhcmVudCEpLnJlbW92ZShpdGVtLnRyZWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBhc3NldHNJbmRleFtwYXRoW3BhdGgubGVuZ3RoIC0gMV1dLnRyZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSB0cmVlUm9vdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3Nlc3QgPSB0cmVlRmluZENsb3Nlc3QocGFyZW50LCBpdGVtLnRyZWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2VzdCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmQoaXRlbS50cmVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRCZWZvcmUoaXRlbS50cmVlLCA8VHJlZUl0ZW0+KHBhcmVudC5jaGlsZChjbG9zZXN0KS51aSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZvbGRlciA9PT0gYXNzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZW1pdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZW1pdCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCBjdXJyZW50Rm9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGtlZXBMZWdhY3lTY3JpcHRzQXRUb3AoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFhc3NldC5nZXQoJ3NvdXJjZScpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1c2VkIGV2ZW50XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZ0VW51c2VkID0gZWRpdG9yLm9uKCdhc3NldHM6dXNlZDonICsgYXNzZXQuZ2V0KCdpZCcpLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzcyEucmVtb3ZlKCd1bnVzZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzIS5hZGQoJ3VudXNlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gdXNlZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFlZGl0b3IuY2FsbCgnYXNzZXRzOnVzZWQ6Z2V0JywgYXNzZXQuZ2V0KCdpZCcpKSlcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzIS5hZGQoJ3VudXNlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNsZWFuIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgaXRlbS5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2dFVudXNlZC51bmJpbmQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjbGVhbiBldmVudHNcclxuICAgICAgICAgICAgaXRlbS5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnJlbW92ZScsIGFzc2V0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICBldmVudHNbaV0udW5iaW5kKCk7XHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBhc3NldHNJbmRleFthc3NldC5nZXQoJ2lkJyldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldnRTY2VuZVNldHRpbmdzKVxyXG4gICAgICAgICAgICAgICAgICAgIGV2dFNjZW5lU2V0dGluZ3MudW5iaW5kKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV2dEFzc2V0Q2hhbmdlZClcclxuICAgICAgICAgICAgICAgICAgICBldnRBc3NldENoYW5nZWQudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gZ3JpZC5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgIC8vIGFwcGVuZCB0byBncmlkXHJcbiAgICAgICAgICAgIHZhciBhc3NldHM6IE9ic2VydmVyTGlzdCA9IGVkaXRvci5jYWxsKCdhc3NldHM6cmF3Jyk7XHJcbiAgICAgICAgICAgIGlmIChwb3MgPT09IC0xIHx8ICFhc3NldHMuZGF0YVtwb3MgKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgZ3JpZC5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBncmlkLmFwcGVuZEJlZm9yZShpdGVtLCBhc3NldHNJbmRleFthc3NldHMuZGF0YVtwb3MgKyAxXS5nZXQoJ2lkJyldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVzaXplUXVldWUoKTtcclxuXHJcbiAgICAgICAgICAgIGtlZXBMZWdhY3lTY3JpcHRzQXRUb3AoKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBrZWVwTGVnYWN5U2NyaXB0c0F0VG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWxlZ2FjeVNjcmlwdHMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyByZXNvcnQgc2NyaXB0cyBmb2xkZXIgaW4gZ3JpZFxyXG4gICAgICAgICAgICBncmlkU2NyaXB0cy5lbGVtZW50IS5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChncmlkU2NyaXB0cy5lbGVtZW50ISk7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IGdyaWQuZWxlbWVudCEuZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgaWYgKGZpcnN0KSB7XHJcbiAgICAgICAgICAgICAgICBncmlkLmVsZW1lbnQhLmluc2VydEJlZm9yZShncmlkU2NyaXB0cy5lbGVtZW50ISwgZmlyc3QpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ3JpZC5lbGVtZW50IS5hcHBlbmRDaGlsZChncmlkU2NyaXB0cy5lbGVtZW50ISk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJlc29ydCBzY3JpcHRzIGZvbGRlciBpbiB0cmVlXHJcbiAgICAgICAgICAgIHRyZWVTY3JpcHRzLmVsZW1lbnQhLnBhcmVudE5vZGUhLnJlbW92ZUNoaWxkKHRyZWVTY3JpcHRzLmVsZW1lbnQhKTtcclxuICAgICAgICAgICAgdmFyIG5leHQgPSB0cmVlUm9vdC5lbGVtZW50VGl0bGUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0cmVlUm9vdC5lbGVtZW50IS5pbnNlcnRCZWZvcmUodHJlZVNjcmlwdHMuZWxlbWVudCEsIG5leHQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJlZVJvb3QuZWxlbWVudCEuYXBwZW5kQ2hpbGQodHJlZVNjcmlwdHMuZWxlbWVudCEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdhc3NldHM6bW92ZScsIGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIsIHBvczogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gYXNzZXRzSW5kZXhbYXNzZXQuZ2V0KCdpZCcpXTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlXHJcbiAgICAgICAgICAgIGdyaWQuZWxlbWVudCEucmVtb3ZlQ2hpbGQoaXRlbS5lbGVtZW50ISk7XHJcbiAgICAgICAgICAgIC8vIGFwcGVuZFxyXG4gICAgICAgICAgICBpZiAocG9zID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdG8gZW5kXHJcbiAgICAgICAgICAgICAgICBncmlkLmFwcGVuZChpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSBhbm90aGVyIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIGdyaWQuYXBwZW5kQmVmb3JlKGl0ZW0sIGFzc2V0c0luZGV4W2VkaXRvci5jYWxsKCdhc3NldHM6cmF3JykuZGF0YVtwb3MgKyAxXS5nZXQoJ2lkJyldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2Fzc2V0czpyZW1vdmUnLCBmdW5jdGlvbiAoYXNzZXQ6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmVlSXRlbSA9IGFzc2V0c0luZGV4W2Fzc2V0LmdldCgnaWQnKV0udHJlZTtcclxuICAgICAgICAgICAgaWYgKHRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHJlZUl0ZW0ucGFyZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICg8VHJlZUl0ZW0+dHJlZUl0ZW0ucGFyZW50KS5yZW1vdmUodHJlZUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdHJlZUl0ZW0uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhc3NldHNJbmRleFthc3NldC5nZXQoJ2lkJyldLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgICAgIHJlc2l6ZVF1ZXVlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZXNlbGVjdCBjdXJyZW50IGRpcmVjdG9yeSwgaWYgc2VsZWN0ZWQgd2FzIHJlbW92ZWRcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb2xkZXIgJiYgdHlwZW9mIChjdXJyZW50Rm9sZGVyKSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZCA9IGN1cnJlbnRGb2xkZXIuZ2V0KCdpZCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBhc3NldC5nZXQoJ3BhdGgnKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmQgPSBwYXRoLmluZGV4T2YoaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkID09PSBhc3NldC5nZXQoJ2lkJykgfHwgaW5kICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmQgPSBwYXRoLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gaW5kICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3NldHNJbmRleFtwYXRoW2ldXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwYW5lbDpjdXJyZW50Rm9sZGVyJywgYXNzZXRzSW5kZXhbcGF0aFtpXV0uYXNzZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBhZGRTb3VyY2VGaWxlID0gZnVuY3Rpb24gKGZpbGU6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGZpbGUuc2V0KCd0eXBlJywgJ3NjcmlwdCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBuZXcgR3JpZEl0ZW0oKTtcclxuICAgICAgICAgICAgaXRlbS5zY3JpcHQgPSBmaWxlO1xyXG4gICAgICAgICAgICBpdGVtLmNsYXNzIS5hZGQoJ3R5cGUtc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgIGdyaWQuYXBwZW5kKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmZpbHRlcjpkZWZhdWx0JykoJ3NjcmlwdCcsIGZpbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBzY3JpcHRzSW5kZXhbZmlsZS5nZXQoJ2ZpbGVuYW1lJyldID0gaXRlbTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0aHVtYm5haWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoJ3RodW1ibmFpbCcsICdwbGFjZWhvbGRlcicpO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFwcGVuZENoaWxkKHRodW1ibmFpbCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ljb24nKTtcclxuICAgICAgICAgICAgaXRlbS5lbGVtZW50IS5hcHBlbmRDaGlsZChpY29uKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGl0ZW0ubGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJyk7XHJcbiAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gZmlsZS5nZXQoJ2ZpbGVuYW1lJyk7XHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVzZXJzID0gaXRlbS51c2VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB1c2Vycy5jbGFzc0xpc3QuYWRkKCd1c2VycycpO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFwcGVuZENoaWxkKHVzZXJzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBuYW1lL2ZpbGVuYW1lIGNoYW5nZVxyXG4gICAgICAgICAgICB2YXIgZXZ0TmFtZVNldCA9IGZpbGUub24oJ2ZpbGVuYW1lOnNldCcsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nLCB2YWx1ZU9sZDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgc2NyaXB0c0luZGV4W3ZhbHVlXSA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NyaXB0c0luZGV4W3ZhbHVlT2xkXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGl0ZW0ub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6cmVtb3ZlJywgZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBldnROYW1lU2V0LnVuYmluZCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjcmlwdHNJbmRleFtmaWxlLmdldCgnZmlsZW5hbWUnKV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBmaWxlLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Ryb3A6aXRlbScsIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGl0ZW0uZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdhc3NldC5zY3JpcHQnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLmdldCgnZmlsZW5hbWUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciByZW1vdmVTb3VyY2VGaWxlID0gZnVuY3Rpb24gKGZpbGU6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGZpbGUuZGVzdHJveSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignc291cmNlZmlsZXM6YWRkJywgYWRkU291cmNlRmlsZSk7XHJcbiAgICAgICAgZWRpdG9yLm9uKCdzb3VyY2VmaWxlczpyZW1vdmUnLCByZW1vdmVTb3VyY2VGaWxlKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2xpYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFzc2V0c1ByZXZpZXcge1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcblxyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdwcmV2aWV3OnJlbmRlcicsIGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBhcmdzOiBhbnkpIHtcclxuICAgICAgICAgICAgd2lkdGggPSB3aWR0aCB8fCAxO1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQgfHwgMTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbmRlclxyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgncHJldmlldzonICsgYXNzZXQuZ2V0KCd0eXBlJykgKyAnOnJlbmRlcicsIGFzc2V0LCB3aWR0aCwgaGVpZ2h0LCBjYW52YXMsIGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IG1hdFByZXZpZXdDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBtYXRQcmV2aWV3Q2FudmFzLndpZHRoID0gNjQ7XHJcbiAgICAgICAgbWF0UHJldmlld0NhbnZhcy5oZWlnaHQgPSA2NDtcclxuICAgICAgICBtYXRQcmV2aWV3Q2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQobWF0UHJldmlld0NhbnZhcyk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IOmcgOimgeaMiemYn+WIl+a4suafk++8jOS4jeeEtuW8guatpea1geeoi+WvvOiHtOWQjOaXtuW8gOeahHdlYmdsIGNvbnRleHTlpKrlpJrvvIzkvJrltKnmuoNcclxuICAgICAgICBsZXQgZW5naW5lID0gbmV3IEJBQllMT04uRW5naW5lKG1hdFByZXZpZXdDYW52YXMsIHRydWUpO1xyXG4gICAgICAgIGxldCBzY2VuZSA9IG5ldyBCQUJZTE9OLlNjZW5lKGVuZ2luZSk7XHJcblxyXG4gICAgICAgIC8vIHNjZW5lLmNsZWFyQ29sb3IgPSBCQUJZTE9OLkNvbG9yNC5Gcm9tQ29sb3IzKEJBQllMT04uQ29sb3IzLkdyZWVuKCkpO1xyXG4gICAgICAgIHNjZW5lLmNsZWFyQ29sb3IuYSA9IDA7XHJcblxyXG4gICAgICAgIHZhciBsaWdodCA9IG5ldyBCQUJZTE9OLkRpcmVjdGlvbmFsTGlnaHQoJ2xpZ2h0JywgbmV3IEJBQllMT04uVmVjdG9yMyg0NSwgNDUsIDApLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIHZhciBjYW1lcmEgPSBuZXcgQkFCWUxPTi5BcmNSb3RhdGVDYW1lcmEoJ1ByZXZpZXdDYW1lcmEnLCAxMCwgMTAsIDEwLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApLCBzY2VuZSk7XHJcbiAgICAgICAgLy8gY2FtZXJhLnNldFBvc2l0aW9uKG5ldyBCQUJZTE9OLlZlY3RvcjMoMjAsIDIwMCwgNDAwKSk7XHJcblxyXG4gICAgICAgIGNhbWVyYS5hdHRhY2hDb250cm9sKG1hdFByZXZpZXdDYW52YXMsIHRydWUpO1xyXG4gICAgICAgIGNhbWVyYS5sb3dlckJldGFMaW1pdCA9IDAuMTtcclxuICAgICAgICBjYW1lcmEudXBwZXJCZXRhTGltaXQgPSAoTWF0aC5QSSAvIDIpICogMC45OTtcclxuICAgICAgICBjYW1lcmEubG93ZXJSYWRpdXNMaW1pdCA9IDE1MDtcclxuXHJcbiAgICAgICAgbGV0IHByZXZpZXdTcGhlcmUgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZVNwaGVyZSgnX19wcmV2aWV3U3BoZXJlJywgeyBkaWFtZXRlcjogODAgfSwgc2NlbmUpO1xyXG5cclxuICAgICAgICBsZXQgdGVzdE1hdCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoJ19fcHJldmlld1NoZXJlJywgc2NlbmUpO1xyXG4gICAgICAgIHByZXZpZXdTcGhlcmUubWF0ZXJpYWwgPSB0ZXN0TWF0O1xyXG4gICAgICAgIC8vIGVuZ2luZS5ydW5SZW5kZXJMb29wKCgpID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKHNjZW5lKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBzY2VuZS5yZW5kZXIoKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLyBlbmdpbmUuZGlzcG9zZSgpO1xyXG5cclxuICAgICAgICBsZXQgcXVldWVNYXRlcmlhbEFzc2V0czogYW55W10gPSBbXTtcclxuICAgICAgICBsZXQgbWF0UXVldWluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgY3JlYXRlTWF0UHJldmlldyA9ICgpID0+IHtcclxuICAgICAgICAgICAgbWF0UXVldWluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB3aGlsZShxdWV1ZU1hdGVyaWFsQXNzZXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBxdWV1ZUVsZW1lbnQgPSBxdWV1ZU1hdGVyaWFsQXNzZXRzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAvLyDnkIPmlLnkuIDkuItcclxuICAgICAgICAgICAgICAgIC8vICg8QkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsPnByZXZpZXdTcGhlcmUubWF0ZXJpYWwpLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMyhNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcclxuICAgICAgICAgICAgICAgIHNjZW5lLnJlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzog6ZyA6KaB5pu05pawXHJcbiAgICAgICAgICAgICAgICBCQUJZTE9OLlRvb2xzLkNyZWF0ZVNjcmVlbnNob3RVc2luZ1JlbmRlclRhcmdldChlbmdpbmUsIGNhbWVyYSwgNjQsIChkYXRhOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZUVsZW1lbnRbMF0uc3JjID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtYXRRdWV1aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdtYXRlcmlhbDpwcmV2aWV3JywgKHRodW1ibmFpbDogYW55LCBhc3NldDogT2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICAgICAgcXVldWVNYXRlcmlhbEFzc2V0cy5wdXNoKFt0aHVtYm5haWwsIGFzc2V0XSk7XHJcbiAgICAgICAgICAgIGlmKCFtYXRRdWV1aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ+WFpeWPo+aJk+W8gG1hdGVyaWFsIHByZXZpZXcnKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY3JlYXRlTWF0UHJldmlldywgMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ+S4remXtOaOkumYn21hdGVyaWFsIHByZXZpZXcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuLi8uLi9saWInO1xyXG5pbXBvcnQgeyBBamF4UmVxdWVzdCwgQWpheCB9IGZyb20gJy4uL3V0aWxpdHknO1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFzc2V0c1JlbmFtZSB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgY2hhbmdlTmFtZSA9IGZ1bmN0aW9uIChhc3NldElkOiBzdHJpbmcsIGFzc2V0TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdyZW5hbWUnLCBhc3NldE5hbWUpO1xyXG4gICAgICAgICAgICBmb3JtLmFwcGVuZCgncHJvamVjdElEJywgQ29uZmlnLnByb2plY3RJRCk7XHJcbiAgICAgICAgICAgICg8QWpheFJlcXVlc3Q+bmV3IEFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwaS91cGxvYWQvYXNzZXRzLycgKyBhc3NldElkLFxyXG4gICAgICAgICAgICAgICAgYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm0sXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICAgICAgaWdub3JlQ29udGVudFR5cGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBub3RKc29uOiB0cnVlXHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdsb2FkJywgKHN0YXR1czogYW55LCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RhdHVzOiAnICsgc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09ICcwMDAwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiDkuI3lpJ/pgJrnlKjvvIzlpoLmnpzmmK/lm77niYfnrYnotYTmupDvvIzot6/lvoTkuZ/mlLnlj5hcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFzc2V0ID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBkYXRhLmRhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhc3NldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFzc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldC5zZXQoJ25hbWUnLCBkYXRhLmRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGFzc2V0ID0gbmV3IE9ic2VydmVyKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdhc3NldHM6YWRkJywgYXNzZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gYnJhbmNoIGlkXHJcbiAgICAgICAgICAgIC8vIGZvcm0uYXBwZW5kKCdicmFuY2hJZCcsICdjb25maWcuc2VsZi5icmFuY2guaWQnKTtcclxuICAgICAgICAgICAgLy8gQWpheCh7XHJcbiAgICAgICAgICAgIC8vICAgICB1cmw6ICd7e3VybC5hcGl9fS9hc3NldHMvJyArIGFzc2V0SWQsXHJcbiAgICAgICAgICAgIC8vICAgICBhdXRoOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyAgICAgZGF0YTogZm9ybSxcclxuICAgICAgICAgICAgLy8gICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIC8vICAgICBpZ25vcmVDb250ZW50VHlwZTogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gICAgIG5vdEpzb246IHRydWVcclxuICAgICAgICAgICAgLy8gfSkub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycjogRXJyb3IsIGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5lcnJvcihlcnIgKyBkYXRhKTtcclxuICAgICAgICAgICAgLy8gICAgIGVkaXRvci5jYWxsKCdzdGF0dXM6ZXJyb3InLCAnQ291bGRuXFwndCB1cGRhdGUgdGhlIG5hbWU6ICcgKyBkYXRhKTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6cmVuYW1lJywgZnVuY3Rpb24gKGFzc2V0OiBPYnNlcnZlciwgbmV3TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBvbGROYW1lID0gYXNzZXQuZ2V0KCduYW1lJyk7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IGFzc2V0LmdldCgnaWQnKTtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6YWRkJywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2Fzc2V0IHJlbmFtZScsXHJcbiAgICAgICAgICAgICAgICB1bmRvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWUoaWQsIG9sZE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZWRvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU5hbWUoaWQsIG5ld05hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjaGFuZ2VOYW1lKGlkLCBuZXdOYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi91aVwiO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFzc2V0c1N0b3JlIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHZhciBhc3NldHNQYW5lbCA9IFZlcnlFbmdpbmUuYXNzZXRzO1xyXG5cclxuICAgICAgICB2YXIgYnRuU3RvcmUgPSBuZXcgQnV0dG9uKCfotYTmupDlupMnKTtcclxuICAgICAgICBidG5TdG9yZS5jbGFzcyEuYWRkKCdzdG9yZScpO1xyXG4gICAgICAgIGFzc2V0c1BhbmVsLmhlYWRlci5hcHBlbmQoYnRuU3RvcmUpO1xyXG5cclxuICAgICAgICBidG5TdG9yZS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKCdodHRwOi8vd3d3LnZlcnllbmdpbmUuY24vJywgJ19ibGFuaycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuLi8uLi9saWInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFzc2V0c1N5bmMge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnaW5pdEFzc2V0cycsIChhc3NldHNfZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGFzc2V0c19kYXRhLmFzc2V0cylcclxuICAgICAgICAgICAgICAgIG9uTG9hZChhc3NldHNfZGF0YS5hc3NldHMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBc3NldGluZywgdW5pcXVlSWTkuLphc3NldHPntKLlvJVpZFxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2xvYWRBc3NldCcsIGZ1bmN0aW9uIChhc3NldF9kYXRhOiBhbnksIGNhbGxiYWNrOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NldERhdGEgPSBhc3NldF9kYXRhO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKGFzc2V0RGF0YS5maWxlKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAvLyDnlJ/miJDotYTmupDmiYDlnKh1cmzvvIzov5nph4zlubbmsqHmnInlvIDlp4vliqDovb3otYTmupBcclxuICAgICAgICAgICAgLy8gICAgIGFzc2V0RGF0YS5maWxlLnVybCA9IGdldEZpbGVVcmwoYXNzZXREYXRhLmlkLCBhc3NldERhdGEucmV2aXNpb24sIGFzc2V0RGF0YS5maWxlLmZpbGVuYW1lKTtcclxuXHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoYXNzZXREYXRhLmZpbGUudmFyaWFudHMpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXNzZXREYXRhLmZpbGUudmFyaWFudHMpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgYXNzZXREYXRhLmZpbGUudmFyaWFudHNba2V5XS51cmwgPSBnZXRGaWxlVXJsKGFzc2V0RGF0YS5pZCwgYXNzZXREYXRhLnJldmlzaW9uLCBhc3NldERhdGEuZmlsZS52YXJpYW50c1trZXldLmZpbGVuYW1lKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBhc3NldCA9IG5ldyBPYnNlcnZlcihhc3NldERhdGEpO1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmFkZCcsIGFzc2V0KTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xvYWQ6ICcgKyBhc3NldC5nZXQoJ25hbWUnKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhhc3NldCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOWKoOi9vWFzc2V0c+aVsOaNru+8jGRhdGHkuLphc3NldHPmlbDmja5cclxuICAgICAgICB2YXIgb25Mb2FkID0gZnVuY3Rpb24gKGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnByb2dyZXNzJywgMC41KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBhc3NldHNMZW5ndGg6IG51bWJlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRhdGEpLmxlbmd0aDtcclxuICAgICAgICAgICAgLy8g5Yqg6L29QXNzZXTotYTmupBcclxuICAgICAgICAgICAgdmFyIGxvYWQgPSBmdW5jdGlvbiAoYXNzZXRfZGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnbG9hZEFzc2V0JywgYXNzZXRfZGF0YSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwcm9ncmVzcycsIChjb3VudCAvIGFzc2V0c0xlbmd0aCkgKiAwLjUgKyAwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA+PSBhc3NldHNMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpwcm9ncmVzcycsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZW1pdCgnYXNzZXRzOmxvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsb2FkKGRhdGFba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgb25Bc3NldFNlbGVjdCA9IGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnNldCcsICdhc3NldCcsIFthc3NldF0pO1xyXG5cclxuICAgICAgICAgICAgLy8gbmF2aWdhdGUgdG8gZm9sZGVyIHRvb1xyXG4gICAgICAgICAgICB2YXIgcGF0aCA9IGFzc2V0LmdldCgncGF0aCcpO1xyXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgcGF0aFtwYXRoLmxlbmd0aCAtIDFdKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBhc3NldFxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpjcmVhdGUnLCBmdW5jdGlvbiAoZGF0YTogYW55LCBmbjogYW55LCBub1NlbGVjdDogYm9vbGVhbikge1xyXG4gICAgICAgICAgICB2YXIgZXZ0QXNzZXRBZGQ6IGFueTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbm9TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdzZWxlY3RvcjpjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2dEFzc2V0QWRkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dEFzc2V0QWRkLnVuYmluZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldnRBc3NldEFkZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6dXBsb2FkRmlsZScsIGRhdGEsIGZ1bmN0aW9uIChlcnI6IEVycm9yLCByZXM6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzdGF0dXM6ZXJyb3InLCBlcnIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzayBhbGxvd2FuY2UgZXJyb3JcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuKSBmbihlcnIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFub1NlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3NldCA9IGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgcmVzLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Bc3NldFNlbGVjdChhc3NldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0QXNzZXRBZGQgPSBlZGl0b3Iub25jZSgnYXNzZXRzOmFkZFsnICsgcmVzLmlkICsgJ10nLCBvbkFzc2V0U2VsZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZuKSBmbihlcnIsIHJlcy5pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4uLy4uL2xpYic7XHJcbmltcG9ydCB7IEFqYXgsIEFqYXhSZXF1ZXN0IH0gZnJvbSAnLi4vdXRpbGl0eSc7XHJcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4uL2dsb2JhbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQXNzZXRzVXBsb2FkIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIC8vIOW9k+WJjeS7u+WKoeiusOW9lVxyXG4gICAgICAgIHZhciB1cGxvYWRKb2JzID0gMDtcclxuICAgICAgICB2YXIgdXNlclNldHRpbmdzOiBhbnkgPSBlZGl0b3IuY2FsbCgnc2V0dGluZ3M6cHJvamVjdFVzZXInKTtcclxuICAgICAgICAvLyB2YXIgbGVnYWN5U2NyaXB0cyA9IGVkaXRvci5jYWxsKCdzZXR0aW5nczpwcm9qZWN0JykuZ2V0KCd1c2VMZWdhY3lTY3JpcHRzJyk7XHJcbiAgICAgICAgdmFyIGxlZ2FjeVNjcmlwdHMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIHRhcmdldEV4dGVuc2lvbnM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge1xyXG4gICAgICAgICAgICAnanBnJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2pwZWcnOiB0cnVlLFxyXG4gICAgICAgICAgICAncG5nJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2dpZic6IHRydWUsXHJcbiAgICAgICAgICAgICd0YWJsZSc6IHRydWUsXHJcbiAgICAgICAgICAgICdodG1sJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2pzb24nOiB0cnVlLFxyXG4gICAgICAgICAgICAneG1sJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ3R4dCc6IHRydWUsXHJcbiAgICAgICAgICAgICd2ZXJ0JzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2ZyYWcnOiB0cnVlLFxyXG4gICAgICAgICAgICAnZ2xzbCc6IHRydWUsXHJcbiAgICAgICAgICAgICdtcDMnOiB0cnVlLFxyXG4gICAgICAgICAgICAnb2dnJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ3dhdic6IHRydWUsXHJcbiAgICAgICAgICAgICdtcDQnOiB0cnVlLFxyXG4gICAgICAgICAgICAnbTRhJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2pzJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2F0bGFzJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ2JhYnlsb24nOiB0cnVlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHR5cGVUb0V4dDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge1xyXG4gICAgICAgICAgICAnbW9kZWwnOiBbJ2ZieCcsICdkYWUnLCAnb2JqJywgJzNkcycsICdiYWJ5bG9uJ10sXHJcbiAgICAgICAgICAgICdkYXRhJzogWyd0eHQnLCAneG1sJywgJ2F0bGFzJywgJ3RhYmxlJ10sXHJcbiAgICAgICAgICAgICdodG1sJzogWydodG1sJ10sXHJcbiAgICAgICAgICAgICdqc29uJzogWydqc29uJ10sXHJcbiAgICAgICAgICAgICd0ZXh0dXJlJzogWyd0aWYnLCAndGdhJywgJ3BuZycsICdqcGcnLCAnanBlZycsICdnaWYnLCAnYm1wJywgJ2RkcycsICdoZHInLCAnZXhyJ10sXHJcbiAgICAgICAgICAgICdhdWRpbyc6IFsnd2F2JywgJ21wMycsICdtcDQnLCAnb2dnJywgJ200YSddLFxyXG4gICAgICAgICAgICAnc2hhZGVyJzogWydnbHNsJywgJ2ZyYWcnLCAndmVydCddLFxyXG4gICAgICAgICAgICAnc2NyaXB0JzogWydqcyddLFxyXG4gICAgICAgICAgICAnZm9udCc6IFsndHRmJywgJ3R0YycsICdvdGYnLCAnZGZvbnQnXVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB2YXIgZXh0VG9UeXBlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiB0eXBlVG9FeHQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlVG9FeHRbdHlwZV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGV4dFRvVHlwZVt0eXBlVG9FeHRbdHlwZV1baV1dID0gdHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czpjYW5VcGxvYWRGaWxlcycsIGZ1bmN0aW9uIChmaWxlczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIHVzYWdlIGZpcnN0XHJcbiAgICAgICAgICAgIHZhciB0b3RhbFNpemUgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbFNpemUgKz0gZmlsZXNbaV0uc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDorqHnrpfnlKjmiLflvZPliY3nqbrpl7TnlKjph4/vvIzlgYflpoLopoHpmZDliLbmr4/kuKrnlKjmiLfnmoTnqbrpl7TlpKflsI/vvIzotoXov4fliJnkuI3lhYHorrjlho3kuIrkvKBcclxuICAgICAgICAgICAgLy8gcmV0dXJuIGNvbmZpZy5vd25lci5zaXplICsgdG90YWxTaXplIDw9IGNvbmZpZy5vd25lci5kaXNrQWxsb3dhbmNlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+i1hOa6kOaAu+WuuemHj++8micgKyAodG90YWxTaXplIC8gMTAyNCAvIDEwMjQpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgYXBwZW5kQ29tbW9uID0gZnVuY3Rpb24gKGZvcm06IEZvcm1EYXRhLCBhcmdzOiBhbnkpIHtcclxuICAgICAgICAgICAgLy8gTk9URVxyXG4gICAgICAgICAgICAvLyBub24tZmlsZSBmb3JtIGRhdGEgc2hvdWxkIGJlIGFib3ZlIGZpbGUsXHJcbiAgICAgICAgICAgIC8vIHRvIG1ha2UgaXQgcGFyc2VkIG9uIGJhY2stZW5kIGZpcnN0XHJcblxyXG4gICAgICAgICAgICAvLyBicmFuY2ggaWRcclxuICAgICAgICAgICAgLy8gZm9ybS5hcHBlbmQoJ2JyYW5jaElkJywgJ2NvbmZpZy5zZWxmLmJyYW5jaC5pZCcpO1xyXG5cclxuICAgICAgICAgICAgLy9cclxuXHJcbiAgICAgICAgICAgIC8vIHBhcmVudCBmb2xkZXJcclxuICAgICAgICAgICAgaWYgKGFyZ3MucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5wYXJlbnQgaW5zdGFuY2VvZiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdwYXJlbnQnLCBhcmdzLnBhcmVudC5nZXQoJ2lkJykpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBwYXJzZUludChhcmdzLnBhcmVudCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaWQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgncGFyZW50JywgaWQgKyAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnZlcnNpb24gcGlwZWxpbmUgc3BlY2lmaWMgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICAvLyB2YXIgc2V0dGluZ3MgPSBlZGl0b3IuY2FsbCgnc2V0dGluZ3M6cHJvamVjdFVzZXInKTtcclxuICAgICAgICAgICAgLy8gc3dpdGNoIChhcmdzLnR5cGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIGNhc2UgJ3RleHR1cmUnOlxyXG4gICAgICAgICAgICAvLyAgICAgY2FzZSAndGV4dHVyZWF0bGFzJzpcclxuICAgICAgICAgICAgLy8gICAgICAgICBmb3JtLmFwcGVuZCgncG93MicsIHNldHRpbmdzLmdldCgnZWRpdG9yLnBpcGVsaW5lLnRleHR1cmVQb3QnKSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgZm9ybS5hcHBlbmQoJ3NlYXJjaFJlbGF0ZWRBc3NldHMnLCBzZXR0aW5ncy5nZXQoJ2VkaXRvci5waXBlbGluZS5zZWFyY2hSZWxhdGVkQXNzZXRzJykpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyAgICAgY2FzZSAnc2NlbmUnOlxyXG4gICAgICAgICAgICAvLyAgICAgICAgIGZvcm0uYXBwZW5kKCdzZWFyY2hSZWxhdGVkQXNzZXRzJywgc2V0dGluZ3MuZ2V0KCdlZGl0b3IucGlwZWxpbmUuc2VhcmNoUmVsYXRlZEFzc2V0cycpKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBmb3JtLmFwcGVuZCgnb3ZlcndyaXRlTW9kZWwnLCBzZXR0aW5ncy5nZXQoJ2VkaXRvci5waXBlbGluZS5vdmVyd3JpdGVNb2RlbCcpKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBmb3JtLmFwcGVuZCgnb3ZlcndyaXRlQW5pbWF0aW9uJywgc2V0dGluZ3MuZ2V0KCdlZGl0b3IucGlwZWxpbmUub3ZlcndyaXRlQW5pbWF0aW9uJykpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGZvcm0uYXBwZW5kKCdvdmVyd3JpdGVNYXRlcmlhbCcsIHNldHRpbmdzLmdldCgnZWRpdG9yLnBpcGVsaW5lLm92ZXJ3cml0ZU1hdGVyaWFsJykpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGZvcm0uYXBwZW5kKCdvdmVyd3JpdGVUZXh0dXJlJywgc2V0dGluZ3MuZ2V0KCdlZGl0b3IucGlwZWxpbmUub3ZlcndyaXRlVGV4dHVyZScpKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBmb3JtLmFwcGVuZCgncG93MicsIHNldHRpbmdzLmdldCgnZWRpdG9yLnBpcGVsaW5lLnRleHR1cmVQb3QnKSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgZm9ybS5hcHBlbmQoJ3ByZXNlcnZlTWFwcGluZycsIHNldHRpbmdzLmdldCgnZWRpdG9yLnBpcGVsaW5lLnByZXNlcnZlTWFwcGluZycpKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gICAgIGNhc2UgJ2ZvbnQnOlxyXG4gICAgICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgLy8gZmlsZW5hbWVcclxuICAgICAgICAgICAgaWYgKGFyZ3MuZmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdmaWxlbmFtZScsIGFyZ3MuZmlsZW5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmaWxlXHJcbiAgICAgICAgICAgIGlmIChhcmdzLmZpbGUgJiYgYXJncy5maWxlLnNpemUpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgYXJncy5maWxlLCAoYXJncy5maWxlbmFtZSB8fCBhcmdzLm5hbWUpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZvcm07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIChhcmdzOiBhbnkpIHtcclxuICAgICAgICAgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNjb3BlXHJcbiAgICAgICAgICAgIC8vIGZvcm0uYXBwZW5kKCdwcm9qZWN0SWQnLCBjb25maWcucHJvamVjdC5pZCk7XHJcblxyXG4gICAgICAgICAgICAvLyB0eXBlXHJcbiAgICAgICAgICAgIGlmICghYXJncy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdcXCd0eXBlXFwnIHJlcXVpcmVkIGZvciB1cGxvYWQgcmVxdWVzdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCd0eXBlJywgYXJncy50eXBlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG5hbWVcclxuICAgICAgICAgICAgaWYgKGFyZ3MubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoJ25hbWUnLCBhcmdzLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0YWdzXHJcbiAgICAgICAgICAgIGlmIChhcmdzLnRhZ3MpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCd0YWdzJywgYXJncy50YWdzLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc291cmNlX2Fzc2V0X2lkXHJcbiAgICAgICAgICAgIGlmIChhcmdzLnNvdXJjZV9hc3NldF9pZCkge1xyXG4gICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoJ3NvdXJjZV9hc3NldF9pZCcsIGFyZ3Muc291cmNlX2Fzc2V0X2lkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZGF0YVxyXG4gICAgICAgICAgICBpZiAoYXJncy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgnZGF0YScsIEpTT04uc3RyaW5naWZ5KGFyZ3MuZGF0YSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBtZXRhXHJcbiAgICAgICAgICAgIGlmIChhcmdzLm1ldGEpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdtZXRhJywgSlNPTi5zdHJpbmdpZnkoYXJncy5tZXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHByZWxvYWRcclxuICAgICAgICAgICAgZm9ybS5hcHBlbmQoJ3ByZWxvYWQnLCBhcmdzLnByZWxvYWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmdzLnByZWxvYWQpO1xyXG5cclxuICAgICAgICAgICAgZm9ybSA9IGFwcGVuZENvbW1vbihmb3JtLCBhcmdzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIChhc3NldElkOiBzdHJpbmcsIGFyZ3M6IGFueSkge1xyXG4gICAgICAgICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBmb3JtID0gYXBwZW5kQ29tbW9uKGZvcm0sIGFyZ3MpO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOnVwbG9hZEZpbGUnLCBmdW5jdGlvbiAoYXJnczogYW55LCBmbj86IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSAnUE9TVCc7XHJcbiAgICAgICAgICAgIHZhciB1cmwgPSAnL2FwaS91cGxvYWQnO1xyXG4gICAgICAgICAgICB2YXIgZm9ybSA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCByZXBsYWNlTW9kZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoYXJncy5hc3NldCAmJiBhcmdzLnR5cGUgJiYgYXJncy50eXBlICE9PSAnbW9kZWwnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRJZCA9IGFyZ3MuYXNzZXQuZ2V0KCdpZCcpO1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gJ1BVVCc7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSAnL2FwaS91cGxvYWQvYXNzZXRzLycgKyBhc3NldElkO1xyXG4gICAgICAgICAgICAgICAgZm9ybSA9IHVwZGF0ZShhc3NldElkLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIHJlcGxhY2VNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdyZXBsYWNlQXNzZXQnLCBhc3NldElkKTtcclxuICAgICAgICAgICAgICAgIGlmKGFyZ3MudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCd0eXBlJywgYXJncy50eXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvcm0gPSBjcmVhdGUoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdwcm9qZWN0SUQnLCBDb25maWcucHJvamVjdElEKTtcclxuICAgICAgICAgICAgZm9ybS5hcHBlbmQoJ3BhdGgnLCBhcmdzLnBhdGgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGpvYiA9ICsrdXBsb2FkSm9icztcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3N0YXR1czpqb2InLCAnYXNzZXQtdXBsb2FkOicgKyBqb2IsIDApO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgLy8gYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGZvcm0sXHJcbiAgICAgICAgICAgICAgICBpZ25vcmVDb250ZW50VHlwZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8g5LiK5Lyg5paw6LWE5rqQXHJcbiAgICAgICAgICAgIGlmICghcmVwbGFjZU1vZGUpIHtcclxuICAgICAgICAgICAgICAgICg8QWpheFJlcXVlc3Q+bmV3IEFqYXgoZGF0YSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdsb2FkJywgKHN0YXR1czogYW55LCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0YXR1czogJyArIHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAnMDAwMCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBkYXRhLmRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQgPSBuZXcgT2JzZXJ2ZXIoZGF0YS5kYXRhW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmFkZCcsIGFzc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8g6ICB6LWE5rqQ6YeN5ZCN6KaG55uW5Li65paw5LiK5Lyg6LWE5rqQXHJcbiAgICAgICAgICAgICAgICAoPEFqYXhSZXF1ZXN0Pm5ldyBBamF4KGRhdGEpKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdsb2FkJywgKHN0YXR1czogYW55LCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RhdHVzOiAnICsgc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAnMDAwMCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzog566A5piT5aSE55CGXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhc3NldDogT2JzZXJ2ZXIgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIGRhdGEuZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFzc2V0ICYmIGFzc2V0LmdldCgndHlwZScpID09PSAndGV4dHVyZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0LnNldCgnbW9kaWZpZWRBdCcsIGRhdGEuZGF0YS5tb2RpZmllZEF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0LnNldCgnZmlsZS5zaXplJywgZGF0YS5kYXRhLmZpbGUuc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldC5zZXQoJ2ZpbGUuaGFzaCcsIGRhdGEuZGF0YS5maWxlLmhhc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXQuZW1pdCgndGh1bWJuYWlscy5tOnNldCcsIGRhdGEuZGF0YS5uYW1lICsgJz8nICsgZGF0YS5kYXRhLmZpbGUuaGFzaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5pu05paw5Zu+54mHJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRhdGEuZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIGFzc2V0ID0gbmV3IE9ic2VydmVyKGRhdGEuZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmFkZCcsIGFzc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBamF4LnBvc3QodXJsLCBmb3JtKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOS4iuS8oOaVsOaNru+8jOWFt+S9k+WFpeWPo1xyXG4gICAgICAgICAgICAvLyBBamF4KGRhdGEpXHJcbiAgICAgICAgICAgIC8vICAgICAub24oJ2xvYWQnLCBmdW5jdGlvbiAoc3RhdHVzLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgZWRpdG9yLmNhbGwoJ3N0YXR1czpqb2InLCAnYXNzZXQtdXBsb2FkOicgKyBqb2IpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmIChmbikge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBmbihudWxsLCBkYXRhKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgICAgICAvLyAgICAgLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uIChwcm9ncmVzcykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGVkaXRvci5jYWxsKCdzdGF0dXM6am9iJywgJ2Fzc2V0LXVwbG9hZDonICsgam9iLCBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgICAgICAvLyAgICAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChzdGF0dXMsIGRhdGEpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBpZiAoL0Rpc2sgYWxsb3dhbmNlLy50ZXN0KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRhdGEgKz0gJy4gPGEgaHJlZj0nL3VwZ3JhZGUnIHRhcmdldD0nX2JsYW5rJz5VUEdSQURFPC9hPiB0byBnZXQgbW9yZSBkaXNrIHNwYWNlLic7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gICAgICAgICBlZGl0b3IuY2FsbCgnc3RhdHVzOmVycm9yJywgZGF0YSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgZWRpdG9yLmNhbGwoJ3N0YXR1czpqb2InLCAnYXNzZXQtdXBsb2FkOicgKyBqb2IpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmIChmbikge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBmbihkYXRhKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOnVwbG9hZDpmaWxlcycsIGZ1bmN0aW9uIChmaWxlczogRmlsZUxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKCFlZGl0b3IuY2FsbCgnYXNzZXRzOmNhblVwbG9hZEZpbGVzJywgZmlsZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgbXNnID0gJ0Rpc2sgYWxsb3dhbmNlIGV4Y2VlZGVkLiA8YSBocmVmPScvdXBncmFkZScgdGFyZ2V0PSdfYmxhbmsnPlVQR1JBREU8L2E+IHRvIGdldCBtb3JlIGRpc2sgc3BhY2UuJztcclxuICAgICAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdzdGF0dXM6ZXJyb3InLCBtc2cpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudEZvbGRlciA9IGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicpO1xyXG5cclxuICAgICAgICAgICAgLy8g6YGN5Y6G5q+P5LiA5Liq5paH5Lu2XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXRoOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Rm9sZGVyICYmIGN1cnJlbnRGb2xkZXIuZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBjdXJyZW50Rm9sZGVyLmdldCgncGF0aCcpLmNvbmNhdChjdXJyZW50Rm9sZGVyLmdldCgnaWQnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudEZvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50Rm9sZGVyLmdldCgncGF0aCcpKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGN1cnJlbnRGb2xkZXIuZ2V0KCdpZCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHBhdGgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihmaWxlc1tpXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGV4dDE6IHN0cmluZ1tdID0gZmlsZXNbaV0ubmFtZS5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4dDEubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBleHQ6IHN0cmluZyA9IGV4dDFbZXh0MS5sZW5ndGggLSAxXS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZXh0VG9UeXBlW2V4dF0gfHwgJ2JpbmFyeSc7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHR5cGUgIT09ICdiaW5hcnknICYmICF0YXJnZXRFeHRlbnNpb25zW2V4dF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBjb252ZXJ0IHRleHR1cmVzIHRvIHRleHR1cmUgYXRsYXNlc1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHR5cGUgPT09ICd0ZXh0dXJlJyAmJiB1c2VyU2V0dGluZ3MuZ2V0KCdlZGl0b3IucGlwZWxpbmUudGV4dHVyZURlZmF1bHRUb0F0bGFzJykpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0eXBlID0gJ3RleHR1cmVhdGxhcyc7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5ZCM5LiA5paH5Lu25aS56YeN5ZCN5paH5Lu26KaG55uWXHJcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlQXNzZXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZXMgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmZpbmQnLCBmdW5jdGlvbiAoaXRlbTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBmaWxlcyBpbiBjdXJyZW50IGZvbGRlciBvbmx5XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZ2V0KCdwYXRoJykuam9pbignLCcpICE9PSBwYXRoLmpvaW4oJywnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZXNbaV0ubmFtZSA9PT0gaXRlbS5nZXQoJ25hbWUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB0cnkgbG9jYXRlIHNvdXJjZSB3aGVuIGRyb3BwaW5nIG9uIGl0cyB0YXJnZXRzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChzb3VyY2UgJiYgIWl0ZW0uZ2V0KCdzb3VyY2UnKSAmJiBpdGVtLmdldCgnc291cmNlX2Fzc2V0X2lkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHZhciBpdGVtU291cmNlID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBpdGVtLmdldCgnc291cmNlX2Fzc2V0X2lkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGl0ZW1Tb3VyY2UgJiYgaXRlbVNvdXJjZS5nZXQoJ3R5cGUnKSA9PT0gdHlwZSAmJiBpdGVtU291cmNlLmdldCgnbmFtZScpLnRvTG93ZXJDYXNlKCkgPT09IGZpbGVzW2ldLm5hbWUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHNvdXJjZUFzc2V0ID0gaXRlbVNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoaXRlbS5nZXQoJ3NvdXJjZScpID09PSBzb3VyY2UgJiYgaXRlbS5nZXQoJ25hbWUnKS50b0xvd2VyQ2FzZSgpID09PSBmaWxlc1tpXS5uYW1lLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vIHdlIHdhbnQgdGhlIHNhbWUgdHlwZSBvciB0cnkgdG8gcmVwbGFjZSBhIHRleHR1cmUgYXRsYXMgd2l0aCB0aGUgc2FtZSBuYW1lIGlmIG9uZSBleGlzdHNcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChpdGVtLmdldCgndHlwZScpID09PSB0eXBlIHx8ICh0eXBlID09PSAndGV4dHVyZScgJiYgaXRlbS5nZXQoJ3R5cGUnKSA9PT0gJ3RleHR1cmVhdGxhcycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGNhbmRpZGF0ZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNhbmRpZGF0ZXMgY29udGFpbnMgW2luZGV4LCBhc3NldF0gZW50cmllcy4gRWFjaCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgLy8gcmVwcmVzZW50cyBhbiBhc3NldCB0aGF0IGNvdWxkIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSB1cGxvYWRlZCBhc3NldC5cclxuICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgZmlyc3QgY2FuZGlkYXRlIGJ5IGRlZmF1bHQgKG9yIHVuZGVmaW5lZCBpZiB0aGUgYXJyYXkgaXMgZW1wdHkpLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgYXJlIHVwbG9hZGluZyBhIHRleHR1cmUgdHJ5IHRvIGZpbmQgYSB0ZXh0dXJlYXRsYXMgY2FuZGlkYXRlIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgb25lIGV4aXN0cyB0aGVuIG92ZXJ3cml0ZSB0aGUgdGV4dHVyZWF0bGFzIGluc3RlYWQuXHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgYXNzZXQgPSBjYW5kaWRhdGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHR5cGUgPT09ICd0ZXh0dXJlJykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FuZGlkYXRlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoY2FuZGlkYXRlc1tqXVsxXS5nZXQoJ3R5cGUnKSA9PT0gJ3RleHR1cmVhdGxhcycpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGFzc2V0ID0gY2FuZGlkYXRlc1tqXTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHR5cGUgPSAndGV4dHVyZWF0bGFzJztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmIChleHQgPT09ICdqcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlcjogMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRzOiB7fVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwbG9hZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6dXBsb2FkRmlsZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NldDogKGNhbmRpZGF0ZXMgJiYgY2FuZGlkYXRlcy5sZW5ndGggPiAwKSA/IGNhbmRpZGF0ZXNbMF1bMV0gOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzc2V0OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGVzW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aC5qb2luKCcsJyksXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsZXNbaV0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBpcGVsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWV0YTogYXNzZXQgPyBhc3NldFsxXS5nZXQoJ21ldGEnKSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogbnVsbFxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycjogRXJyb3IsIGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbmNlQXNzZXRMb2FkID0gZnVuY3Rpb24gKGFzc2V0OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gYXNzZXQuZ2V0KCdmaWxlLnVybCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2NyaXB0czpwYXJzZScsIGFzc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0Lm9uY2UoJ2ZpbGUudXJsOnNldCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2NyaXB0czpwYXJzZScsIGFzc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzc2V0ID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBkYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25jZUFzc2V0TG9hZChhc3NldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ2Fzc2V0czphZGRbJyArIGRhdGEuaWQgKyAnXScsIG9uY2VBc3NldExvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8g5LiK5Lyg5paH5Lu25oiW5paH5Lu25aS577yM5paH5Lu25LiK5Lyg5YWl5Y+jXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOnVwbG9hZDpwaWNrZXInLCBmdW5jdGlvbiAoYXJnczogYW55KSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGFyZ3MucGFyZW50IHx8IGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC50eXBlID0gJ2ZpbGUnO1xyXG4gICAgICAgICAgICAvLyDmnI3liqHlmajpnIDopoHor4bliKvmraRuYW1lXHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5uYW1lID0gJ2ZpbGUnO1xyXG4gICAgICAgICAgICAvLyBmaWxlSW5wdXQuYWNjZXB0ID0gJyc7XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5tdWx0aXBsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQuc3R5bGUudmVydGljYWxBbGlnbiA9ICdtaWRkbGUnO1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgIFZlcnlFbmdpbmUuYXNzZXRzLmFwcGVuZChmaWxlSW5wdXQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czp1cGxvYWQ6ZmlsZXMnLCBmaWxlSW5wdXQuZmlsZXMpO1xyXG4gICAgICAgICAgICAgICAgLy8g5LiK5Lyg5paH5Lu25Lul5ZCO77yM5byA5aeL5YGa5LiA5Lqb5aSE55CGXHJcbiAgICAgICAgICAgICAgICAvLyDop6PmnpAuYmFieWxvbuaWh+S7tu+8jOWIneatpeWkhOeQhuS7peWQjuS4iuS8oOe7meacjeWKoeWZqFxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmbCA9IGZpbGVJbnB1dC5maWxlcyEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgZmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsb2NhbGl6ZSBmaWxlIHZhciBpbiB0aGUgbG9vcFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZUlucHV0LmZpbGVzIVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbmFtZTogJyArIGZpbGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd0eXBlOiAnICsgZmlsZS50eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NpemU6ICcgKyBmaWxlLnNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignbGFzdE1vZGlmaWVkOiAnICsgZmlsZS5sYXN0TW9kaWZpZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmaWxlSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIGZpbGVJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XHJcbiAgICAgICAgICAgICAgICBmaWxlSW5wdXQucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQoZmlsZUlucHV0KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgT2JzZXJ2ZXJMaXN0LCBPYnNlcnZlciB9IGZyb20gXCIuLi8uLi9saWJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBc3NldHMge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgLy8gdmFyIHVuaXF1ZUlkVG9JdGVtSWQ6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICAvLyBhc3NldHPotYTmupDmjpLluo/vvJpmb2xkZXLotYTmupDmjpLliJflnKjmnIDliY3pnaLvvIzmjInmlofku7blpLnlkI3lrZfmjpLliJfvvJvlhbbku5botYTmupDmjIluYW1l6L+b6KGM5ZCO57ut5o6S5bqPO1xyXG4gICAgICAgIHZhciBhc3NldHMgPSBuZXcgT2JzZXJ2ZXJMaXN0KHtcclxuICAgICAgICAgICAgaWQ6ICdpZCcsXHJcbiAgICAgICAgICAgIHNvcnRlZDogZnVuY3Rpb24gKGE6IE9ic2VydmVyLCBiOiBPYnNlcnZlcik6IG51bWJlciB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYTE6IGJvb2xlYW4gPSBhLmdldCgndHlwZScpID09PSAnZm9sZGVyJztcclxuICAgICAgICAgICAgICAgIGxldCBiMTogYm9vbGVhbiA9IGIuZ2V0KCd0eXBlJykgPT09ICdmb2xkZXInO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhMSAhPT0gYjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYTEgJiYgIWIxKSByZXR1cm4gLTE7IGVsc2UgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG5hOiBzdHJpbmcgPSBhLmdldCgnbmFtZScpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmI6IHN0cmluZyA9IGIuZ2V0KCduYW1lJykudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmEgPT09IG5iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hID4gbmIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGEuZ2V0KCduYW1lJykudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGIuZ2V0KCduYW1lJykudG9Mb3dlckNhc2UoKSwgJ2VuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcmV0dXJuIGFzc2V0cyBPYnNlcnZlckxpc3RcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6cmF3JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXRzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBhbGxvdyBhZGRpbmcgYXNzZXRzXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmFkZCcsIGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgLy8gdW5pcXVlSWRUb0l0ZW1JZFthc3NldC5nZXQoJ3VuaXF1ZUlkJyldID0gYXNzZXQuZ2V0KCdpZCcpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBvcyA9IGFzc2V0cy5hZGQoYXNzZXQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBvcyA9PT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGFzc2V0Lm9uKCduYW1lOnNldCcsIGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIG5hbWVPbGQ6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIG5hbWVPbGQgPSBuYW1lT2xkLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGluZCA9IGFzc2V0cy5kYXRhLmluZGV4T2YoYXNzZXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IGFzc2V0cy5wb3NpdGlvbk5leHRDbG9zZXN0KGFzc2V0LCBmdW5jdGlvbiAoYTogT2JzZXJ2ZXIsIGI6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGExOiBib29sZWFuID0gYS5nZXQoJ3R5cGUnKSA9PT0gJ2ZvbGRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGIxOiBib29sZWFuID0gYi5nZXQoJ3R5cGUnKSA9PT0gJ2ZvbGRlcic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhMSAhPT0gYjEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGExICYmICFiMSkgcmV0dXJuIC0xOyBlbHNlIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hOiBzdHJpbmcgPSBhLmdldCgnbmFtZScpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5iOiBzdHJpbmcgPSBiLmdldCgnbmFtZScpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYSA9PT0gbmIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYSA+IG5iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGEuZ2V0KCduYW1lJykudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGIuZ2V0KCduYW1lJykudG9Mb3dlckNhc2UoKSwgJ2VuJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocG9zID09PSAtMSAmJiAoaW5kICsgMSkgPT0gYXNzZXRzLmRhdGEubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kICE9PSAtMSAmJiAoaW5kICsgMSA9PT0gcG9zKSB8fCAoaW5kID09PSBwb3MpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kIDwgcG9zKVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcy0tO1xyXG5cclxuICAgICAgICAgICAgICAgIGFzc2V0cy5tb3ZlKGFzc2V0LCBwb3MpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2Fzc2V0czptb3ZlJywgYXNzZXQsIHBvcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcHVibGlzaCBhZGRlZCBhc3NldFxyXG4gICAgICAgICAgICBlZGl0b3IuZW1pdCgnYXNzZXRzOmFkZFsnICsgYXNzZXQuZ2V0KCdpZCcpICsgJ10nLCBhc3NldCwgcG9zKTtcclxuICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2Fzc2V0czphZGQnLCBhc3NldCwgcG9zKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYWxsb3cgcmVtb3ZpbmcgYXNzZXRzXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOnJlbW92ZScsIGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgYXNzZXRzLnJlbW92ZShhc3NldCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHJlbW92ZSBhbGwgYXNzZXRzXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmNsZWFyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhc3NldHMuY2xlYXIoKTtcclxuICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2Fzc2V0czpjbGVhcicpO1xyXG5cclxuICAgICAgICAgICAgLy8gdW5pcXVlSWRUb0l0ZW1JZCA9IHt9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBnZXQgYXNzZXQgYnkgaWRcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6Z2V0JywgZnVuY3Rpb24gKGlkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0cy5nZXQoaWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBnZXQgYXNzZXQgYnkgdW5pcXVlIGlkXHJcbiAgICAgICAgLy8gZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmdldFVuaXF1ZScsIGZ1bmN0aW9uICh1bmlxdWVJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciBpZCA9IHVuaXF1ZUlkVG9JdGVtSWRbdW5pcXVlSWRdO1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gaWQgPyBhc3NldHMuZ2V0KGlkKSA6IG51bGw7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIGZpbmQgYXNzZXRzIGJ5IGZ1bmN0aW9uXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmZpbmQnLCBmdW5jdGlvbiAoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NldHMuZmluZChmbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGZpbmQgb25lIGFzc2V0IGJ5IGZ1bmN0aW9uXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXNzZXRzOmZpbmRPbmUnLCBmdW5jdGlvbiAoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NldHMuZmluZE9uZShmbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Fzc2V0czptYXAnLCBmdW5jdGlvbiAoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIGFzc2V0cy5tYXAoZm4pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhc3NldHM6bGlzdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0cy5hcnJheSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBwdWJsaXNoIHJlbW92ZSBhc3NldFxyXG4gICAgICAgIGFzc2V0cy5vbigncmVtb3ZlJywgZnVuY3Rpb24gKGFzc2V0OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICBhc3NldC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdhc3NldHM6cmVtb3ZlJywgYXNzZXQpO1xyXG4gICAgICAgICAgICBlZGl0b3IuZW1pdCgnYXNzZXRzOnJlbW92ZVsnICsgYXNzZXQuZ2V0KCdpZCcpICsgJ10nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSB1bmlxdWVJZFRvSXRlbUlkW2Fzc2V0LmdldCgndW5pcXVlSWQnKV07XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxufSIsImV4cG9ydCAqIGZyb20gJy4vYXNzZXRzJztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMtZnMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2Fzc2V0cy1zeW5jJztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMtcHJldmlldyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXRzLXBhbmVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMtcHJldmlldyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXRzLXBhbmVsLWNvbnRyb2wnO1xyXG5leHBvcnQgKiBmcm9tICAnLi9hc3NldHMtY29udGV4dC1tZW51JztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMtZmlsdGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMtdXBsb2FkJztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMtZHJvcCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXRzLXN0b3JlJztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMtY3JlYXRlLWZvbGRlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXRzLWNyZWF0ZS10YWJsZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXRzLXJlbmFtZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4va2VlcGVyJzsiLCJpbXBvcnQgeyBBc3NldHNQYW5lbCB9IGZyb20gXCIuL2Fzc2V0cy1wYW5lbFwiO1xyXG5pbXBvcnQgeyBBc3NldHNQYW5lbENvbnRyb2wgfSBmcm9tIFwiLi9hc3NldHMtcGFuZWwtY29udHJvbFwiO1xyXG5pbXBvcnQgeyBBc3NldHNGaWx0ZXIgfSBmcm9tIFwiLi9hc3NldHMtZmlsdGVyXCI7XHJcbmltcG9ydCB7IEFzc2V0c1VwbG9hZCB9IGZyb20gXCIuL2Fzc2V0cy11cGxvYWRcIjtcclxuaW1wb3J0IHsgQXNzZXRzU3RvcmUgfSBmcm9tIFwiLi9hc3NldHMtc3RvcmVcIjtcclxuaW1wb3J0IHsgQXNzZXRzQ29udGV4dE1lbnUgfSBmcm9tIFwiLi9hc3NldHMtY29udGV4dC1tZW51XCI7XHJcbmltcG9ydCB7IFRlc3RBc3NldHMgfSBmcm9tIFwiLi90ZXN0XCI7XHJcbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gXCIuL2Fzc2V0c1wiO1xyXG5pbXBvcnQgeyBBc3NldHNDcmVhdGVGb2xkZXIgfSBmcm9tIFwiLi9hc3NldHMtY3JlYXRlLWZvbGRlclwiO1xyXG5pbXBvcnQgeyBBc3NldHNTeW5jIH0gZnJvbSBcIi4vYXNzZXRzLXN5bmNcIjtcclxuaW1wb3J0IHsgQXNzZXRzRHJvcCB9IGZyb20gXCIuL2Fzc2V0cy1kcm9wXCI7XHJcbmltcG9ydCB7IEFzc2V0c0NyZWF0ZVRhYmxlIH0gZnJvbSBcIi4vYXNzZXRzLWNyZWF0ZS10YWJsZVwiO1xyXG5pbXBvcnQgeyBBc3NldHNSZW5hbWUgfSBmcm9tIFwiLi9hc3NldHMtcmVuYW1lXCI7XHJcbmltcG9ydCB7IEFzc2V0c0ZzIH0gZnJvbSBcIi4vYXNzZXRzLWZzXCI7XHJcbmltcG9ydCB7IEFzc2V0c1ByZXZpZXcgfSBmcm9tIFwiLi9hc3NldHMtcHJldmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzICBBc3NldHNLZWVwZXIge1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBsZXQgYXNzZXRzID0gbmV3IEFzc2V0cygpO1xyXG5cclxuICAgICAgICBsZXQgc3luY0Fzc2V0cyA9IG5ldyBBc3NldHNTeW5jKCk7XHJcbiAgICAgICAgbmV3IEFzc2V0c0ZzKCk7XHJcbiAgICAgICAgbmV3IEFzc2V0c1ByZXZpZXcoKTtcclxuICAgICAgICBsZXQgYXNzZXRQYW5lbCA9IG5ldyBBc3NldHNQYW5lbCgpO1xyXG4gICAgICAgIGxldCBwYW5lbENvbnRyb2wgPSBuZXcgQXNzZXRzUGFuZWxDb250cm9sKCk7XHJcbiAgICAgICAgbGV0IGZpbHRlciA9IG5ldyBBc3NldHNGaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgbGV0IGNyZWF0ZUZvbGRlciA9IG5ldyBBc3NldHNDcmVhdGVGb2xkZXIoKTtcclxuICAgICAgICBsZXQgY29udGV4dE1lbnUgPSBuZXcgQXNzZXRzQ29udGV4dE1lbnUoKTtcclxuXHJcbiAgICAgICAgbGV0IGNyZWF0ZVRhYmxlID0gbmV3IEFzc2V0c0NyZWF0ZVRhYmxlKCk7XHJcblxyXG4gICAgICAgIGxldCB1cGxvYWQgPSBuZXcgQXNzZXRzVXBsb2FkKCk7XHJcblxyXG4gICAgICAgIGxldCBkcm9wID0gbmV3IEFzc2V0c0Ryb3AoKTtcclxuXHJcbiAgICAgICAgbGV0IGxpYnJhcnkgPSBuZXcgQXNzZXRzU3RvcmUoKTtcclxuXHJcbiAgICAgICAgbmV3IEFzc2V0c1JlbmFtZSgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIGxldCB0ZXN0ID0gbmV3IFRlc3RBc3NldHMoKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uLy4uLy4uL2xpYlwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vdWlcIjtcclxuaW1wb3J0IHsgQmFieWxvbkxvYWRlciB9IGZyb20gXCIuLi8uLi9taWRkbGV3YXJlL2xvYWRlci9iYWJ5bG9uTG9hZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQXNzZXRzVGV4dHVyZSB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgcGFuZWxzU3RhdGVzOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdhdHRyaWJ1dGVzOmluc3BlY3RbYXNzZXRdJywgZnVuY3Rpb24gKGFzc2V0czogT2JzZXJ2ZXJbXSkge1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcignYXR0cmlidXRlczppbnNwZWN0W2Fzc2V0XScpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKGFzc2V0cyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0c1tpXS5nZXQoJ3R5cGUnKSAhPT0gJ3RleHR1cmUnICYmIGFzc2V0c1tpXS5nZXQoJ3R5cGUnKSAhPT0gJ3RleHR1cmVhdGxhcycgfHwgYXNzZXRzW2ldLmdldCgnc291cmNlJykpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZXZlbnRzOiBhbnkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpZHM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgaWRzLnB1c2goYXNzZXRzW2ldLmdldCgnaWQnKSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQgPSBpZHMuc29ydChmdW5jdGlvbiAoYTogc3RyaW5nLCBiOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XHJcbiAgICAgICAgICAgIH0pLmpvaW4oJywnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwYW5lbFN0YXRlID0gcGFuZWxzU3RhdGVzW2lkXTtcclxuICAgICAgICAgICAgdmFyIHBhbmVsU3RhdGVOZXcgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCFwYW5lbFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBwYW5lbFN0YXRlTmV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHBhbmVsU3RhdGUgPSBwYW5lbHNTdGF0ZXNbaWRdID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgcGFuZWxTdGF0ZVsndGV4dHVyZSddID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwYW5lbFN0YXRlWydjb21wcmVzc2lvbiddID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIOWkmuS4quadkOi0qO+8jOaUueWPmOWxnuaAp+mdouadv+agh+mimFxyXG4gICAgICAgICAgICBpZiAoYXNzZXRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBudW1UZXh0dXJlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtVGV4dHVyZUF0bGFzZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3NldHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXRzW2ldLmdldCgndHlwZScpID09PSAndGV4dHVyZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtVGV4dHVyZXMrKztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1UZXh0dXJlQXRsYXNlcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBtc2cgPSAnJztcclxuICAgICAgICAgICAgICAgIHZhciBjb21tYSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKG51bVRleHR1cmVzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbXNnICs9IG51bVRleHR1cmVzICsgJyBUZXh0dXJlJyArIChudW1UZXh0dXJlcyA+IDEgPyAncycgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY29tbWEgPSAnLCAnO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgaWYgKG51bVRleHR1cmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnICs9IG51bVRleHR1cmVzICsgJ+W8oOi0tOWbvic7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWEgPSAnLCAnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG51bVRleHR1cmVBdGxhc2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnICs9IGNvbW1hICsgbnVtVGV4dHVyZUF0bGFzZXMgKyAnIFRleHR1cmUgQXRsYXMnICsgKG51bVRleHR1cmVBdGxhc2VzID4gMSA/ICdlcycgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpoZWFkZXInLCBtc2cpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIHBhbmVsXHJcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZFBhbmVsJywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ+i0tOWbvicsXHJcbiAgICAgICAgICAgICAgICBmb2xkYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGZvbGRlZDogcGFuZWxTdGF0ZVsndGV4dHVyZSddXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwYW5lbC5jbGFzcy5hZGQoJ2NvbXBvbmVudCcpO1xyXG4gICAgICAgICAgICBwYW5lbC5vbignZm9sZCcsIGZ1bmN0aW9uICgpIHsgcGFuZWxTdGF0ZVsndGV4dHVyZSddID0gdHJ1ZTsgfSk7XHJcbiAgICAgICAgICAgIHBhbmVsLm9uKCd1bmZvbGQnLCBmdW5jdGlvbiAoKSB7IHBhbmVsU3RhdGVbJ3RleHR1cmUnXSA9IGZhbHNlOyB9KTtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6dGV4dHVyZTphc3NldCcsIHBhbmVsLCBwYW5lbC5oZWFkZXJFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBNZXRh5oyJ6ZKu77yM5pqC5pe25rKh55So5YW25a6eXHJcbiAgICAgICAgICAgIHZhciBidG5HZXRNZXRhID0gbmV3IEJ1dHRvbignQ2FsY3VsYXRlIE1ldGEnKTtcclxuICAgICAgICAgICAgYnRuR2V0TWV0YS5jbGFzcyEuYWRkKCdjYWxjdWxhdGUtbWV0YScsICdsYXJnZS13aXRoLWljb24nKTtcclxuICAgICAgICAgICAgdmFyIGJ0bkdldE1ldGFWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlICYmICFhc3NldHNbaV0uZ2V0KCdtZXRhJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnRuR2V0TWV0YS5oaWRkZW4gPSAhdmlzaWJsZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYnRuR2V0TWV0YS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldHNbaV0uZ2V0KCdtZXRhJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncmVhbHRpbWU6c2VuZCcsICdwaXBlbGluZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ21ldGEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYXNzZXRzW2ldLmdldCgndW5pcXVlSWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnRuR2V0TWV0YS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmQoYnRuR2V0TWV0YSk7XHJcblxyXG4gICAgICAgICAgICBidG5HZXRNZXRhVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ0bkdldE1ldGEuaGlkZGVuICYmICFhc3NldHNbaV0uZ2V0KCdtZXRhJykpXHJcbiAgICAgICAgICAgICAgICAgICAgYnRuR2V0TWV0YS5oaWRkZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChhc3NldHNbaV0ub24oJ21ldGE6c2V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bkdldE1ldGFWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChhc3NldHNbaV0ub24oJ21ldGE6dW5zZXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuR2V0TWV0YS5oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gd2lkdGhcclxuICAgICAgICAgICAgdmFyIGZpZWxkV2lkdGggPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnV2lkdGgnLFxyXG4gICAgICAgICAgICAgICAgbGluazogYXNzZXRzLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ21ldGEud2lkdGgnLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdwaXhlbHMnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyByZWZlcmVuY2VcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdhc3NldDp0ZXh0dXJlOndpZHRoJywgZmllbGRXaWR0aC5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG5cclxuICAgICAgICAgICAgLy8gaGVpZ2h0XHJcbiAgICAgICAgICAgIHZhciBmaWVsZEhlaWdodCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdIZWlnaHQnLFxyXG4gICAgICAgICAgICAgICAgbGluazogYXNzZXRzLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ21ldGEuaGVpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAncGl4ZWxzJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6dGV4dHVyZTpoZWlnaHQnLCBmaWVsZEhlaWdodC5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG5cclxuICAgICAgICAgICAgLy8gZGVwdGhcclxuICAgICAgICAgICAgdmFyIGZpZWxkRGVwdGggPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnRGVwdGgnLFxyXG4gICAgICAgICAgICAgICAgbGluazogYXNzZXRzLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ21ldGEuZGVwdGgnLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdiaXQnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgY2hlY2tEZXB0aEZpZWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmaWVsZERlcHRoLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGVwdGguZWxlbWVudC5pbm5lckhUTUwgPSAndW5rbm93bic7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNoZWNrRGVwdGhGaWVsZCgpO1xyXG4gICAgICAgICAgICBmaWVsZERlcHRoLm9uKCdjaGFuZ2UnLCBjaGVja0RlcHRoRmllbGQpO1xyXG4gICAgICAgICAgICAvLyByZWZlcmVuY2VcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdhc3NldDp0ZXh0dXJlOmRlcHRoJywgZmllbGREZXB0aC5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWxwaGFcclxuICAgICAgICAgICAgdmFyIGZpZWxkQWxwaGEgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnQWxwaGEnLFxyXG4gICAgICAgICAgICAgICAgbGluazogYXNzZXRzLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ21ldGEuYWxwaGEnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgY2hlY2tBbHBoYUZpZWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmaWVsZEFscGhhLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkQWxwaGEuZWxlbWVudC5pbm5lckhUTUwgPSAnZmFsc2UnO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjaGVja0FscGhhRmllbGQoKTtcclxuICAgICAgICAgICAgZmllbGRBbHBoYS5vbignY2hhbmdlJywgY2hlY2tBbHBoYUZpZWxkKTtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6dGV4dHVyZTphbHBoYScsIGZpZWxkQWxwaGEucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGludGVybGFjZWRcclxuICAgICAgICAgICAgdmFyIGZpZWxkSW50ZXJsYWNlZCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdJbnRlcmxhY2VkJyxcclxuICAgICAgICAgICAgICAgIGxpbms6IGFzc2V0cyxcclxuICAgICAgICAgICAgICAgIHBhdGg6ICdtZXRhLmludGVybGFjZWQnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgY2hlY2tJbnRlcmxhY2VkRmllbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZpZWxkSW50ZXJsYWNlZC52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZEludGVybGFjZWQuZWxlbWVudC5pbm5lckhUTUwgPSAnZmFsc2UnO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjaGVja0ludGVybGFjZWRGaWVsZCgpO1xyXG4gICAgICAgICAgICBmaWVsZEludGVybGFjZWQub24oJ2NoYW5nZScsIGNoZWNrSW50ZXJsYWNlZEZpZWxkKTtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6dGV4dHVyZTppbnRlcmxhY2VkJywgZmllbGRJbnRlcmxhY2VkLnBhcmVudC5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZC51aSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gcmdibVxyXG4gICAgICAgICAgICB2YXIgZmllbGRSZ2JtID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6YWRkRmllbGQnLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhbmVsLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ1JnYm0nLFxyXG4gICAgICAgICAgICAgICAgbGluazogYXNzZXRzLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ2RhdGEucmdibScsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyByZWZlcmVuY2VcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdhc3NldDp0ZXh0dXJlOnJnYm0nLCBmaWVsZFJnYm0ucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIG1pcG1hcHNcclxuICAgICAgICAgICAgdmFyIGZpZWxkTWlwcyA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdNaXBtYXBzJyxcclxuICAgICAgICAgICAgICAgIGxpbms6IGFzc2V0cyxcclxuICAgICAgICAgICAgICAgIHBhdGg6ICdkYXRhLm1pcG1hcHMnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NoZWNrYm94J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6dGV4dHVyZTptaXBtYXBzJywgZmllbGRNaXBzLnBhcmVudC5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZC51aSk7XHJcblxyXG4gICAgICAgICAgICAvLyBmaWx0ZXJpbmdcclxuICAgICAgICAgICAgdmFyIGZpZWxkRmlsdGVyaW5nID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6YWRkRmllbGQnLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhbmVsLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ0ZpbHRlcmluZycsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICAgICAgICAgICAgICAgIGVudW06IHtcclxuICAgICAgICAgICAgICAgICAgICAnJzogJy4uLicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ25lYXJlc3QnOiAnUG9pbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdsaW5lYXInOiAnTGluZWFyJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6dGV4dHVyZTpmaWx0ZXJpbmcnLCBmaWVsZEZpbHRlcmluZy5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgLy8gcHJldmlld1xyXG4gICAgICAgICAgICBpZiAoYXNzZXRzLmxlbmd0aCA9PT0gMSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByb290ID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXMucm9vdFBhbmVsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlbG9hZEltYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChhc3NldHNbMF0uZ2V0KCdmaWxlLnVybCcpICYmIGFzc2V0c1swXS5nZXQoJ2ZpbGUuaGFzaCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGltYWdlLnNyYyA9IGFzc2V0c1swXS5nZXQoJ2ZpbGUudXJsJykuYXBwZW5kUXVlcnkoJ3Q9JyArIGFzc2V0c1swXS5nZXQoJ2ZpbGUuaGFzaCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcHJldmlld0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcHJldmlld0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0c1swXS5nZXQoJ2ZpbGUnKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBhc3NldHNbMF0uZ2V0KCdpZCcpICsgJy8nICsgYXNzZXRzWzBdLmdldCgnbmFtZScpICsgJz8nICsgYXNzZXRzWzBdLmdldCgnZmlsZS5oYXNoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwcmV2aWV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBwcmV2aWV3Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Fzc2V0LXByZXZpZXctY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHByZXZpZXcuY2xhc3NMaXN0LmFkZCgnYXNzZXQtcHJldmlldycpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5jbGFzcy5hZGQoJ2FuaW1hdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCInICsgaW1hZ2Uuc3JjICsgJ1wiKSc7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmVsb2FkSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIHByZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQocHJldmlldyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJldmlldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdC5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnbGFyZ2UnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbGFyZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGFyZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcm9vdC5jbGFzcy5hZGQoJ2Fzc2V0LXByZXZpZXcnKTtcclxuICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5pbnNlcnRCZWZvcmUocHJldmlld0NvbnRhaW5lciwgcm9vdC5pbm5lckVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBldmVudHNQcmV2aWV3OiBhbnlbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzUHJldmlldy5wdXNoKGFzc2V0c1swXS5vbignZmlsZS5oYXNoOnNldCcsIHJlbG9hZEltYWdlKSk7XHJcbiAgICAgICAgICAgICAgICBldmVudHNQcmV2aWV3LnB1c2goYXNzZXRzWzBdLm9uKCdmaWxlLnVybDpzZXQnLCByZWxvYWRJbWFnZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBhbmVsLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzUHJldmlldy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzUHJldmlld1tpXS51bmJpbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3Q29udGFpbmVyLnBhcmVudE5vZGUhLnJlbW92ZUNoaWxkKHByZXZpZXdDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QuY2xhc3MucmVtb3ZlKCdhc3NldC1wcmV2aWV3JywgJ2FuaW1hdGUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwYW5lbC5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2ldLnVuYmluZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IFBhbmVsLCBCdXR0b24gfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vbGliXCI7XHJcbmltcG9ydCB7IEJhYnlsb25Mb2FkZXIgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9sb2FkZXIvYmFieWxvbkxvYWRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZXNBc3NldHMge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgc291cmNlUnVudGltZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICctMSc6ICd2YXJpb3VzJyxcclxuICAgICAgICAgICAgJzAnOiAneWVzJyxcclxuICAgICAgICAgICAgJzEnOiAnbm8nXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGVkaXRhYmxlVHlwZXMgPSB7XHJcbiAgICAgICAgICAgICdzY3JpcHQnOiAxLFxyXG4gICAgICAgICAgICAndGFibGUnOiAxLFxyXG4gICAgICAgICAgICAnaHRtbCc6IDEsXHJcbiAgICAgICAgICAgICdzaGFkZXInOiAxLFxyXG4gICAgICAgICAgICAndGV4dCc6IDEsXHJcbiAgICAgICAgICAgICdqc29uJzogMVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBsZWdhY3lTY3JpcHRzID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICB2YXIgYXNzZXRzUGFuZWw6IE51bGxhYmxlPFBhbmVsPiA9IG51bGw7XHJcblxyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2F0dHJpYnV0ZXM6aW5zcGVjdFthc3NldF0nLCBmdW5jdGlvbiAoYXNzZXRzOiBPYnNlcnZlcltdKSB7XHJcbiAgICAgICAgICAgIHZhciBldmVudHM6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy8gdW5mb2xkIHBhbmVsXHJcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzLnJvb3RQYW5lbCcpO1xyXG4gICAgICAgICAgICBpZiAocGFuZWwuZm9sZGVkKVxyXG4gICAgICAgICAgICAgICAgcGFuZWwuZm9sZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgbXVsdGkgPSBhc3NldHMubGVuZ3RoID4gMTtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAoKGFzc2V0c1swXS5nZXQoJ3NvdXJjZScpICYmIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSAhPT0gJ2ZvbGRlcicpID8gJ3NvdXJjZSAnIDogJycpICsgYXNzZXRzWzBdLmdldCgndHlwZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG11bHRpKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpoZWFkZXInLCBhc3NldHMubGVuZ3RoICsgJyBhc3NldHMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlICE9PSAoKGFzc2V0c1swXS5nZXQoJ3NvdXJjZScpICYmIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSAhPT0gJ2ZvbGRlcicpID8gJ3NvdXJjZSAnIDogJycpICsgYXNzZXRzW2ldLmdldCgndHlwZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6aGVhZGVyJywgdHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHBhbmVsXHJcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZFBhbmVsJyk7XHJcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzLmFkZCgnY29tcG9uZW50Jyk7XHJcbiAgICAgICAgICAgIGFzc2V0c1BhbmVsID0gcGFuZWw7XHJcbiAgICAgICAgICAgIHBhbmVsLm9uY2UoJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NldHNQYW5lbCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2ldLnVuYmluZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5pqC5pe25LiN6ICD6JmRXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIHZhciBhbGxCdW5kbGVzID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpidW5kbGVzOmxpc3QnKTtcclxuICAgICAgICAgICAgdmFyIGJ1bmRsZXNFbnVtID0geyBcIlwiOiBcIlwiIH07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsQnVuZGxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYnVuZGxlc0VudW1bYWxsQnVuZGxlc1tpXS5nZXQoJ2lkJyldID0gYWxsQnVuZGxlc1tpXS5nZXQoJ25hbWUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgaWYgKG11bHRpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmllbGRGaWxlbmFtZSA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Fzc2V0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFzc2V0cy5sZW5ndGhcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzY3JpcHRTZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChsZWdhY3lTY3JpcHRzICYmIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSA9PT0gJ3NjcmlwdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmaWxlbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZEZpbGVuYW1lID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6YWRkRmllbGQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdGaWxlbmFtZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rOiBhc3NldHNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICdmaWxlbmFtZSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXR0YWNoJywgJ2Fzc2V0OnNjcmlwdDpmaWxlbmFtZScsIGZpZWxkRmlsZW5hbWUucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlkXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkSWQgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0lEJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluazogYXNzZXRzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnaWQnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdhc3NldDppZCcsIGZpZWxkSWQucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+WQjeWtlycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYXNzZXRzWzBdLmdldCgnbmFtZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goYXNzZXRzWzBdLm9uKCduYW1lOnNldCcsIGZ1bmN0aW9uIChuZXdOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGROYW1lLnZhbHVlID0gbmV3TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goZmllbGROYW1lLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAobmV3TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCduZXdOYW1lOiAnICsgbmV3TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCduYW1lOiAnICsgYXNzZXRzWzBdLmdldCgnbmFtZScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld05hbWUgIT09IGFzc2V0c1swXS5nZXQoJ25hbWUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Fzc2V0czpyZW5hbWUnLCBhc3NldHNbMF0sIG5ld05hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkTmFtZS5jbGFzcy5hZGQoJ2Fzc2V0LW5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXR0YWNoJywgJ2Fzc2V0Om5hbWUnLCBmaWVsZE5hbWUucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhc3NldHNbMF0uZ2V0KCdzb3VyY2UnKSAmJiBhc3NldHNbMF0uZ2V0KCd0eXBlJykgIT09ICdmb2xkZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRhZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkVGFncyA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUYWdzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnQWRkIFRhZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGFncycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdUeXBlOiAnc3RyaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbms6IGFzc2V0c1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICd0YWdzJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6dGFncycsIGZpZWxkVGFncy5wYXJlbnQucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJ1bnRpbWVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcnVudGltZSA9IHNvdXJjZVJ1bnRpbWVPcHRpb25zW2Fzc2V0c1swXS5nZXQoJ3NvdXJjZScpID8gJzEnIDogJzAnXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgcnVudGltZSA9IHNvdXJjZVJ1bnRpbWVPcHRpb25zWycwJ107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0c1swXS5nZXQoJ3R5cGUnKSA9PT0gJ2ZvbGRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWUgPSBzb3VyY2VSdW50aW1lT3B0aW9uc1snMSddO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRSdW50aW1lID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6YWRkRmllbGQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdSdW50aW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJ1bnRpbWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXR0YWNoJywgJ2Fzc2V0OnJ1bnRpbWUnLCBmaWVsZFJ1bnRpbWUucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGFza0luZm9cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRGYWlsZWQgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0ZhaWxlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbms6IGFzc2V0c1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJ3Rhc2tJbmZvJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRmFpbGVkLmNsYXNzLmFkZCgnZXJyb3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrRmFpbGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEZhaWxlZC5wYXJlbnQuaGlkZGVuID0gYXNzZXRzWzBdLmdldCgndGFzaycpICE9PSAnZmFpbGVkJyB8fCAhYXNzZXRzWzBdLmdldCgndGFza0luZm8nKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRmFpbGVkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGFzc2V0c1swXS5vbigndGFzazpzZXQnLCBjaGVja0ZhaWxlZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGFzc2V0c1swXS5vbigndGFza0luZm86c2V0JywgY2hlY2tGYWlsZWQpKTtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHMucHVzaChhc3NldHNbMF0ub24oJ3Rhc2tJbmZvOnVuc2V0JywgY2hlY2tGYWlsZWQpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdHlwZVxyXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkVHlwZSA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1R5cGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0eXBlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdhc3NldDp0eXBlJywgZmllbGRUeXBlLnBhcmVudC5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZC51aSk7XHJcbiAgICAgICAgICAgICAgICAvLyByZWZlcmVuY2UgdHlwZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFhc3NldHNbMF0uZ2V0KCdzb3VyY2UnKSlcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXNzZXQ6JyArIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSArICc6YXNzZXQ6YXR0YWNoJywgZmllbGRUeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIShsZWdhY3lTY3JpcHRzICYmIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSA9PT0gJ3NjcmlwdCcpICYmIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSAhPT0gJ2ZvbGRlcicgJiYgIWFzc2V0c1swXS5nZXQoJ3NvdXJjZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJlbG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZFByZWxvYWQgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1ByZWxvYWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rOiBhc3NldHNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICdwcmVsb2FkJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUHJlbG9hZC5wYXJlbnQuY2xhc3MuYWRkKCdwcmVsb2FkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdhc3NldDpwcmVsb2FkJywgZmllbGRQcmVsb2FkLnBhcmVudC5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZC51aSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2l6ZVxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgIGlmIChhc3NldHNbMF0uaGFzKCdmaWxlJykgfHwgYXNzZXRzWzBdLmdldCgndHlwZScpID09PSAnYnVuZGxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gYXNzZXRzWzBdLmdldCgndHlwZScpID09PSAnYnVuZGxlJyA/IGVkaXRvci5jYWxsKCdhc3NldHM6YnVuZGxlczpjYWxjdWxhdGVTaXplJywgYXNzZXRzWzBdKSA6IGFzc2V0c1swXS5nZXQoJ2ZpbGUuc2l6ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZFNpemUgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRGaWVsZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NpemUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYnl0ZXNUb0h1bWFuKHNpemUpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldnRTaXplID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZXZ0U2l6ZS5wdXNoKGFzc2V0c1swXS5vbignZmlsZTpzZXQnLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRTaXplLnRleHQgPSBieXRlc1RvSHVtYW4odmFsdWUgPyB2YWx1ZS5zaXplIDogMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBldnRTaXplLnB1c2goYXNzZXRzWzBdLm9uKCdmaWxlLnNpemU6c2V0JywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkU2l6ZS50ZXh0ID0gYnl0ZXNUb0h1bWFuKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NldHNbMF0uZ2V0KCd0eXBlJykgPT09ICdidW5kbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNhbGN1bGF0ZVNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFNpemUudGV4dCA9IGJ5dGVzVG9IdW1hbihlZGl0b3IuY2FsbCgnYXNzZXRzOmJ1bmRsZXM6Y2FsY3VsYXRlU2l6ZScsIGFzc2V0c1swXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0U2l6ZS5wdXNoKGFzc2V0c1swXS5vbignZGF0YS5hc3NldHM6c2V0JywgcmVjYWxjdWxhdGVTaXplKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dFNpemUucHVzaChhc3NldHNbMF0ub24oJ2RhdGEuYXNzZXRzOmluc2VydCcsIHJlY2FsY3VsYXRlU2l6ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldnRTaXplLnB1c2goYXNzZXRzWzBdLm9uKCdkYXRhLmFzc2V0czpyZW1vdmUnLCByZWNhbGN1bGF0ZVNpemUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLm9uY2UoJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZ0U2l6ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZ0U2l6ZVtpXS51bmJpbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldnRTaXplLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnYXNzZXQ6c2l6ZScsIGZpZWxkU2l6ZS5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAvLyDkuIvovb3ljLrln5/mjInpkq5cclxuICAgICAgICAgICAgICAgIHZhciBwYW5lbEJ1dHRvbnMgPSBuZXcgUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgIHBhbmVsQnV0dG9ucy5jbGFzcyEuYWRkKCdidXR0b25zJyk7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmQocGFuZWxCdXR0b25zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0c1swXS5nZXQoJ3R5cGUnKSAhPT0gJ2ZvbGRlcicgJiYgIShsZWdhY3lTY3JpcHRzICYmIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSA9PT0gJ3NjcmlwdCcpICYmIGFzc2V0c1swXS5nZXQoJ3R5cGUnKSAhPT0gJ3Nwcml0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkb3dubG9hZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidG5Eb3dubG9hZCA9IG5ldyBCdXR0b24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnRuRG93bmxvYWQuaGlkZGVuID0gIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczpyZWFkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2dEJ0bkRvd25sb2FkUGVybWlzc2lvbnMgPSBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOnNldDonICsgJ2lkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Eb3dubG9hZC5oaWRkZW4gPSAhZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOnJlYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnRuRG93bmxvYWQudGV4dCA9ICfkuIvovb0nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bkRvd25sb2FkLmNsYXNzIS5hZGQoJ2Rvd25sb2FkLWFzc2V0JywgJ2xhcmdlLXdpdGgtaWNvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bkRvd25sb2FkLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoYnRuRG93bmxvYWQucHJldmVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS4i+i9vVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXRzWzBdLmdldCgnc291cmNlJykgfHwgYXNzZXRzWzBdLmdldCgndHlwZScpID09PSAndGV4dHVyZScgfHwgYXNzZXRzWzBdLmdldCgndHlwZScpID09PSAnYXVkaW8nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihCYWJ5bG9uTG9hZGVyLnByZWZpeCArIGFzc2V0c1swXS5nZXQoJ2lkJykgKyAnLycgKyBhc3NldHNbMF0uZ2V0KCduYW1lJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oJy9hcGkvYXNzZXRzLycgKyBhc3NldHNbMF0uZ2V0KCdpZCcpICsgJy9kb3dubG9hZD9icmFuY2hJZD0nICsgJ2lkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBwYW5lbEJ1dHRvbnMuYXBwZW5kKGJ0bkRvd25sb2FkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnRuRG93bmxvYWQub25jZSgnZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0QnRuRG93bmxvYWRQZXJtaXNzaW9ucy51bmJpbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdhdHRyaWJ1dGVzOmFzc2V0czp0b2dnbGVJbmZvJywgZnVuY3Rpb24gKGVuYWJsZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgaWYgKGFzc2V0c1BhbmVsKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NldHNQYW5lbC5oaWRkZW4gPSAhZW5hYmxlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhdHRyaWJ1dGVzOmFzc2V0czpwYW5lbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0c1BhbmVsO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUGFuZWwsIEJ1dHRvbiwgTWVudSwgTWVudUl0ZW0gfSBmcm9tICcuLi8uLi91aSc7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAnLi4vLi4vbGliJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVzRW50aXR5IHtcclxuXHJcblxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHZhciBwYW5lbENvbXBvbmVudHM6IGFueTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXR0cmlidXRlczplbnRpdHkucGFuZWxDb21wb25lbnRzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFuZWxDb21wb25lbnRzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBhZGQgY29tcG9uZW50IG1lbnVcclxuICAgICAgICAvLyB2YXIgbWVudUFkZENvbXBvbmVudCA9IG5ldyBNZW51KCk7XHJcbiAgICAgICAgLy8gdmFyIGNvbXBvbmVudHMgPSBlZGl0b3IuY2FsbCgnY29tcG9uZW50czpzY2hlbWEnKTtcclxuICAgICAgICAvLyB2YXIgbGlzdCA9IGVkaXRvci5jYWxsKCdjb21wb25lbnRzOmxpc3QnKTtcclxuICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgbWVudUFkZENvbXBvbmVudC5hcHBlbmQobmV3IE1lbnVJdGVtKHtcclxuICAgICAgICAvLyAgICAgICAgIHRleHQ6IGNvbXBvbmVudHNbbGlzdFtpXV0uJHRpdGxlLFxyXG4gICAgICAgIC8vICAgICAgICAgdmFsdWU6IGxpc3RbaV1cclxuICAgICAgICAvLyAgICAgfSkpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBtZW51QWRkQ29tcG9uZW50Lm9uKCdvcGVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICB2YXIgaXRlbXMgPSBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aXRlbXMnKTtcclxuXHJcbiAgICAgICAgLy8gICAgIHZhciBsZWdhY3lBdWRpbyA9IGVkaXRvci5jYWxsKCdzZXR0aW5nczpwcm9qZWN0JykuZ2V0KCd1c2VMZWdhY3lBdWRpbycpO1xyXG4gICAgICAgIC8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgICAgIHZhciBkaWZmZXJlbnQgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgIHZhciBkaXNhYmxlZCA9IGl0ZW1zWzBdLmhhcygnY29tcG9uZW50cy4nICsgbGlzdFtpXSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgZm9yICh2YXIgbiA9IDE7IG4gPCBpdGVtcy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChkaXNhYmxlZCAhPT0gaXRlbXNbbl0uaGFzKCdjb21wb25lbnRzLicgKyBsaXN0W2ldKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB2YXIgZGlmZmVyZW50ID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgbWVudUFkZENvbXBvbmVudC5maW5kQnlQYXRoKFtsaXN0W2ldXSkhLmRpc2FibGVkID0gZGlmZmVyZW50ID8gZmFsc2UgOiBkaXNhYmxlZDtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAobGlzdFtpXSA9PT0gJ2F1ZGlvc291cmNlJylcclxuICAgICAgICAvLyAgICAgICAgICAgICBtZW51QWRkQ29tcG9uZW50LmZpbmRCeVBhdGgoW2xpc3RbaV1dKSEuaGlkZGVuID0gIWxlZ2FjeUF1ZGlvO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gbWVudUFkZENvbXBvbmVudC5vbignc2VsZWN0JywgZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgICAgICAvLyAgICAgdmFyIGl0ZW1zID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcbiAgICAgICAgLy8gICAgIHZhciBjb21wb25lbnQgPSBwYXRoWzBdO1xyXG4gICAgICAgIC8vICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6YWRkQ29tcG9uZW50JywgaXRlbXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2xheW91dC5yb290JykuYXBwZW5kKG1lbnVBZGRDb21wb25lbnQpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyIGl0ZW1zOiBhbnkgPSBudWxsO1xyXG4gICAgICAgIHZhciBhcmdzTGlzdDogYW55ID0gW107XHJcbiAgICAgICAgdmFyIGFyZ3NGaWVsZHNDaGFuZ2VzOiBhbnkgPSBbXTtcclxuXHJcblxyXG4gICAgICAgIC8vIGluaXRpYWxpemUgZmllbGRzXHJcbiAgICAgICAgdmFyIGluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zID0ge307XHJcblxyXG4gICAgICAgICAgICAvLyBwYW5lbFxyXG4gICAgICAgICAgICB2YXIgcGFuZWwgPSBpdGVtcy5wYW5lbCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZFBhbmVsJyk7XHJcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzLmFkZCgnY29tcG9uZW50Jyk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gZW5hYmxlZFxyXG4gICAgICAgICAgICB2YXIgYXJnc0VuYWJsZWQgPSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhbmVsLFxyXG4gICAgICAgICAgICAgICAgLy8gbmFtZTogJ0VuYWJsZWQnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ+a/gOa0uycsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ2VuYWJsZWQnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGl0ZW1zLmZpZWxkRW5hYmxlZCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywgYXJnc0VuYWJsZWQpO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiDluK7liqnmlofmoaPpk77mjqVcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdlbnRpdHk6ZW5hYmxlZCcsIGl0ZW1zLmZpZWxkRW5hYmxlZC5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG4gICAgICAgICAgICBhcmdzTGlzdC5wdXNoKGFyZ3NFbmFibGVkKTtcclxuICAgICAgICAgICAgYXJnc0ZpZWxkc0NoYW5nZXMucHVzaChpdGVtcy5maWVsZEVuYWJsZWQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIG5hbWVcclxuICAgICAgICAgICAgdmFyIGFyZ3NOYW1lID0ge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICflkI3lrZcnLFxyXG4gICAgICAgICAgICAgICAgLy8gbmFtZTogJ05hbWUnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICAgICAgICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ25hbWUnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGl0ZW1zLmZpZWxkTmFtZSA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywgYXJnc05hbWUpO1xyXG4gICAgICAgICAgICBpdGVtcy5maWVsZE5hbWUuY2xhc3MuYWRkKCdlbnRpdHktbmFtZScpO1xyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXR0YWNoJywgJ2VudGl0eTpuYW1lJywgaXRlbXMuZmllbGROYW1lLnBhcmVudC5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZC51aSk7XHJcbiAgICAgICAgICAgIGFyZ3NMaXN0LnB1c2goYXJnc05hbWUpO1xyXG4gICAgICAgICAgICBhcmdzRmllbGRzQ2hhbmdlcy5wdXNoKGl0ZW1zLmZpZWxkTmFtZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gdGFnc1xyXG4gICAgICAgICAgICAvLyB2YXIgYXJnc1RhZ3MgPSB7XHJcbiAgICAgICAgICAgIC8vICAgICBwYXJlbnQ6IHBhbmVsLFxyXG4gICAgICAgICAgICAvLyAgICAgbmFtZTogJ1RhZ3MnLFxyXG4gICAgICAgICAgICAvLyAgICAgcGxhY2Vob2xkZXI6ICdBZGQgVGFnJyxcclxuICAgICAgICAgICAgLy8gICAgIHR5cGU6ICd0YWdzJyxcclxuICAgICAgICAgICAgLy8gICAgIHRhZ1R5cGU6ICdzdHJpbmcnLFxyXG4gICAgICAgICAgICAvLyAgICAgcGF0aDogJ3RhZ3MnXHJcbiAgICAgICAgICAgIC8vIH07XHJcbiAgICAgICAgICAgIC8vIGl0ZW1zLmZpZWxkVGFncyA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywgYXJnc1RhZ3MpO1xyXG4gICAgICAgICAgICAvLyAvLyBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXR0YWNoJywgJ2VudGl0eTp0YWdzJywgaXRlbXMuZmllbGRUYWdzLnBhcmVudC5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG4gICAgICAgICAgICAvLyBhcmdzTGlzdC5wdXNoKGFyZ3NUYWdzKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBwb3NpdGlvblxyXG4gICAgICAgICAgICB2YXIgYXJnc1Bvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBwYW5lbCxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICfkvY3nva4nLFxyXG4gICAgICAgICAgICAgICAgLy8gbmFtZTogJ1Bvc2l0aW9uJyxcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBbJ1gnLCAnWScsICdaJ10sXHJcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IDMsXHJcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjA1LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3ZlYzMnLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ3Bvc2l0aW9uJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpdGVtcy5maWVsZFBvc2l0aW9uID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6YWRkRmllbGQnLCBhcmdzUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXR0YWNoJywgJ2VudGl0eTpwb3NpdGlvbicsIGl0ZW1zLmZpZWxkUG9zaXRpb25bMF0ucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuICAgICAgICAgICAgYXJnc0xpc3QucHVzaChhcmdzUG9zaXRpb24pO1xyXG4gICAgICAgICAgICBhcmdzRmllbGRzQ2hhbmdlcyA9IGFyZ3NGaWVsZHNDaGFuZ2VzLmNvbmNhdChpdGVtcy5maWVsZFBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJvdGF0aW9uXHJcbiAgICAgICAgICAgIHZhciBhcmdzUm90YXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhbmVsLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ+inkuW6picsXHJcbiAgICAgICAgICAgICAgICAvLyBuYW1lOiAnUm90YXRpb24nLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFsnWCcsICdZJywgJ1onXSxcclxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogMixcclxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICd2ZWMzJyxcclxuICAgICAgICAgICAgICAgIHBhdGg6ICdyb3RhdGlvbidcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaXRlbXMuZmllbGRSb3RhdGlvbiA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywgYXJnc1JvdGF0aW9uKTtcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdlbnRpdHk6cm90YXRpb24nLCBpdGVtcy5maWVsZFJvdGF0aW9uWzBdLnBhcmVudC5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZC51aSk7XHJcbiAgICAgICAgICAgIGFyZ3NMaXN0LnB1c2goYXJnc1JvdGF0aW9uKTtcclxuICAgICAgICAgICAgYXJnc0ZpZWxkc0NoYW5nZXMgPSBhcmdzRmllbGRzQ2hhbmdlcy5jb25jYXQoaXRlbXMuZmllbGRSb3RhdGlvbik7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gc2NhbGVcclxuICAgICAgICAgICAgdmFyIGFyZ3NTY2FsZSA9IHtcclxuICAgICAgICAgICAgICAgIHBhcmVudDogcGFuZWwsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAn5q+U5L6LJyxcclxuICAgICAgICAgICAgICAgIC8vIG5hbWU6ICdTY2FsZScsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogWydYJywgJ1knLCAnWiddLFxyXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiAzLFxyXG4gICAgICAgICAgICAgICAgc3RlcDogMC4wNSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICd2ZWMzJyxcclxuICAgICAgICAgICAgICAgIHBhdGg6ICdzY2FsZSdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaXRlbXMuZmllbGRTY2FsZSA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywgYXJnc1NjYWxlKTtcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdlbnRpdHk6c2NhbGUnLCBpdGVtcy5maWVsZFNjYWxlWzBdLnBhcmVudC5pbm5lckVsZW1lbnQuZmlyc3RDaGlsZC51aSk7XHJcbiAgICAgICAgICAgIGFyZ3NMaXN0LnB1c2goYXJnc1NjYWxlKTtcclxuICAgICAgICAgICAgYXJnc0ZpZWxkc0NoYW5nZXMgPSBhcmdzRmllbGRzQ2hhbmdlcy5jb25jYXQoaXRlbXMuZmllbGRTY2FsZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVja0NvbGxpc2lvbnNcclxuICAgICAgICAgICAgdmFyIGFyZ3NDaGVja0NvbGxpc2lvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhbmVsLFxyXG4gICAgICAgICAgICAgICAgLy8gbmFtZTogJ0VuYWJsZWQnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ+eisOaSnuajgOa1iycsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ2NoZWNrQ29sbGlzaW9ucydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaXRlbXMuY2hlY2tDb2xsaXNpb25zID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6YWRkRmllbGQnLCBhcmdzQ2hlY2tDb2xsaXNpb25zKTtcclxuICAgICAgICAgICAgLy8gVE9ETzog5biu5Yqp5paH5qGj6ZO+5o6lXHJcbiAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphdHRhY2gnLCAnZW50aXR5OmVuYWJsZWQnLCBpdGVtcy5maWVsZEVuYWJsZWQucGFyZW50LmlubmVyRWxlbWVudC5maXJzdENoaWxkLnVpKTtcclxuICAgICAgICAgICAgYXJnc0xpc3QucHVzaChhcmdzQ2hlY2tDb2xsaXNpb25zKTtcclxuICAgICAgICAgICAgYXJnc0ZpZWxkc0NoYW5nZXMucHVzaChpdGVtcy5jaGVja0NvbGxpc2lvbnMpO1xyXG5cclxuICAgICAgICAgICAgLy8gaXNQaWNrYWJsZVxyXG4gICAgICAgICAgICB2YXIgYXJnc0lzUGlja2FibGUgPSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhbmVsLFxyXG4gICAgICAgICAgICAgICAgLy8gbmFtZTogJ0VuYWJsZWQnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ+WPr+mAieS4rScsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgICAgICAgICAgcGF0aDogJ3BpY2thYmxlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpdGVtcy5waWNrYWJsZSA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywgYXJnc0lzUGlja2FibGUpO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiDluK7liqnmlofmoaPpk77mjqVcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6cmVmZXJlbmNlOmF0dGFjaCcsICdlbnRpdHk6ZW5hYmxlZCcsIGl0ZW1zLmZpZWxkRW5hYmxlZC5wYXJlbnQuaW5uZXJFbGVtZW50LmZpcnN0Q2hpbGQudWkpO1xyXG4gICAgICAgICAgICBhcmdzTGlzdC5wdXNoKGFyZ3NJc1BpY2thYmxlKTtcclxuICAgICAgICAgICAgYXJnc0ZpZWxkc0NoYW5nZXMucHVzaChpdGVtcy5waWNrYWJsZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gY29tcG9uZW50cyBwYW5lbFxyXG4gICAgICAgICAgICBwYW5lbENvbXBvbmVudHMgPSBpdGVtcy5wYW5lbENvbXBvbmVudHMgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRQYW5lbCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIGNvbXBvbmVudFxyXG4gICAgICAgICAgICB2YXIgYnRuQWRkQ29tcG9uZW50ID0gaXRlbXMuYnRuQWRkQ29tcG9uZW50ID0gbmV3IEJ1dHRvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gYnRuQWRkQ29tcG9uZW50LmhpZGRlbiA9ICFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKTtcclxuICAgICAgICAgICAgLy8gZWRpdG9yLm9uKCdwZXJtaXNzaW9uczp3cml0ZVN0YXRlJywgZnVuY3Rpb24gKHN0YXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBidG5BZGRDb21wb25lbnQuaGlkZGVuID0gIXN0YXRlO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGJ0bkFkZENvbXBvbmVudC50ZXh0ID0gJ0FkZCBDb21wb25lbnQnO1xyXG4gICAgICAgICAgICBidG5BZGRDb21wb25lbnQudGV4dCA9ICdUbyBCZSBDb250aW51ZWQnO1xyXG4gICAgICAgICAgICBidG5BZGRDb21wb25lbnQuY2xhc3MhLmFkZCgnYWRkLWNvbXBvbmVudCcpO1xyXG4gICAgICAgICAgICBidG5BZGRDb21wb25lbnQuc3R5bGUhLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgICAgICAvLyBidG5BZGRDb21wb25lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICAvLyAgICAgbWVudUFkZENvbXBvbmVudC5wb3NpdGlvbihldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xyXG4gICAgICAgICAgICAvLyAgICAgbWVudUFkZENvbXBvbmVudC5vcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZChidG5BZGRDb21wb25lbnQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGJlZm9yZSBjbGVhcmluZyBpbnNwZWN0b3IsIHByZXNlcnZlIGVsZW1lbnRzXHJcbiAgICAgICAgZWRpdG9yLm9uKCdhdHRyaWJ1dGVzOmJlZm9yZUNsZWFyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdhdHRyaWJ1dGVzOmJlZm9yZUNsZWFyJyk7XHJcbiAgICAgICAgICAgIC8vIHVubGluayBmaWVsZHNcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc0xpc3RbaV0ubGluayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBhcmdzTGlzdFtpXS51bmxpbmtGaWVsZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaXRlbXMgfHwgIWl0ZW1zLnBhbmVsLnBhcmVudClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBwYW5lbCBmcm9tIGluc3BlY3RvclxyXG4gICAgICAgICAgICBpdGVtcy5wYW5lbC5wYXJlbnQucmVtb3ZlKGl0ZW1zLnBhbmVsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGNvbXBvbmVudHNcclxuICAgICAgICAgICAgaXRlbXMucGFuZWxDb21wb25lbnRzLnBhcmVudC5yZW1vdmUoaXRlbXMucGFuZWxDb21wb25lbnRzKTtcclxuICAgICAgICAgICAgaXRlbXMucGFuZWxDb21wb25lbnRzLmNsZWFyKCk7XHJcblxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGluc3BlY3RFdmVudHM6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICAvLyBsaW5rIGRhdGEgdG8gZmllbGRzIHdoZW4gaW5zcGVjdGluZ1xyXG4gICAgICAgIGVkaXRvci5vbignYXR0cmlidXRlczppbnNwZWN0W2VudGl0eV0nLCBmdW5jdGlvbiAoZW50aXRpZXM6IE9ic2VydmVyW10pIHtcclxuICAgICAgICAgICAgaWYgKGVudGl0aWVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmhlYWRlcicsIGVudGl0aWVzLmxlbmd0aCArICfkuKrniankvZMnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmhlYWRlcicsICfniankvZPlsZ7mgKcnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFpdGVtcylcclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgIHZhciByb290ID0gZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXMucm9vdFBhbmVsJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWl0ZW1zLnBhbmVsLnBhcmVudClcclxuICAgICAgICAgICAgICAgIHJvb3QuYXBwZW5kKGl0ZW1zLnBhbmVsKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXRlbXMucGFuZWxDb21wb25lbnRzLnBhcmVudClcclxuICAgICAgICAgICAgICAgIHJvb3QuYXBwZW5kKGl0ZW1zLnBhbmVsQ29tcG9uZW50cyk7XHJcblxyXG4gICAgICAgICAgICAvLyBkaXNhYmxlIHJlbmRlckNoYW5nZXNcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzRmllbGRzQ2hhbmdlcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIGFyZ3NGaWVsZHNDaGFuZ2VzW2ldLnJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxpbmsgZmllbGRzXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJnc0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NMaXN0W2ldLmxpbmsgPSBlbnRpdGllcztcclxuICAgICAgICAgICAgICAgIGFyZ3NMaXN0W2ldLmxpbmtGaWVsZCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBlbmFibGUgcmVuZGVyQ2hhbmdlc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3NGaWVsZHNDaGFuZ2VzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgYXJnc0ZpZWxkc0NoYW5nZXNbaV0ucmVuZGVyQ2hhbmdlcyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBkaXNhYmxlIGZpZWxkcyBpZiBuZWVkZWRcclxuICAgICAgICAgICAgdG9nZ2xlRmllbGRzKGVudGl0aWVzKTtcclxuXHJcbiAgICAgICAgICAgIG9uSW5zcGVjdChlbnRpdGllcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignYXR0cmlidXRlczpjbGVhcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb25Vbmluc3BlY3QoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRvZ2dsZUZpZWxkcyA9IGZ1bmN0aW9uIChzZWxlY3RlZEVudGl0aWVzOiBPYnNlcnZlcltdKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNhYmxlUG9zaXRpb25YWSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgZGlzYWJsZVJvdGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBkaXNhYmxlU2NhbGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWxlY3RlZEVudGl0aWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gc2VsZWN0ZWRFbnRpdGllc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHJvdGF0aW9uIC8gc2NhbGUgZm9yIDJEIHNjcmVlbnNcclxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkuZ2V0KCdjb21wb25lbnRzLnNjcmVlbi5zY3JlZW5TcGFjZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVJvdGF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlU2NhbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgcG9zaXRpb24gb24gdGhlIHgveSBheGlzIGZvciBlbGVtZW50cyB0aGF0IGFyZSBwYXJ0IG9mIGEgbGF5b3V0IGdyb3VwXHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmxheW91dDppc1VuZGVyQ29udHJvbE9mTGF5b3V0R3JvdXAnLCBlbnRpdHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVBvc2l0aW9uWFkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5maWVsZFBvc2l0aW9uWzBdLmVuYWJsZWQgPSAhZGlzYWJsZVBvc2l0aW9uWFk7XHJcbiAgICAgICAgICAgIGl0ZW1zLmZpZWxkUG9zaXRpb25bMV0uZW5hYmxlZCA9ICFkaXNhYmxlUG9zaXRpb25YWTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5maWVsZFJvdGF0aW9uW2ldLmVuYWJsZWQgPSAhZGlzYWJsZVJvdGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgaXRlbXMuZmllbGRTY2FsZVtpXS5lbmFibGVkID0gIWRpc2FibGVTY2FsZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpdGVtcy5maWVsZFJvdGF0aW9uW2ldLnJlbmRlckNoYW5nZXMgPSAhZGlzYWJsZVJvdGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgaXRlbXMuZmllbGRTY2FsZVtpXS5yZW5kZXJDaGFuZ2VzID0gIWRpc2FibGVTY2FsZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgb25JbnNwZWN0ID0gZnVuY3Rpb24gKGVudGl0aWVzOiBPYnNlcnZlcltdKSB7XHJcbiAgICAgICAgICAgIG9uVW5pbnNwZWN0KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYWRkRXZlbnRzID0gZnVuY3Rpb24gKGVudGl0eTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGluc3BlY3RFdmVudHMucHVzaChlbnRpdHkub24oJyo6c2V0JywgZnVuY3Rpb24gKHBhdGg6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgvY29tcG9uZW50cy5zY3JlZW4uc2NyZWVuU3BhY2UvLnRlc3QocGF0aCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgL15wYXJlbnQvLnRlc3QocGF0aCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgL2NvbXBvbmVudHMubGF5b3V0Y2hpbGQuZXhjbHVkZUZyb21MYXlvdXQvLnRlc3QocGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlRmllbGRzSWZOZWVkZWQoZW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgdG9nZ2xlRmllbGRzSWZOZWVkZWQgPSBmdW5jdGlvbiAoZW50aXR5OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoYXMnLCBlbnRpdHkpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZpZWxkcyhlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aXRlbXMnKSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGVudGl0aWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRFdmVudHMoZW50aXRpZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG9uVW5pbnNwZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluc3BlY3RFdmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGluc3BlY3RFdmVudHNbaV0udW5iaW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGluc3BlY3RFdmVudHMubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVIaXN0b3J5IHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG59IiwiaW1wb3J0IHsgUGFuZWwsIExhYmVsLCBQcm9ncmVzcywgRWxlbWVudCwgVGV4dEZpZWxkLCBCdXR0b24sIFRleHRBcmVhRmllbGQsIFNsaWRlciwgTnVtYmVyRmllbGQsIENoZWNrYm94LCBDb2xvckZpZWxkLCBJbWFnZUZpZWxkLCBDb2RlLCBTZWxlY3RGaWVsZCwgVG9wRWxlbWVudFBhbmVsIH0gZnJvbSBcIi4uLy4uL3VpXCI7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZW5naW5lXCI7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2xpYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZXNQYW5lbCB7XHJcblxyXG5cclxuICAgIHB1YmxpYyByb290OiBUb3BFbGVtZW50UGFuZWw7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBpbnNwZWN0ZWRJdGVtczogRXZlbnRIYW5kbGVbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nID0gJ+WxnuaAp+mdouadvyc7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucm9vdCA9IFZlcnlFbmdpbmUuYXR0cmlidXRlcztcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIGNsZWFyaW5nXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXR0cmlidXRlczpjbGVhcicsIHRoaXMuY2xlYXJQYW5lbCk7XHJcblxyXG4gICAgICAgIC8vIHNldCBoZWFkZXJcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhdHRyaWJ1dGVzOmhlYWRlcicsICh0ZXh0OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRleHQudG9Mb3dlckNhc2UoKSA9PT0gJ3RleHR1cmUnKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJ+i0tOWbvic7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dC50b0xvd2VyQ2FzZSgpID09PSAnbWF0ZXJpYWwnKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJ+adkOi0qCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dC50b0xvd2VyQ2FzZSgpID09PSAnbW9kZWwnKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJ+aooeWeiyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dC50b0xvd2VyQ2FzZSgpID09PSAnZm9sZGVyJykge1xyXG4gICAgICAgICAgICAgICAgdGV4dCA9ICfmlofku7blpLknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYucm9vdC5oZWFkZXJUZXh0ID0gdGV4dDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcmV0dXJuIHJvb3QgcGFuZWxcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhdHRyaWJ1dGVzLnJvb3RQYW5lbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYucm9vdDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYWRkIHBhbmVsXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnYXR0cmlidXRlczphZGRQYW5lbCcsIGZ1bmN0aW9uIChhcmdzOiBBZGRQYW5lbEFyZ3MpIHtcclxuICAgICAgICAgICAgYXJncyA9IGFyZ3MgfHwge307XHJcblxyXG4gICAgICAgICAgICAvLyBwYW5lbFxyXG4gICAgICAgICAgICBsZXQgcGFuZWwgPSBuZXcgUGFuZWwoYXJncy5uYW1lIHx8ICcnKTtcclxuICAgICAgICAgICAgLy8gcGFyZW50XHJcbiAgICAgICAgICAgIChhcmdzLnBhcmVudCB8fCBzZWxmLnJvb3QpLmFwcGVuZChwYW5lbCk7XHJcblxyXG4gICAgICAgICAgICAvLyBmb2xkaW5nXHJcbiAgICAgICAgICAgIHBhbmVsLmZvbGRhYmxlID0gYXJncy5mb2xkYWJsZSB8fCBhcmdzLmZvbGRlZCB8fCBmYWxzZTtcclxuICAgICAgICAgICAgcGFuZWwuZm9sZGVkID0gYXJncy5mb2xkZWQgfHwgZmFsc2U7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcGFuZWw7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRPRE9cclxuICAgICAgICB2YXIgaGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gKGl0ZW06IGFueSwgc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaGlzdG9yeSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChpdGVtLmhpc3RvcnkpID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmhpc3RvcnkgPSBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5oaXN0b3J5LmVuYWJsZWQgPSBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLl9wYXJlbnQgJiYgaXRlbS5fcGFyZW50Lmhpc3RvcnkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uX3BhcmVudC5oaXN0b3J5LmVuYWJsZWQgPSBzdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgcmlnaHQgcGF0aCBmcm9tIGFyZ3NcclxuICAgICAgICB2YXIgcGF0aEF0ID0gZnVuY3Rpb24gKGFyZ3M6IGFueSwgaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKGFyZ3MucGF0aHMgJiYgYXJncy5wYXRocy5sZW5ndGggPiAwKSA/IGFyZ3MucGF0aHNbaW5kZXhdIDogYXJncy5wYXRoO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2F0dHJpYnV0ZXM6bGlua0ZpZWxkJywgZnVuY3Rpb24gKGFyZ3M6IGFueSkge1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlRmllbGQsIGNoYW5nZUZpZWxkUXVldWU7XHJcbiAgICAgICAgICAgIGFyZ3MuZmllbGQuX2NoYW5naW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBldmVudHM6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEoYXJncy5saW5rIGluc3RhbmNlb2YgQXJyYXkpKVxyXG4gICAgICAgICAgICAgICAgYXJncy5saW5rID0gW2FyZ3MubGlua107XHJcblxyXG4gICAgICAgICAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmZlcmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBwYXRoQXQoYXJncywgMCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhcmdzLmxpbmtbMF0uaGFzKHBhdGgpKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFyZ3MubGlua1swXS5nZXQocGF0aCkpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihhcmdzLmxpbmtbMF0uZ2V0KCdyb3RhdGlvbicpKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoYXJncy5saW5rWzBdLmhhcygncm90YXRpb24uMCcpKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoYXJncy5saW5rWzBdLmhhcygncm90YXRpb24nKSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGFyZ3MubGlua1swXS5oYXMocGF0aCkgPyBhcmdzLmxpbmtbMF0uZ2V0KHBhdGgpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGFyZ3MubGlua1swXSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ3BhdGg6ICcgKyBwYXRoKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2Fybih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy50eXBlID09PSAncmdiJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGluay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGhBdChhcmdzLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUuZXF1YWxzKGFyZ3MubGlua1tpXS5nZXQocGF0aCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZlcmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKHYgKiAyNTUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3MudHlwZSA9PT0gJ2Fzc2V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudFVuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGluay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aEF0KGFyZ3MsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZ3MubGlua1tpXS5oYXMocGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50VW5kZWZpbmVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGFyZ3MubGlua1tpXS5nZXQocGF0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlIHx8IDApICE9PSAoYXJncy5saW5rW2ldLmdldChwYXRoKSB8fCAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3MuZW51bSA/ICcnIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudFVuZGVmaW5lZCAmJiBjb3VudFVuZGVmaW5lZCAhPSBhcmdzLmxpbmsubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MuZmllbGQuY2xhc3MuYWRkKCdzdGFyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIC9eXFwqIC8udGVzdChhcmdzLmZpZWxkLl90aXRsZS50ZXh0KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MuZmllbGQuX3RpdGxlLnRleHQgPSAnKiAnICsgYXJncy5maWVsZC5fdGl0bGUudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLmNsYXNzLnJlbW92ZSgnc3RhcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15cXCogLy50ZXN0KGFyZ3MuZmllbGQuX3RpdGxlLnRleHQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5maWVsZC5fdGl0bGUudGV4dCA9IGFyZ3MuZmllbGQuX3RpdGxlLnRleHQuc3Vic3RyaW5nKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmZlcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLmNsYXNzLmFkZCgnbnVsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLl90aXRsZS50ZXh0ID0gJ3ZhcmlvdXMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MuZmllbGQuY2xhc3MucmVtb3ZlKCdudWxsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmdzLnR5cGUgPT09ICdlbnRpdHknIHx8ICFhcmdzLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGluay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aEF0KGFyZ3MsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGFyZ3MubGlua1tpXS5nZXQocGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3ZhcmlvdXMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmVyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5maWVsZC5jbGFzcy5hZGQoJ251bGwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5maWVsZC50ZXh0ID0gJ3ZhcmlvdXMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MuZmllbGQuY2xhc3MucmVtb3ZlKCdudWxsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKGFyZ3MubGluayk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHZhbHVlRm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGluay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBwYXRoID0gcGF0aEF0KGFyZ3MsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmVycm9yKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoIWFyZ3MubGlua1tpXS5oYXMocGF0aCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmICghdmFsdWVGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29uc29sZS5lcnJvcihwYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHZhbHVlRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFsdWUgPSBhcmdzLmxpbmtbaV0uZ2V0KHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHZhciB2ID0gYXJncy5saW5rW2ldLmdldChwYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoYXJncy5saW5rW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3Iodik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoKHZhbHVlIHx8IDApICE9PSAodiB8fCAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHZhbHVlID0gYXJncy5lbnVtID8gJycgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRpZmZlcmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYXJncy5maWVsZC5fY2hhbmdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXJncy5maWVsZC52YWx1ZSA9IHZhbHVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy50eXBlID09PSAnY2hlY2tib3gnKVxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuZmllbGQuX29uTGlua0NoYW5nZSh2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXJncy5maWVsZC5fY2hhbmdpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoYXJncy5lbnVtKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdmFyIG9wdCA9IGFyZ3MuZmllbGQub3B0aW9uRWxlbWVudHNbJyddO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChvcHQpIG9wdC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgIT09ICcnID8gJ25vbmUnIDogJyc7XHJcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGFyZ3MuZmllbGQucHJveHkgPSB2YWx1ZSA9PSBudWxsID8gJy4uLicgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY2hhbmdlRmllbGQgPSBmdW5jdGlvbiAodmFsdWU6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MuZmllbGQuX2NoYW5naW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5lbnVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIG9wdCA9IHRoaXMub3B0aW9uRWxlbWVudHNbJyddO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChvcHQpIG9wdC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgIT09ICcnID8gJ25vbmUnIDogJyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMucHJveHkgPSB2YWx1ZSA9PT0gbnVsbCA/ICcuLi4nIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy50cmltKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnR5cGUgPT09ICdyZ2InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHY6IG51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdiAvIDI1NTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJncy50eXBlID09PSAnYXNzZXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5maWVsZC5jbGFzcy5yZW1vdmUoJ251bGwnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXM6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNldCBsaW5rIHZhbHVlXHJcbiAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLl9jaGFuZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy50eXBlID09PSBcInN0cmluZ1wiICYmIGFyZ3MudHJpbSlcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxpbmsubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHBhdGhBdChhcmdzLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZ3MubGlua1tpXS5oYXMocGF0aCkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBhcmdzLmxpbmtbaV0uaGlzdG9yeSAhPT0gdW5kZWZpbmVkID8gYXJncy5saW5rW2ldLmhpc3RvcnkuX2dldEl0ZW1GbiA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGFyZ3MubGlua1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFyZ3MubGlua1tpXS5oYXMocGF0aCkgPyBhcmdzLmxpbmtbaV0uZ2V0KHBhdGgpIDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShhcmdzLmxpbmtbaV0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLmxpbmtbaV0uc2V0KHBhdGgsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5U3RhdGUoYXJncy5saW5rW2ldLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFyZ3MuZmllbGQuX2NoYW5naW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaGlzdG9yeVxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MudHlwZSAhPT0gJ3JnYicgJiYgIWFyZ3Muc2xpZGVyICYmICFhcmdzLnN0b3BIaXN0b3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6YWRkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXRoQXQoYXJncywgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZG86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWZmZXJlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHBhdGhBdChhcmdzLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNbaV0uZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtc1tpXS5nZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW1zW2ldLml0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRpZmZlcmVudCAmJiBpdGVtc1swXS52YWx1ZSAhPT0gaXRlbXNbaV0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZlcmVudCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShpdGVtLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2ldLnZhbHVlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udW5zZXQocGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNldChwYXRoLCBpdGVtc1tpXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGl0ZW0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLmNsYXNzLmFkZCgnbnVsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLmNsYXNzLnJlbW92ZSgnbnVsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBwYXRoQXQoYXJncywgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2ldLmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNbaV0uZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtc1tpXS5pdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGl0ZW0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS51bnNldChwYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0KHBhdGgsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNldChwYXRoLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGl0ZW0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MuZmllbGQuY2xhc3MucmVtb3ZlKCdudWxsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNoYW5nZUZpZWxkUXVldWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hhbmdlRmllbGRRdWV1ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmZpZWxkLl9jaGFuZ2luZylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgYXJncy5maWVsZC5fY2hhbmdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5maWVsZC5fY2hhbmdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGhpc3RvcnlTdGFydDogYW55LCBoaXN0b3J5RW5kOiBhbnk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXJncy50eXBlID09PSAncmdiJyB8fCBhcmdzLnNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgaGlzdG9yeVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGluay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IGFyZ3MubGlua1tpXS5nZXQocGF0aEF0KGFyZ3MsIGkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBBcnJheSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSB2LnNsaWNlKDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGFyZ3MubGlua1tpXS5oaXN0b3J5ICE9PSB1bmRlZmluZWQgPyBhcmdzLmxpbmtbaV0uaGlzdG9yeS5fZ2V0SXRlbUZuIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGFyZ3MubGlua1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5RW5kID0gZnVuY3Rpb24gKGl0ZW1zOiBhbnksIHZhbHVlOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoaXN0b3J5XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6YWRkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXRoQXQoYXJncywgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZG86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNbaV0uZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtc1tpXS5nZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW1zW2ldLml0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5U3RhdGUoaXRlbSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0KHBhdGhBdChhcmdzLCBpKSwgaXRlbXNbaV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShpdGVtLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXS5nZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW1zW2ldLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNbaV0uaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShpdGVtLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXQocGF0aEF0KGFyZ3MsIGkpLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGl0ZW0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYXJncy50eXBlID09PSAncmdiJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yUGlja2VyT24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGFyZ3MuZmllbGQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yUGlja2VyT24gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgcGlja2VyIGNvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2tlcjpjb2xvcicsIGFyZ3MuZmllbGQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXM6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBwaWNraW5nIHN0YXJ0c1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldnRDb2xvclBpY2tTdGFydCA9IGVkaXRvci5vbigncGlja2VyOmNvbG9yOnN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGhpc3RvcnlTdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBwaWNrZWQgY29sb3JcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZ0Q29sb3JQaWNrID0gZWRpdG9yLm9uKCdwaWNrZXI6Y29sb3InLCBmdW5jdGlvbiAoY29sb3I6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmZpZWxkLnZhbHVlID0gY29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldnRDb2xvclBpY2tFbmQgPSBlZGl0b3Iub24oJ3BpY2tlcjpjb2xvcjplbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlFbmQoaXRlbXMuc2xpY2UoMCksIGFyZ3MuZmllbGQudmFsdWUubWFwKGZ1bmN0aW9uICh2OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2IC8gMjU1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uIHBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWN0UGlja2VyID0gZWRpdG9yLmNhbGwoJ3BpY2tlcjpjb2xvcjpyZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3RGaWVsZCA9IGFyZ3MuZmllbGQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGlja2VyOmNvbG9yOnBvc2l0aW9uJywgcmVjdEZpZWxkLmxlZnQgLSByZWN0UGlja2VyLndpZHRoLCByZWN0RmllbGQudG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29sb3IgY2hhbmdlZCwgdXBkYXRlIHBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldnRDb2xvclRvUGlja2VyID0gYXJncy5maWVsZC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdwaWNrZXI6Y29sb3I6c2V0JywgdGhpcy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBpY2tlciBjbG9zZWRcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgncGlja2VyOmNvbG9yOmNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldnRDb2xvclBpY2sudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dENvbG9yUGlja1N0YXJ0LnVuYmluZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldnRDb2xvclBpY2tFbmQudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dENvbG9yVG9QaWNrZXIudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yUGlja2VyT24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5maWVsZC5lbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgcGlja2VyIGlmIGZpZWxkIGRlc3Ryb3llZFxyXG4gICAgICAgICAgICAgICAgYXJncy5maWVsZC5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xvclBpY2tlck9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGlja2VyOmNvbG9yOmNsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhcmdzLnNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlclJlY29yZHM6IGFueTtcclxuXHJcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChhcmdzLmZpZWxkLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXJSZWNvcmRzID0gaGlzdG9yeVN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goYXJncy5maWVsZC5vbignZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlFbmQoc2xpZGVyUmVjb3Jkcy5zbGljZSgwKSwgYXJncy5maWVsZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBldmVudHMucHVzaChhcmdzLmZpZWxkLm9uKCdjaGFuZ2UnLCBjaGFuZ2VGaWVsZCkpO1xyXG4gICAgICAgICAgICAvLyDmlbDmja7lhbPogZTorr7nva7lhaXlj6NcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxpbmsubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGFyZ3MubGlua1tpXS5vbihwYXRoQXQoYXJncywgaSkgKyAnOnNldCcsIGNoYW5nZUZpZWxkUXVldWUpKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGFyZ3MubGlua1tpXS5vbihwYXRoQXQoYXJncywgaSkgKyAnOnVuc2V0JywgY2hhbmdlRmllbGRRdWV1ZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKGFyZ3MuZmllbGQub25jZSgnZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50c1tpXS51bmJpbmQoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAvLyA/5Y6G5Y+y6K6w5b2V5Zue5rqv55SoP1xyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBhZGQgZmllbGRcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdhdHRyaWJ1dGVzOmFkZEZpZWxkJywgZnVuY3Rpb24gKGFyZ3M6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy8gcGFyZW50IHBhbmVs77yM54i254mp5L2TXHJcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IGFyZ3MucGFuZWw7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXBhbmVsKSB7XHJcbiAgICAgICAgICAgICAgICBwYW5lbCA9IG5ldyBQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgcGFuZWwuZmxleFdyYXAgPSAnbm93cmFwJztcclxuICAgICAgICAgICAgICAgIHBhbmVsLldlYmtpdEZsZXhXcmFwID0gJ25vd3JhcCc7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5pbm5lckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuY2xhc3MuYWRkKCdmaWVsZC0nICsgYXJncy50eXBlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuY2xhc3MuYWRkKCdmaWVsZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIChhcmdzLnBhcmVudCB8fCBzZWxmLnJvb3QpLmFwcGVuZChwYW5lbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsYWJlbDogTnVsbGFibGU8TGFiZWw+ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGFyZ3MubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwgPSBuZXcgTGFiZWwoYXJncy5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzIS5hZGQoJ2xhYmVsLWZpZWxkJyk7XHJcbiAgICAgICAgICAgICAgICBwYW5lbC5fbGFiZWwgPSBsYWJlbDtcclxuICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZChsYWJlbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5biu5Yqp6ZO+5o6lXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5yZWZlcmVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9vbHRpcCA9IGxhYmVsLnRvb2x0aXAgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpyZWZlcmVuY2UnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGxhYmVsLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhcmdzLnJlZmVyZW5jZS50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViVGl0bGU6IGFyZ3MucmVmZXJlbmNlLnN1YlRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYXJncy5yZWZlcmVuY2UuZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGxhYmVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBsYWJlbC5lbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBmaWVsZDogYW55O1xyXG5cclxuICAgICAgICAgICAgYXJncy5saW5rRXZlbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB3ZSBwcm92aWRlIG11bHRpcGxlIHBhdGhzIGZvciBhIHNpbmdsZSBPYnNlcnZlciB0aGVuIHR1cm4gYXJncy5saW5rIGludG8gYW4gYXJyYXlcclxuICAgICAgICAgICAgaWYgKGFyZ3MucGF0aHMgJiYgYXJncy5wYXRocyBpbnN0YW5jZW9mIEFycmF5ICYmIGFyZ3MubGluayAmJiAhKGFyZ3MubGluayBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBhcmdzLmxpbms7XHJcbiAgICAgICAgICAgICAgICBhcmdzLmxpbmsgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5wYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MubGluay5wdXNoKGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBsaW5r5pWw5o2u5qih5Z6L5LiOVUlcclxuICAgICAgICAgICAgdmFyIGxpbmtGaWVsZCA9IGFyZ3MubGlua0ZpZWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubGluaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gZnVuY3Rpb24gKGZpZWxkOiBhbnksIHBhdGg/OiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogZmllbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBhcmdzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXI6IGFyZ3Muc2xpZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bTogYXJncy5lbnVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluazogYXJncy5saW5rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpbTogYXJncy50cmltLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYXJncy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEhpc3Rvcnk6IGFyZ3Muc3RvcEhpc3RvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoczogbmV3IEFycmF5PGFueT4oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBhcmdzLnBhdGhzIHx8IGFyZ3MucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wYXRocyA9IHBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnBhdGggPSBwYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGlua0V2ZW50cyA9IGFyZ3MubGlua0V2ZW50cy5jb25jYXQoZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6bGlua0ZpZWxkJywgZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGFyZ3MubGlua0V2ZW50cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHaXZlIHRoZSBmaWVsZCBhIHVuaXF1ZWx5IGFkZHJlc3NhYmxlIGNzcyBjbGFzcyB0aGF0IHdlIGNhbiB0YXJnZXQgZnJvbSBTZWxlbml1bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuZWxlbWVudCAmJiB0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmllbGQtcGF0aC0nICsgcGF0aC5yZXBsYWNlKC9cXC4vZywgJy0nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aHMgPSBhcmdzLnBhdGhzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhzID0gcGF0aHMubWFwKGZ1bmN0aW9uIChwOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAgKyAnLicgKyBpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihmaWVsZFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKHBhdGhzIHx8IChhcmdzLnBhdGggKyAnLicgKyBpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmVjM+exu+Wei+WcqOi/memHjHBhdGjmt7vliqDlkI7nvIBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsoZmllbGRbaV0sIHBhdGhzIHx8IChhcmdzLnBhdGggKyAnLicgKyBpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5saW5rRmllbGQgPSBhcmdzLnVubGlua0ZpZWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxpbmtFdmVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5saW5rRXZlbnRzW2ldLnVuYmluZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFyZ3MubGlua0V2ZW50cyA9IFtdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoYXJncy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmVudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgU2VsZWN0RmllbGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogYXJncy5lbnVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkID0gbmV3IFRleHRGaWVsZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSBhcmdzLnZhbHVlIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmZsZXhHcm93ID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MucGxhY2Vob2xkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnBsYWNlaG9sZGVyID0gYXJncy5wbGFjZWhvbGRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGlua0ZpZWxkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZChmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAndGFncyc6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogd2h5IGlzbid0IHRoaXMgaW4gYSBzZXBlcmF0ZSBjbGFzcy9maWxlPz8/XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbm5lclBhbmVsID0gbmV3IFBhbmVsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhZ1R5cGUgPSBhcmdzLnRhZ1R5cGUgfHwgJ3N0cmluZyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmVudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgU2VsZWN0RmllbGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogYXJncy5lbnVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGFnVHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucmVuZGVyQ2hhbmdlcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5vbignY2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWdUeXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVGFnKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQYW5lbC5hcHBlbmQoZmllbGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IG5ldyBUZXh0RmllbGQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuYmx1ck9uRW50ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucmVuZGVyQ2hhbmdlcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2dC5rZXlDb2RlICE9PSAxMyB8fCAhZmllbGQudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRhZyhmaWVsZC52YWx1ZS50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclBhbmVsLmFwcGVuZChmaWVsZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuQWRkID0gbmV3IEJ1dHRvbignJiM1NzYzMicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5BZGQuZmxleEdyb3cgPSAnMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkFkZC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpZWxkLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUYWcoZmllbGQudmFsdWUudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclBhbmVsLmFwcGVuZChidG5BZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWdzUGFuZWwgPSBuZXcgUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB0YWdzUGFuZWwuY2xhc3MhLmFkZCgndGFncycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhZ3NQYW5lbC5mbGV4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpbm5lclBhbmVsLmFwcGVuZCh0YWdzUGFuZWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFnSXRlbXM6IHsgW2tleTogc3RyaW5nXTogSFRNTEVsZW1lbnQgfSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWdJbmRleDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWdMaXN0OiBhbnkgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVUYWcgPSBmdW5jdGlvbiAodGFnOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ1R5cGUgPT09ICdzdHJpbmcnICYmICF0YWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWcgPT09IG51bGwgfHwgdGFnID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdJbmRleC5oYXNPd25Qcm9wZXJ0eSh0YWcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZHM6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxpbmsubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gcGF0aEF0KGFyZ3MsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGlua1tpXS5nZXQocGF0aCkuaW5kZXhPZih0YWcpID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogYXJncy5saW5rW2ldLmhpc3RvcnkgIT09IHVuZGVmaW5lZCA/IGFyZ3MubGlua1tpXS5oaXN0b3J5Ll9nZXRJdGVtRm4gOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGFyZ3MubGlua1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0YWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShhcmdzLmxpbmtbaV0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGlua1tpXS5yZW1vdmVWYWx1ZShwYXRoLCB0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGFyZ3MubGlua1tpXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJncy5zdG9wSGlzdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6YWRkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhdGhBdChhcmdzLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3Jkc1tpXS5nZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gcmVjb3Jkc1tpXS5nZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gcmVjb3Jkc1tpXS5pdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShpdGVtLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmluc2VydChyZWNvcmRzW2ldLnBhdGgsIHJlY29yZHNbaV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGl0ZW0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3Jkc1tpXS5nZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gcmVjb3Jkc1tpXS5nZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gcmVjb3Jkc1tpXS5pdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShpdGVtLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZVZhbHVlKHJlY29yZHNbaV0ucGF0aCwgcmVjb3Jkc1tpXS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5U3RhdGUoaXRlbSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRUYWcgPSBmdW5jdGlvbiAodGFnOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZHM6IGFueSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFnTnVtYmVyOiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCB0byBudW1iZXIgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnRhZ1R5cGUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdOdW1iZXIgPSBwYXJzZUludCh0YWcsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTih0YWdOdW1iZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxpbmsubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gcGF0aEF0KGFyZ3MsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGlua1tpXS5nZXQocGF0aCkuaW5kZXhPZih0YWdOdW1iZXIpICE9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogYXJncy5saW5rW2ldLmhpc3RvcnkgIT09IHVuZGVmaW5lZCA/IGFyZ3MubGlua1tpXS5oaXN0b3J5Ll9nZXRJdGVtRm4gOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGFyZ3MubGlua1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0YWdOdW1iZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShhcmdzLmxpbmtbaV0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGlua1tpXS5pbnNlcnQocGF0aCwgdGFnTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShhcmdzLmxpbmtbaV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZ3Muc3RvcEhpc3RvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdoaXN0b3J5OmFkZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXRoQXQoYXJncywgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZHNbaV0uZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IHJlY29yZHNbaV0uZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IHJlY29yZHNbaV0uaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5U3RhdGUoaXRlbSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmVWYWx1ZShyZWNvcmRzW2ldLnBhdGgsIHJlY29yZHNbaV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGl0ZW0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3Jkc1tpXS5nZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gcmVjb3Jkc1tpXS5nZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gcmVjb3Jkc1tpXS5pdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnlTdGF0ZShpdGVtLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmluc2VydChyZWNvcmRzW2ldLnBhdGgsIHJlY29yZHNbaV0udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVN0YXRlKGl0ZW0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgb25JbnNlcnQgPSBmdW5jdGlvbiAodGFnOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdJbmRleC5oYXNPd25Qcm9wZXJ0eSh0YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdJbmRleFt0YWddID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0xpc3QucHVzaCh0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdJbmRleFt0YWddKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEVsZW1lbnQodGFnKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgb25SZW1vdmUgPSBmdW5jdGlvbiAodGFnOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdJbmRleFt0YWddKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnSW5kZXhbdGFnXS0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdJbmRleFt0YWddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzUGFuZWwuaW5uZXJFbGVtZW50IS5yZW1vdmVDaGlsZCh0YWdJdGVtc1t0YWddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSB0YWdMaXN0LmluZGV4T2YodGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgIT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0xpc3Quc3BsaWNlKGluZCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhZ0l0ZW1zW3RhZ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGFnSW5kZXhbdGFnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWdJbmRleFt0YWddID09PSBhcmdzLmxpbmsubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnSXRlbXNbdGFnXS5jbGFzc0xpc3QucmVtb3ZlKCdwYXJ0aWFsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0l0ZW1zW3RhZ10uY2xhc3NMaXN0LmFkZCgncGFydGlhbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0YWcgZmllbGQgaXMgaW5pdGlhbGl6ZWRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb25TZXQgPSBmdW5jdGlvbiAodmFsdWVzOiBzdHJpbmdbXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25JbnNlcnQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc2VydEVsZW1lbnQgPSBmdW5jdGlvbiAodGFnOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdJdGVtc1t0YWddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0VGFncygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdJdGVtc1t0YWddID0gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgndGFnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtVGV4dC50ZXh0Q29udGVudCA9IGFyZ3MudGFnVG9TdHJpbmcgPyBhcmdzLnRhZ1RvU3RyaW5nKHRhZykgOiB0YWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGl0ZW1UZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgdGFnIHZhbHVlIGJlZm9yZSB0YWdUb1N0cmluZyBpcyBjYWxsZWQuIFVzZWZ1bFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHRhZyB2YWx1ZSBpcyBhbiBpZCBmb3IgZXhhbXBsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlbS5vcmlnaW5hbFZhbHVlID0gdGFnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0dGFjaCBjbGljayBoYW5kbGVyIG9uIHRleHQgcGFydCBvZiB0aGUgdGFnIC0gYmluZCB0aGUgbGlzdGVuZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSB0YWcgaXRlbSBzbyB0aGF0IGB0aGlzYCByZWZlcnMgdG8gdGhhdCB0YWcgaW4gdGhlIGxpc3RlbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5vbkNsaWNrVGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVRleHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhcmdzLm9uQ2xpY2tUYWcuYmluZChpdGVtKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmlubmVySFRNTCA9ICcmIzU3NjUwOyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ljb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24udGFnID0gdGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJQYW5lbC5kaXNhYmxlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmVUYWcoaWNvbi50YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChpY29uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gdGFnTGlzdC5pbmRleE9mKHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnSXRlbXNbdGFnTGlzdFtpbmQgKyAxXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzUGFuZWwuYXBwZW5kQmVmb3JlKGl0ZW0sIHRhZ0l0ZW1zW3RhZ0xpc3RbaW5kICsgMV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc1BhbmVsLmFwcGVuZChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ0luZGV4W3RhZ10gPT09IGFyZ3MubGluay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0l0ZW1zW3RhZ10uY2xhc3NMaXN0LnJlbW92ZSgncGFydGlhbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnSXRlbXNbdGFnXS5jbGFzc0xpc3QuYWRkKCdwYXJ0aWFsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydFRhZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0xpc3Quc29ydChmdW5jdGlvbiAoYTogc3RyaW5nLCBiOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnRhZ1RvU3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGFyZ3MudGFnVG9TdHJpbmcoYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGFyZ3MudGFnVG9TdHJpbmcoYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPiBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MucGxhY2Vob2xkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnBsYWNlaG9sZGVyID0gYXJncy5wbGFjZWhvbGRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MubGlua0V2ZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhcmdzLmxpbmtGaWVsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGluaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXJncy5saW5rIGluc3RhbmNlb2YgQXJyYXkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGluayA9IFthcmdzLmxpbmtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5saW5rLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBwYXRoQXQoYXJncywgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhZ3MgPSBhcmdzLmxpbmtbaV0uZ2V0KHBhdGgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmxpbmtFdmVudHMucHVzaChhcmdzLmxpbmtbaV0ub24ocGF0aCArICc6c2V0Jywgb25TZXQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmxpbmtFdmVudHMucHVzaChhcmdzLmxpbmtbaV0ub24ocGF0aCArICc6aW5zZXJ0Jywgb25JbnNlcnQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmxpbmtFdmVudHMucHVzaChhcmdzLmxpbmtbaV0ub24ocGF0aCArICc6cmVtb3ZlJywgb25SZW1vdmUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWdzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0YWdzLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWdUeXBlID09PSAnc3RyaW5nJyAmJiAhdGFnc1t0XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFnc1t0XSA9PT0gbnVsbCB8fCB0YWdzW3RdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhZ0luZGV4Lmhhc093blByb3BlcnR5KHRhZ3NbdF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdJbmRleFt0YWdzW3RdXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdMaXN0LnB1c2godGFnc1t0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0luZGV4W3RhZ3NbdF1dKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0VGFncygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWdMaXN0Lmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0RWxlbWVudCh0YWdMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnVubGlua0ZpZWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGlua0V2ZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGlua0V2ZW50c1tpXS51bmJpbmQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGlua0V2ZW50cyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRhZ0l0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc1BhbmVsLmlubmVyRWxlbWVudCEucmVtb3ZlQ2hpbGQodGFnSXRlbXNba2V5XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0luZGV4ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ0l0ZW1zID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5saW5rRmllbGQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwub25jZSgnZGVzdHJveScsIGFyZ3MudW5saW5rRmllbGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmQoaW5uZXJQYW5lbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgVGV4dEFyZWFGaWVsZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC52YWx1ZSA9IGFyZ3MudmFsdWUgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZmxleEdyb3cgPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5wbGFjZWhvbGRlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucGxhY2Vob2xkZXIgPSBhcmdzLnBsYWNlaG9sZGVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsaW5rRmllbGQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmVudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgU2VsZWN0RmllbGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogYXJncy5lbnVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmdzLnNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IG5ldyBOdW1iZXJGaWVsZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSBhcmdzLnZhbHVlIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZmxleEdyb3cgPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5hbGxvd051bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuYWxsb3dOdWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnBsYWNlaG9sZGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5wbGFjZWhvbGRlciA9IGFyZ3MucGxhY2Vob2xkZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnByZWNpc2lvbiAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5wcmVjaXNpb24gPSBhcmdzLnByZWNpc2lvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RlcCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5zdGVwID0gYXJncy5zdGVwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5taW4gIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQubWluID0gYXJncy5taW47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm1heCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5tYXggPSBhcmdzLm1heDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGlua0ZpZWxkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZChmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWkmumhuemAieaLqVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmVudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgU2VsZWN0RmllbGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogYXJncy5lbnVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5mbGV4R3JvdyA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgQ2hlY2tib3goKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gYXJncy52YWx1ZSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmNsYXNzLmFkZCgndGljaycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsaW5rRmllbGQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICd2ZWMyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZlYzMnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndmVjNCc6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6ZW/5bqm5pivMuOAgeaYrzPov5jmmK80XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWxzID0gcGFyc2VJbnQoYXJncy50eXBlWzNdLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFubmVsczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkW2ldID0gbmV3IE51bWJlckZpZWxkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkW2ldLmZsZXhHcm93ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRbaV0uc3R5bGUud2lkdGggPSAnMjRweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkW2ldLnZhbHVlID0gKGFyZ3MudmFsdWUgJiYgYXJncy52YWx1ZVtpXSkgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kKGZpZWxkW2ldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnBsYWNlaG9sZGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRbaV0ucGxhY2Vob2xkZXIgPSBhcmdzLnBsYWNlaG9sZGVyW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MucHJlY2lzaW9uICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFtpXS5wcmVjaXNpb24gPSBhcmdzLnByZWNpc2lvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0ZXAgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkW2ldLnN0ZXAgPSBhcmdzLnN0ZXA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5taW4gIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkW2ldLm1pbiA9IGFyZ3MubWluO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubWF4ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFtpXS5tYXggPSBhcmdzLm1heDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChhcmdzLmxpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBmaWVsZFtpXS5saW5rKGFyZ3MubGluaywgYXJncy5wYXRoICsgJy4nICsgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsaW5rRmllbGQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JnYic6XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgQ29sb3JGaWVsZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5jaGFubmVscyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5jaGFubmVscyA9IGFyZ3MuY2hhbm5lbHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtGaWVsZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JQaWNrZXJPbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JQaWNrZXJPbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgcGlja2VyIGNvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdwaWNrZXI6Y29sb3InLCBmaWVsZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwaWNraW5nIHN0YXJ0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZ0Q29sb3JQaWNrU3RhcnQgPSBlZGl0b3Iub24oJ3BpY2tlcjpjb2xvcjpzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwaWNrZWQgY29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2dENvbG9yUGljayA9IGVkaXRvci5vbigncGlja2VyOmNvbG9yJywgZnVuY3Rpb24gKGNvbG9yOiBudW1iZXJbXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gY29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb24gcGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWN0UGlja2VyID0gZWRpdG9yLmNhbGwoJ3BpY2tlcjpjb2xvcjpyZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWN0RmllbGQgPSBmaWVsZC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGlja2VyOmNvbG9yOnBvc2l0aW9uJywgcmVjdEZpZWxkLmxlZnQgLSByZWN0UGlja2VyLndpZHRoLCByZWN0RmllbGQudG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbG9yIGNoYW5nZWQsIHVwZGF0ZSBwaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2dENvbG9yVG9QaWNrZXIgPSBmaWVsZC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2tlcjpjb2xvcjpzZXQnLCBmaWVsZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGlja2VyIGNsb3NlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgncGlja2VyOmNvbG9yOmNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZ0Q29sb3JQaWNrLnVuYmluZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZ0Q29sb3JQaWNrU3RhcnQudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnRDb2xvclRvUGlja2VyLnVuYmluZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JQaWNrZXJPbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2UgcGlja2VyIGlmIGZpZWxkIGRlc3Ryb3llZFxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3JQaWNrZXJPbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdwaWNrZXI6Y29sb3I6Y2xvc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdhc3NldCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgSW1hZ2VGaWVsZChhcmdzLmtpbmQgPT09ICdtYXRlcmlhbCcgfHwgYXJncy5raW5kID09PSAnbW9kZWwnIHx8IGFyZ3Mua2luZCA9PT0gJ2N1YmVtYXAnIHx8IGFyZ3Mua2luZCA9PT0gJ2ZvbnQnIHx8IGFyZ3Mua2luZCA9PT0gJ3Nwcml0ZSdcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldnRQaWNrOiBhbnk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5yZW5kZXJDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLl9sYWJlbCA9IGxhYmVsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuc3R5bGUhLndpZHRoID0gJzMycHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5mbGV4R3JvdyA9ICcxJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFuZWxGaWVsZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICBwYW5lbEZpZWxkcy5jbGFzc0xpc3QuYWRkKCd0b3AnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhbmVsQ29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICBwYW5lbENvbnRyb2xzLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2xzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZFRpdGxlID0gZmllbGQuX3RpdGxlID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGRUaXRsZS50ZXh0ID0gJ0VtcHR5JztcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZFRpdGxlLnBhcmVudCA9IHBhbmVsO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkVGl0bGUuZmxleEdyb3cgPSAnMSc7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGRUaXRsZS5wbGFjZWhvbGRlciA9ICcuLi4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnRuRWRpdCA9IG5ldyBCdXR0b24oJyYjNTc2NDg7Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuRWRpdC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuRWRpdC5wYXJlbnQgPSBwYW5lbDtcclxuICAgICAgICAgICAgICAgICAgICBidG5FZGl0LmZsZXhHcm93ID0gJzAnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnRuUmVtb3ZlID0gbmV3IEJ1dHRvbignJiM1NzY1MDsnKTtcclxuICAgICAgICAgICAgICAgICAgICBidG5SZW1vdmUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0blJlbW92ZS5wYXJlbnQgPSBwYW5lbDtcclxuICAgICAgICAgICAgICAgICAgICBidG5SZW1vdmUuZmxleEdyb3cgPSAnMCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkVGl0bGUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIGZpZWxkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2tlcjphc3NldCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGFyZ3Mua2luZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBc3NldDogYXNzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldnRQaWNrID0gZWRpdG9yLm9uY2UoJ3BpY2tlcjphc3NldCcsIGZ1bmN0aW9uIChhc3NldDogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogT2JzZXJ2ZXIgfSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3Mub25TZXQgJiYgYXJncy5saW5rICYmIGFyZ3MubGluayBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxpbmsubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGlua1tpXS5fdHlwZSA9PT0gJ2Fzc2V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBhcmdzLmxpbmtbaV0uZ2V0KCdpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3MubGlua1tpXS5fdHlwZSA9PT0gJ2VudGl0eScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gYXJncy5saW5rW2ldLmdldCgncmVzb3VyY2VfaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZXNbaWRdID0gYXJncy5saW5rW2ldLmdldChwYXRoQXQoYXJncywgaSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5lbWl0KCdiZWZvcmVjaGFuZ2UnLCBhc3NldC5nZXQoJ2lkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSBhc3NldC5nZXQoJ2lkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnRQaWNrID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm9uU2V0KSBhcmdzLm9uU2V0KGFzc2V0LCBvbGRWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdwaWNrZXI6YXNzZXQ6Y2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZ0UGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2dFBpY2sudW5iaW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZ0UGljayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5lbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmllbGQudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIGZpZWxkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhc3NldCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgJ2Fzc2V0JywgW2Fzc2V0XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IGFzc2V0LmdldCgncGF0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhc3NldHM6cGFuZWw6Y3VycmVudEZvbGRlcicsIGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgcGF0aFtwYXRoLmxlbmd0aCAtIDFdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOnBhbmVsOmN1cnJlbnRGb2xkZXInLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bkVkaXQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5lbWl0KCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBidG5SZW1vdmUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5lbWl0KCdiZWZvcmVjaGFuZ2UnLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZW50aXR5IHBpY2tlclxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZW50aXR5JzpcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmNsYXNzLmFkZCgnYWRkLWVudGl0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmZsZXhHcm93ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5jbGFzcy5hZGQoJ251bGwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQudGV4dCA9ICdTZWxlY3QgRW50aXR5JztcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5wbGFjZWhvbGRlciA9ICcuLi4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmQoZmllbGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ljb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBmaWVsZC50ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6Z2V0JywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC50ZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuZWxlbWVudC5pbm5lckhUTUwgPSBlbnRpdHkuZ2V0KCduYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5lbGVtZW50LmFwcGVuZENoaWxkKGljb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucGxhY2Vob2xkZXIgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09ICd2YXJpb3VzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5jbGFzcy5yZW1vdmUoJ251bGwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLmVsZW1lbnQuaW5uZXJIVE1MID0gJ1NlbGVjdCBFbnRpdHknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucGxhY2Vob2xkZXIgPSAnLi4uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLmNsYXNzLmFkZCgnbnVsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtGaWVsZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0Q3VycmVudEVudGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGFyZ3MubGluayBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGluayA9IFthcmdzLmxpbmtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBpbml0aWFsIHZhbHVlIG9ubHkgaWYgaXQncyB0aGUgc2FtZSBmb3IgYWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsaW5rcyBvdGhlcndpc2Ugc2V0IGl0IHRvIG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcmdzLmxpbmsubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gYXJncy5saW5rW2ldLmdldChwYXRoQXQoYXJncywgaSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkgIT09IHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZ0RW50aXR5UGljazogTnVsbGFibGU8RXZlbnRIYW5kbGU+ID0gZWRpdG9yLm9uY2UoJ3BpY2tlcjplbnRpdHknLCBmdW5jdGlvbiAoZW50aXR5OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudGV4dCA9IGVudGl0eSA/IGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJykgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZ0RW50aXR5UGljayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGdldEN1cnJlbnRFbnRpdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdwaWNrZXI6ZW50aXR5JywgaW5pdGlhbFZhbHVlLCBhcmdzLmZpbHRlciB8fCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdwaWNrZXI6ZW50aXR5OmNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2dEVudGl0eVBpY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnRFbnRpdHlQaWNrLnVuYmluZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2dEVudGl0eVBpY2sgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlnaGxpZ2h0IG9uIGhvdmVyXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQub24oJ2hvdmVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gZ2V0Q3VycmVudEVudGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVudGl0eSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnBhbmVsOmhpZ2hsaWdodCcsIGVudGl0eSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5vbmNlKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnBhbmVsOmhpZ2hsaWdodCcsIGVudGl0eSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uY2UoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnBhbmVsOmhpZ2hsaWdodCcsIGVudGl0eSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3BSZWYgPSBlZGl0b3IuY2FsbCgnZHJvcDp0YXJnZXQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogZmllbGQuZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWN0QSA9IHNlbGYucm9vdC5pbm5lckVsZW1lbnQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3RCID0gZmllbGQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlID09PSAnZW50aXR5JyAmJiBkYXRhLnJlc291cmNlX2lkICE9PSBmaWVsZC52YWx1ZSAmJiByZWN0Qi50b3AgPiByZWN0QS50b3AgJiYgcmVjdEIuYm90dG9tIDwgcmVjdEEuYm90dG9tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wOiBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlICE9PSAnZW50aXR5JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSBkYXRhLnJlc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyOiBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLm92ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5vdmVyKHR5cGUsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVhdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5sZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BSZWYudW5yZWdpc3RlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdpbWFnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuZmxleCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnN0eWxlLm1heFdpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnNyYyA9IGFyZ3Muc3JjO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwYW5lbC5hcHBlbmQoZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2dyZXNzJzpcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IG5ldyBQcm9ncmVzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmZsZXhHcm93ID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdidXR0b24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmZsZXhHcm93ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC50ZXh0ID0gYXJncy50ZXh0IHx8ICdCdXR0b24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZChmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZWxlbWVudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBhcmdzLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwuYXBwZW5kKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdhcnJheSc6XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczphZGRBcnJheScsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZChmaWVsZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBuZXcgTGFiZWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5mbGV4R3JvdyA9ICcxJztcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC50ZXh0ID0gYXJncy52YWx1ZSB8fCAnJztcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5jbGFzcy5hZGQoJ3NlbGVjdGFibGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MucGxhY2Vob2xkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnBsYWNlaG9sZGVyID0gYXJncy5wbGFjZWhvbGRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGlua0ZpZWxkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsLmFwcGVuZChmaWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYXJncy5jbGFzc05hbWUgJiYgZmllbGQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZC5jbGFzcyEuYWRkKGFyZ3MuY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZpZWxkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgaW5zcGVjdGVkSXRlbXM6IGFueVtdID0gW107XHJcblxyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2F0dHJpYnV0ZXM6Y2xlYXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zcGVjdGVkSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGluc3BlY3RlZEl0ZW1zW2ldLnVuYmluZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc3BlY3RlZEl0ZW1zID0gW107XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2F0dHJpYnV0ZXM6aW5zcGVjdCcsIGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGl0ZW06IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2xlYXJQYW5lbCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gY2xlYXIgaWYgZGVzdHJveWVkXHJcbiAgICAgICAgICAgIGluc3BlY3RlZEl0ZW1zLnB1c2goaXRlbS5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6Y2xlYXInKTtcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5yb290LmhlYWRlclRleHQgPSB0eXBlO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2F0dHJpYnV0ZXM6aW5zcGVjdFsnICsgdHlwZSArICddJywgW2l0ZW1dKTtcclxuICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2F0dHJpYnV0ZXM6aW5zcGVjdFsqXScsIHR5cGUsIFtpdGVtXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ3NlbGVjdG9yOmNoYW5nZScsIGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGl0ZW1zOiBPYnNlcnZlcltdKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2xlYXJQYW5lbCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdzZWxlY3RvcjpjaGFuZ2XvvJp0eXBlIC0tLSAnICsgdHlwZSArICcqIGxlbmd0aCAtLS0gJyArIGl0ZW1zLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICAvLyBub3RoaW5nIHNlbGVjdGVkXHJcbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IG5ldyBMYWJlbCgn6K+36YCJ5oup54mp5L2T5oiW6LWE5rqQJyk7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZSEuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZSEudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZSEud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICAvLyBsYWJlbC5zdHlsZSEuaGVpZ2h0ID0gJzIycHgnO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yb290LmFwcGVuZChsYWJlbCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJvb3QuaGVhZGVyVGV4dCA9IHNlbGYudGl0bGU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2Fybign6YCJ5oup57G75Z6L77yaJyArIHR5cGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gY2xlYXIgaWYgZGVzdHJveWVkXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE/vvJrlvZPliY1pdGVt5Li656m6XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHR5cGUgPT09ICdlbnRpdHknKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgR2l6bW9zQ2VudGVyLmF0dGFjaChpdGVtc1tpXS5ub2RlKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoaXRlbXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgaW5zcGVjdGVkSXRlbXMucHVzaChpdGVtc1tpXS5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmNsZWFyJyk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYucm9vdC5oZWFkZXJUZXh0ID0gdHlwZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IodHlwZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2F0dHJpYnV0ZXM6aW5zcGVjdFsnICsgdHlwZSArICddJywgaXRlbXMpO1xyXG4gICAgICAgICAgICBlZGl0b3IuZW1pdCgnYXR0cmlidXRlczppbnNwZWN0WypdJywgdHlwZSwgaXRlbXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDliJ3lp4vml7bvvIzpu5jorqTmsqHmnInpgInkuK3niankvZNcclxuICAgICAgICBlZGl0b3IuZW1pdCgnc2VsZWN0b3I6Y2hhbmdlJywgbnVsbCwgW10pO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNsZWFyUGFuZWwoKTogdm9pZCB7XHJcbiAgICAgICAgZWRpdG9yLmVtaXQoJ2F0dHJpYnV0ZXM6YmVmb3JlQ2xlYXInKTtcclxuICAgICAgICB0aGlzLnJvb3QuY2xlYXIoKTtcclxuICAgICAgICBlZGl0b3IuZW1pdCgnYXR0cmlidXRlczpjbGVhcicpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRkUGFuZWxBcmdzIHtcclxuICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICBwYXJlbnQ/OiBQYW5lbDtcclxuICAgIGZvbGRhYmxlPzogYm9vbGVhbjtcclxuICAgIGZvbGRlZD86IGJvb2xlYW47XHJcbn0iLCJpbXBvcnQgeyBUb29sdGlwLCBQYW5lbCwgRWxlbWVudCwgVG9wRWxlbWVudENvbnRhaW5lciwgVG9wRWxlbWVudFBhbmVsIH0gZnJvbSBcIi4uLy4uL3VpXCI7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZW5naW5lXCI7XHJcblxyXG4vLyDlsZ7mgKflj4LogIPor7TmmI5Ub29sdGlwXHJcbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVzUmVmZXJlbmNlIHtcclxuXHJcbiAgcHVibGljIHJvb3Q6IFRvcEVsZW1lbnRDb250YWluZXI7XHJcbiAgcHVibGljIGF0dHJpYnV0ZXNQYW5lbDogVG9wRWxlbWVudFBhbmVsO1xyXG5cclxuICBwdWJsaWMgaW5kZXg6IHsgW2tleTogc3RyaW5nXTogVG9vbHRpcCB9ID0ge307XHJcbiAgcHVibGljIG1pc3Npbmc6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgdGhpcy5yb290ID0gVmVyeUVuZ2luZS5yb290O1xyXG4gICAgdGhpcy5hdHRyaWJ1dGVzUGFuZWwgPSBWZXJ5RW5naW5lLmF0dHJpYnV0ZXM7XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBlZGl0b3IubWV0aG9kKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTphZGQnLCBmdW5jdGlvbiAoYXJnczogYW55KSB7XHJcbiAgICAgIHNlbGYuaW5kZXhbYXJncy5uYW1lXSA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZScsIGFyZ3MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZWRpdG9yLm1ldGhvZCgnYXR0cmlidXRlczpyZWZlcmVuY2U6YXR0YWNoJywgZnVuY3Rpb24gKG5hbWU6IHN0cmluZywgdGFyZ2V0OiBIVE1MRWxlbWVudCwgZWxlbWVudDogRWxlbWVudCwgcGFuZWw/OiBQYW5lbCkge1xyXG4gICAgICBsZXQgdG9vbHRpcCA9IHNlbGYuaW5kZXhbbmFtZV07XHJcblxyXG4gICAgICBpZiAoIXRvb2x0aXApIHtcclxuICAgICAgICBpZiAoIXNlbGYubWlzc2luZ1tuYW1lXSkge1xyXG4gICAgICAgICAgc2VsZi5taXNzaW5nW25hbWVdID0gdHJ1ZTtcclxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdyZWZlcmVuY2UnLCBuYW1lLCAnaXMgbm90IGRlZmluZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0b29sdGlwLmF0dGFjaFJlZmVyZW5jZSh7XHJcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgcGFuZWw6IHBhbmVsLFxyXG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQgfHwgdGFyZ2V0LnVpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHRvb2x0aXA7XHJcbiAgICB9KTtcclxuXHJcbiAgICBlZGl0b3IubWV0aG9kKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTp0ZW1wbGF0ZScsIGZ1bmN0aW9uIChhcmdzOiBhbnkpIHtcclxuICAgICAgbGV0IGh0bWwgPSAnJztcclxuXHJcbiAgICAgIGlmIChhcmdzLnRpdGxlKVxyXG4gICAgICAgIGh0bWwgKz0gJzxoMT4nICsgc2VsZi5zYW5pdGl6ZShhcmdzLnRpdGxlKSArICc8L2gxPic7XHJcbiAgICAgIGlmIChhcmdzLnN1YlRpdGxlKVxyXG4gICAgICAgIGh0bWwgKz0gJzxoMj4nICsgc2VsZi5zYW5pdGl6ZShhcmdzLnN1YlRpdGxlKSArICc8L2gyPic7XHJcbiAgICAgIGlmIChhcmdzLndlYmdsMilcclxuICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwidGFnXCI+V2ViR0wgMi4wIE9ubHk8L2Rpdj4nO1xyXG4gICAgICBpZiAoYXJncy5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IHNlbGYuc2FuaXRpemUoYXJncy5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZywgJzxiciAvPicpOyAvLyBuZXcgbGluZXNcclxuICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnJlcGxhY2UoLyZsdDtiJmd0Oy9nLCAnPGI+JykucmVwbGFjZSgvJmx0O1xcL2ImZ3Q7L2csICc8L2I+Jyk7IC8vIGJvbGRcclxuICAgICAgICBodG1sICs9ICc8cD4nICsgZGVzY3JpcHRpb24gKyAnPC9wPic7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFyZ3MuY29kZSlcclxuICAgICAgICBodG1sICs9ICc8cHJlIGNsYXNzPVwidWktY29kZVwiPicgKyBzZWxmLnNhbml0aXplKGFyZ3MuY29kZSkgKyAnPC9wcmU+JztcclxuICAgICAgaWYgKGFyZ3MudXJsKVxyXG4gICAgICAgIGh0bWwgKz0gJzxhIGNsYXNzPVwicmVmZXJlbmNlXCIgaHJlZj1cIicgKyBzZWxmLnNhbml0aXplKGFyZ3MudXJsKSArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj5BUEkgUmVmZXJlbmNlPC9hPic7XHJcblxyXG4gICAgICByZXR1cm4gaHRtbDtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBlZGl0b3IubWV0aG9kKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZScsIGZ1bmN0aW9uIChhcmdzOiBhbnkpIHtcclxuICAgICAgbGV0IHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh7XHJcbiAgICAgICAgYWxpZ246ICdyaWdodCdcclxuICAgICAgfSk7XHJcbiAgICAgIHRvb2x0aXAuaG92ZXJhYmxlID0gdHJ1ZTtcclxuICAgICAgdG9vbHRpcC5jbGFzcyEuYWRkKCdyZWZlcmVuY2UnKTtcclxuXHJcbiAgICAgIHRvb2x0aXAuaHRtbCA9IGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOnJlZmVyZW5jZTp0ZW1wbGF0ZScsIGFyZ3MpO1xyXG5cclxuICAgICAgLy8gbGV0IGxpbmtzID0ge307XHJcbiAgICAgIGxldCB0aW1lckhvdmVyOiBhbnkgPSBudWxsO1xyXG4gICAgICBsZXQgdGltZXJCbHVyOiBhbnkgPSBudWxsO1xyXG5cclxuICAgICAgLy8g6YeN5YaZ6K+l5pa55rOVXHJcbiAgICAgIHRvb2x0aXAuYXR0YWNoUmVmZXJlbmNlID0gZnVuY3Rpb24gKGFyZ3M6IGFueSkge1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBhcmdzLnRhcmdldDtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IGFyZ3MuZWxlbWVudDtcclxuICAgICAgICBsZXQgdGFyZ2V0UGFuZWwgPSBhcmdzLnBhbmVsIHx8IHNlbGYuYXR0cmlidXRlc1BhbmVsO1xyXG5cclxuICAgICAgICBsZXQgc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICghdGFyZ2V0IHx8IHRhcmdldC5oaWRkZW4pIHJldHVybjtcclxuICAgICAgICAgIHRvb2x0aXAucG9zaXRpb24odGFyZ2V0UGFuZWwuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LCBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIDE2KTtcclxuICAgICAgICAgIHRvb2x0aXAuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IGV2dEhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAodGltZXJIb3ZlciAhPT0gbnVsbCkgY2xlYXJUaW1lb3V0KHRpbWVySG92ZXIpO1xyXG4gICAgICAgICAgaWYgKHRpbWVyQmx1ciAhPT0gbnVsbCkgY2xlYXJUaW1lb3V0KHRpbWVyQmx1cik7XHJcbiAgICAgICAgICB0b29sdGlwLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IGV2dEhvdmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKHRpbWVyQmx1ciAhPT0gbnVsbCkgY2xlYXJUaW1lb3V0KHRpbWVyQmx1cik7XHJcbiAgICAgICAgICB0aW1lckhvdmVyID0gc2V0VGltZW91dChzaG93LCA1MDApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBldnRCbHVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKHRpbWVySG92ZXIgIT09IG51bGwpIGNsZWFyVGltZW91dCh0aW1lckhvdmVyKTtcclxuICAgICAgICAgIHRpbWVyQmx1ciA9IHNldFRpbWVvdXQoaGlkZSwgMjAwKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgZXZ0Q2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAodGltZXJIb3ZlciAhPT0gbnVsbCkgY2xlYXJUaW1lb3V0KHRpbWVySG92ZXIpO1xyXG4gICAgICAgICAgaWYgKHRpbWVyQmx1ciAhPT0gbnVsbCkgY2xlYXJUaW1lb3V0KHRpbWVyQmx1cik7XHJcbiAgICAgICAgICBzaG93KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGFyZ2V0Lm9uKCdoaWRlJywgZXZ0SGlkZSk7XHJcblxyXG4gICAgICAgIHRhcmdldC5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBldnRIb3Zlcik7XHJcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZXZ0Qmx1cik7XHJcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZ0Q2xpY2spO1xyXG4gICAgICAgICAgdGFyZ2V0LnVuYmluZCgnaGlkZScsIGV2dEhpZGUpO1xyXG4gICAgICAgICAgdGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICAgIGVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgaWYgKHRpbWVySG92ZXIgIT09IG51bGwpIGNsZWFyVGltZW91dCh0aW1lckhvdmVyKTtcclxuICAgICAgICAgIGlmICh0aW1lckJsdXIgIT09IG51bGwpIGNsZWFyVGltZW91dCh0aW1lckJsdXIpO1xyXG4gICAgICAgICAgdG9vbHRpcC5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGV2dEhvdmVyLCBmYWxzZSk7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGV2dEJsdXIsIGZhbHNlKTtcclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZ0Q2xpY2ssIGZhbHNlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxldCBoaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRvb2x0aXAuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRvb2x0aXAub24oJ2hvdmVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lckJsdXIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNlbGYucm9vdC5hcHBlbmQodG9vbHRpcCk7XHJcblxyXG4gICAgICByZXR1cm4gdG9vbHRpcDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgc2FuaXRpemUoc3RyOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcclxuICB9O1xyXG5cclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2F0dHJpYnV0ZXMtcGFuZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL2F0dHJpYnV0ZXMtZW50aXR5JztcclxuZXhwb3J0ICogZnJvbSAnLi9hdHRyaWJ1dGVzLWhpc3RvcnknO1xyXG5leHBvcnQgKiBmcm9tICcuL2F0dHJpYnV0ZXMtcmVmZXJlbmNlJztcclxuZXhwb3J0ICogZnJvbSAnLi9hdHRyaWJ1dGVzLWFzc2V0cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4va2VlcGVyJzsiLCJpbXBvcnQgeyBBdHRyaWJ1dGVzUGFuZWwgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzLXBhbmVsXCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZXNSZWZlcmVuY2UgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzLXJlZmVyZW5jZVwiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVzRW50aXR5IH0gZnJvbSBcIi4vYXR0cmlidXRlcy1lbnRpdHlcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlc0Fzc2V0cyB9IGZyb20gXCIuL2F0dHJpYnV0ZXMtYXNzZXRzXCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZUhpc3RvcnkgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzLWhpc3RvcnlcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlQXNzZXRzVGV4dHVyZSB9IGZyb20gXCIuL2Fzc2V0cy9hdHRyaWJ1dGVzLWFzc2V0cy10ZXh0dXJlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlc0tlZXBlciB7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzUGFuZWwgPSBuZXcgQXR0cmlidXRlc1BhbmVsKCk7XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzSGlzdG9yeSA9IG5ldyBBdHRyaWJ1dGVIaXN0b3J5KCk7XHJcblxyXG4gICAgICAgIGxldCBhdHRyaWJ1dGVzUmVmZXJlbmNlID0gbmV3IEF0dHJpYnV0ZXNSZWZlcmVuY2UoKTtcclxuXHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXNFbnRpdHkgPSBuZXcgQXR0cmlidXRlc0VudGl0eSgpO1xyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlc0Fzc2V0ID0gbmV3IEF0dHJpYnV0ZXNBc3NldHMoKTtcclxuXHJcbiAgICAgICAgbGV0IGF0dHJpYnV0ZXNBc3NldHNUZXh0dXJlID0gbmV3IEF0dHJpYnV0ZUFzc2V0c1RleHR1cmUoKTtcclxuXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRHJvcCB7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIC8vIG92ZXJsYXlcclxuICAgICAgICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnZHJvcC1vdmVybGF5Jyk7XHJcbiAgICAgICAgZWRpdG9yLmNhbGwoJ2xheW91dC5yb290JykuYXBwZW5kKG92ZXJsYXkpO1xyXG5cclxuICAgICAgICAvLyB2YXIgaW1nRHJhZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIC8vIC8vIGltZ0RyYWcuc3JjID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFDV0NBWUFBQUFmZHVKeUFBQUFGVWxFUVZRb1UyTmtZR0JnWUJ3bFJzTmdKS1FEQU9BZkFKZmxVWndlQUFBQUFFbEZUa1N1UW1DQyc7XHJcbiAgICAgICAgLy8gLy8gaW1nRHJhZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICB2YXIgcGFydHMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xyXG4gICAgICAgIHZhciBwYXJ0c0VsZW1lbnQ6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgnZHJvcC1vdmVybGF5LWhvbGUtcGFydCcsIHBhcnRzW2ldKTtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2xheW91dC5yb290JykuYXBwZW5kKHBhcnQpO1xyXG4gICAgICAgICAgICBwYXJ0c0VsZW1lbnQucHVzaChwYXJ0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGFyZWFzXHJcbiAgICAgICAgdmFyIGFyZWFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYXJlYXMuY2xhc3NMaXN0LmFkZCgnZHJvcC1hcmVhcycpO1xyXG4gICAgICAgIGVkaXRvci5jYWxsKCdsYXlvdXQucm9vdCcpLmFwcGVuZChhcmVhcyk7XHJcblxyXG4gICAgICAgIHZhciBhY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICB2YXIgY3VycmVudFR5cGUgPSAnJztcclxuICAgICAgICB2YXIgY3VycmVudERhdGEgPSB7fTtcclxuICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHZhciBkcmFnT3ZlciA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpdGVtczogYW55ID0gW107XHJcbiAgICAgICAgdmFyIGl0ZW1PdmVyOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4gPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgYWN0aXZhdGUgPSBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgaWYgKCFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChhY3RpdmUgPT09IHN0YXRlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgYWN0aXZlID0gc3RhdGU7XHJcblxyXG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgYXJlYXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnY3Vyc29yOnNldCcsICdncmFiYmluZycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGFyZWFzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgZHJhZ092ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUeXBlID0gJyc7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2Ryb3A6c2V0JywgY3VycmVudFR5cGUsIGN1cnJlbnREYXRhKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdjdXJzb3I6Y2xlYXInKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG9uTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwKTtcclxuICAgICAgICAgICAgICAgIGFjdGl2YXRlKGZhbHNlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdkcm9wOmFjdGl2ZScsIGFjdGl2ZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZHJvcDphY3RpdmF0ZScsIGFjdGl2YXRlKTtcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdkcm9wOmFjdGl2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcHJldmVudCBkcm9wIGZpbGUgb2YgcmVkaXJlY3RpbmdcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkcmFnZW50ZXInKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoZHJhZ092ZXIpIHJldHVybjtcclxuICAgICAgICAgICAgZHJhZ092ZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjdXJyZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFR5cGUgPSAnZmlsZXMnO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2Ryb3A6c2V0JywgY3VycmVudFR5cGUsIGN1cnJlbnREYXRhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWN0aXZhdGUodHJ1ZSk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBmdW5jdGlvbiAoZXZ0OiBEcmFnRXZlbnQpIHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZHJhZ292ZXInKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBldnQuZGF0YVRyYW5zZmVyIS5kcm9wRWZmZWN0ID0gJ21vdmUnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRyYWdPdmVyKSByZXR1cm47XHJcbiAgICAgICAgICAgIGRyYWdPdmVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGFjdGl2YXRlKHRydWUpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZHJhZ2xlYXZlJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZ0LmNsaWVudFggIT09IDAgfHwgZXZ0LmNsaWVudFkgIT09IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFkcmFnT3ZlcikgcmV0dXJuO1xyXG4gICAgICAgICAgICBkcmFnT3ZlciA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZHJhZ092ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2YXRlKGZhbHNlKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGZ1bmN0aW9uIChldnQpIHtcclxuXHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Ryb3AnKTtcclxuXHJcbiAgICAgICAgICAgIGFjdGl2YXRlKGZhbHNlKTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHZhciBldnREcmFnT3ZlciA9IGZ1bmN0aW9uIChlOiBEcmFnRXZlbnQgfCBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0LmFkZCgnb3ZlcicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW1PdmVyICYmIGl0ZW1PdmVyICE9PSBlLnRhcmdldClcclxuICAgICAgICAgICAgICAgIGV2dERyYWdMZWF2ZS5jYWxsKGl0ZW1PdmVyLCBlKTtcclxuXHJcbiAgICAgICAgICAgIGl0ZW1PdmVyID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW1PdmVyLl9yZWYgJiYgaXRlbU92ZXIuX3JlZi5vdmVyICYmIGN1cnJlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGN1cnJlbnREYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUeXBlID09ICdmaWxlcycgJiYgKDxEcmFnRXZlbnQ+ZSkuZGF0YVRyYW5zZmVyKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSAoPERyYWdFdmVudD5lKS5kYXRhVHJhbnNmZXIhLmZpbGVzO1xyXG4gICAgICAgICAgICAgICAgaXRlbU92ZXIuX3JlZi5vdmVyKGN1cnJlbnRUeXBlLCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBldnREcmFnTGVhdmUgPSBmdW5jdGlvbiAoZTogRHJhZ0V2ZW50IHwgTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGhhdDogSFRNTEVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhhdC5fcmVmICYmIHRoYXQuX3JlZi5sZWF2ZSAmJiBjdXJyZW50VHlwZSlcclxuICAgICAgICAgICAgICAgIHRoYXQuX3JlZi5sZWF2ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW1PdmVyID09PSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpXHJcbiAgICAgICAgICAgICAgICBpdGVtT3ZlciA9IG51bGw7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGZpeENocm9tZUZsZXhCb3ggPSBmdW5jdGlvbiAoaXRlbTogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgY2hyb21lXHJcbiAgICAgICAgICAgIC8vIGZvciB6LWluZGV4ICsgZmxleC1ncm93IHdlaXJkIHJlZmxvdyBidWdcclxuICAgICAgICAgICAgLy8gbmVlZCB0byBmb3JjZSByZWZsb3cgaW4gbmV4dCBmcmFtZXNcclxuXHJcbiAgICAgICAgICAgIC8vIGlmICghd2luZG93LmNocm9tZSlcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIOS4jeWHhuehru+8jOi/meS4quWPguaVsOeUqOaIt+WPr+S/ruaUuVxyXG4gICAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmICh3aW5kb3cuTWVzc2FnZUV2ZW50ICYmICFkb2N1bWVudC5nZXRCb3hPYmplY3RGb3IpXHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBvbmx5IGZvciB0aG9zZSB3aG8gaGF2ZSBmbGV4Z3Jvd1xyXG4gICAgICAgICAgICB2YXIgZmxleCA9IGl0ZW0uc3R5bGUuZmxleEdyb3c7XHJcbiAgICAgICAgICAgIGlmIChmbGV4KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2luZyBvdmVyZmxvdyB0cmlnZ2VycyByZWZsb3dcclxuICAgICAgICAgICAgICAgIHZhciBvdmVyZmxvdyA9IGl0ZW0uc3R5bGUub3ZlcmZsb3c7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHNraXAgMiBmcmFtZXMsIDEgaXMgbm90IGVub3VnaFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgYmFjayB0byB3aGF0IGl0IHdhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLm92ZXJmbG93ID0gb3ZlcmZsb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2Ryb3A6dGFyZ2V0JywgZnVuY3Rpb24gKG9iajogSURyb3ApIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Ryb3A6dGFyZ2V0Jyk7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgIG9iai5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIG9iai5lbGVtZW50Ll9yZWYgPSBvYmo7XHJcbiAgICAgICAgICAgIG9iai5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Ryb3AtYXJlYScpO1xyXG4gICAgICAgICAgICBpZiAob2JqLmhvbGUpXHJcbiAgICAgICAgICAgICAgICBvYmouZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdob2xlJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqLnBhc3NUaHJvdWdoKVxyXG4gICAgICAgICAgICAgICAgb2JqLmVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcclxuXHJcbiAgICAgICAgICAgIGFyZWFzLmFwcGVuZENoaWxkKG9iai5lbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIG9iai5ldnREcm9wID0gZnVuY3Rpb24gKGU6IERyYWdFdmVudCB8IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb2JqLmV2dERyb3AnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRUeXBlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsZWF2ZSBldmVudFxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5lbGVtZW50IS5jbGFzc0xpc3QuY29udGFpbnMoJ292ZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmoubGVhdmUgJiYgY3VycmVudFR5cGUpIG9iai5sZWF2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5lbGVtZW50IS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBjdXJyZW50RGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VHlwZSA9PSAnZmlsZXMnICYmICg8RHJhZ0V2ZW50PmUpLmRhdGFUcmFuc2ZlcilcclxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gKDxEcmFnRXZlbnQ+ZSkuZGF0YVRyYW5zZmVyIS5maWxlcztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50VHlwZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouZHJvcClcclxuICAgICAgICAgICAgICAgICAgICBvYmouZHJvcChjdXJyZW50VHlwZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBvYmouZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBldnREcmFnT3ZlciwgZmFsc2UpO1xyXG4gICAgICAgICAgICBvYmouZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZXZ0RHJhZ092ZXIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIG9iai5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGV2dERyYWdMZWF2ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBvYmouZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZXZ0RHJhZ0xlYXZlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZHJvcE9uID0gb2JqLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChvYmoucGFzc1Rocm91Z2gpXHJcbiAgICAgICAgICAgICAgICBkcm9wT24gPSBvYmoucmVmITtcclxuXHJcbiAgICAgICAgICAgIGRyb3BPbi5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgb2JqLmV2dERyb3AsIGZhbHNlKTtcclxuICAgICAgICAgICAgZHJvcE9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvYmouZXZ0RHJvcCwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgb2JqLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW9iai5lbGVtZW50IS5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3AtYXJlYScpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBvYmouZWxlbWVudCEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgZXZ0RHJhZ092ZXIpO1xyXG4gICAgICAgICAgICAgICAgb2JqLmVsZW1lbnQhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBldnREcmFnT3Zlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqLmVsZW1lbnQhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGV2dERyYWdMZWF2ZSk7XHJcbiAgICAgICAgICAgICAgICBvYmouZWxlbWVudCEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGV2dERyYWdMZWF2ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZHJvcE9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBvYmouZXZ0RHJvcCEpO1xyXG4gICAgICAgICAgICAgICAgZHJvcE9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvYmouZXZ0RHJvcCEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbmQgPSBpdGVtcy5pbmRleE9mKG9iaik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kICE9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5zcGxpY2UoaW5kLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnJlZiEuY2xhc3NMaXN0LmNvbnRhaW5zKCdkcm9wLXJlZi1oaWdobGlnaHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5yZWYhLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AtcmVmLWhpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeENocm9tZUZsZXhCb3gob2JqLnJlZiEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG9iai5lbGVtZW50IS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wLWFyZWEnKTtcclxuICAgICAgICAgICAgICAgIGFyZWFzLnJlbW92ZUNoaWxkKG9iai5lbGVtZW50ISk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdkcm9wOml0ZW0nLCBmdW5jdGlvbiAoYXJnczogYW55KSB7XHJcbiAgICAgICAgICAgIGFyZ3MuZWxlbWVudC5kcmFnZ2FibGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Ryb3A6aXRlbScpO1xyXG5cclxuICAgICAgICAgICAgYXJncy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgYXJncy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGZ1bmN0aW9uIChldnQ6IERyYWdFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgY3VycmVudFR5cGUgPSBhcmdzLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0YSA9IGFyZ3MuZGF0YTtcclxuICAgICAgICAgICAgICAgIGl0ZW1PdmVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5lbWl0KCdkcm9wOnNldCcsIGN1cnJlbnRUeXBlLCBjdXJyZW50RGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYWN0aXZhdGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZHJvcDpzZXQnLCBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgY3VycmVudFR5cGUgPSB0eXBlIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudERhdGEgPSBkYXRhIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Ryb3A6c2V0Jyk7XHJcblxyXG4gICAgICAgICAgICBlZGl0b3IuZW1pdCgnZHJvcDpzZXQnLCBjdXJyZW50VHlwZSwgY3VycmVudERhdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdkcm9wOmFjdGl2ZScsIGZ1bmN0aW9uIChzdGF0ZTogYm9vbGVhbikge1xyXG4gICAgICAgICAgICBhcmVhcy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJyc7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZHJvcDphY3RpdmUgKycgKyBzdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib3R0b20gPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvcCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmlzaWJsZSA9ICFpdGVtc1tpXS5kaXNhYmxlZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Zpc2libGU6ICcgKyB2aXNpYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY3VycmVudFR5cGU6ICcgKyBjdXJyZW50VHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudERhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNbaV0uZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlID0gaXRlbXNbaV0uZmlsdGVyKGN1cnJlbnRUeXBlLCBjdXJyZW50RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbXNbaV0udHlwZSAhPT0gY3VycmVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndmlzaWJsZTogJyArIHZpc2libGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IGl0ZW1zW2ldLnJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcHRoID0gNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGl0ZW1zW2ldLnJlZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRlcHRoLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVjdC53aWR0aCB8fCAhcmVjdC5oZWlnaHQgfHwgIXBhcmVudC5vZmZzZXRIZWlnaHQgfHwgd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCd2aXNpYmlsaXR5JykgPT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNbaV0uaG9sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbaV0uZWxlbWVudC5zdHlsZS5sZWZ0ID0gKHJlY3QubGVmdCArIDIpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldLmVsZW1lbnQuc3R5bGUudG9wID0gKHJlY3QudG9wICsgMikgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbaV0uZWxlbWVudC5zdHlsZS53aWR0aCA9IChyZWN0LndpZHRoIC0gNCkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbaV0uZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAocmVjdC5oZWlnaHQgLSA0KSArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9wID4gcmVjdC50b3ApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gcmVjdC50b3A7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvdHRvbSA8IHJlY3QuYm90dG9tKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA9IHJlY3QuYm90dG9tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0ID4gcmVjdC5sZWZ0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSByZWN0LmxlZnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0IDwgcmVjdC5yaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodCA9IHJlY3QucmlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNFbGVtZW50WzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNFbGVtZW50WzBdLnN0eWxlLmhlaWdodCA9IHRvcCArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNFbGVtZW50WzFdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNFbGVtZW50WzFdLnN0eWxlLnRvcCA9IHRvcCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c0VsZW1lbnRbMV0uc3R5bGUuYm90dG9tID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIGJvdHRvbSkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNFbGVtZW50WzFdLnN0eWxlLndpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gcmlnaHQpICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c0VsZW1lbnRbMl0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c0VsZW1lbnRbMl0uc3R5bGUuaGVpZ2h0ID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIGJvdHRvbSkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzRWxlbWVudFszXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzRWxlbWVudFszXS5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHNFbGVtZW50WzNdLnN0eWxlLmJvdHRvbSA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSBib3R0b20pICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzRWxlbWVudFszXS5zdHlsZS53aWR0aCA9IGxlZnQgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXS5wYXNzVGhyb3VnaClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhcy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbaV0uZWxlbWVudC5zdHlsZS5sZWZ0ID0gKHJlY3QubGVmdCArIDEpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldLmVsZW1lbnQuc3R5bGUudG9wID0gKHJlY3QudG9wICsgMSkgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbaV0uZWxlbWVudC5zdHlsZS53aWR0aCA9IChyZWN0LndpZHRoIC0gMikgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbaV0uZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAocmVjdC5oZWlnaHQgLSAyKSArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1tpXS5yZWYuY2xhc3NMaXN0LmFkZCgnZHJvcC1yZWYtaGlnaGxpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtc1tpXS5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXNbaV0ucmVmLmNsYXNzTGlzdC5jb250YWlucygnZHJvcC1yZWYtaGlnaGxpZ2h0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldLnJlZi5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wLXJlZi1oaWdobGlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpeENocm9tZUZsZXhCb3goaXRlbXNbaV0ucmVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydHNFbGVtZW50W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW1zW2ldLnJlZi5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3AtcmVmLWhpZ2hsaWdodCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXNbaV0ucmVmLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AtcmVmLWhpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeENocm9tZUZsZXhCb3goaXRlbXNbaV0ucmVmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSURyb3Age1xyXG4gICAgcmVmPzogSFRNTEVsZW1lbnQ7XHJcbiAgICB0eXBlPzogc3RyaW5nO1xyXG4gICAgaG9sZT86IGJvb2xlYW47XHJcbiAgICBwYXNzVGhyb3VnaD86IGJvb2xlYW47XHJcbiAgICBmaWx0ZXI/OiAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpID0+IGJvb2xlYW47XHJcbiAgICBkcm9wPzogKHR5cGU6IHN0cmluZywgZGF0YTogYW55KSA9PiB2b2lkO1xyXG4gICAgb3Zlcj86ICh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4gdm9pZDtcclxuICAgIGxlYXZlPzogKCkgPT4gdm9pZDtcclxuICAgIGVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICAgIGV2dERyb3A/OiAoZTogRHJhZ0V2ZW50IHwgTW91c2VFdmVudCkgPT4gdm9pZDtcclxuICAgIHVucmVnaXN0ZXI/OiAoKSA9PiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi4vbGliJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFZGl0b3IgZXh0ZW5kcyBFdmVudHMge1xyXG5cclxuICAvLyDnm7jovoPkuo5FdmVudHPvvIzlkIzkuIDkuKrlh73mlbDlkI3lj6rlj6/ku6PooajkuIDkuKrlh73mlbDvvJtcclxuXHJcbiAgLy8g5p+Q5LiqbmFtZeWvueW6lOeahOafkOS4quS6i+S7tu+8jG5hbWXkuI5GdW5jdGlvbuaYrzHlr7kx55qE5YWz57O777ybXHJcbiAgcHJpdmF0ZSBfaG9va3M6IHsgW2tleTogc3RyaW5nXTogRnVuY3Rpb24gfSA9IHt9O1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5re75Yqg5YWo5bGA5Ye95pWw77yM5Ye95pWw5ZCN5LiO5Ye95pWw5pys5L2T5LiA5LiA5a+55bqU77yM5LiN6IO96YeN5ZCN77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGZuIOWHveaVsOacrOS9k++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2QobmFtZTogc3RyaW5nLCBmbjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9ob29rc1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbid0IG92ZXJyaWRlIGhvb2s6IFwiICsgbmFtZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9ob29rc1tuYW1lXSA9IGZuO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIOenu+mZpOafkOS4quWHveaVsO+8m1xyXG4gICAqIEBwYXJhbSBuYW1lIOWHveaVsOWQje+8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBtZXRob2RSZW1vdmUobmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBkZWxldGUgdGhpcy5faG9va3NbbmFtZV07XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICog5omn6KGM5p+Q5Liq5Ye95pWw77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICovXHJcbiAgcHVibGljIGNhbGwobmFtZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IGFueSB7XHJcbiAgICBpZiAodGhpcy5faG9va3NbbmFtZV0pIHtcclxuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faG9va3NbbmFtZV0uYXBwbHkobnVsbCwgYXJncyk7XHJcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiJWMlcyAlYyhlZGl0b3IubWV0aG9kIGVycm9yKVwiLFxyXG4gICAgICAgICAgXCJjb2xvcjogIzA2ZlwiLFxyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIFwiY29sb3I6ICNmMDBcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihleC5zdGFjayk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcbn0iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdHlcIjtcclxuaW1wb3J0IHsgR2FtZU9iamVjdCwgUmVzb3VyY2VDb250YWluZXIgfSBmcm9tIFwiLi4vbWlkZGxld2FyZVwiO1xyXG5pbXBvcnQgeyBPYnNlcnZlciwgT2JzZXJ2ZXJMaXN0IH0gZnJvbSBcIi4uLy4uL2xpYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVudGl0aWVzIHtcclxuICAgIHB1YmxpYyBsaXN0czogRW50aXR5W10gPSBbXTtcclxuICAgIHByaXZhdGUgX2luZGV4ZWQ6IHsgW2tleTogc3RyaW5nXTogRW50aXR5IH0gPSB7fTtcclxuXHJcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogUmVzb3VyY2VDb250YWluZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IFJlc291cmNlQ29udGFpbmVyKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyIGVudGl0aWVzID0gbmV3IE9ic2VydmVyTGlzdCh7XHJcbiAgICAgICAgICAgIGlkOiAncmVzb3VyY2VfaWQnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBlbnRpdHlSb290OiBOdWxsYWJsZTxPYnNlcnZlcj4gPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBvbiBhZGRpbmdcclxuICAgICAgICBlbnRpdGllcy5vbignYWRkJywgZnVuY3Rpb24gKGVudGl0eTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2VudGl0aWVzOmFkZCcsIGVudGl0eSwgZW50aXR5ID09PSBlbnRpdHlSb290KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gb24gcmVtb3ZpbmdcclxuICAgICAgICBlbnRpdGllcy5vbigncmVtb3ZlJywgZnVuY3Rpb24gKGVudGl0eTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2VudGl0aWVzOnJlbW92ZScsIGVudGl0eSk7XHJcbiAgICAgICAgICAgIGVudGl0eS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIC8vIGVudGl0eS5lbnRpdHkgPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBhbGxvdyBhZGRpbmcgZW50aXR5XHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6YWRkJywgZnVuY3Rpb24gKGVudGl0eTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgaWYgKGVudGl0eS5nZXQoJ3Jvb3QnKSlcclxuICAgICAgICAgICAgICAgIGVudGl0eVJvb3QgPSBlbnRpdHk7XHJcblxyXG4gICAgICAgICAgICBlbnRpdGllcy5hZGQoZW50aXR5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYWxsb3cgcmVtb3ZlIGVudGl0eVxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2VudGl0aWVzOnJlbW92ZScsIGZ1bmN0aW9uIChlbnRpdHk6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGVudGl0aWVzLnJlbW92ZShlbnRpdHkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyByZW1vdmUgYWxsIGVudGl0aWVzXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6Y2xlYXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVudGl0aWVzLmNsZWFyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGdldCBlbnRpdHlcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdlbnRpdGllczpnZXQnLCBmdW5jdGlvbiAocmVzb3VyY2VJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRpdGllcy5nZXQocmVzb3VyY2VJZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBsaXN0IGVudGl0aWVzXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6bGlzdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVudGl0aWVzLmFycmF5KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBnZXQgcm9vdCBlbnRpdHlcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdlbnRpdGllczpyb290JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZW50aXR5Um9vdDtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIDEu5bu656uL5Z+65pys55qE5pWw5o2u5qC85byP77ybXHJcbiAgICAvLyAyLuS4suiBlGhpZXJhcmNoee+8jOWMheaLrOWfuuacrOeahOiPnOWNle+8m1xyXG4gICAgLy8gMy7lsJ3or5Xlu7rnq4twcm9wZXJ0ee+8m1xyXG4gICAgLy8gNC7kuLLogZRBc3NldHPnu5PmnoTkuI5VSe+8m1xyXG5cclxuICAgIHB1YmxpYyBhZGRSYXcoZW50aXR5X2RhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCcqKiplbnRpdHktZGF0YSoqKicpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVudGl0eV9kYXRhKTtcclxuXHJcbiAgICAgICAgLy8g55uu5qCH77yM5Yib5bu6YmFieWxvbiBzY2VuZei1hOa6kFxyXG4gICAgICAgIC8vIEVkaXRvcuaooeW8j+WSjFB1Ymxpc2jmqKHlvI/mnInkvZXlvILlkIzvvJ9cclxuICAgICAgICAvLyBFZGl0b3LpnIDopoHmnInkuIDkuKpPYnNlcnZlcueahOS4remXtOWxgu+8jOmcgOimgeW7uueri+Wxgue6p+WFs+ezu++8jOmcgOimgeiusOW9leWinuaUueWIoOmZpOaTjeS9nFxyXG4gICAgICAgIC8vIFB1Ymxpc2jlj6/ku6Xku45zY2VuZeaVsOaNruebtOaOpeWKoOi9vei1hOa6kOWNs+WPr++8m1xyXG5cclxuICAgICAgICBsZXQgZ2FtZU9iamVjdCA9IHRoaXMuY3JlYXRlR2FtZU9iamVjdChlbnRpdHlfZGF0YSk7XHJcblxyXG5cclxuICAgICAgICAvLyBhZGQgY29tcG9uZW50XHJcblxyXG4gICAgICAgIC8vIGNoaWxkcmVuXHJcblxyXG4gICAgICAgIC8vIHBhcmVudFxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRHYW1lT2JqZWN0KGdhbWVPYmplY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRFbnRpdHkoZW50aXR5OiBPYnNlcnZlcik6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGUoZW50aXR5OiBPYnNlcnZlcik6IEdhbWVPYmplY3Qge1xyXG5cclxuICAgICAgICBsZXQgdHlwZTogc3RyaW5nID0gZW50aXR5LmdldCgndHlwZScpO1xyXG4gICAgICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdyb290Jykge1xyXG4gICAgICAgICAgICAvLyDkuI3pnIDopoHnlJ/miJBcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWVzaCcpIHtcclxuICAgICAgICAgICAgLy8g5qih5Z6LXHJcblxyXG4gICAgICAgICAgICAvLyDpppblhYjliqDovb3mlbDmja7vvIznlJ/miJBiYWJ5bG9uIG1lc2jmlbDmja7nu5PmnoRcclxuICAgICAgICAgICAgLy8g5o+Q5Y+W5Zyw5Z2A77yMaHR0cOaIluiAheWFtuS7luaWueW8j+WKoOi9vVxyXG4gICAgICAgICAgICAvLyBIdHRw5LiL6L2977yM5Yqg5YWl5Zue6LCD5Ye95pWw5aSE55CG77yM5p+l55yLYmFieWxvbum7mOiupOeahOWkhOeQhuaWueW8j++8m1xyXG4gICAgICAgICAgICAvLyBzY2VuZXPmlbDmja7lpoLkvZXku45Bc3NldHPmlbDmja7kuK3mi7/mlbDmja7vvIzliLBiYWJ5bG9u5Lit6Ze05Lu25Lit5a+75om+57yT5a2YXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2VtcHR5Jykge1xyXG4gICAgICAgICAgICAvLyDnqbrniankvZNcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnY2FtZXJhJykge1xyXG4gICAgICAgICAgICAvLyBub2Rl5L2c5Li654i254mp5L2TXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xpZ2h0Jykge1xyXG4gICAgICAgICAgICAvLyBub2Rl5L2c5Li654i254mp5L2TXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3BhcnRpY2xlJykge1xyXG4gICAgICAgICAgICAvLyDosozkvLzmsqHmnInnm7jlr7nlupTnmoTnu5PmnoRcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnc3ByaXRlJykge1xyXG4gICAgICAgICAgICAvLyDosozkvLzmsqHmnInnm7jlr7nlupTnmoTnu5PmnoRcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIOagueaNruimgeaxgueUn+aIkEdhbWVPYmplY3RcclxuICAgICAgICBsZXQgaW5zdGFuY2UgPSBuZXcgR2FtZU9iamVjdChlbnRpdHkuZ2V0KCduYW1lJykpO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVHYW1lT2JqZWN0KGVudGl0eTogYW55KTogR2FtZU9iamVjdCB7XHJcbiAgICAgICAgLy8gVE9ETzog6Kej5p6Q5pivbm9kZei/mOaYr21lc2hcclxuICAgICAgICAvLyDorr7nva5uYW1lXHJcbiAgICAgICAgbGV0IGluc3RhbmNlID0gbmV3IEdhbWVPYmplY3QoZW50aXR5Lm5hbWUpO1xyXG4gICAgICAgIC8vIOiuvue9rmd1aWRcclxuICAgICAgICBpbnN0YW5jZS5ndWlkID0gZW50aXR5LnJlc291cmNlX2lkO1xyXG5cclxuICAgICAgICAvLyDorr7nva7kvY3nva5cclxuICAgICAgICAvLyDorr7nva7op5LluqZcclxuICAgICAgICAvLyDorr7nva7mr5TkvovlgLxcclxuICAgICAgICAvLyDorr7nva5lbmFibGUgPyDkuI3lrZjlnKjnmoTmg4XlhrVcclxuICAgICAgICBpbnN0YW5jZS5zZXRBY3RpdmUoZW50aXR5LmVuYWJsZWQpO1xyXG4gICAgICAgIC8vIOiuvue9rnZpc2lhYmxlXHJcblxyXG4gICAgICAgIC8vIOiuvue9rnRhZ3NcclxuXHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQoaXRlbTogRW50aXR5KTogdm9pZCB7IH1cclxuXHJcbiAgICBwdWJsaWMgaGFzKGl0ZW06IEVudGl0eSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0KGluZGV4OiBzdHJpbmcsIGl0ZW06IEVudGl0eSk6IHZvaWQgeyB9XHJcblxyXG4gICAgcHVibGljIGdldChpbmRleDogc3RyaW5nKTogTnVsbGFibGU8RW50aXR5PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ZWRbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbmRleE9mKGl0ZW06IEVudGl0eSk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdHMuaW5kZXhPZihpdGVtKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4uLy4uL2xpYic7XHJcbmltcG9ydCB7IEdVSUQgfSBmcm9tICcuLi91dGlsaXR5JztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHlDcmVhdGUge1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHZhciBjcmVhdGVOZXdFbnRpdHlEYXRhID0gZnVuY3Rpb24gKGRlZmF1bHREYXRhOiBhbnksIHBhcmVudFJlc291cmNlSWQ6IHN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgZW50aXR5RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRlZmF1bHREYXRhLm5hbWUgfHwgJ+epuueJqeS9kycsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZV9pZDogZGVmYXVsdERhdGEucmVzb3VyY2VfaWQgfHwgR1VJRC5jcmVhdGUoKSxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50UmVzb3VyY2VJZCxcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBBcnJheTxzdHJpbmc+KCksXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogZGVmYXVsdERhdGEucG9zaXRpb24gfHwgWzAsIDAsIDBdLFxyXG4gICAgICAgICAgICAgICAgcm90YXRpb246IGRlZmF1bHREYXRhLnJvdGF0aW9uIHx8IFswLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIHNjYWxlOiBkZWZhdWx0RGF0YS5zY2FsZSB8fCBbMSwgMSwgMV0sXHJcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRzOiBkZWZhdWx0RGF0YS5jb21wb25lbnRzIHx8IHt9LFxyXG4gICAgICAgICAgICAgICAgLy8gX19wb3N0Q3JlYXRpb25DYWxsYmFjazogZGVmYXVsdERhdGEucG9zdENyZWF0aW9uQ2FsbGJhY2ssXHJcbiAgICAgICAgICAgICAgICByb290OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IGRlZmF1bHREYXRhLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBhc3NldDogZGVmYXVsdERhdGEuYXNzZXQgfHwgJydcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIChkZWZhdWx0RGF0YS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAvLyAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWZhdWx0RGF0YS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHZhciBjaGlsZEVudGl0eURhdGEgPSBjcmVhdGVOZXdFbnRpdHlEYXRhKGRlZmF1bHREYXRhLmNoaWxkcmVuW2ldLCBlbnRpdHlEYXRhLnJlc291cmNlX2lkKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBlbnRpdHlEYXRhLmNoaWxkcmVuLnB1c2goY2hpbGRFbnRpdHlEYXRhKTtcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGVudGl0eURhdGE7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2VudGl0eTpuZXc6YmFieWxvbicsIChkZWZhdWx0RGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHREYXRhID0gZGVmYXVsdERhdGEgfHwge307XHJcbiAgICAgICAgICAgIC8vIHZhciBwYXJlbnQgPSBkZWZhdWx0RGF0YS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIC8vIHZhciBwYXJlbnQgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6cm9vdCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKHBhcmVudCA9PT0gJycgfHwgcGFyZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gICAgIHBhcmVudCA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpyb290JykuZ2V0KCdyZXNvdXJjZV9pZCcpO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlZGl0b3IuY2FsbCgnZW50aXRpZXM6cm9vdCcpKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGVmYXVsdERhdGEucGFyZW50KTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGVmYXVsdERhdGEpO1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGRhdGEgPSBjcmVhdGVOZXdFbnRpdHlEYXRhKGRlZmF1bHREYXRhLCBwYXJlbnQuZ2V0KCdyZXNvdXJjZV9pZCcpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgRW50aXR5IGRhdGFcclxuICAgICAgICAgICAgdmFyIGVudGl0eSA9IG5ldyBPYnNlcnZlcihkZWZhdWx0RGF0YSk7XHJcblxyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6YWRkJywgZW50aXR5KTtcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmFkZEVudGl0eScsIGVudGl0eSwgcGFyZW50LCAhZGVmYXVsdERhdGEubm9TZWxlY3QpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6bmV3JywgZnVuY3Rpb24gKGRlZmF1bHREYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgLy8gZ2V0IHJvb3QgaWYgcGFyZW50IGlzIG51bGxcclxuICAgICAgICAgICAgZGVmYXVsdERhdGEgPSBkZWZhdWx0RGF0YSB8fCB7fTtcclxuICAgICAgICAgICAgLy8gdmFyIHBhcmVudCA9IGRlZmF1bHREYXRhLnBhcmVudCB8fCBlZGl0b3IuY2FsbCgnZW50aXRpZXM6cm9vdCcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gVE9ETzog5LiA5aCGbWVzaOi/h+adpe+8jOacieeahOWIm+W7uuS6hu+8jOacieeahOayoeWIm+W7uuaAjuS5iOWKnlxyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIGRlZmF1bHREYXRhLnBhcmVudCkgfHwgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnJvb3QnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRhID0gY3JlYXRlTmV3RW50aXR5RGF0YShkZWZhdWx0RGF0YSwgcGFyZW50LmdldCgncmVzb3VyY2VfaWQnKSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3JUeXBlOiBzdHJpbmcsIHNlbGVjdG9ySXRlbXM6IE9ic2VydmVyW107XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRlZmF1bHREYXRhLm5vSGlzdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3JUeXBlID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnR5cGUnKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9ySXRlbXMgPSBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aXRlbXMnKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvclR5cGUgPT09ICdlbnRpdHknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3Rvckl0ZW1zLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvckl0ZW1zW2ldID0gc2VsZWN0b3JJdGVtc1tpXS5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgRW50aXR5IGRhdGFcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihkZWZhdWx0RGF0YSk7XHJcbiAgICAgICAgICAgIHZhciBlbnRpdHkgPSBuZXcgT2JzZXJ2ZXIoZGVmYXVsdERhdGEpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmFkZEVudGl0eScsIGVudGl0eSwgcGFyZW50LCAhZGVmYXVsdERhdGEubm9TZWxlY3QpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVudGl0eSk7XHJcbiAgICAgICAgICAgIC8vIGhpc3RvcnlcclxuICAgICAgICAgICAgaWYgKCFkZWZhdWx0RGF0YS5ub0hpc3RvcnkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZUlkID0gZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJZCA9IHBhcmVudC5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6YWRkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICduZXcgZW50aXR5ICcgKyByZXNvdXJjZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVuZG86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpnZXQnLCByZXNvdXJjZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6cmVtb3ZlRW50aXR5JywgZW50aXR5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvclR5cGUgPT09ICdlbnRpdHknICYmIHNlbGVjdG9ySXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0b3JJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIHNlbGVjdG9ySXRlbXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aGlzdG9yeScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0Jywgc2VsZWN0b3JUeXBlLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ3NlbGVjdG9yOmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmhpc3RvcnknLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVkbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIHBhcmVudElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgZW50aXR5ID0gbmV3IE9ic2VydmVyKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gbmV3IE9ic2VydmVyKGRlZmF1bHREYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmFkZEVudGl0eScsIGVudGl0eSwgcGFyZW50LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gXCIuLi8uLi9saWJcIjtcclxuaW1wb3J0IHsgQmFieWxvbkxvYWRlciB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2xvYWRlci9iYWJ5bG9uTG9hZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRW50aXR5RWRpdCB7XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgbGV0IGNoaWxkVG9QYXJlbnQ6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcclxuICAgICAgICAvLyDkuLrlm57pgIDkvZzlh4blpIdcclxuICAgICAgICBsZXQgZGVsZXRlZENhY2hlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignZW50aXRpZXM6YWRkJywgZnVuY3Rpb24gKGVudGl0eTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2VudGl0eS1lZGl0LWNoaWxkcmVuJyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVudGl0eS5nZXQoJ2NoaWxkcmVuJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICBjaGlsZFRvUGFyZW50W2NoaWxkcmVuW2ldXSA9IGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcblxyXG4gICAgICAgICAgICBlbnRpdHkub24oJ2NoaWxkcmVuOmluc2VydCcsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ2NoaWxkcmVuOmluc2VydCBpbiBlbnRpdHktZWRpdCcpO1xyXG4gICAgICAgICAgICAgICAgY2hpbGRUb1BhcmVudFt2YWx1ZV0gPSBlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpO1xyXG4gICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci51cGRhdGVTY2VuZURhdGEoZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKSwgZW50aXR5Ll9kYXRhMik7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnbWFrZTpzY2VuZTpkaXJ0eScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZW50aXR5Lm9uKCdjaGlsZHJlbjpyZW1vdmUnLCBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGNoaWxkVG9QYXJlbnRbdmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci51cGRhdGVTY2VuZURhdGEoZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKSwgZW50aXR5Ll9kYXRhMik7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnbWFrZTpzY2VuZTpkaXJ0eScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHVwZGF0ZUVudGl0eVJlZmVyZW5jZUZpZWxkcyA9IGZ1bmN0aW9uIChlbnRpdHlSZWZlcmVuY2VzTWFwOiBhbnksIG9sZFZhbHVlOiBzdHJpbmcsIG5ld1ZhbHVlOiBhbnkpIHtcclxuICAgICAgICAgICAgdmFyIHJlZmVyZW5jZXNUb1RoaXNFbnRpdHkgPSBlbnRpdHlSZWZlcmVuY2VzTWFwW29sZFZhbHVlXTtcclxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VzVG9UaGlzRW50aXR5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICByZWZlcmVuY2VzVG9UaGlzRW50aXR5LmZvckVhY2goZnVuY3Rpb24gKHJlZmVyZW5jZTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlRW50aXR5ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIHJlZmVyZW5jZS5zb3VyY2VFbnRpdHlHdWlkKTtcclxuICAgICAgICAgICAgICAgIGlmICghc291cmNlRW50aXR5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHByZXZIaXN0b3J5ID0gc291cmNlRW50aXR5Lmhpc3RvcnkuZW5hYmxlZDtcclxuICAgICAgICAgICAgICAgIHNvdXJjZUVudGl0eS5oaXN0b3J5LmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNvdXJjZUVudGl0eS5zZXQoJ2NvbXBvbmVudHMuJyArIHJlZmVyZW5jZS5jb21wb25lbnROYW1lICsgJy4nICsgcmVmZXJlbmNlLmZpZWxkTmFtZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgc291cmNlRW50aXR5Lmhpc3RvcnkuZW5hYmxlZCA9IHByZXZIaXN0b3J5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGFkZEVudGl0eSA9IGZ1bmN0aW9uIChlbnRpdHk6IE9ic2VydmVyLCBwYXJlbnQ6IE9ic2VydmVyLCBzZWxlY3Q6IGJvb2xlYW4sIGluZDogbnVtYmVyIHwgdW5kZWZpbmVkLCBlbnRpdHlSZWZlcmVuY2VzTWFwOiBhbnkpIHtcclxuICAgICAgICAgICAgZW50aXR5UmVmZXJlbmNlc01hcCA9IGVudGl0eVJlZmVyZW5jZXNNYXAgfHwge307XHJcbiAgICAgICAgICAgIC8vIGluZCA9IGluZCB8fCAwO1xyXG5cclxuICAgICAgICAgICAgY2hpbGRUb1BhcmVudFtlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpXSA9IHBhcmVudC5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBlbnRpdHkuZ2V0KCdjaGlsZHJlbicpO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgZW50aXR5LnNldCgnY2hpbGRyZW4nLCBbXSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjYWxsIGFkZCBldmVudFxyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6YWRkJywgZW50aXR5KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoZW50aXR5KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzog5LiK5Lyg5Yiw5pyN5Yqh5ZmoXHJcbiAgICAgICAgICAgIC8vIHNoYXJlRGIgXHJcbiAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdyZWFsdGltZTpzY2VuZTpvcCcsIHtcclxuICAgICAgICAgICAgLy8gICAgIHA6IFsnZW50aXRpZXMnLCBlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpXSxcclxuICAgICAgICAgICAgLy8gICAgIG9pOiBlbnRpdHkub3JpZ2luXHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIHRoZSBlbnRpdHkgdG8gYmUgYWRkZWQgdG8gdGhlIHRyZWUgdmlld1xyXG4gICAgICAgICAgICAvLyBwYXJlbnQuaGlzdG9yeS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIOa3u+WKoHRyZWUgaXRlbSDoj5zljZXlhaXlj6NcclxuICAgICAgICAgICAgcGFyZW50Lmluc2VydCgnY2hpbGRyZW4nLCBlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpLCBpbmQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4ocGFyZW50KTtcclxuXHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gcGFyZW50Lmhpc3RvcnkuZW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAoc2VsZWN0KSB7XHJcbiAgICAgICAgICAgIC8vICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aGlzdG9yeScsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgJ2VudGl0eScsIFtlbnRpdHldKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBlZGl0b3Iub25jZSgnc2VsZWN0b3I6Y2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aGlzdG9yeScsIHRydWUpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBjaGlsZHJlbiB0b29cclxuICAgICAgICAgICAgLy8gY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRJZE9yRGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgIC8vICAgICB2YXIgZGF0YTtcclxuXHJcbiAgICAgICAgICAgIC8vICAgICAvLyBJZiB3ZSd2ZSBiZWVuIHByb3ZpZGVkIGFuIGlkLCB3ZSdyZSByZS1jcmVhdGluZyBjaGlsZHJlbiBmcm9tIHRoZSBkZWxldGVkQ2FjaGVcclxuICAgICAgICAgICAgLy8gICAgIGlmICh0eXBlb2YgY2hpbGRJZE9yRGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBkYXRhID0gZGVsZXRlZENhY2hlW2NoaWxkSWRPckRhdGFdO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIC8vIElmIHdlJ3ZlIGJlZW4gcHJvdmlkZWQgYW4gb2JqZWN0LCB3ZSdyZSBjcmVhdGluZyBjaGlsZHJlbiBmb3IgYSBuZXcgZW50aXR5XHJcbiAgICAgICAgICAgIC8vICAgICB9IFxyXG5cclxuICAgICAgICAgICAgLy8gICAgIHZhciBjaGlsZCA9IG5ldyBPYnNlcnZlcihkYXRhKTtcclxuICAgICAgICAgICAgLy8gICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgLy8gICAgIGFkZEVudGl0eShjaGlsZCwgZW50aXR5LCBmYWxzZSwgMCwgZW50aXR5UmVmZXJlbmNlc01hcCk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAgICAgQmFieWxvbkxvYWRlci5hZGRTY2VuZURhdGEoZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKSwgZW50aXR5Lm9yaWdpbik7XHJcblxyXG4gICAgICAgICAgICAvLyBIb29rIHVwIGFueSBlbnRpdHkgcmVmZXJlbmNlcyB3aGljaCBuZWVkIHRvIGJlIHBvaW50ZWQgdG8gdGhpcyBuZXdseSBjcmVhdGVkIGVudGl0eVxyXG4gICAgICAgICAgICAvLyAoaGFwcGVucyB3aGVuIGFkZEVudGl0eSgpIGlzIGJlaW5nIGNhbGxlZCBkdXJpbmcgdGhlIHVuZG9pbmcgb2YgYSBkZWxldGlvbikuIEluIG9yZGVyXHJcbiAgICAgICAgICAgIC8vIHRvIGZvcmNlIGNvbXBvbmVudHMgdG8gcmVzcG9uZCB0byB0aGUgc2V0dGVyIGNhbGwgZXZlbiB3aGVuIHRoZXkgYXJlIHJ1bm5pbmcgaW4gb3RoZXJcclxuICAgICAgICAgICAgLy8gdGFicyBvciBpbiB0aGUgTGF1bmNoIHdpbmRvdywgd2UgdW5mb3J0dW5hdGVseSBoYXZlIHRvIHVzZSBhIHNldFRpbWVvdXQoKSBoYWNrIDooXHJcbiAgICAgICAgICAgIC8vIHZhciBndWlkID0gZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpcnN0IHNldCBhbGwgZW50aXR5IHJlZmVyZW5jZSBmaWVsZHMgdGFyZ2V0aW5nIHRoaXMgZ3VpZCB0byBudWxsXHJcbiAgICAgICAgICAgIC8vIFRPRE86IOW+heWumu+8jOabtOaWsOWxnuaAp+iPnOWNlVxyXG4gICAgICAgICAgICAvLyB1cGRhdGVFbnRpdHlSZWZlcmVuY2VGaWVsZHMoZW50aXR5UmVmZXJlbmNlc01hcCwgZ3VpZCwgbnVsbCk7XHJcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyAgICAgLy8gVGhlbiB1cGRhdGUgdGhlIHNhbWUgZmllbGRzIHRvIHRhcmdldCB0aGUgZ3VpZCBhZ2FpblxyXG4gICAgICAgICAgICAvLyAgICAgdXBkYXRlRW50aXR5UmVmZXJlbmNlRmllbGRzKGVudGl0eVJlZmVyZW5jZXNNYXAsIGd1aWQsIGd1aWQpO1xyXG4gICAgICAgICAgICAvLyB9LCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIChlbnRpdHkuZ2V0KCdfX3Bvc3RDcmVhdGlvbkNhbGxiYWNrJykpIHtcclxuICAgICAgICAgICAgLy8gICAgIGVudGl0eS5nZXQoJ19fcG9zdENyZWF0aW9uQ2FsbGJhY2snKShlbnRpdHkpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHJlbW92ZUVudGl0eSA9IGZ1bmN0aW9uIChlbnRpdHk6IE9ic2VydmVyLCBlbnRpdHlSZWZlcmVuY2VzTWFwOiBhbnkpIHtcclxuICAgICAgICAgICAgZW50aXR5UmVmZXJlbmNlc01hcCA9IGVudGl0eVJlZmVyZW5jZXNNYXAgfHwge307XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZWRDYWNoZVtlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpXSA9IGVudGl0eS5qc29uKCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZWRDYWNoZVtlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpXSA9IGVudGl0eS5vcmlnaW47XHJcblxyXG4gICAgICAgICAgICAvLyBOdWxsaWZ5IGFueSBlbnRpdHkgcmVmZXJlbmNlcyB3aGljaCBjdXJyZW50bHkgcG9pbnQgdG8gdGhpcyBndWlkXHJcbiAgICAgICAgICAgIHVwZGF0ZUVudGl0eVJlZmVyZW5jZUZpZWxkcyhlbnRpdHlSZWZlcmVuY2VzTWFwLCBlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpLCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBjaGlsZHJlblxyXG4gICAgICAgICAgICBlbnRpdHkuZ2V0KCdjaGlsZHJlbicpLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6Z2V0JywgY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlbW92ZUVudGl0eShlbnRpdHksIGVudGl0eVJlZmVyZW5jZXNNYXApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IuY2FsbCgnc2VsZWN0b3I6dHlwZScpID09PSAnZW50aXR5JyAmJiBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aXRlbXMnKS5pbmRleE9mKGVudGl0eSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aGlzdG9yeScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpyZW1vdmUnLCBlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ3NlbGVjdG9yOmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6aGlzdG9yeScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHBhcmVudFxyXG4gICAgICAgICAgICB2YXIgcGFyZW50SWQgPSBjaGlsZFRvUGFyZW50W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50SWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6Z2V0JywgcGFyZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5oaXN0b3J5LmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlVmFsdWUoJ2NoaWxkcmVuJywgZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmhpc3RvcnkuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNhbGwgcmVtb3ZlIG1ldGhvZFxyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6cmVtb3ZlJywgZW50aXR5KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNoYXJlZGJcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3JlYWx0aW1lOnNjZW5lOm9wJywge1xyXG4gICAgICAgICAgICAgICAgcDogWydlbnRpdGllcycsIGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldLFxyXG4gICAgICAgICAgICAgICAgb2Q6IHt9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdlbnRpdGllczphZGRFbnRpdHknLCBhZGRFbnRpdHkpO1xyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2VudGl0aWVzOnJlbW92ZUVudGl0eScsIHJlbW92ZUVudGl0eSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2VudGl0aWVzOmdldFBhcmVudFJlc291cmNlSWQnLCBmdW5jdGlvbiAoY2hpbGRSZXNvdXJjZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkVG9QYXJlbnRbY2hpbGRSZXNvdXJjZUlkXTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6dXBkYXRlQ2hpbGRUb1BhcmVudEluZGV4JywgZnVuY3Rpb24gKGNoaWxkUmVzb3VyY2VJZDogc3RyaW5nLCBwYXJlbnRSZXNvdXJjZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgY2hpbGRUb1BhcmVudFtjaGlsZFJlc291cmNlSWRdID0gcGFyZW50UmVzb3VyY2VJZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6Z2V0RnJvbURlbGV0ZWRDYWNoZScsIGZ1bmN0aW9uIChyZXNvdXJjZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZWRDYWNoZVtyZXNvdXJjZUlkXTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ3NhdmU6c2NlbmUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIuc2F2ZVNjZW5lKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IEVudGl0aWVzIH0gZnJvbSAnLi9lbnRpdGllcyc7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAnLi4vLi4vbGliJztcclxuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAnLi4vbWlkZGxld2FyZS9sb2FkZXInO1xyXG5pbXBvcnQgeyBUb3BFbGVtZW50Q29udGFpbmVyLCBQcm9ncmVzcyB9IGZyb20gJy4uLy4uL3VpJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHlMb2FkIHtcclxuXHJcbiAgICBwdWJsaWMgbG9hZGVkRW50aXRpZXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvLyBwcml2YXRlIF9lbnRpdGllczogRW50aXRpZXMgPSBuZXcgRW50aXRpZXMoKTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHZhciBoaWVyYXJjaHlPdmVybGF5ID0gbmV3IFRvcEVsZW1lbnRDb250YWluZXIoe1xyXG4gICAgICAgICAgICBmbGV4OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaGllcmFyY2h5T3ZlcmxheS5jbGFzcyEuYWRkKCdwcm9ncmVzcy1vdmVybGF5Jyk7XHJcbiAgICAgICAgZWRpdG9yLmNhbGwoJ2xheW91dC5oaWVyYXJjaHknKS5hcHBlbmQoaGllcmFyY2h5T3ZlcmxheSk7XHJcblxyXG4gICAgICAgIHZhciBwID0gbmV3IFByb2dyZXNzKCk7XHJcbiAgICAgICAgcC5vbigncHJvZ3Jlc3M6MTAwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWVyYXJjaHlPdmVybGF5LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaGllcmFyY2h5T3ZlcmxheS5hcHBlbmQocCk7XHJcbiAgICAgICAgcC5oaWRkZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICB2YXIgbG9hZGVkRW50aXRpZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6bG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9hZGVkRW50aXRpZXM7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ3NjZW5lOnJhdycsIGZ1bmN0aW9uIChkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmNsZWFyJyk7XHJcbiAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdlbnRpdGllczpjbGVhcicpO1xyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgnYXR0cmlidXRlczpjbGVhcicpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdG90YWwgPSBPYmplY3Qua2V5cyhkYXRhLmVudGl0aWVzKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vIGxpc3RcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBlbnRpdHkgPSBuZXcgT2JzZXJ2ZXIoZGF0YS5lbnRpdGllc1trZXldKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdlbnRpdGllczphZGQnLCBlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgcC5wcm9ncmVzcyA9ICgrK2kgLyB0b3RhbCkgKiAwLjggKyAwLjE7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZW50aXRpZXNba2V5XS5yb290KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2NyZWF0ZTpzY2VuZTplbGVtZW50JywgZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcC5wcm9ncmVzcyA9IDE7XHJcblxyXG4gICAgICAgICAgICBsb2FkZWRFbnRpdGllcyA9IHRydWU7XHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdlbnRpdGllczpsb2FkJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmNsZWFyJyk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignc2NlbmU6dW5sb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6Y2xlYXInKTtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2F0dHJpYnV0ZXM6Y2xlYXInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdzY2VuZTpiZWZvcmVsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoaWVyYXJjaHlPdmVybGF5LmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwLnByb2dyZXNzID0gMC4xO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgcHVibGljIHNjZW5lX3Jhdyhyb3dfZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy8g6Kej5p6QZW50aXR5XHJcblxyXG4gICAgICAgIC8vIOa4heepulxyXG4gICAgICAgIC8vIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpjbGVhcicpO1xyXG4gICAgICAgIC8vIGVkaXRvci5jYWxsKCdlbnRpdGllczpjbGVhcicpO1xyXG4gICAgICAgIC8vIGVkaXRvci5jYWxsKCdhdHRyaWJ1dGVzOmNsZWFyJyk7XHJcblxyXG4gICAgICAgIC8vIExvYWRlci5hcHBlbmQocm93X2RhdGEpO1xyXG5cclxuICAgICAgICAvLyDliqDovb3ov5vluqbmnaHorqHnrpdcclxuICAgICAgICB2YXIgdG90YWwgPSBPYmplY3Qua2V5cyhyb3dfZGF0YS5lbnRpdGllcykubGVuZ3RoO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgICAgLy8gbGlzdCDmjKjkuKrop6PmnpBcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcm93X2RhdGEuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgLy8g5piv5ZCm6ZyA6KaB5Yqg5YWl5LiA5Liq5Lit6Ze057uT5p6EXHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0aWVzLmFkZFJhdyhyb3dfZGF0YS5lbnRpdGllc1trZXldKTtcclxuICAgICAgICAgICAgbGV0IGVudGl0eSA9IG5ldyBPYnNlcnZlcihyb3dfZGF0YS5lbnRpdGllc1trZXldKTtcclxuICAgICAgICAgICAgLy8gZGVidWcud2FybihlbnRpdHkuZ2V0KCduYW1lJykpO1xyXG4gICAgICAgICAgICAvLyBkZWJ1Zy53YXJuKGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJykpO1xyXG4gICAgICAgICAgICAvLyBpZiAoZW50aXR5LmhhcygnY29tcG9uZW50cy5yaWdpZGJvZHknKSkge1xyXG4gICAgICAgICAgICAvLyAgICAgZGVidWcud2FybihlbnRpdHkuZ2V0KCdjb21wb25lbnRzLnJpZ2lkYm9keS50eXBlJykpO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgnZW50aXRpZXM6YWRkJywgbmV3IE9ic2VydmVyKGRhdGEuZW50aXRpZXNba2V5XSkpO1xyXG4gICAgICAgICAgICAvLyBwLnByb2dyZXNzID0gKCsraSAvIHRvdGFsKSAqIDAuOCArIDAuMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHAucHJvZ3Jlc3MgPSAxO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRlZEVudGl0aWVzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8g6Kej5p6Q5a6M5oiQ77yM5YW25LuW6Z2i5p2/6K6+572uXHJcbiAgICAgICAgZWRpdG9yLmVtaXQoJ2VudGl0aWVzOmxvYWQnKTtcclxuICAgIH1cclxuICAgICovXHJcblxyXG59IiwiZXhwb3J0IGNsYXNzIEVudGl0eVN5bmMge1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBFbnRpdHkge1xyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgZ2V0KHN0cjogc3RyaW5nKSB7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIFxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vZW50aXR5JztcclxuZXhwb3J0ICogZnJvbSAnLi9lbnRpdGllcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZW50aXR5LWxvYWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2VudGl0eS1jcmVhdGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2VudGl0eS1zeW5jJztcclxuZXhwb3J0ICogZnJvbSAnLi9lbnRpdHktZWRpdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4va2VlcGVyJzsiLCJpbXBvcnQgeyBFbnRpdHlMb2FkIH0gZnJvbSBcIi4vZW50aXR5LWxvYWRcIjtcclxuaW1wb3J0IHsgRW50aXRpZXMgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBFbnRpdHlDcmVhdGUgfSBmcm9tIFwiLi9lbnRpdHktY3JlYXRlXCI7XHJcbmltcG9ydCB7IEVudGl0eVN5bmMgfSBmcm9tIFwiLi9lbnRpdHktc3luY1wiO1xyXG5pbXBvcnQgeyBFbnRpdHlFZGl0IH0gZnJvbSBcIi4vZW50aXR5LWVkaXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHlLZWVwZXIge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgbmV3IEVudGl0aWVzKCk7XHJcblxyXG4gICAgICAgIG5ldyBFbnRpdHlFZGl0KCk7XHJcblxyXG4gICAgICAgIG5ldyBFbnRpdHlDcmVhdGUoKTtcclxuXHJcbiAgICAgICAgbmV3IEVudGl0eUxvYWQoKTtcclxuXHJcbiAgICAgICAgbmV3IEVudGl0eVN5bmMoKTtcclxuXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxufSIsIi8vIGltcG9ydCB7IE9ic2VydmVyLCBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL01pc2Mvb2JzZXJ2YWJsZVwiO1xyXG4vLyBpbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG4vLyBpbXBvcnQgeyBQb2ludGVySW5mbyB9IGZyb20gXCIuLi9FdmVudHMvcG9pbnRlckV2ZW50c1wiO1xyXG4vLyBpbXBvcnQgeyBWZWN0b3IzLCBNYXRyaXggfSBmcm9tIFwiLi4vTWF0aHMvbWF0aC52ZWN0b3JcIjtcclxuLy8gaW1wb3J0IHsgVHJhbnNmb3JtTm9kZSB9IGZyb20gXCIuLi9NZXNoZXMvdHJhbnNmb3JtTm9kZVwiO1xyXG4vLyBpbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4uL25vZGVcIjtcclxuLy8gaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvbWVzaFwiO1xyXG4vLyBpbXBvcnQgeyBMaW5lc01lc2ggfSBmcm9tIFwiLi4vTWVzaGVzL2xpbmVzTWVzaFwiO1xyXG4vLyBpbXBvcnQgeyBDeWxpbmRlckJ1aWxkZXIgfSBmcm9tIFwiLi4vTWVzaGVzL0J1aWxkZXJzL2N5bGluZGVyQnVpbGRlclwiO1xyXG4vLyBpbXBvcnQgeyBQb2ludGVyRHJhZ0JlaGF2aW9yIH0gZnJvbSBcIi4uL0JlaGF2aW9ycy9NZXNoZXMvcG9pbnRlckRyYWdCZWhhdmlvclwiO1xyXG5pbXBvcnQgeyBHaXptbyB9IGZyb20gXCIuL2dpem1vXCI7XHJcbi8vIGltcG9ydCB7IFV0aWxpdHlMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL1JlbmRlcmluZy91dGlsaXR5TGF5ZXJSZW5kZXJlclwiO1xyXG4vLyBpbXBvcnQgeyBTdGFuZGFyZE1hdGVyaWFsIH0gZnJvbSBcIi4uL01hdGVyaWFscy9zdGFuZGFyZE1hdGVyaWFsXCI7XHJcbi8vIGltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4uL3NjZW5lXCI7XHJcbmltcG9ydCB7IFBvc2l0aW9uR2l6bW8gfSBmcm9tIFwiLi9wb3NpdGlvbkdpem1vXCI7XHJcbi8vIGltcG9ydCB7IENvbG9yMyB9IGZyb20gJy4uL01hdGhzL21hdGguY29sb3InO1xyXG4vKipcclxuICogU2luZ2xlIGF4aXMgZHJhZyBnaXptb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF4aXNEcmFnR2l6bW8gZXh0ZW5kcyBHaXptbyB7XHJcbiAgICAvKipcclxuICAgICAqIERyYWcgYmVoYXZpb3IgcmVzcG9uc2libGUgZm9yIHRoZSBnaXptb3MgZHJhZ2dpbmcgaW50ZXJhY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkcmFnQmVoYXZpb3I6IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcjtcclxuICAgIHByaXZhdGUgX3BvaW50ZXJPYnNlcnZlcjogTnVsbGFibGU8QkFCWUxPTi5PYnNlcnZlcjxCQUJZTE9OLlBvaW50ZXJJbmZvPj4gPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBEcmFnIGRpc3RhbmNlIGluIGJhYnlsb24gdW5pdHMgdGhhdCB0aGUgZ2l6bW8gd2lsbCBzbmFwIHRvIHdoZW4gZHJhZ2dlZCAoRGVmYXVsdDogMClcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNuYXBEaXN0YW5jZSA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50IHRoYXQgZmlyZXMgZWFjaCB0aW1lIHRoZSBnaXptbyBzbmFwcyB0byBhIG5ldyBsb2NhdGlvbi5cclxuICAgICAqICogc25hcERpc3RhbmNlIGlzIHRoZSB0aGUgY2hhbmdlIGluIGRpc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblNuYXBPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTx7IHNuYXBEaXN0YW5jZTogbnVtYmVyIH0+KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBfaXNFbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgX3BhcmVudDogTnVsbGFibGU8UG9zaXRpb25HaXptbz4gPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX2Fycm93OiBCQUJZTE9OLlRyYW5zZm9ybU5vZGU7XHJcbiAgICBwcml2YXRlIF9jb2xvcmVkTWF0ZXJpYWw6IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbDtcclxuICAgIHByaXZhdGUgX2hvdmVyTWF0ZXJpYWw6IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbDtcclxuXHJcbiAgICAvKiogQGhpZGRlbiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBfQ3JlYXRlQXJyb3coc2NlbmU6IEJBQllMT04uU2NlbmUsIG1hdGVyaWFsOiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwsIHRoaWNrbmVzczogbnVtYmVyID0gMSk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7XHJcbiAgICAgICAgdmFyIGFycm93ID0gbmV3IEJBQllMT04uVHJhbnNmb3JtTm9kZShcImFycm93XCIsIHNjZW5lKTtcclxuICAgICAgICB2YXIgY3lsaW5kZXIgPSBCQUJZTE9OLkN5bGluZGVyQnVpbGRlci5DcmVhdGVDeWxpbmRlcihcImN5bGluZGVyXCIsIHsgZGlhbWV0ZXJUb3A6IDAsIGhlaWdodDogMC4wNzUsIGRpYW1ldGVyQm90dG9tOiAwLjAzNzUgKiAoMSArICh0aGlja25lc3MgLSAxKSAvIDQpLCB0ZXNzZWxsYXRpb246IDk2IH0sIHNjZW5lKTtcclxuICAgICAgICB2YXIgbGluZSA9IEJBQllMT04uQ3lsaW5kZXJCdWlsZGVyLkNyZWF0ZUN5bGluZGVyKFwiY3lsaW5kZXJcIiwgeyBkaWFtZXRlclRvcDogMC4wMDUgKiB0aGlja25lc3MsIGhlaWdodDogMC4yNzUsIGRpYW1ldGVyQm90dG9tOiAwLjAwNSAqIHRoaWNrbmVzcywgdGVzc2VsbGF0aW9uOiA5NiB9LCBzY2VuZSk7XHJcbiAgICAgICAgbGluZS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG4gICAgICAgIGN5bGluZGVyLnBhcmVudCA9IGFycm93O1xyXG4gICAgICAgIGxpbmUucGFyZW50ID0gYXJyb3c7XHJcblxyXG4gICAgICAgIC8vIFBvc2l0aW9uIGFycm93IHBvaW50aW5nIGluIGl0cyBkcmFnIGF4aXNcclxuICAgICAgICBjeWxpbmRlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG4gICAgICAgIGN5bGluZGVyLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICBjeWxpbmRlci5wb3NpdGlvbi56ICs9IDAuMztcclxuICAgICAgICBsaW5lLnBvc2l0aW9uLnogKz0gMC4yNzUgLyAyO1xyXG4gICAgICAgIGxpbmUucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgIHJldHVybiBhcnJvdztcclxuICAgIH1cclxuXHJcbiAgICAvKiogQGhpZGRlbiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBfQ3JlYXRlQXJyb3dJbnN0YW5jZShzY2VuZTogQkFCWUxPTi5TY2VuZSwgYXJyb3c6IEJBQllMT04uVHJhbnNmb3JtTm9kZSk6IEJBQllMT04uVHJhbnNmb3JtTm9kZSB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwiYXJyb3dcIiwgc2NlbmUpO1xyXG4gICAgICAgIGZvciAoY29uc3QgbWVzaCBvZiBhcnJvdy5nZXRDaGlsZE1lc2hlcygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkSW5zdGFuY2UgPSAobWVzaCBhcyBCQUJZTE9OLk1lc2gpLmNyZWF0ZUluc3RhbmNlKG1lc2gubmFtZSk7XHJcbiAgICAgICAgICAgIGNoaWxkSW5zdGFuY2UucGFyZW50ID0gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gQXhpc0RyYWdHaXptb1xyXG4gICAgICogQHBhcmFtIGdpem1vTGF5ZXIgVGhlIHV0aWxpdHkgbGF5ZXIgdGhlIGdpem1vIHdpbGwgYmUgYWRkZWQgdG9cclxuICAgICAqIEBwYXJhbSBkcmFnQXhpcyBUaGUgYXhpcyB3aGljaCB0aGUgZ2l6bW8gd2lsbCBiZSBhYmxlIHRvIGRyYWcgb25cclxuICAgICAqIEBwYXJhbSBjb2xvciBUaGUgY29sb3Igb2YgdGhlIGdpem1vXHJcbiAgICAgKiBAcGFyYW0gdGhpY2tuZXNzIGRpc3BsYXkgZ2l6bW8gYXhpcyB0aGlja25lc3NcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZHJhZ0F4aXM6IEJBQllMT04uVmVjdG9yMywgY29sb3I6IEJBQllMT04uQ29sb3IzID0gQkFCWUxPTi5Db2xvcjMuR3JheSgpLCBnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyLCBwYXJlbnQ6IE51bGxhYmxlPFBvc2l0aW9uR2l6bW8+ID0gbnVsbCwgdGhpY2tuZXNzOiBudW1iZXIgPSAxKSB7XHJcbiAgICAgICAgc3VwZXIoZ2l6bW9MYXllcik7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIC8vIENyZWF0ZSBNYXRlcmlhbFxyXG4gICAgICAgIHRoaXMuX2NvbG9yZWRNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgdGhpcy5fY29sb3JlZE1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuX2NvbG9yZWRNYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gY29sb3Iuc3VidHJhY3QobmV3IEJBQllMT04uQ29sb3IzKDAuMSwgMC4xLCAwLjEpKTtcclxuXHJcbiAgICAgICAgdGhpcy5faG92ZXJNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgdGhpcy5faG92ZXJNYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBjb2xvci5hZGQobmV3IEJBQllMT04uQ29sb3IzKDAuMywgMC4zLCAwLjMpKTtcclxuXHJcbiAgICAgICAgLy8gQnVpbGQgbWVzaCBvbiByb290IG5vZGVcclxuICAgICAgICB0aGlzLl9hcnJvdyA9IEF4aXNEcmFnR2l6bW8uX0NyZWF0ZUFycm93KGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUsIHRoaXMuX2NvbG9yZWRNYXRlcmlhbCwgdGhpY2tuZXNzKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYXJyb3cubG9va0F0KHRoaXMuX3Jvb3RNZXNoLnBvc2l0aW9uLmFkZChkcmFnQXhpcykpO1xyXG4gICAgICAgIHRoaXMuX2Fycm93LnNjYWxpbmcuc2NhbGVJblBsYWNlKDEgLyAzKTtcclxuICAgICAgICB0aGlzLl9hcnJvdy5wYXJlbnQgPSB0aGlzLl9yb290TWVzaDtcclxuXHJcbiAgICAgICAgdmFyIGN1cnJlbnRTbmFwRHJhZ0Rpc3RhbmNlID0gMDtcclxuICAgICAgICB2YXIgdG1wVmVjdG9yID0gbmV3IEJBQllMT04uVmVjdG9yMygpO1xyXG4gICAgICAgIHZhciB0bXBTbmFwRXZlbnQgPSB7IHNuYXBEaXN0YW5jZTogMCB9O1xyXG4gICAgICAgIC8vIEFkZCBkcmFnIGJlaGF2aW9yIHRvIGhhbmRsZSBldmVudHMgd2hlbiB0aGUgZ2l6bW8gaXMgZHJhZ2dlZFxyXG4gICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yID0gbmV3IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcih7IGRyYWdBeGlzOiBkcmFnQXhpcyB9KTtcclxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5tb3ZlQXR0YWNoZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9yb290TWVzaC5hZGRCZWhhdmlvcih0aGlzLmRyYWdCZWhhdmlvcik7XHJcblxyXG4gICAgICAgIHZhciBsb2NhbERlbHRhID0gbmV3IEJBQllMT04uVmVjdG9yMygpO1xyXG4gICAgICAgIHZhciB0bXBNYXRyaXggPSBuZXcgQkFCWUxPTi5NYXRyaXgoKTtcclxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5vbkRyYWdPYnNlcnZhYmxlLmFkZCgoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGRlbHRhIHRvIGxvY2FsIHRyYW5zbGF0aW9uIGlmIGl0IGhhcyBhIHBhcmVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWROb2RlLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWROb2RlLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHRtcE1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wTWF0cml4LnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihldmVudC5kZWx0YSwgdG1wTWF0cml4LCBsb2NhbERlbHRhKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxEZWx0YS5jb3B5RnJvbShldmVudC5kZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFNuYXBwaW5nIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zbmFwRGlzdGFuY2UgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy5hdHRhY2hlZE5vZGUgYXMgYW55KS5wb3NpdGlvbikgeyAvLyBSZXF1aXJlZCBmb3Igbm9kZXMgbGlrZSBsaWdodHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYXR0YWNoZWROb2RlIGFzIGFueSkucG9zaXRpb24uYWRkSW5QbGFjZUZyb21GbG9hdHMobG9jYWxEZWx0YS54LCBsb2NhbERlbHRhLnksIGxvY2FsRGVsdGEueik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZSBfd29ybGRNYXRyaXggdG8gbm90IGZvcmNlIGEgbWF0cml4IHVwZGF0ZSB3aGVuIGNhbGxpbmcgR2V0V29ybGRNYXRyaXggZXNwZWNpYWx5IHdpdGggQ2FtZXJhc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWROb2RlLl93b3JsZE1hdHJpeC5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHMobG9jYWxEZWx0YS54LCBsb2NhbERlbHRhLnksIGxvY2FsRGVsdGEueik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUudXBkYXRlQ2FjaGUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgKz0gZXZlbnQuZHJhZ0Rpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50U25hcERyYWdEaXN0YW5jZSkgPiB0aGlzLnNuYXBEaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ1N0ZXBzID0gTWF0aC5mbG9vcihNYXRoLmFicyhjdXJyZW50U25hcERyYWdEaXN0YW5jZSkgLyB0aGlzLnNuYXBEaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbmFwRHJhZ0Rpc3RhbmNlID0gY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgJSB0aGlzLnNuYXBEaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxEZWx0YS5ub3JtYWxpemVUb1JlZih0bXBWZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXBWZWN0b3Iuc2NhbGVJblBsYWNlKHRoaXMuc25hcERpc3RhbmNlICogZHJhZ1N0ZXBzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUuX3dvcmxkTWF0cml4LmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyh0bXBWZWN0b3IueCwgdG1wVmVjdG9yLnksIHRtcFZlY3Rvci56KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUudXBkYXRlQ2FjaGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wU25hcEV2ZW50LnNuYXBEaXN0YW5jZSA9IHRoaXMuc25hcERpc3RhbmNlICogZHJhZ1N0ZXBzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU25hcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRtcFNuYXBFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlcmF0aW9uVHlwZSA9ICd0cmFuc2xhdGUnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvaW50ZXJPYnNlcnZlciA9IGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQoKHBvaW50ZXJJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXN0b21NZXNoU2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGlzSG92ZXJlZCA9IHBvaW50ZXJJbmZvLnBpY2tJbmZvICYmICh0aGlzLl9yb290TWVzaC5nZXRDaGlsZE1lc2hlcygpLmluZGV4T2YoPEJBQllMT04uTWVzaD5wb2ludGVySW5mby5waWNrSW5mby5waWNrZWRNZXNoKSAhPSAtMSk7XHJcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IGlzSG92ZXJlZCA/IHRoaXMuX2hvdmVyTWF0ZXJpYWwgOiB0aGlzLl9jb2xvcmVkTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RNZXNoLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG4gICAgICAgICAgICAgICAgaWYgKCg8QkFCWUxPTi5MaW5lc01lc2g+bSkuY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAoPEJBQllMT04uTGluZXNNZXNoPm0pLmNvbG9yID0gbWF0ZXJpYWwuZGlmZnVzZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGxpZ2h0ID0gZ2l6bW9MYXllci5fZ2V0U2hhcmVkR2l6bW9MaWdodCgpO1xyXG4gICAgICAgIGxpZ2h0LmluY2x1ZGVkT25seU1lc2hlcyA9IGxpZ2h0LmluY2x1ZGVkT25seU1lc2hlcy5jb25jYXQodGhpcy5fcm9vdE1lc2guZ2V0Q2hpbGRNZXNoZXMoZmFsc2UpKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBfYXR0YWNoZWROb2RlQ2hhbmdlZCh2YWx1ZTogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPikge1xyXG4gICAgICAgIGlmICh0aGlzLmRyYWdCZWhhdmlvcikge1xyXG4gICAgICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5lbmFibGVkID0gdmFsdWUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSWYgdGhlIGdpem1vIGlzIGVuYWJsZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldCBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ggPSB0aGlzLl9wYXJlbnQuYXR0YWNoZWRNZXNoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUgPSB0aGlzLl9wYXJlbnQuYXR0YWNoZWROb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRW5hYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLm9uU25hcE9ic2VydmFibGUuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlck9ic2VydmVyKTtcclxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5kZXRhY2goKTtcclxuICAgICAgICBpZiAodGhpcy5fYXJyb3cpIHtcclxuICAgICAgICAgICAgdGhpcy5fYXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBbdGhpcy5fY29sb3JlZE1hdGVyaWFsLCB0aGlzLl9ob3Zlck1hdGVyaWFsXS5mb3JFYWNoKChtYXRsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtYXRsKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRsLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBpbXBvcnQgeyBPYnNlcnZlciwgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9NaXNjL29ic2VydmFibGVcIjtcclxuLy8gaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuLy8gaW1wb3J0IHsgUG9pbnRlckluZm8gfSBmcm9tIFwiLi4vRXZlbnRzL3BvaW50ZXJFdmVudHNcIjtcclxuLy8gaW1wb3J0IHsgVmVjdG9yMywgTWF0cml4IH0gZnJvbSBcIi4uL01hdGhzL21hdGgudmVjdG9yXCI7XHJcbi8vIGltcG9ydCB7IEFic3RyYWN0TWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvYWJzdHJhY3RNZXNoXCI7XHJcbi8vIGltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi4vbm9kZVwiO1xyXG4vLyBpbXBvcnQgeyBNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9tZXNoXCI7XHJcbi8vIGltcG9ydCB7IExpbmVzTWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvbGluZXNNZXNoXCI7XHJcbi8vIGltcG9ydCB7IEJveEJ1aWxkZXIgfSBmcm9tIFwiLi4vTWVzaGVzL0J1aWxkZXJzL2JveEJ1aWxkZXJcIjtcclxuLy8gaW1wb3J0IHsgQ3lsaW5kZXJCdWlsZGVyIH0gZnJvbSBcIi4uL01lc2hlcy9CdWlsZGVycy9jeWxpbmRlckJ1aWxkZXJcIjtcclxuLy8gaW1wb3J0IHsgU3RhbmRhcmRNYXRlcmlhbCB9IGZyb20gXCIuLi9NYXRlcmlhbHMvc3RhbmRhcmRNYXRlcmlhbFwiO1xyXG4vLyBpbXBvcnQgeyBQb2ludGVyRHJhZ0JlaGF2aW9yIH0gZnJvbSBcIi4uL0JlaGF2aW9ycy9NZXNoZXMvcG9pbnRlckRyYWdCZWhhdmlvclwiO1xyXG5pbXBvcnQgeyBHaXptbyB9IGZyb20gXCIuL2dpem1vXCI7XHJcbi8vIGltcG9ydCB7IFV0aWxpdHlMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL1JlbmRlcmluZy91dGlsaXR5TGF5ZXJSZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBTY2FsZUdpem1vIH0gZnJvbSBcIi4vc2NhbGVHaXptb1wiO1xyXG4vLyBpbXBvcnQgeyBDb2xvcjMgfSBmcm9tICcuLi9NYXRocy9tYXRoLmNvbG9yJztcclxuXHJcbi8qKlxyXG4gKiBTaW5nbGUgYXhpcyBzY2FsZSBnaXptb1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF4aXNTY2FsZUdpem1vIGV4dGVuZHMgR2l6bW8ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBEcmFnIGJlaGF2aW9yIHJlc3BvbnNpYmxlIGZvciB0aGUgZ2l6bW9zIGRyYWdnaW5nIGludGVyYWN0aW9uc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZHJhZ0JlaGF2aW9yOiBCQUJZTE9OLlBvaW50ZXJEcmFnQmVoYXZpb3I7XHJcbiAgICBwcml2YXRlIF9wb2ludGVyT2JzZXJ2ZXI6IE51bGxhYmxlPEJBQllMT04uT2JzZXJ2ZXI8QkFCWUxPTi5Qb2ludGVySW5mbz4+ID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogU2NhbGUgZGlzdGFuY2UgaW4gYmFieWxvbiB1bml0cyB0aGF0IHRoZSBnaXptbyB3aWxsIHNuYXAgdG8gd2hlbiBkcmFnZ2VkIChEZWZhdWx0OiAwKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc25hcERpc3RhbmNlID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgdGhhdCBmaXJlcyBlYWNoIHRpbWUgdGhlIGdpem1vIHNuYXBzIHRvIGEgbmV3IGxvY2F0aW9uLlxyXG4gICAgICogKiBzbmFwRGlzdGFuY2UgaXMgdGhlIHRoZSBjaGFuZ2UgaW4gZGlzdGFuY2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9uU25hcE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPHsgc25hcERpc3RhbmNlOiBudW1iZXIgfT4oKTtcclxuICAgIC8qKlxyXG4gICAgICogSWYgdGhlIHNjYWxpbmcgb3BlcmF0aW9uIHNob3VsZCBiZSBkb25lIG9uIGFsbCBheGlzIChkZWZhdWx0OiBmYWxzZSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVuaWZvcm1TY2FsaW5nID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIEN1c3RvbSBzZW5zaXRpdml0eSB2YWx1ZSBmb3IgdGhlIGRyYWcgc3RyZW5ndGhcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNlbnNpdGl2aXR5ID0gMTtcclxuXHJcbiAgICBwcml2YXRlIF9pc0VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBfcGFyZW50OiBOdWxsYWJsZTxTY2FsZUdpem1vPiA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfYXJyb3c6IEJBQllMT04uQWJzdHJhY3RNZXNoO1xyXG4gICAgcHJpdmF0ZSBfY29sb3JlZE1hdGVyaWFsOiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWw7XHJcbiAgICBwcml2YXRlIF9ob3Zlck1hdGVyaWFsOiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIEF4aXNTY2FsZUdpem1vXHJcbiAgICAgKiBAcGFyYW0gZ2l6bW9MYXllciBUaGUgdXRpbGl0eSBsYXllciB0aGUgZ2l6bW8gd2lsbCBiZSBhZGRlZCB0b1xyXG4gICAgICogQHBhcmFtIGRyYWdBeGlzIFRoZSBheGlzIHdoaWNoIHRoZSBnaXptbyB3aWxsIGJlIGFibGUgdG8gc2NhbGUgb25cclxuICAgICAqIEBwYXJhbSBjb2xvciBUaGUgY29sb3Igb2YgdGhlIGdpem1vXHJcbiAgICAgKiBAcGFyYW0gdGhpY2tuZXNzIGRpc3BsYXkgZ2l6bW8gYXhpcyB0aGlja25lc3NcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZHJhZ0F4aXM6IEJBQllMT04uVmVjdG9yMywgY29sb3I6IEJBQllMT04uQ29sb3IzID0gQkFCWUxPTi5Db2xvcjMuR3JheSgpLCBnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyLCBwYXJlbnQ6IE51bGxhYmxlPFNjYWxlR2l6bW8+ID0gbnVsbCwgdGhpY2tuZXNzOiBudW1iZXIgPSAxKSB7XHJcbiAgICAgICAgc3VwZXIoZ2l6bW9MYXllcik7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIC8vIENyZWF0ZSBNYXRlcmlhbFxyXG4gICAgICAgIHRoaXMuX2NvbG9yZWRNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgdGhpcy5fY29sb3JlZE1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuX2NvbG9yZWRNYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gY29sb3Iuc3VidHJhY3QobmV3IEJBQllMT04uQ29sb3IzKDAuMSwgMC4xLCAwLjEpKTtcclxuXHJcbiAgICAgICAgdGhpcy5faG92ZXJNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgdGhpcy5faG92ZXJNYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBjb2xvci5hZGQobmV3IEJBQllMT04uQ29sb3IzKDAuMywgMC4zLCAwLjMpKTtcclxuXHJcbiAgICAgICAgLy8gQnVpbGQgbWVzaCBvbiByb290IG5vZGVcclxuICAgICAgICB0aGlzLl9hcnJvdyA9IG5ldyBCQUJZTE9OLkFic3RyYWN0TWVzaChcIlwiLCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB2YXIgYXJyb3dNZXNoID0gQkFCWUxPTi5Cb3hCdWlsZGVyLkNyZWF0ZUJveChcInlQb3NNZXNoXCIsIHsgc2l6ZTogMC40ICogKDEgKyAodGhpY2tuZXNzIC0gMSkgLyA0KSB9LCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB2YXIgYXJyb3dUYWlsID0gQkFCWUxPTi5DeWxpbmRlckJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIoXCJjeWxpbmRlclwiLCB7IGRpYW1ldGVyVG9wOiAwLjAwNSAqIHRoaWNrbmVzcywgaGVpZ2h0OiAwLjI3NSwgZGlhbWV0ZXJCb3R0b206IDAuMDA1ICogdGhpY2tuZXNzLCB0ZXNzZWxsYXRpb246IDk2IH0sIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgIGFycm93VGFpbC5tYXRlcmlhbCA9IHRoaXMuX2NvbG9yZWRNYXRlcmlhbDtcclxuICAgICAgICB0aGlzLl9hcnJvdy5hZGRDaGlsZChhcnJvd01lc2gpO1xyXG4gICAgICAgIHRoaXMuX2Fycm93LmFkZENoaWxkKGFycm93VGFpbCk7XHJcblxyXG4gICAgICAgIC8vIFBvc2l0aW9uIGFycm93IHBvaW50aW5nIGluIGl0cyBkcmFnIGF4aXNcclxuICAgICAgICBhcnJvd01lc2guc2NhbGluZy5zY2FsZUluUGxhY2UoMC4xKTtcclxuICAgICAgICBhcnJvd01lc2gubWF0ZXJpYWwgPSB0aGlzLl9jb2xvcmVkTWF0ZXJpYWw7XHJcbiAgICAgICAgYXJyb3dNZXNoLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICBhcnJvd01lc2gucG9zaXRpb24ueiArPSAwLjM7XHJcbiAgICAgICAgYXJyb3dUYWlsLnBvc2l0aW9uLnogKz0gMC4yNzUgLyAyO1xyXG4gICAgICAgIGFycm93VGFpbC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgdGhpcy5fYXJyb3cubG9va0F0KHRoaXMuX3Jvb3RNZXNoLnBvc2l0aW9uLmFkZChkcmFnQXhpcykpO1xyXG4gICAgICAgIHRoaXMuX3Jvb3RNZXNoLmFkZENoaWxkKHRoaXMuX2Fycm93KTtcclxuICAgICAgICB0aGlzLl9hcnJvdy5zY2FsaW5nLnNjYWxlSW5QbGFjZSgxIC8gMyk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBkcmFnIGJlaGF2aW9yIHRvIGhhbmRsZSBldmVudHMgd2hlbiB0aGUgZ2l6bW8gaXMgZHJhZ2dlZFxyXG4gICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yID0gbmV3IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcih7IGRyYWdBeGlzOiBkcmFnQXhpcyB9KTtcclxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5tb3ZlQXR0YWNoZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9yb290TWVzaC5hZGRCZWhhdmlvcih0aGlzLmRyYWdCZWhhdmlvcik7XHJcblxyXG4gICAgICAgIHZhciBjdXJyZW50U25hcERyYWdEaXN0YW5jZSA9IDA7XHJcbiAgICAgICAgdmFyIHRtcFZlY3RvciA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoKTtcclxuICAgICAgICB2YXIgdG1wU25hcEV2ZW50ID0geyBzbmFwRGlzdGFuY2U6IDAgfTtcclxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5vbkRyYWdPYnNlcnZhYmxlLmFkZCgoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEcmFnIHN0cmVuZ3RoIGlzIG1vZGlmaWVkIGJ5IHRoZSBzY2FsZSBvZiB0aGUgZ2l6bW8gKGVnLiBmb3Igc21hbGwgb2JqZWN0cyBsaWtlIGJvb21ib3ggdGhlIHN0cmVuZ3RoIHdpbGwgYmUgaW5jcmVhc2VkIHRvIG1hdGNoIHRoZSBiZWhhdmlvciBvZiBsYXJnZXIgb2JqZWN0cylcclxuICAgICAgICAgICAgICAgIHZhciBkcmFnU3RyZW5ndGggPSB0aGlzLnNlbnNpdGl2aXR5ICogZXZlbnQuZHJhZ0Rpc3RhbmNlICogKCh0aGlzLnNjYWxlUmF0aW8gKiAzKSAvIHRoaXMuX3Jvb3RNZXNoLnNjYWxpbmcubGVuZ3RoKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNuYXBwaW5nIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICB2YXIgc25hcHBlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRyYWdTdGVwcyA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51bmlmb3JtU2NhbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWROb2RlLmdldFdvcmxkTWF0cml4KCkuZGVjb21wb3NlKHRtcFZlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wVmVjdG9yLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0bXBWZWN0b3IueSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wVmVjdG9yLnNjYWxlSW5QbGFjZSgtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0bXBWZWN0b3IuY29weUZyb20oZHJhZ0F4aXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc25hcERpc3RhbmNlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0bXBWZWN0b3Iuc2NhbGVUb1JlZihkcmFnU3RyZW5ndGgsIHRtcFZlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbmFwRHJhZ0Rpc3RhbmNlICs9IGRyYWdTdHJlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoY3VycmVudFNuYXBEcmFnRGlzdGFuY2UpID4gdGhpcy5zbmFwRGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ1N0ZXBzID0gTWF0aC5mbG9vcihNYXRoLmFicyhjdXJyZW50U25hcERyYWdEaXN0YW5jZSkgLyB0aGlzLnNuYXBEaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U25hcERyYWdEaXN0YW5jZSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdTdGVwcyAqPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U25hcERyYWdEaXN0YW5jZSA9IGN1cnJlbnRTbmFwRHJhZ0Rpc3RhbmNlICUgdGhpcy5zbmFwRGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcFZlY3Rvci5zY2FsZVRvUmVmKHRoaXMuc25hcERpc3RhbmNlICogZHJhZ1N0ZXBzLCB0bXBWZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXBWZWN0b3Iuc2NhbGVJblBsYWNlKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsaW5nTWF0cml4ID0gbmV3IEJBQllMT04uTWF0cml4KCk7XHJcbiAgICAgICAgICAgICAgICBCQUJZTE9OLk1hdHJpeC5TY2FsaW5nVG9SZWYoMSArIHRtcFZlY3Rvci54LCAxICsgdG1wVmVjdG9yLnksIDEgKyB0bXBWZWN0b3Iueiwgc2NhbGluZ01hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTm9kZS5nZXRXb3JsZE1hdHJpeCgpLmNvcHlGcm9tKHNjYWxpbmdNYXRyaXgubXVsdGlwbHkodGhpcy5hdHRhY2hlZE5vZGUuZ2V0V29ybGRNYXRyaXgoKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzbmFwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wU25hcEV2ZW50LnNuYXBEaXN0YW5jZSA9IHRoaXMuc25hcERpc3RhbmNlICogZHJhZ1N0ZXBzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TbmFwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModG1wU25hcEV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX29wZXJhdGlvblR5cGUgPSAnc2NhbGUnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvaW50ZXJPYnNlcnZlciA9IGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQoKHBvaW50ZXJJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXN0b21NZXNoU2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGlzSG92ZXJlZCA9IHBvaW50ZXJJbmZvLnBpY2tJbmZvICYmICh0aGlzLl9yb290TWVzaC5nZXRDaGlsZE1lc2hlcygpLmluZGV4T2YoPEJBQllMT04uTWVzaD5wb2ludGVySW5mby5waWNrSW5mby5waWNrZWRNZXNoKSAhPSAtMSk7XHJcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IGlzSG92ZXJlZCA/IHRoaXMuX2hvdmVyTWF0ZXJpYWwgOiB0aGlzLl9jb2xvcmVkTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RNZXNoLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG4gICAgICAgICAgICAgICAgaWYgKCg8QkFCWUxPTi5MaW5lc01lc2g+bSkuY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAoPEJBQllMT04uTGluZXNNZXNoPm0pLmNvbG9yID0gbWF0ZXJpYWwuZGlmZnVzZUNvbG9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGxpZ2h0ID0gZ2l6bW9MYXllci5fZ2V0U2hhcmVkR2l6bW9MaWdodCgpO1xyXG4gICAgICAgIGxpZ2h0LmluY2x1ZGVkT25seU1lc2hlcyA9IGxpZ2h0LmluY2x1ZGVkT25seU1lc2hlcy5jb25jYXQodGhpcy5fcm9vdE1lc2guZ2V0Q2hpbGRNZXNoZXMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9hdHRhY2hlZE5vZGVDaGFuZ2VkKHZhbHVlOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZHJhZ0JlaGF2aW9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yLmVuYWJsZWQgPSB2YWx1ZSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAqIElmIHRoZSBnaXptbyBpcyBlbmFibGVkXHJcbiAqL1xyXG4gICAgcHVibGljIHNldCBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ggPSB0aGlzLl9wYXJlbnQuYXR0YWNoZWRNZXNoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUgPSB0aGlzLl9wYXJlbnQuYXR0YWNoZWROb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRW5hYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLm9uU25hcE9ic2VydmFibGUuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlck9ic2VydmVyKTtcclxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5kZXRhY2goKTtcclxuICAgICAgICBpZiAodGhpcy5fYXJyb3cpIHtcclxuICAgICAgICAgICAgdGhpcy5fYXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBbdGhpcy5fY29sb3JlZE1hdGVyaWFsLCB0aGlzLl9ob3Zlck1hdGVyaWFsXS5mb3JFYWNoKChtYXRsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtYXRsKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRsLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIGFuZCByZXBsYWNlcyB0aGUgY3VycmVudCBtZXNoZXMgaW4gdGhlIGdpem1vIHdpdGggdGhlIHNwZWNpZmllZCBtZXNoXHJcbiAgICAgKiBAcGFyYW0gbWVzaCBUaGUgbWVzaCB0byByZXBsYWNlIHRoZSBkZWZhdWx0IG1lc2ggb2YgdGhlIGdpem1vXHJcbiAgICAgKiBAcGFyYW0gdXNlR2l6bW9NYXRlcmlhbCBJZiB0aGUgZ2l6bW8ncyBkZWZhdWx0IG1hdGVyaWFsIHNob3VsZCBiZSB1c2VkIChkZWZhdWx0OiBmYWxzZSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEN1c3RvbU1lc2gobWVzaDogQkFCWUxPTi5NZXNoLCB1c2VHaXptb01hdGVyaWFsOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlci5zZXRDdXN0b21NZXNoKG1lc2gpO1xyXG4gICAgICAgIGlmICh1c2VHaXptb01hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RNZXNoLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IHRoaXMuX2NvbG9yZWRNYXRlcmlhbDtcclxuICAgICAgICAgICAgICAgIGlmICgoPEJBQllMT04uTGluZXNNZXNoPm0pLmNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKDxCQUJZTE9OLkxpbmVzTWVzaD5tKS5jb2xvciA9IHRoaXMuX2NvbG9yZWRNYXRlcmlhbC5kaWZmdXNlQ29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXN0b21NZXNoU2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vIGltcG9ydCB7IE9ic2VydmVyLCBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL01pc2Mvb2JzZXJ2YWJsZVwiO1xyXG4vLyBpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vTWlzYy9sb2dnZXJcIjtcclxuLy8gaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuLy8gaW1wb3J0IHsgUG9pbnRlckluZm8gfSBmcm9tIFwiLi4vRXZlbnRzL3BvaW50ZXJFdmVudHNcIjtcclxuLy8gaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmVcIjtcclxuLy8gaW1wb3J0IHsgUXVhdGVybmlvbiwgTWF0cml4LCBWZWN0b3IzIH0gZnJvbSBcIi4uL01hdGhzL21hdGgudmVjdG9yXCI7XHJcbi8vIGltcG9ydCB7IEFic3RyYWN0TWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvYWJzdHJhY3RNZXNoXCI7XHJcbi8vIGltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vTWVzaGVzL21lc2hcIjtcclxuLy8gaW1wb3J0IHsgU3BoZXJlQnVpbGRlciB9IGZyb20gXCIuLi9NZXNoZXMvQnVpbGRlcnMvc3BoZXJlQnVpbGRlclwiO1xyXG4vLyBpbXBvcnQgeyBCb3hCdWlsZGVyIH0gZnJvbSBcIi4uL01lc2hlcy9CdWlsZGVycy9ib3hCdWlsZGVyXCI7XHJcbi8vIGltcG9ydCB7IExpbmVzQnVpbGRlciB9IGZyb20gXCIuLi9NZXNoZXMvQnVpbGRlcnMvbGluZXNCdWlsZGVyXCI7XHJcbi8vIGltcG9ydCB7IFBvaW50ZXJEcmFnQmVoYXZpb3IgfSBmcm9tIFwiLi4vQmVoYXZpb3JzL01lc2hlcy9wb2ludGVyRHJhZ0JlaGF2aW9yXCI7XHJcbmltcG9ydCB7IEdpem1vIH0gZnJvbSBcIi4vZ2l6bW9cIjtcclxuLy8gaW1wb3J0IHsgVXRpbGl0eUxheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vUmVuZGVyaW5nL3V0aWxpdHlMYXllclJlbmRlcmVyXCI7XHJcbi8vIGltcG9ydCB7IFN0YW5kYXJkTWF0ZXJpYWwgfSBmcm9tIFwiLi4vTWF0ZXJpYWxzL3N0YW5kYXJkTWF0ZXJpYWxcIjtcclxuLy8gaW1wb3J0IHsgUGl2b3RUb29scyB9IGZyb20gXCIuLi9NaXNjL3Bpdm90VG9vbHNcIjtcclxuLy8gaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSAnLi4vTWF0aHMvbWF0aC5jb2xvcic7XHJcblxyXG4vLyBpbXBvcnQgXCIuLi9NZXNoZXMvQnVpbGRlcnMvYm94QnVpbGRlclwiO1xyXG4vLyBpbXBvcnQgeyBMaW5lc01lc2ggfSBmcm9tICcuLi9NZXNoZXMvbGluZXNNZXNoJztcclxuLy8gaW1wb3J0IHsgRXBzaWxvbiB9IGZyb20gJy4uL01hdGhzL21hdGguY29uc3RhbnRzJztcclxuXHJcbi8qKlxyXG4gKiBCb3VuZGluZyBib3ggZ2l6bW9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCb3VuZGluZ0JveEdpem1vIGV4dGVuZHMgR2l6bW8ge1xyXG4gICAgcHJpdmF0ZSBfbGluZUJvdW5kaW5nQm94OiBCQUJZTE9OLkFic3RyYWN0TWVzaDtcclxuICAgIHByaXZhdGUgX3JvdGF0ZVNwaGVyZXNQYXJlbnQ6IEJBQllMT04uQWJzdHJhY3RNZXNoO1xyXG4gICAgcHJpdmF0ZSBfc2NhbGVCb3hlc1BhcmVudDogQkFCWUxPTi5BYnN0cmFjdE1lc2g7XHJcbiAgICBwcml2YXRlIF9ib3VuZGluZ0RpbWVuc2lvbnMgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDEsIDEpO1xyXG4gICAgcHJpdmF0ZSBfcmVuZGVyT2JzZXJ2ZXI6IE51bGxhYmxlPEJBQllMT04uT2JzZXJ2ZXI8QkFCWUxPTi5TY2VuZT4+ID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3BvaW50ZXJPYnNlcnZlcjogTnVsbGFibGU8QkFCWUxPTi5PYnNlcnZlcjxCQUJZTE9OLlBvaW50ZXJJbmZvPj4gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfc2NhbGVEcmFnU3BlZWQgPSAwLjI7XHJcblxyXG4gICAgcHJpdmF0ZSBfdG1wUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oKTtcclxuICAgIHByaXZhdGUgX3RtcFZlY3RvciA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XHJcbiAgICBwcml2YXRlIF90bXBSb3RhdGlvbk1hdHJpeCA9IG5ldyBCQUJZTE9OLk1hdHJpeCgpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBjaGlsZCBtZXNoZXMgc2hvdWxkIGJlIGlnbm9yZWQgd2hlbiBjYWxjdWxhdGluZyB0aGUgYm91ZG5pbmcgYm94LiBUaGlzIHNob3VsZCBiZSBzZXQgdG8gdHJ1ZSB0byBhdm9pZCBwZXJmIGhpdHMgd2l0aCBoZWF2aWx5IG5lc3RlZCBtZXNoZXMgKERlZmF1bHQ6IGZhbHNlKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaWdub3JlQ2hpbGRyZW4gPSBmYWxzZTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGEgZGVzY2VuZGFudCBzaG91bGQgYmUgaW5jbHVkZWQgd2hlbiBjb21wdXRpbmcgdGhlIGJvdW5kaW5nIGJveC4gV2hlbiBudWxsLCBhbGwgZGVzY2VuZGFudHMgYXJlIGluY2x1ZGVkLiBJZiBpZ25vcmVDaGlsZHJlbiBpcyBzZXQgdGhpcyB3aWxsIGJlIGlnbm9yZWQuIChEZWZhdWx0OiBudWxsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5jbHVkZUNoaWxkUHJlZGljYXRlOiBOdWxsYWJsZTwoYWJzdHJhY3RNZXNoOiBCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4gYm9vbGVhbj4gPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHNpemUgb2YgdGhlIHJvdGF0aW9uIHNwaGVyZXMgYXR0YWNoZWQgdG8gdGhlIGJvdW5kaW5nIGJveCAoRGVmYXVsdDogMC4xKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcm90YXRpb25TcGhlcmVTaXplID0gMC4xO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgc2NhbGUgYm94ZXMgYXR0YWNoZWQgdG8gdGhlIGJvdW5kaW5nIGJveCAoRGVmYXVsdDogMC4xKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2NhbGVCb3hTaXplID0gMC4xO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBzZXQsIHRoZSByb3RhdGlvbiBzcGhlcmVzIGFuZCBzY2FsZSBib3hlcyB3aWxsIGluY3JlYXNlIGluIHNpemUgYmFzZWQgb24gdGhlIGRpc3RhbmNlIGF3YXkgZnJvbSB0aGUgY2FtZXJhIHRvIGhhdmUgYSBjb25zaXN0ZW50IHNjcmVlbiBzaXplIChEZWZhdWx0OiBmYWxzZSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZpeGVkRHJhZ01lc2hTY3JlZW5TaXplID0gZmFsc2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGlzdGFuY2UgYXdheSBmcm9tIHRoZSBvYmplY3Qgd2hpY2ggdGhlIGRyYWdnYWJsZSBtZXNoZXMgc2hvdWxkIGFwcGVhciB3b3JsZCBzaXplZCB3aGVuIGZpeGVkRHJhZ01lc2hTY3JlZW5TaXplIGlzIHNldCB0byB0cnVlIChkZWZhdWx0OiAxMClcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZpeGVkRHJhZ01lc2hTY3JlZW5TaXplRGlzdGFuY2VGYWN0b3IgPSAxMDtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZWQgd2hlbiBhIHJvdGF0aW9uIHNwaGVyZSBvciBzY2FsZSBib3ggaXMgZHJhZ2dlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25EcmFnU3RhcnRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTx7fT4oKTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZWQgd2hlbiBhIHNjYWxlIGJveCBpcyBkcmFnZ2VkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblNjYWxlQm94RHJhZ09ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPHt9PigpO1xyXG4gICAgLyoqXHJcbiAgICAgICogRmlyZWQgd2hlbiBhIHNjYWxlIGJveCBkcmFnIGlzIGVuZGVkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblNjYWxlQm94RHJhZ0VuZE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPHt9PigpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlZCB3aGVuIGEgcm90YXRpb24gc3BoZXJlIGlzIGRyYWdnZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9uUm90YXRpb25TcGhlcmVEcmFnT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8e30+KCk7XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVkIHdoZW4gYSByb3RhdGlvbiBzcGhlcmUgZHJhZyBpcyBlbmRlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25Sb3RhdGlvblNwaGVyZURyYWdFbmRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTx7fT4oKTtcclxuICAgIC8qKlxyXG4gICAgICogUmVsYXRpdmUgYm91bmRpbmcgYm94IHBpdm90IHVzZWQgd2hlbiBzY2FsaW5nIHRoZSBhdHRhY2hlZCBub2RlLiBXaGVuIG51bGwgb2JqZWN0IHdpdGggc2NhbGUgZnJvbSB0aGUgb3Bwb3NpdGUgY29ybmVyLiAwLjUsMC41LDAuNSBmb3IgY2VudGVyIGFuZCAwLjUsMCwwLjUgZm9yIGJvdHRvbSAoRGVmYXVsdDogbnVsbClcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjYWxlUGl2b3Q6IE51bGxhYmxlPEJBQllMT04uVmVjdG9yMz4gPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVzaCB1c2VkIGFzIGEgcGl2b3QgdG8gcm90YXRlIHRoZSBhdHRhY2hlZCBub2RlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2FuY2hvck1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoO1xyXG5cclxuICAgIHByaXZhdGUgX2V4aXN0aW5nTWVzaFNjYWxlID0gbmV3IEJBQllMT04uVmVjdG9yMygpO1xyXG5cclxuICAgIC8vIERyYWdnaW5nXHJcbiAgICBwcml2YXRlIF9kcmFnTWVzaDogTnVsbGFibGU8QkFCWUxPTi5NZXNoPiA9IG51bGw7XHJcbiAgICBwcml2YXRlIHBvaW50ZXJEcmFnQmVoYXZpb3IgPSBuZXcgQkFCWUxPTi5Qb2ludGVyRHJhZ0JlaGF2aW9yKCk7XHJcblxyXG4gICAgcHJpdmF0ZSBjb2xvcmVkTWF0ZXJpYWw6IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbDtcclxuICAgIHByaXZhdGUgaG92ZXJDb2xvcmVkTWF0ZXJpYWw6IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGNvbG9yIG9mIHRoZSBib3VuZGluZyBib3ggZ2l6bW9cclxuICAgICAqIEBwYXJhbSBjb2xvciB0aGUgY29sb3IgdG8gc2V0XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRDb2xvcihjb2xvcjogQkFCWUxPTi5Db2xvcjMpIHtcclxuICAgICAgICB0aGlzLmNvbG9yZWRNYXRlcmlhbC5lbWlzc2l2ZUNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5ob3ZlckNvbG9yZWRNYXRlcmlhbC5lbWlzc2l2ZUNvbG9yID0gY29sb3IuY2xvbmUoKS5hZGQobmV3IEJBQllMT04uQ29sb3IzKDAuMywgMC4zLCAwLjMpKTtcclxuICAgICAgICB0aGlzLl9saW5lQm91bmRpbmdCb3guZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKChsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICgobCBhcyBCQUJZTE9OLkxpbmVzTWVzaCkuY29sb3IpIHtcclxuICAgICAgICAgICAgICAgIChsIGFzIEJBQllMT04uTGluZXNNZXNoKS5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gQm91bmRpbmdCb3hHaXptb1xyXG4gICAgICogQHBhcmFtIGdpem1vTGF5ZXIgVGhlIHV0aWxpdHkgbGF5ZXIgdGhlIGdpem1vIHdpbGwgYmUgYWRkZWQgdG9cclxuICAgICAqIEBwYXJhbSBjb2xvciBUaGUgY29sb3Igb2YgdGhlIGdpem1vXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGNvbG9yOiBCQUJZTE9OLkNvbG9yMyA9IEJBQllMT04uQ29sb3IzLkdyYXkoKSwgZ2l6bW9MYXllcjogQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlciA9IEJBQllMT04uVXRpbGl0eUxheWVyUmVuZGVyZXIuRGVmYXVsdEtlZXBEZXB0aFV0aWxpdHlMYXllcikge1xyXG4gICAgICAgIHN1cGVyKGdpem1vTGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBEbyBub3QgdXBkYXRlIHRoZSBnaXptbydzIHNjYWxlIHNvIGl0IGhhcyBhIGZpeGVkIHNpemUgdG8gdGhlIG9iamVjdCBpdHMgYXR0YWNoZWQgdG9cclxuICAgICAgICB0aGlzLnVwZGF0ZVNjYWxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuX2FuY2hvck1lc2ggPSBuZXcgQkFCWUxPTi5BYnN0cmFjdE1lc2goXCJhbmNob3JcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIE1hdGVyaWFsc1xyXG4gICAgICAgIHRoaXMuY29sb3JlZE1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcIlwiLCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB0aGlzLmNvbG9yZWRNYXRlcmlhbC5kaXNhYmxlTGlnaHRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaG92ZXJDb2xvcmVkTWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwiXCIsIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgIHRoaXMuaG92ZXJDb2xvcmVkTWF0ZXJpYWwuZGlzYWJsZUxpZ2h0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQnVpbGQgYm91bmRpbmcgYm94IG91dCBvZiBsaW5lc1xyXG4gICAgICAgIHRoaXMuX2xpbmVCb3VuZGluZ0JveCA9IG5ldyBCQUJZTE9OLkFic3RyYWN0TWVzaChcIlwiLCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB0aGlzLl9saW5lQm91bmRpbmdCb3gucm90YXRpb25RdWF0ZXJuaW9uID0gbmV3IEJBQllMT04uUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHZhciBsaW5lcyA9IFtdO1xyXG4gICAgICAgIGxpbmVzLnB1c2goQkFCWUxPTi5MaW5lc0J1aWxkZXIuQ3JlYXRlTGluZXMoXCJsaW5lc1wiLCB7IHBvaW50czogW25ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCksIG5ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIDAsIDApXSB9LCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKSk7XHJcbiAgICAgICAgbGluZXMucHVzaChCQUJZTE9OLkxpbmVzQnVpbGRlci5DcmVhdGVMaW5lcyhcImxpbmVzXCIsIHsgcG9pbnRzOiBbbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKSwgbmV3IEJBQllMT04uVmVjdG9yMygwLCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueSwgMCldIH0sIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpKTtcclxuICAgICAgICBsaW5lcy5wdXNoKEJBQllMT04uTGluZXNCdWlsZGVyLkNyZWF0ZUxpbmVzKFwibGluZXNcIiwgeyBwb2ludHM6IFtuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56KV0gfSwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSkpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goQkFCWUxPTi5MaW5lc0J1aWxkZXIuQ3JlYXRlTGluZXMoXCJsaW5lc1wiLCB7IHBvaW50czogW25ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIDAsIDApLCBuZXcgQkFCWUxPTi5WZWN0b3IzKHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy54LCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueSwgMCldIH0sIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpKTtcclxuICAgICAgICBsaW5lcy5wdXNoKEJBQllMT04uTGluZXNCdWlsZGVyLkNyZWF0ZUxpbmVzKFwibGluZXNcIiwgeyBwb2ludHM6IFtuZXcgQkFCWUxPTi5WZWN0b3IzKHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy54LCAwLCAwKSwgbmV3IEJBQllMT04uVmVjdG9yMyh0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueCwgMCwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnopXSB9LCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKSk7XHJcbiAgICAgICAgbGluZXMucHVzaChCQUJZTE9OLkxpbmVzQnVpbGRlci5DcmVhdGVMaW5lcyhcImxpbmVzXCIsIHsgcG9pbnRzOiBbbmV3IEJBQllMT04uVmVjdG9yMygwLCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueSwgMCksIG5ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55LCAwKV0gfSwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSkpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goQkFCWUxPTi5MaW5lc0J1aWxkZXIuQ3JlYXRlTGluZXMoXCJsaW5lc1wiLCB7IHBvaW50czogW25ldyBCQUJZTE9OLlZlY3RvcjMoMCwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnksIDApLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55LCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueildIH0sIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpKTtcclxuICAgICAgICBsaW5lcy5wdXNoKEJBQllMT04uTGluZXNCdWlsZGVyLkNyZWF0ZUxpbmVzKFwibGluZXNcIiwgeyBwb2ludHM6IFtuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56KSwgbmV3IEJBQllMT04uVmVjdG9yMyh0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueCwgMCwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnopXSB9LCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKSk7XHJcbiAgICAgICAgbGluZXMucHVzaChCQUJZTE9OLkxpbmVzQnVpbGRlci5DcmVhdGVMaW5lcyhcImxpbmVzXCIsIHsgcG9pbnRzOiBbbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueiksIG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnksIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56KV0gfSwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSkpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goQkFCWUxPTi5MaW5lc0J1aWxkZXIuQ3JlYXRlTGluZXMoXCJsaW5lc1wiLCB7IHBvaW50czogW25ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55LCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueiksIG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnksIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56KV0gfSwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSkpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goQkFCWUxPTi5MaW5lc0J1aWxkZXIuQ3JlYXRlTGluZXMoXCJsaW5lc1wiLCB7IHBvaW50czogW25ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55LCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueiksIG5ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIDAsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56KV0gfSwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSkpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goQkFCWUxPTi5MaW5lc0J1aWxkZXIuQ3JlYXRlTGluZXMoXCJsaW5lc1wiLCB7IHBvaW50czogW25ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55LCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueiksIG5ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLngsIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55LCAwKV0gfSwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSkpO1xyXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGwpID0+IHtcclxuICAgICAgICAgICAgbC5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICBsLnBvc2l0aW9uLmFkZEluUGxhY2UobmV3IEJBQllMT04uVmVjdG9yMygtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnggLyAyLCAtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnkgLyAyLCAtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnogLyAyKSk7XHJcbiAgICAgICAgICAgIGwuaXNQaWNrYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9saW5lQm91bmRpbmdCb3guYWRkQ2hpbGQobCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcm9vdE1lc2guYWRkQ2hpbGQodGhpcy5fbGluZUJvdW5kaW5nQm94KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRDb2xvcihjb2xvcik7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSByb3RhdGlvbiBzcGhlcmVzXHJcbiAgICAgICAgdGhpcy5fcm90YXRlU3BoZXJlc1BhcmVudCA9IG5ldyBCQUJZTE9OLkFic3RyYWN0TWVzaChcIlwiLCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB0aGlzLl9yb3RhdGVTcGhlcmVzUGFyZW50LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHNwaGVyZSA9IEJBQllMT04uU3BoZXJlQnVpbGRlci5DcmVhdGVTcGhlcmUoXCJcIiwgeyBkaWFtZXRlcjogMSB9LCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICAgICAgc3BoZXJlLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oKTtcclxuICAgICAgICAgICAgc3BoZXJlLm1hdGVyaWFsID0gdGhpcy5jb2xvcmVkTWF0ZXJpYWw7XHJcblxyXG4gICAgICAgICAgICAvLyBEcmFnIGJlaGF2aW9yXHJcbiAgICAgICAgICAgIHZhciBfZHJhZ0JlaGF2aW9yID0gbmV3IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcih7fSk7XHJcbiAgICAgICAgICAgIF9kcmFnQmVoYXZpb3IubW92ZUF0dGFjaGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIF9kcmFnQmVoYXZpb3IudXBkYXRlRHJhZ1BsYW5lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNwaGVyZS5hZGRCZWhhdmlvcihfZHJhZ0JlaGF2aW9yKTtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0aW5nVHVybkRpcmVjdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMCwgMCk7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbFR1cm5BbW91bnRPZkRyYWcgPSAwO1xyXG4gICAgICAgICAgICBfZHJhZ0JlaGF2aW9yLm9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdUdXJuRGlyZWN0aW9uLmNvcHlGcm9tKHNwaGVyZS5mb3J3YXJkKTtcclxuICAgICAgICAgICAgICAgIHRvdGFsVHVybkFtb3VudE9mRHJhZyA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfZHJhZ0JlaGF2aW9yLm9uRHJhZ09ic2VydmFibGUuYWRkKChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJvdGF0aW9uU3BoZXJlRHJhZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaGVkTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFBhcmVudCA9IHRoaXMuYXR0YWNoZWRNZXNoLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxQYXJlbnQgJiYgKChvcmlnaW5hbFBhcmVudCBhcyBCQUJZTE9OLk1lc2gpLnNjYWxpbmcgJiYgKG9yaWdpbmFsUGFyZW50IGFzIEJBQllMT04uTWVzaCkuc2NhbGluZy5pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKDAuMDAxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5Mb2dnZXIuV2FybihcIkJvdW5kaW5nQm94R2l6bW8gY29udHJvbHMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gY2hpbGQgbWVzaGVzIHdpdGggbm9uLXVuaWZvcm0gcGFyZW50IHNjYWxpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5QaXZvdFRvb2xzLl9SZW1vdmVBbmRTdG9yZVBpdm90UG9pbnQodGhpcy5hdHRhY2hlZE1lc2gpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgd29ybGREcmFnRGlyZWN0aW9uID0gc3RhcnRpbmdUdXJuRGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9qZWN0IHRoZSB3b3JsZCByaWdodCBvbiB0byB0aGUgZHJhZyBwbGFuZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b1N1YiA9IGV2ZW50LmRyYWdQbGFuZU5vcm1hbC5zY2FsZShCQUJZTE9OLlZlY3RvcjMuRG90KGV2ZW50LmRyYWdQbGFuZU5vcm1hbCwgd29ybGREcmFnRGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYWdBeGlzID0gd29ybGREcmFnRGlyZWN0aW9uLnN1YnRyYWN0KHRvU3ViKS5ub3JtYWxpemVUb05ldygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9qZWN0IGRyYWcgZGVsdGEgb24gdG8gdGhlIHJlc3VsdGluZyBkcmFnIGF4aXMgYW5kIHJvdGF0ZSBiYXNlZCBvbiB0aGF0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2plY3REaXN0ID0gQkFCWUxPTi5WZWN0b3IzLkRvdChkcmFnQXhpcywgZXZlbnQuZGVsdGEpIDwgMCA/IE1hdGguYWJzKGV2ZW50LmRlbHRhLmxlbmd0aCgpKSA6IC1NYXRoLmFicyhldmVudC5kZWx0YS5sZW5ndGgoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugcm90YXRpb24gcmVsYXRpdmUgdG8gc2l6ZSBvZiBtZXNoLlxyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3REaXN0ID0gKHByb2plY3REaXN0IC8gdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLmxlbmd0aCgpKSAqIHRoaXMuX2FuY2hvck1lc2guc2NhbGluZy5sZW5ndGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIGJhc2VkIG9uIGF4aXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXR0YWNoZWRNZXNoLnJvdGF0aW9uUXVhdGVybmlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb24ueSwgdGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb24ueCwgdGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb24ueik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYW5jaG9yTWVzaC5yb3RhdGlvblF1YXRlcm5pb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yTWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5fYW5jaG9yTWVzaC5yb3RhdGlvbi55LCB0aGlzLl9hbmNob3JNZXNoLnJvdGF0aW9uLngsIHRoaXMuX2FuY2hvck1lc2gucm90YXRpb24ueik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3QgYWxsb3cgdGhlIG9iamVjdCB0byB0dXJuIG1vcmUgdGhhbiBhIGZ1bGwgY2lyY2xlXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxUdXJuQW1vdW50T2ZEcmFnICs9IHByb2plY3REaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0b3RhbFR1cm5BbW91bnRPZkRyYWcpIDw9IDIgKiBNYXRoLlBJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID49IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKDAsIDAsIHByb2plY3REaXN0LCB0aGlzLl90bXBRdWF0ZXJuaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID49IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHByb2plY3REaXN0LCAwLCAwLCB0aGlzLl90bXBRdWF0ZXJuaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUXVhdGVybmlvbi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKDAsIHByb2plY3REaXN0LCAwLCB0aGlzLl90bXBRdWF0ZXJuaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIGFyb3VuZCBjZW50ZXIgb2YgYm91bmRpbmcgYm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvck1lc2guYWRkQ2hpbGQodGhpcy5hdHRhY2hlZE1lc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3JNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiEubXVsdGlwbHlUb1JlZih0aGlzLl90bXBRdWF0ZXJuaW9uLCB0aGlzLl9hbmNob3JNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3JNZXNoLnJlbW92ZUNoaWxkKHRoaXMuYXR0YWNoZWRNZXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2guc2V0UGFyZW50KG9yaWdpbmFsUGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ0JveCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlBpdm90VG9vbHMuX1Jlc3RvcmVQaXZvdFBvaW50KHRoaXMuYXR0YWNoZWRNZXNoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUR1bW15KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU2VsZWN0aW9uL2Rlc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIF9kcmFnQmVoYXZpb3Iub25EcmFnU3RhcnRPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe30pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0Tm9kZShzcGhlcmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX2RyYWdCZWhhdmlvci5vbkRyYWdFbmRPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUm90YXRpb25TcGhlcmVEcmFnRW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe30pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0Tm9kZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUR1bW15KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fcm90YXRlU3BoZXJlc1BhcmVudC5hZGRDaGlsZChzcGhlcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yb290TWVzaC5hZGRDaGlsZCh0aGlzLl9yb3RhdGVTcGhlcmVzUGFyZW50KTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHNjYWxlIGN1YmVzXHJcbiAgICAgICAgdGhpcy5fc2NhbGVCb3hlc1BhcmVudCA9IG5ldyBCQUJZTE9OLkFic3RyYWN0TWVzaChcIlwiLCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB0aGlzLl9zY2FsZUJveGVzUGFyZW50LnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAzOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYm94IGZvciByZWxldmFudCBheGlzXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHplcm9BeGlzQ291bnQgPSAoKGkgPT09IDEpID8gMSA6IDApICsgKChqID09PSAxKSA/IDEgOiAwKSArICgoayA9PT0gMSkgPyAxIDogMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHplcm9BeGlzQ291bnQgPT09IDEgfHwgemVyb0F4aXNDb3VudCA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBib3ggPSBCQUJZTE9OLkJveEJ1aWxkZXIuQ3JlYXRlQm94KFwiXCIsIHsgc2l6ZTogMSB9LCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICAgICAgICAgICAgICBib3gubWF0ZXJpYWwgPSB0aGlzLmNvbG9yZWRNYXRlcmlhbDtcclxuICAgICAgICAgICAgICAgICAgICBib3gubWV0YWRhdGEgPSB6ZXJvQXhpc0NvdW50ID09PSAyOyAvLyBOb25lIGhvbW9nZW5vdXMgc2NhbGUgaGFuZGxlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIERyYWdnaW5nIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRyYWdBeGlzID0gbmV3IEJBQllMT04uVmVjdG9yMyhpIC0gMSwgaiAtIDEsIGsgLSAxKS5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2RyYWdCZWhhdmlvciA9IG5ldyBCQUJZTE9OLlBvaW50ZXJEcmFnQmVoYXZpb3IoeyBkcmFnQXhpczogZHJhZ0F4aXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2RyYWdCZWhhdmlvci51cGRhdGVEcmFnUGxhbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfZHJhZ0JlaGF2aW9yLm1vdmVBdHRhY2hlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5hZGRCZWhhdmlvcihfZHJhZ0JlaGF2aW9yKTtcclxuICAgICAgICAgICAgICAgICAgICBfZHJhZ0JlaGF2aW9yLm9uRHJhZ09ic2VydmFibGUuYWRkKChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2NhbGVCb3hEcmFnT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZE1lc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFBhcmVudCA9IHRoaXMuYXR0YWNoZWRNZXNoLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFBhcmVudCAmJiAoKG9yaWdpbmFsUGFyZW50IGFzIEJBQllMT04uTWVzaCkuc2NhbGluZyAmJiAob3JpZ2luYWxQYXJlbnQgYXMgQkFCWUxPTi5NZXNoKS5zY2FsaW5nLmlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oMC4wMDEpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uTG9nZ2VyLldhcm4oXCJCb3VuZGluZ0JveEdpem1vIGNvbnRyb2xzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIGNoaWxkIG1lc2hlcyB3aXRoIG5vbi11bmlmb3JtIHBhcmVudCBzY2FsaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUGl2b3RUb29scy5fUmVtb3ZlQW5kU3RvcmVQaXZvdFBvaW50KHRoaXMuYXR0YWNoZWRNZXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxhdGl2ZURyYWdEaXN0YW5jZSA9IChldmVudC5kcmFnRGlzdGFuY2UgLyB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMubGVuZ3RoKCkpICogdGhpcy5fYW5jaG9yTWVzaC5zY2FsaW5nLmxlbmd0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhU2NhbGUgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHJlbGF0aXZlRHJhZ0Rpc3RhbmNlLCByZWxhdGl2ZURyYWdEaXN0YW5jZSwgcmVsYXRpdmVEcmFnRGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHplcm9BeGlzQ291bnQgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2FsZSBvbiAxIGF4aXMgd2hlbiB1c2luZyB0aGUgYW5jaG9yIGJveCBpbiB0aGUgZmFjZSBtaWRkbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YVNjYWxlLnggKj0gTWF0aC5hYnMoZHJhZ0F4aXMueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFTY2FsZS55ICo9IE1hdGguYWJzKGRyYWdBeGlzLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhU2NhbGUueiAqPSBNYXRoLmFicyhkcmFnQXhpcy56KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhU2NhbGUuc2NhbGVJblBsYWNlKHRoaXMuX3NjYWxlRHJhZ1NwZWVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjYWxlUGl2b3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5nZXRXb3JsZE1hdHJpeCgpLmdldFJvdGF0aW9uTWF0cml4VG9SZWYodGhpcy5fdG1wUm90YXRpb25NYXRyaXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgYW5jaG9yIHRvIGRlc2lyZWQgcGl2b3QgcG9pbnQgKEJvdHRvbSBsZWZ0IGNvcm5lciArIGRpbWVuc2lvbi8yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy5zY2FsZVRvUmVmKDAuNSwgdGhpcy5fdG1wVmVjdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl90bXBWZWN0b3IsIHRoaXMuX3RtcFJvdGF0aW9uTWF0cml4LCB0aGlzLl90bXBWZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvck1lc2gucG9zaXRpb24uc3VidHJhY3RJblBsYWNlKHRoaXMuX3RtcFZlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLm11bHRpcGx5VG9SZWYodGhpcy5zY2FsZVBpdm90LCB0aGlzLl90bXBWZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uVmVjdG9yMy5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX3RtcFZlY3RvciwgdGhpcy5fdG1wUm90YXRpb25NYXRyaXgsIHRoaXMuX3RtcFZlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yTWVzaC5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuX3RtcFZlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNjYWxlIGZyb20gdGhlIHBvc2l0aW9uIG9mIHRoZSBvcHBvc2l0ZSBjb3JuZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3guYWJzb2x1dGVQb3NpdGlvbi5zdWJ0cmFjdFRvUmVmKHRoaXMuX2FuY2hvck1lc2gucG9zaXRpb24sIHRoaXMuX3RtcFZlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yTWVzaC5wb3NpdGlvbi5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdG1wVmVjdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3JNZXNoLmFkZENoaWxkKHRoaXMuYXR0YWNoZWRNZXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvck1lc2guc2NhbGluZy5hZGRJblBsYWNlKGRlbHRhU2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FuY2hvck1lc2guc2NhbGluZy54IDwgMCB8fCB0aGlzLl9hbmNob3JNZXNoLnNjYWxpbmcueSA8IDAgfHwgdGhpcy5fYW5jaG9yTWVzaC5zY2FsaW5nLnogPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yTWVzaC5zY2FsaW5nLnN1YnRyYWN0SW5QbGFjZShkZWx0YVNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvck1lc2gucmVtb3ZlQ2hpbGQodGhpcy5hdHRhY2hlZE1lc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2guc2V0UGFyZW50KG9yaWdpbmFsUGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJBQllMT04uUGl2b3RUb29scy5fUmVzdG9yZVBpdm90UG9pbnQodGhpcy5hdHRhY2hlZE1lc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUR1bW15KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbGVjdGlvbi9kZXNlbGVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIF9kcmFnQmVoYXZpb3Iub25EcmFnU3RhcnRPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25EcmFnU3RhcnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdE5vZGUoYm94KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBfZHJhZ0JlaGF2aW9yLm9uRHJhZ0VuZE9ic2VydmFibGUuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNjYWxlQm94RHJhZ0VuZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0Tm9kZShudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRHVtbXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NhbGVCb3hlc1BhcmVudC5hZGRDaGlsZChib3gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Jvb3RNZXNoLmFkZENoaWxkKHRoaXMuX3NjYWxlQm94ZXNQYXJlbnQpO1xyXG5cclxuICAgICAgICAvLyBIb3ZlciBjb2xvciBjaGFuZ2VcclxuICAgICAgICB2YXIgcG9pbnRlcklkcyA9IG5ldyBBcnJheTxCQUJZTE9OLkFic3RyYWN0TWVzaD4oKTtcclxuICAgICAgICB0aGlzLl9wb2ludGVyT2JzZXJ2ZXIgPSBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lLm9uUG9pbnRlck9ic2VydmFibGUuYWRkKChwb2ludGVySW5mbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXBvaW50ZXJJZHNbKDxQb2ludGVyRXZlbnQ+cG9pbnRlckluZm8uZXZlbnQpLnBvaW50ZXJJZF0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0ZVNwaGVyZXNQYXJlbnQuZ2V0Q2hpbGRNZXNoZXMoKS5jb25jYXQodGhpcy5fc2NhbGVCb3hlc1BhcmVudC5nZXRDaGlsZE1lc2hlcygpKS5mb3JFYWNoKChtZXNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJJbmZvLnBpY2tJbmZvICYmIHBvaW50ZXJJbmZvLnBpY2tJbmZvLnBpY2tlZE1lc2ggPT0gbWVzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVySWRzWyg8UG9pbnRlckV2ZW50PnBvaW50ZXJJbmZvLmV2ZW50KS5wb2ludGVySWRdID0gbWVzaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaC5tYXRlcmlhbCA9IHRoaXMuaG92ZXJDb2xvcmVkTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRlckluZm8ucGlja0luZm8gJiYgcG9pbnRlckluZm8ucGlja0luZm8ucGlja2VkTWVzaCAhPSBwb2ludGVySWRzWyg8UG9pbnRlckV2ZW50PnBvaW50ZXJJbmZvLmV2ZW50KS5wb2ludGVySWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRlcklkc1soPFBvaW50ZXJFdmVudD5wb2ludGVySW5mby5ldmVudCkucG9pbnRlcklkXS5tYXRlcmlhbCA9IHRoaXMuY29sb3JlZE1hdGVyaWFsO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwb2ludGVySWRzWyg8UG9pbnRlckV2ZW50PnBvaW50ZXJJbmZvLmV2ZW50KS5wb2ludGVySWRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBib3VuZGluZyBib3ggcG9zaXRpb25zXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyT2JzZXJ2ZXIgPSB0aGlzLmdpem1vTGF5ZXIub3JpZ2luYWxTY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIGJvdWRpbmcgYm94IGlmIHNjYWxpbmcgaGFzIGNoYW5nZWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWRNZXNoICYmICF0aGlzLl9leGlzdGluZ01lc2hTY2FsZS5lcXVhbHModGhpcy5hdHRhY2hlZE1lc2guc2NhbGluZykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZpeGVkRHJhZ01lc2hTY3JlZW5TaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVSb3RhdGlvblNwaGVyZXMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlQm94ZXMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgZHJhZ2cgbWVzaCBpcyBlbmFibGVkIGFuZCBkcmFnZ2luZywgdXBkYXRlIHRoZSBhdHRhY2hlZCBtZXNoIHBvc2UgdG8gbWF0Y2ggdGhlIGRyYWcgbWVzaFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZHJhZ01lc2ggJiYgdGhpcy5hdHRhY2hlZE1lc2ggJiYgdGhpcy5wb2ludGVyRHJhZ0JlaGF2aW9yLmRyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lQm91bmRpbmdCb3gucG9zaXRpb24ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5fcm9vdE1lc2gucm90YXRpb25RdWF0ZXJuaW9uISwgdGhpcy5fdG1wVmVjdG9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoLnNldEFic29sdXRlUG9zaXRpb24odGhpcy5fZHJhZ01lc2gucG9zaXRpb24uYWRkKHRoaXMuX3RtcFZlY3Rvci5zY2FsZSgtMSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2F0dGFjaGVkTm9kZUNoYW5nZWQodmFsdWU6IE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPikge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAvLyBSZXNldCBhbmNob3IgbWVzaCB0byBtYXRjaCBhdHRhY2hlZCBtZXNoJ3Mgc2NhbGVcclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgdG8gYXZvaWQgaW52YWxpZCBib3gvc3BoZXJlIHBvc2l0aW9uIG9uIGZpcnN0IGRyYWdcclxuICAgICAgICAgICAgQkFCWUxPTi5QaXZvdFRvb2xzLl9SZW1vdmVBbmRTdG9yZVBpdm90UG9pbnQodmFsdWUpO1xyXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxQYXJlbnQgPSB2YWx1ZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvck1lc2guYWRkQ2hpbGQodmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9hbmNob3JNZXNoLnJlbW92ZUNoaWxkKHZhbHVlKTtcclxuICAgICAgICAgICAgdmFsdWUuc2V0UGFyZW50KG9yaWdpbmFsUGFyZW50KTtcclxuICAgICAgICAgICAgQkFCWUxPTi5QaXZvdFRvb2xzLl9SZXN0b3JlUGl2b3RQb2ludCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goKTtcclxuICAgICAgICAgICAgdmFsdWUuZ2V0Q2hpbGRNZXNoZXMoZmFsc2UpLmZvckVhY2goKG0pID0+IHtcclxuICAgICAgICAgICAgICAgIG0ubWFya0FzRGlydHkoXCJzY2FsaW5nXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZS5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGRPbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUR1bW15KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9zZWxlY3ROb2RlKHNlbGVjdGVkTWVzaDogTnVsbGFibGU8QkFCWUxPTi5NZXNoPikge1xyXG4gICAgICAgIHRoaXMuX3JvdGF0ZVNwaGVyZXNQYXJlbnQuZ2V0Q2hpbGRNZXNoZXMoKVxyXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuX3NjYWxlQm94ZXNQYXJlbnQuZ2V0Q2hpbGRNZXNoZXMoKSkuZm9yRWFjaCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbS5pc1Zpc2libGUgPSAoIXNlbGVjdGVkTWVzaCB8fCBtID09IHNlbGVjdGVkTWVzaCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRpbmcgYm94IGluZm9ybWF0aW9uIGZvciB0aGUgR2l6bW9cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZUJvdW5kaW5nQm94KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmF0dGFjaGVkTWVzaCkge1xyXG4gICAgICAgICAgICBCQUJZTE9OLlBpdm90VG9vbHMuX1JlbW92ZUFuZFN0b3JlUGl2b3RQb2ludCh0aGlzLmF0dGFjaGVkTWVzaCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdG9yZSBvcmlnaW5hbCBwYXJlbnRcclxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsUGFyZW50ID0gdGhpcy5hdHRhY2hlZE1lc2gucGFyZW50O1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5zZXRQYXJlbnQobnVsbCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdG9yZSBvcmlnaW5hbCBza2VsdG9uIG92ZXJyaWRlIG1lc2hcclxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsU2tlbGV0b25PdmVycmlkZU1lc2ggPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZE1lc2guc2tlbGV0b24pIHtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsU2tlbGV0b25PdmVycmlkZU1lc2ggPSB0aGlzLmF0dGFjaGVkTWVzaC5za2VsZXRvbi5vdmVycmlkZU1lc2g7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5za2VsZXRvbi5vdmVycmlkZU1lc2ggPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJvdGF0ZSBiYXNlZCBvbiBheGlzXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb25RdWF0ZXJuaW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb24ueSwgdGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb24ueCwgdGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb24ueik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9hbmNob3JNZXNoLnJvdGF0aW9uUXVhdGVybmlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yTWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5fYW5jaG9yTWVzaC5yb3RhdGlvbi55LCB0aGlzLl9hbmNob3JNZXNoLnJvdGF0aW9uLngsIHRoaXMuX2FuY2hvck1lc2gucm90YXRpb24ueik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fYW5jaG9yTWVzaC5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb25RdWF0ZXJuaW9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIG9yaWdpbmFsIHBvc2l0aW9uIGFuZCByZXNldCBtZXNoIHRvIG9yaWdpbiBiZWZvcmUgY29tcHV0aW5nIHRoZSBib3VuZGluZyBib3hcclxuICAgICAgICAgICAgdGhpcy5fdG1wUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLmF0dGFjaGVkTWVzaC5yb3RhdGlvblF1YXRlcm5pb24pO1xyXG4gICAgICAgICAgICB0aGlzLl90bXBWZWN0b3IuY29weUZyb20odGhpcy5hdHRhY2hlZE1lc2gucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KDAsIDAsIDAsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgYm91bmRpbmcgZGltZW5zaW9ucy9wb3NpdGlvbnNcclxuICAgICAgICAgICAgdmFyIGJvdW5kaW5nTWluTWF4ID0gdGhpcy5hdHRhY2hlZE1lc2guZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKCF0aGlzLmlnbm9yZUNoaWxkcmVuLCB0aGlzLmluY2x1ZGVDaGlsZFByZWRpY2F0ZSk7XHJcbiAgICAgICAgICAgIGJvdW5kaW5nTWluTWF4Lm1heC5zdWJ0cmFjdFRvUmVmKGJvdW5kaW5nTWluTWF4Lm1pbiwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBnaXptbyB0byBtYXRjaCBib3VuZGluZyBib3ggc2NhbGluZyBhbmQgcm90YXRpb25cclxuICAgICAgICAgICAgLy8gVGhlIHBvc2l0aW9uIHNldCBoZXJlIGlzIHRoZSBvZmZzZXQgZnJvbSB0aGUgb3JpZ2luIGZvciB0aGUgYm91bmRpbmdib3ggd2hlbiB0aGUgYXR0YWNoZWQgbWVzaCBpcyBhdCB0aGUgb3JpZ2luXHJcbiAgICAgICAgICAgIC8vIFRoZSBwb3NpdGlvbiBvZiB0aGUgZ2l6bW8gaXMgdGhlbiBzZXQgdG8gdGhlIGF0dGFjaGVkTWVzaCBpbiBnaXptby5fdXBkYXRlXHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmVCb3VuZGluZ0JveC5zY2FsaW5nLmNvcHlGcm9tKHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmVCb3VuZGluZ0JveC5wb3NpdGlvbi5zZXQoKGJvdW5kaW5nTWluTWF4Lm1heC54ICsgYm91bmRpbmdNaW5NYXgubWluLngpIC8gMiwgKGJvdW5kaW5nTWluTWF4Lm1heC55ICsgYm91bmRpbmdNaW5NYXgubWluLnkpIC8gMiwgKGJvdW5kaW5nTWluTWF4Lm1heC56ICsgYm91bmRpbmdNaW5NYXgubWluLnopIC8gMik7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZVNwaGVyZXNQYXJlbnQucG9zaXRpb24uY29weUZyb20odGhpcy5fbGluZUJvdW5kaW5nQm94LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5fc2NhbGVCb3hlc1BhcmVudC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLl9saW5lQm91bmRpbmdCb3gucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9saW5lQm91bmRpbmdCb3guY29tcHV0ZVdvcmxkTWF0cml4KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvck1lc2gucG9zaXRpb24uY29weUZyb20odGhpcy5fbGluZUJvdW5kaW5nQm94LmFic29sdXRlUG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVzdG9yZSBwb3NpdGlvbi9yb3RhdGlvbiB2YWx1ZXNcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2gucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMuX3RtcFF1YXRlcm5pb24pO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLl90bXBWZWN0b3IpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBwYXJlbnRcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2guc2V0UGFyZW50KG9yaWdpbmFsUGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgc2tlbGV0b24gb3ZlcnJpZGUgbWVzaFxyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZE1lc2guc2tlbGV0b24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoLnNrZWxldG9uLm92ZXJyaWRlTWVzaCA9IG9yaWdpbmFsU2tlbGV0b25PdmVycmlkZU1lc2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVJvdGF0aW9uU3BoZXJlcygpO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlQm94ZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWRNZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2V4aXN0aW5nTWVzaFNjYWxlLmNvcHlGcm9tKHRoaXMuYXR0YWNoZWRNZXNoLnNjYWxpbmcpO1xyXG4gICAgICAgICAgICBCQUJZTE9OLlBpdm90VG9vbHMuX1Jlc3RvcmVQaXZvdFBvaW50KHRoaXMuYXR0YWNoZWRNZXNoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfdXBkYXRlUm90YXRpb25TcGhlcmVzKCkge1xyXG4gICAgICAgIHZhciByb3RhdGVTcGhlcmVzID0gdGhpcy5fcm90YXRlU3BoZXJlc1BhcmVudC5nZXRDaGlsZE1lc2hlcygpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDI7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICgoaSAqIDQpICsgKGogKiAyKSkgKyBrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlU3BoZXJlc1tpbmRleF0ucG9zaXRpb24uc2V0KHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy54IC8gMiwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnkgKiBqLCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueiAqIGspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGhlcmVzW2luZGV4XS5wb3NpdGlvbi5hZGRJblBsYWNlKG5ldyBCQUJZTE9OLlZlY3RvcjMoLXRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy54IC8gMiwgLXRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55IC8gMiwgLXRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56IC8gMikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGhlcmVzW2luZGV4XS5sb29rQXQoQkFCWUxPTi5WZWN0b3IzLkNyb3NzKHJvdGF0ZVNwaGVyZXNbaW5kZXhdLnBvc2l0aW9uLm5vcm1hbGl6ZVRvTmV3KCksIEJBQllMT04uVmVjdG9yMy5SaWdodCgpKS5ub3JtYWxpemVUb05ldygpLmFkZChyb3RhdGVTcGhlcmVzW2luZGV4XS5wb3NpdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwaGVyZXNbaW5kZXhdLnBvc2l0aW9uLnNldCh0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueCAqIGosIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy55IC8gMiwgdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnogKiBrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlU3BoZXJlc1tpbmRleF0ucG9zaXRpb24uYWRkSW5QbGFjZShuZXcgQkFCWUxPTi5WZWN0b3IzKC10aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueCAvIDIsIC10aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueSAvIDIsIC10aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueiAvIDIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlU3BoZXJlc1tpbmRleF0ubG9va0F0KEJBQllMT04uVmVjdG9yMy5Dcm9zcyhyb3RhdGVTcGhlcmVzW2luZGV4XS5wb3NpdGlvbi5ub3JtYWxpemVUb05ldygpLCBCQUJZTE9OLlZlY3RvcjMuVXAoKSkubm9ybWFsaXplVG9OZXcoKS5hZGQocm90YXRlU3BoZXJlc1tpbmRleF0ucG9zaXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGhlcmVzW2luZGV4XS5wb3NpdGlvbi5zZXQodGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnggKiBqLCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueSAqIGssIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwaGVyZXNbaW5kZXhdLnBvc2l0aW9uLmFkZEluUGxhY2UobmV3IEJBQllMT04uVmVjdG9yMygtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnggLyAyLCAtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnkgLyAyLCAtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnogLyAyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVNwaGVyZXNbaW5kZXhdLmxvb2tBdChCQUJZTE9OLlZlY3RvcjMuQ3Jvc3Mocm90YXRlU3BoZXJlc1tpbmRleF0ucG9zaXRpb24ubm9ybWFsaXplVG9OZXcoKSwgQkFCWUxPTi5WZWN0b3IzLkZvcndhcmQoKSkubm9ybWFsaXplVG9OZXcoKS5hZGQocm90YXRlU3BoZXJlc1tpbmRleF0ucG9zaXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZml4ZWREcmFnTWVzaFNjcmVlblNpemUgJiYgdGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lLmFjdGl2ZUNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGhlcmVzW2luZGV4XS5hYnNvbHV0ZVBvc2l0aW9uLnN1YnRyYWN0VG9SZWYodGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lLmFjdGl2ZUNhbWVyYS5wb3NpdGlvbiwgdGhpcy5fdG1wVmVjdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlRnJvbUNhbWVyYSA9IHRoaXMucm90YXRpb25TcGhlcmVTaXplICogdGhpcy5fdG1wVmVjdG9yLmxlbmd0aCgpIC8gdGhpcy5maXhlZERyYWdNZXNoU2NyZWVuU2l6ZURpc3RhbmNlRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGhlcmVzW2luZGV4XS5zY2FsaW5nLnNldChkaXN0YW5jZUZyb21DYW1lcmEsIGRpc3RhbmNlRnJvbUNhbWVyYSwgZGlzdGFuY2VGcm9tQ2FtZXJhKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTcGhlcmVzW2luZGV4XS5zY2FsaW5nLnNldCh0aGlzLnJvdGF0aW9uU3BoZXJlU2l6ZSwgdGhpcy5yb3RhdGlvblNwaGVyZVNpemUsIHRoaXMucm90YXRpb25TcGhlcmVTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfdXBkYXRlU2NhbGVCb3hlcygpIHtcclxuICAgICAgICB2YXIgc2NhbGVCb3hlcyA9IHRoaXMuX3NjYWxlQm94ZXNQYXJlbnQuZ2V0Q2hpbGRNZXNoZXMoKTtcclxuICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDM7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB6ZXJvQXhpc0NvdW50ID0gKChpID09PSAxKSA/IDEgOiAwKSArICgoaiA9PT0gMSkgPyAxIDogMCkgKyAoKGsgPT09IDEpID8gMSA6IDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh6ZXJvQXhpc0NvdW50ID09PSAxIHx8IHplcm9BeGlzQ291bnQgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY2FsZUJveGVzW2luZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZUJveGVzW2luZGV4XS5wb3NpdGlvbi5zZXQodGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnggKiAoaSAvIDIpLCB0aGlzLl9ib3VuZGluZ0RpbWVuc2lvbnMueSAqIChqIC8gMiksIHRoaXMuX2JvdW5kaW5nRGltZW5zaW9ucy56ICogKGsgLyAyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlQm94ZXNbaW5kZXhdLnBvc2l0aW9uLmFkZEluUGxhY2UobmV3IEJBQllMT04uVmVjdG9yMygtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnggLyAyLCAtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnkgLyAyLCAtdGhpcy5fYm91bmRpbmdEaW1lbnNpb25zLnogLyAyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpeGVkRHJhZ01lc2hTY3JlZW5TaXplICYmIHRoaXMuZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZS5hY3RpdmVDYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlQm94ZXNbaW5kZXhdLmFic29sdXRlUG9zaXRpb24uc3VidHJhY3RUb1JlZih0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUuYWN0aXZlQ2FtZXJhLnBvc2l0aW9uLCB0aGlzLl90bXBWZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlRnJvbUNhbWVyYSA9IHRoaXMuc2NhbGVCb3hTaXplICogdGhpcy5fdG1wVmVjdG9yLmxlbmd0aCgpIC8gdGhpcy5maXhlZERyYWdNZXNoU2NyZWVuU2l6ZURpc3RhbmNlRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVCb3hlc1tpbmRleF0uc2NhbGluZy5zZXQoZGlzdGFuY2VGcm9tQ2FtZXJhLCBkaXN0YW5jZUZyb21DYW1lcmEsIGRpc3RhbmNlRnJvbUNhbWVyYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZUJveGVzW2luZGV4XS5zY2FsaW5nLnNldCh0aGlzLnNjYWxlQm94U2l6ZSwgdGhpcy5zY2FsZUJveFNpemUsIHRoaXMuc2NhbGVCb3hTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW5hYmxlcyByb3RhdGlvbiBvbiB0aGUgc3BlY2lmaWVkIGF4aXMgYW5kIGRpc2FibGVzIHJvdGF0aW9uIG9uIHRoZSBvdGhlcnNcclxuICAgICAqIEBwYXJhbSBheGlzIFRoZSBsaXN0IG9mIGF4aXMgdGhhdCBzaG91bGQgYmUgZW5hYmxlZCAoZWcuIFwieHlcIiBvciBcInh5elwiKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0RW5hYmxlZFJvdGF0aW9uQXhpcyhheGlzOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9yb3RhdGVTcGhlcmVzUGFyZW50LmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaCgobSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaSA8IDQpIHtcclxuICAgICAgICAgICAgICAgIG0uc2V0RW5hYmxlZChheGlzLmluZGV4T2YoXCJ4XCIpICE9IC0xKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpIDwgOCkge1xyXG4gICAgICAgICAgICAgICAgbS5zZXRFbmFibGVkKGF4aXMuaW5kZXhPZihcInlcIikgIT0gLTEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbS5zZXRFbmFibGVkKGF4aXMuaW5kZXhPZihcInpcIikgIT0gLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGVzL2Rpc2FibGVzIHNjYWxpbmdcclxuICAgICAqIEBwYXJhbSBlbmFibGUgaWYgc2NhbGluZyBzaG91bGQgYmUgZW5hYmxlZFxyXG4gICAgICogQHBhcmFtIGhvbW9nZW5lb3VzU2NhbGluZyBkZWZpbmVzIGlmIHNjYWxpbmcgc2hvdWxkIG9ubHkgYmUgaG9tb2dlbmVvdXNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEVuYWJsZWRTY2FsaW5nKGVuYWJsZTogYm9vbGVhbiwgaG9tb2dlbmVvdXNTY2FsaW5nID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLl9zY2FsZUJveGVzUGFyZW50LmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaCgobSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZW5hYmxlTWVzaCA9IGVuYWJsZTtcclxuICAgICAgICAgICAgLy8gRGlzYWJsZSBoZXRlcm9nZW5vdXMgc2NhbGUgaGFuZGxlcyBpZiByZXF1ZXN0ZWQuXHJcbiAgICAgICAgICAgIGlmIChob21vZ2VuZW91c1NjYWxpbmcgJiYgbS5tZXRhZGF0YSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlTWVzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG0uc2V0RW5hYmxlZChlbmFibGVNZXNoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF91cGRhdGVEdW1teSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZHJhZ01lc2gpIHtcclxuICAgICAgICAgICAgdGhpcy5fZHJhZ01lc2gucG9zaXRpb24uY29weUZyb20odGhpcy5fbGluZUJvdW5kaW5nQm94LmdldEFic29sdXRlUG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWdNZXNoLnNjYWxpbmcuY29weUZyb20odGhpcy5fbGluZUJvdW5kaW5nQm94LnNjYWxpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLl9kcmFnTWVzaC5yb3RhdGlvblF1YXRlcm5pb24hLmNvcHlGcm9tKHRoaXMuX3Jvb3RNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZXMgYSBwb2ludGVyIGRyYWcgYmVoYXZpb3Igb24gdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgZ2l6bW9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGVuYWJsZURyYWdCZWhhdmlvcigpIHtcclxuICAgICAgICB0aGlzLl9kcmFnTWVzaCA9IEJBQllMT04uTWVzaC5DcmVhdGVCb3goXCJkdW1teVwiLCAxLCB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgIHRoaXMuX2RyYWdNZXNoLnZpc2liaWxpdHkgPSAwO1xyXG4gICAgICAgIHRoaXMuX2RyYWdNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnBvaW50ZXJEcmFnQmVoYXZpb3IudXNlT2JqZWN0T3JpZW5hdGlvbkZvckRyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZHJhZ01lc2guYWRkQmVoYXZpb3IodGhpcy5wb2ludGVyRHJhZ0JlaGF2aW9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlck9ic2VydmVyKTtcclxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIub3JpZ2luYWxTY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3JlbmRlck9ic2VydmVyKTtcclxuICAgICAgICB0aGlzLl9saW5lQm91bmRpbmdCb3guZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX3JvdGF0ZVNwaGVyZXNQYXJlbnQuZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX3NjYWxlQm94ZXNQYXJlbnQuZGlzcG9zZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9kcmFnTWVzaCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kcmFnTWVzaC5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ha2VzIGEgbWVzaCBub3QgcGlja2FibGUgYW5kIHdyYXBzIHRoZSBtZXNoIGluc2lkZSBvZiBhIGJvdW5kaW5nIGJveCBtZXNoIHRoYXQgaXMgcGlja2FibGUuIChUaGlzIGlzIHVzZWZ1bCB0byBhdm9pZCBwaWNraW5nIHdpdGhpbiBjb21wbGV4IGdlb21ldHJ5KVxyXG4gICAgICogQHBhcmFtIG1lc2ggdGhlIG1lc2ggdG8gd3JhcCBpbiB0aGUgYm91bmRpbmcgYm94IG1lc2ggYW5kIG1ha2Ugbm90IHBpY2thYmxlXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgYm91bmRpbmcgYm94IG1lc2ggd2l0aCB0aGUgcGFzc2VkIGluIG1lc2ggYXMgYSBjaGlsZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIE1ha2VOb3RQaWNrYWJsZUFuZFdyYXBJbkJvdW5kaW5nQm94KG1lc2g6IEJBQllMT04uTWVzaCk6IEJBQllMT04uTWVzaCB7XHJcbiAgICAgICAgdmFyIG1ha2VOb3RQaWNrYWJsZSA9IChyb290OiBCQUJZTE9OLkFic3RyYWN0TWVzaCkgPT4ge1xyXG4gICAgICAgICAgICByb290LmlzUGlja2FibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcm9vdC5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2goKGMpID0+IHtcclxuICAgICAgICAgICAgICAgIG1ha2VOb3RQaWNrYWJsZShjKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBtYWtlTm90UGlja2FibGUobWVzaCk7XHJcblxyXG4gICAgICAgIC8vIFJlc2V0IHBvc2l0aW9uIHRvIGdldCBib3VkbmluZyBib3ggZnJvbSBvcmlnaW4gd2l0aCBubyByb3RhdGlvblxyXG4gICAgICAgIGlmICghbWVzaC5yb3RhdGlvblF1YXRlcm5pb24pIHtcclxuICAgICAgICAgICAgbWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSBCQUJZTE9OLlF1YXRlcm5pb24uUm90YXRpb25ZYXdQaXRjaFJvbGwobWVzaC5yb3RhdGlvbi55LCBtZXNoLnJvdGF0aW9uLngsIG1lc2gucm90YXRpb24ueik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvbGRQb3MgPSBtZXNoLnBvc2l0aW9uLmNsb25lKCk7XHJcbiAgICAgICAgdmFyIG9sZFJvdCA9IG1lc2gucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk7XHJcbiAgICAgICAgbWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KDAsIDAsIDAsIDEpO1xyXG4gICAgICAgIG1lc2gucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgYm91bmRpbmcgZGltZW5zaW9ucy9wb3NpdGlvbnNcclxuICAgICAgICB2YXIgYm94ID0gQkFCWUxPTi5Cb3hCdWlsZGVyLkNyZWF0ZUJveChcImJveFwiLCB7IHNpemU6IDEgfSwgbWVzaC5nZXRTY2VuZSgpKTtcclxuICAgICAgICB2YXIgYm91bmRpbmdNaW5NYXggPSBtZXNoLmdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycygpO1xyXG4gICAgICAgIGJvdW5kaW5nTWluTWF4Lm1heC5zdWJ0cmFjdFRvUmVmKGJvdW5kaW5nTWluTWF4Lm1pbiwgYm94LnNjYWxpbmcpO1xyXG5cclxuICAgICAgICAvLyBBZGp1c3Qgc2NhbGUgdG8gYXZvaWQgdW5kZWZpbmVkIGJlaGF2aW9yIHdoZW4gYWRkaW5nIGNoaWxkXHJcbiAgICAgICAgaWYgKGJveC5zY2FsaW5nLnkgPT09IDApIHtcclxuICAgICAgICAgICAgYm94LnNjYWxpbmcueSA9IEJBQllMT04uRXBzaWxvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJveC5zY2FsaW5nLnggPT09IDApIHtcclxuICAgICAgICAgICAgYm94LnNjYWxpbmcueCA9IEJBQllMT04uRXBzaWxvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJveC5zY2FsaW5nLnogPT09IDApIHtcclxuICAgICAgICAgICAgYm94LnNjYWxpbmcueiA9IEJBQllMT04uRXBzaWxvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJveC5wb3NpdGlvbi5zZXQoKGJvdW5kaW5nTWluTWF4Lm1heC54ICsgYm91bmRpbmdNaW5NYXgubWluLngpIC8gMiwgKGJvdW5kaW5nTWluTWF4Lm1heC55ICsgYm91bmRpbmdNaW5NYXgubWluLnkpIC8gMiwgKGJvdW5kaW5nTWluTWF4Lm1heC56ICsgYm91bmRpbmdNaW5NYXgubWluLnopIC8gMik7XHJcblxyXG4gICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgcG9zaXRpb25zXHJcbiAgICAgICAgbWVzaC5hZGRDaGlsZChib3gpO1xyXG4gICAgICAgIG1lc2gucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKG9sZFJvdCk7XHJcbiAgICAgICAgbWVzaC5wb3NpdGlvbi5jb3B5RnJvbShvbGRQb3MpO1xyXG5cclxuICAgICAgICAvLyBSZXZlcnNlIHBhcmVudGluZ1xyXG4gICAgICAgIG1lc2gucmVtb3ZlQ2hpbGQoYm94KTtcclxuXHJcbiAgICAgICAgYm94LmFkZENoaWxkKG1lc2gpO1xyXG4gICAgICAgIGJveC52aXNpYmlsaXR5ID0gMDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXN0b21NZXNoZXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBnaXptb1xyXG4gICAgICogQHBhcmFtIG1lc2ggVGhlIG1lc2ggdG8gcmVwbGFjZSB0aGUgZGVmYXVsdCBtZXNoIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Q3VzdG9tTWVzaChtZXNoOiBCQUJZTE9OLk1lc2gpIHtcclxuICAgICAgICBCQUJZTE9OLkxvZ2dlci5FcnJvcihcIkN1c3RvbSBtZXNoZXMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBnaXptb1wiKTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBpbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG4vLyBpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL01hdGhzL21hdGgudmVjdG9yXCI7XHJcbi8vIGltcG9ydCB7IENvbG9yMyB9IGZyb20gJy4uL01hdGhzL21hdGguY29sb3InO1xyXG4vLyBpbXBvcnQgeyBNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9tZXNoXCI7XHJcbmltcG9ydCB7IEdpem1vIH0gZnJvbSBcIi4vZ2l6bW9cIjtcclxuLy8gaW1wb3J0IHsgVXRpbGl0eUxheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vUmVuZGVyaW5nL3V0aWxpdHlMYXllclJlbmRlcmVyXCI7XHJcbi8vIGltcG9ydCB7IFN0YW5kYXJkTWF0ZXJpYWwgfSBmcm9tICcuLi9NYXRlcmlhbHMvc3RhbmRhcmRNYXRlcmlhbCc7XHJcbi8vIGltcG9ydCB7IFNjZW5lIH0gZnJvbSAnLi4vc2NlbmUnO1xyXG4vLyBpbXBvcnQgeyBDYW1lcmEgfSBmcm9tICcuLi9DYW1lcmFzL2NhbWVyYSc7XHJcbi8vIGltcG9ydCB7IEJveEJ1aWxkZXIgfSBmcm9tIFwiLi4vTWVzaGVzL0J1aWxkZXJzL2JveEJ1aWxkZXJcIjtcclxuLy8gaW1wb3J0IHsgQ3lsaW5kZXJCdWlsZGVyIH0gZnJvbSAnLi4vTWVzaGVzL0J1aWxkZXJzL2N5bGluZGVyQnVpbGRlcic7XHJcbi8vIGltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL01hdGhzL21hdGgnO1xyXG4vLyBpbXBvcnQgeyBMaW5lc0J1aWxkZXIgfSBmcm9tIFwiLi4vTWVzaGVzL0J1aWxkZXJzL2xpbmVzQnVpbGRlclwiO1xyXG4vLyBpbXBvcnQgeyBQb2ludGVyRXZlbnRUeXBlcywgUG9pbnRlckluZm8gfSBmcm9tICcuLi9FdmVudHMvcG9pbnRlckV2ZW50cyc7XHJcbi8vIGltcG9ydCB7IE9ic2VydmVyLCBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL01pc2Mvb2JzZXJ2YWJsZVwiO1xyXG5cclxuLyoqXHJcbiAqIEdpem1vIHRoYXQgZW5hYmxlcyB2aWV3aW5nIGEgY2FtZXJhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FtZXJhR2l6bW8gZXh0ZW5kcyBHaXptbyB7XHJcbiAgICBwcml2YXRlIF9jYW1lcmFNZXNoITogQkFCWUxPTi5NZXNoO1xyXG4gICAgcHJpdmF0ZSBfY2FtZXJhTGluZXNNZXNoITogQkFCWUxPTi5NZXNoO1xyXG4gICAgcHJpdmF0ZSBfbWF0ZXJpYWw6IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbDtcclxuICAgIHByaXZhdGUgX3BvaW50ZXJPYnNlcnZlcjogTnVsbGFibGU8QkFCWUxPTi5PYnNlcnZlcjxCQUJZTE9OLlBvaW50ZXJJbmZvPj4gPSBudWxsO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgdGhhdCBmaXJlcyBlYWNoIHRpbWUgdGhlIGdpem1vIGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9uQ2xpY2tlZE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPEJBQllMT04uQ2FtZXJhPigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIENhbWVyYUdpem1vXHJcbiAgICAgKiBAcGFyYW0gZ2l6bW9MYXllciBUaGUgdXRpbGl0eSBsYXllciB0aGUgZ2l6bW8gd2lsbCBiZSBhZGRlZCB0b1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoZ2l6bW9MYXllcik7XHJcblxyXG4gICAgICAgIHRoaXMuX21hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcImNhbWVyYUdpem1vTWF0ZXJpYWxcIiwgdGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMC41LCAwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjEsIDAuMSwgMC4xKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcG9pbnRlck9ic2VydmVyID0gZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLmFkZCgocG9pbnRlckluZm8pID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGlzSG92ZXJlZCA9IHBvaW50ZXJJbmZvLnBpY2tJbmZvICYmICh0aGlzLl9yb290TWVzaC5nZXRDaGlsZE1lc2hlcygpLmluZGV4T2YoPEJBQllMT04uTWVzaD5wb2ludGVySW5mby5waWNrSW5mby5waWNrZWRNZXNoKSAhPSAtMSk7XHJcbiAgICAgICAgICAgIGlmIChpc0hvdmVyZWQgJiYgcG9pbnRlckluZm8uZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xpY2tlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX2NhbWVyYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBCQUJZTE9OLlBvaW50ZXJFdmVudFR5cGVzLlBPSU5URVJET1dOKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2NhbWVyYTogTnVsbGFibGU8QkFCWUxPTi5DYW1lcmE+ID0gbnVsbDtcclxuXHJcbiAgICAvKiogR2V0cyBvciBzZXRzIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGZydXN0dW0gbGluZXMgbXVzdCBiZSByZW5kZXJlZCAodHJ1ZSBieSBkZWZhdWx0KSkgKi9cclxuICAgIHB1YmxpYyBnZXQgZGlzcGxheUZydXN0dW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYUxpbmVzTWVzaC5pc0VuYWJsZWQoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZGlzcGxheUZydXN0dW0odmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9jYW1lcmFMaW5lc01lc2guc2V0RW5hYmxlZCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY2FtZXJhIHRoYXQgdGhlIGdpem1vIGlzIGF0dGFjaGVkIHRvXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXQgY2FtZXJhKGNhbWVyYTogTnVsbGFibGU8QkFCWUxPTi5DYW1lcmE+KSB7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoZWROb2RlID0gY2FtZXJhO1xyXG4gICAgICAgIGlmIChjYW1lcmEpIHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBtZXNoIGZvciB0aGUgZ2l2ZW4gY2FtZXJhXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFNZXNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmFNZXNoLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhTGluZXNNZXNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmFMaW5lc01lc2guZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYU1lc2ggPSBDYW1lcmFHaXptby5fQ3JlYXRlQ2FtZXJhTWVzaCh0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYW1lcmFMaW5lc01lc2ggPSBDYW1lcmFHaXptby5fQ3JlYXRlQ2FtZXJhRnJ1c3R1bSh0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fY2FtZXJhTWVzaC5nZXRDaGlsZE1lc2hlcyhmYWxzZSkuZm9yRWFjaCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IHRoaXMuX21hdGVyaWFsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fY2FtZXJhTWVzaC5wYXJlbnQgPSB0aGlzLl9yb290TWVzaDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYUxpbmVzTWVzaC5wYXJlbnQgPSB0aGlzLl9yb290TWVzaDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUuYWN0aXZlQ2FtZXJhICYmIHRoaXMuZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZS5hY3RpdmVDYW1lcmEubWF4WiA8IGNhbWVyYS5tYXhaICogMS41KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUuYWN0aXZlQ2FtZXJhLm1heFogPSBjYW1lcmEubWF4WiAqIDEuNTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmF0dGFjaGVkTm9kZSEucmVzZXJ2ZWREYXRhU3RvcmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWROb2RlIS5yZXNlcnZlZERhdGFTdG9yZSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoZWROb2RlIS5yZXNlcnZlZERhdGFTdG9yZS5jYW1lcmFHaXptbyA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgbGlnaHRpbmcgdG8gdGhlIGNhbWVyYSBnaXptb1xyXG4gICAgICAgICAgICB2YXIgZ2l6bW9MaWdodCA9IHRoaXMuZ2l6bW9MYXllci5fZ2V0U2hhcmVkR2l6bW9MaWdodCgpO1xyXG4gICAgICAgICAgICBnaXptb0xpZ2h0LmluY2x1ZGVkT25seU1lc2hlcyA9IGdpem1vTGlnaHQuaW5jbHVkZWRPbmx5TWVzaGVzLmNvbmNhdCh0aGlzLl9jYW1lcmFNZXNoLmdldENoaWxkTWVzaGVzKGZhbHNlKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBjYW1lcmEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1hdGVyaWFsIHVzZWQgdG8gcmVuZGVyIHRoZSBjYW1lcmEgZ2l6bW9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBtYXRlcmlhbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF0ZXJpYWw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqIFVwZGF0ZXMgdGhlIGdpem1vIHRvIG1hdGNoIHRoZSBhdHRhY2hlZCBtZXNoJ3MgcG9zaXRpb24vcm90YXRpb25cclxuICAgICAqL1xyXG5cclxuICAgIHByb3RlY3RlZCBfdXBkYXRlKCkge1xyXG4gICAgICAgIHN1cGVyLl91cGRhdGUoKTtcclxuICAgICAgICBpZiAoIXRoaXMuX2NhbWVyYSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmcnVzdHVtIG1hdHJpeFxyXG4gICAgICAgIHRoaXMuX2NhbWVyYS5nZXRQcm9qZWN0aW9uTWF0cml4KCkuaW52ZXJ0VG9SZWYodGhpcy5faW52UHJvamVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhTGluZXNNZXNoLnNldFBpdm90TWF0cml4KHRoaXMuX2ludlByb2plY3Rpb24sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2FtZXJhTGluZXNNZXNoLnNjYWxpbmcueCA9IDEgLyB0aGlzLl9yb290TWVzaC5zY2FsaW5nLng7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhTGluZXNNZXNoLnNjYWxpbmcueSA9IDEgLyB0aGlzLl9yb290TWVzaC5zY2FsaW5nLnk7XHJcbiAgICAgICAgdGhpcy5fY2FtZXJhTGluZXNNZXNoLnNjYWxpbmcueiA9IDEgLyB0aGlzLl9yb290TWVzaC5zY2FsaW5nLno7XHJcblxyXG4gICAgICAgIC8vIHRha2UgY2FyZSBvZiBjb29yZGluYXRlIHN5c3RlbSBpbiBjYW1lcmEgc2NlbmUgdG8gcHJvcGVybHkgZGlzcGxheSB0aGUgbWVzaCB3aXRoIHRoZSBnb29kIFkgYXhpcyBvcmllbnRhdGlvbiBpbiB0aGlzIHNjZW5lXHJcbiAgICAgICAgdGhpcy5fY2FtZXJhTWVzaC5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NhbWVyYU1lc2gucm90YXRpb24ueSA9IE1hdGguUEkgKiAwLjUgKiAodGhpcy5fY2FtZXJhLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0gPyAxIDogLTEpO1xyXG4gICAgICAgIHRoaXMuX2NhbWVyYU1lc2gucGFyZW50ID0gdGhpcy5fcm9vdE1lc2g7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RhdGljIGhlbHBlciBtZXRob2RzXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfU2NhbGUgPSAwLjA1O1xyXG4gICAgcHJpdmF0ZSBfaW52UHJvamVjdGlvbiA9IG5ldyBCQUJZTE9OLk1hdHJpeCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcG9zZXMgb2YgdGhlIGNhbWVyYSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLm9uQ2xpY2tlZE9ic2VydmFibGUuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlck9ic2VydmVyKTtcclxuICAgICAgICBpZiAodGhpcy5fY2FtZXJhTWVzaCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW1lcmFNZXNoLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUxpbmVzTWVzaCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW1lcmFMaW5lc01lc2guZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9tYXRlcmlhbC5kaXNwb3NlKCk7XHJcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9DcmVhdGVDYW1lcmFNZXNoKHNjZW5lOiBCQUJZTE9OLlNjZW5lKSB7XHJcbiAgICAgICAgdmFyIHJvb3QgPSBuZXcgQkFCWUxPTi5NZXNoKFwicm9vdENhbWVyYUdpem1vXCIsIHNjZW5lKTtcclxuXHJcbiAgICAgICAgdmFyIG1lc2ggPSBuZXcgQkFCWUxPTi5NZXNoKHJvb3QubmFtZSwgc2NlbmUpO1xyXG4gICAgICAgIG1lc2gucGFyZW50ID0gcm9vdDtcclxuXHJcbiAgICAgICAgdmFyIGJveCA9IEJBQllMT04uQm94QnVpbGRlci5DcmVhdGVCb3gocm9vdC5uYW1lLCB7d2lkdGg6IDEuMCwgaGVpZ2h0OiAwLjgsIGRlcHRoOiAwLjUgfSwgc2NlbmUpO1xyXG4gICAgICAgIGJveC5wYXJlbnQgPSBtZXNoO1xyXG5cclxuICAgICAgICB2YXIgY3lsMSA9IEJBQllMT04uQ3lsaW5kZXJCdWlsZGVyLkNyZWF0ZUN5bGluZGVyKHJvb3QubmFtZSwge2hlaWdodDogMC41LCBkaWFtZXRlclRvcDogMC44LCBkaWFtZXRlckJvdHRvbTogMC44fSwgc2NlbmUpO1xyXG4gICAgICAgIGN5bDEucGFyZW50ID0gbWVzaDtcclxuICAgICAgICBjeWwxLnBvc2l0aW9uLnkgPSAwLjM7XHJcbiAgICAgICAgY3lsMS5wb3NpdGlvbi54ID0gLTAuNjtcclxuICAgICAgICBjeWwxLnJvdGF0aW9uLnggPSBNYXRoLlBJICogMC41O1xyXG5cclxuICAgICAgICB2YXIgY3lsMiA9IEJBQllMT04uQ3lsaW5kZXJCdWlsZGVyLkNyZWF0ZUN5bGluZGVyKHJvb3QubmFtZSwge2hlaWdodDogMC41LCBkaWFtZXRlclRvcDogMC42LCBkaWFtZXRlckJvdHRvbTogMC42fSwgc2NlbmUpO1xyXG4gICAgICAgIGN5bDIucGFyZW50ID0gbWVzaDtcclxuICAgICAgICBjeWwyLnBvc2l0aW9uLnkgPSAwLjU7XHJcbiAgICAgICAgY3lsMi5wb3NpdGlvbi54ID0gMC40O1xyXG4gICAgICAgIGN5bDIucm90YXRpb24ueCA9IE1hdGguUEkgKiAwLjU7XHJcblxyXG4gICAgICAgIHZhciBjeWwzID0gQkFCWUxPTi5DeWxpbmRlckJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIocm9vdC5uYW1lLCB7aGVpZ2h0OiAwLjUsIGRpYW1ldGVyVG9wOiAwLjUsIGRpYW1ldGVyQm90dG9tOiAwLjV9LCBzY2VuZSk7XHJcbiAgICAgICAgY3lsMy5wYXJlbnQgPSBtZXNoO1xyXG4gICAgICAgIGN5bDMucG9zaXRpb24ueSA9IDAuMDtcclxuICAgICAgICBjeWwzLnBvc2l0aW9uLnggPSAwLjY7XHJcbiAgICAgICAgY3lsMy5yb3RhdGlvbi56ID0gTWF0aC5QSSAqIDAuNTtcclxuXHJcbiAgICAgICAgcm9vdC5zY2FsaW5nLnNjYWxlSW5QbGFjZShDYW1lcmFHaXptby5fU2NhbGUpO1xyXG4gICAgICAgIG1lc2gucG9zaXRpb24ueCA9IC0wLjk7XHJcblxyXG4gICAgICAgIHJldHVybiByb290O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9DcmVhdGVDYW1lcmFGcnVzdHVtKHNjZW5lOiBCQUJZTE9OLlNjZW5lKSB7XHJcbiAgICAgICAgdmFyIHJvb3QgPSBuZXcgQkFCWUxPTi5NZXNoKFwicm9vdENhbWVyYUdpem1vXCIsIHNjZW5lKTtcclxuICAgICAgICB2YXIgbWVzaCA9IG5ldyBCQUJZTE9OLk1lc2gocm9vdC5uYW1lLCBzY2VuZSk7XHJcbiAgICAgICAgbWVzaC5wYXJlbnQgPSByb290O1xyXG5cclxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IDQ7IHkgKz0gMilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgNDsgeCArPSAyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IEJBQllMT04uTGluZXNCdWlsZGVyLkNyZWF0ZUxpbmVzKFwibGluZXNcIiwgeyBwb2ludHM6IFtuZXcgQkFCWUxPTi5WZWN0b3IzKC0xICsgeCwgLTEgKyB5LCAtMSksIG5ldyBCQUJZTE9OLlZlY3RvcjMoLTEgKyB4LCAtMSArIHksIDEpXSB9LCBzY2VuZSk7XHJcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IG1lc2g7XHJcbiAgICAgICAgICAgICAgICBsaW5lLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsaW5lLmlzUGlja2FibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gQkFCWUxPTi5MaW5lc0J1aWxkZXIuQ3JlYXRlTGluZXMoXCJsaW5lc1wiLCB7IHBvaW50czogW25ldyBCQUJZTE9OLlZlY3RvcjMoLTEsIC0xICsgeCwgLTEgKyB5KSwgbmV3IEJBQllMT04uVmVjdG9yMygxLCAtMSArIHgsIC0xICsgeSldIH0sIHNjZW5lKTtcclxuICAgICAgICAgICAgICAgIGxpbmUucGFyZW50ID0gbWVzaDtcclxuICAgICAgICAgICAgICAgIGxpbmUuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxpbmUuaXNQaWNrYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBCQUJZTE9OLkxpbmVzQnVpbGRlci5DcmVhdGVMaW5lcyhcImxpbmVzXCIsIHsgcG9pbnRzOiBbbmV3IEJBQllMT04uVmVjdG9yMygtMSArIHgsIC0xLCAtMSArIHkpLCBuZXcgQkFCWUxPTi5WZWN0b3IzKC0xICsgeCwgIDEsIC0xICsgeSldIH0sIHNjZW5lKTtcclxuICAgICAgICAgICAgICAgIGxpbmUucGFyZW50ID0gbWVzaDtcclxuICAgICAgICAgICAgICAgIGxpbmUuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxpbmUuaXNQaWNrYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2xpYlwiO1xyXG5pbXBvcnQgeyBHaXptb01hbmFnZXIgfSBmcm9tIFwiLlwiO1xyXG5pbXBvcnQgeyBUb29scyB9IGZyb20gXCIuLi91dGlsaXR5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2l6bW9zQ2VudGVyIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1vZGU6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdpem1vTWFuYWdlcjogR2l6bW9NYW5hZ2VyO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3VycmVudEl0ZW1zOiBPYnNlcnZlcltdID0gW107XHJcbiAgICBwdWJsaWMgc3RhdGljIGN1cnJlbnRFdmVudHM6IEV2ZW50SGFuZGxlW10gPSBbXTtcclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGluaXQoc2NlbmU6IEJBQllMT04uU2NlbmUpIHtcclxuICAgICAgICBHaXptb3NDZW50ZXIuZ2l6bW9NYW5hZ2VyID0gbmV3IEdpem1vTWFuYWdlcihzY2VuZSk7XHJcbiAgICAgICAgR2l6bW9zQ2VudGVyLmdpem1vTWFuYWdlci5wb3NpdGlvbkdpem1vRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgR2l6bW9zQ2VudGVyLmdpem1vTWFuYWdlci5yb3RhdGlvbkdpem1vRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgR2l6bW9zQ2VudGVyLmdpem1vTWFuYWdlci5zY2FsZUdpem1vRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgR2l6bW9zQ2VudGVyLmdpem1vTWFuYWdlci5naXptb3MucG9zaXRpb25HaXptbyEuc2NhbGVSYXRpbyA9IDI7XHJcbiAgICAgICAgR2l6bW9zQ2VudGVyLmdpem1vTWFuYWdlci5naXptb3Mucm90YXRpb25HaXptbyEuc2NhbGVSYXRpbyA9IDI7XHJcbiAgICAgICAgR2l6bW9zQ2VudGVyLmdpem1vTWFuYWdlci5naXptb3Muc2NhbGVHaXptbyEuc2NhbGVSYXRpbyA9IDI7XHJcbiAgICAgICAgR2l6bW9zQ2VudGVyLmdpem1vTWFuYWdlci5wb3NpdGlvbkdpem1vRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIEdpem1vc0NlbnRlci5naXptb01hbmFnZXIucm90YXRpb25HaXptb0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBHaXptb3NDZW50ZXIuZ2l6bW9NYW5hZ2VyLnNjYWxlR2l6bW9FbmFibGVkID0gZmFsc2U7XHJcblxyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdzZWxlY3RvcjpjaGFuZ2UnLCAodHlwZTogc3RyaW5nLCBpdGVtczogT2JzZXJ2ZXJbXSkgPT4ge1xyXG4gICAgICAgICAgICBHaXptb3NDZW50ZXIuY2xlYXIoKTtcclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdlbnRpdHknKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgR2l6bW9zQ2VudGVyLmF0dGFjaChpdGVtc1swXS5ub2RlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWIm+W7uuS4gOS4quepuueJqeS9k+S9nOS4uuaJgOacieeJqeS9k+eahOeItueJqeS9k++8m1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOiusOW9leWOn+Wni+eItueJqeS9k++8m1xyXG4gICAgICAgICAgICAgICAgICAgIEdpem1vc0NlbnRlci5hdHRhY2goaXRlbXNbaXRlbXMubGVuZ3RoIC0gMV0ubm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY3VycmVudEl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnRzLnB1c2godGhpcy5jdXJyZW50SXRlbXNbaV0ub24oJ3Bvc2l0aW9uOnNldCcsICh2YWw6IGFueSkgPT4ge30pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudHMucHVzaCh0aGlzLmN1cnJlbnRJdGVtc1tpXS5vbigncG9zaXRpb24uMDpzZXQnLCAodmFsOiBhbnkpID0+IHt9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnRzLnB1c2godGhpcy5jdXJyZW50SXRlbXNbaV0ub24oJ3Bvc2l0aW9uLjE6c2V0JywgKHZhbDogYW55KSA9PiB7fSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50cy5wdXNoKHRoaXMuY3VycmVudEl0ZW1zW2ldLm9uKCdwb3NpdGlvbi4yOnNldCcsICh2YWw6IGFueSkgPT4ge30pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudHMucHVzaCh0aGlzLmN1cnJlbnRJdGVtc1tpXS5vbigncm90YXRpb246c2V0JywgKHZhbDogYW55KSA9PiB7fSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50cy5wdXNoKHRoaXMuY3VycmVudEl0ZW1zW2ldLm9uKCdyb3RhdGlvbi4wOnNldCcsICh2YWw6IGFueSkgPT4ge30pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudHMucHVzaCh0aGlzLmN1cnJlbnRJdGVtc1tpXS5vbigncm90YXRpb24uMTpzZXQnLCAodmFsOiBhbnkpID0+IHt9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnRzLnB1c2godGhpcy5jdXJyZW50SXRlbXNbaV0ub24oJ3JvdGF0aW9uLjI6c2V0JywgKHZhbDogYW55KSA9PiB7fSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50cy5wdXNoKHRoaXMuY3VycmVudEl0ZW1zW2ldLm9uKCdzY2FsZTpzZXQnLCAodmFsOiBhbnkpID0+IHt9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnRzLnB1c2godGhpcy5jdXJyZW50SXRlbXNbaV0ub24oJ3NjYWxlLjA6c2V0JywgKHZhbDogYW55KSA9PiB7fSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50cy5wdXNoKHRoaXMuY3VycmVudEl0ZW1zW2ldLm9uKCdzY2FsZS4xOnNldCcsICh2YWw6IGFueSkgPT4ge30pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudHMucHVzaCh0aGlzLmN1cnJlbnRJdGVtc1tpXS5vbignc2NhbGUuMjpzZXQnLCAodmFsOiBhbnkpID0+IHt9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldE1vZGUobTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gbTtcclxuICAgICAgICBpZiAodGhpcy5tb2RlID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5naXptb01hbmFnZXIucG9zaXRpb25HaXptb0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdpem1vTWFuYWdlci5yb3RhdGlvbkdpem1vRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmdpem1vTWFuYWdlci5zY2FsZUdpem1vRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9NYW5hZ2VyLnBvc2l0aW9uR2l6bW9FbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9NYW5hZ2VyLnJvdGF0aW9uR2l6bW9FbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5naXptb01hbmFnZXIuc2NhbGVHaXptb0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdpem1vTWFuYWdlci5wb3NpdGlvbkdpem1vRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmdpem1vTWFuYWdlci5yb3RhdGlvbkdpem1vRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmdpem1vTWFuYWdlci5zY2FsZUdpem1vRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXR0YWNoKG1lc2g6IE51bGxhYmxlPEJBQllMT04uTm9kZT4pOiB2b2lkIHtcclxuICAgICAgICBpZiAobWVzaCBpbnN0YW5jZW9mIEJBQllMT04uQWJzdHJhY3RNZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9NYW5hZ2VyLmF0dGFjaFRvTWVzaChtZXNoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdpem1vTWFuYWdlci5hdHRhY2hUb05vZGUobWVzaCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldE1vZGUodGhpcy5tb2RlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRQb3NpdGlvbihwb3M6IEJBQllMT04uVmVjdG9yMyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1swXS5zZXQoJ3Bvc2l0aW9uLjAnLCBwb3MueCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1swXS5zZXQoJ3Bvc2l0aW9uLjEnLCBwb3MueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1swXS5zZXQoJ3Bvc2l0aW9uLjInLCBwb3Mueik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1t0aGlzLmN1cnJlbnRJdGVtcy5sZW5ndGggLSAxXS5zZXQoJ3Bvc2l0aW9uLjAnLCBwb3MueCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1t0aGlzLmN1cnJlbnRJdGVtcy5sZW5ndGggLSAxXS5zZXQoJ3Bvc2l0aW9uLjEnLCBwb3MueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1t0aGlzLmN1cnJlbnRJdGVtcy5sZW5ndGggLSAxXS5zZXQoJ3Bvc2l0aW9uLjInLCBwb3Mueik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRSb3RhdGlvbihyb3RhdGlvbjogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGV1bGVyQW5nbGUgPSBUb29scy5yYWRpYW5Ub0V1bGVyQW5nbGUocm90YXRpb24pO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50SXRlbXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1swXS5zZXQoJ3JvdGF0aW9uLjAnLCBldWxlckFuZ2xlLngpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNbMF0uc2V0KCdyb3RhdGlvbi4xJywgZXVsZXJBbmdsZS55KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1zWzBdLnNldCgncm90YXRpb24uMicsIGV1bGVyQW5nbGUueik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1t0aGlzLmN1cnJlbnRJdGVtcy5sZW5ndGggLSAxXS5zZXQoJ3JvdGF0aW9uLjAnLCBldWxlckFuZ2xlLngpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNbdGhpcy5jdXJyZW50SXRlbXMubGVuZ3RoIC0gMV0uc2V0KCdyb3RhdGlvbi4xJywgZXVsZXJBbmdsZS55KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1zW3RoaXMuY3VycmVudEl0ZW1zLmxlbmd0aCAtIDFdLnNldCgncm90YXRpb24uMicsIGV1bGVyQW5nbGUueik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTY2FsZShzY2FsZTogQkFCWUxPTi5WZWN0b3IzKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJdGVtcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1zWzBdLnNldCgnc2NhbGUuMCcsIHNjYWxlLngpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNbMF0uc2V0KCdzY2FsZS4xJywgc2NhbGUueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1swXS5zZXQoJ3NjYWxlLjInLCBzY2FsZS56KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEl0ZW1zW3RoaXMuY3VycmVudEl0ZW1zLmxlbmd0aCAtIDFdLnNldCgnc2NhbGUuMCcsIHNjYWxlLngpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbXNbdGhpcy5jdXJyZW50SXRlbXMubGVuZ3RoIC0gMV0uc2V0KCdzY2FsZS4xJywgc2NhbGUueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJdGVtc1t0aGlzLmN1cnJlbnRJdGVtcy5sZW5ndGggLSAxXS5zZXQoJ3NjYWxlLjInLCBzY2FsZS56KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2l6bW9NYW5hZ2VyLmF0dGFjaFRvTWVzaChudWxsKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50RXZlbnRzICYmIHRoaXMuY3VycmVudEV2ZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50RXZlbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnRzW2ldLnVuYmluZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRFdmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJdGVtcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59IiwiLy8gaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vTWlzYy9vYnNlcnZhYmxlXCI7XHJcbi8vIGltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbi8vIGltcG9ydCB7IFdlYlZSRnJlZUNhbWVyYSB9IGZyb20gXCIuLi9DYW1lcmFzL1ZSL3dlYlZSQ2FtZXJhXCI7XHJcbi8vIGltcG9ydCB7IFNjZW5lLCBJRGlzcG9zYWJsZSB9IGZyb20gXCIuLi9zY2VuZVwiO1xyXG4vLyBpbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzLCBNYXRyaXggfSBmcm9tIFwiLi4vTWF0aHMvbWF0aC52ZWN0b3JcIjtcclxuLy8gaW1wb3J0IHsgQWJzdHJhY3RNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9hYnN0cmFjdE1lc2hcIjtcclxuLy8gaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvbWVzaFwiO1xyXG4vLyBpbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vQ2FtZXJhcy9jYW1lcmFcIjtcclxuLy8gaW1wb3J0IHsgVGFyZ2V0Q2FtZXJhIH0gZnJvbSBcIi4uL0NhbWVyYXMvdGFyZ2V0Q2FtZXJhXCI7XHJcbi8vIGltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi4vbm9kZVwiO1xyXG4vLyBpbXBvcnQgeyBCb25lIH0gZnJvbSBcIi4uL0JvbmVzL2JvbmVcIjtcclxuLy8gaW1wb3J0IHsgVXRpbGl0eUxheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vUmVuZGVyaW5nL3V0aWxpdHlMYXllclJlbmRlcmVyXCI7XHJcbi8vIGltcG9ydCB7IFRyYW5zZm9ybU5vZGUgfSBmcm9tICcuLi9NZXNoZXMvdHJhbnNmb3JtTm9kZSc7XHJcblxyXG5pbXBvcnQgeyBHaXptb3NDZW50ZXIgfSBmcm9tIFwiLlwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBSZW5kZXJzIGdpem1vcyBvbiB0b3Agb2YgYW4gZXhpc3Rpbmcgc2NlbmUgd2hpY2ggcHJvdmlkZSBjb250cm9scyBmb3IgcG9zaXRpb24sIHJvdGF0aW9uLCBldGMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR2l6bW8gaW1wbGVtZW50cyBCQUJZTE9OLklEaXNwb3NhYmxlIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHJvb3QgbWVzaCBvZiB0aGUgZ2l6bW9cclxuICAgICAqL1xyXG4gICAgcHVibGljIF9yb290TWVzaDogQkFCWUxPTi5NZXNoO1xyXG4gICAgcHJpdmF0ZSBfYXR0YWNoZWRNZXNoOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfYXR0YWNoZWROb2RlOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+ID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJhdGlvIGZvciB0aGUgc2NhbGUgb2YgdGhlIGdpem1vIChEZWZhdWx0OiAxKVxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgX3NjYWxlUmF0aW8gPSAxO1xyXG5cclxuICAgIHByb3RlY3RlZCBfb3BlcmF0aW9uVHlwZTogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSYXRpbyBmb3IgdGhlIHNjYWxlIG9mIHRoZSBnaXptbyAoRGVmYXVsdDogMSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldCBzY2FsZVJhdGlvKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zY2FsZVJhdGlvID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzY2FsZVJhdGlvKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zY2FsZVJhdGlvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBhIGN1c3RvbSBtZXNoIGhhcyBiZWVuIHNldCAoRGVmYXVsdDogZmFsc2UpXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfY3VzdG9tTWVzaFNldCA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNZXNoIHRoYXQgdGhlIGdpem1vIHdpbGwgYmUgYXR0YWNoZWQgdG8uIChlZy4gb24gYSBkcmFnIGdpem1vIHRoZSBtZXNoIHRoYXQgd2lsbCBiZSBkcmFnZ2VkKVxyXG4gICAgICogKiBXaGVuIHNldCwgaW50ZXJhY3Rpb25zIHdpbGwgYmUgZW5hYmxlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGF0dGFjaGVkTWVzaCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRNZXNoO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBhdHRhY2hlZE1lc2godmFsdWU6IE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPikge1xyXG4gICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaCA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZE5vZGUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcm9vdE1lc2guc2V0RW5hYmxlZCh2YWx1ZSA/IHRydWUgOiBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5fYXR0YWNoZWROb2RlQ2hhbmdlZCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE5vZGUgdGhhdCB0aGUgZ2l6bW8gd2lsbCBiZSBhdHRhY2hlZCB0by4gKGVnLiBvbiBhIGRyYWcgZ2l6bW8gdGhlIG1lc2gsIGJvbmUgb3IgTm9kZVRyYW5zZm9ybSB0aGF0IHdpbGwgYmUgZHJhZ2dlZClcclxuICAgICAqICogV2hlbiBzZXQsIGludGVyYWN0aW9ucyB3aWxsIGJlIGVuYWJsZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBhdHRhY2hlZE5vZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkTm9kZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgYXR0YWNoZWROb2RlKHZhbHVlOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+KSB7XHJcbiAgICAgICAgdGhpcy5fYXR0YWNoZWROb2RlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRNZXNoID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9yb290TWVzaC5zZXRFbmFibGVkKHZhbHVlID8gdHJ1ZSA6IGZhbHNlKTtcclxuICAgICAgICB0aGlzLl9hdHRhY2hlZE5vZGVDaGFuZ2VkKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIGFuZCByZXBsYWNlcyB0aGUgY3VycmVudCBtZXNoZXMgaW4gdGhlIGdpem1vIHdpdGggdGhlIHNwZWNpZmllZCBtZXNoXHJcbiAgICAgKiBAcGFyYW0gbWVzaCBUaGUgbWVzaCB0byByZXBsYWNlIHRoZSBkZWZhdWx0IG1lc2ggb2YgdGhlIGdpem1vXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRDdXN0b21NZXNoKG1lc2g6IEJBQllMT04uTWVzaCkge1xyXG4gICAgICAgIGlmIChtZXNoLmdldFNjZW5lKCkgIT0gdGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiV2hlbiBzZXR0aW5nIGEgY3VzdG9tIG1lc2ggb24gYSBnaXptbywgdGhlIGN1c3RvbSBtZXNoZXMgc2NlbmUgbXVzdCBiZSB0aGUgc2FtZSBhcyB0aGUgZ2l6bW9zIChlZy4gZ2l6bW8uZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSlcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcm9vdE1lc2guZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKChjKSA9PiB7XHJcbiAgICAgICAgICAgIGMuZGlzcG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lc2gucGFyZW50ID0gdGhpcy5fcm9vdE1lc2g7XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tTWVzaFNldCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF91cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCA9IHRydWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBzZXQgdGhlIGdpem1vJ3Mgcm90YXRpb24gd2lsbCBiZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBhdHRhY2hlZCBtZXNoIGVhY2ggZnJhbWUgKERlZmF1bHQ6IHRydWUpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXQgdXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2godmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl91cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCB1cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2g7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIElmIHNldCB0aGUgZ2l6bW8ncyBwb3NpdGlvbiB3aWxsIGJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIGF0dGFjaGVkIG1lc2ggZWFjaCBmcmFtZSAoRGVmYXVsdDogdHJ1ZSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZUdpem1vUG9zaXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoID0gdHJ1ZTtcclxuICAgIC8qKlxyXG4gICAgICogV2hlbiBzZXQsIHRoZSBnaXptbyB3aWxsIGFsd2F5cyBhcHBlYXIgdGhlIHNhbWUgc2l6ZSBubyBtYXR0ZXIgd2hlcmUgdGhlIGNhbWVyYSBpcyAoZGVmYXVsdDogdHJ1ZSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZVNjYWxlID0gdHJ1ZTtcclxuICAgIHByb3RlY3RlZCBfaW50ZXJhY3Rpb25zRW5hYmxlZCA9IHRydWU7XHJcbiAgICBwcm90ZWN0ZWQgX2F0dGFjaGVkTm9kZUNoYW5nZWQodmFsdWU6IE51bGxhYmxlPEJBQllMT04uTm9kZT4pIHtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9iZWZvcmVSZW5kZXJPYnNlcnZlcjogTnVsbGFibGU8QkFCWUxPTi5PYnNlcnZlcjxCQUJZTE9OLlNjZW5lPj47XHJcbiAgICBwcml2YXRlIF90ZW1wUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XHJcbiAgICBwcml2YXRlIF90ZW1wVmVjdG9yID0gbmV3IEJBQllMT04uVmVjdG9yMygpO1xyXG4gICAgcHJpdmF0ZSBfdGVtcFZlY3RvcjIgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKCk7XHJcbiAgICBwcml2YXRlIF90ZW1wTWF0cml4MSA9IG5ldyBCQUJZTE9OLk1hdHJpeCgpO1xyXG4gICAgcHJpdmF0ZSBfdGVtcE1hdHJpeDIgPSBuZXcgQkFCWUxPTi5NYXRyaXgoKTtcclxuICAgIHByaXZhdGUgX3JpZ2h0SGFuZHRvTGVmdEhhbmRNYXRyaXggPSBCQUJZTE9OLk1hdHJpeC5Sb3RhdGlvblkoTWF0aC5QSSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgZ2l6bW9cclxuICAgICAqIEBwYXJhbSBnaXptb0xheWVyIFRoZSB1dGlsaXR5IGxheWVyIHRoZSBnaXptbyB3aWxsIGJlIGFkZGVkIHRvXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIC8qKiBUaGUgdXRpbGl0eSBsYXllciB0aGUgZ2l6bW8gd2lsbCBiZSBhZGRlZCB0byAqL1xyXG4gICAgICAgIHB1YmxpYyBnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3Jvb3RNZXNoID0gbmV3IEJBQllMT04uTWVzaChcImdpem1vUm9vdE5vZGVcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgdGhpcy5fcm9vdE1lc2gucm90YXRpb25RdWF0ZXJuaW9uID0gQkFCWUxPTi5RdWF0ZXJuaW9uLklkZW50aXR5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2JlZm9yZVJlbmRlck9ic2VydmVyID0gdGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIGdpem1vIHRvIG1hdGNoIHRoZSBhdHRhY2hlZCBtZXNoJ3MgcG9zaXRpb24vcm90YXRpb25cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF91cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWROb2RlKSB7XHJcbiAgICAgICAgICAgIHZhciBlZmZlY3RpdmVOb2RlID0gdGhpcy5hdHRhY2hlZE5vZGU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaGVkTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0aXZlTm9kZSA9IHRoaXMuYXR0YWNoZWRNZXNoLl9lZmZlY3RpdmVNZXNoIHx8IHRoaXMuYXR0YWNoZWROb2RlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQb3NpdGlvblxyXG4gICAgICAgICAgICBpZiAodGhpcy51cGRhdGVHaXptb1Bvc2l0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gZWZmZWN0aXZlTm9kZS5nZXRXb3JsZE1hdHJpeCgpLmdldFJvdygzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gcm93ID8gcm93LnRvVmVjdG9yMygpIDogbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RNZXNoLnBvc2l0aW9uLmNvcHlGcm9tKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUm90YXRpb25cclxuICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2gpIHtcclxuICAgICAgICAgICAgICAgIGVmZmVjdGl2ZU5vZGUuZ2V0V29ybGRNYXRyaXgoKS5kZWNvbXBvc2UodW5kZWZpbmVkLCB0aGlzLl9yb290TWVzaC5yb3RhdGlvblF1YXRlcm5pb24hKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yb290TWVzaC5yb3RhdGlvblF1YXRlcm5pb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290TWVzaC5yb3RhdGlvblF1YXRlcm5pb24hLnNldCgwLCAwLCAwLCAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdE1lc2gucm90YXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTY2FsZVxyXG4gICAgICAgICAgICBpZiAodGhpcy51cGRhdGVTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlQ2FtZXJhID0gdGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lLmFjdGl2ZUNhbWVyYSE7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FtZXJhUG9zaXRpb24gPSBhY3RpdmVDYW1lcmEuZ2xvYmFsUG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICBpZiAoKDxCQUJZTE9OLldlYlZSRnJlZUNhbWVyYT5hY3RpdmVDYW1lcmEpLmRldmljZVBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhUG9zaXRpb24gPSAoPEJBQllMT04uV2ViVlJGcmVlQ2FtZXJhPmFjdGl2ZUNhbWVyYSkuZGV2aWNlUG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290TWVzaC5wb3NpdGlvbi5zdWJ0cmFjdFRvUmVmKGNhbWVyYVBvc2l0aW9uLCB0aGlzLl90ZW1wVmVjdG9yKTtcclxuICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gdGhpcy5fdGVtcFZlY3Rvci5sZW5ndGgoKSAqIHRoaXMuc2NhbGVSYXRpbztcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RNZXNoLnNjYWxpbmcuc2V0KGRpc3QsIGRpc3QsIGRpc3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIGhhbmRlZG5lc3MsIHNpbWlsYXIgdG8gTWF0cml4LmRlY29tcG9zZVxyXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdGl2ZU5vZGUuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yb290TWVzaC5zY2FsaW5nLnkgKj0gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290TWVzaC5zY2FsaW5nLnNldEFsbCh0aGlzLnNjYWxlUmF0aW8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29tcHV0ZXMgdGhlIHJvdGF0aW9uL3NjYWxpbmcvcG9zaXRpb24gb2YgdGhlIHRyYW5zZm9ybSBvbmNlIHRoZSBOb2RlIHdvcmxkIG1hdHJpeCBoYXMgY2hhbmdlZC5cclxuICAgICAqIEBwYXJhbSB2YWx1ZSBOb2RlLCBUcmFuc2Zvcm1Ob2RlIG9yIG1lc2hcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF9tYXRyaXhDaGFuZ2VkKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fYXR0YWNoZWROb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgoPEJBQllMT04uQ2FtZXJhPnRoaXMuX2F0dGFjaGVkTm9kZSkuX2lzQ2FtZXJhKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW1lcmEgPSB0aGlzLl9hdHRhY2hlZE5vZGUgYXMgQkFCWUxPTi5DYW1lcmE7XHJcbiAgICAgICAgICAgIHZhciB3b3JsZE1hdHJpeDtcclxuICAgICAgICAgICAgdmFyIHdvcmxkTWF0cml4VUM7XHJcbiAgICAgICAgICAgIGlmIChjYW1lcmEucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50SW52ID0gdGhpcy5fdGVtcE1hdHJpeDI7XHJcbiAgICAgICAgICAgICAgICBjYW1lcmEucGFyZW50Ll93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZihwYXJlbnRJbnYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWROb2RlLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKHBhcmVudEludiwgdGhpcy5fdGVtcE1hdHJpeDEpO1xyXG4gICAgICAgICAgICAgICAgd29ybGRNYXRyaXggPSB0aGlzLl90ZW1wTWF0cml4MTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdvcmxkTWF0cml4ID0gdGhpcy5fYXR0YWNoZWROb2RlLl93b3JsZE1hdHJpeDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNhbWVyYS5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBkZXN5bmMgd2l0aCBSSCBtYXRyaXggY29tcHV0YXRpb24uIE90aGVyd2lzZSwgcm90YXRpb24gb2YgUEkgYXJvdW5kIFkgYXhpcyBoYXBwZW5zIGVhY2ggZnJhbWUgcmVzdWx0aW5nIGluIGF4aXMgZmxpcHBlZCBiZWNhdXNlIHdvcmxkTWF0cml4IGlzIGNvbXB1dGVkIGFzIGludmVyc2Ugb2Ygdmlld01hdHJpeC5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3JpZ2h0SGFuZHRvTGVmdEhhbmRNYXRyaXgubXVsdGlwbHlUb1JlZih3b3JsZE1hdHJpeCwgdGhpcy5fdGVtcE1hdHJpeDIpO1xyXG4gICAgICAgICAgICAgICAgd29ybGRNYXRyaXhVQyA9IHRoaXMuX3RlbXBNYXRyaXgyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd29ybGRNYXRyaXhVQyA9IHdvcmxkTWF0cml4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB3b3JsZE1hdHJpeFVDLmRlY29tcG9zZSh0aGlzLl90ZW1wVmVjdG9yMiwgdGhpcy5fdGVtcFF1YXRlcm5pb24sIHRoaXMuX3RlbXBWZWN0b3IpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGluaGVyaXRzVGFyZ2V0Q2FtZXJhID0gdGhpcy5fYXR0YWNoZWROb2RlLmdldENsYXNzTmFtZSgpID09PSBcIkZyZWVDYW1lcmFcIlxyXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5fYXR0YWNoZWROb2RlLmdldENsYXNzTmFtZSgpID09PSBcIkZseUNhbWVyYVwiXHJcbiAgICAgICAgICAgICAgICB8fCB0aGlzLl9hdHRhY2hlZE5vZGUuZ2V0Q2xhc3NOYW1lKCkgPT09IFwiQXJjRm9sbG93Q2FtZXJhXCJcclxuICAgICAgICAgICAgICAgIHx8IHRoaXMuX2F0dGFjaGVkTm9kZS5nZXRDbGFzc05hbWUoKSA9PT0gXCJUYXJnZXRDYW1lcmFcIlxyXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5fYXR0YWNoZWROb2RlLmdldENsYXNzTmFtZSgpID09PSBcIlRvdWNoQ2FtZXJhXCJcclxuICAgICAgICAgICAgICAgIHx8IHRoaXMuX2F0dGFjaGVkTm9kZS5nZXRDbGFzc05hbWUoKSA9PT0gXCJVbml2ZXJzYWxDYW1lcmFcIjtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmhlcml0c1RhcmdldENhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldENhbWVyYSA9IHRoaXMuX2F0dGFjaGVkTm9kZSBhcyBCQUJZTE9OLlRhcmdldENhbWVyYTtcclxuICAgICAgICAgICAgICAgIHRhcmdldENhbWVyYS5yb3RhdGlvbiA9IHRoaXMuX3RlbXBRdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Q2FtZXJhLnJvdGF0aW9uUXVhdGVybmlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENhbWVyYS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5fdGVtcFF1YXRlcm5pb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYW1lcmEucG9zaXRpb24uY29weUZyb20odGhpcy5fdGVtcFZlY3Rvcik7XHJcbiAgICAgICAgfSBlbHNlIGlmICgoPEJBQllMT04uTWVzaD50aGlzLl9hdHRhY2hlZE5vZGUpLl9pc01lc2ggfHwgdGhpcy5fYXR0YWNoZWROb2RlLmdldENsYXNzTmFtZSgpID09PSBcIkFic3RyYWN0TWVzaFwiIHx8IHRoaXMuX2F0dGFjaGVkTm9kZS5nZXRDbGFzc05hbWUoKSA9PT0gXCJUcmFuc2Zvcm1Ob2RlXCIgfHwgdGhpcy5fYXR0YWNoZWROb2RlLmdldENsYXNzTmFtZSgpID09PSBcIkluc3RhbmNlZE1lc2hcIikge1xyXG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5fYXR0YWNoZWROb2RlIGFzIEJBQllMT04uVHJhbnNmb3JtTm9kZTtcclxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJbnYgPSB0aGlzLl90ZW1wTWF0cml4MTtcclxuICAgICAgICAgICAgICAgIHZhciBsb2NhbE1hdCA9IHRoaXMuX3RlbXBNYXRyaXgyO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHBhcmVudEludik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZE5vZGUuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYocGFyZW50SW52LCBsb2NhbE1hdCk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbE1hdC5kZWNvbXBvc2UodHJhbnNmb3JtLnNjYWxpbmcsIHRoaXMuX3RlbXBRdWF0ZXJuaW9uLCB0cmFuc2Zvcm0ucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWROb2RlLl93b3JsZE1hdHJpeC5kZWNvbXBvc2UodHJhbnNmb3JtLnNjYWxpbmcsIHRoaXMuX3RlbXBRdWF0ZXJuaW9uLCB0cmFuc2Zvcm0ucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMuX3RlbXBRdWF0ZXJuaW9uKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHRoaXMuX3RlbXBRdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4odGhpcy5fb3BlcmF0aW9uVHlwZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcGVyYXRpb25UeXBlID09PSAndHJhbnNsYXRlJyB8fCB0aGlzLl9vcGVyYXRpb25UeXBlID09PSAncGxhbmUnKSB7XHJcbiAgICAgICAgICAgICAgICBHaXptb3NDZW50ZXIuc2V0UG9zaXRpb24odHJhbnNmb3JtLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9vcGVyYXRpb25UeXBlID09PSAncm90YXRlJykge1xyXG4gICAgICAgICAgICAgICAgR2l6bW9zQ2VudGVyLnNldFJvdGF0aW9uKHRyYW5zZm9ybS5yb3RhdGlvbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fb3BlcmF0aW9uVHlwZSA9PT0gJ3NjYWxlJykge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYXR0YWNoZWROb2RlLmdldENsYXNzTmFtZSgpID09PSBcIkJvbmVcIikge1xyXG4gICAgICAgICAgICB2YXIgYm9uZSA9IHRoaXMuX2F0dGFjaGVkTm9kZSBhcyBCQUJZTE9OLkJvbmU7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGJvbmUuZ2V0UGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW52UGFyZW50ID0gdGhpcy5fdGVtcE1hdHJpeDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9uZUxvY2FsTWF0cml4ID0gdGhpcy5fdGVtcE1hdHJpeDI7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihpbnZQYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgYm9uZS5nZXRXb3JsZE1hdHJpeCgpLm11bHRpcGx5VG9SZWYoaW52UGFyZW50LCBib25lTG9jYWxNYXRyaXgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxtYXQgPSBib25lLmdldExvY2FsTWF0cml4KCk7XHJcbiAgICAgICAgICAgICAgICBsbWF0LmNvcHlGcm9tKGJvbmVMb2NhbE1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICBib25lLm1hcmtBc0RpcnR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwb3NlcyBvZiB0aGUgZ2l6bW9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcm9vdE1lc2guZGlzcG9zZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9iZWZvcmVSZW5kZXJPYnNlcnZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9iZWZvcmVSZW5kZXJPYnNlcnZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vIGltcG9ydCB7IE9ic2VydmVyLCBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL01pc2Mvb2JzZXJ2YWJsZVwiO1xuLy8gaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbi8vIGltcG9ydCB7IFBvaW50ZXJJbmZvLCBQb2ludGVyRXZlbnRUeXBlcyB9IGZyb20gXCIuLi9FdmVudHMvcG9pbnRlckV2ZW50c1wiO1xuLy8gaW1wb3J0IHsgU2NlbmUsIElEaXNwb3NhYmxlIH0gZnJvbSBcIi4uL3NjZW5lXCI7XG4vLyBpbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4uL25vZGVcIjtcbi8vIGltcG9ydCB7IEFic3RyYWN0TWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvYWJzdHJhY3RNZXNoXCI7XG4vLyBpbXBvcnQgeyBVdGlsaXR5TGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXJpbmcvdXRpbGl0eUxheWVyUmVuZGVyZXJcIjtcbi8vIGltcG9ydCB7IENvbG9yMyB9IGZyb20gJy4uL01hdGhzL21hdGguY29sb3InO1xuLy8gaW1wb3J0IHsgU2l4RG9mRHJhZ0JlaGF2aW9yIH0gZnJvbSBcIi4uL0JlaGF2aW9ycy9NZXNoZXMvc2l4RG9mRHJhZ0JlaGF2aW9yXCI7XG5cbmltcG9ydCB7IEdpem1vIH0gZnJvbSBcIi4vZ2l6bW9cIjtcbmltcG9ydCB7IFJvdGF0aW9uR2l6bW8gfSBmcm9tIFwiLi9yb3RhdGlvbkdpem1vXCI7XG5pbXBvcnQgeyBQb3NpdGlvbkdpem1vIH0gZnJvbSBcIi4vcG9zaXRpb25HaXptb1wiO1xuaW1wb3J0IHsgU2NhbGVHaXptbyB9IGZyb20gXCIuL3NjYWxlR2l6bW9cIjtcbmltcG9ydCB7IEJvdW5kaW5nQm94R2l6bW8gfSBmcm9tIFwiLi9ib3VuZGluZ0JveEdpem1vXCI7XG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gXCJzcmMvbGliXCI7XG5pbXBvcnQgeyBHaXptb3NDZW50ZXIgfSBmcm9tIFwiLlwiO1xuXG4vKipcbiAqIEhlbHBzIHNldHVwIGdpem1vJ3MgaW4gdGhlIHNjZW5lIHRvIHJvdGF0ZS9zY2FsZS9wb3NpdGlvbiBub2Rlc1xuICovXG5leHBvcnQgY2xhc3MgR2l6bW9NYW5hZ2VyIGltcGxlbWVudHMgQkFCWUxPTi5JRGlzcG9zYWJsZSB7XG4gICAgLyoqXG4gICAgICogR2l6bW8ncyBjcmVhdGVkIGJ5IHRoZSBnaXptbyBtYW5hZ2VyLCBnaXptbyB3aWxsIGJlIG51bGwgdW50aWwgZ2l6bW8gaGFzIGJlZW4gZW5hYmxlZCBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2l6bW9zOiB7IHBvc2l0aW9uR2l6bW86IE51bGxhYmxlPFBvc2l0aW9uR2l6bW8+LCByb3RhdGlvbkdpem1vOiBOdWxsYWJsZTxSb3RhdGlvbkdpem1vPiwgc2NhbGVHaXptbzogTnVsbGFibGU8U2NhbGVHaXptbz4sIGJvdW5kaW5nQm94R2l6bW86IE51bGxhYmxlPEJvdW5kaW5nQm94R2l6bW8+IH07XG5cbiAgICAvKiogV2hlbiB0cnVlLCB0aGUgZ2l6bW8gd2lsbCBiZSBkZXRhY2hlZCBmcm9tIHRoZSBjdXJyZW50IG9iamVjdCB3aGVuIGEgcG9pbnRlciBkb3duIG9jY3VycyB3aXRoIGFuIGVtcHR5IHBpY2tlZCBtZXNoICovXG4gICAgcHVibGljIGNsZWFyR2l6bW9PbkVtcHR5UG9pbnRlckV2ZW50ID0gZmFsc2U7XG5cbiAgICAvKiogRmlyZXMgYW4gZXZlbnQgd2hlbiB0aGUgbWFuYWdlciBpcyBhdHRhY2hlZCB0byBhIG1lc2ggKi9cbiAgICBwdWJsaWMgb25BdHRhY2hlZFRvTWVzaE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPj4oKTtcblxuICAgIC8qKiBGaXJlcyBhbiBldmVudCB3aGVuIHRoZSBtYW5hZ2VyIGlzIGF0dGFjaGVkIHRvIGEgbm9kZSAqL1xuICAgIHB1YmxpYyBvbkF0dGFjaGVkVG9Ob2RlT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8TnVsbGFibGU8QkFCWUxPTi5Ob2RlPj4oKTtcblxuICAgIHByaXZhdGUgX2dpem1vc0VuYWJsZWQgPSB7IHBvc2l0aW9uR2l6bW86IGZhbHNlLCByb3RhdGlvbkdpem1vOiBmYWxzZSwgc2NhbGVHaXptbzogZmFsc2UsIGJvdW5kaW5nQm94R2l6bW86IGZhbHNlIH07XG4gICAgcHJpdmF0ZSBfcG9pbnRlck9ic2VydmVyOiBOdWxsYWJsZTxCQUJZTE9OLk9ic2VydmVyPEJBQllMT04uUG9pbnRlckluZm8+PiA9IG51bGw7XG4gICAgcHJpdmF0ZSBfYXR0YWNoZWRNZXNoOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4gPSBudWxsO1xuICAgIHByaXZhdGUgX2F0dGFjaGVkTm9kZTogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPiA9IG51bGw7XG4gICAgcHJpdmF0ZSBfYm91bmRpbmdCb3hDb2xvciA9IEJBQllMT04uQ29sb3IzLkZyb21IZXhTdHJpbmcoXCIjMDk4NGUzXCIpO1xuICAgIHByaXZhdGUgX2RlZmF1bHRVdGlsaXR5TGF5ZXI6IEJBQllMT04uVXRpbGl0eUxheWVyUmVuZGVyZXI7XG4gICAgcHJpdmF0ZSBfZGVmYXVsdEtlZXBEZXB0aFV0aWxpdHlMYXllcjogQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlcjtcbiAgICBwcml2YXRlIF90aGlja25lc3M6IG51bWJlciA9IDE7XG4gICAgLyoqXG4gICAgICogV2hlbiBib3VuZGluZyBib3ggZ2l6bW8gaXMgZW5hYmxlZCwgdGhpcyBjYW4gYmUgdXNlZCB0byB0cmFjayBkcmFnL2VuZCBldmVudHNcbiAgICAgKi9cbiAgICBwdWJsaWMgYm91bmRpbmdCb3hEcmFnQmVoYXZpb3IgPSBuZXcgQkFCWUxPTi5TaXhEb2ZEcmFnQmVoYXZpb3IoKTtcbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBtZXNoZXMgd2hpY2ggd2lsbCBoYXZlIHRoZSBnaXptbyBhdHRhY2hlZCB3aGVuIGEgcG9pbnRlciBzZWxlY3RlZCB0aGVtLiBJZiBudWxsLCBhbGwgbWVzaGVzIGFyZSBhdHRhY2hhYmxlLiAoRGVmYXVsdDogbnVsbClcbiAgICAgKi9cbiAgICBwdWJsaWMgYXR0YWNoYWJsZU1lc2hlczogTnVsbGFibGU8QXJyYXk8QkFCWUxPTi5BYnN0cmFjdE1lc2g+PiA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQXJyYXkgb2Ygbm9kZXMgd2hpY2ggd2lsbCBoYXZlIHRoZSBnaXptbyBhdHRhY2hlZCB3aGVuIGEgcG9pbnRlciBzZWxlY3RlZCB0aGVtLiBJZiBudWxsLCBhbGwgbm9kZXMgYXJlIGF0dGFjaGFibGUuIChEZWZhdWx0OiBudWxsKVxuICAgICAqL1xuICAgIHB1YmxpYyBhdHRhY2hhYmxlTm9kZXM6IE51bGxhYmxlPEFycmF5PEJBQllMT04uTm9kZT4+ID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJZiBwb2ludGVyIGV2ZW50cyBzaG91bGQgcGVyZm9ybSBhdHRhY2hpbmcvZGV0YWNoaW5nIGEgZ2l6bW8sIGlmIGZhbHNlIHRoaXMgY2FuIGJlIGRvbmUgbWFudWFsbHkgdmlhIGF0dGFjaFRvTWVzaC9hdHRhY2hUb05vZGUuIChEZWZhdWx0OiB0cnVlKVxuICAgICAqL1xuICAgIHB1YmxpYyB1c2VQb2ludGVyVG9BdHRhY2hHaXptb3MgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBsYXllciB0aGF0IHRoZSBib3VuZGluZyBib3ggZ2l6bW8gYmVsb25ncyB0b1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXQga2VlcERlcHRoVXRpbGl0eUxheWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdEtlZXBEZXB0aFV0aWxpdHlMYXllcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGxheWVyIHRoYXQgYWxsIGdpem1vcyBiZXNpZGVzIGJvdW5kaW5nIGJveCBiZWxvbmcgdG9cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHV0aWxpdHlMYXllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRVdGlsaXR5TGF5ZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zdGF0aWF0ZXMgYSBnaXptbyBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHNjZW5lIHRoZSBzY2VuZSB0byBvdmVybGF5IHRoZSBnaXptb3Mgb24gdG9wIG9mXG4gICAgICogQHBhcmFtIHRoaWNrbmVzcyBkaXNwbGF5IGdpem1vIGF4aXMgdGhpY2tuZXNzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzY2VuZTogQkFCWUxPTi5TY2VuZSwgdGhpY2tuZXNzOiBudW1iZXIgPSAxKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRLZWVwRGVwdGhVdGlsaXR5TGF5ZXIgPSBuZXcgQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlcihzY2VuZSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRLZWVwRGVwdGhVdGlsaXR5TGF5ZXIudXRpbGl0eUxheWVyU2NlbmUuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRVdGlsaXR5TGF5ZXIgPSBuZXcgQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlcihzY2VuZSk7XG4gICAgICAgIHRoaXMuX3RoaWNrbmVzcyA9IHRoaWNrbmVzcztcbiAgICAgICAgdGhpcy5naXptb3MgPSB7IHBvc2l0aW9uR2l6bW86IG51bGwsIHJvdGF0aW9uR2l6bW86IG51bGwsIHNjYWxlR2l6bW86IG51bGwsIGJvdW5kaW5nQm94R2l6bW86IG51bGwgfTtcblxuICAgICAgICAvLyBJbnN0YXRpYXRlL2Rpc3Bvc2UgZ2l6bW9zIGJhc2VkIG9uIHBvaW50ZXIgYWN0aW9uc1xuICAgICAgICB0aGlzLl9wb2ludGVyT2JzZXJ2ZXIgPSBzY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLmFkZCgocG9pbnRlckluZm8pID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy51c2VQb2ludGVyVG9BdHRhY2hHaXptb3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9pbnRlckluZm8udHlwZSA9PSBCQUJZTE9OLlBvaW50ZXJFdmVudFR5cGVzLlBPSU5URVJET1dOKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJJbmZvLnBpY2tJbmZvICYmIHBvaW50ZXJJbmZvLnBpY2tJbmZvLnBpY2tlZE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKG1lc2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIEdpem1vc0NlbnRlci5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2NsZWFyIGdpem1vcycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3BpY2sgbWVzaCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gR2l6bW9zQ2VudGVyLmF0dGFjaChtZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBlbnRpdHkgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6Z2V0JywgbWVzaC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmVycm9yKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnNldCcsICdlbnRpdHknLCBbZW50aXR5XSk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+Wksei0pScpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzog6YCJ5oup5pa55byP6YeN5paw56Gu5a6aXG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+ID0gcG9pbnRlckluZm8ucGlja0luZm8ucGlja2VkTWVzaDtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYXR0YWNoYWJsZU1lc2hlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBBdHRhY2ggdG8gdGhlIG1vc3QgcGFyZW50IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHdoaWxlIChub2RlICYmIG5vZGUucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBBdHRhY2ggdG8gdGhlIHBhcmVudCBub2RlIHRoYXQgaXMgYW4gYXR0YWNoYWJsZU1lc2hcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5hdHRhY2hhYmxlTWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAobm9kZSAmJiAobm9kZSA9PSBtZXNoIHx8IG5vZGUuaXNEZXNjZW5kYW50T2YobWVzaCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG5vZGUgPSBtZXNoO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuX2F0dGFjaGVkTWVzaCAhPSBub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5hdHRhY2hUb01lc2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwaWNrIG1lc2gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdpem1vc0NlbnRlci5hdHRhY2gobWVzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIG5vZGUuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpzZXQnLCAnZW50aXR5JywgW2VudGl0eV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCflpLHotKUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsZWFyR2l6bW9PbkVtcHR5UG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5hdHRhY2hUb01lc2gobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR2l6bW9zQ2VudGVyLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGVhckdpem1vT25FbXB0eVBvaW50ZXJFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgR2l6bW9zQ2VudGVyLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgIH1cblxuXG4gICAgLy8gcHVibGljIGNvb3JkU3lzdGVtOiBzdHJpbmcgPSAnbG9jYWwnO1xuICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGVkaXRvci5vbignc2VsZWN0b3I6Y2hhbmdlJywgKHR5cGU6IHN0cmluZywgaXRlbXM6IE9ic2VydmVyW10pID0+IHtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBlZGl0b3Iub24oJ2dpem1vOmNvb3JkU3lzdGVtJywgZnVuY3Rpb24gKHN5c3RlbTogc3RyaW5nKSB7XG4gICAgICAgIC8vICAgICBpZiAoc2VsZi5jb29yZFN5c3RlbSA9PT0gc3lzdGVtKVxuICAgICAgICAvLyAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gICAgIHNlbGYuY29vcmRTeXN0ZW0gPSBzeXN0ZW07XG4gICAgICAgIC8vICAgICB2YXIgcm90ID0gZ2V0R2l6bW9Sb3RhdGlvbigpO1xuICAgICAgICAvLyAgICAgaWYgKHJvdClcbiAgICAgICAgLy8gICAgICAgICBlZGl0b3IuY2FsbCgnZ2l6bW86cm90YXRlOnJvdGF0aW9uJywgcm90WzBdLCByb3RbMV0sIHJvdFsyXSk7XG4gICAgICAgIC8vICAgICB2YXIgdmVjID0gZ2V0R2l6bW9Qb3NpdGlvbigpO1xuICAgICAgICAvLyAgICAgaWYgKHZlYylcbiAgICAgICAgLy8gICAgICAgICBlZGl0b3IuY2FsbCgnZ2l6bW86cm90YXRlOnBvc2l0aW9uJywgdmVjLngsIHZlYy55LCB2ZWMueik7XG4gICAgICAgIC8vIH0pO1xuXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHNldCBvZiBnaXptb3MgdG8gdGhlIHNwZWNpZmllZCBtZXNoXG4gICAgICogQHBhcmFtIG1lc2ggVGhlIG1lc2ggdGhlIGdpem1vJ3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvXG4gICAgICovXG4gICAgcHVibGljIGF0dGFjaFRvTWVzaChtZXNoOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkTWVzaCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRNZXNoLnJlbW92ZUJlaGF2aW9yKHRoaXMuYm91bmRpbmdCb3hEcmFnQmVoYXZpb3IpO1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRNZXNoLnNob3dCb3VuZGluZ0JveCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTm9kZS5yZW1vdmVCZWhhdmlvcih0aGlzLmJvdW5kaW5nQm94RHJhZ0JlaGF2aW9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZE1lc2ggPSBtZXNoO1xuICAgICAgICBpZiAodGhpcy5fYXR0YWNoZWRNZXNoKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZE1lc2guc2hvd0JvdW5kaW5nQm94ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZE5vZGUgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5naXptb3MpIHtcbiAgICAgICAgICAgIHZhciBnaXptbyA9IDxOdWxsYWJsZTxHaXptbz4+KCg8YW55PnRoaXMuZ2l6bW9zKVtrZXldKTtcbiAgICAgICAgICAgIGlmIChnaXptbyAmJiAoPGFueT50aGlzLl9naXptb3NFbmFibGVkKVtrZXldKSB7XG4gICAgICAgICAgICAgICAgZ2l6bW8uYXR0YWNoZWRNZXNoID0gbWVzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib3VuZGluZ0JveEdpem1vRW5hYmxlZCAmJiB0aGlzLl9hdHRhY2hlZE1lc2gpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaC5hZGRCZWhhdmlvcih0aGlzLmJvdW5kaW5nQm94RHJhZ0JlaGF2aW9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uQXR0YWNoZWRUb01lc2hPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhtZXNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHNldCBvZiBnaXptb3MgdG8gdGhlIHNwZWNpZmllZCBub2RlXG4gICAgICogQHBhcmFtIG5vZGUgVGhlIG5vZGUgdGhlIGdpem1vJ3Mgc2hvdWxkIGJlIGF0dGFjaGVkIHRvXG4gICAgICovXG4gICAgcHVibGljIGF0dGFjaFRvTm9kZShub2RlOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+KSB7XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZE1lc2gpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaC5yZW1vdmVCZWhhdmlvcih0aGlzLmJvdW5kaW5nQm94RHJhZ0JlaGF2aW9yKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaC5zaG93Qm91bmRpbmdCb3ggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYXR0YWNoZWROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZE5vZGUucmVtb3ZlQmVoYXZpb3IodGhpcy5ib3VuZGluZ0JveERyYWdCZWhhdmlvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRNZXNoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWROb2RlID0gbm9kZTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuZ2l6bW9zKSB7XG4gICAgICAgICAgICB2YXIgZ2l6bW8gPSA8TnVsbGFibGU8R2l6bW8+PigoPGFueT50aGlzLmdpem1vcylba2V5XSk7XG4gICAgICAgICAgICBpZiAoZ2l6bW8gJiYgKDxhbnk+dGhpcy5fZ2l6bW9zRW5hYmxlZClba2V5XSkge1xuICAgICAgICAgICAgICAgIGdpem1vLmF0dGFjaGVkTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3hHaXptb0VuYWJsZWQgJiYgdGhpcy5fYXR0YWNoZWROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZE5vZGUuYWRkQmVoYXZpb3IodGhpcy5ib3VuZGluZ0JveERyYWdCZWhhdmlvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkF0dGFjaGVkVG9Ob2RlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobm9kZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHBvc2l0aW9uIGdpem1vIGlzIGVuYWJsZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHBvc2l0aW9uR2l6bW9FbmFibGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdpem1vcy5wb3NpdGlvbkdpem1vKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naXptb3MucG9zaXRpb25HaXptbyA9IG5ldyBQb3NpdGlvbkdpem1vKHRoaXMuX2RlZmF1bHRVdGlsaXR5TGF5ZXIsIHRoaXMuX3RoaWNrbmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fYXR0YWNoZWROb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naXptb3MucG9zaXRpb25HaXptby5hdHRhY2hlZE5vZGUgPSB0aGlzLl9hdHRhY2hlZE5vZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2l6bW9zLnBvc2l0aW9uR2l6bW8uYXR0YWNoZWRNZXNoID0gdGhpcy5fYXR0YWNoZWRNZXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2l6bW9zLnBvc2l0aW9uR2l6bW8pIHtcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9zLnBvc2l0aW9uR2l6bW8uYXR0YWNoZWROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9naXptb3NFbmFibGVkLnBvc2l0aW9uR2l6bW8gPSB2YWx1ZTtcbiAgICB9XG4gICAgcHVibGljIGdldCBwb3NpdGlvbkdpem1vRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dpem1vc0VuYWJsZWQucG9zaXRpb25HaXptbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHJvdGF0aW9uIGdpem1vIGlzIGVuYWJsZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHJvdGF0aW9uR2l6bW9FbmFibGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdpem1vcy5yb3RhdGlvbkdpem1vKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naXptb3Mucm90YXRpb25HaXptbyA9IG5ldyBSb3RhdGlvbkdpem1vKHRoaXMuX2RlZmF1bHRVdGlsaXR5TGF5ZXIsIDMyLCBmYWxzZSwgdGhpcy5fdGhpY2tuZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZE5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdpem1vcy5yb3RhdGlvbkdpem1vLmF0dGFjaGVkTm9kZSA9IHRoaXMuX2F0dGFjaGVkTm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naXptb3Mucm90YXRpb25HaXptby5hdHRhY2hlZE1lc2ggPSB0aGlzLl9hdHRhY2hlZE1lc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5naXptb3Mucm90YXRpb25HaXptbykge1xuICAgICAgICAgICAgdGhpcy5naXptb3Mucm90YXRpb25HaXptby5hdHRhY2hlZE5vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dpem1vc0VuYWJsZWQucm90YXRpb25HaXptbyA9IHZhbHVlO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHJvdGF0aW9uR2l6bW9FbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2l6bW9zRW5hYmxlZC5yb3RhdGlvbkdpem1vO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgc2NhbGUgZ2l6bW8gaXMgZW5hYmxlZFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgc2NhbGVHaXptb0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdpem1vcy5zY2FsZUdpem1vID0gdGhpcy5naXptb3Muc2NhbGVHaXptbyB8fCBuZXcgU2NhbGVHaXptbyh0aGlzLl9kZWZhdWx0VXRpbGl0eUxheWVyLCB0aGlzLl90aGlja25lc3MpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkTm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2l6bW9zLnNjYWxlR2l6bW8uYXR0YWNoZWROb2RlID0gdGhpcy5fYXR0YWNoZWROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdpem1vcy5zY2FsZUdpem1vLmF0dGFjaGVkTWVzaCA9IHRoaXMuX2F0dGFjaGVkTWVzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdpem1vcy5zY2FsZUdpem1vKSB7XG4gICAgICAgICAgICB0aGlzLmdpem1vcy5zY2FsZUdpem1vLmF0dGFjaGVkTm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZ2l6bW9zRW5hYmxlZC5zY2FsZUdpem1vID0gdmFsdWU7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgc2NhbGVHaXptb0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9naXptb3NFbmFibGVkLnNjYWxlR2l6bW87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBib3VuZGluZ0JveCBnaXptbyBpcyBlbmFibGVkXG4gICAgICovXG4gICAgcHVibGljIHNldCBib3VuZGluZ0JveEdpem1vRW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2l6bW9zLmJvdW5kaW5nQm94R2l6bW8gPSB0aGlzLmdpem1vcy5ib3VuZGluZ0JveEdpem1vIHx8IG5ldyBCb3VuZGluZ0JveEdpem1vKHRoaXMuX2JvdW5kaW5nQm94Q29sb3IsIHRoaXMuX2RlZmF1bHRLZWVwRGVwdGhVdGlsaXR5TGF5ZXIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkTWVzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2l6bW9zLmJvdW5kaW5nQm94R2l6bW8uYXR0YWNoZWRNZXNoID0gdGhpcy5fYXR0YWNoZWRNZXNoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdpem1vcy5ib3VuZGluZ0JveEdpem1vLmF0dGFjaGVkTm9kZSA9IHRoaXMuX2F0dGFjaGVkTm9kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkTWVzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaC5yZW1vdmVCZWhhdmlvcih0aGlzLmJvdW5kaW5nQm94RHJhZ0JlaGF2aW9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZE1lc2guYWRkQmVoYXZpb3IodGhpcy5ib3VuZGluZ0JveERyYWdCZWhhdmlvcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2F0dGFjaGVkTm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTm9kZS5yZW1vdmVCZWhhdmlvcih0aGlzLmJvdW5kaW5nQm94RHJhZ0JlaGF2aW9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZE5vZGUuYWRkQmVoYXZpb3IodGhpcy5ib3VuZGluZ0JveERyYWdCZWhhdmlvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5naXptb3MuYm91bmRpbmdCb3hHaXptbykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkTWVzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaC5yZW1vdmVCZWhhdmlvcih0aGlzLmJvdW5kaW5nQm94RHJhZ0JlaGF2aW9yKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYXR0YWNoZWROb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWROb2RlLnJlbW92ZUJlaGF2aW9yKHRoaXMuYm91bmRpbmdCb3hEcmFnQmVoYXZpb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5naXptb3MuYm91bmRpbmdCb3hHaXptby5hdHRhY2hlZE5vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dpem1vc0VuYWJsZWQuYm91bmRpbmdCb3hHaXptbyA9IHZhbHVlO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGJvdW5kaW5nQm94R2l6bW9FbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2l6bW9zRW5hYmxlZC5ib3VuZGluZ0JveEdpem1vO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBnaXptbyBtYW5hZ2VyXG4gICAgICovXG4gICAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlck9ic2VydmVyKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuZ2l6bW9zKSB7XG4gICAgICAgICAgICB2YXIgZ2l6bW8gPSA8TnVsbGFibGU8R2l6bW8+PigoPGFueT50aGlzLmdpem1vcylba2V5XSk7XG4gICAgICAgICAgICBpZiAoZ2l6bW8pIHtcbiAgICAgICAgICAgICAgICBnaXptby5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVmYXVsdEtlZXBEZXB0aFV0aWxpdHlMYXllci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRVdGlsaXR5TGF5ZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmJvdW5kaW5nQm94RHJhZ0JlaGF2aW9yLmRldGFjaCgpO1xuICAgICAgICB0aGlzLm9uQXR0YWNoZWRUb01lc2hPYnNlcnZhYmxlLmNsZWFyKCk7XG4gICAgfVxufSIsImV4cG9ydCAqIGZyb20gXCIuL2F4aXNEcmFnR2l6bW9cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vYXhpc1NjYWxlR2l6bW9cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vYm91bmRpbmdCb3hHaXptb1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9naXptb1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9naXptb01hbmFnZXJcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vcGxhbmVSb3RhdGlvbkdpem1vXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3Bvc2l0aW9uR2l6bW9cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vcm90YXRpb25HaXptb1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9zY2FsZUdpem1vXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL2xpZ2h0R2l6bW9cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vY2FtZXJhR2l6bW9cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vcGxhbmVEcmFnR2l6bW9cIjtcclxuZXhwb3J0ICogZnJvbSAnLi9naXptby1jZW50ZXInOyIsIi8vIGltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbi8vIGltcG9ydCB7IFZlY3RvcjMsIFF1YXRlcm5pb24gfSBmcm9tIFwiLi4vTWF0aHMvbWF0aC52ZWN0b3JcIjtcclxuLy8gaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSAnLi4vTWF0aHMvbWF0aC5jb2xvcic7XHJcbi8vIGltcG9ydCB7IEFic3RyYWN0TWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvYWJzdHJhY3RNZXNoXCI7XHJcbi8vIGltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vTWVzaGVzL21lc2hcIjtcclxuaW1wb3J0IHsgR2l6bW8gfSBmcm9tIFwiLi9naXptb1wiO1xyXG4vLyBpbXBvcnQgeyBVdGlsaXR5TGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXJpbmcvdXRpbGl0eUxheWVyUmVuZGVyZXJcIjtcclxuXHJcbi8vIGltcG9ydCB7IFN0YW5kYXJkTWF0ZXJpYWwgfSBmcm9tICcuLi9NYXRlcmlhbHMvc3RhbmRhcmRNYXRlcmlhbCc7XHJcbi8vIGltcG9ydCB7IExpZ2h0IH0gZnJvbSAnLi4vTGlnaHRzL2xpZ2h0JztcclxuLy8gaW1wb3J0IHsgU2NlbmUgfSBmcm9tICcuLi9zY2VuZSc7XHJcbi8vIGltcG9ydCB7IEhlbWlzcGhlcmljTGlnaHQgfSBmcm9tICcuLi9MaWdodHMvaGVtaXNwaGVyaWNMaWdodCc7XHJcbi8vIGltcG9ydCB7IERpcmVjdGlvbmFsTGlnaHQgfSBmcm9tICcuLi9MaWdodHMvZGlyZWN0aW9uYWxMaWdodCc7XHJcbi8vIGltcG9ydCB7IFNwaGVyZUJ1aWxkZXIgfSBmcm9tICcuLi9NZXNoZXMvQnVpbGRlcnMvc3BoZXJlQnVpbGRlcic7XHJcbi8vIGltcG9ydCB7IEhlbWlzcGhlcmVCdWlsZGVyIH0gZnJvbSAnLi4vTWVzaGVzL0J1aWxkZXJzL2hlbWlzcGhlcmVCdWlsZGVyJztcclxuLy8gaW1wb3J0IHsgU3BvdExpZ2h0IH0gZnJvbSAnLi4vTGlnaHRzL3Nwb3RMaWdodCc7XHJcbi8vIGltcG9ydCB7IFRyYW5zZm9ybU5vZGUgfSBmcm9tICcuLi9NZXNoZXMvdHJhbnNmb3JtTm9kZSc7XHJcbi8vIGltcG9ydCB7IFBvaW50ZXJFdmVudFR5cGVzLCBQb2ludGVySW5mbyB9IGZyb20gJy4uL0V2ZW50cy9wb2ludGVyRXZlbnRzJztcclxuLy8gaW1wb3J0IHsgT2JzZXJ2ZXIsIE9ic2VydmFibGUgfSBmcm9tIFwiLi4vTWlzYy9vYnNlcnZhYmxlXCI7XHJcblxyXG4vKipcclxuICogR2l6bW8gdGhhdCBlbmFibGVzIHZpZXdpbmcgYSBsaWdodFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpZ2h0R2l6bW8gZXh0ZW5kcyBHaXptbyB7XHJcbiAgICBwcml2YXRlIF9saWdodE1lc2ghOiBCQUJZTE9OLk1lc2g7XHJcbiAgICBwcml2YXRlIF9tYXRlcmlhbDogQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsO1xyXG4gICAgcHJpdmF0ZSBfY2FjaGVkUG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKCk7XHJcbiAgICBwcml2YXRlIF9jYWNoZWRGb3J3YXJkID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAxKTtcclxuICAgIHByaXZhdGUgX2F0dGFjaGVkTWVzaFBhcmVudDogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlO1xyXG4gICAgcHJpdmF0ZSBfcG9pbnRlck9ic2VydmVyOiBOdWxsYWJsZTxCQUJZTE9OLk9ic2VydmVyPEJBQllMT04uUG9pbnRlckluZm8+PiA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmVudCB0aGF0IGZpcmVzIGVhY2ggdGltZSB0aGUgZ2l6bW8gaXMgY2xpY2tlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25DbGlja2VkT2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGU8QkFCWUxPTi5MaWdodD4oKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBMaWdodEdpem1vXHJcbiAgICAgKiBAcGFyYW0gZ2l6bW9MYXllciBUaGUgdXRpbGl0eSBsYXllciB0aGUgZ2l6bW8gd2lsbCBiZSBhZGRlZCB0b1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoZ2l6bW9MYXllcik7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ggPSBuZXcgQkFCWUxPTi5BYnN0cmFjdE1lc2goXCJcIiwgdGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB0aGlzLl9hdHRhY2hlZE1lc2hQYXJlbnQgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwicGFyZW50XCIsIHRoaXMuZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoLnBhcmVudCA9IHRoaXMuX2F0dGFjaGVkTWVzaFBhcmVudDtcclxuICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJsaWdodFwiLCB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjUsIDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gbmV3IEJBQllMT04uQ29sb3IzKDAuMSwgMC4xLCAwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLl9wb2ludGVyT2JzZXJ2ZXIgPSBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lLm9uUG9pbnRlck9ic2VydmFibGUuYWRkKChwb2ludGVySW5mbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpc0hvdmVyZWQgPSBwb2ludGVySW5mby5waWNrSW5mbyAmJiAodGhpcy5fcm9vdE1lc2guZ2V0Q2hpbGRNZXNoZXMoKS5pbmRleE9mKDxCQUJZTE9OLk1lc2g+cG9pbnRlckluZm8ucGlja0luZm8ucGlja2VkTWVzaCkgIT0gLTEpO1xyXG4gICAgICAgICAgICBpZiAoaXNIb3ZlcmVkICYmIHBvaW50ZXJJbmZvLmV2ZW50LmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsaWNrZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9saWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBCQUJZTE9OLlBvaW50ZXJFdmVudFR5cGVzLlBPSU5URVJET1dOKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgX2xpZ2h0OiBOdWxsYWJsZTxCQUJZTE9OLkxpZ2h0PiA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbGlnaHQgdGhhdCB0aGUgZ2l6bW8gaXMgYXR0YWNoZWQgdG9cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldCBsaWdodChsaWdodDogTnVsbGFibGU8QkFCWUxPTi5MaWdodD4pIHtcclxuICAgICAgICB0aGlzLl9saWdodCA9IGxpZ2h0O1xyXG4gICAgICAgIGlmIChsaWdodCkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG1lc2ggZm9yIHRoZSBnaXZlbiBsaWdodCB0eXBlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saWdodE1lc2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpZ2h0TWVzaC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChsaWdodCBpbnN0YW5jZW9mIEJBQllMT04uSGVtaXNwaGVyaWNMaWdodCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlnaHRNZXNoID0gTGlnaHRHaXptby5fQ3JlYXRlSGVtaXNwaGVyaWNMaWdodE1lc2godGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsaWdodCBpbnN0YW5jZW9mIEJBQllMT04uRGlyZWN0aW9uYWxMaWdodCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlnaHRNZXNoID0gTGlnaHRHaXptby5fQ3JlYXRlRGlyZWN0aW9uYWxMaWdodE1lc2godGhpcy5naXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsaWdodCBpbnN0YW5jZW9mIEJBQllMT04uU3BvdExpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saWdodE1lc2ggPSBMaWdodEdpem1vLl9DcmVhdGVTcG90TGlnaHRNZXNoKHRoaXMuZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saWdodE1lc2ggPSBMaWdodEdpem1vLl9DcmVhdGVQb2ludExpZ2h0TWVzaCh0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0TWVzaC5nZXRDaGlsZE1lc2hlcyhmYWxzZSkuZm9yRWFjaCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IHRoaXMuX21hdGVyaWFsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fbGlnaHRNZXNoLnBhcmVudCA9IHRoaXMuX3Jvb3RNZXNoO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGxpZ2h0aW5nIHRvIHRoZSBsaWdodCBnaXptb1xyXG4gICAgICAgICAgICB2YXIgZ2l6bW9MaWdodCA9IHRoaXMuZ2l6bW9MYXllci5fZ2V0U2hhcmVkR2l6bW9MaWdodCgpO1xyXG4gICAgICAgICAgICBnaXptb0xpZ2h0LmluY2x1ZGVkT25seU1lc2hlcyA9IGdpem1vTGlnaHQuaW5jbHVkZWRPbmx5TWVzaGVzLmNvbmNhdCh0aGlzLl9saWdodE1lc2guZ2V0Q2hpbGRNZXNoZXMoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0TWVzaC5yb3RhdGlvblF1YXRlcm5pb24gPSBuZXcgQkFCWUxPTi5RdWF0ZXJuaW9uKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXR0YWNoZWRNZXNoIS5yZXNlcnZlZERhdGFTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ghLnJlc2VydmVkRGF0YVN0b3JlID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ghLnJlc2VydmVkRGF0YVN0b3JlLmxpZ2h0R2l6bW8gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpZ2h0LnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fYXR0YWNoZWRNZXNoUGFyZW50LmZyZWV6ZVdvcmxkTWF0cml4KGxpZ2h0LnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaFBhcmVudC5mcmVlemVXb3JsZE1hdHJpeCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdXBkYXRlIHBvc2l0aW9uIGFuZCBkaXJlY3Rpb24gaWYgdGhlIGxpZ2h0IGhhcyBpdFxyXG4gICAgICAgICAgICBpZiAoKGxpZ2h0IGFzIGFueSkucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoIS5wb3NpdGlvbi5jb3B5RnJvbSgobGlnaHQgYXMgYW55KS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaCEuY29tcHV0ZVdvcmxkTWF0cml4KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUG9zaXRpb24uY29weUZyb20odGhpcy5hdHRhY2hlZE1lc2ghLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKGxpZ2h0IGFzIGFueSkuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaCEuc2V0RGlyZWN0aW9uKChsaWdodCBhcyBhbnkpLmRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaCEuY29tcHV0ZVdvcmxkTWF0cml4KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkRm9yd2FyZC5jb3B5RnJvbSh0aGlzLmF0dGFjaGVkTWVzaCEuZm9yd2FyZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgbGlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbWF0ZXJpYWwgdXNlZCB0byByZW5kZXIgdGhlIGxpZ2h0IGdpem1vXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgbWF0ZXJpYWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICogVXBkYXRlcyB0aGUgZ2l6bW8gdG8gbWF0Y2ggdGhlIGF0dGFjaGVkIG1lc2gncyBwb3NpdGlvbi9yb3RhdGlvblxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZSgpIHtcclxuICAgICAgICBzdXBlci5fdXBkYXRlKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9saWdodCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fbGlnaHQucGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuX2F0dGFjaGVkTWVzaFBhcmVudC5mcmVlemVXb3JsZE1hdHJpeCh0aGlzLl9saWdodC5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWVzaFBhcmVudC5mcmVlemVXb3JsZE1hdHJpeCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCh0aGlzLl9saWdodCBhcyBhbnkpLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBnaXptbyBpcyBtb3ZlZCB1cGRhdGUgdGhlIGxpZ2h0IG90aGVyd2lzZSB1cGRhdGUgdGhlIGdpem1vIHRvIG1hdGNoIHRoZSBsaWdodFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXR0YWNoZWRNZXNoIS5wb3NpdGlvbi5lcXVhbHModGhpcy5fY2FjaGVkUG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgbGlnaHQgdG8gbWF0Y2ggZ2l6bW9cclxuICAgICAgICAgICAgICAgICh0aGlzLl9saWdodCBhcyBhbnkpLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuYXR0YWNoZWRNZXNoIS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQb3NpdGlvbi5jb3B5RnJvbSh0aGlzLmF0dGFjaGVkTWVzaCEucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGdpem1vIHRvIG1hdGNoIGxpZ2h0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaCEucG9zaXRpb24uY29weUZyb20oKHRoaXMuX2xpZ2h0IGFzIGFueSkucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ghLmNvbXB1dGVXb3JsZE1hdHJpeCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBvc2l0aW9uLmNvcHlGcm9tKHRoaXMuYXR0YWNoZWRNZXNoIS5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgodGhpcy5fbGlnaHQgYXMgYW55KS5kaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGdpem1vIGlzIG1vdmVkIHVwZGF0ZSB0aGUgbGlnaHQgb3RoZXJ3aXNlIHVwZGF0ZSB0aGUgZ2l6bW8gdG8gbWF0Y2ggdGhlIGxpZ2h0XHJcbiAgICAgICAgICAgIGlmIChCQUJZTE9OLlZlY3RvcjMuRGlzdGFuY2VTcXVhcmVkKHRoaXMuYXR0YWNoZWRNZXNoIS5mb3J3YXJkLCB0aGlzLl9jYWNoZWRGb3J3YXJkKSA+IDAuMDAwMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGxpZ2h0IHRvIG1hdGNoIGdpem1vXHJcbiAgICAgICAgICAgICAgICAodGhpcy5fbGlnaHQgYXMgYW55KS5kaXJlY3Rpb24uY29weUZyb20odGhpcy5hdHRhY2hlZE1lc2ghLmZvcndhcmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkRm9yd2FyZC5jb3B5RnJvbSh0aGlzLmF0dGFjaGVkTWVzaCEuZm9yd2FyZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQkFCWUxPTi5WZWN0b3IzLkRpc3RhbmNlU3F1YXJlZCh0aGlzLmF0dGFjaGVkTWVzaCEuZm9yd2FyZCwgKHRoaXMuX2xpZ2h0IGFzIGFueSkuZGlyZWN0aW9uKSA+IDAuMDAwMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGdpem1vIHRvIG1hdGNoIGxpZ2h0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaCEuc2V0RGlyZWN0aW9uKCh0aGlzLl9saWdodCBhcyBhbnkpLmRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaCEuY29tcHV0ZVdvcmxkTWF0cml4KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkRm9yd2FyZC5jb3B5RnJvbSh0aGlzLmF0dGFjaGVkTWVzaCEuZm9yd2FyZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RhdGljIGhlbHBlciBtZXRob2RzXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfU2NhbGUgPSAwLjAwNztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGxpbmVzIGZvciBhIGxpZ2h0IG1lc2hcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX0NyZWF0ZUxpZ2h0TGluZXMgPSAobGV2ZWxzOiBudW1iZXIsIHNjZW5lOiBCQUJZTE9OLlNjZW5lKSA9PiB7XHJcbiAgICAgICAgdmFyIGRpc3RGcm9tU3BoZXJlID0gMS4yO1xyXG5cclxuICAgICAgICB2YXIgcm9vdCA9IG5ldyBCQUJZTE9OLk1lc2goXCJyb290XCIsIHNjZW5lKTtcclxuICAgICAgICByb290LnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSB0b3AgbGluZSwgdGhpcyB3aWxsIGJlIGNsb25lZCBmb3IgYWxsIG90aGVyIGxpbmVzXHJcbiAgICAgICAgdmFyIGxpbmVQaXZvdCA9IG5ldyBCQUJZTE9OLk1lc2goXCJsaW5lUGl2b3RcIiwgc2NlbmUpO1xyXG4gICAgICAgIGxpbmVQaXZvdC5wYXJlbnQgPSByb290O1xyXG4gICAgICAgIHZhciBsaW5lID0gQkFCWUxPTi5NZXNoLkNyZWF0ZUN5bGluZGVyKFwibGluZVwiLCAyLCAwLjIsIDAuMywgNiwgMSwgc2NlbmUpO1xyXG4gICAgICAgIGxpbmUucG9zaXRpb24ueSA9IGxpbmUuc2NhbGluZy55IC8gMiArIGRpc3RGcm9tU3BoZXJlO1xyXG4gICAgICAgIGxpbmUucGFyZW50ID0gbGluZVBpdm90O1xyXG5cclxuICAgICAgICBpZiAobGV2ZWxzIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm4gbGluZVBpdm90O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbCA9IGxpbmVQaXZvdC5jbG9uZShcImxpbmVQYXJlbnRDbG9uZVwiKSE7XHJcbiAgICAgICAgICAgIGwucm90YXRpb24ueiA9IE1hdGguUEkgLyA0O1xyXG4gICAgICAgICAgICBsLnJvdGF0aW9uLnkgPSAoTWF0aC5QSSAvIDIpICsgKE1hdGguUEkgLyAyICogaSk7XHJcblxyXG4gICAgICAgICAgICBsLmdldENoaWxkTWVzaGVzKClbMF0uc2NhbGluZy55ID0gMC41O1xyXG4gICAgICAgICAgICBsLmdldENoaWxkTWVzaGVzKClbMF0uc2NhbGluZy54ID0gbC5nZXRDaGlsZE1lc2hlcygpWzBdLnNjYWxpbmcueiA9IDAuODtcclxuICAgICAgICAgICAgbC5nZXRDaGlsZE1lc2hlcygpWzBdLnBvc2l0aW9uLnkgPSBsLmdldENoaWxkTWVzaGVzKClbMF0uc2NhbGluZy55IC8gMiArIGRpc3RGcm9tU3BoZXJlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxldmVscyA8IDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBsID0gbGluZVBpdm90LmNsb25lKFwibGluZVBpdm90Q2xvbmVcIik7XHJcbiAgICAgICAgICAgIGwucm90YXRpb24ueiA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICBsLnJvdGF0aW9uLnkgPSAoTWF0aC5QSSAvIDIgKiBpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsZXZlbHMgPCA0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbCA9IGxpbmVQaXZvdC5jbG9uZShcImxpbmVQaXZvdENsb25lXCIpO1xyXG4gICAgICAgICAgICBsLnJvdGF0aW9uLnogPSBNYXRoLlBJICsgKE1hdGguUEkgLyA0KTtcclxuICAgICAgICAgICAgbC5yb3RhdGlvbi55ID0gKE1hdGguUEkgLyAyKSArIChNYXRoLlBJIC8gMiAqIGkpO1xyXG5cclxuICAgICAgICAgICAgbC5nZXRDaGlsZE1lc2hlcygpWzBdLnNjYWxpbmcueSA9IDAuNTtcclxuICAgICAgICAgICAgbC5nZXRDaGlsZE1lc2hlcygpWzBdLnNjYWxpbmcueCA9IGwuZ2V0Q2hpbGRNZXNoZXMoKVswXS5zY2FsaW5nLnogPSAwLjg7XHJcbiAgICAgICAgICAgIGwuZ2V0Q2hpbGRNZXNoZXMoKVswXS5wb3NpdGlvbi55ID0gbC5nZXRDaGlsZE1lc2hlcygpWzBdLnNjYWxpbmcueSAvIDIgKyBkaXN0RnJvbVNwaGVyZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsZXZlbHMgPCA1KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbCA9IGxpbmVQaXZvdC5jbG9uZShcImxpbmVQaXZvdENsb25lXCIpO1xyXG4gICAgICAgIGwucm90YXRpb24ueiA9IE1hdGguUEk7XHJcblxyXG4gICAgICAgIHJldHVybiByb290O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcG9zZXMgb2YgdGhlIGxpZ2h0IGdpem1vXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xyXG4gICAgICAgIHRoaXMub25DbGlja2VkT2JzZXJ2YWJsZS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9wb2ludGVyT2JzZXJ2ZXIpO1xyXG4gICAgICAgIHRoaXMuX21hdGVyaWFsLmRpc3Bvc2UoKTtcclxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRNZXNoUGFyZW50LmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfQ3JlYXRlSGVtaXNwaGVyaWNMaWdodE1lc2goc2NlbmU6IEJBQllMT04uU2NlbmUpIHtcclxuICAgICAgICB2YXIgcm9vdCA9IG5ldyBCQUJZTE9OLk1lc2goXCJoZW1pc3BoZXJlTGlnaHRcIiwgc2NlbmUpO1xyXG4gICAgICAgIHZhciBoZW1pc3BoZXJlID0gQkFCWUxPTi5IZW1pc3BoZXJlQnVpbGRlci5DcmVhdGVIZW1pc3BoZXJlKHJvb3QubmFtZSwgeyBzZWdtZW50czogMTAsIGRpYW1ldGVyOiAxIH0sIHNjZW5lKTtcclxuICAgICAgICBoZW1pc3BoZXJlLnBvc2l0aW9uLnogPSAtMC4xNTtcclxuICAgICAgICBoZW1pc3BoZXJlLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICBoZW1pc3BoZXJlLnBhcmVudCA9IHJvb3Q7XHJcblxyXG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuX0NyZWF0ZUxpZ2h0TGluZXMoMywgc2NlbmUpO1xyXG4gICAgICAgIGxpbmVzLnBhcmVudCA9IHJvb3Q7XHJcbiAgICAgICAgbGluZXMucG9zaXRpb24ueiAtIDAuMTU7XHJcblxyXG4gICAgICAgIHJvb3Quc2NhbGluZy5zY2FsZUluUGxhY2UoTGlnaHRHaXptby5fU2NhbGUpO1xyXG4gICAgICAgIHJvb3Qucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG5cclxuICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfQ3JlYXRlUG9pbnRMaWdodE1lc2goc2NlbmU6IEJBQllMT04uU2NlbmUpIHtcclxuICAgICAgICB2YXIgcm9vdCA9IG5ldyBCQUJZTE9OLk1lc2goXCJwb2ludExpZ2h0XCIsIHNjZW5lKTtcclxuICAgICAgICB2YXIgc3BoZXJlID0gQkFCWUxPTi5TcGhlcmVCdWlsZGVyLkNyZWF0ZVNwaGVyZShyb290Lm5hbWUsIHsgc2VnbWVudHM6IDEwLCBkaWFtZXRlcjogMSB9LCBzY2VuZSk7XHJcbiAgICAgICAgc3BoZXJlLnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICBzcGhlcmUucGFyZW50ID0gcm9vdDtcclxuXHJcbiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy5fQ3JlYXRlTGlnaHRMaW5lcyg1LCBzY2VuZSk7XHJcbiAgICAgICAgbGluZXMucGFyZW50ID0gcm9vdDtcclxuICAgICAgICByb290LnNjYWxpbmcuc2NhbGVJblBsYWNlKExpZ2h0R2l6bW8uX1NjYWxlKTtcclxuICAgICAgICByb290LnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX0NyZWF0ZVNwb3RMaWdodE1lc2goc2NlbmU6IEJBQllMT04uU2NlbmUpIHtcclxuICAgICAgICB2YXIgcm9vdCA9IG5ldyBCQUJZTE9OLk1lc2goXCJzcG90TGlnaHRcIiwgc2NlbmUpO1xyXG4gICAgICAgIHZhciBzcGhlcmUgPSBCQUJZTE9OLlNwaGVyZUJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHJvb3QubmFtZSwgeyBzZWdtZW50czogMTAsIGRpYW1ldGVyOiAxIH0sIHNjZW5lKTtcclxuICAgICAgICBzcGhlcmUucGFyZW50ID0gcm9vdDtcclxuXHJcbiAgICAgICAgdmFyIGhlbWlzcGhlcmUgPSBCQUJZTE9OLkhlbWlzcGhlcmVCdWlsZGVyLkNyZWF0ZUhlbWlzcGhlcmUocm9vdC5uYW1lLCB7IHNlZ21lbnRzOiAxMCwgZGlhbWV0ZXI6IDIgfSwgc2NlbmUpO1xyXG4gICAgICAgIGhlbWlzcGhlcmUucGFyZW50ID0gcm9vdDtcclxuICAgICAgICBoZW1pc3BoZXJlLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XHJcblxyXG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuX0NyZWF0ZUxpZ2h0TGluZXMoMiwgc2NlbmUpO1xyXG4gICAgICAgIGxpbmVzLnBhcmVudCA9IHJvb3Q7XHJcbiAgICAgICAgcm9vdC5zY2FsaW5nLnNjYWxlSW5QbGFjZShMaWdodEdpem1vLl9TY2FsZSk7XHJcbiAgICAgICAgcm9vdC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XHJcblxyXG4gICAgICAgIHJldHVybiByb290O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9DcmVhdGVEaXJlY3Rpb25hbExpZ2h0TWVzaChzY2VuZTogQkFCWUxPTi5TY2VuZSkge1xyXG4gICAgICAgIHZhciByb290ID0gbmV3IEJBQllMT04uTWVzaChcImRpcmVjdGlvbmFsTGlnaHRcIiwgc2NlbmUpO1xyXG5cclxuICAgICAgICB2YXIgbWVzaCA9IG5ldyBCQUJZTE9OLk1lc2gocm9vdC5uYW1lLCBzY2VuZSk7XHJcbiAgICAgICAgbWVzaC5wYXJlbnQgPSByb290O1xyXG4gICAgICAgIHZhciBzcGhlcmUgPSBCQUJZTE9OLlNwaGVyZUJ1aWxkZXIuQ3JlYXRlU3BoZXJlKHJvb3QubmFtZSwgeyBkaWFtZXRlcjogMS4yLCBzZWdtZW50czogMTAgfSwgc2NlbmUpO1xyXG4gICAgICAgIHNwaGVyZS5wYXJlbnQgPSBtZXNoO1xyXG5cclxuICAgICAgICB2YXIgbGluZSA9IEJBQllMT04uTWVzaC5DcmVhdGVDeWxpbmRlcihyb290Lm5hbWUsIDYsIDAuMywgMC4zLCA2LCAxLCBzY2VuZSk7XHJcbiAgICAgICAgbGluZS5wYXJlbnQgPSBtZXNoO1xyXG5cclxuICAgICAgICB2YXIgbGVmdCA9IGxpbmUuY2xvbmUocm9vdC5uYW1lKSE7XHJcbiAgICAgICAgbGVmdC5zY2FsaW5nLnkgPSAwLjU7XHJcbiAgICAgICAgbGVmdC5wb3NpdGlvbi54ICs9IDEuMjU7XHJcblxyXG4gICAgICAgIHZhciByaWdodCA9IGxpbmUuY2xvbmUocm9vdC5uYW1lKSE7XHJcbiAgICAgICAgcmlnaHQuc2NhbGluZy55ID0gMC41O1xyXG4gICAgICAgIHJpZ2h0LnBvc2l0aW9uLnggKz0gLTEuMjU7XHJcblxyXG4gICAgICAgIHZhciBhcnJvd0hlYWQgPSBCQUJZTE9OLk1lc2guQ3JlYXRlQ3lsaW5kZXIocm9vdC5uYW1lLCAxLCAwLCAwLjYsIDYsIDEsIHNjZW5lKTtcclxuICAgICAgICBhcnJvd0hlYWQucG9zaXRpb24ueSArPSAzO1xyXG4gICAgICAgIGFycm93SGVhZC5wYXJlbnQgPSBtZXNoO1xyXG5cclxuICAgICAgICB2YXIgbGVmdCA9IGFycm93SGVhZC5jbG9uZShyb290Lm5hbWUpO1xyXG4gICAgICAgIGxlZnQucG9zaXRpb24ueSA9IDEuNTtcclxuICAgICAgICBsZWZ0LnBvc2l0aW9uLnggKz0gMS4yNTtcclxuXHJcbiAgICAgICAgdmFyIHJpZ2h0ID0gYXJyb3dIZWFkLmNsb25lKHJvb3QubmFtZSk7XHJcbiAgICAgICAgcmlnaHQucG9zaXRpb24ueSA9IDEuNTtcclxuICAgICAgICByaWdodC5wb3NpdGlvbi54ICs9IC0xLjI1O1xyXG5cclxuICAgICAgICBtZXNoLnNjYWxpbmcuc2NhbGVJblBsYWNlKExpZ2h0R2l6bW8uX1NjYWxlKTtcclxuICAgICAgICBtZXNoLnJvdGF0aW9uLnogPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICBtZXNoLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgIH1cclxufSIsIi8vIGltcG9ydCB7IE9ic2VydmVyLCBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL01pc2Mvb2JzZXJ2YWJsZVwiO1xyXG4vLyBpbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG4vLyBpbXBvcnQgeyBQb2ludGVySW5mbyB9IGZyb20gXCIuLi9FdmVudHMvcG9pbnRlckV2ZW50c1wiO1xyXG4vLyBpbXBvcnQgeyBWZWN0b3IzLCBNYXRyaXggfSBmcm9tIFwiLi4vTWF0aHMvbWF0aC52ZWN0b3JcIjtcclxuLy8gaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSAnLi4vTWF0aHMvbWF0aC5jb2xvcic7XHJcbi8vIGltcG9ydCB7IFRyYW5zZm9ybU5vZGUgfSBmcm9tIFwiLi4vTWVzaGVzL3RyYW5zZm9ybU5vZGVcIjtcclxuLy8gaW1wb3J0IHsgTm9kZSB9IGZyb20gXCIuLi9ub2RlXCI7XHJcbi8vIGltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vTWVzaGVzL21lc2hcIjtcclxuLy8gaW1wb3J0IHsgUGxhbmVCdWlsZGVyIH0gZnJvbSBcIi4uL01lc2hlcy9CdWlsZGVycy9wbGFuZUJ1aWxkZXJcIjtcclxuLy8gaW1wb3J0IHsgUG9pbnRlckRyYWdCZWhhdmlvciB9IGZyb20gXCIuLi9CZWhhdmlvcnMvTWVzaGVzL3BvaW50ZXJEcmFnQmVoYXZpb3JcIjtcclxuaW1wb3J0IHsgR2l6bW8gfSBmcm9tIFwiLi9naXptb1wiO1xyXG4vLyBpbXBvcnQgeyBVdGlsaXR5TGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXJpbmcvdXRpbGl0eUxheWVyUmVuZGVyZXJcIjtcclxuLy8gaW1wb3J0IHsgU3RhbmRhcmRNYXRlcmlhbCB9IGZyb20gXCIuLi9NYXRlcmlhbHMvc3RhbmRhcmRNYXRlcmlhbFwiO1xyXG4vLyBpbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuLi9zY2VuZVwiO1xyXG5pbXBvcnQgeyBQb3NpdGlvbkdpem1vIH0gZnJvbSBcIi4vcG9zaXRpb25HaXptb1wiO1xyXG4vKipcclxuICogU2luZ2xlIHBsYW5lIGRyYWcgZ2l6bW9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQbGFuZURyYWdHaXptbyBleHRlbmRzIEdpem1vIHtcclxuICAgIC8qKlxyXG4gICAgICogRHJhZyBiZWhhdmlvciByZXNwb25zaWJsZSBmb3IgdGhlIGdpem1vcyBkcmFnZ2luZyBpbnRlcmFjdGlvbnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRyYWdCZWhhdmlvcjogQkFCWUxPTi5Qb2ludGVyRHJhZ0JlaGF2aW9yO1xyXG4gICAgcHJpdmF0ZSBfcG9pbnRlck9ic2VydmVyOiBOdWxsYWJsZTxCQUJZTE9OLk9ic2VydmVyPEJBQllMT04uUG9pbnRlckluZm8+PiA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIERyYWcgZGlzdGFuY2UgaW4gYmFieWxvbiB1bml0cyB0aGF0IHRoZSBnaXptbyB3aWxsIHNuYXAgdG8gd2hlbiBkcmFnZ2VkIChEZWZhdWx0OiAwKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc25hcERpc3RhbmNlID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgdGhhdCBmaXJlcyBlYWNoIHRpbWUgdGhlIGdpem1vIHNuYXBzIHRvIGEgbmV3IGxvY2F0aW9uLlxyXG4gICAgICogKiBzbmFwRGlzdGFuY2UgaXMgdGhlIHRoZSBjaGFuZ2UgaW4gZGlzdGFuY2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9uU25hcE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlPHsgc25hcERpc3RhbmNlOiBudW1iZXIgfT4oKTtcclxuXHJcbiAgICBwcml2YXRlIF9wbGFuZTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlO1xyXG4gICAgcHJpdmF0ZSBfY29sb3JlZE1hdGVyaWFsOiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWw7XHJcbiAgICBwcml2YXRlIF9ob3Zlck1hdGVyaWFsOiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWw7XHJcblxyXG4gICAgcHJpdmF0ZSBfaXNFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9wYXJlbnQ6IE51bGxhYmxlPFBvc2l0aW9uR2l6bW8+ID0gbnVsbDtcclxuXHJcbiAgICAvKiogQGhpZGRlbiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBfQ3JlYXRlUGxhbmUoc2NlbmU6IEJBQllMT04uU2NlbmUsIG1hdGVyaWFsOiBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwpOiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUge1xyXG4gICAgICAgIHZhciBwbGFuZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJwbGFuZVwiLCBzY2VuZSk7XHJcblxyXG4gICAgICAgIC8vbWFrZSBzdXJlIHBsYW5lIGlzIGRvdWJsZSBzaWRlZFxyXG4gICAgICAgIHZhciBkcmFnUGxhbmUgPSBCQUJZTE9OLlBsYW5lQnVpbGRlci5DcmVhdGVQbGFuZShcImRyYWdQbGFuZVwiLCB7IHdpZHRoOiAuMTM3NSwgaGVpZ2h0OiAuMTM3NSwgc2lkZU9yaWVudGF0aW9uOiAyIH0sIHNjZW5lKTtcclxuICAgICAgICAvLyB2YXIgZHJhZ1BsYW5lID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVHcm91bmQoXCJkcmFnUGxhbmVcIiwgeyB3aWR0aDogLjEzNzUsIGhlaWdodDogLjEzNzUgfSwgc2NlbmUpXHJcbiAgICAgICAgLy8gLkNyZWF0ZVBsYW5lKFwiZHJhZ1BsYW5lXCIsIC4xMzc1LCBzY2VuZSwgdW5kZWZpbmVkLCAyKTtcclxuICAgICAgICBkcmFnUGxhbmUubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgICAgICBkcmFnUGxhbmUucGFyZW50ID0gcGxhbmU7XHJcbiAgICAgICAgcmV0dXJuIHBsYW5lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaGlkZGVuICovXHJcbiAgICBwdWJsaWMgc3RhdGljIF9DcmVhdGVBcnJvd0luc3RhbmNlKHNjZW5lOiBCQUJZTE9OLlNjZW5lLCBhcnJvdzogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKTogQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlIHtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJhcnJvd1wiLCBzY2VuZSk7XHJcbiAgICAgICAgZm9yIChjb25zdCBtZXNoIG9mIGFycm93LmdldENoaWxkTWVzaGVzKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRJbnN0YW5jZSA9IChtZXNoIGFzIEJBQllMT04uTWVzaCkuY3JlYXRlSW5zdGFuY2UobWVzaC5uYW1lKTtcclxuICAgICAgICAgICAgY2hpbGRJbnN0YW5jZS5wYXJlbnQgPSBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIFBsYW5lRHJhZ0dpem1vXHJcbiAgICAgKiBAcGFyYW0gZ2l6bW9MYXllciBUaGUgdXRpbGl0eSBsYXllciB0aGUgZ2l6bW8gd2lsbCBiZSBhZGRlZCB0b1xyXG4gICAgICogQHBhcmFtIGRyYWdQbGFuZU5vcm1hbCBUaGUgYXhpcyBub3JtYWwgdG8gd2hpY2ggdGhlIGdpem1vIHdpbGwgYmUgYWJsZSB0byBkcmFnIG9uXHJcbiAgICAgKiBAcGFyYW0gY29sb3IgVGhlIGNvbG9yIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihkcmFnUGxhbmVOb3JtYWw6IEJBQllMT04uVmVjdG9yMywgY29sb3I6IEJBQllMT04uQ29sb3IzID0gQkFCWUxPTi5Db2xvcjMuR3JheSgpLCBnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyLCBwYXJlbnQ6IE51bGxhYmxlPFBvc2l0aW9uR2l6bW8+ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKGdpem1vTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcclxuICAgICAgICAvLyBDcmVhdGUgTWF0ZXJpYWxcclxuICAgICAgICB0aGlzLl9jb2xvcmVkTWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwiXCIsIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgIHRoaXMuX2NvbG9yZWRNYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLl9jb2xvcmVkTWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IGNvbG9yLnN1YnRyYWN0KG5ldyBCQUJZTE9OLkNvbG9yMygwLjEsIDAuMSwgMC4xKSk7XHJcbiAgICAgICAgdGhpcy5fY29sb3JlZE1hdGVyaWFsLmFscGhhID0gMC41O1xyXG5cclxuICAgICAgICB0aGlzLl9ob3Zlck1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcIlwiLCBnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lKTtcclxuICAgICAgICB0aGlzLl9ob3Zlck1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGNvbG9yLmFkZChuZXcgQkFCWUxPTi5Db2xvcjMoMC4zLCAwLjMsIDAuMykpO1xyXG4gICAgICAgIHRoaXMuX2hvdmVyTWF0ZXJpYWwuYWxwaGEgPSAwLjQ7XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkIHBsYW5lIG1lc2ggb24gcm9vdCBub2RlXHJcbiAgICAgICAgdGhpcy5fcGxhbmUgPSBQbGFuZURyYWdHaXptby5fQ3JlYXRlUGxhbmUoZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSwgdGhpcy5fY29sb3JlZE1hdGVyaWFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcGxhbmUubG9va0F0KHRoaXMuX3Jvb3RNZXNoLnBvc2l0aW9uLmFkZChkcmFnUGxhbmVOb3JtYWwpKTtcclxuICAgICAgICB0aGlzLl9wbGFuZS5zY2FsaW5nLnNjYWxlSW5QbGFjZSgxIC8gNik7XHJcbiAgICAgICAgdGhpcy5fcGxhbmUucGFyZW50ID0gdGhpcy5fcm9vdE1lc2g7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoZHJhZ1BsYW5lTm9ybWFsLnggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYW5lLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAuMTM3NSAvIDEyLCAuMTM3NSAvIDEyKTtcclxuICAgICAgICB9IGVsc2UgaWYoZHJhZ1BsYW5lTm9ybWFsLnkgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYW5lLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMyguMTM3NSAvIDEyLCAwLCAuMTM3NSAvIDEyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9wbGFuZS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoLjEzNzUgLyAxMiwgLjEzNzUgLyAxMiwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgPSAwO1xyXG4gICAgICAgIHZhciB0bXBWZWN0b3IgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKCk7XHJcbiAgICAgICAgdmFyIHRtcFNuYXBFdmVudCA9IHsgc25hcERpc3RhbmNlOiAwIH07XHJcbiAgICAgICAgLy8gQWRkIGRyYWdQbGFuZU5vcm1hbCBkcmFnIGJlaGF2aW9yIHRvIGhhbmRsZSBldmVudHMgd2hlbiB0aGUgZ2l6bW8gaXMgZHJhZ2dlZFxyXG4gICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yID0gbmV3IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcih7IGRyYWdQbGFuZU5vcm1hbDogZHJhZ1BsYW5lTm9ybWFsIH0pO1xyXG4gICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yLm1vdmVBdHRhY2hlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3Jvb3RNZXNoLmFkZEJlaGF2aW9yKHRoaXMuZHJhZ0JlaGF2aW9yKTtcclxuXHJcbiAgICAgICAgdmFyIGxvY2FsRGVsdGEgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKCk7XHJcbiAgICAgICAgdmFyIHRtcE1hdHJpeCA9IG5ldyBCQUJZTE9OLk1hdHJpeCgpO1xyXG4gICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yLm9uRHJhZ09ic2VydmFibGUuYWRkKChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZGVsdGEgdG8gbG9jYWwgdHJhbnNsYXRpb24gaWYgaXQgaGFzIGEgcGFyZW50XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZE5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUucGFyZW50LmNvbXB1dGVXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHRtcE1hdHJpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wTWF0cml4LnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihldmVudC5kZWx0YSwgdG1wTWF0cml4LCBsb2NhbERlbHRhKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxEZWx0YS5jb3B5RnJvbShldmVudC5kZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBTbmFwcGluZyBsb2dpY1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc25hcERpc3RhbmNlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTm9kZS5nZXRXb3JsZE1hdHJpeCgpLmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhsb2NhbERlbHRhLngsIGxvY2FsRGVsdGEueSwgbG9jYWxEZWx0YS56KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgKz0gZXZlbnQuZHJhZ0Rpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50U25hcERyYWdEaXN0YW5jZSkgPiB0aGlzLnNuYXBEaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ1N0ZXBzID0gTWF0aC5mbG9vcihNYXRoLmFicyhjdXJyZW50U25hcERyYWdEaXN0YW5jZSkgLyB0aGlzLnNuYXBEaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbmFwRHJhZ0Rpc3RhbmNlID0gY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgJSB0aGlzLnNuYXBEaXN0YW5jZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxEZWx0YS5ub3JtYWxpemVUb1JlZih0bXBWZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bXBWZWN0b3Iuc2NhbGVJblBsYWNlKHRoaXMuc25hcERpc3RhbmNlICogZHJhZ1N0ZXBzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUuZ2V0V29ybGRNYXRyaXgoKS5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHModG1wVmVjdG9yLngsIHRtcFZlY3Rvci55LCB0bXBWZWN0b3Iueik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRtcFNuYXBFdmVudC5zbmFwRGlzdGFuY2UgPSB0aGlzLnNuYXBEaXN0YW5jZSAqIGRyYWdTdGVwcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNuYXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0bXBTbmFwRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX29wZXJhdGlvblR5cGUgPSAncGxhbmUnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvaW50ZXJPYnNlcnZlciA9IGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQoKHBvaW50ZXJJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXN0b21NZXNoU2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGlzSG92ZXJlZCA9IHBvaW50ZXJJbmZvLnBpY2tJbmZvICYmICh0aGlzLl9yb290TWVzaC5nZXRDaGlsZE1lc2hlcygpLmluZGV4T2YoPEJBQllMT04uTWVzaD5wb2ludGVySW5mby5waWNrSW5mby5waWNrZWRNZXNoKSAhPSAtMSk7XHJcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IGlzSG92ZXJlZCA/IHRoaXMuX2hvdmVyTWF0ZXJpYWwgOiB0aGlzLl9jb2xvcmVkTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RNZXNoLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaCgobSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGxpZ2h0ID0gZ2l6bW9MYXllci5fZ2V0U2hhcmVkR2l6bW9MaWdodCgpO1xyXG4gICAgICAgIGxpZ2h0LmluY2x1ZGVkT25seU1lc2hlcyA9IGxpZ2h0LmluY2x1ZGVkT25seU1lc2hlcy5jb25jYXQodGhpcy5fcm9vdE1lc2guZ2V0Q2hpbGRNZXNoZXMoZmFsc2UpKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBfYXR0YWNoZWROb2RlQ2hhbmdlZCh2YWx1ZTogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPikge1xyXG4gICAgICAgIGlmICh0aGlzLmRyYWdCZWhhdmlvcikge1xyXG4gICAgICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5lbmFibGVkID0gdmFsdWUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSWYgdGhlIGdpem1vIGlzIGVuYWJsZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldCBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoZWROb2RlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWROb2RlID0gdGhpcy5fcGFyZW50LmF0dGFjaGVkTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0VuYWJsZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLm9uU25hcE9ic2VydmFibGUuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlck9ic2VydmVyKTtcclxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5kZXRhY2goKTtcclxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3BsYW5lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYW5lLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgW3RoaXMuX2NvbG9yZWRNYXRlcmlhbCwgdGhpcy5faG92ZXJNYXRlcmlhbF0uZm9yRWFjaCgobWF0bCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWF0bCkge1xyXG4gICAgICAgICAgICAgICAgbWF0bC5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vIGltcG9ydCB7IE9ic2VydmVyLCBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL01pc2Mvb2JzZXJ2YWJsZVwiO1xuLy8gaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbi8vIGltcG9ydCB7IFBvaW50ZXJJbmZvIH0gZnJvbSBcIi4uL0V2ZW50cy9wb2ludGVyRXZlbnRzXCI7XG4vLyBpbXBvcnQgeyBRdWF0ZXJuaW9uLCBNYXRyaXgsIFZlY3RvcjMgfSBmcm9tIFwiLi4vTWF0aHMvbWF0aC52ZWN0b3JcIjtcbi8vIGltcG9ydCB7IENvbG9yMyB9IGZyb20gJy4uL01hdGhzL21hdGguY29sb3InO1xuLy8gaW1wb3J0IHsgQWJzdHJhY3RNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9hYnN0cmFjdE1lc2hcIjtcbi8vIGltcG9ydCB7IE1lc2ggfSBmcm9tIFwiLi4vTWVzaGVzL21lc2hcIjtcbi8vIGltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi4vbm9kZVwiO1xuLy8gaW1wb3J0IHsgTGluZXNNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9saW5lc01lc2hcIjtcbi8vIGltcG9ydCB7IFBvaW50ZXJEcmFnQmVoYXZpb3IgfSBmcm9tIFwiLi4vQmVoYXZpb3JzL01lc2hlcy9wb2ludGVyRHJhZ0JlaGF2aW9yXCI7XG5pbXBvcnQgeyBHaXptbyB9IGZyb20gXCIuL2dpem1vXCI7XG4vLyBpbXBvcnQgeyBVdGlsaXR5TGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXJpbmcvdXRpbGl0eUxheWVyUmVuZGVyZXJcIjtcbi8vIGltcG9ydCB7IFN0YW5kYXJkTWF0ZXJpYWwgfSBmcm9tIFwiLi4vTWF0ZXJpYWxzL3N0YW5kYXJkTWF0ZXJpYWxcIjtcblxuLy8gaW1wb3J0IFwiLi4vTWVzaGVzL0J1aWxkZXJzL2xpbmVzQnVpbGRlclwiO1xuaW1wb3J0IHsgUm90YXRpb25HaXptbyB9IGZyb20gXCIuL3JvdGF0aW9uR2l6bW9cIjtcblxuLyoqXG4gKiBTaW5nbGUgcGxhbmUgcm90YXRpb24gZ2l6bW9cbiAqL1xuZXhwb3J0IGNsYXNzIFBsYW5lUm90YXRpb25HaXptbyBleHRlbmRzIEdpem1vIHtcbiAgICAvKipcbiAgICAgKiBEcmFnIGJlaGF2aW9yIHJlc3BvbnNpYmxlIGZvciB0aGUgZ2l6bW9zIGRyYWdnaW5nIGludGVyYWN0aW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmFnQmVoYXZpb3I6IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcjtcbiAgICBwcml2YXRlIF9wb2ludGVyT2JzZXJ2ZXI6IE51bGxhYmxlPEJBQllMT04uT2JzZXJ2ZXI8QkFCWUxPTi5Qb2ludGVySW5mbz4+ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0aW9uIGRpc3RhbmNlIGluIHJhZGlhbnMgdGhhdCB0aGUgZ2l6bW8gd2lsbCBzbmFwIHRvIChEZWZhdWx0OiAwKVxuICAgICAqL1xuICAgIHB1YmxpYyBzbmFwRGlzdGFuY2UgPSAwO1xuICAgIC8qKlxuICAgICAqIEV2ZW50IHRoYXQgZmlyZXMgZWFjaCB0aW1lIHRoZSBnaXptbyBzbmFwcyB0byBhIG5ldyBsb2NhdGlvbi5cbiAgICAgKiAqIHNuYXBEaXN0YW5jZSBpcyB0aGUgdGhlIGNoYW5nZSBpbiBkaXN0YW5jZVxuICAgICAqL1xuICAgIHB1YmxpYyBvblNuYXBPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZTx7IHNuYXBEaXN0YW5jZTogbnVtYmVyIH0+KCk7XG5cbiAgICBwcml2YXRlIF9pc0VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3BhcmVudDogTnVsbGFibGU8Um90YXRpb25HaXptbz4gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBsYW5lUm90YXRpb25HaXptb1xuICAgICAqIEBwYXJhbSBnaXptb0xheWVyIFRoZSB1dGlsaXR5IGxheWVyIHRoZSBnaXptbyB3aWxsIGJlIGFkZGVkIHRvXG4gICAgICogQHBhcmFtIHBsYW5lTm9ybWFsIFRoZSBub3JtYWwgb2YgdGhlIHBsYW5lIHdoaWNoIHRoZSBnaXptbyB3aWxsIGJlIGFibGUgdG8gcm90YXRlIG9uXG4gICAgICogQHBhcmFtIGNvbG9yIFRoZSBjb2xvciBvZiB0aGUgZ2l6bW9cbiAgICAgKiBAcGFyYW0gdGVzc2VsbGF0aW9uIEFtb3VudCBvZiB0ZXNzZWxsYXRpb24gdG8gYmUgdXNlZCB3aGVuIGNyZWF0aW5nIHJvdGF0aW9uIGNpcmNsZXNcbiAgICAgKiBAcGFyYW0gdXNlRXVsZXJSb3RhdGlvbiBVc2UgYW5kIHVwZGF0ZSBFdWxlciBhbmdsZSBpbnN0ZWFkIG9mIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gdGhpY2tuZXNzIGRpc3BsYXkgZ2l6bW8gYXhpcyB0aGlja25lc3NcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwbGFuZU5vcm1hbDogQkFCWUxPTi5WZWN0b3IzLCBjb2xvcjogQkFCWUxPTi5Db2xvcjMgPSBCQUJZTE9OLkNvbG9yMy5HcmF5KCksIGdpem1vTGF5ZXI6IEJBQllMT04uVXRpbGl0eUxheWVyUmVuZGVyZXIgPSBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyLkRlZmF1bHRVdGlsaXR5TGF5ZXIsIHRlc3NlbGxhdGlvbiA9IDMyLCBwYXJlbnQ6IE51bGxhYmxlPFJvdGF0aW9uR2l6bW8+ID0gbnVsbCwgdXNlRXVsZXJSb3RhdGlvbiA9IGZhbHNlLCB0aGlja25lc3M6IG51bWJlciA9IDEpIHtcbiAgICAgICAgc3VwZXIoZ2l6bW9MYXllcik7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgLy8gQ3JlYXRlIE1hdGVyaWFsXG4gICAgICAgIHZhciBjb2xvcmVkTWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwiXCIsIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xuICAgICAgICBjb2xvcmVkTWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gY29sb3I7XG4gICAgICAgIGNvbG9yZWRNYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gY29sb3Iuc3VidHJhY3QobmV3IEJBQllMT04uQ29sb3IzKDAuMSwgMC4xLCAwLjEpKTtcblxuICAgICAgICB2YXIgaG92ZXJNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XG4gICAgICAgIGhvdmVyTWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gY29sb3IuYWRkKG5ldyBCQUJZTE9OLkNvbG9yMygwLjMsIDAuMywgMC4zKSk7XG5cbiAgICAgICAgLy8gQnVpbGQgbWVzaCBvbiByb290IG5vZGVcbiAgICAgICAgdmFyIHBhcmVudE1lc2ggPSBuZXcgQkFCWUxPTi5BYnN0cmFjdE1lc2goXCJcIiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XG5cbiAgICAgICAgbGV0IGRyYWcgPSBCQUJZTE9OLk1lc2guQ3JlYXRlVG9ydXMoXCJcIiwgMC42LCAwLjAzICogdGhpY2tuZXNzLCB0ZXNzZWxsYXRpb24sIGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xuICAgICAgICBkcmFnLnZpc2liaWxpdHkgPSAwO1xuICAgICAgICBsZXQgcm90YXRpb25NZXNoID0gQkFCWUxPTi5NZXNoLkNyZWF0ZVRvcnVzKFwiXCIsIDAuNiwgMC4wMDUgKiB0aGlja25lc3MsIHRlc3NlbGxhdGlvbiwgZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XG4gICAgICAgIHJvdGF0aW9uTWVzaC5tYXRlcmlhbCA9IGNvbG9yZWRNYXRlcmlhbDtcblxuICAgICAgICAvLyBQb3NpdGlvbiBhcnJvdyBwb2ludGluZyBpbiBpdHMgZHJhZyBheGlzXG4gICAgICAgIHJvdGF0aW9uTWVzaC5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gICAgICAgIGRyYWcucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xuICAgICAgICBwYXJlbnRNZXNoLmFkZENoaWxkKHJvdGF0aW9uTWVzaCk7XG4gICAgICAgIHBhcmVudE1lc2guYWRkQ2hpbGQoZHJhZyk7XG4gICAgICAgIHBhcmVudE1lc2gubG9va0F0KHRoaXMuX3Jvb3RNZXNoLnBvc2l0aW9uLmFkZChwbGFuZU5vcm1hbCkpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3RNZXNoLmFkZENoaWxkKHBhcmVudE1lc2gpO1xuICAgICAgICBwYXJlbnRNZXNoLnNjYWxpbmcuc2NhbGVJblBsYWNlKDEgLyAzKTtcbiAgICAgICAgLy8gQWRkIGRyYWcgYmVoYXZpb3IgdG8gaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBnaXptbyBpcyBkcmFnZ2VkXG4gICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yID0gbmV3IEJBQllMT04uUG9pbnRlckRyYWdCZWhhdmlvcih7IGRyYWdQbGFuZU5vcm1hbDogcGxhbmVOb3JtYWwgfSk7XG4gICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yLm1vdmVBdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5tYXhEcmFnQW5nbGUgPSBNYXRoLlBJICogOSAvIDIwO1xuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5fdXNlQWx0ZXJuYXRlUGlja2VkUG9pbnRBYm92ZU1heERyYWdBbmdsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Jvb3RNZXNoLmFkZEJlaGF2aW9yKHRoaXMuZHJhZ0JlaGF2aW9yKTtcblxuICAgICAgICB2YXIgbGFzdERyYWdQb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoKTtcblxuICAgICAgICB0aGlzLmRyYWdCZWhhdmlvci5vbkRyYWdTdGFydE9ic2VydmFibGUuYWRkKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZE5vZGUpIHtcbiAgICAgICAgICAgICAgICBsYXN0RHJhZ1Bvc2l0aW9uLmNvcHlGcm9tKGUuZHJhZ1BsYW5lUG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgcm90YXRpb25NYXRyaXggPSBuZXcgQkFCWUxPTi5NYXRyaXgoKTtcbiAgICAgICAgdmFyIHBsYW5lTm9ybWFsVG93YXJkc0NhbWVyYSA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoKTtcbiAgICAgICAgdmFyIGxvY2FsUGxhbmVOb3JtYWxUb3dhcmRzQ2FtZXJhID0gbmV3IEJBQllMT04uVmVjdG9yMygpO1xuXG4gICAgICAgIHZhciB0bXBTbmFwRXZlbnQgPSB7IHNuYXBEaXN0YW5jZTogMCB9O1xuICAgICAgICB2YXIgY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgPSAwO1xuICAgICAgICB2YXIgdG1wTWF0cml4ID0gbmV3IEJBQllMT04uTWF0cml4KCk7XG4gICAgICAgIHZhciBhbW91bnRUb1JvdGF0ZSA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdGhpcy5kcmFnQmVoYXZpb3Iub25EcmFnT2JzZXJ2YWJsZS5hZGQoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZE5vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxjIGFuZ2xlIG92ZXIgZnVsbCAzNjAgZGVncmVlIChodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80MzQ5MzcxMS90aGUtYW5nbGUtYmV0d2Vlbi10d28tM2QtdmVjdG9ycy13aXRoLWEtcmVzdWx0LXJhbmdlLTAtMzYwKVxuICAgICAgICAgICAgICAgIHZhciBub2RlU2NhbGUgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDEsIDEpO1xuICAgICAgICAgICAgICAgIHZhciBub2RlUXVhdGVybmlvbiA9IG5ldyBCQUJZTE9OLlF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGVUcmFuc2xhdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUuZ2V0V29ybGRNYXRyaXgoKS5kZWNvbXBvc2Uobm9kZVNjYWxlLCBub2RlUXVhdGVybmlvbiwgbm9kZVRyYW5zbGF0aW9uKTtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdWZWN0b3IgPSBldmVudC5kcmFnUGxhbmVQb2ludC5zdWJ0cmFjdChub2RlVHJhbnNsYXRpb24pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFZlY3RvciA9IGxhc3REcmFnUG9zaXRpb24uc3VidHJhY3Qobm9kZVRyYW5zbGF0aW9uKS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgICAgICB2YXIgY3Jvc3MgPSBCQUJZTE9OLlZlY3RvcjMuQ3Jvc3MobmV3VmVjdG9yLCBvcmlnaW5hbFZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdmFyIGRvdCA9IEJBQllMT04uVmVjdG9yMy5Eb3QobmV3VmVjdG9yLCBvcmlnaW5hbFZlY3Rvcik7XG4gICAgICAgICAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMihjcm9zcy5sZW5ndGgoKSwgZG90KTtcbiAgICAgICAgICAgICAgICBwbGFuZU5vcm1hbFRvd2FyZHNDYW1lcmEuY29weUZyb20ocGxhbmVOb3JtYWwpO1xuICAgICAgICAgICAgICAgIGxvY2FsUGxhbmVOb3JtYWxUb3dhcmRzQ2FtZXJhLmNvcHlGcm9tKHBsYW5lTm9ybWFsKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxQbGFuZU5vcm1hbFRvd2FyZHNDYW1lcmEgPSBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtQ29vcmRpbmF0ZXMocGxhbmVOb3JtYWxUb3dhcmRzQ2FtZXJhLCByb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZsaXAgdXAgdmVjdG9yIGRlcGVuZGluZyBvbiB3aGljaCBzaWRlIHRoZSBjYW1lcmEgaXMgb25cbiAgICAgICAgICAgICAgICBpZiAoZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZS5hY3RpdmVDYW1lcmEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbVZlYyA9IGdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUuYWN0aXZlQ2FtZXJhLnBvc2l0aW9uLnN1YnRyYWN0KG5vZGVUcmFuc2xhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCQUJZTE9OLlZlY3RvcjMuRG90KGNhbVZlYywgbG9jYWxQbGFuZU5vcm1hbFRvd2FyZHNDYW1lcmEpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhbmVOb3JtYWxUb3dhcmRzQ2FtZXJhLnNjYWxlSW5QbGFjZSgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFBsYW5lTm9ybWFsVG93YXJkc0NhbWVyYS5zY2FsZUluUGxhY2UoLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBoYWxmQ2lyY2xlU2lkZSA9IEJBQllMT04uVmVjdG9yMy5Eb3QobG9jYWxQbGFuZU5vcm1hbFRvd2FyZHNDYW1lcmEsIGNyb3NzKSA+IDAuMDtcbiAgICAgICAgICAgICAgICBpZiAoaGFsZkNpcmNsZVNpZGUpIHsgYW5nbGUgPSAtYW5nbGU7IH1cblxuICAgICAgICAgICAgICAgIC8vIFNuYXBwaW5nIGxvZ2ljXG4gICAgICAgICAgICAgICAgdmFyIHNuYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zbmFwRGlzdGFuY2UgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U25hcERyYWdEaXN0YW5jZSArPSBhbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGN1cnJlbnRTbmFwRHJhZ0Rpc3RhbmNlKSA+IHRoaXMuc25hcERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ1N0ZXBzID0gTWF0aC5mbG9vcihNYXRoLmFicyhjdXJyZW50U25hcERyYWdEaXN0YW5jZSkgLyB0aGlzLnNuYXBEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ1N0ZXBzICo9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNuYXBEcmFnRGlzdGFuY2UgPSBjdXJyZW50U25hcERyYWdEaXN0YW5jZSAlIHRoaXMuc25hcERpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSB0aGlzLnNuYXBEaXN0YW5jZSAqIGRyYWdTdGVwcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBhbmdsZSBhbmQgYXhpcyB0byBxdWF0ZXJuaW9uIChodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvYW5nbGVUb1F1YXRlcm5pb24vaW5kZXguaHRtKVxuICAgICAgICAgICAgICAgIHZhciBxdWF0ZXJuaW9uQ29lZmZpY2llbnQgPSBNYXRoLnNpbihhbmdsZSAvIDIpO1xuICAgICAgICAgICAgICAgIGFtb3VudFRvUm90YXRlLnNldChwbGFuZU5vcm1hbFRvd2FyZHNDYW1lcmEueCAqIHF1YXRlcm5pb25Db2VmZmljaWVudCwgcGxhbmVOb3JtYWxUb3dhcmRzQ2FtZXJhLnkgKiBxdWF0ZXJuaW9uQ29lZmZpY2llbnQsIHBsYW5lTm9ybWFsVG93YXJkc0NhbWVyYS56ICogcXVhdGVybmlvbkNvZWZmaWNpZW50LCBNYXRoLmNvcyhhbmdsZSAvIDIpKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBtZXNoZXMgbG9jYWwgc2NhbGUgaXMgaW52ZXJ0ZWQgKGVnLiBsb2FkZWQgZ2x0ZiBmaWxlIHBhcmVudCB3aXRoIHogc2NhbGUgb2YgLTEpIHRoZSByb3RhdGlvbiBuZWVkcyB0byBiZSBpbnZlcnRlZCBvbiB0aGUgeSBheGlzXG4gICAgICAgICAgICAgICAgaWYgKHRtcE1hdHJpeC5kZXRlcm1pbmFudCgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wVmVjdG9yID0gbmV3IEJBQllMT04uVmVjdG9yMygpO1xuICAgICAgICAgICAgICAgICAgICBhbW91bnRUb1JvdGF0ZS50b0V1bGVyQW5nbGVzVG9SZWYodG1wVmVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgQkFCWUxPTi5RdWF0ZXJuaW9uLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodG1wVmVjdG9yLnksIC10bXBWZWN0b3IueCwgLXRtcFZlY3Rvci56LCBhbW91bnRUb1JvdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm90YXRlIHNlbGVjdGVkIG1lc2ggcXVhdGVybmlvbiBvdmVyIGZpeGVkIGF4aXNcbiAgICAgICAgICAgICAgICAgICAgbm9kZVF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihhbW91bnRUb1JvdGF0ZSwgbm9kZVF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJvdGF0ZSBzZWxlY3RlZCBtZXNoIHF1YXRlcm5pb24gb3ZlciByb3RhdGVkIGF4aXNcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50VG9Sb3RhdGUubXVsdGlwbHlUb1JlZihub2RlUXVhdGVybmlvbiwgbm9kZVF1YXRlcm5pb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHJlY29tcG9zZSBtYXRyaXhcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaGVkTm9kZS5nZXRXb3JsZE1hdHJpeCgpLmNvcHlGcm9tKEJBQllMT04uTWF0cml4LkNvbXBvc2Uobm9kZVNjYWxlLCBub2RlUXVhdGVybmlvbiwgbm9kZVRyYW5zbGF0aW9uKSk7XG5cbiAgICAgICAgICAgICAgICBsYXN0RHJhZ1Bvc2l0aW9uLmNvcHlGcm9tKGV2ZW50LmRyYWdQbGFuZVBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoc25hcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICB0bXBTbmFwRXZlbnQuc25hcERpc3RhbmNlID0gYW5nbGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TbmFwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModG1wU25hcEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlcmF0aW9uVHlwZSA9ICdyb3RhdGUnO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hdHJpeENoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fcG9pbnRlck9ic2VydmVyID0gZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLmFkZCgocG9pbnRlckluZm8pID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXN0b21NZXNoU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGlzSG92ZXJlZCA9IHBvaW50ZXJJbmZvLnBpY2tJbmZvICYmICh0aGlzLl9yb290TWVzaC5nZXRDaGlsZE1lc2hlcygpLmluZGV4T2YoPEJBQllMT04uTWVzaD5wb2ludGVySW5mby5waWNrSW5mby5waWNrZWRNZXNoKSAhPSAtMSk7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBpc0hvdmVyZWQgPyBob3Zlck1hdGVyaWFsIDogY29sb3JlZE1hdGVyaWFsO1xuICAgICAgICAgICAgdGhpcy5fcm9vdE1lc2guZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgICAgICAgICAgbS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIGlmICgoPEJBQllMT04uTGluZXNNZXNoPm0pLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICg8QkFCWUxPTi5MaW5lc01lc2g+bSkuY29sb3IgPSBtYXRlcmlhbC5kaWZmdXNlQ29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBsaWdodCA9IGdpem1vTGF5ZXIuX2dldFNoYXJlZEdpem1vTGlnaHQoKTtcbiAgICAgICAgbGlnaHQuaW5jbHVkZWRPbmx5TWVzaGVzID0gbGlnaHQuaW5jbHVkZWRPbmx5TWVzaGVzLmNvbmNhdCh0aGlzLl9yb290TWVzaC5nZXRDaGlsZE1lc2hlcyhmYWxzZSkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfYXR0YWNoZWROb2RlQ2hhbmdlZCh2YWx1ZTogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPikge1xuICAgICAgICBpZiAodGhpcy5kcmFnQmVoYXZpb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ0JlaGF2aW9yLmVuYWJsZWQgPSB2YWx1ZSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgZ2l6bW8gaXMgZW5hYmxlZFxuICAgICAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGlzRW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ggPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoID0gdGhpcy5fcGFyZW50LmF0dGFjaGVkTWVzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGlzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRW5hYmxlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgb2YgdGhlIGdpem1vXG4gICAgICovXG4gICAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMub25TbmFwT2JzZXJ2YWJsZS5jbGVhcigpO1xuICAgICAgICB0aGlzLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlck9ic2VydmVyKTtcbiAgICAgICAgdGhpcy5kcmFnQmVoYXZpb3IuZGV0YWNoKCk7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG59IiwiLy8gaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4uL01pc2MvbG9nZ2VyXCI7XHJcbi8vIGltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi4vTWlzYy9vYnNlcnZhYmxlXCI7XHJcbi8vIGltcG9ydCB7IE51bGxhYmxlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbi8vIGltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vTWF0aHMvbWF0aC52ZWN0b3JcIjtcclxuLy8gaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSAnLi4vTWF0aHMvbWF0aC5jb2xvcic7XHJcbi8vIGltcG9ydCB7IEFic3RyYWN0TWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvYWJzdHJhY3RNZXNoXCI7XHJcbi8vIGltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi4vbm9kZVwiO1xyXG4vLyBpbXBvcnQgeyBNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9tZXNoXCI7XHJcbmltcG9ydCB7IEdpem1vIH0gZnJvbSBcIi4vZ2l6bW9cIjtcclxuaW1wb3J0IHsgQXhpc0RyYWdHaXptbyB9IGZyb20gXCIuL2F4aXNEcmFnR2l6bW9cIjtcclxuaW1wb3J0IHsgUGxhbmVEcmFnR2l6bW8gfSBmcm9tIFwiLi9wbGFuZURyYWdHaXptb1wiO1xyXG4vLyBpbXBvcnQgeyBVdGlsaXR5TGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXJpbmcvdXRpbGl0eUxheWVyUmVuZGVyZXJcIjtcclxuLyoqXHJcbiAqIEdpem1vIHRoYXQgZW5hYmxlcyBkcmFnZ2luZyBhIG1lc2ggYWxvbmcgMyBheGlzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUG9zaXRpb25HaXptbyBleHRlbmRzIEdpem1vIHtcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZ2l6bW8gdXNlZCBmb3IgaW50ZXJhY3Rpb25zIG9uIHRoZSB4IGF4aXNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHhHaXptbzogQXhpc0RyYWdHaXptbztcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZ2l6bW8gdXNlZCBmb3IgaW50ZXJhY3Rpb25zIG9uIHRoZSB5IGF4aXNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHlHaXptbzogQXhpc0RyYWdHaXptbztcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZ2l6bW8gdXNlZCBmb3IgaW50ZXJhY3Rpb25zIG9uIHRoZSB6IGF4aXNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHpHaXptbzogQXhpc0RyYWdHaXptbztcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZ2l6bW8gdXNlZCBmb3IgaW50ZXJhY3Rpb25zIG9uIHRoZSB5eiBwbGFuZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgeFBsYW5lR2l6bW86IFBsYW5lRHJhZ0dpem1vO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBnaXptbyB1c2VkIGZvciBpbnRlcmFjdGlvbnMgb24gdGhlIHh6IHBsYW5lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB5UGxhbmVHaXptbzogUGxhbmVEcmFnR2l6bW87XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGdpem1vIHVzZWQgZm9yIGludGVyYWN0aW9ucyBvbiB0aGUgeHkgcGxhbmVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHpQbGFuZUdpem1vOiBQbGFuZURyYWdHaXptbztcclxuXHJcbiAgICAvKipcclxuICAgICAqIHByaXZhdGUgdmFyaWFibGVzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX21lc2hBdHRhY2hlZDogTnVsbGFibGU8QkFCWUxPTi5BYnN0cmFjdE1lc2g+ID0gbnVsbDtcclxuICAgIHByaXZhdGUgX25vZGVBdHRhY2hlZDogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPiA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9zbmFwRGlzdGFuY2UhOiBudW1iZXI7XHJcblxyXG4gICAgLyoqIEZpcmVzIGFuIGV2ZW50IHdoZW4gYW55IG9mIGl0J3Mgc3ViIGdpem1vcyBhcmUgZHJhZ2dlZCAqL1xyXG4gICAgcHVibGljIG9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGUoKTtcclxuICAgIC8qKiBGaXJlcyBhbiBldmVudCB3aGVuIGFueSBvZiBpdCdzIHN1YiBnaXptb3MgYXJlIHJlbGVhc2VkIGZyb20gZHJhZ2dpbmcgKi9cclxuICAgIHB1YmxpYyBvbkRyYWdFbmRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZSgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSWYgc2V0IHRvIHRydWUsIHBsYW5hciBkcmFnIGlzIGVuYWJsZWRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcGxhbmFyR2l6bW9FbmFibGVkID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIGdldCBhdHRhY2hlZE1lc2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc2hBdHRhY2hlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgYXR0YWNoZWRNZXNoKG1lc2g6IE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPikge1xyXG4gICAgICAgIHRoaXMuX21lc2hBdHRhY2hlZCA9IG1lc2g7XHJcbiAgICAgICAgdGhpcy5fbm9kZUF0dGFjaGVkID0gbWVzaDtcclxuICAgICAgICBbdGhpcy54R2l6bW8sIHRoaXMueUdpem1vLCB0aGlzLnpHaXptbywgdGhpcy54UGxhbmVHaXptbywgdGhpcy55UGxhbmVHaXptbywgdGhpcy56UGxhbmVHaXptb10uZm9yRWFjaCgoZ2l6bW8pID0+IHtcclxuICAgICAgICAgICAgaWYgKGdpem1vLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgZ2l6bW8uYXR0YWNoZWRNZXNoID0gbWVzaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLmF0dGFjaGVkTWVzaCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGF0dGFjaGVkTm9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZUF0dGFjaGVkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBhdHRhY2hlZE5vZGUobm9kZTogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPikge1xyXG4gICAgICAgIHRoaXMuX21lc2hBdHRhY2hlZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fbm9kZUF0dGFjaGVkID0gbnVsbDtcclxuICAgICAgICBbdGhpcy54R2l6bW8sIHRoaXMueUdpem1vLCB0aGlzLnpHaXptbywgdGhpcy54UGxhbmVHaXptbywgdGhpcy55UGxhbmVHaXptbywgdGhpcy56UGxhbmVHaXptb10uZm9yRWFjaCgoZ2l6bW8pID0+IHtcclxuICAgICAgICAgICAgaWYgKGdpem1vLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgZ2l6bW8uYXR0YWNoZWROb2RlID0gbm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLmF0dGFjaGVkTm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIFBvc2l0aW9uR2l6bW9cclxuICAgICAqIEBwYXJhbSBnaXptb0xheWVyIFRoZSB1dGlsaXR5IGxheWVyIHRoZSBnaXptbyB3aWxsIGJlIGFkZGVkIHRvXHJcbiAgICAgIEBwYXJhbSB0aGlja25lc3MgZGlzcGxheSBnaXptbyBheGlzIHRoaWNrbmVzc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyLCB0aGlja25lc3M6IG51bWJlciA9IDEpIHtcclxuICAgICAgICBzdXBlcihnaXptb0xheWVyKTtcclxuICAgICAgICB0aGlzLnhHaXptbyA9IG5ldyBBeGlzRHJhZ0dpem1vKG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMCwgMCksIEJBQllMT04uQ29sb3IzLlJlZCgpLnNjYWxlKDAuNSksIGdpem1vTGF5ZXIsIHRoaXMsIHRoaWNrbmVzcyk7XHJcbiAgICAgICAgdGhpcy55R2l6bW8gPSBuZXcgQXhpc0RyYWdHaXptbyhuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApLCBCQUJZTE9OLkNvbG9yMy5HcmVlbigpLnNjYWxlKDAuNSksIGdpem1vTGF5ZXIsIHRoaXMsIHRoaWNrbmVzcyk7XHJcbiAgICAgICAgdGhpcy56R2l6bW8gPSBuZXcgQXhpc0RyYWdHaXptbyhuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDEpLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkuc2NhbGUoMC41KSwgZ2l6bW9MYXllciwgdGhpcywgdGhpY2tuZXNzKTtcclxuXHJcbiAgICAgICAgdGhpcy54UGxhbmVHaXptbyA9IG5ldyBQbGFuZURyYWdHaXptbyhuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDAsIDApLCBCQUJZTE9OLkNvbG9yMy5SZWQoKS5zY2FsZSgwLjUpLCB0aGlzLmdpem1vTGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMueVBsYW5lR2l6bW8gPSBuZXcgUGxhbmVEcmFnR2l6bW8obmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKSwgQkFCWUxPTi5Db2xvcjMuR3JlZW4oKS5zY2FsZSgwLjUpLCB0aGlzLmdpem1vTGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuelBsYW5lR2l6bW8gPSBuZXcgUGxhbmVEcmFnR2l6bW8obmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAxKSwgQkFCWUxPTi5Db2xvcjMuQmx1ZSgpLnNjYWxlKDAuNSksIHRoaXMuZ2l6bW9MYXllciwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMub25EcmFnRW5kT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncG9zaXRpb24gZHJhZyDnu5PmnZ8nKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihnaXptb0xheWVyLnV0aWxpdHlMYXllclNjZW5lLnJvb3ROb2Rlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gUmVsYXkgZHJhZyBldmVudHNcclxuICAgICAgICBbdGhpcy54R2l6bW8sIHRoaXMueUdpem1vLCB0aGlzLnpHaXptbywgdGhpcy54UGxhbmVHaXptbywgdGhpcy55UGxhbmVHaXptbywgdGhpcy56UGxhbmVHaXptb10uZm9yRWFjaCgoZ2l6bW8pID0+IHtcclxuICAgICAgICAgICAgZ2l6bW8uZHJhZ0JlaGF2aW9yLm9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdTdGFydE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGdpem1vLmRyYWdCZWhhdmlvci5vbkRyYWdFbmRPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ0VuZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhbmFyR2l6bW9FbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyB0aGlzLnVwZGF0ZUdpem1vUm90YXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hlZE1lc2ggPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29vcmRTeXN0ZW06IHN0cmluZyA9ICdsb2NhbCc7XHJcbiAgICBwcml2YXRlIGluaXRpYWxpemUoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGVkaXRvci5vbignZ2l6bW86Y29vcmRTeXN0ZW0nLCBmdW5jdGlvbiAoc3lzdGVtOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY29vcmRTeXN0ZW0gPT09IHN5c3RlbSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuY29vcmRTeXN0ZW0gPSBzeXN0ZW07XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZi5jb29yZFN5c3RlbSA9PT0gJ3dvcmxkJykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Bvc2l0aW9uOiAnICsgc2VsZi51cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiB0aGUgcGxhbmFyIGRyYWcgZ2l6bW8gaXMgZW5hYmxlZFxyXG4gICAgICogc2V0dGluZyB0aGlzIHdpbGwgZW5hYmxlL2Rpc2FibGUgWFksIFhaIGFuZCBZWiBwbGFuZXMgcmVnYXJkbGVzcyBvZiBpbmRpdmlkdWFsIGdpem1vIHNldHRpbmdzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IHBsYW5hckdpem1vRW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX3BsYW5hckdpem1vRW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgIFt0aGlzLnhQbGFuZUdpem1vLCB0aGlzLnlQbGFuZUdpem1vLCB0aGlzLnpQbGFuZUdpem1vXS5mb3JFYWNoKChnaXptbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2l6bW8pIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLmlzRW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdpem1vLmF0dGFjaGVkTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaXptby5hdHRhY2hlZE1lc2ggPSB0aGlzLmF0dGFjaGVkTWVzaDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnaXptby5hdHRhY2hlZE5vZGUgPSB0aGlzLmF0dGFjaGVkTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHBsYW5hckdpem1vRW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGxhbmFyR2l6bW9FbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgdXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2godmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl91cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCA9IHZhbHVlO1xyXG4gICAgICAgIFt0aGlzLnhHaXptbywgdGhpcy55R2l6bW8sIHRoaXMuekdpem1vLCB0aGlzLnhQbGFuZUdpem1vLCB0aGlzLnlQbGFuZUdpem1vLCB0aGlzLnpQbGFuZUdpem1vXS5mb3JFYWNoKChnaXptbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2l6bW8pIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLnVwZGF0ZUdpem1vUm90YXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgdXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUdpem1vUm90YXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhZyBkaXN0YW5jZSBpbiBiYWJ5bG9uIHVuaXRzIHRoYXQgdGhlIGdpem1vIHdpbGwgc25hcCB0byB3aGVuIGRyYWdnZWQgKERlZmF1bHQ6IDApXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXQgc25hcERpc3RhbmNlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zbmFwRGlzdGFuY2UgPSB2YWx1ZTtcclxuICAgICAgICBbdGhpcy54R2l6bW8sIHRoaXMueUdpem1vLCB0aGlzLnpHaXptbywgdGhpcy54UGxhbmVHaXptbywgdGhpcy55UGxhbmVHaXptbywgdGhpcy56UGxhbmVHaXptb10uZm9yRWFjaCgoZ2l6bW8pID0+IHtcclxuICAgICAgICAgICAgaWYgKGdpem1vKSB7XHJcbiAgICAgICAgICAgICAgICBnaXptby5zbmFwRGlzdGFuY2UgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBzbmFwRGlzdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NuYXBEaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJhdGlvIGZvciB0aGUgc2NhbGUgb2YgdGhlIGdpem1vIChEZWZhdWx0OiAxKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IHNjYWxlUmF0aW8odmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3NjYWxlUmF0aW8gPSB2YWx1ZTtcclxuICAgICAgICBbdGhpcy54R2l6bW8sIHRoaXMueUdpem1vLCB0aGlzLnpHaXptbywgdGhpcy54UGxhbmVHaXptbywgdGhpcy55UGxhbmVHaXptbywgdGhpcy56UGxhbmVHaXptb10uZm9yRWFjaCgoZ2l6bW8pID0+IHtcclxuICAgICAgICAgICAgaWYgKGdpem1vKSB7XHJcbiAgICAgICAgICAgICAgICBnaXptby5zY2FsZVJhdGlvID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgc2NhbGVSYXRpbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGVSYXRpbztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICBbdGhpcy54R2l6bW8sIHRoaXMueUdpem1vLCB0aGlzLnpHaXptbywgdGhpcy54UGxhbmVHaXptbywgdGhpcy55UGxhbmVHaXptbywgdGhpcy56UGxhbmVHaXptb10uZm9yRWFjaCgoZ2l6bW8pID0+IHtcclxuICAgICAgICAgICAgaWYgKGdpem1vKSB7XHJcbiAgICAgICAgICAgICAgICBnaXptby5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMub25EcmFnRW5kT2JzZXJ2YWJsZS5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3VzdG9tTWVzaGVzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZ2l6bW9cclxuICAgICAqIEBwYXJhbSBtZXNoIFRoZSBtZXNoIHRvIHJlcGxhY2UgdGhlIGRlZmF1bHQgbWVzaCBvZiB0aGUgZ2l6bW9cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEN1c3RvbU1lc2gobWVzaDogQkFCWUxPTi5NZXNoKSB7XHJcbiAgICAgICAgQkFCWUxPTi5Mb2dnZXIuRXJyb3IoXCJDdXN0b20gbWVzaGVzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZ2l6bW8sIHBsZWFzZSBzZXQgdGhlIGN1c3RvbSBtZXNoZXMgb24gdGhlIGdpem1vcyBjb250YWluZWQgd2l0aGluIHRoaXMgb25lIChnaXptby54R2l6bW8sIGdpem1vLnlHaXptbywgZ2l6bW8uekdpem1vLGdpem1vLnhQbGFuZUdpem1vLCBnaXptby55UGxhbmVHaXptbywgZ2l6bW8uelBsYW5lR2l6bW8pXCIpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIGltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuLi9NaXNjL2xvZ2dlclwiO1xyXG4vLyBpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL01pc2Mvb2JzZXJ2YWJsZVwiO1xyXG4vLyBpbXBvcnQgeyBOdWxsYWJsZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG4vLyBpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL01hdGhzL21hdGgudmVjdG9yXCI7XHJcbi8vIGltcG9ydCB7IENvbG9yMyB9IGZyb20gJy4uL01hdGhzL21hdGguY29sb3InO1xyXG4vLyBpbXBvcnQgeyBBYnN0cmFjdE1lc2ggfSBmcm9tIFwiLi4vTWVzaGVzL2Fic3RyYWN0TWVzaFwiO1xyXG4vLyBpbXBvcnQgeyBNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9tZXNoXCI7XHJcbmltcG9ydCB7IEdpem1vIH0gZnJvbSBcIi4vZ2l6bW9cIjtcclxuaW1wb3J0IHsgUGxhbmVSb3RhdGlvbkdpem1vIH0gZnJvbSBcIi4vcGxhbmVSb3RhdGlvbkdpem1vXCI7XHJcbi8vIGltcG9ydCB7IFV0aWxpdHlMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL1JlbmRlcmluZy91dGlsaXR5TGF5ZXJSZW5kZXJlclwiO1xyXG4vLyBpbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4uL25vZGVcIjtcclxuLyoqXHJcbiAqIEdpem1vIHRoYXQgZW5hYmxlcyByb3RhdGluZyBhIG1lc2ggYWxvbmcgMyBheGlzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUm90YXRpb25HaXptbyBleHRlbmRzIEdpem1vIHtcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZ2l6bW8gdXNlZCBmb3IgaW50ZXJhY3Rpb25zIG9uIHRoZSB4IGF4aXNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHhHaXptbzogUGxhbmVSb3RhdGlvbkdpem1vO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBnaXptbyB1c2VkIGZvciBpbnRlcmFjdGlvbnMgb24gdGhlIHkgYXhpc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgeUdpem1vOiBQbGFuZVJvdGF0aW9uR2l6bW87XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGdpem1vIHVzZWQgZm9yIGludGVyYWN0aW9ucyBvbiB0aGUgeiBheGlzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB6R2l6bW86IFBsYW5lUm90YXRpb25HaXptbztcclxuXHJcbiAgICAvKiogRmlyZXMgYW4gZXZlbnQgd2hlbiBhbnkgb2YgaXQncyBzdWIgZ2l6bW9zIGFyZSBkcmFnZ2VkICovXHJcbiAgICBwdWJsaWMgb25EcmFnU3RhcnRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZSgpO1xyXG4gICAgLyoqIEZpcmVzIGFuIGV2ZW50IHdoZW4gYW55IG9mIGl0J3Mgc3ViIGdpem1vcyBhcmUgcmVsZWFzZWQgZnJvbSBkcmFnZ2luZyAqL1xyXG4gICAgcHVibGljIG9uRHJhZ0VuZE9ic2VydmFibGUgPSBuZXcgQkFCWUxPTi5PYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgcHJpdmF0ZSBfbWVzaEF0dGFjaGVkITogTnVsbGFibGU8QkFCWUxPTi5BYnN0cmFjdE1lc2g+O1xyXG4gICAgcHJpdmF0ZSBfbm9kZUF0dGFjaGVkITogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPjtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGF0dGFjaGVkTWVzaCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWVzaEF0dGFjaGVkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBhdHRhY2hlZE1lc2gobWVzaDogTnVsbGFibGU8QkFCWUxPTi5BYnN0cmFjdE1lc2g+KSB7XHJcbiAgICAgICAgdGhpcy5fbWVzaEF0dGFjaGVkID0gbWVzaDtcclxuICAgICAgICB0aGlzLl9ub2RlQXR0YWNoZWQgPSBtZXNoO1xyXG4gICAgICAgIFt0aGlzLnhHaXptbywgdGhpcy55R2l6bW8sIHRoaXMuekdpem1vXS5mb3JFYWNoKChnaXptbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2l6bW8uaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBnaXptby5hdHRhY2hlZE1lc2ggPSBtZXNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2l6bW8uYXR0YWNoZWRNZXNoID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgYXR0YWNoZWROb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ub2RlQXR0YWNoZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGF0dGFjaGVkTm9kZShub2RlOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+KSB7XHJcbiAgICAgICAgdGhpcy5fbWVzaEF0dGFjaGVkID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9ub2RlQXR0YWNoZWQgPSBub2RlO1xyXG4gICAgICAgIFt0aGlzLnhHaXptbywgdGhpcy55R2l6bW8sIHRoaXMuekdpem1vXS5mb3JFYWNoKChnaXptbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2l6bW8uaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBnaXptby5hdHRhY2hlZE5vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2l6bW8uYXR0YWNoZWROb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgUm90YXRpb25HaXptb1xyXG4gICAgICogQHBhcmFtIGdpem1vTGF5ZXIgVGhlIHV0aWxpdHkgbGF5ZXIgdGhlIGdpem1vIHdpbGwgYmUgYWRkZWQgdG9cclxuICAgICAqIEBwYXJhbSB0ZXNzZWxsYXRpb24gQW1vdW50IG9mIHRlc3NlbGxhdGlvbiB0byBiZSB1c2VkIHdoZW4gY3JlYXRpbmcgcm90YXRpb24gY2lyY2xlc1xyXG4gICAgICogQHBhcmFtIHVzZUV1bGVyUm90YXRpb24gVXNlIGFuZCB1cGRhdGUgRXVsZXIgYW5nbGUgaW5zdGVhZCBvZiBxdWF0ZXJuaW9uXHJcbiAgICAgKiBAcGFyYW0gdGhpY2tuZXNzIGRpc3BsYXkgZ2l6bW8gYXhpcyB0aGlja25lc3NcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZ2l6bW9MYXllcjogQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlciA9IEJBQllMT04uVXRpbGl0eUxheWVyUmVuZGVyZXIuRGVmYXVsdFV0aWxpdHlMYXllciwgdGVzc2VsbGF0aW9uID0gMzIsIHVzZUV1bGVyUm90YXRpb24gPSBmYWxzZSwgdGhpY2tuZXNzOiBudW1iZXIgPSAxKSB7XHJcbiAgICAgICAgc3VwZXIoZ2l6bW9MYXllcik7XHJcbiAgICAgICAgdGhpcy54R2l6bW8gPSBuZXcgUGxhbmVSb3RhdGlvbkdpem1vKG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMCwgMCksIEJBQllMT04uQ29sb3IzLlJlZCgpLnNjYWxlKDAuNSksIGdpem1vTGF5ZXIsIHRlc3NlbGxhdGlvbiwgdGhpcywgdXNlRXVsZXJSb3RhdGlvbiwgdGhpY2tuZXNzKTtcclxuICAgICAgICB0aGlzLnlHaXptbyA9IG5ldyBQbGFuZVJvdGF0aW9uR2l6bW8obmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKSwgQkFCWUxPTi5Db2xvcjMuR3JlZW4oKS5zY2FsZSgwLjUpLCBnaXptb0xheWVyLCB0ZXNzZWxsYXRpb24sIHRoaXMsIHVzZUV1bGVyUm90YXRpb24sIHRoaWNrbmVzcyk7XHJcbiAgICAgICAgdGhpcy56R2l6bW8gPSBuZXcgUGxhbmVSb3RhdGlvbkdpem1vKG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMSksIEJBQllMT04uQ29sb3IzLkJsdWUoKS5zY2FsZSgwLjUpLCBnaXptb0xheWVyLCB0ZXNzZWxsYXRpb24sIHRoaXMsIHVzZUV1bGVyUm90YXRpb24sIHRoaWNrbmVzcyk7XHJcblxyXG4gICAgICAgIC8vIFJlbGF5IGRyYWcgZXZlbnRzXHJcbiAgICAgICAgW3RoaXMueEdpem1vLCB0aGlzLnlHaXptbywgdGhpcy56R2l6bW9dLmZvckVhY2goKGdpem1vKSA9PiB7XHJcbiAgICAgICAgICAgIGdpem1vLmRyYWdCZWhhdmlvci5vbkRyYWdTdGFydE9ic2VydmFibGUuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25EcmFnU3RhcnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7fSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBnaXptby5kcmFnQmVoYXZpb3Iub25EcmFnRW5kT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdFbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7fSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB0aGlzLl91cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaGVkTWVzaCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hlZE5vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb29yZFN5c3RlbTogc3RyaW5nID0gJ2xvY2FsJztcclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZWRpdG9yLm9uKCdnaXptbzpjb29yZFN5c3RlbScsIGZ1bmN0aW9uIChzeXN0ZW06IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5jb29yZFN5c3RlbSA9PT0gc3lzdGVtKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5jb29yZFN5c3RlbSA9IHN5c3RlbTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLmNvb3JkU3lzdGVtID09PSAnd29ybGQnKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUdpem1vUm90YXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZUdpem1vUm90YXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JvdGF0ZTogJyArIHNlbGYudXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2gpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgdXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2godmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy54R2l6bW8pIHtcclxuICAgICAgICAgICAgdGhpcy54R2l6bW8udXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy55R2l6bW8udXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy56R2l6bW8udXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHVwZGF0ZUdpem1vUm90YXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnhHaXptby51cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYWcgZGlzdGFuY2UgaW4gYmFieWxvbiB1bml0cyB0aGF0IHRoZSBnaXptbyB3aWxsIHNuYXAgdG8gd2hlbiBkcmFnZ2VkIChEZWZhdWx0OiAwKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IHNuYXBEaXN0YW5jZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMueEdpem1vKSB7XHJcbiAgICAgICAgICAgIHRoaXMueEdpem1vLnNuYXBEaXN0YW5jZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnlHaXptby5zbmFwRGlzdGFuY2UgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy56R2l6bW8uc25hcERpc3RhbmNlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBzbmFwRGlzdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueEdpem1vLnNuYXBEaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJhdGlvIGZvciB0aGUgc2NhbGUgb2YgdGhlIGdpem1vIChEZWZhdWx0OiAxKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IHNjYWxlUmF0aW8odmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLnhHaXptbykge1xyXG4gICAgICAgICAgICB0aGlzLnhHaXptby5zY2FsZVJhdGlvID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMueUdpem1vLnNjYWxlUmF0aW8gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy56R2l6bW8uc2NhbGVSYXRpbyA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgc2NhbGVSYXRpbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54R2l6bW8uc2NhbGVSYXRpbztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBnaXptb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLnhHaXptby5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy55R2l6bW8uZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMuekdpem1vLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMub25EcmFnRW5kT2JzZXJ2YWJsZS5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3VzdG9tTWVzaGVzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZ2l6bW9cclxuICAgICAqIEBwYXJhbSBtZXNoIFRoZSBtZXNoIHRvIHJlcGxhY2UgdGhlIGRlZmF1bHQgbWVzaCBvZiB0aGUgZ2l6bW9cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEN1c3RvbU1lc2gobWVzaDogQkFCWUxPTi5NZXNoKSB7XHJcbiAgICAgICAgQkFCWUxPTi5Mb2dnZXIuRXJyb3IoXCJDdXN0b20gbWVzaGVzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZ2l6bW8sIHBsZWFzZSBzZXQgdGhlIGN1c3RvbSBtZXNoZXMgb24gdGhlIGdpem1vcyBjb250YWluZWQgd2l0aGluIHRoaXMgb25lIChnaXptby54R2l6bW8sIGdpem1vLnlHaXptbywgZ2l6bW8uekdpem1vKVwiKTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vTWlzYy9sb2dnZXJcIjtcclxuLy8gaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9NaXNjL29ic2VydmFibGVcIjtcclxuLy8gaW1wb3J0IHsgTnVsbGFibGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuLy8gaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9NYXRocy9tYXRoLnZlY3RvclwiO1xyXG4vLyBpbXBvcnQgeyBDb2xvcjMgfSBmcm9tICcuLi9NYXRocy9tYXRoLmNvbG9yJztcclxuLy8gaW1wb3J0IHsgQWJzdHJhY3RNZXNoIH0gZnJvbSBcIi4uL01lc2hlcy9hYnN0cmFjdE1lc2hcIjtcclxuLy8gaW1wb3J0IHsgUG9seWhlZHJvbkJ1aWxkZXIgfSBmcm9tIFwiLi4vTWVzaGVzL0J1aWxkZXJzL3BvbHloZWRyb25CdWlsZGVyXCI7XHJcbmltcG9ydCB7IEdpem1vIH0gZnJvbSBcIi4vZ2l6bW9cIjtcclxuaW1wb3J0IHsgQXhpc1NjYWxlR2l6bW8gfSBmcm9tIFwiLi9heGlzU2NhbGVHaXptb1wiO1xyXG4vLyBpbXBvcnQgeyBVdGlsaXR5TGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXJpbmcvdXRpbGl0eUxheWVyUmVuZGVyZXJcIjtcclxuLy8gaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuLi9NZXNoZXMvbWVzaFwiO1xyXG4vLyBpbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4uL25vZGVcIjtcclxuLy8gLyoqXHJcbi8vICAqIEdpem1vIHRoYXQgZW5hYmxlcyBzY2FsaW5nIGEgbWVzaCBhbG9uZyAzIGF4aXNcclxuLy8gICovXHJcbmV4cG9ydCBjbGFzcyBTY2FsZUdpem1vIGV4dGVuZHMgR2l6bW8ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBnaXptbyB1c2VkIGZvciBpbnRlcmFjdGlvbnMgb24gdGhlIHggYXhpc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgeEdpem1vOiBBeGlzU2NhbGVHaXptbztcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZ2l6bW8gdXNlZCBmb3IgaW50ZXJhY3Rpb25zIG9uIHRoZSB5IGF4aXNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHlHaXptbzogQXhpc1NjYWxlR2l6bW87XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGdpem1vIHVzZWQgZm9yIGludGVyYWN0aW9ucyBvbiB0aGUgeiBheGlzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB6R2l6bW86IEF4aXNTY2FsZUdpem1vO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZ2l6bW8gdXNlZCB0byBzY2FsZSBhbGwgYXhpcyBlcXVhbGx5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1bmlmb3JtU2NhbGVHaXptbzogQXhpc1NjYWxlR2l6bW87XHJcblxyXG4gICAgcHJpdmF0ZSBfbWVzaEF0dGFjaGVkOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfbm9kZUF0dGFjaGVkOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+ID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3NuYXBEaXN0YW5jZSE6IG51bWJlcjtcclxuICAgIHByaXZhdGUgX3VuaWZvcm1TY2FsaW5nTWVzaDogQkFCWUxPTi5NZXNoO1xyXG4gICAgcHJpdmF0ZSBfb2N0YWhlZHJvbjogQkFCWUxPTi5NZXNoO1xyXG4gICAgcHJpdmF0ZSBfc2Vuc2l0aXZpdHk6IG51bWJlciA9IDE7XHJcblxyXG4gICAgLyoqIEZpcmVzIGFuIGV2ZW50IHdoZW4gYW55IG9mIGl0J3Mgc3ViIGdpem1vcyBhcmUgZHJhZ2dlZCAqL1xyXG4gICAgcHVibGljIG9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZSA9IG5ldyBCQUJZTE9OLk9ic2VydmFibGUoKTtcclxuICAgIC8qKiBGaXJlcyBhbiBldmVudCB3aGVuIGFueSBvZiBpdCdzIHN1YiBnaXptb3MgYXJlIHJlbGVhc2VkIGZyb20gZHJhZ2dpbmcgKi9cclxuICAgIHB1YmxpYyBvbkRyYWdFbmRPYnNlcnZhYmxlID0gbmV3IEJBQllMT04uT2JzZXJ2YWJsZSgpO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgYXR0YWNoZWRNZXNoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNoQXR0YWNoZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGF0dGFjaGVkTWVzaChtZXNoOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4pIHtcclxuICAgICAgICB0aGlzLl9tZXNoQXR0YWNoZWQgPSBtZXNoO1xyXG4gICAgICAgIHRoaXMuX25vZGVBdHRhY2hlZCA9IG1lc2g7XHJcbiAgICAgICAgW3RoaXMueEdpem1vLCB0aGlzLnlHaXptbywgdGhpcy56R2l6bW8sIHRoaXMudW5pZm9ybVNjYWxlR2l6bW9dLmZvckVhY2goKGdpem1vKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnaXptby5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLmF0dGFjaGVkTWVzaCA9IG1lc2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnaXptby5hdHRhY2hlZE1lc2ggPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhdHRhY2hlZE5vZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vZGVBdHRhY2hlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgYXR0YWNoZWROb2RlKG5vZGU6IE51bGxhYmxlPEJBQllMT04uTm9kZT4pIHtcclxuICAgICAgICB0aGlzLl9tZXNoQXR0YWNoZWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX25vZGVBdHRhY2hlZCA9IG5vZGU7XHJcbiAgICAgICAgW3RoaXMueEdpem1vLCB0aGlzLnlHaXptbywgdGhpcy56R2l6bW8sIHRoaXMudW5pZm9ybVNjYWxlR2l6bW9dLmZvckVhY2goKGdpem1vKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnaXptby5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLmF0dGFjaGVkTm9kZSA9IG5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnaXptby5hdHRhY2hlZE5vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgU2NhbGVHaXptb1xyXG4gICAgICogQHBhcmFtIGdpem1vTGF5ZXIgVGhlIHV0aWxpdHkgbGF5ZXIgdGhlIGdpem1vIHdpbGwgYmUgYWRkZWQgdG9cclxuICAgICAqIEBwYXJhbSB0aGlja25lc3MgZGlzcGxheSBnaXptbyBheGlzIHRoaWNrbmVzc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihnaXptb0xheWVyOiBCQUJZTE9OLlV0aWxpdHlMYXllclJlbmRlcmVyID0gQkFCWUxPTi5VdGlsaXR5TGF5ZXJSZW5kZXJlci5EZWZhdWx0VXRpbGl0eUxheWVyLCB0aGlja25lc3M6IG51bWJlciA9IDEpIHtcclxuICAgICAgICBzdXBlcihnaXptb0xheWVyKTtcclxuICAgICAgICB0aGlzLnhHaXptbyA9IG5ldyBBeGlzU2NhbGVHaXptbyhuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDAsIDApLCBCQUJZTE9OLkNvbG9yMy5SZWQoKS5zY2FsZSgwLjUpLCBnaXptb0xheWVyLCB0aGlzLCB0aGlja25lc3MpO1xyXG4gICAgICAgIHRoaXMueUdpem1vID0gbmV3IEF4aXNTY2FsZUdpem1vKG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgMCksIEJBQllMT04uQ29sb3IzLkdyZWVuKCkuc2NhbGUoMC41KSwgZ2l6bW9MYXllciwgdGhpcywgdGhpY2tuZXNzKTtcclxuICAgICAgICB0aGlzLnpHaXptbyA9IG5ldyBBeGlzU2NhbGVHaXptbyhuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDEpLCBCQUJZTE9OLkNvbG9yMy5CbHVlKCkuc2NhbGUoMC41KSwgZ2l6bW9MYXllciwgdGhpcywgdGhpY2tuZXNzKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHVuaWZvcm0gc2NhbGUgZ2l6bW9cclxuICAgICAgICB0aGlzLnVuaWZvcm1TY2FsZUdpem1vID0gbmV3IEF4aXNTY2FsZUdpem1vKG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgMCksIEJBQllMT04uQ29sb3IzLlllbGxvdygpLnNjYWxlKDAuNSksIGdpem1vTGF5ZXIsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudW5pZm9ybVNjYWxlR2l6bW8udXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnVuaWZvcm1TY2FsZUdpem1vLnVuaWZvcm1TY2FsaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl91bmlmb3JtU2NhbGluZ01lc2ggPSBCQUJZTE9OLlBvbHloZWRyb25CdWlsZGVyLkNyZWF0ZVBvbHloZWRyb24oXCJcIiwgeyB0eXBlOiAxIH0sIHRoaXMudW5pZm9ybVNjYWxlR2l6bW8uZ2l6bW9MYXllci51dGlsaXR5TGF5ZXJTY2VuZSk7XHJcbiAgICAgICAgdGhpcy5fdW5pZm9ybVNjYWxpbmdNZXNoLnNjYWxpbmcuc2NhbGVJblBsYWNlKDAuMDIpO1xyXG4gICAgICAgIHRoaXMuX3VuaWZvcm1TY2FsaW5nTWVzaC52aXNpYmlsaXR5ID0gMDtcclxuICAgICAgICB0aGlzLl9vY3RhaGVkcm9uID0gQkFCWUxPTi5Qb2x5aGVkcm9uQnVpbGRlci5DcmVhdGVQb2x5aGVkcm9uKFwiXCIsIHsgdHlwZTogMSB9LCB0aGlzLnVuaWZvcm1TY2FsZUdpem1vLmdpem1vTGF5ZXIudXRpbGl0eUxheWVyU2NlbmUpO1xyXG4gICAgICAgIHRoaXMuX29jdGFoZWRyb24uc2NhbGluZy5zY2FsZUluUGxhY2UoMC4wMDcpO1xyXG4gICAgICAgIHRoaXMuX3VuaWZvcm1TY2FsaW5nTWVzaC5hZGRDaGlsZCh0aGlzLl9vY3RhaGVkcm9uKTtcclxuICAgICAgICB0aGlzLnVuaWZvcm1TY2FsZUdpem1vLnNldEN1c3RvbU1lc2godGhpcy5fdW5pZm9ybVNjYWxpbmdNZXNoLCB0cnVlKTtcclxuICAgICAgICB2YXIgbGlnaHQgPSBnaXptb0xheWVyLl9nZXRTaGFyZWRHaXptb0xpZ2h0KCk7XHJcbiAgICAgICAgbGlnaHQuaW5jbHVkZWRPbmx5TWVzaGVzID0gbGlnaHQuaW5jbHVkZWRPbmx5TWVzaGVzLmNvbmNhdCh0aGlzLl9vY3RhaGVkcm9uKTtcclxuXHJcbiAgICAgICAgLy8gUmVsYXkgZHJhZyBldmVudHNcclxuICAgICAgICBbdGhpcy54R2l6bW8sIHRoaXMueUdpem1vLCB0aGlzLnpHaXptbywgdGhpcy51bmlmb3JtU2NhbGVHaXptb10uZm9yRWFjaCgoZ2l6bW8pID0+IHtcclxuICAgICAgICAgICAgZ2l6bW8uZHJhZ0JlaGF2aW9yLm9uRHJhZ1N0YXJ0T2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdTdGFydE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGdpem1vLmRyYWdCZWhhdmlvci5vbkRyYWdFbmRPYnNlcnZhYmxlLmFkZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ0VuZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoZWRNZXNoID0gbnVsbDtcclxuICAgICAgICB0aGlzLmF0dGFjaGVkTm9kZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvb3JkU3lzdGVtOiBzdHJpbmcgPSAnbG9jYWwnO1xyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBlZGl0b3Iub24oJ2dpem1vOmNvb3JkU3lzdGVtJywgZnVuY3Rpb24gKHN5c3RlbTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmNvb3JkU3lzdGVtID09PSBzeXN0ZW0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZWxmLmNvb3JkU3lzdGVtID0gc3lzdGVtO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKHNlbGYuY29vcmRTeXN0ZW0gPT09ICd3b3JsZCcpIHtcclxuICAgICAgICAgICAgLy8gICAgIHNlbGYudXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgIHNlbGYudXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCB1cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgQkFCWUxPTi5Mb2dnZXIuV2FybihcIlNldHRpbmcgdXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSBmYWxzZSBvbiBzY2FsaW5nIGdpem1vIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlR2l6bW9Sb3RhdGlvblRvTWF0Y2hBdHRhY2hlZE1lc2ggPSB2YWx1ZTtcclxuICAgICAgICAgICAgW3RoaXMueEdpem1vLCB0aGlzLnlHaXptbywgdGhpcy56R2l6bW8sIHRoaXMudW5pZm9ybVNjYWxlR2l6bW9dLmZvckVhY2goKGdpem1vKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2l6bW8pIHtcclxuICAgICAgICAgICAgICAgICAgICBnaXptby51cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHVwZGF0ZUdpem1vUm90YXRpb25Ub01hdGNoQXR0YWNoZWRNZXNoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVHaXptb1JvdGF0aW9uVG9NYXRjaEF0dGFjaGVkTWVzaDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYWcgZGlzdGFuY2UgaW4gYmFieWxvbiB1bml0cyB0aGF0IHRoZSBnaXptbyB3aWxsIHNuYXAgdG8gd2hlbiBkcmFnZ2VkIChEZWZhdWx0OiAwKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IHNuYXBEaXN0YW5jZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc25hcERpc3RhbmNlID0gdmFsdWU7XHJcbiAgICAgICAgW3RoaXMueEdpem1vLCB0aGlzLnlHaXptbywgdGhpcy56R2l6bW8sIHRoaXMudW5pZm9ybVNjYWxlR2l6bW9dLmZvckVhY2goKGdpem1vKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnaXptbykge1xyXG4gICAgICAgICAgICAgICAgZ2l6bW8uc25hcERpc3RhbmNlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgc25hcERpc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zbmFwRGlzdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSYXRpbyBmb3IgdGhlIHNjYWxlIG9mIHRoZSBnaXptbyAoRGVmYXVsdDogMSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldCBzY2FsZVJhdGlvKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zY2FsZVJhdGlvID0gdmFsdWU7XHJcbiAgICAgICAgW3RoaXMueEdpem1vLCB0aGlzLnlHaXptbywgdGhpcy56R2l6bW8sIHRoaXMudW5pZm9ybVNjYWxlR2l6bW9dLmZvckVhY2goKGdpem1vKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnaXptbykge1xyXG4gICAgICAgICAgICAgICAgZ2l6bW8uc2NhbGVSYXRpbyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHNjYWxlUmF0aW8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlUmF0aW87XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZW5zaXRpdml0eSBmYWN0b3IgZm9yIGRyYWdnaW5nIChEZWZhdWx0OiAxKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IHNlbnNpdGl2aXR5KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zZW5zaXRpdml0eSA9IHZhbHVlO1xyXG4gICAgICAgIFt0aGlzLnhHaXptbywgdGhpcy55R2l6bW8sIHRoaXMuekdpem1vLCB0aGlzLnVuaWZvcm1TY2FsZUdpem1vXS5mb3JFYWNoKChnaXptbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2l6bW8pIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLnNlbnNpdGl2aXR5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgc2Vuc2l0aXZpdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbnNpdGl2aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcG9zZXMgb2YgdGhlIGdpem1vXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xyXG4gICAgICAgIFt0aGlzLnhHaXptbywgdGhpcy55R2l6bW8sIHRoaXMuekdpem1vLCB0aGlzLnVuaWZvcm1TY2FsZUdpem1vXS5mb3JFYWNoKChnaXptbykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2l6bW8pIHtcclxuICAgICAgICAgICAgICAgIGdpem1vLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25EcmFnU3RhcnRPYnNlcnZhYmxlLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5vbkRyYWdFbmRPYnNlcnZhYmxlLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIFt0aGlzLl91bmlmb3JtU2NhbGluZ01lc2gsIHRoaXMuX29jdGFoZWRyb25dLmZvckVhY2goKG1zaCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobXNoKSB7XHJcbiAgICAgICAgICAgICAgICBtc2guZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbmZpZ3tcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHByb2plY3RJRDogc3RyaW5nID0gJ3Byb2plY3RJRCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHByb2plY3ROYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNjZW5lc0RhdGE6IGFueTtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2NlbmVJbmRleDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2NlbmVJRDogc3RyaW5nID0gJ3NjZW5lSUQnO1xyXG4gICAgcHVibGljIHN0YXRpYyBzY2VuZU5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBzdGF0aWMgbGFzdFNjZW5lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHVzZXJJRDogc3RyaW5nO1xyXG4gICAgcHVibGljIHN0YXRpYyB1c2VybmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXNzZXRzRGF0YTogYW55O1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNTY2VuZURpcnR5OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgLy8gVE9ETzog5pqC5pe25Y+q5YWB6K645Yqg6L295LiA5Liq6KGo5qC8XHJcbiAgICBwdWJsaWMgc3RhdGljIHRhYmxlQXNzZXRzSUQ6IHN0cmluZyA9ICcnO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKCkge1xyXG5cclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2NvbmZpZyc7IiwiaW1wb3J0IHsgUGFuZWwsIE1lbnVJdGVtLCBNZW51LCBNZW51SXRlbUFyZ3MsIFRyZWVJdGVtIH0gZnJvbSBcIi4uLy4uL3VpXCI7XHJcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi9lbnRpdHlcIjtcclxuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vbGliXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSGllcmFyY2h5Q29udGV4dE1lbnUge1xyXG5cclxuICBwdWJsaWMgcm9vdDogUGFuZWw7XHJcbiAgcHVibGljIGNsaWNrYWJsZVN1Ym1lbnVzOiBib29sZWFuO1xyXG4gIHB1YmxpYyBtZW51ITogTWVudTtcclxuICBwdWJsaWMgY3VzdG9tTWVudUl0ZW1zOiBNZW51SXRlbUFyZ3NbXSA9IFtdO1xyXG4gIHB1YmxpYyBlbnRpdHkhOiBFbnRpdHk7XHJcbiAgcHVibGljIGl0ZW1zID0gW107XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnJvb3QgPSBlZGl0b3IuY2FsbCgnbGF5b3V0LnJvb3QnKTtcclxuXHJcbiAgICB0aGlzLmNsaWNrYWJsZVN1Ym1lbnVzID0gL2NsaWNrYWJsZUNvbnRleHRTdWJtZW51cz10cnVlLy50ZXN0KGxvY2F0aW9uLnNlYXJjaCk7XHJcblxyXG4gICAgdGhpcy5pbml0TWVudSgpO1xyXG4gICAgdGhpcy5pbml0RnVuY3Rpb24oKTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBpbml0TWVudSgpOiB2b2lkIHtcclxuICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgIHZhciBtZW51RGF0YTogeyBba2V5OiBzdHJpbmddOiBDb250ZXh0TWVudUFyZ3MgfSA9IHt9O1xyXG5cclxuICAgIG1lbnVEYXRhWyduZXctZW50aXR5J10gPSB7XHJcbiAgICAgIHRpdGxlOiAnTmV3IEVudGl0eScsXHJcbiAgICAgIGNsYXNzTmFtZTogJ21lbnUtaXRlbS1uZXctZW50aXR5JyxcclxuICAgICAgLy8gZmlsdGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vICAgcmV0dXJuIHRoYXQuaXRlbXMubGVuZ3RoID09PSAxO1xyXG4gICAgICAvLyB9LFxyXG4gICAgICAvLyBzZWxlY3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy8gICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6bmV3JywgeyBwYXJlbnQ6IHRoYXQuaXRlbXNbMF0gfSk7XHJcbiAgICAgIC8vIH0sXHJcbiAgICAgIC8vIFxyXG4gICAgICAvLyBpdGVtczogZWRpdG9yLmNhbGwoJ21lbnU6ZW50aXRpZXM6bmV3JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhhdC5pdGVtc1swXTsgfSlcclxuICAgIH07XHJcblxyXG4gICAgbWVudURhdGFbJ2FkZC1jb21wb25lbnQnXSA9IHtcclxuICAgICAgdGl0bGU6ICdBZGQgQ29tcG9uZW50JyxcclxuICAgICAgY2xhc3NOYW1lOiAnbWVudS1pdGVtLWFkZC1jb21wb25lbnQnLFxyXG4gICAgICAvLyBpdGVtczogZWRpdG9yLmNhbGwoJ21lbnU6ZW50aXRpZXM6YWRkLWNvbXBvbmVudCcpXHJcbiAgICAgIGl0ZW1zOiB7XHJcbiAgICAgICAgJ2FkZC1uZXctZW50aXR5Jzoge1xyXG4gICAgICAgICAgdGl0bGU6ICdFbnRpdHknLFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiAnbWVudS1pdGVtLWFkZC1lbnRpdHknLFxyXG4gICAgICAgICAgaWNvbjogJyYjNTc2MzI7J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2F1ZGlvLXN1Yi1tZW51Jzoge1xyXG4gICAgICAgICAgdGl0bGU6ICdBdWRpbycsXHJcbiAgICAgICAgICBjbGFzc05hbWU6ICdtZW51LWl0ZW0tYXVkaW8tc3ViLW1lbnUnLFxyXG4gICAgICAgICAgaWNvbjogZWRpdG9yLmNhbGwoJ2NvbXBvbmVudHM6bG9nb3MnKVsnc291bmQnXSxcclxuICAgICAgICAgIGl0ZW1zOiB7XHJcbiAgICAgICAgICAgICdhZGQtbmV3LWVudGl0eTInOiB7XHJcbiAgICAgICAgICAgICAgdGl0bGU6ICfmtYvor5UxJyxcclxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdtZW51LWl0ZW0tYWRkLWVudGl0eTInLFxyXG4gICAgICAgICAgICAgIGljb246ICcmIzU3NjMyOydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2F1ZGlvLXN1Yi1tZW51Mic6IHtcclxuICAgICAgICAgICAgICB0aXRsZTogJ+a1i+ivlTInLFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ21lbnUtaXRlbS1hdWRpby1zdWItbWVudTInLFxyXG4gICAgICAgICAgICAgIGljb246IGVkaXRvci5jYWxsKCdjb21wb25lbnRzOmxvZ29zJylbJ3NvdW5kJ11cclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbWVudURhdGFbJ2VuYWJsZSddID0ge1xyXG4gICAgICB0aXRsZTogJ0VuYWJsZScsXHJcbiAgICAgIGNsYXNzTmFtZTogJ21lbnUtaXRlbS1lbmFibGUnLFxyXG4gICAgICBpY29uOiAnJiM1NzY1MTsnLFxyXG4gICAgICAvLyBoaWRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vICAgaWYgKHRoYXQuaXRlbXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIC8vICAgICByZXR1cm4gdGhhdC5pdGVtc1swXS5nZXQoJ2VuYWJsZWQnKTtcclxuICAgICAgLy8gICB9IGVsc2Uge1xyXG4gICAgICAvLyAgICAgdmFyIGVuYWJsZWQgPSB0aGF0Lml0ZW1zWzBdLmdldCgnZW5hYmxlZCcpO1xyXG4gICAgICAvLyAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGF0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vICAgICAgIGlmIChlbmFibGVkICE9PSB0aGF0Lml0ZW1zW2ldLmdldCgnZW5hYmxlZCcpKVxyXG4gICAgICAvLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgLy8gICAgIH1cclxuICAgICAgLy8gICAgIHJldHVybiBlbmFibGVkO1xyXG4gICAgICAvLyAgIH1cclxuICAgICAgLy8gfSxcclxuICAgICAgLy8gc2VsZWN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vICAgc2V0RmllbGQoJ2VuYWJsZWQnLCB0cnVlKTtcclxuICAgICAgLy8gfVxyXG4gICAgfTtcclxuXHJcbiAgICBtZW51RGF0YVsnZGlzYWJsZSddID0ge1xyXG4gICAgICB0aXRsZTogJ0Rpc2FibGUnLFxyXG4gICAgICBjbGFzc05hbWU6ICdtZW51LWl0ZW0tZGlzYWJsZScsXHJcbiAgICAgIGljb246ICcmIzU3NjUwOycsXHJcbiAgICAgIC8vIGhpZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy8gICBpZiAodGhhdC5pdGVtcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgLy8gICAgIHJldHVybiAhdGhhdC5pdGVtc1swXS5nZXQoJ2VuYWJsZWQnKTtcclxuICAgICAgLy8gICB9IGVsc2Uge1xyXG4gICAgICAvLyAgICAgdmFyIGRpc2FibGVkID0gdGhhdC5pdGVtc1swXS5nZXQoJ2VuYWJsZWQnKTtcclxuICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhhdC5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyAgICAgICBpZiAoZGlzYWJsZWQgIT09IHRoYXQuaXRlbXNbaV0uZ2V0KCdlbmFibGVkJykpXHJcbiAgICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAvLyAgICAgfVxyXG4gICAgICAvLyAgICAgcmV0dXJuICFkaXNhYmxlZDtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vIH0sXHJcbiAgICAgIC8vIHNlbGVjdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyAgIHNldEZpZWxkKCdlbmFibGVkJywgZmFsc2UpO1xyXG4gICAgICAvLyB9XHJcbiAgICB9O1xyXG5cclxuICAgIG1lbnVEYXRhWydjb3B5J10gPSB7XHJcbiAgICAgIHRpdGxlOiAnQ29weScsXHJcbiAgICAgIGNsYXNzTmFtZTogJ21lbnUtaXRlbS1jb3B5JyxcclxuICAgICAgaWNvbjogJyYjNTgxOTM7JyxcclxuICAgICAgLy8gc2VsZWN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vICAgZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmNvcHknLCB0aGF0Lml0ZW1zKTtcclxuICAgICAgLy8gfVxyXG4gICAgfTtcclxuXHJcbiAgICBtZW51RGF0YVsncGFzdGUnXSA9IHtcclxuICAgICAgdGl0bGU6ICdQYXN0ZScsXHJcbiAgICAgIGNsYXNzTmFtZTogJ21lbnUtaXRlbS1wYXN0ZScsXHJcbiAgICAgIGljb246ICcmIzU4MTg0OycsXHJcbiAgICAgIC8vIGZpbHRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyAgIHJldHVybiB0aGF0Lml0ZW1zLmxlbmd0aCA8PSAxICYmICFlZGl0b3IuY2FsbCgnZW50aXRpZXM6Y2xpcGJvYXJkOmVtcHR5Jyk7XHJcbiAgICAgIC8vIH0sXHJcbiAgICAgIC8vIHNlbGVjdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyAgIGVkaXRvci5jYWxsKCdlbnRpdGllczpwYXN0ZScsIHRoYXQuZW50aXR5KTtcclxuICAgICAgLy8gfVxyXG4gICAgfTtcclxuXHJcbiAgICBtZW51RGF0YVsnZHVwbGljYXRlJ10gPSB7XHJcbiAgICAgIHRpdGxlOiAnRHVwbGljYXRlJyxcclxuICAgICAgY2xhc3NOYW1lOiAnbWVudS1pdGVtLWR1cGxpY2F0ZScsXHJcbiAgICAgIGljb246ICcmIzU3NjM4OycsXHJcbiAgICAgIC8vIGZpbHRlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyAgIHZhciBpdGVtcyA9IGdldFNlbGVjdGlvbigpO1xyXG5cclxuICAgICAgLy8gICBpZiAoaXRlbXMuaW5kZXhPZihlZGl0b3IuY2FsbCgnZW50aXRpZXM6cm9vdCcpKSAhPT0gLTEpXHJcbiAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAvLyAgIHJldHVybiBpdGVtcy5sZW5ndGggPiAwO1xyXG4gICAgICAvLyB9LFxyXG4gICAgICAvLyBzZWxlY3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy8gICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6ZHVwbGljYXRlJywgZ2V0U2VsZWN0aW9uKCkpO1xyXG4gICAgICAvLyB9XHJcbiAgICB9O1xyXG5cclxuICAgIG1lbnVEYXRhWydkZWxldGUnXSA9IHtcclxuICAgICAgdGl0bGU6ICdEZWxldGUnLFxyXG4gICAgICBjbGFzc05hbWU6ICdtZW51LWl0ZW0tZGVsZXRlJyxcclxuICAgICAgaWNvbjogJyYjNTc2MzY7JyxcclxuICAgICAgLy8gZmlsdGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vICAgdmFyIHJvb3QgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6cm9vdCcpO1xyXG4gICAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdC5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyAgICAgaWYgKHRoYXQuaXRlbXNbaV0gPT09IHJvb3QpXHJcbiAgICAgIC8vICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIC8vIH0sXHJcbiAgICAgIC8vIHNlbGVjdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyAgIGVkaXRvci5jYWxsKCdlbnRpdGllczpkZWxldGUnLCB0aGF0Lml0ZW1zKTtcclxuICAgICAgLy8gfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBtZW51XHJcbiAgICB0aGlzLm1lbnUgPSBNZW51LmZyb21EYXRhKG1lbnVEYXRhLCB7IGNsaWNrYWJsZVN1Ym1lbnVzOiB0aGlzLmNsaWNrYWJsZVN1Ym1lbnVzIH0pO1xyXG4gICAgdGhpcy5yb290LmFwcGVuZCh0aGlzLm1lbnUpO1xyXG5cclxuICAgIC8vIHRoaXMubWVudS5vbignb3BlbicsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgdmFyIHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbigpO1xyXG5cclxuICAgIC8vICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0LmN1c3RvbU1lbnVJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICAgIGlmICghdGhhdC5jdXN0b21NZW51SXRlbXNbaV0uZmlsdGVyKVxyXG4gICAgLy8gICAgICAgY29udGludWU7XHJcblxyXG4gICAgLy8gICAgIHRoYXQuY3VzdG9tTWVudUl0ZW1zW2ldLmhpZGRlbiA9ICF0aGF0LmN1c3RvbU1lbnVJdGVtc1tpXS5maWx0ZXIoc2VsZWN0aW9uKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSk7XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgZ2V0U2VsZWN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpO1xyXG5cclxuICAgIGlmIChzZWxlY3Rpb24uaW5kZXhPZih0aGlzLmVudGl0eSkgIT09IC0xKSB7XHJcbiAgICAgIHJldHVybiBzZWxlY3Rpb247XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gW3RoaXMuZW50aXR5XTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBwcml2YXRlIGluaXRGdW5jdGlvbigpOiB2b2lkIHtcclxuXHJcbiAgICBsZXQgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgLy8gVE9ET1xyXG4gICAgLy8gZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6Y29udGV4dG1lbnU6YWRkJywgZnVuY3Rpb24gKGRhdGE6IE1lbnVJdGVtQXJncykge1xyXG4gICAgLy8gICB2YXIgaXRlbSA9IG5ldyBNZW51SXRlbSh7XHJcbiAgICAvLyAgICAgdGV4dDogZGF0YS50ZXh0LFxyXG4gICAgLy8gICAgIGljb246IGRhdGEuaWNvbixcclxuICAgIC8vICAgICB2YWx1ZTogZGF0YS52YWx1ZSxcclxuICAgIC8vICAgICBoYXNDaGlsZHJlbjogISEoZGF0YS5pdGVtcyAmJiBPYmplY3Qua2V5cyhkYXRhLml0ZW1zKS5sZW5ndGggPiAwKSxcclxuICAgIC8vICAgICBjbGlja2FibGVTdWJtZW51czogdGhhdC5jbGlja2FibGVTdWJtZW51c1xyXG4gICAgLy8gICB9KTtcclxuXHJcbiAgICAvLyAgIGl0ZW0ub24oJ3NlbGVjdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICBkYXRhLnNlbGVjdC5jYWxsKGl0ZW0sIGdldFNlbGVjdGlvbigpKTtcclxuICAgIC8vICAgfSk7XHJcblxyXG4gICAgLy8gICB2YXIgcGFyZW50ID0gZGF0YS5wYXJlbnQgfHwgdGhhdC5tZW51O1xyXG4gICAgLy8gICBwYXJlbnQuYXBwZW5kKGl0ZW0pO1xyXG5cclxuICAgIC8vICAgaWYgKGRhdGEuZmlsdGVyKVxyXG4gICAgLy8gICAgIGl0ZW0uZmlsdGVyID0gZGF0YS5maWx0ZXI7XHJcblxyXG4gICAgLy8gICB0aGF0LmN1c3RvbU1lbnVJdGVtcy5wdXNoKGl0ZW0pO1xyXG5cclxuICAgIC8vICAgcmV0dXJuIGl0ZW07XHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICBlZGl0b3IubWV0aG9kKCdlbnRpdGllczpjb250ZXh0bWVudTpvcGVuJywgZnVuY3Rpb24gKGl0ZW06IFRyZWVJdGVtLCB4OiBudW1iZXIsIHk6IG51bWJlciwgaWdub3JlU2VsZWN0aW9uOiBib29sZWFuKSB7XHJcbiAgICAgIC8vIFRPRE9cclxuICAgICAgLy8gaWYgKCF0aGF0Lm1lbnUgfHwgIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpKSByZXR1cm47XHJcbiAgICAgIGlmICghdGhhdC5tZW51KSByZXR1cm47XHJcbiAgICAgIC8vIHRoYXQuZW50aXR5ID0gaXRlbTtcclxuXHJcbiAgICAgIC8vIGlmIChpZ25vcmVTZWxlY3Rpb24pIHtcclxuICAgICAgLy8gICBpdGVtcyA9IFtdO1xyXG4gICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAvLyAgIGl0ZW1zID0gZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgIC8vIH1cclxuXHJcbiAgICAgIHRoYXQubWVudS5vcGVuID0gdHJ1ZTtcclxuICAgICAgdGhhdC5tZW51LnBvc2l0aW9uKHggKyAxLCB5KTtcclxuXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZ2V0IHRoZSBlbnRpdHkgdGhhdCB3YXMgcmlnaHQtY2xpY2tlZCB3aGVuIG9wZW5pbmcgdGhlIGNvbnRleHQgbWVudVxyXG4gICAgZWRpdG9yLm1ldGhvZCgnZW50aXRpZXM6Y29udGV4dG1lbnU6ZW50aXR5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gdGhhdC5lbnRpdHk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBmb3IgZWFjaCBlbnRpdHkgYWRkZWRcclxuICAgIGVkaXRvci5vbignZW50aXRpZXM6YWRkJywgZnVuY3Rpb24gKGl0ZW06IE9ic2VydmVyKSB7XHJcbiAgICAgIC8vIGdldCB0cmVlIGl0ZW1cclxuICAgICAgdmFyIHRyZWVJdGVtID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnBhbmVsOmdldCcsIGl0ZW0uZ2V0KCdyZXNvdXJjZV9pZCcpKTtcclxuICAgICAgICBpZiAoISB0cmVlSXRlbSkgcmV0dXJuO1xyXG5cclxuICAgICAgLy8gYXR0YWNoIGNvbnRleHRtZW51IGV2ZW50XHJcbiAgICAgIHRyZWVJdGVtLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY29udGV4dCBjbGljazogXCIgKyBpdGVtLmVsZW1lbnQhLmlubmVyVGV4dCk7XHJcbiAgICAgICAgbGV0IG9wZW5uZWQgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6Y29udGV4dG1lbnU6b3BlbicsIGl0ZW0sIGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XHJcblxyXG4gICAgICAgIGlmIChvcGVubmVkKSB7XHJcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbnRleHRNZW51QXJncyB7XHJcbiAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIGljb24/OiBzdHJpbmc7XHJcbiAgZmlsdGVyPzogKCkgPT4gYm9vbGVhbjtcclxuICBoaWRlPzogKCkgPT4gYm9vbGVhbjtcclxuICBzZWxlY3Q/OiAoKSA9PiB2b2lkO1xyXG4gIGl0ZW1zPzogYW55O1xyXG59IiwiaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gXCIuLi8uLi9lbmdpbmVcIjtcclxuaW1wb3J0IHsgUGFuZWwsIEJ1dHRvbiwgVG9vbHRpcCwgVG9wRWxlbWVudENvbnRhaW5lciwgVG9wRWxlbWVudFBhbmVsIH0gZnJvbSBcIi4uLy4uL3VpXCI7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2xpYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhpZXJhcmNoeUNvbnRyb2wge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgbGV0IHJvb3Q6IFRvcEVsZW1lbnRDb250YWluZXIgPSBWZXJ5RW5naW5lLnJvb3Q7XHJcbiAgICAgICAgbGV0IHBhbmVsOiBUb3BFbGVtZW50UGFuZWwgPSBWZXJ5RW5naW5lLmhpZXJhcmNoeTtcclxuXHJcbiAgICAgICAgLy8g5bGC57qn6I+c5Y2V5o6n5Yi26I+c5Y2VXHJcbiAgICAgICAgbGV0IGNvbnRyb2xzID0gbmV3IFRvcEVsZW1lbnRDb250YWluZXIoe1xyXG4gICAgICAgICAgICBmbGV4OiB0cnVlLFxyXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcclxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIC8vIGhpZGRlbjogIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udHJvbHMuY2xhc3MhLmFkZCgnaGllcmFyY2h5LWNvbnRyb2xzJyk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IOWIhuS6q+mhueebrue7meS7luS6uuaXtu+8jOaYr+WQpuWFgeiuuOS/ruaUuVxyXG4gICAgICAgIC8vIGNvbnRyb2xzLmhpZGRlbiA9ICFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKTtcclxuICAgICAgICAvLyBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOndyaXRlU3RhdGUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAvLyAgICAgY29udHJvbHMuaGlkZGVuID0gIXN0YXRlO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBwYW5lbC5oZWFkZXIuYXBwZW5kKGNvbnRyb2xzKTtcclxuXHJcbiAgICAgICAgLy8gY29udHJvbHMgYWRkXHJcbiAgICAgICAgbGV0IGJ0bkFkZDogQnV0dG9uID0gbmV3IEJ1dHRvbignJiM1NzYzMjsnKTtcclxuICAgICAgICBidG5BZGQuY2xhc3MhLmFkZCgnYWRkJyk7XHJcbiAgICAgICAgYnRuQWRkLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gbWVudUVudGl0aWVzLm9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBsZXQgcmVjdCA9IGJ0bkFkZC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAvLyBtZW51RW50aXRpZXMucG9zaXRpb24ocmVjdC5sZWZ0LCByZWN0LnRvcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udHJvbHMuYXBwZW5kKGJ0bkFkZCk7XHJcblxyXG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBidG5BZGQuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIHRleHQ6ICfmt7vliqAnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ3RvcCcsXHJcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdhdHRyaWJ1dGVzOmNsZWFyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBidG5EdXBsaWNhdGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBidG5EZWxldGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0b29sdGlwRGVsZXRlLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgICAgICB0b29sdGlwRHVwbGljYXRlLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29udHJvbHMgZHVwbGljYXRlXHJcbiAgICAgICAgbGV0IGJ0bkR1cGxpY2F0ZTogQnV0dG9uID0gbmV3IEJ1dHRvbignJiM1NzYzODsnKTtcclxuICAgICAgICBidG5EdXBsaWNhdGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGJ0bkR1cGxpY2F0ZS5jbGFzcyEuYWRkKCdkdXBsaWNhdGUnKTtcclxuICAgICAgICBidG5EdXBsaWNhdGUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgdHlwZSA9IGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJyk7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdlbnRpdHknICYmIGl0ZW1zLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdlbnRpdGllczpkdXBsaWNhdGUnLCBpdGVtcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udHJvbHMuYXBwZW5kKGJ0bkR1cGxpY2F0ZSk7XHJcblxyXG4gICAgICAgIGxldCB0b29sdGlwRHVwbGljYXRlID0gVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICAgICAgICB0YXJnZXQ6IGJ0bkR1cGxpY2F0ZS5lbGVtZW50ISxcclxuICAgICAgICAgICAgdGV4dDogJ+WkjeWIticsXHJcbiAgICAgICAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgICAgICAgcm9vdDogcm9vdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRvb2x0aXBEdXBsaWNhdGUuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8vIGNvbnRyb2xzIGRlbGV0ZSAoQnV0dG9uKVxyXG4gICAgICAgIGxldCBidG5EZWxldGU6IEJ1dHRvbiA9IG5ldyBCdXR0b24oJyYjNTc2MzY7Jyk7XHJcbiAgICAgICAgYnRuRGVsZXRlLmNsYXNzIS5hZGQoJ2RlbGV0ZScpO1xyXG4gICAgICAgIGJ0bkRlbGV0ZS5zdHlsZSEuZm9udFdlaWdodCA9ICcyMDAnO1xyXG4gICAgICAgIGJ0bkRlbGV0ZS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB0eXBlID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnR5cGUnKTtcclxuICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdlbnRpdHknKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6ZGVsZXRlJywgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZChidG5EZWxldGUpO1xyXG5cclxuICAgICAgICBsZXQgdG9vbHRpcERlbGV0ZSA9IFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBidG5EZWxldGUuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIHRleHQ6ICfliKDpmaQnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ3RvcCcsXHJcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICB9KTtcclxuICAgICAgICB0b29sdGlwRGVsZXRlLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBNZW51XHJcbiAgICAgICAgLy8gbGV0IG1lbnVFbnRpdGllcyA9IHVpLk1lbnUuZnJvbURhdGEoZWRpdG9yLmNhbGwoJ21lbnU6ZW50aXRpZXM6bmV3JykpO1xyXG4gICAgICAgIC8vIHJvb3QuYXBwZW5kKG1lbnVFbnRpdGllcyk7XHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLyBUT0RPOiDpgInmi6nliLDkuoZoaWVyYXJjaHnnmoRzY2VuZeS4gOihjFxyXG4gICAgICAgIGVkaXRvci5vbignYXR0cmlidXRlczppbnNwZWN0WypdJywgZnVuY3Rpb24gKHR5cGU6IHN0cmluZywgaXRlbXM6IE9ic2VydmVyW10pIHtcclxuICAgICAgICAgICAgdmFyIHJvb3QgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6cm9vdCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdlbnRpdHknICYmIGl0ZW1zWzBdICE9PSByb290KSB7XHJcbiAgICAgICAgICAgICAgICBidG5EZWxldGUuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBidG5EdXBsaWNhdGUuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRGVsZXRlLmNsYXNzIS5yZW1vdmUoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcER1cGxpY2F0ZS5jbGFzcyEucmVtb3ZlKCdpbm5hY3RpdmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ0bkRlbGV0ZS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBidG5EdXBsaWNhdGUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcERlbGV0ZS5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBEdXBsaWNhdGUuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgSGllcmFyY2h5TWVudSB7XHJcblxyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIGxldCBjb21wb25lbnRzTG9nb3MgPSBlZGl0b3IuY2FsbCgnY29tcG9uZW50czpsb2dvcycpO1xyXG5cclxuICAgIFxyXG5cclxuICB9XHJcblxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgUGFuZWwsIEJ1dHRvbiwgVG9vbHRpcCwgVHJlZSwgVHJlZUl0ZW0sIFRvcEVsZW1lbnRQYW5lbCwgUmVwYXJlbnREcmFnSXRlbXMgfSBmcm9tICcuLi8uLi91aSc7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHlTZWFyY2ggfSBmcm9tICcuL2hpZXJhcmNoeS1zZWFyY2gnO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHlNZW51IH0gZnJvbSAnLi9oaWVyYXJjaHktbWVudSc7XHJcbmltcG9ydCB7IEhpZXJhcmNoeUNvbnRleHRNZW51IH0gZnJvbSAnLi9oaWVyYXJjaHktY29udGV4dC1tZW51JztcclxuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuLi8uLi9saWInO1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5pbXBvcnQgeyBCYWJ5bG9uTG9hZGVyIH0gZnJvbSAnLi4vbWlkZGxld2FyZS9sb2FkZXIvYmFieWxvbkxvYWRlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgSGllcmFyY2h5UGFuZWwge1xyXG5cclxuICAgIC8vIGhpZXJhcmNoeSBpbmRleFxyXG4gICAgcHJpdmF0ZSB1aUl0ZW1JbmRleDogeyBba2V5OiBzdHJpbmddOiBUcmVlSXRlbSB9ID0ge307XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAvLyBsZWZ0IGNvbnRyb2xcclxuICAgICAgICAvLyBoaWVyYXJjaHkgaW5kZXhcclxuICAgICAgICAvLyBsZXQgdWlJdGVtSW5kZXg6IGFueSA9IHt9O1xyXG4gICAgICAgIGxldCBhd2FpdGluZ1BhcmVudDogYW55ID0ge307XHJcbiAgICAgICAgbGV0IHBhbmVsOiBUb3BFbGVtZW50UGFuZWwgPSBWZXJ5RW5naW5lLmhpZXJhcmNoeTtcclxuXHJcbiAgICAgICAgbGV0IGhpZXJhcmNoeTogVHJlZSA9IG5ldyBUcmVlKCk7XHJcbiAgICAgICAgVmVyeUVuZ2luZS5oaWVyYXJjaHlUcmVlID0gaGllcmFyY2h5O1xyXG5cclxuICAgICAgICBsZXQgcm9vdFBhcmVudDogVHJlZUl0ZW07XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGhpZXJhcmNoeeadg+mZkOeuoeeQhu+8jOacieS6m+S6uuWPr+eci+S4jeWPr+e8lui+ke+8m1xyXG4gICAgICAgIC8vIGhpZXJhcmNoeS5hbGxvd1JlbmFtaW5nID0gZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJyk7XHJcbiAgICAgICAgaGllcmFyY2h5LmRyYWdnYWJsZSA9IGhpZXJhcmNoeS5hbGxvd1JlbmFtaW5nO1xyXG4gICAgICAgIGhpZXJhcmNoeS5jbGFzcyEuYWRkKCdoaWVyYXJjaHknKTtcclxuICAgICAgICBwYW5lbC5hcHBlbmQoaGllcmFyY2h5KTtcclxuXHJcbiAgICAgICAgbGV0IHJlc2l6ZVF1ZXVlZCA9IGZhbHNlO1xyXG4gICAgICAgIGxldCByZXNpemVUcmVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXNpemVRdWV1ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaGllcmFyY2h5LmVsZW1lbnQhLnN0eWxlLndpZHRoID0gJyc7XHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5lbGVtZW50IS5zdHlsZS53aWR0aCA9IChwYW5lbC5jb250ZW50LmRvbSEuc2Nyb2xsV2lkdGggLSA1KSArICdweCc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgcmVzaXplUXVldWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNpemVRdWV1ZWQpIHJldHVybjtcclxuICAgICAgICAgICAgcmVzaXplUXVldWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlc2l6ZVRyZWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGFuZWwub24oJ3Jlc2l6ZScsIHJlc2l6ZVF1ZXVlKTtcclxuICAgICAgICBoaWVyYXJjaHkub24oJ29wZW4nLCByZXNpemVRdWV1ZSk7XHJcbiAgICAgICAgaGllcmFyY2h5Lm9uKCdjbG9zZScsIHJlc2l6ZVF1ZXVlKTtcclxuICAgICAgICBzZXRJbnRlcnZhbChyZXNpemVRdWV1ZSwgMTAwMCk7XHJcblxyXG4gICAgICAgIC8vIHJldHVybiBoaWVyYXJjaHlcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdlbnRpdGllczpoaWVyYXJjaHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoaWVyYXJjaHk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGxpc3QgaXRlbSBzZWxlY3RlZFxyXG4gICAgICAgIGhpZXJhcmNoeS5vbignc2VsZWN0JywgZnVuY3Rpb24gKGl0ZW06IFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgIC8vIG9wZW4gaXRlbXMgdGlsbCBwYXJlbnRcclxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IGl0ZW0ucGFyZW50O1xyXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQub3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGZvY3VzXHJcbiAgICAgICAgICAgIGl0ZW0uZWxlbWVudFRpdGxlLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIC8vIGFkZCBzZWxlY3Rpb25cclxuICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGllcmFyY2h5IOmdouadv+mAieS4rWVudGl0eScpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmVudGl0eSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiDlvZPliY1lbnRpdHnkuLp1bmRlZmluZWRcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmFkZCcsICdlbnRpdHknLCBpdGVtLmVudGl0eSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGxpc3QgaXRlbSBkZXNlbGVjdGVkXHJcbiAgICAgICAgaGllcmFyY2h5Lm9uKCdkZXNlbGVjdCcsIGZ1bmN0aW9uIChpdGVtOiBUcmVlSXRlbSkge1xyXG4gICAgICAgICAgICAvLyBUT0RPOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2VsZWN0b3I6cmVtb3ZlIGVudGl0eScpO1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6cmVtb3ZlJywgaXRlbS5lbnRpdHkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzY3JvbGxpbmcgb24gZHJhZ1xyXG4gICAgICAgIGxldCBkcmFnU2Nyb2xsID0gMDtcclxuICAgICAgICBsZXQgZHJhZ1RpbWVyOiBOb2RlSlMuVGltZXIgfCBudWxsID0gbnVsbDs7XHJcbiAgICAgICAgbGV0IGRyYWdMYXN0RXZ0O1xyXG4gICAgICAgIGxldCBkcmFnRXZ0ID0gZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIWhpZXJhcmNoeS5fZHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoTnVtYmVyKGRyYWdUaW1lcikpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGRyYWdFdnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCByZWN0ID0gcGFuZWwuY29udGVudC5kb20hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKChldnQuY2xpZW50WSAtIHJlY3QudG9wKSA8IDMyICYmIHBhbmVsLmNvbnRlbnQuZG9tIS5zY3JvbGxUb3AgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnU2Nyb2xsID0gLTE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKHJlY3QuYm90dG9tIC0gZXZ0LmNsaWVudFkpIDwgMzIgJiYgKHBhbmVsLmNvbnRlbnQuZG9tIS5zY3JvbGxIZWlnaHQgLSAocmVjdC5oZWlnaHQgKyBwYW5lbC5jb250ZW50LmRvbSEuc2Nyb2xsVG9wKSkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnU2Nyb2xsID0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRyYWdTY3JvbGwgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaGllcmFyY2h5Lm9uKCdkcmFnc3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRyYWdUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkcmFnU2Nyb2xsID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBwYW5lbC5jb250ZW50LmRvbSEuc2Nyb2xsVG9wICs9IGRyYWdTY3JvbGwgKiA4O1xyXG4gICAgICAgICAgICAgICAgaGllcmFyY2h5Ll9kcmFnT3ZlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBoaWVyYXJjaHkuX3VwZGF0ZURyYWdIYW5kbGUoKTtcclxuICAgICAgICAgICAgfSwgMTAwMCAvIDYwKTtcclxuXHJcbiAgICAgICAgICAgIGRyYWdTY3JvbGwgPSAwO1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZHJhZ0V2dCwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2dldCBkcmFnIFRyZWVJdGVtIGVudGl0eSByZXNvdXJjZUlkJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVzb3VyY2VJZCA9IGhpZXJhcmNoeS5fZHJhZ0l0ZW1zWzBdLmVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdkcm9wOnNldCcsICdlbnRpdHknLCB7IHJlc291cmNlX2lkOiByZXNvdXJjZUlkIH0pO1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnZHJvcDphY3RpdmF0ZScsIHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoaWVyYXJjaHkub24oJ2RyYWdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoaWVyYXJjaHkgcGFuZWwgZHJhZyBlbmQnKTtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2Ryb3A6YWN0aXZhdGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdkcm9wOnNldCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgbGV0IHRhcmdldCA9IGVkaXRvci5jYWxsKCdkcm9wOnRhcmdldCcsIHtcclxuICAgICAgICAgICAgcmVmOiBwYW5lbC5jb250ZW50LmRvbSxcclxuICAgICAgICAgICAgdHlwZTogJ2VudGl0eScsXHJcbiAgICAgICAgICAgIGhvbGU6IHRydWUsXHJcbiAgICAgICAgICAgIHBhc3NUaHJvdWdoOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGFyZ2V0LmVsZW1lbnQuc3R5bGUub3V0bGluZSA9ICdub25lJztcclxuXHJcbiAgICAgICAgLy8gbGV0IGNsYXNzTGlzdCA9IFsndHJlZS1pdGVtLWVudGl0eScsICdlbnRpdHktaWQtJyArICdpZHMtdG8tYmUtZG9uZScsICdjLW1vZGVsJ107XHJcbiAgICAgICAgLy8gaWYgKGlzUm9vdCkge1xyXG4gICAgICAgIC8vICAgY2xhc3NMaXN0LnB1c2goJ3RyZWUtaXRlbS1yb290Jyk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyBsZXQgcm9vdEVsZW1lbnQgPSBuZXcgVHJlZUl0ZW0oe1xyXG4gICAgICAgIC8vICAgICB0ZXh0OiAnU2NlbmUnLFxyXG4gICAgICAgIC8vICAgICBjbGFzc0xpc3Q6IGNsYXNzTGlzdFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIHJvb3RFbGVtZW50LmNsYXNzIS5yZW1vdmUoJ2MtbW9kZWwnKTtcclxuICAgICAgICAvLyBoaWVyYXJjaHkuZWxlbWVudCEuYXBwZW5kQ2hpbGQocm9vdEVsZW1lbnQuZWxlbWVudCEpO1xyXG4gICAgICAgIC8vIGhpZXJhcmNoeS5lbWl0KCdhcHBlbmQnLCByb290RWxlbWVudCk7XHJcblxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgICAgICBsZXQgZWxlbWVudDEgPSBuZXcgVHJlZUl0ZW0oe1xyXG4gICAgICAgICAgICB0ZXh0OiAn54mp5L2T5ZCNJyArIChpICsgMSksXHJcbiAgICAgICAgICAgIGNsYXNzTGlzdDogY2xhc3NMaXN0XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGVkaXRvci5lbWl0KCdlbnRpdGllczphZGQnLCBlbGVtZW50MSk7XHJcbiAgICAgICAgICBoaWVyYXJjaHkuZW1pdCgnYXBwZW5kJywgZWxlbWVudDEpO1xyXG4gICAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kKGVsZW1lbnQxKTtcclxuICAgIFxyXG4gICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCA1OyBrKyspIHtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnQyID0gbmV3IFRyZWVJdGVtKHtcclxuICAgICAgICAgICAgICB0ZXh0OiAn5a2Q54mp5L2T5ZCNJyArIChrICsgMSksXHJcbiAgICAgICAgICAgICAgY2xhc3NMaXN0OiBjbGFzc0xpc3RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdlbnRpdGllczphZGQnLCBlbGVtZW50Mik7XHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5lbWl0KCdhcHBlbmQnLCBlbGVtZW50Mik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQxLmFwcGVuZChlbGVtZW50Mik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgNTsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgbGV0IGVsZW1lbnQzID0gbmV3IFRyZWVJdGVtKHtcclxuICAgICAgICAgICAgICAgIHRleHQ6ICfkuoznuqflrZDniankvZMnICsgKHggKyAxKSxcclxuICAgICAgICAgICAgICAgIGNsYXNzTGlzdDogY2xhc3NMaXN0XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgZWRpdG9yLmVtaXQoJ2VudGl0aWVzOmFkZCcsIGVsZW1lbnQzKTtcclxuICAgICAgICAgICAgICBoaWVyYXJjaHkuZW1pdCgnYXBwZW5kJywgZWxlbWVudDMpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgZWxlbWVudDIuYXBwZW5kKGVsZW1lbnQzKTtcclxuICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIC8vIHJlcGFyZW50aW5nXHJcbiAgICAgICAgaGllcmFyY2h5Lm9uKCdyZXBhcmVudCcsIGZ1bmN0aW9uIChpdGVtczogUmVwYXJlbnREcmFnSXRlbXNbXSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjb3JkczogYW55ID0gW107XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJlc2VydmVUcmFuc2Zvcm0gPSAhVHJlZS5fY3RybCB8fCAhVHJlZS5fY3RybCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gbWFrZSByZWNvcmRzIGFuZCBjb2xsZWN0IHJlbGV2YW50IGRhdGFcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2ldLml0ZW0uZW50aXR5LnJlcGFyZW50aW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZWNvcmQ6IGFueSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtc1tpXS5pdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogKDxUcmVlSXRlbT5pdGVtc1tpXS5pdGVtLnBhcmVudCEpLmVudGl0eSxcclxuICAgICAgICAgICAgICAgICAgICBlbnRpdHk6IGl0ZW1zW2ldLml0ZW0uZW50aXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE9sZDogKDxUcmVlSXRlbT5pdGVtc1tpXS5vbGQhKS5lbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VJZDogaXRlbXNbaV0uaXRlbS5lbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudElkOiAoPFRyZWVJdGVtPml0ZW1zW2ldLml0ZW0ucGFyZW50KS5lbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudElkT2xkOiAoPFRyZWVJdGVtPml0ZW1zW2ldLm9sZCEpLmVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJylcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXNlcnZlVHJhbnNmb3JtICYmIHJlY29yZC5lbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWNvcmQucG9zaXRpb24gPSByZWNvcmQuZW50aXR5Lm5vZGUucG9zaXRpb24uY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZWNvcmQucm90YXRpb24gPSByZWNvcmQuZW50aXR5Lm5vZGUucm90YXRpb24uY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZWxhdGl2ZSBlbnRpdHlcclxuICAgICAgICAgICAgICAgIHJlY29yZC5pbmRPbGQgPSByZWNvcmQucGFyZW50T2xkLmdldCgnY2hpbGRyZW4nKS5pbmRleE9mKHJlY29yZC5yZXNvdXJjZUlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKHJlY29yZC5wYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihyZWNvcmQuZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IocmVjb3JkLnBhcmVudE9sZCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4ocmVjb3JkLml0ZW0pO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKHJlY29yZC5pdGVtLnBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4ocmVjb3JkLml0ZW0ucGFyZW50LmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKHJlY29yZC5pdGVtLnBhcmVudC5lbGVtZW50LmNoaWxkTm9kZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlY29yZC5pbmROZXcgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHJlY29yZC5pdGVtLnBhcmVudC5lbGVtZW50LmNoaWxkTm9kZXMsIHJlY29yZC5pdGVtLmVsZW1lbnQpIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4ocmVjb3JkLmluZE5ldyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKHJlY29yZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHJlY29yZHNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVjb3JkLmVudGl0eS5yZXBhcmVudGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkLnBhcmVudC5oaXN0b3J5LmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIHJlY29yZC5wYXJlbnRPbGQuaGlzdG9yeS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyByZWNvcmQuZW50aXR5Lmhpc3RvcnkuZW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQucGFyZW50ID09PSByZWNvcmQucGFyZW50T2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5wYXJlbnQucmVtb3ZlVmFsdWUoJ2NoaWxkcmVuJywgcmVjb3JkLnJlc291cmNlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5wYXJlbnQuaW5zZXJ0KCdjaGlsZHJlbicsIHJlY29yZC5yZXNvdXJjZUlkLCByZWNvcmQuaW5kTmV3ICsgKChyZWNvcmQuaW5kTmV3ID4gcmVjb3JkLmluZE9sZCkgPyAocmVjb3Jkcy5sZW5ndGggLSAxIC0gaSkgOiAwKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcGFyZW50aW5nXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIG9sZCBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICByZWNvcmQucGFyZW50T2xkLnJlbW92ZVZhbHVlKCdjaGlsZHJlbicsIHJlY29yZC5yZXNvdXJjZUlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIG5ldyBwYXJlbnQgY2hpbGRyZW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmluZE5ldyAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmVmb3JlIG90aGVyIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnBhcmVudC5pbnNlcnQoJ2NoaWxkcmVuJywgcmVjb3JkLnJlc291cmNlSWQsIHJlY29yZC5pbmROZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0IHRoZSBlbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnBhcmVudC5pbnNlcnQoJ2NoaWxkcmVuJywgcmVjb3JkLnJlc291cmNlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5lbnRpdHkuc2V0KCdwYXJlbnQnLCByZWNvcmQucGFyZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIudXBkYXRlU2NlbmVEYXRhKHJlY29yZC5wYXJlbnRPbGQuZ2V0KCdyZXNvdXJjZV9pZCcpLCByZWNvcmQucGFyZW50T2xkLl9kYXRhMik7IFxyXG4gICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci51cGRhdGVTY2VuZURhdGEocmVjb3JkLnBhcmVudC5nZXQoJ3Jlc291cmNlX2lkJyksIHJlY29yZC5wYXJlbnQuX2RhdGEyKTtcclxuICAgICAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIudXBkYXRlU2NlbmVEYXRhKHJlY29yZC5lbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpLCByZWNvcmQuZW50aXR5Ll9kYXRhMik7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnbWFrZTpzY2VuZTpkaXJ0eScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcmVzZXJ2ZVRyYW5zZm9ybSAmJiByZWNvcmQucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmQuZW50aXR5Lm5vZGUucG9zaXRpb24gPSByZWNvcmQucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjb3JkLmVudGl0eS5ub2RlLnJvdGF0aW9uID0gcmVjb3JkLnJvdGF0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgbG9jYWxQb3NpdGlvbiA9IHJlY29yZC5lbnRpdHkubm9kZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgbG9jYWxSb3RhdGlvbiA9IHJlY29yZC5lbnRpdHkubm9kZS5yb3RhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmQuZW50aXR5LnNldCgncG9zaXRpb24nLCBbbG9jYWxQb3NpdGlvbi54LCBsb2NhbFBvc2l0aW9uLnksIGxvY2FsUG9zaXRpb24uel0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY29yZC5lbnRpdHkuc2V0KCdyb3RhdGlvbicsIFtsb2NhbFJvdGF0aW9uLngsIGxvY2FsUm90YXRpb24ueSwgbG9jYWxSb3RhdGlvbi56XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkLnBhcmVudC5oaXN0b3J5LmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkLnBhcmVudE9sZC5oaXN0b3J5LmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkLmVudGl0eS5oaXN0b3J5LmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkLmVudGl0eS5yZXBhcmVudGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiBoaXN0b3J5XHJcblxyXG4gICAgICAgICAgICByZXNpemVRdWV1ZSgpO1xyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgndmlld3BvcnQ6cmVuZGVyJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHNlbGVjdG9yIGFkZFxyXG4gICAgICAgIGVkaXRvci5vbignc2VsZWN0b3I6YWRkJywgZnVuY3Rpb24gKGVudGl0eTogT2JzZXJ2ZXIsIHR5cGU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodHlwZSAhPT0gJ2VudGl0eScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZWxmLnVpSXRlbUluZGV4W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2VsZWN0b3IgcmVtb3ZlXHJcbiAgICAgICAgZWRpdG9yLm9uKCdzZWxlY3RvcjpyZW1vdmUnLCBmdW5jdGlvbiAoZW50aXR5OiBPYnNlcnZlciwgdHlwZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZSAhPT0gJ2VudGl0eScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZWxmLnVpSXRlbUluZGV4W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHNlbGVjdG9yIGNoYW5nZVxyXG4gICAgICAgIGVkaXRvci5vbignc2VsZWN0b3I6Y2hhbmdlJywgZnVuY3Rpb24gKHR5cGU6IHN0cmluZywgaXRlbXM6IE9ic2VydmVyW10pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdlbnRpdHknKSB7XHJcbiAgICAgICAgICAgICAgICBoaWVyYXJjaHkuY2xlYXIoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGhpZXJhcmNoeS5zZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgIHZhciBpZHM6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIGluZGV4IG9mIHNlbGVjdGVkIGl0ZW1zXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRzW2l0ZW1zW2ldLmdldCgncmVzb3VyY2VfaWQnKV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkZXNlbGVjdCB1bnNlbGVjdGVkIGl0ZW1zXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZHNbc2VsZWN0ZWRbaV0uZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIGVudGl0eSByZW1vdmVkXHJcbiAgICAgICAgZWRpdG9yLm9uKCdlbnRpdGllczpyZW1vdmUnLCBmdW5jdGlvbiAoZW50aXR5OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICBzZWxmLnVpSXRlbUluZGV4W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcmVzaXplUXVldWUoKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIGVsZW1lbnQuYXBwZW5kKCk7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudExpc3Q6IGFueTtcclxuICAgICAgICAvLyBlbnRpdHkgYWRkZWRcclxuICAgICAgICBlZGl0b3Iub24oJ2VudGl0aWVzOmFkZCcsIGZ1bmN0aW9uIChlbnRpdHk6IE9ic2VydmVyLCBpc1Jvb3Q6IGJvb2xlYW4pIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhZGQgaGllcmFyY2h5IGVudGl0eTogJyArIGVudGl0eS5nZXQoJ25hbWUnKSk7XHJcbiAgICAgICAgICAgIGlmIChlbnRpdHkuZ2V0KCd0eXBlJykgPT09ICd0cmFuc2Zvcm1ub2RlJyB8fCBlbnRpdHkuZ2V0KCd0eXBlJykgPT09ICdtZXNoJykge1xyXG4gICAgICAgICAgICAgICAgZW50aXR5Lm5vZGUgPSBWZXJ5RW5naW5lLnZpZXdTY2VuZS5nZXROb2RlQnlJRChlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY2xhc3NMaXN0ID0gWyd0cmVlLWl0ZW0tZW50aXR5JywgJ2VudGl0eS1pZC0nICsgZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKV07XHJcbiAgICAgICAgICAgIGlmIChpc1Jvb3QpIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5wdXNoKCd0cmVlLWl0ZW0tcm9vdCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IG5ldyBUcmVlSXRlbSh7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBlbnRpdHkuZ2V0KCduYW1lJyksXHJcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3Q6IGNsYXNzTGlzdFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNSb290KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LmdldCgndHlwZScpID09PSAnY2FtZXJhJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3M/LmFkZCgnYy1jYW1lcmEnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW50aXR5LmdldCgndHlwZScpID09PSAnbGlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzcz8uYWRkKCdjLWxpZ2h0Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3M/LmFkZCgnYy1tb2RlbCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZWxlbWVudC5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuZW5hYmxlZCA9IGVudGl0eS5nZXQoJ2VuYWJsZWQnKTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudExpc3QpXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRMaXN0ID0gZWRpdG9yLmNhbGwoJ2NvbXBvbmVudHM6bGlzdCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gZW50aXR5LnJlcGFyZW50aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBpbmRleFxyXG4gICAgICAgICAgICBzZWxmLnVpSXRlbUluZGV4W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldID0gZWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgIC8vIG5hbWUgY2hhbmdlXHJcbiAgICAgICAgICAgIGVudGl0eS5vbignbmFtZTpzZXQnLCBmdW5jdGlvbiAodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXNpemVRdWV1ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVudGl0eS5vbignZW5hYmxlZDpzZXQnLCBmdW5jdGlvbiAodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuZW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVudGl0eS5vbignY2hpbGRyZW46bW92ZScsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nLCBpbmQ6IG51bWJlciwgaW5kT2xkOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gc2VsZi51aUl0ZW1JbmRleFt2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0gfHwgaXRlbS5lbnRpdHkucmVwYXJlbnRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gc2VsZi51aUl0ZW1JbmRleFtlbnRpdHkuZ2V0KCdjaGlsZHJlbi4nICsgKGluZCArIDEpKV07XHJcbiAgICAgICAgICAgICAgICB2YXIgYWZ0ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzTmV4dDogYm9vbGVhbiA9IG5leHQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCA9PT0gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5leHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzTmV4dCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kID4gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBzZWxmLnVpSXRlbUluZGV4W2VudGl0eS5nZXQoJ2NoaWxkcmVuLicgKyBpbmQpXVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudClcclxuICAgICAgICAgICAgICAgICAgICAoPFRyZWVJdGVtPml0ZW0ucGFyZW50KS5yZW1vdmUoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZEJlZm9yZShpdGVtLCBuZXh0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWZ0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZEFmdGVyKGl0ZW0sIGFmdGVyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIGVudGl0eS5vbignY2hpbGRyZW46cmVtb3ZlJywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gc2VsZi51aUl0ZW1JbmRleFt2YWx1ZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0gfHwgaXRlbS5lbnRpdHkucmVwYXJlbnRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKGl0ZW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBjaGlsZHJlblxyXG4gICAgICAgICAgICBlbnRpdHkub24oJ2NoaWxkcmVuOmluc2VydCcsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nLCBpbmQ6IG51bWJlcikge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignY2hpbGRyZW46aW5zZXJ0IGluIGhpZXJhcmNoeS1wYW5lbCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBzZWxmLnVpSXRlbUluZGV4W3ZhbHVlXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0gfHwgaXRlbS5lbnRpdHkucmVwYXJlbnRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudClcclxuICAgICAgICAgICAgICAgICAgICAoPFRyZWVJdGVtPml0ZW0ucGFyZW50KS5yZW1vdmUoaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBzZWxmLnVpSXRlbUluZGV4W2VudGl0eS5nZXQoJ2NoaWxkcmVuLicgKyAoaW5kICsgMSkpXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRCZWZvcmUoaXRlbSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbGxhYm9yYXRvcnNcclxuICAgICAgICAgICAgdmFyIHVzZXJzID0gZWxlbWVudC51c2VycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgdXNlcnMuY2xhc3NMaXN0LmFkZCgndXNlcnMnKTtcclxuICAgICAgICAgICAgZWxlbWVudC5lbGVtZW50VGl0bGUuYXBwZW5kQ2hpbGQodXNlcnMpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKGVudGl0eS5nZXQoJ3Jvb3QnKSkge1xyXG4gICAgICAgICAgICAvLyAgICAgLy8gcm9vdFxyXG4gICAgICAgICAgICAvLyAgICAgaGllcmFyY2h5LmFwcGVuZChlbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gICAgIGVsZW1lbnQub3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICBpZihlbnRpdHkuZ2V0KCdwYXJlbnQnKSA9PT0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnJvb3QnKS5nZXQoJ3Jlc291cmNlX2lkJykpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICByb290UGFyZW50LmFwcGVuZChlbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGNoaWxkcmVuID0gZW50aXR5LmdldCgnY2hpbGRyZW4nKTtcclxuICAgICAgICAgICAgLy8gaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjaGlsZHJlbi5sZW5ndGg7IGMrKykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHZhciBjaGlsZCA9IHNlbGYudWlJdGVtSW5kZXhbY2hpbGRyZW5bY11dO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGlmICghY2hpbGQpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgdmFyIGVyciA9ICdDYW5ub3QgZmluZCBjaGlsZCBlbnRpdHkgJyArIGNoaWxkcmVuW2NdO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc3RhdHVzOmVycm9yJywgZXJyKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgZWxlbWVudC5hcHBlbmQoY2hpbGQpO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICByZXNpemVRdWV1ZSgpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIGFwcGVuZCBhbGwgdHJlZUl0ZW1zIGFjY29yZGluZyB0byBjaGlsZCBvcmRlclxyXG4gICAgICAgIC8vIOWKoOi9vXNjZW5l5pWw5o2u5ZCO77yM57uf5LiA6L+Q6KGM5LiA6YGN77yM6K6+5a6adHJlZSBpdGVtXHJcbiAgICAgICAgZWRpdG9yLm9uKCdlbnRpdGllczpsb2FkJywgZnVuY3Rpb24gKHVwbG9hZD86IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgdmFyIGVudGl0aWVzID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmxpc3QnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRhczogYW55ID0ge307XHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgcGF0aDE6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICAvLyB2YXIgcGF0aDI6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gZW50aXRpZXNbaV07XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAodXBsb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZGF0YXNbZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKV0gPSBlbnRpdHkub3JpZ2luO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoZW50aXR5LmdldCgnYXNzZXQnKSAmJiBlbnRpdHkuZ2V0KCdhc3NldDInKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHBhdGgxID0gZW50aXR5LmdldCgnYXNzZXQnKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBwYXRoMiA9IGVudGl0eS5nZXQoJ2Fzc2V0MicpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc2VsZi51aUl0ZW1JbmRleFtlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LmdldCgncm9vdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcm9vdFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeS5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByb290UGFyZW50ID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChlbnRpdHkuZ2V0KCdwYXJlbnQnKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgcm9vdFBhcmVudC5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVudGl0eS5nZXQoJ2NoaWxkcmVuJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjaGlsZHJlbi5sZW5ndGg7IGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBzZWxmLnVpSXRlbUluZGV4W2NoaWxkcmVuW2NdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVyciA9ICfniLbniankvZPvvJogJyArIGVudGl0eS5nZXQoJ25hbWUnKSArICfvvIxoaWVyYXJjaHnoj5zljZXml6Dms5XlhbPogZTliLDlrZDniankvZPvvIzlrZDniankvZNJRO+8micgKyBjaGlsZHJlbltjXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzdGF0dXM6ZXJyb3InLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgKHVwbG9hZCkge1xyXG4gICAgICAgICAgICAvLyAgICAgYXhpb3MucG9zdCgnL2FwaS9hZGRTY2VuZScsIHsgcHJvamVjdElEOiBDb25maWcucHJvamVjdElELCBlbnRpdGllczogZGF0YXMsIHBhdGgxOiBwYXRoMSwgcGF0aDI6IHBhdGgyIH0pXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09ICcwMDAwJykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLmNhdGNoKFxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gICAgICAgICApO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAocGF0aDEgJiYgcGF0aDIgJiYgIXVwbG9hZCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZWRpdG9yLmNhbGwoJ2xvYWRUZW1wTW9kZWwyJywgcGF0aDEsIHBhdGgyKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IExpc3QsIFRleHRGaWVsZCwgTGlzdEl0ZW0sIFBhbmVsLCBUcmVlLCBUb3BFbGVtZW50UGFuZWwgfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gXCIuLi8uLi9lbmdpbmVcIjtcclxuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vbGliXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSGllcmFyY2h5U2VhcmNoIHtcclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdlbnRpdGllczpmdXp6eS1zZWFyY2gnLCBmdW5jdGlvbiAocXVlcnk6IHN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGVudGl0aWVzID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmxpc3QnKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50aXRpZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKFtlbnRpdGllc1tpXS5nZXQoJ25hbWUnKSwgZW50aXRpZXNbaV1dKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBlZGl0b3IuY2FsbCgnc2VhcmNoOml0ZW1zJywgaXRlbXMsIHF1ZXJ5KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGxldCBwYW5lbDogVG9wRWxlbWVudFBhbmVsID0gVmVyeUVuZ2luZS5oaWVyYXJjaHk7XHJcbiAgICAgICAgbGV0IGhpZXJhcmNoeTogVHJlZSA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpoaWVyYXJjaHknKTtcclxuICAgICAgICB2YXIgY2hhbmdpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXRlbXNJbmRleDogeyBba2V5OiBzdHJpbmddOiBMaXN0SXRlbSB9ID0ge307XHJcblxyXG4gICAgICAgIC8vIOe7k+aenOWIl+ihqFxyXG4gICAgICAgIGxldCByZXN1bHRzID0gbmV3IExpc3QoKTtcclxuICAgICAgICByZXN1bHRzLmVsZW1lbnQhLnRhYkluZGV4ID0gMDtcclxuICAgICAgICByZXN1bHRzLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgcmVzdWx0cy5jbGFzcyEuYWRkKCdzZWFyY2gtcmVzdWx0cycpO1xyXG4gICAgICAgIHBhbmVsLmFwcGVuZChyZXN1bHRzKTtcclxuXHJcbiAgICAgICAgdmFyIGxhc3RTZWFyY2ggPSAnJztcclxuICAgICAgICB2YXIgc2VhcmNoID0gbmV3IFRleHRGaWVsZCgn5pCc57SiJyk7XHJcbiAgICAgICAgc2VhcmNoLmJsdXJPbkVudGVyID0gZmFsc2U7XHJcbiAgICAgICAgc2VhcmNoLmtleUNoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgc2VhcmNoLmNsYXNzIS5hZGQoJ3NlYXJjaCcpO1xyXG4gICAgICAgIHNlYXJjaC5yZW5kZXJDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgcGFuZWwucHJlcGVuZChzZWFyY2gpXHJcbiAgICAgICAgLy8gcGFuZWwuZWxlbWVudCEuaW5zZXJ0QmVmb3JlKHNlYXJjaC5lbGVtZW50ISwgcGFuZWwuaW5uZXJFbGVtZW50KTtcclxuXHJcbiAgICAgICAgdmFyIHNlYXJjaENsZWFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2VhcmNoQ2xlYXIuaW5uZXJIVE1MID0gJyYjNTc2NTA7JztcclxuICAgICAgICBzZWFyY2hDbGVhci5jbGFzc0xpc3QuYWRkKCdjbGVhcicpO1xyXG4gICAgICAgIHNlYXJjaC5lbGVtZW50IS5hcHBlbmRDaGlsZChzZWFyY2hDbGVhcik7XHJcblxyXG4gICAgICAgIHNlYXJjaENsZWFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWFyY2gudmFsdWUgPSAnJztcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gY2xlYXIgb24gZXNjYXBlXHJcbiAgICAgICAgcmVzdWx0cy5lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDI3KSB7IC8vIGVzY1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoQ2xlYXIuY2xpY2soKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gMTMpIHsgLy8gZW50ZXJcclxuICAgICAgICAgICAgICAgIC8vIOaQnOe0oue7k+aenOWHuueOsOS7peWQju+8jOaMieS4i2VudGVy6ZSuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHMuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RFbGVtZW50ID0gcmVzdWx0cy5lbGVtZW50IS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEVsZW1lbnQgJiYgKDxIVE1MRWxlbWVudD5maXJzdEVsZW1lbnQpLnVpICYmICg8TGlzdEl0ZW0+KDxIVE1MRWxlbWVudD5maXJzdEVsZW1lbnQpLnVpKS5lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpzZXQnLCAnZW50aXR5JywgWyg8TGlzdEl0ZW0+KDxIVE1MRWxlbWVudD5maXJzdEVsZW1lbnQpLnVpKS5lbnRpdHldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlYXJjaC52YWx1ZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gNDApIHsgLy8gZG93blxyXG4gICAgICAgICAgICAgICAgc2VsZWN0TmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gMzgpIHsgLy8gdXBcclxuICAgICAgICAgICAgICAgIHNlbGVjdFByZXYoKTtcclxuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gZGVzZWxlY3RpbmdcclxuICAgICAgICByZXN1bHRzLnVuYmluZCgnZGVzZWxlY3QnLCByZXN1bHRzLl9vbkRlc2VsZWN0KTtcclxuICAgICAgICByZXN1bHRzLl9vbkRlc2VsZWN0ID0gZnVuY3Rpb24gKGl0ZW06IExpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmQgPSByZXN1bHRzLnNlbGVjdGVkLmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgICAgIGlmIChpbmQgIT09IC0xKSByZXN1bHRzLnNlbGVjdGVkLnNwbGljZShpbmQsIDEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NoYW5naW5nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKExpc3QuX2N0cmwgJiYgTGlzdC5fY3RybCgpKSB7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJykgPT09ICdlbnRpdHknICYmIGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluU2VsZWN0ZWQgPSBpdGVtcy5pbmRleE9mKGl0ZW0uZW50aXR5KSAhPT0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+PSAyICYmIGluU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXN1bHRzLm9uKCdkZXNlbGVjdCcsIHJlc3VsdHMuX29uRGVzZWxlY3QpO1xyXG5cclxuICAgICAgICAvLyByZXN1bHRzIHNlbGVjdGlvbiBjaGFuZ2VcclxuICAgICAgICByZXN1bHRzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFuZ2luZylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRzLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgJ2VudGl0eScsIHJlc3VsdHMuc2VsZWN0ZWQubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZW50aXR5O1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmNsZWFyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2VsZWN0b3IgY2hhbmdlXHJcbiAgICAgICAgZWRpdG9yLm9uKCdzZWxlY3RvcjpjaGFuZ2UnLCBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBpdGVtczogT2JzZXJ2ZXJbXSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdpbmcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBjaGFuZ2luZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2VudGl0eScpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMuc2VsZWN0ZWQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc0luZGV4W2l0ZW1zW2ldLmdldCgncmVzb3VyY2VfaWQnKV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMuc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2hhbmdpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNlbGVjdE5leHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIGxpc3QgaXRlbVxyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSByZXN1bHRzLmVsZW1lbnQhLmNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgICAgLy8gY291bGQgYmUgbm90aGluZyBvciBvbmx5IG9uZSBpdGVtIHRvIHNlbGVjdFxyXG4gICAgICAgICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciB0b1NlbGVjdCA9IG51bGw7XHJcbiAgICAgICAgICAgIC8vIOiiq+mAieaLqeeahGl0ZW1cclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gcmVzdWx0cy5lbGVtZW50IS5xdWVyeVNlbGVjdG9yQWxsKCcudWktbGlzdC1pdGVtLnNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIHZhciBtdWx0aSA9IChMaXN0Ll9jdHJsICYmIExpc3QuX2N0cmwoKSkgfHwgKExpc3QuX3NoaWZ0ICYmIExpc3QuX3NoaWZ0KCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3QgPSBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gbGFzdC5uZXh0U2libGluZzsgLy8g5LiL5LiA5LiqbGlzdCBpdGVtXHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBuZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgdG9TZWxlY3QgPSAoPEhUTUxFbGVtZW50Pm5leHQpLnVpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW11bHRpKSB0b1NlbGVjdCA9ICg8SFRNTEVsZW1lbnQ+Y2hpbGRyZW5bMF0pLnVpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0IGZpcnN0XHJcbiAgICAgICAgICAgICAgICB0b1NlbGVjdCA9ICg8SFRNTEVsZW1lbnQ+Y2hpbGRyZW5bMF0pLnVpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodG9TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbXVsdGkpIHJlc3VsdHMuc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICg8TGlzdEl0ZW0+dG9TZWxlY3QpLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBzZWxlY3RQcmV2ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSByZXN1bHRzLmVsZW1lbnQhLmNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgICAgLy8gY291bGQgYmUgbm90aGluZyBvciBvbmx5IG9uZSBpdGVtIHRvIHNlbGVjdFxyXG4gICAgICAgICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciB0b1NlbGVjdCA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHJlc3VsdHMuZWxlbWVudCEucXVlcnlTZWxlY3RvckFsbCgnLnVpLWxpc3QtaXRlbS5zZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB2YXIgbXVsdGkgPSAoTGlzdC5fY3RybCAmJiBMaXN0Ll9jdHJsKCkpIHx8IChMaXN0Ll9zaGlmdCAmJiBMaXN0Ll9zaGlmdCgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IGl0ZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZXYgPSBmaXJzdC5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBwcmV2aW91c1xyXG4gICAgICAgICAgICAgICAgICAgIHRvU2VsZWN0ID0gKDxIVE1MRWxlbWVudD5wcmV2KS51aTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtdWx0aSkgdG9TZWxlY3QgPSAoPEhUTUxFbGVtZW50PmNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdKS51aTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBsYXN0XHJcbiAgICAgICAgICAgICAgICB0b1NlbGVjdCA9ICg8SFRNTEVsZW1lbnQ+Y2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0pLnVpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodG9TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICghbXVsdGkpIHJlc3VsdHMuc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICg8TGlzdEl0ZW0+dG9TZWxlY3QpLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlYXJjaC5lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDI3KSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hDbGVhci5jbGljaygpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0cy5zZWxlY3RlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RFbGVtZW50ID0gcmVzdWx0cy5lbGVtZW50IS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEVsZW1lbnQgJiYgKDxIVE1MRWxlbWVudD5maXJzdEVsZW1lbnQpLnVpICYmICg8TGlzdEl0ZW0+KDxIVE1MRWxlbWVudD5maXJzdEVsZW1lbnQpLnVpKS5lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpzZXQnLCAnZW50aXR5JywgWyg8TGlzdEl0ZW0+KDxIVE1MRWxlbWVudD5maXJzdEVsZW1lbnQpLnVpKS5lbnRpdHldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlYXJjaC52YWx1ZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gNDApIHsgLy8gZG93blxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hvdGtleTp1cGRhdGVNb2RpZmllcktleXMnLCBldnQpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0TmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSAzOCkgeyAvLyB1cFxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hvdGtleTp1cGRhdGVNb2RpZmllcktleXMnLCBldnQpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0UHJldigpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSA2NSAmJiBldnQuY3RybEtleSkgeyAvLyBjdHJsICsgYVxyXG4gICAgICAgICAgICAgICAgdmFyIHRvU2VsZWN0OiBMaXN0SXRlbVtdID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gcmVzdWx0cy5lbGVtZW50IS5xdWVyeVNlbGVjdG9yQWxsKCcudWktbGlzdC1pdGVtJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRvU2VsZWN0LnB1c2goPExpc3RJdGVtPig8SFRNTEVsZW1lbnQ+aXRlbXNbaV0pLnVpKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLnNlbGVjdGVkID0gdG9TZWxlY3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG5cclxuICAgICAgICAvLyBpZiBlbnRpdHkgYWRkZWQsIGNoZWNrIGlmIGl0IG1hY2hpbmcgcXVlcnlcclxuICAgICAgICBlZGl0b3Iub24oJ2VudGl0aWVzOmFkZCcsIGZ1bmN0aW9uIChlbnRpdHk6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IHNlYXJjaC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIGlmICghcXVlcnkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBbW2VudGl0eS5nZXQoJ25hbWUnKSwgZW50aXR5XV07XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBlZGl0b3IuY2FsbCgnc2VhcmNoOml0ZW1zJywgaXRlbXMsIHF1ZXJ5KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0Lmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHBlcmZvcm1TZWFyY2goKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGFkZEl0ZW0gPSBmdW5jdGlvbiAoZW50aXR5OiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICB2YXIgZXZlbnRzOiBhbnkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gbmV3IExpc3RJdGVtKGVudGl0eS5nZXQoJ25hbWUnKSk7XHJcbiAgICAgICAgICAgIGl0ZW0uZGlzYWJsZWRDbGljayA9IHRydWU7XHJcbiAgICAgICAgICAgIGl0ZW0uZW50aXR5ID0gZW50aXR5O1xyXG5cclxuICAgICAgICAgICAgaWYgKGVudGl0eS5nZXQoJ2NoaWxkcmVuJykubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzcyEuYWRkKCdjb250YWluZXInKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbGF0ZSB0byB0cmVlIGl0ZW1cclxuICAgICAgICAgICAgdmFyIHRyZWVJdGVtID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnBhbmVsOmdldCcsIGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJykpO1xyXG5cclxuICAgICAgICAgICAgaXRlbS5kaXNhYmxlZCA9IHRyZWVJdGVtLmRpc2FibGVkO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9uU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmRpc2FibGVkID0gdHJlZUl0ZW0uZGlzYWJsZWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBldmVudHMucHVzaCh0cmVlSXRlbS5vbignZW5hYmxlJywgb25TdGF0ZUNoYW5nZSkpO1xyXG4gICAgICAgICAgICBldmVudHMucHVzaCh0cmVlSXRlbS5vbignZGlzYWJsZScsIG9uU3RhdGVDaGFuZ2UpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvbk5hbWVTZXQgPSBmdW5jdGlvbiAobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnRleHQgPSBuYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKGVudGl0eS5vbignbmFtZTpzZXQnLCBvbk5hbWVTZXQpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGljb25cclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudHMgPSBPYmplY3Qua2V5cyhlbnRpdHkuZ2V0KCdjb21wb25lbnRzJykpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvbXBvbmVudHMubGVuZ3RoOyBjKyspXHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzIS5hZGQoJ2MtJyArIGNvbXBvbmVudHNbY10pO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9uQ29udGV4dE1lbnUgPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3Blbm5lZCA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpjb250ZXh0bWVudTpvcGVuJywgZW50aXR5LCBldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvcGVubmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG9uRGJsQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2gudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpzZXQnLCAnZW50aXR5JywgW2VudGl0eV0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaXRlbS5lbGVtZW50IS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIG9uQ29udGV4dE1lbnUpO1xyXG4gICAgICAgICAgICBpdGVtLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgb25EYmxDbGljayk7XHJcblxyXG4gICAgICAgICAgICBldmVudHMucHVzaChpdGVtLm9uY2UoJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICBldmVudHNbaV0udW5iaW5kKCk7XHJcbiAgICAgICAgICAgICAgICBldmVudHMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51KTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZWxlbWVudCEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBvbkRibENsaWNrKTtcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzLnB1c2godHJlZUl0ZW0ub25jZSgnZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIGVudGl0eSByZW1vdmVkLCBwZXJmb3JtIHNlYXJjaCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgcGVyZm9ybVNlYXJjaCgpO1xyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgcGVyZm9ybVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gbGFzdFNlYXJjaDtcclxuXHJcbiAgICAgICAgICAgIC8vIGNsZWFyIHJlc3VsdHMgbGlzdFxyXG4gICAgICAgICAgICByZXN1bHRzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGl0ZW1zSW5kZXggPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGlmIChxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpmdXp6eS1zZWFyY2gnLCBxdWVyeSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaGllcmFyY2h5LmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLmhpZGRlbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJykgPT09ICdlbnRpdHknKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGFkZEl0ZW0ocmVzdWx0W2ldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXNJbmRleFtyZXN1bHRbaV0uZ2V0KCdyZXNvdXJjZV9pZCcpXSA9IGl0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZC5pbmRleE9mKHJlc3VsdFtpXSkgIT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBoaWVyYXJjaHkuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWFyY2gub24oJ2NoYW5nZScsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxhc3RTZWFyY2ggPT09IHZhbHVlKSByZXR1cm47XHJcbiAgICAgICAgICAgIGxhc3RTZWFyY2ggPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoLmNsYXNzIS5hZGQoJ25vdC1lbXB0eScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoLmNsYXNzIS5yZW1vdmUoJ25vdC1lbXB0eScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwZXJmb3JtU2VhcmNoKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2tlZXBlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vaGllcmFyY2h5LXBhbmVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9oaWVyYXJjaHktbWVudSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaGllcmFyY2h5LWNvbnRyb2wnO1xyXG5leHBvcnQgKiBmcm9tICcuL2hpZXJhcmNoeS1zZWFyY2gnO1xyXG5cclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vaGllcmFyY2h5LWNvbnRleHQtbWVudSc7IiwiaW1wb3J0IHsgUGFuZWwsIEJ1dHRvbiwgVG9vbHRpcCwgVHJlZSwgVHJlZUl0ZW0gfSBmcm9tICcuLi8uLi91aSc7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHlTZWFyY2ggfSBmcm9tICcuL2hpZXJhcmNoeS1zZWFyY2gnO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHlNZW51IH0gZnJvbSAnLi9oaWVyYXJjaHktbWVudSc7XHJcbmltcG9ydCB7IEhpZXJhcmNoeUNvbnRleHRNZW51IH0gZnJvbSAnLi9oaWVyYXJjaHktY29udGV4dC1tZW51JztcclxuaW1wb3J0IHsgSGllcmFyY2h5UGFuZWwgfSBmcm9tICcuL2hpZXJhcmNoeS1wYW5lbCc7XHJcbmltcG9ydCB7IEhpZXJhcmNoeUNvbnRyb2wgfSBmcm9tICcuL2hpZXJhcmNoeS1jb250cm9sJztcclxuXHJcbmV4cG9ydCBjbGFzcyBIaWVyYXJjaHlLZWVwZXIge1xyXG5cclxuICAvLyBwdWJsaWMgaGllcmFyY2h5TWFpbjogUGFuZWw7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIHRoaXMuaGllcmFyY2h5TWFpbiA9IG5ldyBQYW5lbCgpO1xyXG4gICAgLy8gdGhpcy5oaWVyYXJjaHlNYWluLmNsYXNzIS5hZGQoJ2hpZXJhcmNoeS1jb250cm9scycpO1xyXG4gICAgLy8gdGhpcy5oaWVyYXJjaHlNYWluLnBhcmVudCA9IFZlcnlFbmdpbmUuaGllcmFyY2h5UGFuZWw7XHJcbiAgICAvLyBWZXJ5RW5naW5lLmhpZXJhcmNoeVBhbmVsLmhlYWRlckFwcGVuZCh0aGlzLmhpZXJhcmNoeU1haW4pO1xyXG4gICAgLy8gLy8gY29uc29sZS5sb2coJ2hpZXJhcmNoeS1jb250cm9scycpO1xyXG5cclxuICAgIC8vIC8vIGNvbnRyb2xzIGRlbGV0ZSAoQnV0dG9uKVxyXG4gICAgLy8gbGV0IGJ0bkRlbGV0ZTogQnV0dG9uID0gbmV3IEJ1dHRvbignJiM1NzYzNjsnKTtcclxuICAgIC8vIGJ0bkRlbGV0ZS5jbGFzcyEuYWRkKCdkZWxldGUnKTtcclxuICAgIC8vIGJ0bkRlbGV0ZS5zdHlsZSEuZm9udFdlaWdodCA9ICcyMDAnO1xyXG4gICAgLy8gYnRuRGVsZXRlLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgbGV0IHR5cGUgPSBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6dHlwZScpO1xyXG4gICAgLy8gICBpZiAodHlwZSAhPT0gJ2VudGl0eScpXHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgLy8gICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6ZGVsZXRlJywgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJykpO1xyXG4gICAgLy8gfSk7XHJcbiAgICAvLyB0aGlzLmhpZXJhcmNoeU1haW4uYXBwZW5kKGJ0bkRlbGV0ZSk7XHJcblxyXG4gICAgLy8gbGV0IHRvb2x0aXBEZWxldGUgPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAvLyAgIHRhcmdldDogYnRuRGVsZXRlLmVsZW1lbnQhLFxyXG4gICAgLy8gICB0ZXh0OiAn5Yig6ZmkJyxcclxuICAgIC8vICAgYWxpZ246ICd0b3AnLFxyXG4gICAgLy8gICByb290OiBWZXJ5RW5naW5lLnJvb3RQYW5lbFxyXG4gICAgLy8gfSk7XHJcbiAgICAvLyB0b29sdGlwRGVsZXRlLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG5cclxuICAgIC8vIC8vIGNvbnRyb2xzIGR1cGxpY2F0ZVxyXG4gICAgLy8gbGV0IGJ0bkR1cGxpY2F0ZTogQnV0dG9uID0gbmV3IEJ1dHRvbignJiM1NzYzODsnKTtcclxuICAgIC8vIGJ0bkR1cGxpY2F0ZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAvLyBidG5EdXBsaWNhdGUuY2xhc3MhLmFkZCgnZHVwbGljYXRlJyk7XHJcbiAgICAvLyBidG5EdXBsaWNhdGUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICBsZXQgdHlwZSA9IGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJyk7XHJcbiAgICAvLyAgIGxldCBpdGVtcyA9IGVkaXRvci5jYWxsKCdzZWxlY3RvcjppdGVtcycpO1xyXG5cclxuICAgIC8vICAgaWYgKHR5cGUgPT09ICdlbnRpdHknICYmIGl0ZW1zLmxlbmd0aClcclxuICAgIC8vICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6ZHVwbGljYXRlJywgaXRlbXMpO1xyXG4gICAgLy8gfSk7XHJcbiAgICAvLyB0aGlzLmhpZXJhcmNoeU1haW4uYXBwZW5kKGJ0bkR1cGxpY2F0ZSk7XHJcblxyXG4gICAgLy8gbGV0IHRvb2x0aXBEdXBsaWNhdGUgPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAvLyAgIHRhcmdldDogYnRuRHVwbGljYXRlLmVsZW1lbnQhLFxyXG4gICAgLy8gICB0ZXh0OiAn5aSN5Yi2JyxcclxuICAgIC8vICAgYWxpZ246ICd0b3AnLFxyXG4gICAgLy8gICByb290OiBWZXJ5RW5naW5lLnJvb3RQYW5lbFxyXG4gICAgLy8gfSk7XHJcbiAgICAvLyB0b29sdGlwRHVwbGljYXRlLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG5cclxuICAgIC8vIC8vIFRPRE86IE1lbnVcclxuICAgIC8vIC8vIGxldCBtZW51RW50aXRpZXMgPSB1aS5NZW51LmZyb21EYXRhKGVkaXRvci5jYWxsKCdtZW51OmVudGl0aWVzOm5ldycpKTtcclxuICAgIC8vIC8vIHJvb3QuYXBwZW5kKG1lbnVFbnRpdGllcyk7XHJcblxyXG4gICAgLy8gLy8gY29udHJvbHMgYWRkXHJcbiAgICAvLyBsZXQgYnRuQWRkOiBCdXR0b24gPSBuZXcgQnV0dG9uKCcmIzU3NjMyOycpO1xyXG4gICAgLy8gYnRuQWRkLmNsYXNzIS5hZGQoJ2FkZCcpO1xyXG4gICAgLy8gYnRuQWRkLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgLy8gbWVudUVudGl0aWVzLm9wZW4gPSB0cnVlO1xyXG4gICAgLy8gICAvLyBsZXQgcmVjdCA9IGJ0bkFkZC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgLy8gICAvLyBtZW51RW50aXRpZXMucG9zaXRpb24ocmVjdC5sZWZ0LCByZWN0LnRvcCk7XHJcbiAgICAvLyB9KTtcclxuICAgIC8vIHRoaXMuaGllcmFyY2h5TWFpbi5hcHBlbmQoYnRuQWRkKTtcclxuXHJcbiAgICAvLyBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAvLyAgIHRhcmdldDogYnRuQWRkLmVsZW1lbnQhLFxyXG4gICAgLy8gICB0ZXh0OiAn5re75YqgJyxcclxuICAgIC8vICAgYWxpZ246ICd0b3AnLFxyXG4gICAgLy8gICByb290OiBWZXJ5RW5naW5lLnJvb3RQYW5lbFxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgLy8gaGllcmFyY2h5IHBhbmVsXHJcbiAgICBsZXQgaGllcmFyY2h5TWFpblBhbmVsID0gbmV3IEhpZXJhcmNoeVBhbmVsKCk7XHJcblxyXG4gICAgLy8g5YWo5bGA6I+c5Y2VXHJcbiAgICBsZXQgY29udGV4dE1lbnVMb2dvID0gbmV3IEhpZXJhcmNoeU1lbnUoKTtcclxuICAgIGxldCBjb250cm9sTWVudSA9IG5ldyBIaWVyYXJjaHlDb250cm9sKCk7XHJcblxyXG4gICAgLy8g5pCc57Si5Yy65Z+f77yaU2VhcmNoIEZpZWxkXHJcbiAgICBsZXQgc2VhcmNoRmllbGQgPSBuZXcgSGllcmFyY2h5U2VhcmNoKCk7XHJcblxyXG4gICAgXHJcblxyXG4gICAgbGV0IGNvbnRleHRNZW51ID0gbmV3IEhpZXJhcmNoeUNvbnRleHRNZW51KCk7XHJcblxyXG4gIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgQmFieWxvbkxvYWRlciB9IGZyb20gXCIuL21pZGRsZXdhcmUvbG9hZGVyL2JhYnlsb25Mb2FkZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIb3RrZXlzIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGN0cmw6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2hpZnQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyBzdGF0aWMgYWx0OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBob3RrZXlzOiB7IFtrZXk6IHN0cmluZ106IEhvdEtleUFyZ3MgfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBrZXlJbmRleDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge307XHJcbiAgICAvLyBwcml2YXRlIGtleXNEb3duID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBpc01hYzogYm9vbGVhbiA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignTWFjIE9TIFgnKSAhPT0gLTE7XHJcblxyXG4gICAgcHJpdmF0ZSBrZXlCeUtleUNvZGU6IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH0gPSB7fTtcclxuICAgIHByaXZhdGUga2V5QnlDb2RlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBrZXlNYXA6IHsgW2tleTogc3RyaW5nXTogeyBrZXlDb2RlOiBudW1iZXIsIGNvZGU6IHN0cmluZyB8IHN0cmluZ1tdIH0gfSA9IHt9O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmtleU1hcEluaXQoKTtcclxuXHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdob3RrZXk6cmVnaXN0ZXInLCBmdW5jdGlvbiAobmFtZTogc3RyaW5nLCBhcmdzOiBIb3RLZXlBcmdzKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaG90a2V5c1tuYW1lXSA9IGFyZ3M7XHJcblxyXG4gICAgICAgICAgICAvLyBrZXlzIGxpc3RcclxuICAgICAgICAgICAgbGV0IGtleXM6IHN0cmluZ1tdID0gW2FyZ3MuY3RybCA/ICcxJyA6ICcwJywgYXJncy5hbHQgPyAnMScgOiAnMCcsIGFyZ3Muc2hpZnQgPyAnMScgOiAnMCddO1xyXG5cclxuICAgICAgICAgICAgLy8gbWFwIGtleUNvZGUgdG8ga2V5XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKGFyZ3Mua2V5KSA9PT0gJ251bWJlcicpXHJcbiAgICAgICAgICAgICAgICBhcmdzLmtleSA9IHNlbGYua2V5QnlLZXlDb2RlW2FyZ3Mua2V5XTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVua25vd24ga2V5XHJcbiAgICAgICAgICAgIGlmICghYXJncy5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+acquefpeeahGhvdGtleXM6ICcgKyBuYW1lICsgJywgJyArIGFyZ3Mua2V5KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAga2V5cy5wdXNoKGFyZ3Mua2V5KTtcclxuXHJcbiAgICAgICAgICAgIGFyZ3MuaW5kZXggPSBrZXlzLmpvaW4oJysnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2VsZi5rZXlJbmRleFthcmdzLmluZGV4XSlcclxuICAgICAgICAgICAgICAgIHNlbGYua2V5SW5kZXhbYXJncy5pbmRleF0gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYua2V5SW5kZXhbYXJncy5pbmRleF0ucHVzaChuYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnaG90a2V5OnVucmVnaXN0ZXInLCBmdW5jdGlvbiAobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGxldCBob3RrZXk6IEhvdEtleUFyZ3MgPSBzZWxmLmhvdGtleXNbbmFtZV07XHJcbiAgICAgICAgICAgIGlmICghaG90a2V5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZi5rZXlJbmRleFtob3RrZXkuaW5kZXghXS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLmtleUluZGV4W2hvdGtleS5pbmRleCFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5rZXlJbmRleFtob3RrZXkuaW5kZXghXS5zcGxpY2Uoc2VsZi5rZXlJbmRleFtob3RrZXkuaW5kZXghXS5pbmRleE9mKG5hbWUpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHNlbGYuaG90a2V5c1tuYW1lXTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2hvdGtleTpzaGlmdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEhvdGtleXMuc2hpZnQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2hvdGtleTpjdHJsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gSG90a2V5cy5jdHJsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdob3RrZXk6YWx0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gSG90a2V5cy5hbHQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCB1cGRhdGVNb2RpZmllcktleXM6IChldnQ6IEV2ZW50KSA9PiB2b2lkID0gZnVuY3Rpb24gKGV2dDogRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKGV2dCBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQgfHwgZXZ0IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGV2dCk7XHJcbiAgICAgICAgICAgICAgICBIb3RrZXlzLnNoaWZ0ID0gZXZ0LnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICAgICAgSG90a2V5cy5jdHJsID0gZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXk7XHJcbiAgICAgICAgICAgICAgICBIb3RrZXlzLmFsdCA9IGV2dC5hbHRLZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2hvdGtleTp1cGRhdGVNb2RpZmllcktleXMnLCB1cGRhdGVNb2RpZmllcktleXMpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YWc6IHN0cmluZyA9ICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkudGFnTmFtZTtcclxuICAgICAgICAgICAgICAgIGlmICgvKGlucHV0KXwodGV4dGFyZWEpL2kudGVzdCh0YWcpICYmICEoPEhUTUxFbGVtZW50PmV2dC50YXJnZXQpLmNsYXNzTGlzdC5jb250YWlucygnaG90a2V5cycpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdXBkYXRlTW9kaWZpZXJLZXlzKGV2dCk7XHJcblxyXG4gICAgICAgICAgICBsZXQga2V5OiBzdHJpbmcgPSBldnQuY29kZSA/IHNlbGYua2V5QnlDb2RlW2V2dC5jb2RlXSA6IHNlbGYua2V5QnlLZXlDb2RlW2V2dC5rZXlDb2RlXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gOTIgfHwgZXZ0LmtleUNvZGUgPT09IDkzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IGluZGV4OiBzdHJpbmcgPSBbSG90a2V5cy5jdHJsID8gJzEnIDogJzAnLCBIb3RrZXlzLmFsdCA/ICcxJyA6ICcwJywgSG90a2V5cy5zaGlmdCA/ICcxJyA6ICcwJywga2V5XS5qb2luKCcrJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZi5rZXlJbmRleFtpbmRleF0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBza2lwUHJldmVudERlZmF1bHQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBzZWxmLmtleUluZGV4W2luZGV4XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2tpcFByZXZlbnREZWZhdWx0ICYmIHNlbGYuaG90a2V5c1tzZWxmLmtleUluZGV4W2luZGV4XVtpXV0uc2tpcFByZXZlbnREZWZhdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwUHJldmVudERlZmF1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhvdGtleXNbc2VsZi5rZXlJbmRleFtpbmRleF1baV1dLmNhbGxiYWNrKGV2dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNraXBQcmV2ZW50RGVmYXVsdClcclxuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJucyBDdHJsIG9yIENtZCBmb3IgTWFjXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnaG90a2V5OmN0cmw6c3RyaW5nJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5pc01hYyA/ICdDbWQnIDogJ0N0cmwnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlTW9kaWZpZXJLZXlzLCBmYWxzZSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHVwZGF0ZU1vZGlmaWVyS2V5cywgZmFsc2UpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdXBkYXRlTW9kaWZpZXJLZXlzLCBmYWxzZSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdXBkYXRlTW9kaWZpZXJLZXlzLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIHNhdmUgc2NlbmVcclxuICAgICAgICBlZGl0b3IuY2FsbCgnaG90a2V5OnJlZ2lzdGVyJywgJ3NhdmU6c2NlbmUnLCB7XHJcbiAgICAgICAgICAgIGtleTogJ3MnLFxyXG4gICAgICAgICAgICBjdHJsOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NhdmU6c2NlbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBrZXlNYXBJbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMua2V5TWFwID0ge1xyXG4gICAgICAgICAgICAnYmFja3NwYWNlJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogOCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdCYWNrc3BhY2UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICd0YWInOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA5LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ1RhYicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdlbnRlcic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDEzLFxyXG4gICAgICAgICAgICAgICAgY29kZTogWydlbnRlcicsICdOdW1wYWRFbnRlcicsICdFbnRlciddLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc2hpZnQnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxNixcclxuICAgICAgICAgICAgICAgIGNvZGU6IFsnU2hpZnRMZWZ0JywgJ1NoaWZ0UmlnaHQnXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2N0cmwnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxNyxcclxuICAgICAgICAgICAgICAgIGNvZGU6IFsnQ3RybExlZnQnLCAnQ3RybFJpZ2h0J10sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdhbHQnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxOCxcclxuICAgICAgICAgICAgICAgIGNvZGU6IFsnQWx0TGVmdCcsICdBbHRSaWdodCddLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAncGF1c2UvYnJlYWsnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxOSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdQYXVzZScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdjYXBzIGxvY2snOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAyMCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdDYXBzTG9jaycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdlc2MnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAyNyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdFc2NhcGUnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3BhY2UnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAzMixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdTcGFjZScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdwYWdlIHVwJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMzMsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnUGFnZVVwJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAncGFnZSBkb3duJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMzQsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnUGFnZURvd24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdlbmQnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAzNSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdFbmQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdob21lJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMzYsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnSG9tZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2xlZnQgYXJyb3cnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAzNyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdBcnJvd0xlZnQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICd1cCBhcnJvdyc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDM4LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0Fycm93VXAnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdyaWdodCBhcnJvdyc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDM5LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0Fycm93UmlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdkb3duIGFycm93Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNDAsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnQXJyb3dEb3duJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaW5zZXJ0Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNDUsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnSW5zZXJ0J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZGVsZXRlJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNDYsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRGVsZXRlJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnMCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDQ4LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0RpZ2l0MCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJzEnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA0OSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdEaWdpdDEnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICcyJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNTAsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRGlnaXQyJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnMyc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDUxLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0RpZ2l0MydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJzQnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA1MixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdEaWdpdDQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICc1Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNTMsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRGlnaXQ1J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnNic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDU0LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0RpZ2l0NidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJzcnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA1NSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdEaWdpdDcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICc4Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNTYsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRGlnaXQ4J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnOSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDU3LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0RpZ2l0OSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2EnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA2NSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlBJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnYic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDY2LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleUInXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdjJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNjcsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5QydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2QnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA2OCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlEJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDY5LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleUUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNzAsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5RidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2cnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA3MSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlHJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDcyLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleUgnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdpJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNzMsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5SSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2onOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA3NCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlKJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnayc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDc1LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleUsnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdsJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNzYsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5TCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ20nOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA3NyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlNJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnbic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDc4LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleU4nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdvJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogNzksXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5TydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3AnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA4MCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlQJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAncSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDgxLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleVEnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdyJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogODIsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5UidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3MnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA4MyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlTJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAndCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDg0LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleVQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICd1Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogODUsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5VSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3YnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA4NixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlWJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAndyc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDg3LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleVcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICd4Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogODgsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnS2V5WCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3knOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA4OSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdLZXlZJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAneic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDkwLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0tleVonXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdsZWZ0IHdpbmRvdyBrZXknOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA5MSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdNZXRhTGVmdCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3JpZ2h0IHdpbmRvdyBrZXknOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiA5MixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdNZXRhUmlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzZWxlY3Qga2V5Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogOTMsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnQ29udGV4dE1lbnUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdudW1wYWQgMCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDk2LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ051bXBhZDAnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdudW1wYWQgMSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDk3LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ051bXBhZDEnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdudW1wYWQgMic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDk4LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ051bXBhZDInXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdudW1wYWQgMyc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDk5LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ051bXBhZDMnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdudW1wYWQgNCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDEwMCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdOdW1wYWQ0J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnbnVtcGFkIDUnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxMDEsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnTnVtcGFkNSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ251bXBhZCA2Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTAyLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ051bXBhZDYnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdudW1wYWQgNyc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDEwMyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdOdW1wYWQ3J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnbnVtcGFkIDgnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxMDQsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnTnVtcGFkOCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ251bXBhZCA5Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTA1LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ051bXBhZDknXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdtdWx0aXBseSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDEwNixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdOdW1wYWRNdWx0aXBseSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2FkZCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDEwNyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdOdW1wYWRBZGQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWJ0cmFjdCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDEwOSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdOdW1wYWRTdWJ0cmFjdCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2RlY2ltYWwgcG9pbnQnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxMTAsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnTnVtcGFkRGVjaW1hbCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2RpdmlkZSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDExMSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdOdW1wYWREaXZpZGUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmMSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDExMixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdGMSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2YyJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTEzLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0YyJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZjMnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxMTQsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRjMnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmNCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDExNSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdGNCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2Y1Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTE2LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0Y1J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZjYnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxMTcsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRjYnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmNyc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDExOCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdGNydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2Y4Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTE5LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0Y4J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZjknOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxMjAsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRjknXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmMTAnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxMjEsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnRjEwJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZjExJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTIyLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0YxMSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2YxMic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDEyMyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdGMTInXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdudW0gbG9jayc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDE0NCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdOdW1Mb2NrJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc2Nyb2xsIGxvY2snOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxNDUsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnU2Nyb2xsTG9jaydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3NlbWktY29sb24nOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAxODYsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnU2VtaWNvbG9uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZXF1YWwgc2lnbic6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDE4NyxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdFcXVhbCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2NvbW1hJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTg4LFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0NvbW1hJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZGFzaCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDE4OSxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdNaW51cydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3BlcmlvZCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDE5MCxcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdQZXJpb2QnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmb3J3YXJkIHNsYXNoJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMTkxLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2dyYXZlIGFjY2VudCc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDE5MixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdCYWNrcXVvdGUnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdvcGVuIGJyYWNrZXQnOiB7XHJcbiAgICAgICAgICAgICAgICBrZXlDb2RlOiAyMTksXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnQnJhY2tldExlZnQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdiYWNrIHNsYXNoJzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMjIwLFxyXG4gICAgICAgICAgICAgICAgY29kZTogWydCYWNrc2xhc2gnLCAnSW50bEJhY2tzbGFzaCddXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdjbG9zZSBicmFja2V0Jzoge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZTogMjIxLFxyXG4gICAgICAgICAgICAgICAgY29kZTogJ0JyYWNrZXRSaWdodCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3NpbmdsZSBxdW90ZSc6IHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGU6IDIyMixcclxuICAgICAgICAgICAgICAgIGNvZGU6ICdRdW90ZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5rZXlNYXApIHtcclxuICAgICAgICAgICAgdGhpcy5rZXlCeUtleUNvZGVbdGhpcy5rZXlNYXBba2V5XS5rZXlDb2RlXSA9IGtleTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmtleU1hcFtrZXldLmNvZGUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMua2V5TWFwW2tleV0uY29kZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2V5QnlDb2RlW3RoaXMua2V5TWFwW2tleV0uY29kZVtpXV0gPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleUJ5Q29kZVs8c3RyaW5nPih0aGlzLmtleU1hcFtrZXldLmNvZGUpXSA9IGtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhvdEtleUFyZ3Mge1xyXG4gICAga2V5OiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgICBjYWxsYmFjazogKGV2dD86IEV2ZW50KSA9PiB2b2lkO1xyXG4gICAgY3RybD86IGJvb2xlYW47XHJcbiAgICBhbHQ/OiBib29sZWFuO1xyXG4gICAgc2hpZnQ/OiBib29sZWFuO1xyXG4gICAgc2tpcFByZXZlbnREZWZhdWx0PzogYm9vbGVhbjtcclxuICAgIGluZGV4Pzogc3RyaW5nXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2luaXRpYWxpemUtYmVmb3JlJztcclxuZXhwb3J0ICogZnJvbSAnLi9lZGl0b3InO1xyXG5leHBvcnQgKiBmcm9tICcuL2xheW91dCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdmlld3BvcnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2hpZXJhcmNoeSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaG90a2V5cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZW50aXR5JztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NldHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NjZW5lcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdG9vbGJhcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbGl0eSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vbWlkZGxld2FyZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaW5pdGlhbGl6ZS1hZnRlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vbG9jYWxzdG9yYWdlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZWFyY2gnO1xyXG5leHBvcnQgKiBmcm9tICcuL2Ryb3AnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dsb2JhbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vSW5pdGlhbGl6ZS1kYXRhJztcclxuZXhwb3J0ICogZnJvbSAnLi9naXptb3MnO1xyXG4iLCJpbXBvcnQgeyBBdHRyaWJ1dGVzUGFuZWwsIEF0dHJpYnV0ZXNFbnRpdHksIEF0dHJpYnV0ZXNSZWZlcmVuY2UsIEF0dHJpYnV0ZXNLZWVwZXIgfSBmcm9tIFwiLi9hdHRyaWJ1dGVzXCI7XHJcbmltcG9ydCB7IFRvb2xiYXJLZWVwZXIgfSBmcm9tIFwiLi90b29sYmFyXCI7XHJcbmltcG9ydCB7IFZpZXdwb3J0S2VlcGVyIH0gZnJvbSBcIi4vdmlld3BvcnQva2VlcGVyXCI7XHJcbmltcG9ydCB7IEVudGl0eUtlZXBlciB9IGZyb20gXCIuL2VudGl0eVwiO1xyXG5pbXBvcnQgeyBTY2VuZXNLZWVwZXIgfSBmcm9tIFwiLi9zY2VuZXNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgSW5pdGlhbGl6ZUFmdGVyIHtcclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAvLyBlbnRpdHlcclxuICAgIGxldCBlbnRpdHkgPSBuZXcgRW50aXR5S2VlcGVyKCk7XHJcblxyXG4gICAgLy8gc2NlbmVzXHJcbiAgICBuZXcgU2NlbmVzS2VlcGVyKCk7XHJcblxyXG4gICAgLy8gYXR0cmlidXRlc1xyXG4gICAgbGV0IGF0dHJpYnV0ZXMgPSBuZXcgQXR0cmlidXRlc0tlZXBlcigpO1xyXG5cclxuICAgIC8vIHRvb2xiYXJcclxuICAgIGxldCB0b29sYmFyID0gbmV3IFRvb2xiYXJLZWVwZXIoKTtcclxuXHJcbiAgICAvLyB2aWV3cG9ydFxyXG4gICAgbmV3IFZpZXdwb3J0S2VlcGVyKCk7XHJcblxyXG4gIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgSG90a2V5cyB9IGZyb20gXCIuL2hvdGtleXNcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50c0xvZ29zLCBDb250ZXh0TWVudSB9IGZyb20gXCIuL3V0aWxpdHlcIjtcclxuaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi9zZWxlY3RvclwiO1xyXG5pbXBvcnQgeyBSZWFsdGltZSB9IGZyb20gXCIuL3dlYi9yZWFsdGltZVwiO1xyXG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi9sb2NhbHN0b3JhZ2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbml0aWFsaXplQmVmb3JlIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ3Blcm1pc3Npb25zOndyaXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBheG9pc+m7mOiupOivt+axguWktOiuvue9ru+8jOWFqOWxgOmAmui/h2pzb27mlrnlvI/kvKDpgIHlkozmjqXmlLbmlbDmja5cclxuICAgICAgICAvLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcclxuXHJcbiAgICAgICAgLy8g5YWo5bGA5b+r5o236ZSu5rOo5YaMXHJcbiAgICAgICAgbGV0IGhvdGtleXMgPSBuZXcgSG90a2V5cygpO1xyXG5cclxuICAgICAgICAvLyBsb2NhbHN0b3JhZ2VcclxuICAgICAgICBsZXQgbG9jYWxzdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZSgpO1xyXG5cclxuICAgICAgICAvLyBjb21wb25lbnRzLWxvZ29zXHJcbiAgICAgICAgbGV0IGxvZ29zID0gbmV3IENvbXBvbmVudHNMb2dvcygpO1xyXG5cclxuICAgICAgICAvLyDlsY/olL3mtY/op4jlmajpu5jorqTlj7PplK7oj5zljZVcclxuICAgICAgICBsZXQgc3lzdGVtQ29udGV4dE1lbnUgPSBuZXcgQ29udGV4dE1lbnUoKTtcclxuXHJcbiAgICAgICAgLy8gc2VsZWN0b3IgXHJcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gbmV3IFNlbGVjdG9yKCk7XHJcblxyXG4gICAgICAgIC8vIFdlYnNvY2tldFxyXG4gICAgICAgIC8vIGxldCBpbyA9IG5ldyBSZWFsdGltZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBQYW5lbCwgVG9wRWxlbWVudENvbnRhaW5lciwgVG9wRWxlbWVudFBhbmVsIH0gZnJvbSAnLi4vdWknO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSAnLi4vZW5naW5lJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMYXlvdXQge1xyXG5cclxuICAgIHByaXZhdGUgaWdub3JlQ2xhc3NlczogUmVnRXhwID0gLyh1aS1saXN0LWl0ZW0pfCh1aS1idXR0b24pfCh1aS10ZXh0LWZpZWxkKXwodWktbnVtYmVyLWZpZWxkKS9pO1xyXG4gICAgcHJpdmF0ZSBpZ25vcmVFbGVtZW50czogUmVnRXhwID0gLyhpbnB1dCl8KHRleHRhcmVhKS9pO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vIHByZXZlbnQgZHJhZyduJ3NlbGVjdFxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgIC8vIGRvbid0IHByZXZlbnQgZm9yIGNlcnRhaW4gY2FzZXNcclxuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmlnbm9yZUNsYXNzZXMudGVzdCgoPEhUTUxFbGVtZW50PmV2dC50YXJnZXQpLmNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuaWdub3JlRWxlbWVudHMudGVzdCgoPEhUTUxFbGVtZW50PmV2dC50YXJnZXQpLnRhZ05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoPEhUTUxFbGVtZW50PmV2dC50YXJnZXQpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0YWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBibHVyIGlucHV0c1xyXG4gICAgICAgICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZvY3VzTm9kZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSEuZm9jdXNOb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvY3VzTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmZvY3VzTm9kZSkudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoPEhUTUxFbGVtZW50PmZvY3VzTm9kZSkuYmx1cigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9jdXNOb2RlLmZpcnN0Q2hpbGQgJiYgKDxIVE1MRWxlbWVudD5mb2N1c05vZGUuZmlyc3RDaGlsZCkudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoPEhUTUxFbGVtZW50PmZvY3VzTm9kZS5maXJzdENoaWxkKS5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwcmV2ZW50IGRlZmF1bHQgd2lsbCBwcmV2ZW50IGJsdXIsIGRyYWdzdGFydCBhbmQgc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICAvLyBtYWluIGNvbnRhaW5lclxyXG4gICAgICAgIHZhciByb290ID0gbmV3IFRvcEVsZW1lbnRDb250YWluZXIoe1xyXG4gICAgICAgICAgICBpZDogJ2xheW91dC1yb290JyxcclxuICAgICAgICAgICAgZ3JpZDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocm9vdC5kb20hKTtcclxuICAgICAgICAvLyBleHBvc2VcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdsYXlvdXQucm9vdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVmVyeUVuZ2luZS5yb290ID0gcm9vdDtcclxuXHJcbiAgICAgICAgLy8gdG9vbGJhciAobGVmdClcclxuICAgICAgICB2YXIgdG9vbGJhciA9IG5ldyBUb3BFbGVtZW50Q29udGFpbmVyKHtcclxuICAgICAgICAgICAgaWQ6ICdsYXlvdXQtdG9vbGJhcicsXHJcbiAgICAgICAgICAgIGZsZXg6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByb290LmFwcGVuZCh0b29sYmFyKTtcclxuICAgICAgICAvLyBleHBvc2VcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdsYXlvdXQudG9vbGJhcicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRvb2xiYXI7IH0pO1xyXG4gICAgICAgIFZlcnlFbmdpbmUudG9vbGJhciA9IHRvb2xiYXI7XHJcblxyXG4gICAgICAgIC8vIGhpZXJhcmNoeVxyXG4gICAgICAgIHZhciBoaWVyYXJjaHlQYW5lbCA9IG5ldyBUb3BFbGVtZW50UGFuZWwoe1xyXG4gICAgICAgICAgICBoZWFkZXJUZXh0OiAn5bGC57qn6I+c5Y2VJyxcclxuICAgICAgICAgICAgaWQ6ICdsYXlvdXQtaGllcmFyY2h5JyxcclxuICAgICAgICAgICAgZmxleDogdHJ1ZSxcclxuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHdpZHRoOiBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOmdldCcsICdlZGl0b3I6bGF5b3V0OmhpZXJhcmNoeTp3aWR0aCcpIHx8IDI1NixcclxuICAgICAgICAgICAgcGFuZWxUeXBlOiAnbm9ybWFsJyxcclxuICAgICAgICAgICAgY29sbGFwc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbGxhcHNlSG9yaXpvbnRhbGx5OiB0cnVlLFxyXG4gICAgICAgICAgICBjb2xsYXBzZWQ6IGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6Z2V0JywgJ2VkaXRvcjpsYXlvdXQ6aGllcmFyY2h5OmNvbGxhcHNlJykgfHwgd2luZG93LmlubmVyV2lkdGggPD0gNDgwLFxyXG4gICAgICAgICAgICBzY3JvbGxhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICByZXNpemFibGU6ICdyaWdodCcsXHJcbiAgICAgICAgICAgIHJlc2l6ZU1pbjogMTk2LFxyXG4gICAgICAgICAgICByZXNpemVNYXg6IDUxMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBoaWVyYXJjaHlQYW5lbC5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOnNldCcsICdlZGl0b3I6bGF5b3V0OmhpZXJhcmNoeTp3aWR0aCcsIGhpZXJhcmNoeVBhbmVsLndpZHRoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBoaWVyYXJjaHlQYW5lbC5vbignY29sbGFwc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjpsYXlvdXQ6aGllcmFyY2h5OmNvbGxhcHNlJywgdHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaGllcmFyY2h5UGFuZWwub24oJ2V4cGFuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpzZXQnLCAnZWRpdG9yOmxheW91dDpoaWVyYXJjaHk6Y29sbGFwc2UnLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJvb3QuYXBwZW5kKGhpZXJhcmNoeVBhbmVsKTtcclxuICAgICAgICAvLyBleHBvc2VcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdsYXlvdXQuaGllcmFyY2h5JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gaGllcmFyY2h5UGFuZWw7IH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOndyaXRlU3RhdGUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgaGllcmFyY2h5UGFuZWwuZW5hYmxlZCA9IHN0YXRlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFZlcnlFbmdpbmUuaGllcmFyY2h5ID0gaGllcmFyY2h5UGFuZWw7XHJcblxyXG5cclxuICAgICAgICAvLyB2aWV3cG9ydFxyXG4gICAgICAgIHZhciB2aWV3cG9ydCA9IG5ldyBUb3BFbGVtZW50Q29udGFpbmVyKHtcclxuICAgICAgICAgICAgaWQ6ICdsYXlvdXQtdmlld3BvcnQnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmlld3BvcnQuY2xhc3MhLmFkZCgndmlld3BvcnQnKTtcclxuICAgICAgICByb290LmFwcGVuZCh2aWV3cG9ydCk7XHJcbiAgICAgICAgLy8gZXhwb3NlXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnbGF5b3V0LnZpZXdwb3J0JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdmlld3BvcnQ7IH0pO1xyXG4gICAgICAgIFZlcnlFbmdpbmUudmlld3BvcnRQYW5lbCA9IHZpZXdwb3J0O1xyXG5cclxuICAgICAgICAvLyBhc3NldHNcclxuICAgICAgICB2YXIgYXNzZXRzUGFuZWwgPSBuZXcgVG9wRWxlbWVudFBhbmVsKHtcclxuICAgICAgICAgICAgaWQ6ICdsYXlvdXQtYXNzZXRzJyxcclxuICAgICAgICAgICAgaGVhZGVyVGV4dDogJ+i1hOa6kOmdouadvycsXHJcbiAgICAgICAgICAgIGZsZXg6IHRydWUsXHJcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxyXG4gICAgICAgICAgICBwYW5lbFR5cGU6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICBjb2xsYXBzaWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29sbGFwc2VkOiBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOmdldCcsICdlZGl0b3I6bGF5b3V0OmFzc2V0czpjb2xsYXBzZScpIHx8IHdpbmRvdy5pbm5lckhlaWdodCA8PSA0ODAsXHJcbiAgICAgICAgICAgIGhlaWdodDogZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpnZXQnLCAnZWRpdG9yOmxheW91dDphc3NldHM6aGVpZ2h0JykgfHwgMjEyLFxyXG4gICAgICAgICAgICBzY3JvbGxhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICByZXNpemFibGU6ICd0b3AnLFxyXG4gICAgICAgICAgICByZXNpemVNaW46IDEwNixcclxuICAgICAgICAgICAgcmVzaXplTWF4OiAxMDYgKiA2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXNzZXRzUGFuZWwuY2xhc3MhLmFkZCgnYXNzZXRzJyk7XHJcblxyXG4gICAgICAgIGFzc2V0c1BhbmVsLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjpsYXlvdXQ6YXNzZXRzOmhlaWdodCcsIGFzc2V0c1BhbmVsLmhlaWdodCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXNzZXRzUGFuZWwub24oJ2NvbGxhcHNlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOnNldCcsICdlZGl0b3I6bGF5b3V0OmFzc2V0czpjb2xsYXBzZScsIHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFzc2V0c1BhbmVsLm9uKCdleHBhbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdsb2NhbFN0b3JhZ2U6c2V0JywgJ2VkaXRvcjpsYXlvdXQ6YXNzZXRzOmNvbGxhcHNlJywgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByb290LmFwcGVuZChhc3NldHNQYW5lbCk7XHJcbiAgICAgICAgLy8gZXhwb3NlXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnbGF5b3V0LmFzc2V0cycsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFzc2V0c1BhbmVsOyB9KTtcclxuICAgICAgICBWZXJ5RW5naW5lLmFzc2V0cyA9IGFzc2V0c1BhbmVsO1xyXG5cclxuICAgICAgICAvLyBhdHRyaWJ1dGVzXHJcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXNQYW5lbCA9IG5ldyBUb3BFbGVtZW50UGFuZWwoe1xyXG4gICAgICAgICAgICBpZDogJ2xheW91dC1hdHRyaWJ1dGVzJyxcclxuICAgICAgICAgICAgaGVhZGVyVGV4dDogJ0lOU1BFQ1RPUicsXHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYW5lbFR5cGU6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICB3aWR0aDogZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpnZXQnLCAnZWRpdG9yOmxheW91dDphdHRyaWJ1dGVzOndpZHRoJykgfHwgMzIwLFxyXG4gICAgICAgICAgICBjb2xsYXBzaWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29sbGFwc2VIb3Jpem9udGFsbHk6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbGxhcHNlZDogZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpnZXQnLCAnZWRpdG9yOmxheW91dDphdHRyaWJ1dGVzOmNvbGxhcHNlJykgfHwgZmFsc2UsXHJcbiAgICAgICAgICAgIHNjcm9sbGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHJlc2l6YWJsZTogJ2xlZnQnLFxyXG4gICAgICAgICAgICByZXNpemVNaW46IDI1NixcclxuICAgICAgICAgICAgcmVzaXplTWF4OiA1MTJcclxuICAgICAgICB9KTtcclxuICAgICAgICBhdHRyaWJ1dGVzUGFuZWwuY2xhc3MhLmFkZCgnYXR0cmlidXRlcycpO1xyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzUGFuZWwub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpzZXQnLCAnZWRpdG9yOmxheW91dDphdHRyaWJ1dGVzOndpZHRoJywgYXR0cmlidXRlc1BhbmVsLndpZHRoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhdHRyaWJ1dGVzUGFuZWwub24oJ2NvbGxhcHNlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnbG9jYWxTdG9yYWdlOnNldCcsICdlZGl0b3I6bGF5b3V0OmF0dHJpYnV0ZXM6Y29sbGFwc2UnLCB0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhdHRyaWJ1dGVzUGFuZWwub24oJ2V4cGFuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2xvY2FsU3RvcmFnZTpzZXQnLCAnZWRpdG9yOmxheW91dDphdHRyaWJ1dGVzOmNvbGxhcHNlJywgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByb290LmFwcGVuZChhdHRyaWJ1dGVzUGFuZWwpO1xyXG4gICAgICAgIC8vIGV4cG9zZVxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2xheW91dC5hdHRyaWJ1dGVzJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYXR0cmlidXRlc1BhbmVsOyB9KTtcclxuICAgICAgICBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOndyaXRlU3RhdGUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlc1BhbmVsLmVuYWJsZWQgPSBzdGF0ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBWZXJ5RW5naW5lLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzUGFuZWw7XHJcblxyXG4gICAgICAgIC8vIHN0YXR1cyBiYXJcclxuICAgICAgICB2YXIgc3RhdHVzQmFyID0gbmV3IFRvcEVsZW1lbnRDb250YWluZXIoe1xyXG4gICAgICAgICAgICBpZDogJ2xheW91dC1zdGF0dXNiYXInLFxyXG4gICAgICAgICAgICBmbGV4OiB0cnVlLFxyXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJvb3QuYXBwZW5kKHN0YXR1c0Jhcik7XHJcbiAgICAgICAgLy8gZXhwb3NlXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnbGF5b3V0LnN0YXR1c0JhcicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXR1c0JhcjsgfSk7XHJcbiAgICAgICAgVmVyeUVuZ2luZS5zdGF0dXNCYXIgPSBzdGF0dXNCYXI7XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA3MjApIHtcclxuICAgICAgICAgICAgLy8gYXR0cmlidXRlc1BhbmVsLmZvbGRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignZm9sZGVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICB9XHJcblxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2Uge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyBHZXQgYSBrZXkgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2xvY2FsU3RvcmFnZTpnZXQnLCBmdW5jdGlvbiAoa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgYSBrZXktdmFsdWUgcGFpciBpbiBsb2NhbFN0b3JhZ2VcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdsb2NhbFN0b3JhZ2U6c2V0JywgZnVuY3Rpb24gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBrZXkgZXhpc3RzIGluIHRoZSBsb2NhbCBzdG9yYWdlXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnbG9jYWxTdG9yYWdlOmhhcycsIGZ1bmN0aW9uIChrZXk6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSBcIi4vdHJhbnNmb3JtXCI7XHJcbmltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tIFwiLi9nYW1lb2JqZWN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcclxuXHJcblxyXG4gIHB1YmxpYyBnZXQgdHJhbnNmb3JtKCk6IFRyYW5zZm9ybSB7XHJcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBnYW1lT2JqZWN0KCk6IEdhbWVPYmplY3Qge1xyXG4gICAgcmV0dXJuIG5ldyBHYW1lT2JqZWN0KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHRhZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBjYW1lcmEoKTogQ29tcG9uZW50IHtcclxuICAgIHJldHVybiBuZXcgQ29tcG9uZW50KCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGdldCBsaWdodCgpOiBDb21wb25lbnQge1xyXG4gICAgcmV0dXJuIG5ldyBDb21wb25lbnQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcmVuZGVyZXIoKTogQ29tcG9uZW50IHtcclxuICAgIHJldHVybiBuZXcgQ29tcG9uZW50KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGNvbGxpZGVyKCk6IENvbXBvbmVudCB7XHJcbiAgICByZXR1cm4gbmV3IENvbXBvbmVudCgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tIFwiLi90cmFuc2Zvcm1cIjtcclxuaW1wb3J0IHsgQmFieWxvbkVuZ2luZSB9IGZyb20gXCIuLi8uLi9lbmdpbmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lT2JqZWN0IHtcclxuXHJcblxyXG4gIHB1YmxpYyBnZXQgZ2FtZU9iamVjdCgpOiBHYW1lT2JqZWN0IHtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB0cmFuc2Zvcm0oKTogVHJhbnNmb3JtIHtcclxuICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm07XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgdHJhbnNmb3JtKHZhbDogVHJhbnNmb3JtKSB7XHJcbiAgICB0aGlzLl90cmFuc2Zvcm0gPSB2YWw7XHJcbiAgfVxyXG4gIHByaXZhdGUgX3RyYW5zZm9ybTogVHJhbnNmb3JtO1xyXG5cclxuICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5uYW1lO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IG5hbWUodmFsOiBzdHJpbmcpIHtcclxuICAgIHRoaXMudHJhbnNmb3JtLm5hbWUgPSB2YWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9ndWlkOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgZ2V0IGd1aWQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9ndWlkO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGd1aWQodmFsOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuX2d1aWQgPSB2YWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzRW1wdHkoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtLmlzRW1wdHk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IG1lc2goKTogTnVsbGFibGU8QkFCWUxPTi5BYnN0cmFjdE1lc2g+IHtcclxuICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm0ubWVzaDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3RhZzogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIGdldCB0YWcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl90YWc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgdGFnKHZhbDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl90YWcgPSB2YWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzQWN0aXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNFbXB0eSA/IGZhbHNlIDogdGhpcy50cmFuc2Zvcm0udHJhbnNmb3JtTm9kZSEuaXNFbmFibGVkKCk7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihuYW1lPzogc3RyaW5nLCBtZXNoOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4gPSBudWxsLCBub2RlOiBOdWxsYWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+ID0gbnVsbCkge1xyXG4gICAgaWYgKG1lc2gpIHtcclxuICAgICAgdGhpcy5fdHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgnJywgbWVzaCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oJycsIG51bGwsIG5vZGUpO1xyXG4gICAgICB9IGVsc2UgaWYgKG5hbWUpIHtcclxuICAgICAgICB0aGlzLl90cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKG5hbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVE9ET1xyXG4gIHB1YmxpYyBzdGF0aWMgRmluZChuYW1lOiBzdHJpbmcsIHNjZW5lPzogQkFCWUxPTi5TY2VuZSk6IE51bGxhYmxlPEdhbWVPYmplY3Q+IHtcclxuICAgIGlmICghc2NlbmUpIHtcclxuICAgICAgc2NlbmUgPSBCYWJ5bG9uRW5naW5lLlNjZW5lO1xyXG4gICAgfVxyXG4gICAgbGV0IG5vZGU6IE51bGxhYmxlPEJBQllMT04uTm9kZT4gPSBzY2VuZS5nZXROb2RlQnlOYW1lKG5hbWUpO1xyXG4gICAgaWYgKCFub2RlKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCQUJZTE9OLkFic3RyYWN0TWVzaCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgR2FtZU9iamVjdCgnJywgPEJBQllMT04uQWJzdHJhY3RNZXNoPm5vZGUpO1xyXG4gICAgICB9IGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEdhbWVPYmplY3QoJycsIG51bGwsIDxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+bm9kZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignR2FtZU9iamVjdC5GaW5k5Ye95pWw5p+l5om+5Yiw5LiN5pSv5oyB55qE57G75Z6L77yaJyArIG5vZGUuZ2V0Q2xhc3NOYW1lKCkpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgRmluZEdhbWVPYmplY3RXaXRoVGFnKHRhZzogc3RyaW5nKTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBGaW5kR2FtZU9iamVjdHNXaXRoVGFnKHRhZzogc3RyaW5nKTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbiAgLy8gVE9ET1xyXG4gIHB1YmxpYyBzdGF0aWMgRGVzdHJveShvYmo6IEdhbWVPYmplY3QpOiB2b2lkIHtcclxuICAgIGlmIChvYmopIHtcclxuICAgICAgb2JqLnRyYW5zZm9ybS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIHN0YXRpYyBDcmVhdGVJbnN0YW5jZShnYW1lX29iamVjdDogR2FtZU9iamVjdCk6IE51bGxhYmxlPEdhbWVPYmplY3Q+IHtcclxuICAgIGlmICghZ2FtZV9vYmplY3QpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGdhbWVfb2JqZWN0LmlzRW1wdHkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBHYW1lT2JqZWN0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZ2FtZV9vYmplY3QudHJhbnNmb3JtLm1lc2gpIHtcclxuICAgICAgICBsZXQgdGVtcE1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoO1xyXG4gICAgICAgIGlmIChnYW1lX29iamVjdC50cmFuc2Zvcm0ubWVzaCBpbnN0YW5jZW9mIEJBQllMT04uTWVzaCkge1xyXG4gICAgICAgICAgdGVtcE1lc2ggPSAoPEJBQllMT04uTWVzaD5nYW1lX29iamVjdC50cmFuc2Zvcm0ubWVzaCkuY3JlYXRlSW5zdGFuY2UoZ2FtZV9vYmplY3QubmFtZSArICdfaW5zdGFuY2UnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGVtcE1lc2ggPSAoPEJBQllMT04uSW5zdGFuY2VkTWVzaD5nYW1lX29iamVjdC50cmFuc2Zvcm0ubWVzaCkuc291cmNlTWVzaC5jcmVhdGVJbnN0YW5jZShnYW1lX29iamVjdC5uYW1lICsgJ19pbnN0YW5jZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEdhbWVPYmplY3QoJycsIHRlbXBNZXNoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgbmV3Tm9kZTogTnVsbGFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPiA9IGdhbWVfb2JqZWN0LnRyYW5zZm9ybS50cmFuc2Zvcm1Ob2RlIS5jbG9uZShnYW1lX29iamVjdC5uYW1lICsgJ19pbnRhbmNlJyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHYW1lT2JqZWN0KCcnLCBudWxsLCBuZXdOb2RlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBhZGRNZXNoKG1lc2g6IEJBQllMT04uQWJzdHJhY3RNZXNoKTogdm9pZCB7XHJcbiAgICAvLyDliKDpmaTnqbrniankvZNcclxuICAgIGlmICh0aGlzLl90cmFuc2Zvcm0ubWVzaCA9PT0gbnVsbCAmJiB0aGlzLl90cmFuc2Zvcm0udHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICB0aGlzLl90cmFuc2Zvcm0udHJhbnNmb3JtTm9kZS5kaXNwb3NlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl90cmFuc2Zvcm0ubWVzaCA9IG1lc2g7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0QWN0aXZlKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldEFjdGl2ZVJlY3Vyc2l2ZWx5KHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBBZGRDb21wb25lbnQoKTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbiAgLy8gcHVibGljIHN0YXRpYyBlbXB0eShuYW1lOiBzdHJpbmcpOiBHYW1lT2JqZWN0IHtcclxuXHJcbiAgLy8gfVxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vdHJhbnNmb3JtJztcclxuZXhwb3J0ICogZnJvbSAnLi9nYW1lb2JqZWN0JztcclxuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3Jlc291cmNlLWNvbnRhaW5lcic7IiwiaW1wb3J0IHsgVG9vbHMsIEFqYXhSZXF1ZXN0LCBBamF4LCBHVUlEIH0gZnJvbSBcIi4uLy4uLy4uL2VkaXRvci91dGlsaXR5XCI7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uLy4uLy4uL2xpYlwiO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZVwiO1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tIFwiLi4vLi4vLi4vZWRpdG9yL2dsb2JhbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhYnlsb25Mb2FkZXIge1xyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHByZWZpeDogc3RyaW5nID0gJy9hc3NldHMvJztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzc2V0c0RhdGE6IGFueSA9IHt9O1xyXG4gICAgcHVibGljIHN0YXRpYyBwcm9qZWN0RGF0YTogYW55ID0ge307XHJcbiAgICBwdWJsaWMgc3RhdGljIHNjZW5lc0RhdGE6IGFueSA9IHt9O1xyXG4gICAgcHVibGljIHN0YXRpYyBzY2VuZUluZGV4OiBudW1iZXIgPSAwO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJhYnlsb25DYWNoZURhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuICAgIHB1YmxpYyBzdGF0aWMgYmFieWxvblBhcnNlZERhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZEZyb21CYWJ5bG9uQXNzZXQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRCYWJ5bG9uKGFzc2V0OiBPYnNlcnZlcikge1xyXG4gICAgICAgIGxldCBhc3NldElEOiBzdHJpbmcgPSBhc3NldC5nZXQoJ2lkJyk7XHJcbiAgICAgICAgbGV0IGRhdGFCYWJ5bG9uOiBhbnkgPSBudWxsO1xyXG4gICAgICAgIGlmIChCYWJ5bG9uTG9hZGVyLmJhYnlsb25DYWNoZURhdGFbYXNzZXRJRF0pIHtcclxuICAgICAgICAgICAgZGF0YUJhYnlsb24gPSBCYWJ5bG9uTG9hZGVyLmJhYnlsb25DYWNoZURhdGFbYXNzZXRJRF07XHJcbiAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIucGFyc2VCYWJ5bG9uKGFzc2V0SUQsIGRhdGFCYWJ5bG9uKTtcclxuICAgICAgICAgICAgQmFieWxvbkxvYWRlci5hc3NlbWJsZUJhYnlsb24oYXNzZXRJRCwgZGF0YUJhYnlsb24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhMSA9IHtcclxuICAgICAgICAgICAgICAgIHVybDogQmFieWxvbkxvYWRlci5wcmVmaXggKyBhc3NldC5nZXQoJ2lkJykgKyAnLycgKyBhc3NldC5nZXQoJ25hbWUnKSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICAvLyBhdXRoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgIGlnbm9yZUNvbnRlbnRUeXBlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLy8gaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyDnm7TmjqXov5Tlm55iYWJ5bG9uIGpzb27moLzlvI/lhoXlrrnmlbDmja5cclxuICAgICAgICAgICAgKDxBamF4UmVxdWVzdD5uZXcgQWpheChkYXRhMSkpXHJcbiAgICAgICAgICAgICAgICAub24oJ2xvYWQnLCAoc3RhdHVzOiBhbnksIGRhdGE6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhQmFieWxvbiA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci5iYWJ5bG9uQ2FjaGVEYXRhW2Fzc2V0SURdID0gZGF0YUJhYnlsb247XHJcbiAgICAgICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci5wYXJzZUJhYnlsb24oYXNzZXRJRCwgZGF0YUJhYnlsb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIuYXNzZW1ibGVCYWJ5bG9uKGFzc2V0SUQsIGRhdGFCYWJ5bG9uKTtcclxuICAgICAgICAgICAgICAgIH0pLm9uKCdlcnJvcicsIChldnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXZ0KTtcclxuICAgICAgICAgICAgICAgIH0pOztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXNzZW1ibGVCYWJ5bG9uKGFzc2V0SUQ6IHN0cmluZywgZGF0YUJhYnlsb246IGFueSkge1xyXG4gICAgICAgIGlmIChkYXRhQmFieWxvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZGF0YUJhYnlsb24pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhQmFieWxvbi5tZXNoZXMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhQmFieWxvbi5tYXRlcmlhbHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhQmFieWxvbi5saWdodHMpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKGRhdGFCYWJ5bG9uLmxpZ2h0cykge1xyXG4gICAgICAgICAgICAvLyAgICAgZGF0YUJhYnlsb24ubGlnaHRzLmZvckVhY2goKGVsZW1lbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIEJhYnlsb25Mb2FkZXIubG9hZExpZ2h0KGVsZW1lbnQsIFZlcnlFbmdpbmUudmlld1NjZW5lKTtcclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAvLyBtYXRlcmlhbCBhc3NlbWJsZVxyXG4gICAgICAgICAgICBpZiAoQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmJhYnlsb25bYXNzZXRJRF0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBtYXRzID0gQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmJhYnlsb25bYXNzZXRJRF1bJ21hdGVyaWFscyddO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld01hdHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBtYXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdHNba2V5XS5hc3NldF9pZCAmJiBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW21hdHNba2V5XS5hc3NldF9pZF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld01hdCA9IEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbWF0c1trZXldLmFzc2V0X2lkXS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDmo4DmtYt0ZXh0dXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQuZGlmZnVzZVRleHR1cmUgJiYgbmV3TWF0LmRpZmZ1c2VUZXh0dXJlLnRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hdC5kaWZmdXNlVGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQuZGlmZnVzZVRleHR1cmUudGV4dHVyZV9pZCArICcvJyArIEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbmV3TWF0LmRpZmZ1c2VUZXh0dXJlLnRleHR1cmVfaWRdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4obmV3TWF0LmRpZmZ1c2VUZXh0dXJlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQuc3BlY3VsYXJUZXh0dXJlICYmIG5ld01hdC5zcGVjdWxhclRleHR1cmUudGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWF0LnNwZWN1bGFyVGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQuc3BlY3VsYXJUZXh0dXJlLnRleHR1cmVfaWQgKyAnLycgKyBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW25ld01hdC5zcGVjdWxhclRleHR1cmUudGV4dHVyZV9pZF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3TWF0LnJlZmxlY3Rpb25UZXh0dXJlICYmIG5ld01hdC5yZWZsZWN0aW9uVGV4dHVyZS50ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXQucmVmbGVjdGlvblRleHR1cmUubmFtZSA9IEJhYnlsb25Mb2FkZXIucHJlZml4ICsgbmV3TWF0LnJlZmxlY3Rpb25UZXh0dXJlLnRleHR1cmVfaWQgKyAnLycgKyBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW25ld01hdC5yZWZsZWN0aW9uVGV4dHVyZS50ZXh0dXJlX2lkXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQucmVmcmFjdGlvblRleHR1cmUgJiYgbmV3TWF0LnJlZnJhY3Rpb25UZXh0dXJlLnRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hdC5yZWZyYWN0aW9uVGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQucmVmcmFjdGlvblRleHR1cmUudGV4dHVyZV9pZCArICcvJyArIEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbmV3TWF0LnJlZnJhY3Rpb25UZXh0dXJlLnRleHR1cmVfaWRdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld01hdC5lbWlzc2l2ZVRleHR1cmUgJiYgbmV3TWF0LmVtaXNzaXZlVGV4dHVyZS50ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXQuZW1pc3NpdmVUZXh0dXJlLm5hbWUgPSBCYWJ5bG9uTG9hZGVyLnByZWZpeCArIG5ld01hdC5lbWlzc2l2ZVRleHR1cmUudGV4dHVyZV9pZCArICcvJyArIEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbmV3TWF0LmVtaXNzaXZlVGV4dHVyZS50ZXh0dXJlX2lkXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQuYnVtcFRleHR1cmUgJiYgbmV3TWF0LmJ1bXBUZXh0dXJlLnRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hdC5idW1wVGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQuYnVtcFRleHR1cmUudGV4dHVyZV9pZCArICcvJyArIEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbmV3TWF0LmJ1bXBUZXh0dXJlLnRleHR1cmVfaWRdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld01hdC5vcGFjaXR5VGV4dHVyZSAmJiBuZXdNYXQub3BhY2l0eVRleHR1cmUudGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWF0Lm9wYWNpdHlUZXh0dXJlLm5hbWUgPSBCYWJ5bG9uTG9hZGVyLnByZWZpeCArIG5ld01hdC5vcGFjaXR5VGV4dHVyZS50ZXh0dXJlX2lkICsgJy8nICsgQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmFzc2V0c1tuZXdNYXQub3BhY2l0eVRleHR1cmUudGV4dHVyZV9pZF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3TWF0LmFtYmllbnRUZXh0dXJlICYmIG5ld01hdC5hbWJpZW50VGV4dHVyZS50ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXQuYW1iaWVudFRleHR1cmUubmFtZSA9IEJhYnlsb25Mb2FkZXIucHJlZml4ICsgbmV3TWF0LmFtYmllbnRUZXh0dXJlLnRleHR1cmVfaWQgKyAnLycgKyBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW25ld01hdC5hbWJpZW50VGV4dHVyZS50ZXh0dXJlX2lkXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQubGlnaHRtYXBUZXh0dXJlICYmIG5ld01hdC5saWdodG1hcFRleHR1cmUudGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWF0LmxpZ2h0bWFwVGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQubGlnaHRtYXBUZXh0dXJlLnRleHR1cmVfaWQgKyAnLycgKyBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW25ld01hdC5saWdodG1hcFRleHR1cmUudGV4dHVyZV9pZF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWF0cy5wdXNoKG5ld01hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG5ld01hdHMuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBCYWJ5bG9uTG9hZGVyLmxvYWRNYXRlcmlhbChlbGVtZW50LCBWZXJ5RW5naW5lLnZpZXdTY2VuZSwgJycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGdlb21ldHJpZXMgYXNzZW1ibGVcclxuICAgICAgICAgICAgaWYgKGRhdGFCYWJ5bG9uLmdlb21ldHJpZXMgJiYgZGF0YUJhYnlsb24uZ2VvbWV0cmllcy52ZXJ0ZXhEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhQmFieWxvbi5nZW9tZXRyaWVzLnZlcnRleERhdGEuYXJyYXkuZm9yRWFjaCgocGFyc2VkVmVydGV4RGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci5sb2FkR2VvbWV0cnkocGFyc2VkVmVydGV4RGF0YSwgVmVyeUVuZ2luZS52aWV3U2NlbmUsICcnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm1Ob2RlIGFzc2VtYmxlXHJcbiAgICAgICAgICAgIGxldCBuZXdUcmFuc2Zvcm1Ob2RlczogTnVsbGFibGU8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPltdID0gW107XHJcbiAgICAgICAgICAgIGlmIChkYXRhQmFieWxvbi50cmFuc2Zvcm1Ob2Rlcykge1xyXG4gICAgICAgICAgICAgICAgZGF0YUJhYnlsb24udHJhbnNmb3JtTm9kZXMuZm9yRWFjaCgocGFyc2VkVHJhbnNmb3JtTm9kZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBCYWJ5bG9uTG9hZGVyLmxvYWRUcmFuc2Zvcm1Ob2RlKHBhcnNlZFRyYW5zZm9ybU5vZGUsIFZlcnlFbmdpbmUudmlld1NjZW5lLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VHJhbnNmb3JtTm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBtZXNoIGFzc2VtYmxlXHJcbiAgICAgICAgICAgIGxldCBuZXdNZXNoZXM6IE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPltdID0gW107XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnRNZXNoZXM6IE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPltdID0gW107XHJcblxyXG4gICAgICAgICAgICBsZXQgdGVtcE1lc2hEaWM6IHsgW2tleTogc3RyaW5nXTogTnVsbGFibGU8QkFCWUxPTi5BYnN0cmFjdE1lc2g+IH0gPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGxldCB0ZW1wTWVzaElEOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YUJhYnlsb24ubWVzaGVzKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhQmFieWxvbi5tZXNoZXMuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6Iul5b2T5YmNc2NlbmXmlbDmja7kuK3lt7LljIXlkKttZXNoIGlk77yM5YiZ6YeN5paw5Yib5bu6cmVzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQmFieWxvbkxvYWRlci5zY2VuZXNEYXRhLmVudGl0aWVzW2VsZW1lbnQuaWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJRCA9IEdVSUQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvbGRJRCA9IGVsZW1lbnQuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRbJ2JhYnlsb25faWQnXSA9IG9sZElEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wTWVzaElEW25ld0lEXSA9IG9sZElEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlkID0gbmV3SUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOmBjeWOhu+8jOabtOaUuXBhcmVudElEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFCYWJ5bG9uLm1lc2hlcy5mb3JFYWNoKChlbGVtZW50MjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudDIucGFyZW50SWQgPT09IG9sZElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDIucGFyZW50SWQgPSBuZXdJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2hhbmdlIHBhcmVudCBpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wTWVzaElEW2VsZW1lbnQuaWRdID0gZWxlbWVudC5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudFsnYmFieWxvbl9pZCddID0gZWxlbWVudC5pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRhdGFCYWJ5bG9uLm1lc2hlcy5mb3JFYWNoKChlbGVtZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcE1lc2ggPSBCYWJ5bG9uTG9hZGVyLmxvYWRNZXNoKGVsZW1lbnQsIFZlcnlFbmdpbmUudmlld1NjZW5lLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3TWVzaGVzLnB1c2godGVtcE1lc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBNZXNoRGljW2VsZW1lbnQuaWRdID0gdGVtcE1lc2g7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcGFyZW50IFxyXG4gICAgICAgICAgICAvLyBUT0RPOiDoi6XkuI3kuLpyb29077yM5YiZbWVzaOi/memHjOS5n+imgeiuvuWumueItuWtkOWFs+ezu++8jHBhcmVudOS4um51bGzliJnkuLrlvZPliY3pgInkuK3niankvZNcclxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnROb2RlOiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGVkaXRvci5jYWxsKCdzZWxlY3Rvcjp0eXBlJykgPT09ICdlbnRpdHknKVxyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJylbMF07XHJcblxyXG4gICAgICAgICAgICBpZiAoIXBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnJvb3QnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihwYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKHBhcmVudC5ub2RlKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQubm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnQubm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBlbnRpdGllczogYW55W10gPSBbXTtcclxuICAgICAgICAgICAgdmFyIGRhdGE6IGFueVtdID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiDov5jmsqHmnInogIPomZHmnIl0cmFuc2Zvcm1Ob2Rl5pWw5o2u55qE5oOF5Ya1XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgY2FjaGUgPSBuZXdUcmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1Ob2RlID0gbmV3VHJhbnNmb3JtTm9kZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5vZGUgJiYgdHJhbnNmb3JtTm9kZS5fd2FpdGluZ1BhcmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZS5wYXJlbnQgPSBWZXJ5RW5naW5lLnZpZXdTY2VuZS5nZXRMYXN0RW50cnlCeUlEKHRyYW5zZm9ybU5vZGUuX3dhaXRpbmdQYXJlbnRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtTm9kZS5fd2FpdGluZ1BhcmVudElkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5ld01lc2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld01lc2hlc1tpXSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdNZXNoZXNbaV0hLl93YWl0aW5nUGFyZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBNZXNoRGljW25ld01lc2hlc1tpXSEuX3dhaXRpbmdQYXJlbnRJZCFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNZXNoZXNbaV0hLnBhcmVudCA9IHRlbXBNZXNoRGljW25ld01lc2hlc1tpXSEuX3dhaXRpbmdQYXJlbnRJZCFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWVzaGVzW2ldIS5wYXJlbnQgPSBwYXJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TWVzaGVzLnB1c2gobmV3TWVzaGVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld01lc2hlc1tpXSEucGFyZW50ID0gcGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TWVzaGVzLnB1c2gobmV3TWVzaGVzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3TWVzaGVzW2ldIS5fd2FpdGluZ1BhcmVudElkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4obmV3TWVzaGVzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmVudE1lc2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci5tZXNoUGFyc2VSZWN1cnNpb24ocGFyZW50TWVzaGVzW2ldLCBhc3NldElELCB0ZW1wTWVzaElELCBlbnRpdGllcywgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoaXN0b3J5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgJ2VudGl0eScsIFtlZGl0b3IuY2FsbCgnZW50aXRpZXM6Z2V0JywgcGFyZW50TWVzaGVzWzBdPy5pZCldKTtcclxuICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ3NlbGVjdG9yOmNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoaXN0b3J5JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ21ha2U6c2NlbmU6ZGlydHknKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBlZGl0b3IuZW1pdCgnZW50aXRpZXM6bG9hZCcsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgLy8gVmVyeUVuZ2luZS52aWV3U2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQocG9pbnRlckluZm8gPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgc3dpdGNoIChwb2ludGVySW5mby50eXBlKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgY2FzZSBCQUJZTE9OLlBvaW50ZXJFdmVudFR5cGVzLlBPSU5URVJET1dOOlxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZG93bicpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAocG9pbnRlckluZm8hLnBpY2tJbmZvIS5waWNrZWRNZXNoICE9IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdwaWNrJywgcG9pbnRlckluZm8hLnBpY2tJbmZvIS5waWNrZWRNZXNoKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdwaWNrJywgbnVsbCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9pbnRlckluZm8hLnBpY2tJbmZvIS5waWNrZWRNZXNoKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZUJhYnlsb24oYXNzZXRJRDogc3RyaW5nLCBiYWJ5bG9uRGF0YTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGJhYnlsb25EYXRhKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJzZWREYXRhOiBhbnkgPSB7fTtcclxuICAgICAgICAgICAgLy8g5p2Q6LSoXHJcbiAgICAgICAgICAgIGlmIChiYWJ5bG9uRGF0YS5tYXRlcmlhbHMpIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlZERhdGEubWF0ZXJpYWxzID0ge307XHJcbiAgICAgICAgICAgICAgICBiYWJ5bG9uRGF0YS5tYXRlcmlhbHMuZm9yRWFjaCgobWF0ZXJpYWw6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGEubWF0ZXJpYWxzW21hdGVyaWFsLmlkXSA9IG1hdGVyaWFsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZ2VvbWV0cmllc1xyXG4gICAgICAgICAgICBpZiAoYmFieWxvbkRhdGEuZ2VvbWV0cmllcyAmJiBiYWJ5bG9uRGF0YS5nZW9tZXRyaWVzLnZlcnRleERhdGEpIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlZERhdGEuZ2VvbWV0cmllcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgYmFieWxvbkRhdGEuZ2VvbWV0cmllcy52ZXJ0ZXhEYXRhLmZvckVhY2goKGdlb21ldHJ5OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRhLmdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBtZXNoXHJcbiAgICAgICAgICAgIGlmIChiYWJ5bG9uRGF0YS5tZXNoZXMpIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlZERhdGEubWVzaGVzID0ge307XHJcbiAgICAgICAgICAgICAgICBiYWJ5bG9uRGF0YS5tZXNoZXMuZm9yRWFjaCgobWVzaDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0YS5tZXNoZXNbbWVzaC5pZF0gPSBtZXNoO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdHJhbnNmb3JtTm9kZXNcclxuICAgICAgICAgICAgaWYgKGJhYnlsb25EYXRhLnRyYW5zZm9ybU5vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJzZWREYXRhLnRyYW5zZm9ybU5vZGVzID0ge307XHJcbiAgICAgICAgICAgICAgICBiYWJ5bG9uRGF0YS50cmFuc2Zvcm1Ob2Rlcy5mb3JFYWNoKCh0cmFuc2Zvcm1Ob2RlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRhLnRyYW5zZm9ybU5vZGVzW3RyYW5zZm9ybU5vZGUuaWRdID0gdHJhbnNmb3JtTm9kZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIuYmFieWxvblBhcnNlZERhdGFbYXNzZXRJRF0gPSBwYXJzZWREYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGhhc0JhYnlsb2JEYXRhKGFzc2V0SUQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBhc3NldElEIGluIEJhYnlsb25Mb2FkZXIuYmFieWxvbkNhY2hlRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhYnlsb25EYXRhKGFzc2V0SUQ6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgaWYgKGFzc2V0SUQgaW4gQmFieWxvbkxvYWRlci5iYWJ5bG9uQ2FjaGVEYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCYWJ5bG9uTG9hZGVyLmJhYnlsb25DYWNoZURhdGFbYXNzZXRJRF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaGFzUGFyc2VkQmFieWxvbkRhdGEoYXNzZXRJRDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGFzc2V0SUQgaW4gQmFieWxvbkxvYWRlci5iYWJ5bG9uUGFyc2VkRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFBhcnNlZEJhYnlsb25EYXRhKGFzc2V0SUQ6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgaWYgKGFzc2V0SUQgaW4gQmFieWxvbkxvYWRlci5iYWJ5bG9uUGFyc2VkRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQmFieWxvbkxvYWRlci5iYWJ5bG9uUGFyc2VkRGF0YVthc3NldElEXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIG1lc2hQYXJzZVJlY3Vyc2lvbihtZXNoOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4sIGFzc2V0SUQ6IHN0cmluZywgdGVtcE1lc2hJRDogYW55LCBlbnRpdGllczogYW55W10sIGRhdGE6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKG1lc2gpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBwYXJlbnRJRDogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChtZXNoLnBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50SUQgPSBtZXNoLnBhcmVudCEuaWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm9vdCA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpyb290Jyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRJRCA9IHJvb3QuZ2V0KCdyZXNvdXJjZV9pZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gcm9vdC5pbnNlcnQoJ2NoaWxkcmVuJywgbWVzaC5pZCk7XHJcbiAgICAgICAgICAgICAgICAvLyBCYWJ5bG9uTG9hZGVyLnVwZGF0ZVNjZW5lRGF0YShwYXJlbnRJRCwgcm9vdC5fZGF0YTIpO1xyXG4gICAgICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ21ha2U6c2NlbmU6ZGlydHknKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGNoaWxkcyA9IG1lc2guZ2V0Q2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdmFyIG15Q2hpbGRyZW4gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjaGlsZHMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgIG15Q2hpbGRyZW4ucHVzaChjaGlsZHNba10uaWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZXVsZXJBbmdsZSA9IFRvb2xzLnJhZGlhblRvRXVsZXJBbmdsZShtZXNoLnJvdGF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBlbnRpdHlEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogbWVzaC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IG1lc2guaWQsXHJcbiAgICAgICAgICAgICAgICBiYWJ5bG9uX2lkOiB0ZW1wTWVzaElEW21lc2guaWRdLCAgLy8g5Y6f5aeL55qEbWVzaCBpZFxyXG4gICAgICAgICAgICAgICAgYXNzZXRfaWQ6IGFzc2V0SUQsICAvLyDlr7nlupRiYWJ5bG9u6LWE5rqQaWRcclxuICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50SUQsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogW21lc2gucG9zaXRpb24ueCwgbWVzaC5wb3NpdGlvbi55LCBtZXNoLnBvc2l0aW9uLnpdLFxyXG4gICAgICAgICAgICAgICAgcm90YXRpb246IFtldWxlckFuZ2xlLngsIGV1bGVyQW5nbGUueSwgZXVsZXJBbmdsZS56XSxcclxuICAgICAgICAgICAgICAgIHNjYWxlOiBbbWVzaC5zY2FsaW5nLngsIG1lc2guc2NhbGluZy55LCBtZXNoLnNjYWxpbmcuel0sXHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogbXlDaGlsZHJlbixcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IG1lc2guaXNFbmFibGVkKCksXHJcbiAgICAgICAgICAgICAgICBjaGVja0NvbGxpc2lvbnM6IG1lc2guY2hlY2tDb2xsaXNpb25zLFxyXG4gICAgICAgICAgICAgICAgcGlja2FibGU6IG1lc2guaXNQaWNrYWJsZSxcclxuICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogbWVzaC5pc1Zpc2libGUsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdtZXNoJ1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZW50aXR5ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOm5ldycsIGVudGl0eURhdGEpO1xyXG4gICAgICAgICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChlbnRpdHkub3JpZ2luKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY2hpbGRzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICBCYWJ5bG9uTG9hZGVyLm1lc2hQYXJzZVJlY3Vyc2lvbig8QkFCWUxPTi5BYnN0cmFjdE1lc2g+Y2hpbGRzW2tdLCBhc3NldElELCB0ZW1wTWVzaElELCBlbnRpdGllcywgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkU2NlbmVEYXRhKHJlc291cmNlX2lkOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIEJhYnlsb25Mb2FkZXIuc2NlbmVzRGF0YS5lbnRpdGllc1tyZXNvdXJjZV9pZF0gPSBkYXRhO1xyXG4gICAgICAgIEJhYnlsb25Mb2FkZXIuc2NlbmVzRGF0YVsnbW9kaWZpZWQnXSA9IEJhYnlsb25Mb2FkZXIuY3JlYXRlZEF0VGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgdXBkYXRlU2NlbmVEYXRhKHJlc291cmNlX2lkOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIEJhYnlsb25Mb2FkZXIuc2NlbmVzRGF0YS5lbnRpdGllc1tyZXNvdXJjZV9pZF0gPSBkYXRhO1xyXG4gICAgICAgIEJhYnlsb25Mb2FkZXIuc2NlbmVzRGF0YVsnbW9kaWZpZWQnXSA9IEJhYnlsb25Mb2FkZXIuY3JlYXRlZEF0VGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlZEF0VGltZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHZhciBZID0gbm93LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgdmFyIG0gPSBCYWJ5bG9uTG9hZGVyLmdldFJlYWxUaW1lKG5vdy5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgICAgdmFyIGQgPSBCYWJ5bG9uTG9hZGVyLmdldFJlYWxUaW1lKG5vdy5nZXREYXRlKCkpO1xyXG4gICAgICAgIHZhciBIID0gQmFieWxvbkxvYWRlci5nZXRSZWFsVGltZShub3cuZ2V0SG91cnMoKSk7XHJcbiAgICAgICAgdmFyIGkgPSBCYWJ5bG9uTG9hZGVyLmdldFJlYWxUaW1lKG5vdy5nZXRNaW51dGVzKCkpO1xyXG4gICAgICAgIC8vIHZhciBzID0gZ2V0UmVhbFRpbWUobm93LmdldFNlY29uZHMoKSk7XHJcbiAgICAgICAgcmV0dXJuIFkgKyBcIi1cIiArIG0gKyBcIi1cIiArIGQgKyBcIiBcIiArIEggKyBcIjpcIiArIGk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0UmVhbFRpbWUoc3RyOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChzdHIgPCAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCIwXCIgKyBzdHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHIudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNhdmVTY2VuZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoQ29uZmlnLmlzU2NlbmVEaXJ0eSkge1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIC8vICAgICB1cmw6ICcvYXBpL2FkZFNjZW5lJyxcclxuICAgICAgICAgICAgLy8gICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAvLyAgICAgLy8gYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gICAgIGRhdGE6IHsgc2NlbmVJbmRleDogQmFieWxvbkxvYWRlci5zY2VuZUluZGV4LCBzY2VuZTogQmFieWxvbkxvYWRlci5zY2VuZXNEYXRhLCBwcm9qZWN0SUQ6IENvbmZpZy5wcm9qZWN0SUQgfSxcclxuICAgICAgICAgICAgLy8gICAgIGlnbm9yZUNvbnRlbnRUeXBlOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgICAgICAvLyAvLyDkuIrkvKDlhajpg6hzY2VuZeaVsOaNrlxyXG4gICAgICAgICAgICAvLyAoPEFqYXhSZXF1ZXN0Pm5ldyBBamF4KGRhdGEpKVxyXG4gICAgICAgICAgICAvLyAgICAgLm9uKCdsb2FkJywgKHN0YXR1czogYW55LCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RhdHVzOiAnICsgc3RhdHVzKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAnMDAwMCcpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRhdGEuZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgdmFyIGFzc2V0ID0gbmV3IE9ic2VydmVyKGRhdGEuZGF0YVtpXSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXNzZXRzOmFkZCcsIGFzc2V0KTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9hZGRTY2VuZScsIHsgc2NlbmVJbmRleDogQmFieWxvbkxvYWRlci5zY2VuZUluZGV4LCBzY2VuZTogQmFieWxvbkxvYWRlci5zY2VuZXNEYXRhLCBwcm9qZWN0SUQ6IENvbmZpZy5wcm9qZWN0SUQgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gJzAwMDAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdtYWtlOnNjZW5lOmNsZWFyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZExpZ2h0KHBhcnNlZExpZ2h0OiBhbnksIHNjZW5lOiBCQUJZTE9OLlNjZW5lKTogTnVsbGFibGU8QkFCWUxPTi5MaWdodD4ge1xyXG4gICAgICAgIC8vIExpZ2h0XHJcbiAgICAgICAgaWYgKHBhcnNlZExpZ2h0ICE9PSB1bmRlZmluZWQgJiYgcGFyc2VkTGlnaHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIGxpZ2h0ID0gQkFCWUxPTi5MaWdodC5QYXJzZShwYXJzZWRMaWdodCwgc2NlbmUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbGlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFJlZmxlY3Rpb25Qcm9iZShwYXJzZWRSZWZsZWN0aW9uUHJvYmU6IGFueSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHJvb3RVcmw6IHN0cmluZyk6IE51bGxhYmxlPEJBQllMT04uUmVmbGVjdGlvblByb2JlPiB7XHJcbiAgICAgICAgLy8gUmVmbGVjdGlvblByb2JlXHJcbiAgICAgICAgaWYgKHBhcnNlZFJlZmxlY3Rpb25Qcm9iZSAhPT0gdW5kZWZpbmVkICYmIHBhcnNlZFJlZmxlY3Rpb25Qcm9iZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB2YXIgcmVmbGVjdGlvblByb2JlID0gQkFCWUxPTi5SZWZsZWN0aW9uUHJvYmUuUGFyc2UocGFyc2VkUmVmbGVjdGlvblByb2JlLCBzY2VuZSwgcm9vdFVybCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uUHJvYmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZEFuaW1hdGlvbihwYXJzZWRBbmltYXRpb246IGFueSk6IE51bGxhYmxlPEJBQllMT04uQW5pbWF0aW9uW10+IHtcclxuICAgICAgICAvLyBBbmltYXRpb25cclxuICAgICAgICBpZiAocGFyc2VkQW5pbWF0aW9uICE9PSB1bmRlZmluZWQgJiYgcGFyc2VkQW5pbWF0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGVybmFsQ2xhc3MgPSBCQUJZTE9OLl9UeXBlU3RvcmUuR2V0Q2xhc3MoXCJCQUJZTE9OLkFuaW1hdGlvblwiKTtcclxuICAgICAgICAgICAgaWYgKGludGVybmFsQ2xhc3MpIHtcclxuICAgICAgICAgICAgICAgIGxldCBhbmltYXRpb24gPSBpbnRlcm5hbENsYXNzLlBhcnNlKHBhcnNlZEFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsb2FkTWF0ZXJpYWwocGFyc2VkTWF0ZXJpYWw6IGFueSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHJvb3RVcmw6IHN0cmluZyk6IE51bGxhYmxlPEJBQllMT04uTWF0ZXJpYWw+IHtcclxuICAgICAgICAvLyBNYXRlcmlhbFxyXG4gICAgICAgIGlmIChwYXJzZWRNYXRlcmlhbCAhPT0gdW5kZWZpbmVkICYmIHBhcnNlZE1hdGVyaWFsICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXQgPSBCQUJZTE9OLk1hdGVyaWFsLlBhcnNlKHBhcnNlZE1hdGVyaWFsLCBzY2VuZSwgcm9vdFVybCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZE11bHRpTWF0ZXJpYWwocGFyc2VkTXVsdGlNYXRlcmlhbDogYW55LCBzY2VuZTogQkFCWUxPTi5TY2VuZSk6IE51bGxhYmxlPEJBQllMT04uTXVsdGlNYXRlcmlhbD4ge1xyXG4gICAgICAgIC8vIE11bHRpTWF0ZXJpYWxcclxuICAgICAgICBpZiAocGFyc2VkTXVsdGlNYXRlcmlhbCAhPT0gdW5kZWZpbmVkICYmIHBhcnNlZE11bHRpTWF0ZXJpYWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIG1tYXQgPSBCQUJZTE9OLk11bHRpTWF0ZXJpYWwuUGFyc2VNdWx0aU1hdGVyaWFsKHBhcnNlZE11bHRpTWF0ZXJpYWwsIHNjZW5lKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1tYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZE1vcnBoVGFyZ2V0TWFuYWdlcihtYW5hZ2VyRGF0YTogYW55LCBzY2VuZTogQkFCWUxPTi5TY2VuZSk6IE51bGxhYmxlPEJBQllMT04uTW9ycGhUYXJnZXRNYW5hZ2VyPiB7XHJcbiAgICAgICAgLy8gTW9ycGhUYXJnZXRNYW5hZ2VyXHJcbiAgICAgICAgaWYgKG1hbmFnZXJEYXRhICE9PSB1bmRlZmluZWQgJiYgbWFuYWdlckRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIG1vcnBoVGFyZ2V0ID0gQkFCWUxPTi5Nb3JwaFRhcmdldE1hbmFnZXIuUGFyc2UobWFuYWdlckRhdGEsIHNjZW5lKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1vcnBoVGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRTa2VsZXRvbihwYXJzZWRTa2VsZXRvbjogYW55LCBzY2VuZTogQkFCWUxPTi5TY2VuZSk6IE51bGxhYmxlPEJBQllMT04uU2tlbGV0b24+IHtcclxuICAgICAgICAvLyBTa2VsZXRvblxyXG4gICAgICAgIGlmIChwYXJzZWRTa2VsZXRvbiAhPT0gdW5kZWZpbmVkICYmIHBhcnNlZFNrZWxldG9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBza2VsZXRvbiA9IEJBQllMT04uU2tlbGV0b24uUGFyc2UocGFyc2VkU2tlbGV0b24sIHNjZW5lKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNrZWxldG9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRHZW9tZXRyeSh2ZXJ0ZXhEYXRhOiBhbnksIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCByb290VXJsOiBzdHJpbmcpOiBOdWxsYWJsZTxCQUJZTE9OLkdlb21ldHJ5PiB7XHJcbiAgICAgICAgLy8gR2VvbWV0cnlcclxuICAgICAgICBpZiAodmVydGV4RGF0YSAhPT0gdW5kZWZpbmVkICYmIHZlcnRleERhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gQkFCWUxPTi5HZW9tZXRyeS5QYXJzZSh2ZXJ0ZXhEYXRhLCBzY2VuZSwgcm9vdFVybCk7XHJcbiAgICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsb2FkVHJhbnNmb3JtTm9kZShwYXJzZWRUcmFuc2Zvcm1Ob2RlOiBhbnksIHNjZW5lOiBCQUJZTE9OLlNjZW5lLCByb290VXJsOiBzdHJpbmcpOiBOdWxsYWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+IHtcclxuICAgICAgICAvLyBUcmFuc2Zvcm1Ob2RlXHJcbiAgICAgICAgaWYgKHBhcnNlZFRyYW5zZm9ybU5vZGUgIT09IHVuZGVmaW5lZCAmJiBwYXJzZWRUcmFuc2Zvcm1Ob2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBub2RlID0gQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlLlBhcnNlKHBhcnNlZFRyYW5zZm9ybU5vZGUsIHNjZW5lLCByb290VXJsKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRNZXNoKHBhcnNlZE1lc2g6IGFueSwgc2NlbmU6IEJBQllMT04uU2NlbmUsIHJvb3RVcmw6IHN0cmluZyk6IE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPiB7XHJcbiAgICAgICAgLy8gTWVzaFxyXG4gICAgICAgIGlmIChwYXJzZWRNZXNoICE9PSB1bmRlZmluZWQgJiYgcGFyc2VkTWVzaCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB2YXIgbWVzaCA9IDxCQUJZTE9OLkFic3RyYWN0TWVzaD5CQUJZTE9OLk1lc2guUGFyc2UocGFyc2VkTWVzaCwgc2NlbmUsIHJvb3RVcmwpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWVzaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZENhbWVyYShwYXJzZWRDYW1lcmE6IGFueSwgc2NlbmU6IEJBQllMT04uU2NlbmUpOiBOdWxsYWJsZTxCQUJZTE9OLkNhbWVyYT4ge1xyXG4gICAgICAgIC8vIENhbWVyYVxyXG4gICAgICAgIGlmIChwYXJzZWRDYW1lcmEgIT09IHVuZGVmaW5lZCAmJiBwYXJzZWRDYW1lcmEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIGNhbWVyYSA9IEJBQllMT04uQ2FtZXJhLlBhcnNlKHBhcnNlZENhbWVyYSwgc2NlbmUpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FtZXJhO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRBbmltYXRpb25Hcm91cChwYXJzZWRBbmltYXRpb25Hcm91cDogYW55LCBzY2VuZTogQkFCWUxPTi5TY2VuZSk6IE51bGxhYmxlPEJBQllMT04uQW5pbWF0aW9uR3JvdXA+IHtcclxuICAgICAgICAvLyBBbmltYXRpb25Hcm91cFxyXG4gICAgICAgIGlmIChwYXJzZWRBbmltYXRpb25Hcm91cCAhPT0gdW5kZWZpbmVkICYmIHBhcnNlZEFuaW1hdGlvbkdyb3VwICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25Hcm91cCA9IEJBQllMT04uQW5pbWF0aW9uR3JvdXAuUGFyc2UocGFyc2VkQW5pbWF0aW9uR3JvdXAsIHNjZW5lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkdyb3VwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRCYWJ5bG9uUGFyZW50KHNjZW5lOiBCQUJZTE9OLlNjZW5lKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGluZGV4LCBjYWNoZSA9IDA7XHJcbiAgICAgICAgLy8gQnJvd3NpbmcgYWxsIHRoZSBncmFwaCB0byBjb25uZWN0IHRoZSBkb3RzXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwLCBjYWNoZSA9IHNjZW5lLmNhbWVyYXMubGVuZ3RoOyBpbmRleCA8IGNhY2hlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW1lcmEgPSBzY2VuZS5jYW1lcmFzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKGNhbWVyYS5fd2FpdGluZ1BhcmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBjYW1lcmEucGFyZW50ID0gc2NlbmUuZ2V0TGFzdEVudHJ5QnlJRChjYW1lcmEuX3dhaXRpbmdQYXJlbnRJZCk7XHJcbiAgICAgICAgICAgICAgICBjYW1lcmEuX3dhaXRpbmdQYXJlbnRJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoaW5kZXggPSAwLCBjYWNoZSA9IHNjZW5lLmxpZ2h0cy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gc2NlbmUubGlnaHRzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKGxpZ2h0ICYmIGxpZ2h0Ll93YWl0aW5nUGFyZW50SWQpIHtcclxuICAgICAgICAgICAgICAgIGxpZ2h0LnBhcmVudCA9IHNjZW5lLmdldExhc3RFbnRyeUJ5SUQobGlnaHQuX3dhaXRpbmdQYXJlbnRJZCk7XHJcbiAgICAgICAgICAgICAgICBsaWdodC5fd2FpdGluZ1BhcmVudElkID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/liqDovb3lrozmiYDmnInotYTmupDku6XlkI7vvIzorr7nq4vniLblrZDlhbPns7vvvIzliqDlhaXlnKjoh6rlt7HnmoTlvJXmk47kuK3vvIzov5nkupvlhbPns7vmnIlzY2VuZeaVsOaNruehrueri++8jOWPr+S7peWPlua2iOatpOWkhOeahOaTjeS9nFxyXG4gICAgICAgIC8vIENvbm5lY3QgcGFyZW50cyAmIGNoaWxkcmVuIGFuZCBwYXJzZSBhY3Rpb25zXHJcbiAgICAgICAgZm9yIChpbmRleCA9IDAsIGNhY2hlID0gc2NlbmUudHJhbnNmb3JtTm9kZXMubGVuZ3RoOyBpbmRleCA8IGNhY2hlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1Ob2RlID0gc2NlbmUudHJhbnNmb3JtTm9kZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtTm9kZS5fd2FpdGluZ1BhcmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Ob2RlLnBhcmVudCA9IHNjZW5lLmdldExhc3RFbnRyeUJ5SUQodHJhbnNmb3JtTm9kZS5fd2FpdGluZ1BhcmVudElkKTtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU5vZGUuX3dhaXRpbmdQYXJlbnRJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChpbmRleCA9IDAsIGNhY2hlID0gc2NlbmUubWVzaGVzLmxlbmd0aDsgaW5kZXggPCBjYWNoZTsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICB2YXIgbWVzaCA9IHNjZW5lLm1lc2hlc1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChtZXNoLl93YWl0aW5nUGFyZW50SWQpIHtcclxuICAgICAgICAgICAgICAgIG1lc2gucGFyZW50ID0gc2NlbmUuZ2V0TGFzdEVudHJ5QnlJRChtZXNoLl93YWl0aW5nUGFyZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgbWVzaC5fd2FpdGluZ1BhcmVudElkID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZnJlZXplIHdvcmxkIG1hdHJpeCBhcHBsaWNhdGlvblxyXG4gICAgICAgIC8vIOatpOmDqOWIhuS4umJhYnlsb27pmpDol4/mlrnms5VcclxuICAgICAgICAvLyBmb3IgKGluZGV4ID0gMCwgY2FjaGUgPSBzY2VuZS5tZXNoZXMubGVuZ3RoOyBpbmRleCA8IGNhY2hlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciBjdXJyZW50TWVzaCA9IHNjZW5lLm1lc2hlc1tpbmRleF07XHJcbiAgICAgICAgLy8gICAgIGlmIChjdXJyZW50TWVzaC5fd2FpdGluZ0ZyZWV6ZVdvcmxkTWF0cml4KSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjdXJyZW50TWVzaC5mcmVlemVXb3JsZE1hdHJpeCgpO1xyXG4gICAgICAgIC8vICAgICAgICAgY3VycmVudE1lc2guX3dhaXRpbmdGcmVlemVXb3JsZE1hdHJpeCA9IG51bGw7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjdXJyZW50TWVzaC5jb21wdXRlV29ybGRNYXRyaXgodHJ1ZSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZChyb290VXJsOiBzdHJpbmcsIHNjZW5lRmlsZW5hbWU6IHN0cmluZyB8IEZpbGUgPSBcIlwiLCBzY2VuZTogQkFCWUxPTi5TY2VuZSk6IGFueSB7XHJcblxyXG4gICAgICAgIC8vIC8vIEJyb3dzaW5nIGFsbCB0aGUgZ3JhcGggdG8gY29ubmVjdCB0aGUgZG90c1xyXG4gICAgICAgIC8vIGZvciAoaW5kZXggPSAwLCBjYWNoZSA9IHNjZW5lLmNhbWVyYXMubGVuZ3RoOyBpbmRleCA8IGNhY2hlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciBjYW1lcmEgPSBzY2VuZS5jYW1lcmFzW2luZGV4XTtcclxuICAgICAgICAvLyAgICAgaWYgKGNhbWVyYS5fd2FpdGluZ1BhcmVudElkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjYW1lcmEucGFyZW50ID0gc2NlbmUuZ2V0TGFzdEVudHJ5QnlJRChjYW1lcmEuX3dhaXRpbmdQYXJlbnRJZCk7XHJcbiAgICAgICAgLy8gICAgICAgICBjYW1lcmEuX3dhaXRpbmdQYXJlbnRJZCA9IG51bGw7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIGZvciAoaW5kZXggPSAwLCBjYWNoZSA9IHNjZW5lLmxpZ2h0cy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAvLyAgICAgbGV0IGxpZ2h0ID0gc2NlbmUubGlnaHRzW2luZGV4XTtcclxuICAgICAgICAvLyAgICAgaWYgKGxpZ2h0ICYmIGxpZ2h0Ll93YWl0aW5nUGFyZW50SWQpIHtcclxuICAgICAgICAvLyAgICAgICAgIGxpZ2h0LnBhcmVudCA9IHNjZW5lLmdldExhc3RFbnRyeUJ5SUQobGlnaHQuX3dhaXRpbmdQYXJlbnRJZCk7XHJcbiAgICAgICAgLy8gICAgICAgICBsaWdodC5fd2FpdGluZ1BhcmVudElkID0gbnVsbDtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gLy/liqDovb3lrozmiYDmnInotYTmupDku6XlkI7vvIzorr7nq4vniLblrZDlhbPns7vvvIzliqDlhaXlnKjoh6rlt7HnmoTlvJXmk47kuK3vvIzov5nkupvlhbPns7vmnIlzY2VuZeaVsOaNruehrueri++8jOWPr+S7peWPlua2iOatpOWkhOeahOaTjeS9nFxyXG4gICAgICAgIC8vIC8vIENvbm5lY3QgcGFyZW50cyAmIGNoaWxkcmVuIGFuZCBwYXJzZSBhY3Rpb25zXHJcbiAgICAgICAgLy8gZm9yIChpbmRleCA9IDAsIGNhY2hlID0gc2NlbmUudHJhbnNmb3JtTm9kZXMubGVuZ3RoOyBpbmRleCA8IGNhY2hlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgLy8gICAgIHZhciB0cmFuc2Zvcm1Ob2RlID0gc2NlbmUudHJhbnNmb3JtTm9kZXNbaW5kZXhdO1xyXG4gICAgICAgIC8vICAgICBpZiAodHJhbnNmb3JtTm9kZS5fd2FpdGluZ1BhcmVudElkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0cmFuc2Zvcm1Ob2RlLnBhcmVudCA9IHNjZW5lLmdldExhc3RFbnRyeUJ5SUQodHJhbnNmb3JtTm9kZS5fd2FpdGluZ1BhcmVudElkKTtcclxuICAgICAgICAvLyAgICAgICAgIHRyYW5zZm9ybU5vZGUuX3dhaXRpbmdQYXJlbnRJZCA9IG51bGw7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZm9yIChpbmRleCA9IDAsIGNhY2hlID0gc2NlbmUubWVzaGVzLmxlbmd0aDsgaW5kZXggPCBjYWNoZTsgaW5kZXgrKykge1xyXG4gICAgICAgIC8vICAgICB2YXIgbWVzaCA9IHNjZW5lLm1lc2hlc1tpbmRleF07XHJcbiAgICAgICAgLy8gICAgIGlmIChtZXNoLl93YWl0aW5nUGFyZW50SWQpIHtcclxuICAgICAgICAvLyAgICAgICAgIG1lc2gucGFyZW50ID0gc2NlbmUuZ2V0TGFzdEVudHJ5QnlJRChtZXNoLl93YWl0aW5nUGFyZW50SWQpO1xyXG4gICAgICAgIC8vICAgICAgICAgbWVzaC5fd2FpdGluZ1BhcmVudElkID0gbnVsbDtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gLy8gZnJlZXplIHdvcmxkIG1hdHJpeCBhcHBsaWNhdGlvblxyXG4gICAgICAgIC8vIGZvciAoaW5kZXggPSAwLCBjYWNoZSA9IHNjZW5lLm1lc2hlcy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAvLyAgICAgdmFyIGN1cnJlbnRNZXNoID0gc2NlbmUubWVzaGVzW2luZGV4XTtcclxuICAgICAgICAvLyAgICAgaWYgKGN1cnJlbnRNZXNoLl93YWl0aW5nRnJlZXplV29ybGRNYXRyaXgpIHtcclxuICAgICAgICAvLyAgICAgICAgIGN1cnJlbnRNZXNoLmZyZWV6ZVdvcmxkTWF0cml4KCk7XHJcbiAgICAgICAgLy8gICAgICAgICBjdXJyZW50TWVzaC5fd2FpdGluZ0ZyZWV6ZVdvcmxkTWF0cml4ID0gbnVsbDtcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIGN1cnJlbnRNZXNoLmNvbXB1dGVXb3JsZE1hdHJpeCh0cnVlKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gLy8gTGlnaHRzIGV4Y2x1c2lvbnMgLyBpbmNsdXNpb25zXHJcbiAgICAgICAgLy8gZm9yIChpbmRleCA9IDAsIGNhY2hlID0gc2NlbmUubGlnaHRzLmxlbmd0aDsgaW5kZXggPCBjYWNoZTsgaW5kZXgrKykge1xyXG4gICAgICAgIC8vICAgICBsZXQgbGlnaHQgPSBzY2VuZS5saWdodHNbaW5kZXhdO1xyXG4gICAgICAgIC8vICAgICAvLyBFeGNsdWRlZCBjaGVja1xyXG4gICAgICAgIC8vICAgICBpZiAobGlnaHQuX2V4Y2x1ZGVkTWVzaGVzSWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyAgICAgICAgIGZvciAodmFyIGV4Y2x1ZGVkSW5kZXggPSAwOyBleGNsdWRlZEluZGV4IDwgbGlnaHQuX2V4Y2x1ZGVkTWVzaGVzSWRzLmxlbmd0aDsgZXhjbHVkZWRJbmRleCsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdmFyIGV4Y2x1ZGVkTWVzaCA9IHNjZW5lLmdldE1lc2hCeUlEKGxpZ2h0Ll9leGNsdWRlZE1lc2hlc0lkc1tleGNsdWRlZEluZGV4XSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChleGNsdWRlZE1lc2gpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgbGlnaHQuZXhjbHVkZWRNZXNoZXMucHVzaChleGNsdWRlZE1lc2gpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICBsaWdodC5fZXhjbHVkZWRNZXNoZXNJZHMgPSBbXTtcclxuICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgLy8gSW5jbHVkZWQgY2hlY2tcclxuICAgICAgICAvLyAgICAgaWYgKGxpZ2h0Ll9pbmNsdWRlZE9ubHlNZXNoZXNJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgZm9yICh2YXIgaW5jbHVkZWRPbmx5SW5kZXggPSAwOyBpbmNsdWRlZE9ubHlJbmRleCA8IGxpZ2h0Ll9pbmNsdWRlZE9ubHlNZXNoZXNJZHMubGVuZ3RoOyBpbmNsdWRlZE9ubHlJbmRleCsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdmFyIGluY2x1ZGVkT25seU1lc2ggPSBzY2VuZS5nZXRNZXNoQnlJRChsaWdodC5faW5jbHVkZWRPbmx5TWVzaGVzSWRzW2luY2x1ZGVkT25seUluZGV4XSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChpbmNsdWRlZE9ubHlNZXNoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGxpZ2h0LmluY2x1ZGVkT25seU1lc2hlcy5wdXNoKGluY2x1ZGVkT25seU1lc2gpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICBsaWdodC5faW5jbHVkZWRPbmx5TWVzaGVzSWRzID0gW107XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfZ2V0RmlsZUluZm8ocm9vdFVybDogc3RyaW5nLCBzY2VuZUZpbGVuYW1lOiBzdHJpbmcgfCBGaWxlKTogTnVsbGFibGU8SUZpbGVJbmZvcm1hdGlvbj4ge1xyXG4gICAgICAgIGxldCB1cmw6IHN0cmluZztcclxuICAgICAgICBsZXQgbmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBmaWxlOiBOdWxsYWJsZTxGaWxlPiA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmICghc2NlbmVGaWxlbmFtZSkge1xyXG4gICAgICAgICAgICB1cmwgPSByb290VXJsO1xyXG4gICAgICAgICAgICBuYW1lID0gVG9vbHMuR2V0RmlsZW5hbWUocm9vdFVybCk7XHJcbiAgICAgICAgICAgIHJvb3RVcmwgPSBUb29scy5HZXRGb2xkZXJQYXRoKHJvb3RVcmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoc2NlbmVGaWxlbmFtZSBhcyBGaWxlKS5uYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lRmlsZSA9IHNjZW5lRmlsZW5hbWUgYXMgRmlsZTtcclxuICAgICAgICAgICAgdXJsID0gcm9vdFVybCArIHNjZW5lRmlsZS5uYW1lO1xyXG4gICAgICAgICAgICBuYW1lID0gc2NlbmVGaWxlLm5hbWU7XHJcbiAgICAgICAgICAgIGZpbGUgPSBzY2VuZUZpbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHNjZW5lRmlsZW5hbWUgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICBpZiAoZmlsZW5hbWUuc3Vic3RyKDAsIDEpID09PSBcIi9cIikge1xyXG4gICAgICAgICAgICAgICAgVG9vbHMuRXJyb3IoXCJXcm9uZyBzY2VuZUZpbGVuYW1lIHBhcmFtZXRlclwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1cmwgPSByb290VXJsICsgZmlsZW5hbWU7XHJcbiAgICAgICAgICAgIG5hbWUgPSBmaWxlbmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICByb290VXJsOiByb290VXJsLFxyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICBmaWxlOiBmaWxlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5cclxuaW50ZXJmYWNlIElGaWxlSW5mb3JtYXRpb24ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBmaWxlIHVybFxyXG4gICAgICovXHJcbiAgICB1cmw6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgcm9vdCB1cmxcclxuICAgICAqL1xyXG4gICAgcm9vdFVybDogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGZpbGVuYW1lXHJcbiAgICAgKi9cclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgZmlsZVxyXG4gICAgICovXHJcbiAgICBmaWxlOiBOdWxsYWJsZTxGaWxlPjtcclxufSIsImltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tIFwiLi9nYW1lb2JqZWN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVzb3VyY2VDb250YWluZXIge1xyXG5cclxuICAgIHB1YmxpYyBnYW1lT2JqZWN0czogR2FtZU9iamVjdFtdID0gW107XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhZGRHYW1lT2JqZWN0KG9iamVjdDogR2FtZU9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdHMucHVzaCgpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBUcmFuc2Zvcm0ge1xyXG5cclxuICAvLyBwdWJsaWMgZ2V0IGdhbWVPYmplY3QoKTogR2FtZU9iamVjdCB7XHJcbiAgLy8gICByZXR1cm4gdGhpcy5fZ2FtZU9iamVjdDtcclxuICAvLyB9XHJcbiAgLy8gcHJpdmF0ZSBfZ2FtZU9iamVjdDogR2FtZU9iamVjdDtcclxuXHJcbiAgcHJpdmF0ZSBfdHJhbnNmb3JtTm9kZTogQkFCWUxPTi5OdWxsYWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+ID0gbnVsbDtcclxuICBwcml2YXRlIF9tZXNoOiBCQUJZTE9OLk51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPiA9IG51bGw7XHJcblxyXG4gIHB1YmxpYyBnZXQgdHJhbnNmb3JtTm9kZSgpOiBOdWxsYWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+IHtcclxuICAgIGlmICh0aGlzLl9tZXNoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tZXNoO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1Ob2RlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1Ob2RlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IG1lc2goKTogTnVsbGFibGU8QkFCWUxPTi5BYnN0cmFjdE1lc2g+IHtcclxuICAgIHJldHVybiB0aGlzLl9tZXNoO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IG1lc2godmFsOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4pIHtcclxuICAgIHRoaXMuX21lc2ggPSB2YWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzTWVzaCgpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLl9tZXNoKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpc0VtcHR5KCk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuX3RyYW5zZm9ybU5vZGUgfHwgdGhpcy5fbWVzaCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHB1YmxpYyBnZXQgcGFyZW50KCk6IE51bGxhYmxlPEJBQllMT04uVHJhbnNmb3JtTm9kZT5cclxuXHJcbiAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICB9XHJcbiAgcHVibGljIHNldCBuYW1lKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5fdHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICB0aGlzLl90cmFuc2Zvcm1Ob2RlLm5hbWUgPSB2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fbWVzaCkge1xyXG4gICAgICB0aGlzLl9tZXNoLm5hbWUgPSB2YWw7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9uYW1lID0gdmFsO1xyXG4gIH1cclxuICBwcml2YXRlIF9uYW1lOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgcHJpdmF0ZSBfdGVtcFZlYzogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcclxuXHJcbiAgcHVibGljIGdldCBwYXJlbnQoKTogTnVsbGFibGU8VHJhbnNmb3JtPiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xyXG4gIH1cclxuICBwcml2YXRlIF9wYXJlbnQ6IE51bGxhYmxlPFRyYW5zZm9ybT4gPSBudWxsO1xyXG5cclxuICBwdWJsaWMgc2V0IHBhcmVudCh2YWw6IE51bGxhYmxlPFRyYW5zZm9ybT4pIHtcclxuICAgIGlmICghdGhpcy5pc0VtcHR5KSB7XHJcbiAgICAgIGlmICh2YWwgJiYgIXZhbC5pc0VtcHR5KSB7XHJcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtTm9kZSEuc2V0UGFyZW50KHZhbC50cmFuc2Zvcm1Ob2RlKTtcclxuICAgICAgICB0aGlzLl9wYXJlbnQgPSB2YWw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtTm9kZSEuc2V0UGFyZW50KG51bGwpO1xyXG4gICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluebuOWvueWdkOagh1xyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgbG9jYWxQb3NpdGlvbigpOiBCQUJZTE9OLlZlY3RvcjMge1xyXG4gICAgaWYgKHRoaXMuaXNFbXB0eSkge1xyXG4gICAgICByZXR1cm4gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3RlbXBWZWMuY29weUZyb20odGhpcy50cmFuc2Zvcm1Ob2RlIS5wb3NpdGlvbik7XHJcbiAgICAgIHJldHVybiB0aGlzLl90ZW1wVmVjO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u55u45a+55Z2Q5qCHXHJcbiAgICovXHJcbiAgcHVibGljIHNldCBsb2NhbFBvc2l0aW9uKHZhbDogQkFCWUxPTi5WZWN0b3IzKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNFbXB0eSkge1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUhLnBvc2l0aW9uID0gdmFsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W57ud5a+55Z2Q5qCHXHJcbiAgICovXHJcbiAgcHVibGljIGdldCBwb3NpdGlvbigpOiBCQUJZTE9OLlZlY3RvcjMge1xyXG4gICAgaWYgKHRoaXMuaXNFbXB0eSkge1xyXG4gICAgICByZXR1cm4gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3RlbXBWZWMuY29weUZyb20odGhpcy50cmFuc2Zvcm1Ob2RlIS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkpO1xyXG4gICAgICByZXR1cm4gdGhpcy5fdGVtcFZlYztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiuvue9rue7neWvueWdkOagh1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXQgcG9zaXRpb24odmFsOiBCQUJZTE9OLlZlY3RvcjMpIHtcclxuICAgIGlmICghdGhpcy5pc0VtcHR5KSB7XHJcbiAgICAgIHRoaXMudHJhbnNmb3JtTm9kZSEuc2V0QWJzb2x1dGVQb3NpdGlvbih2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W55u45a+55qyn5ouJ6KeS5bqmXHJcbiAgICovXHJcbiAgcHVibGljIGdldCBsb2NhbEV1bGVyQW5nbGVzKCk6IEJBQllMT04uVmVjdG9yMyB7XHJcbiAgICBpZiAodGhpcy5pc0VtcHR5KSB7XHJcbiAgICAgIHJldHVybiBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHBhcmE6IG51bWJlciA9IDE4MCAvIE1hdGguUEk7XHJcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGUhLnJvdGF0aW9uLm11bHRpcGx5QnlGbG9hdHMocGFyYSwgcGFyYSwgcGFyYSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDorr7nva7nm7jlr7nmrKfmi4nop5LluqZcclxuICAgKi9cclxuICBwdWJsaWMgc2V0IGxvY2FsRXVsZXJBbmdsZXModmFsOiBCQUJZTE9OLlZlY3RvcjMpIHtcclxuICAgIGlmICghdGhpcy5pc0VtcHR5KSB7XHJcbiAgICAgIGxldCBwYXJhOiBudW1iZXIgPSBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUhLnJvdGF0aW9uID0gdmFsLm11bHRpcGx5QnlGbG9hdHMocGFyYSwgcGFyYSwgcGFyYSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bnm7jlr7nop5LluqbvvIjlvKfluqbvvIlcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IGxvY2FsUm90YXRpb24oKTogQkFCWUxPTi5WZWN0b3IzIHtcclxuICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcclxuICAgICAgcmV0dXJuIEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl90ZW1wVmVjLmNvcHlGcm9tKHRoaXMudHJhbnNmb3JtTm9kZSEucm90YXRpb24pO1xyXG4gICAgICByZXR1cm4gdGhpcy5fdGVtcFZlYztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiuvue9ruebuOWvueinkuW6pu+8iOW8p+W6pu+8iVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXQgbG9jYWxSb3RhdGlvbih2YWw6IEJBQllMT04uVmVjdG9yMykge1xyXG4gICAgaWYgKCF0aGlzLmlzRW1wdHkpIHtcclxuICAgICAgdGhpcy50cmFuc2Zvcm1Ob2RlIS5yb3RhdGlvbiA9IHZhbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlue7neWvueasp+aLieinkuW6plxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgZXVsZXJBbmdsZXMoKTogQkFCWUxPTi5WZWN0b3IzIHtcclxuICAgIGlmICh0aGlzLmlzRW1wdHkpIHtcclxuICAgICAgcmV0dXJuIEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+ID0gdGhpcy50cmFuc2Zvcm1Ob2RlIS5wYXJlbnQ7XHJcbiAgICAgIGxldCBwYXJhOiBudW1iZXIgPSAxODAgLyBNYXRoLlBJO1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUhLnNldFBhcmVudChudWxsKTtcclxuICAgICAgbGV0IHJlc3VsdDogQkFCWUxPTi5WZWN0b3IzID0gdGhpcy50cmFuc2Zvcm1Ob2RlIS5yb3RhdGlvbi5tdWx0aXBseUJ5RmxvYXRzKHBhcmEsIHBhcmEsIHBhcmEpO1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUhLnNldFBhcmVudChwYXJlbnQpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6K6+572u57ud5a+55qyn5ouJ6KeS5bqmXHJcbiAgICovXHJcbiAgcHVibGljIHNldCBldWxlckFuZ2xlcyh2YWw6IEJBQllMT04uVmVjdG9yMykge1xyXG4gICAgaWYgKCF0aGlzLmlzRW1wdHkpIHtcclxuICAgICAgbGV0IHBhcmVudDogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPiA9IHRoaXMudHJhbnNmb3JtTm9kZSEucGFyZW50O1xyXG4gICAgICBsZXQgcGFyYTogbnVtYmVyID0gTWF0aC5QSSAvIDE4MDtcclxuICAgICAgdGhpcy50cmFuc2Zvcm1Ob2RlIS5zZXRQYXJlbnQobnVsbCk7XHJcbiAgICAgIHRoaXMudHJhbnNmb3JtTm9kZSEucm90YXRpb24gPSB2YWwubXVsdGlwbHlCeUZsb2F0cyhwYXJhLCBwYXJhLCBwYXJhKTtcclxuICAgICAgdGhpcy50cmFuc2Zvcm1Ob2RlIS5zZXRQYXJlbnQocGFyZW50KTtcclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bnu53lr7nop5LluqbvvIjlvKfluqbvvIlcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IHJvdGF0aW9uKCk6IEJBQllMT04uVmVjdG9yMyB7XHJcbiAgICBpZiAodGhpcy5pc0VtcHR5KSB7XHJcbiAgICAgIHJldHVybiBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHBhcmVudDogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPiA9IHRoaXMudHJhbnNmb3JtTm9kZSEucGFyZW50O1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUhLnNldFBhcmVudChudWxsKTtcclxuICAgICAgdGhpcy5fdGVtcFZlYy5jb3B5RnJvbSh0aGlzLnRyYW5zZm9ybU5vZGUhLnJvdGF0aW9uKTtcclxuICAgICAgdGhpcy50cmFuc2Zvcm1Ob2RlIS5zZXRQYXJlbnQocGFyZW50KTtcclxuICAgICAgcmV0dXJuIHRoaXMuX3RlbXBWZWM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDorr7nva7nu53lr7nop5LluqbvvIjlvKfluqbvvIlcclxuICAgKi9cclxuICBwdWJsaWMgc2V0IHJvdGF0aW9uKHZhbDogQkFCWUxPTi5WZWN0b3IzKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNFbXB0eSkge1xyXG4gICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxCQUJZTE9OLk5vZGU+ID0gdGhpcy50cmFuc2Zvcm1Ob2RlIS5wYXJlbnQ7XHJcbiAgICAgIHRoaXMudHJhbnNmb3JtTm9kZSEuc2V0UGFyZW50KG51bGwpO1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUhLnJvdGF0aW9uID0gdmFsO1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUhLnNldFBhcmVudChwYXJlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIFRPIGJlIGNvbnRpb3VlZFxyXG5cclxuICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCk6IEJBQllMT04uTm9kZVtdIHtcclxuICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZSEuZ2V0Q2hpbGRyZW4oKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY2hpbGRDb3VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZm9yd2FyZDogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLkZvcndhcmQoKTtcclxuXHJcblxyXG4gIHB1YmxpYyBnZXQgaGllcmFyY2h5Q291bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGxvY2FsU2NhbGU6IEJBQllMT04uVmVjdG9yMyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMSwgMSk7XHJcblxyXG5cclxuICAvKipcclxuICAgKiBCYWJ5bG9uSlMgTWVzaOWSjFRyYW5zZm9ybU5vZGXljIXoo4XnsbvvvIzku7/nhadVbml0eUVuZ2luZeaVsOaNrue7k+aehO+8m1xyXG4gICAqIEBwYXJhbSBuYW1lIOeJqeS9k+WQje+8jOm7mOiupOS4uuKAnOepuueJqeS9k+KAne+8m1xyXG4gICAqIEBwYXJhbSBtZXNoIEJhYnlsb25KUyBNZXNoO1xyXG4gICAqIEBwYXJhbSBub2RlIEJhYnlsb25KUyBUcmFuc2Zvcm1Ob2RlO1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZyA9ICfnqbrniankvZMnLCBtZXNoOiBOdWxsYWJsZTxCQUJZTE9OLkFic3RyYWN0TWVzaD4gPSBudWxsLCBub2RlOiBOdWxsYWJsZTxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+ID0gbnVsbCkge1xyXG4gICAgaWYgKG1lc2gpIHtcclxuICAgICAgdGhpcy5fbWVzaCA9IG1lc2g7XHJcbiAgICAgIHRoaXMuX3RyYW5zZm9ybU5vZGUgPSBtZXNoO1xyXG4gICAgICB0aGlzLl9uYW1lID0gbWVzaC5uYW1lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICB0aGlzLl9tZXNoID0gbnVsbDtcclxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1Ob2RlID0gbm9kZTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gbm9kZS5uYW1lO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGlmICghbmFtZSkgbmFtZSA9ICfnqbrniankvZMnO1xyXG4gICAgICAgIHRoaXMuX21lc2ggPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybU5vZGUgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKG5hbWUpO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6K6+572u54i254mp5L2TXHJcbiAgICBpZiAodGhpcy5fdHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICBsZXQgdGVtcFBhcmVudDogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPiA9IHRoaXMuX3RyYW5zZm9ybU5vZGUucGFyZW50O1xyXG4gICAgICBpZiAodGVtcFBhcmVudCkge1xyXG4gICAgICAgIGlmICh0ZW1wUGFyZW50IGluc3RhbmNlb2YgQkFCWUxPTi5BYnN0cmFjdE1lc2gpIHtcclxuICAgICAgICAgIHRoaXMuX3BhcmVudCA9IG5ldyBUcmFuc2Zvcm0odGVtcFBhcmVudC5uYW1lLCA8QkFCWUxPTi5BYnN0cmFjdE1lc2g+dGVtcFBhcmVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX3BhcmVudCA9IG5ldyBUcmFuc2Zvcm0odGVtcFBhcmVudC5uYW1lLCBudWxsLCA8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPnRlbXBQYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOayv+S4lueVjOaIluWxgOmDqOWdkOagh+ezu+W5s+enu++8m1xyXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiDlubPnp7vmlrnlkJHlkJHph4/vvJtcclxuICAgKiBAcGFyYW0gcmVsYXRpdmVUbyDlubPnp7vlj4LogIPns7vvvIxMT0NBTOS4uuWxgOmDqOWdkOagh++8jFdPUkxE5Li65LiW55WM5Z2Q5qCH77ybXHJcbiAgICovXHJcbiAgcHVibGljIHRyYW5zbGF0ZSh0cmFuc2xhdGlvbjogQkFCWUxPTi5WZWN0b3IzLCByZWxhdGl2ZVRvOiBCQUJZTE9OLlNwYWNlKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy50cmFuc2Zvcm1Ob2RlKSB7XHJcbiAgICAgIHRoaXMudHJhbnNmb3JtTm9kZS50cmFuc2xhdGUodHJhbnNsYXRpb24sIDEsIHJlbGF0aXZlVG8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5rK/552A5p+Q5Liq5Y+C6ICD54mp5L2T55qE5bGA6YOo5pa55ZCR5ZCR6YeP5bmz56e777yM5Y+C6ICD54mp5L2T5Li6bnVsbOaXtu+8jOWImeayv+S4lueVjOWdkOagh+enu+WKqO+8m1xyXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiDlj4LogIPniankvZPnmoTlsYDpg6jmlrnlkJHlkJHph4/vvJtcclxuICAgKiBAcGFyYW0gdHJhbnMg5bmz56e75Y+C6ICD54mp5L2T77ybXHJcbiAgICovXHJcbiAgcHVibGljIHRyYW5zbGF0ZVJlbGF0aXZlVG8odHJhbnNsYXRpb246IEJBQllMT04uVmVjdG9yMywgdHJhbnM6IFRyYW5zZm9ybSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICBsZXQgZGlyZWN0aW9uOiBCQUJZTE9OLlZlY3RvcjMgPSB0cmFuc2xhdGlvbi5jbG9uZSgpO1xyXG4gICAgICBpZiAodHJhbnMgJiYgdHJhbnMudHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICAgIGRpcmVjdGlvbiA9IHRoaXMudHJhbnNmb3JtRGlyZWN0aW9uKGRpcmVjdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50cmFuc2Zvcm1Ob2RlLnRyYW5zbGF0ZShkaXJlY3Rpb24sIDEsIEJBQllMT04uU3BhY2UuV09STEQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5rK/5p+Q5Liq6L206Ieq6L2s77yM5Y+v6YCJ5oup55u45a+55LiW55WM5Z2Q5qCH5oiW6Ieq6Lqr5Z2Q5qCH77ybXHJcbiAgICogQHBhcmFtIGV1bGVyQW5nbGVzIOiHqui9rOi/kOWKqOWQkemHj++8m1xyXG4gICAqIEBwYXJhbSByZWxhdGl2ZVRvIOiHqui9rOWPguiAg+ezu++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyByb3RhdGUoZXVsZXJBbmdsZXM6IEJBQllMT04uVmVjdG9yMywgcmVsYXRpdmVUbzogQkFCWUxPTi5TcGFjZSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICBsZXQgYXhpczogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKS5jb3B5RnJvbShldWxlckFuZ2xlcy5ub3JtYWxpemUoKSk7XHJcbiAgICAgIGxldCBhbmdsZTogbnVtYmVyID0gZXVsZXJBbmdsZXMubGVuZ3RoKCk7XHJcbiAgICAgIHRoaXMudHJhbnNmb3JtTm9kZS5yb3RhdGUoYXhpcywgYW5nbGUsIHJlbGF0aXZlVG8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5rK/5LiW55WM5Z2Q5qCH5p+Q5Liq6L205YWs6L2s77ybXHJcbiAgICogQHBhcmFtIHBvaW50IOaXi+i9rOeCue+8m1xyXG4gICAqIEBwYXJhbSBheGlzIOaXi+i9rOi9tO+8m1xyXG4gICAqIEBwYXJhbSBzcGVlZCDml4vovazpgJ/luqbvvJtcclxuICAgKi9cclxuICBwdWJsaWMgcm90YXRlQXJvdW5kKHBvaW50OiBCQUJZTE9OLlZlY3RvcjMsIGF4aXM6IEJBQllMT04uVmVjdG9yMywgc3BlZWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybU5vZGUucm90YXRlQXJvdW5kKHBvaW50LCBheGlzLCBzcGVlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcblxyXG5cclxuICAvKipcclxuICAgKiDlsYDpg6jlnZDmoIfkvY3nva7ovazkuJbnlYzlnZDmoIfkvY3nva7vvJtcclxuICAgKiBAcGFyYW0gbG9jYWxfcG9zaXRpb24g5bGA6YOo5Z2Q5qCH5L2N572u77ybXHJcbiAgICog6L+U5Zue5pawVmVjdG9yM+WQkemHj++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyB0cmFuc2Zvcm1Qb3NpdGlvbihsb2NhbF9wb3NpdGlvbjogQkFCWUxPTi5WZWN0b3IzKTogQkFCWUxPTi5WZWN0b3IzIHtcclxuICAgIGlmICh0aGlzLnRyYW5zZm9ybU5vZGUpIHtcclxuICAgICAgbGV0IG1hdHJpeDogQkFCWUxPTi5NYXRyaXggPSB0aGlzLnRyYW5zZm9ybU5vZGUuY29tcHV0ZVdvcmxkTWF0cml4KCk7XHJcbiAgICAgIHJldHVybiBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtQ29vcmRpbmF0ZXMobG9jYWxfcG9zaXRpb24sIG1hdHJpeCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbG9jYWxfcG9zaXRpb247XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlsYDpg6jmlrnlkJHlkJHph4/ovazkuJbnlYzmlrnlkJHlkJHph4/vvIzovazmjaLlkI7kv53mjIHlkJHph4/plb/luqbnm7jnrYnvvJtcclxuICAgKiBAcGFyYW0gbG9jYWxfZGlyZWN0aW9uIOWxgOmDqOaWueWQkeWQkemHj++8m1xyXG4gICAqIOi/lOWbnuaWsFZlY3RvcjPlkJHph4/vvJtcclxuICAgKi9cclxuICBwdWJsaWMgdHJhbnNmb3JtRGlyZWN0aW9uKGxvY2FsX2RpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzKTogQkFCWUxPTi5WZWN0b3IzIHtcclxuICAgIGlmICh0aGlzLnRyYW5zZm9ybU5vZGUpIHtcclxuICAgICAgbGV0IG1hdHJpeDogQkFCWUxPTi5NYXRyaXggPSB0aGlzLnRyYW5zZm9ybU5vZGUuY29tcHV0ZVdvcmxkTWF0cml4KCk7XHJcbiAgICAgIHJldHVybiBCQUJZTE9OLlZlY3RvcjMuVHJhbnNmb3JtQ29vcmRpbmF0ZXMobG9jYWxfZGlyZWN0aW9uLCBtYXRyaXgpLnN1YnRyYWN0KHRoaXMudHJhbnNmb3JtTm9kZS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxvY2FsX2RpcmVjdGlvbjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS4lueVjOWdkOagh+S9jee9rui9rOWxgOmDqOWdkOagh+S9jee9ru+8m1xyXG4gICAqIEBwYXJhbSBnbG9iYWxfcG9zaXRpb24g5LiW55WM5Z2Q5qCH5L2N572u77ybXHJcbiAgICog6L+U5Zue5pawVmVjdG9yM+WQkemHj++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnZlcnNlVHJhbnNmb3JtUG9zaXRpb24oZ2xvYmFsX3Bvc2l0aW9uOiBCQUJZTE9OLlZlY3RvcjMpOiBCQUJZTE9OLlZlY3RvcjMge1xyXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtTm9kZSkge1xyXG4gICAgICBsZXQgbWF0cml4OiBCQUJZTE9OLk1hdHJpeCA9IEJBQllMT04uTWF0cml4LkludmVydCh0aGlzLnRyYW5zZm9ybU5vZGUuY29tcHV0ZVdvcmxkTWF0cml4KCkpO1xyXG4gICAgICByZXR1cm4gQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGdsb2JhbF9wb3NpdGlvbiwgbWF0cml4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBnbG9iYWxfcG9zaXRpb247XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDkuJbnlYzmlrnlkJHlkJHph4/ovazlsYDpg6jmlrnlkJHlkJHph4/vvIzovazmjaLlkI7kv53mjIHlkJHph4/plb/luqbnm7jnrYnvvJtcclxuICAgKiBAcGFyYW0gZ2xvYmFsX2RpcmVjdGlvbiDkuJbnlYzmlrnlkJHlkJHph4/vvJtcclxuICAgKiDov5Tlm57mlrBWZWN0b3Iz5ZCR6YeP77ybXHJcbiAgICovXHJcbiAgcHVibGljIGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oZ2xvYmFsX2RpcmVjdGlvbjogQkFCWUxPTi5WZWN0b3IzKTogQkFCWUxPTi5WZWN0b3IzIHtcclxuICAgIGlmICh0aGlzLnRyYW5zZm9ybU5vZGUpIHtcclxuICAgICAgbGV0IG1hdHJpeDogQkFCWUxPTi5NYXRyaXggPSBCQUJZTE9OLk1hdHJpeC5JbnZlcnQodGhpcy50cmFuc2Zvcm1Ob2RlLmNvbXB1dGVXb3JsZE1hdHJpeCgpKTtcclxuICAgICAgbGV0IHBvaW50QTogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGdsb2JhbF9kaXJlY3Rpb24sIG1hdHJpeCk7XHJcbiAgICAgIGxldCBwb2ludE9yaWdpbjogQkFCWUxPTi5WZWN0b3IzID0gQkFCWUxPTi5WZWN0b3IzLlRyYW5zZm9ybUNvb3JkaW5hdGVzKEJBQllMT04uVmVjdG9yMy5aZXJvKCksIG1hdHJpeCk7XHJcbiAgICAgIHJldHVybiBwb2ludEEuc3VidHJhY3QocG9pbnRPcmlnaW4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGdsb2JhbF9kaXJlY3Rpb247XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5tZXNoKSB0aGlzLm1lc2guZGlzcG9zZSgpO1xyXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtTm9kZSkgdGhpcy50cmFuc2Zvcm1Ob2RlLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG5cclxuICAvLyBUT0RPXHJcblxyXG4gIHB1YmxpYyBsb29rQXQodGFyZ2V0OiBUcmFuc2Zvcm0sIHdvcmxkVXA6IEJBQllMT04uVmVjdG9yMyA9IEJBQllMT04uVmVjdG9yMy5VcCgpKTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFBhcmVudChwYXJlbnQ6IE51bGxhYmxlPFRyYW5zZm9ybT4pOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGV0YWNoQ2hpbGRyZW4oKTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIGZpbmRDaGlsZChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuXHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzQ2hpbGRPZihuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoaWxkKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcclxuXHJcbiAgfVxyXG5cclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2tlZXBlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2NlbmVzJzsiLCJpbXBvcnQgeyBTY2VuZXMgfSBmcm9tIFwiLi9zY2VuZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2VuZXNLZWVwZXIge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIG5ldyBTY2VuZXMoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbmZpZyB9IGZyb20gXCIuLi9nbG9iYWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2VuZXMge1xyXG5cclxuICAgIHByaXZhdGUgX3ByZWZpeDogc3RyaW5nID0gJ++8iOacquS/neWtmO+8iSc7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdtYWtlOnNjZW5lOmRpcnR5JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50LnRpdGxlLnN0YXJ0c1dpdGgoc2VsZi5fcHJlZml4KSkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBzZWxmLl9wcmVmaXggKyBkb2N1bWVudC50aXRsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBDb25maWcuaXNTY2VuZURpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcignbWFrZTpzY2VuZTpkaXJ0eScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdtYWtlOnNjZW5lOmNsZWFyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBDb25maWcuaXNTY2VuZURpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC50aXRsZS5zdGFydHNXaXRoKHNlbGYuX3ByZWZpeCkpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZG9jdW1lbnQudGl0bGUuc3Vic3RyaW5nKHNlbGYuX3ByZWZpeC5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgc2NlbmUgYW5kIHBhc3MgcmVzdWx0IHRvIGNhbGxiYWNrXHJcbiAgICAgICAgLy8gZWRpdG9yLm1ldGhvZCgnc2NlbmVzOm5ldycsIGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgICAgIC8vICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAvLyAgICAgICAgIHByb2plY3RJZDogY29uZmlnLnByb2plY3QuaWQsXHJcbiAgICAgICAgLy8gICAgICAgICBicmFuY2hJZDogY29uZmlnLnNlbGYuYnJhbmNoLmlkXHJcbiAgICAgICAgLy8gICAgIH07XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAobmFtZSkgZGF0YS5uYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgLy8gICAgIEFqYXgoe1xyXG4gICAgICAgIC8vICAgICAgICAgdXJsOiAne3t1cmwuYXBpfX0vc2NlbmVzJyxcclxuICAgICAgICAvLyAgICAgICAgIGF1dGg6IHRydWUsXHJcbiAgICAgICAgLy8gICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAvLyAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgICAgIC5vbignbG9hZCcsIGZ1bmN0aW9uIChzdGF0dXM6IGJvb2xlYW4sIGRhdGE6IGFueSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChjYWxsYmFjaylcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gXCJzcmMvbGliXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2VhcmNoIHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyBjYWxjdWxhdGUsIGhvdyBtYW55IHN0cmluZyBgYWBcclxuICAgICAgICAvLyByZXF1aXJlcyBlZGl0cywgdG8gYmVjb21lIHN0cmluZyBgYmBcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdzZWFyY2g6c3RyaW5nRWRpdERpc3RhbmNlJywgZnVuY3Rpb24gKGE6IHN0cmluZywgYjogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIC8vIExldmVuc2h0ZWluIGRpc3RhbmNlXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZW4ud2lraWJvb2tzLm9yZy93aWtpL0FsZ29yaXRobV9JbXBsZW1lbnRhdGlvbi9TdHJpbmdzL0xldmVuc2h0ZWluX2Rpc3RhbmNlI0phdmFTY3JpcHRcclxuICAgICAgICAgICAgaWYgKGEubGVuZ3RoID09PSAwKSByZXR1cm4gYi5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChiLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGEubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoYSA9PT0gYikgcmV0dXJuIDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgaSwgajtcclxuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8PSBiLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgbWF0cml4W2ldID0gW2ldO1xyXG5cclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8PSBhLmxlbmd0aDsgaisrKVxyXG4gICAgICAgICAgICAgICAgbWF0cml4WzBdW2pdID0gajtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPD0gYi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8PSBhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIuY2hhckF0KGkgLSAxKSA9PT0gYS5jaGFyQXQoaiAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMV1baiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IE1hdGgubWluKG1hdHJpeFtpIC0gMV1baiAtIDFdICsgMSwgTWF0aC5taW4obWF0cml4W2ldW2ogLSAxXSArIDEsIG1hdHJpeFtpIC0gMV1bal0gKyAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbWF0cml4W2IubGVuZ3RoXVthLmxlbmd0aF07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNhbGN1bGF0ZSwgaG93IG1hbnkgY2hhcmFjdGVycyBzdHJpbmcgYGJgXHJcbiAgICAgICAgLy8gY29udGFpbnMgb2YgYSBzdHJpbmcgYGFgXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnc2VhcmNoOmNoYXJzQ29udGFpbnMnLCBmdW5jdGlvbiAoYTogc3RyaW5nLCBiOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKGEgPT09IGIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29udGFpbnMgPSAwO1xyXG4gICAgICAgICAgICB2YXIgaW5kOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgaTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgaW5kW2IuY2hhckF0KGkpXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZFthLmNoYXJBdChpKV0pXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnMrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5zO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB0b2tlbml6ZSBzdHJpbmcgaW50byBhcnJheSBvZiB0b2tlbnNcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdzZWFyY2g6c3RyaW5nVG9rZW5pemUnLCBmdW5jdGlvbiAobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNhbWVsQ2FzZVxyXG4gICAgICAgICAgICAvLyB1cHBlckNBU0UxMjNcclxuICAgICAgICAgICAgdmFyIHN0cmluZyA9IG5hbWUucmVwbGFjZSgvKFteQS1aXSkoW0EtWl1bXkEtWl0pL2csICckMSAkMicpLnJlcGxhY2UoLyhbQS1aMC05XXsyLH0pL2csICcgJDEnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNwYWNlIG5vdGF0aW9uXHJcbiAgICAgICAgICAgIC8vIGRhc2gtbm90YXRpb25cclxuICAgICAgICAgICAgLy8gdW5kZXJzY29yZV9ub3RhdGlvblxyXG4gICAgICAgICAgICB2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoLyhcXHN8XFwtfF8pL2cpO1xyXG5cclxuICAgICAgICAgICAgLy8gZmlsdGVyIHZhbGlkIHRva2Vuc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0c1tpXSA9IHBhcnRzW2ldLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldICYmIHBhcnRzW2ldICE9PSAnLScgJiYgcGFydHNbaV0gIT09ICdfJylcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChwYXJ0c1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBzZWFyY2hJdGVtcyA9IGZ1bmN0aW9uIChpdGVtczogYW55LCBzZWFyY2g6IHN0cmluZywgYXJnczogYW55KSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdCBoaXRcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YkZ1bGwgIT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5lZGl0cyA9PT0gSW5maW5pdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZWRpdHMgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5zdWIgPT09IEluZmluaXR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN1YiA9IGl0ZW0uc3ViRnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ubmFtZSA9PT0gc2VhcmNoIHx8IGl0ZW0ubmFtZS5pbmRleE9mKHNlYXJjaCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmVkaXRzID09PSBJbmZpbml0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5lZGl0cyA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YiA9PT0gSW5maW5pdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3ViID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgbmFtZSBjb250YWlucyBlbm91Z2ggb2Ygc2VhcmNoIGNoYXJhY3RlcnNcclxuICAgICAgICAgICAgICAgIHZhciBjb250YWlucyA9IGVkaXRvci5jYWxsKCdzZWFyY2g6Y2hhcnNDb250YWlucycsIHNlYXJjaCwgaXRlbS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWlucyAvIHNlYXJjaC5sZW5ndGggPCBhcmdzLmNvbnRhaW5zQ2hhcnNUb2xlcmFuY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVkaXRzQ2FuZGlkYXRlID0gSW5maW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ViQ2FuZGlkYXRlID0gSW5maW5pdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggdG9rZW5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgaXRlbS50b2tlbnMubGVuZ3RoOyB0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXJlY3QgdG9rZW4gbWF0Y2hcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50b2tlbnNbdF0gPT09IHNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0c0NhbmRpZGF0ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNhbmRpZGF0ZSA9IHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRzID0gZWRpdG9yLmNhbGwoJ3NlYXJjaDpzdHJpbmdFZGl0RGlzdGFuY2UnLCBzZWFyY2gsIGl0ZW0udG9rZW5zW3RdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChzdWJDYW5kaWRhdGUgPT09IEluZmluaXR5IHx8IGVkaXRzIDwgZWRpdHNDYW5kaWRhdGUpICYmIGl0ZW0udG9rZW5zW3RdLmluZGV4T2Yoc2VhcmNoKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VhcmNoIGlzIGEgc3Vic3RyaW5nIG9mIGEgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViQ2FuZGlkYXRlID0gdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdHNDYW5kaWRhdGUgPSBlZGl0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJDYW5kaWRhdGUgPT09IEluZmluaXR5ICYmIGVkaXRzIDwgZWRpdHNDYW5kaWRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGVkaXRzIGNhbmRpZGF0ZSwgbm90IGEgc3Vic3RyaW5nIG9mIGEgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlZGl0cyAvIE1hdGgubWF4KHNlYXJjaC5sZW5ndGgsIGl0ZW0udG9rZW5zW3RdLmxlbmd0aCkpIDw9IGFyZ3MuZWRpdHNEaXN0YW5jZVRvbGVyYW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgZWRpdHMgdG9sZXJhbmNlIGlzIHNhdGlzZmllZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdHNDYW5kaWRhdGUgPSBlZGl0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBubyBtYXRjaCBjYW5kaWRhdGVcclxuICAgICAgICAgICAgICAgIGlmIChlZGl0c0NhbmRpZGF0ZSA9PT0gSW5maW5pdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIG5ldyByZXN1bHRcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZWRpdHMgPSBpdGVtLmVkaXRzID09PSBJbmZpbml0eSA/IGVkaXRzQ2FuZGlkYXRlIDogaXRlbS5lZGl0cyArIGVkaXRzQ2FuZGlkYXRlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5zdWIgPSBpdGVtLnN1YiA9PT0gSW5maW5pdHkgPyBzdWJDYW5kaWRhdGUgOiBpdGVtLnN1YiArIHN1YkNhbmRpZGF0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIC8vIHBlcmZvcm0gc2VhcmNoIHRocm91Z2ggaXRlbXNcclxuICAgICAgICAvLyBpdGVtcyBpcyBhbiBhcnJheSB3aXRoIGFycmF5cyBvZiB0d28gdmFsdWVzXHJcbiAgICAgICAgLy8gd2hlcmUgZmlyc3QgdmFsdWUgaXMgYSBzdHJpbmcgdG8gYmUgc2VhcmNoZWQgYnlcclxuICAgICAgICAvLyBhbmQgc2Vjb25kIHZhbHVlIGlzIGFuIG9iamVjdCB0byBiZSBmb3VuZFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBbICdjYW1lcmEnLCB7b2JqZWN0fSBdLFxyXG4gICAgICAgICAgICBbICdOZXcgRW50aXR5Jywge29iamVjdH0gXSxcclxuICAgICAgICAgICAgWyAnU3VuJywge29iamVjdH0gXVxyXG4gICAgICAgIF1cclxuICAgICAgICAqL1xyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ3NlYXJjaDppdGVtcycsIGZ1bmN0aW9uIChpdGVtczogYW55LCBzZWFyY2g6IHN0cmluZywgYXJnczogYW55KSB7XHJcbiAgICAgICAgICAgIHNlYXJjaCA9IChzZWFyY2ggfHwgJycpLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFzZWFyY2gpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VhcmNoVG9rZW5zID0gZWRpdG9yLmNhbGwoJ3NlYXJjaDpzdHJpbmdUb2tlbml6ZScsIHNlYXJjaCk7XHJcbiAgICAgICAgICAgIGlmICghc2VhcmNoVG9rZW5zLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuXHJcbiAgICAgICAgICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG4gICAgICAgICAgICBhcmdzLmNvbnRhaW5zQ2hhcnNUb2xlcmFuY2UgPSBhcmdzLmNvbnRhaW5zQ2hhcnNUb2xlcmFuY2UgfHwgMC41O1xyXG4gICAgICAgICAgICBhcmdzLmVkaXRzRGlzdGFuY2VUb2xlcmFuY2UgPSBhcmdzLmVkaXRzRGlzdGFuY2VUb2xlcmFuY2UgfHwgMC41O1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcmVjb3JkcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YkluZCA9IGl0ZW1zW2ldWzBdLnRvTG93ZXJDYXNlKCkudHJpbSgpLmluZGV4T2Yoc2VhcmNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZWNvcmRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW1zW2ldWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW1zW2ldWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuczogZWRpdG9yLmNhbGwoJ3NlYXJjaDpzdHJpbmdUb2tlbml6ZScsIGl0ZW1zW2ldWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICBlZGl0czogSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViRnVsbDogKHN1YkluZCAhPT0gLTEpID8gc3ViSW5kIDogSW5maW5pdHksXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBJbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNlYXJjaCBlYWNoIHRva2VuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VhcmNoVG9rZW5zLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgcmVjb3JkcyA9IHNlYXJjaEl0ZW1zKHJlY29yZHMsIHNlYXJjaFRva2Vuc1tpXSwgYXJncyk7XHJcblxyXG4gICAgICAgICAgICAvLyBzb3J0IHJlc3VsdCBmaXJzdCBieSBzdWJzdHJpbmc/IHRoZW4gYnkgZWRpdHMgbnVtYmVyXHJcbiAgICAgICAgICAgIHJlY29yZHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEuc3ViRnVsbCAhPT0gYi5zdWJGdWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuc3ViRnVsbCAtIGIuc3ViRnVsbDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYS5zdWIgIT09IGIuc3ViKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuc3ViIC0gYi5zdWI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGEuZWRpdHMgIT09IGIuZWRpdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5lZGl0cyAtIGIuZWRpdHM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyByZXR1cm4gb25seSBpdGVtcyB3aXRob3V0IG1hdGNoIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHJlY29yZHNbaV0gPSByZWNvcmRzW2ldLml0ZW07XHJcblxyXG4gICAgICAgICAgICAvLyBsaW1pdCBudW1iZXIgb2YgcmVzdWx0c1xyXG4gICAgICAgICAgICBpZiAoYXJncy5oYXNPd25Qcm9wZXJ0eSgnbGltaXRSZXN1bHRzJykgJiYgcmVjb3Jkcy5sZW5ndGggPiBhcmdzLmxpbWl0UmVzdWx0cykge1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkcyA9IHJlY29yZHMuc2xpY2UoMCwgYXJncy5saW1pdFJlc3VsdHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkcztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCAqIGZyb20gJy4vc2VsZWN0b3InO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbGVjdG9yLWhpc3RvcnknOyIsImV4cG9ydCBjbGFzcyBTZWxlY3Rvckhpc3Rvcnkge1xyXG4gIFxyXG59IiwiaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuLi8uLi9saWIvb2JzZXJ2ZXInO1xyXG5pbXBvcnQgeyBPYnNlcnZlckxpc3QgfSBmcm9tICcuLi8uLi9saWInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3RvciB7XHJcblxyXG4gICAgcHVibGljIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyBzZWxlY3RvcjogT2JzZXJ2ZXJMaXN0O1xyXG4gICAgcHVibGljIGxlZ2FjeVNjcmlwdHM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgZXZ0Q2hhbmdlOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmcgPSAnJztcclxuICAgIHB1YmxpYyBsZW5ndGg6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBuZXcgT2JzZXJ2ZXJMaXN0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZ0Q2hhbmdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGluaXQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgdmFyIGluZGV4OiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgdmFyIGtleUJ5VHlwZSA9IGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdlbnRpdHknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmVzb3VyY2VfaWQnO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYXNzZXQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnaWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgc2V0SW5kZXggPSBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBpdGVtOiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5QnlUeXBlKHR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoIWtleSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpbmRleFt0eXBlXSlcclxuICAgICAgICAgICAgICAgIGluZGV4W3R5cGVdID0ge307XHJcblxyXG4gICAgICAgICAgICBpbmRleFt0eXBlXVtpdGVtLmdldChrZXkpXSA9IGl0ZW0ub25jZSgnZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoaXN0b3J5Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUpXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmhpc3RvcnknLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5zZWxlY3Rvci5yZW1vdmUoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgaW5kZXhbdHlwZV1baXRlbS5nZXQoa2V5KV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoaXN0b3J5JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciByZW1vdmVJbmRleCA9IGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGl0ZW06IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5kZXhbdHlwZV0pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlCeVR5cGUodHlwZSk7XHJcbiAgICAgICAgICAgIGlmICgha2V5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5kID0gaW5kZXhbdHlwZV1baXRlbS5nZXQoa2V5KV07XHJcbiAgICAgICAgICAgIGlmICghaW5kKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpbmQudW5iaW5kKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGV2dENoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBldnRDaGFuZ2VGbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZXZ0Q2hhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGYuc2VsZWN0b3IudHlwZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGYuc2VsZWN0b3IuYXJyYXkoKSk7XHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdzZWxlY3RvcjpjaGFuZ2UnLCBzZWxmLnNlbGVjdG9yLnR5cGUsIHNlbGYuc2VsZWN0b3IuYXJyYXkoKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gYWRkaW5nXHJcbiAgICAgICAgc2VsZi5zZWxlY3Rvci5vbignYWRkJywgZnVuY3Rpb24gKGl0ZW06IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCBpbmRleFxyXG4gICAgICAgICAgICBzZXRJbmRleChzZWxmLnR5cGUsIGl0ZW0pO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiYWRkZGRkZGRkOiBcIiArIHNlbGYudHlwZSk7XHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdzZWxlY3RvcjphZGQnLCBpdGVtLCBzZWxmLnR5cGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFldnRDaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGV2dENoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGV2dENoYW5nZUZuLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyByZW1vdmluZ1xyXG4gICAgICAgIHNlbGYuc2VsZWN0b3Iub24oJ3JlbW92ZScsIGZ1bmN0aW9uIChpdGVtOiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICBlZGl0b3IuZW1pdCgnc2VsZWN0b3I6cmVtb3ZlJywgaXRlbSwgc2VsZi50eXBlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihcInJlbW92ZWVlZWVlZTogXCIgKyBzZWxmLnR5cGUpO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgaW5kZXhcclxuICAgICAgICAgICAgcmVtb3ZlSW5kZXgoc2VsZi50eXBlLCBpdGVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgIHNlbGYudHlwZSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFldnRDaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGV2dENoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGV2dENoYW5nZUZuLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gc2VsZWN0aW5nIGl0ZW0gKHRvZ2dsZSlcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdzZWxlY3Rvcjp0b2dnbGUnLCBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBpdGVtOiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYuZW5hYmxlZClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLnNlbGVjdG9yLmxlbmd0aCAmJiBzZWxmLnNlbGVjdG9yLnR5cGUgIT09IHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLnNlbGVjdG9yLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICBzZWxmLnR5cGUgPSB0eXBlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGYuc2VsZWN0b3IuaGFzKGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9yLnJlbW92ZShpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0b3IuYWRkKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHNlbGVjdGluZyBsaXN0IG9mIGl0ZW1zXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnc2VsZWN0b3I6c2V0JywgZnVuY3Rpb24gKHR5cGU6IHN0cmluZywgaXRlbXM6IE9ic2VydmVyW10pIHtcclxuICAgICAgICAgICAgaWYgKCFzZWxmLmVuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZWxmLnNlbGVjdG9yLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXR5cGUgfHwgIWl0ZW1zLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBpdGVtcyBzdGlsbCBleGlzdFxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Fzc2V0Jykge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW06IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzZWxmLmxlZ2FjeVNjcmlwdHMgJiYgaXRlbS5nZXQoJ3R5cGUnKSA9PT0gJ3NjcmlwdCcpIHx8ICEhZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBpdGVtLmdldCgnaWQnKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZW50aXR5Jykge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW06IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIGl0ZW0uZ2V0KCdyZXNvdXJjZV9pZCcpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIHR5cGVcclxuICAgICAgICAgICAgc2VsZi5zZWxlY3Rvci50eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgc2VsZi50eXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZVxyXG4gICAgICAgICAgICAvLyBUT0RPOiDliKDpmaTkuI3ph43lkIjnmoTpg6jliIZcclxuICAgICAgICAgICAgLy8gc2VsZi5zZWxlY3Rvci5maW5kKGZ1bmN0aW9uIChpdGVtOiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIGl0ZW1zLmluZGV4T2YoaXRlbSkgPT09IC0xO1xyXG4gICAgICAgICAgICAvLyB9KS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtOiBPYnNlcnZlcikge1xyXG4gICAgICAgICAgICAvLyAgICAgc2VsZi5zZWxlY3Rvci5yZW1vdmUoaXRlbSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9yLmFkZChpdGVtc1tpXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIOafkOS4qumdouadv+mAieS4rWl0ZW0gLy8gc2VsZWN0aW5nIGl0ZW0gaGllcmFyY2h56YCJ5oup54mp5L2TXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnc2VsZWN0b3I6YWRkJywgKHR5cGU6IHN0cmluZywgaXRlbTogT2JzZXJ2ZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2VsZi5lbmFibGVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGYuc2VsZWN0b3IuaGFzKGl0ZW0pKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdzZWxlY3RvciBhZGTlhaXlj6MsIHR5cGU6ICcgKyB0eXBlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGl0ZW0uZ2V0KCdpZCcpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxmLnNlbGVjdG9yLmxlbmd0aCA+IDAgJiYgc2VsZi5zZWxlY3Rvci50eXBlICE9PSB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0b3IudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIHNlbGYudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0b3IuYWRkKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBkZXNlbGVjdGluZyBpdGVtXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnc2VsZWN0b3I6cmVtb3ZlJywgKGl0ZW06IE9ic2VydmVyKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXNlbGYuZW5hYmxlZClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2VsZi5zZWxlY3Rvci5oYXMoaXRlbSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZWxmLnNlbGVjdG9yLnJlbW92ZShpdGVtKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZGVzZWxlY3RpbmdcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdzZWxlY3RvcjpjbGVhcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFzZWxmLmVuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZWxmLnNlbGVjdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyByZXR1cm4gc2VsZWN0IHR5cGVcclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdzZWxlY3Rvcjp0eXBlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zZWxlY3Rvci50eXBlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gcmV0dXJuIHNlbGVjdGVkIGNvdW50XHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnc2VsZWN0b3I6Y291bnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnNlbGVjdG9yLmxlbmd0aDtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIHJldHVybiBzZWxlY3RlZCBpdGVtc1xyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ3NlbGVjdG9yOml0ZW1zJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zZWxlY3Rvci5hcnJheSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyByZXR1cm4gc2VsZWN0ZWQgaXRlbXMgd2l0aG91dCBtYWtpbmcgY29weSBvZiBhcnJheVxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ3NlbGVjdG9yOml0ZW1zUmF3JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zZWxlY3Rvci5kYXRhO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyByZXR1cm4gaWYgaXQgaGFzIGl0ZW1cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdzZWxlY3RvcjpoYXMnLCBmdW5jdGlvbiAoaXRlbTogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuc2VsZWN0b3IuaGFzKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnc2VsZWN0b3I6ZW5hYmxlZCcsIGZ1bmN0aW9uIChzdGF0ZTogYm9vbGVhbikge1xyXG4gICAgICAgICAgICBzZWxmLmVuYWJsZWQgPSBzdGF0ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vdG9vbGJhci10b3AtY29udHJvbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4va2VlcGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi90b29sYmFyLWxvZ28nO1xyXG5leHBvcnQgKiBmcm9tICcuL3Rvb2xiYXItZ2l6bW9zJztcclxuZXhwb3J0ICogZnJvbSAnLi90b29sYmFyLWhpc3RvcnknO1xyXG5leHBvcnQgKiBmcm9tICcuL3Rvb2xiYXItaGVscCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdG9vbGJhci1jb250cm9sJztcclxuZXhwb3J0ICogZnJvbSAnLi90b29sYmFyLWVkaXRvci1zZXR0aW5ncyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdG9vbGJhci1wdWJsaXNoJztcclxuZXhwb3J0ICogZnJvbSAnLi90b29sYmFyLXNjZW5lJztcclxuIiwiaW1wb3J0IHsgVG9vbGJhckxvZ28gfSBmcm9tIFwiLi90b29sYmFyLWxvZ29cIjtcclxuaW1wb3J0IHsgVG9vbGJhckdpem1vcyB9IGZyb20gXCIuL3Rvb2xiYXItZ2l6bW9zXCI7XHJcbmltcG9ydCB7IFRvb2xiYXJIaXN0b3J5IH0gZnJvbSBcIi4vdG9vbGJhci1oaXN0b3J5XCI7XHJcbmltcG9ydCB7IFRvb2xiYXJIZWxwIH0gZnJvbSBcIi4vdG9vbGJhci1oZWxwXCI7XHJcbmltcG9ydCB7IFRvb2xiYXJDb250cm9sIH0gZnJvbSBcIi4vdG9vbGJhci1jb250cm9sXCI7XHJcbmltcG9ydCB7IFRvb2xiYXJFZGl0b3JTZXR0aW5ncyB9IGZyb20gXCIuL3Rvb2xiYXItZWRpdG9yLXNldHRpbmdzXCI7XHJcbmltcG9ydCB7IFRvb2xiYXJQdWJsaXNoIH0gZnJvbSBcIi4vdG9vbGJhci1wdWJsaXNoXCI7XHJcbmltcG9ydCB7IFRvb2xiYXJTY2VuZSB9IGZyb20gXCIuL3Rvb2xiYXItc2NlbmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sYmFyS2VlcGVyIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIGxldCBsb2dvID0gbmV3IFRvb2xiYXJMb2dvKCk7XHJcbiAgICAgICAgbGV0IGdpem1vcyA9IG5ldyBUb29sYmFyR2l6bW9zKCk7XHJcbiAgICAgICAgbGV0IGhpc3RvcnkgPSBuZXcgVG9vbGJhckhpc3RvcnkoKTtcclxuXHJcbiAgICAgICAgbGV0IGhlbHAgPSBuZXcgVG9vbGJhckhlbHAoKTtcclxuICAgICAgICBsZXQgY29udHJvbCA9IG5ldyBUb29sYmFyQ29udHJvbCgpO1xyXG4gICAgICAgIGxldCBzZXR0aW5ncyA9IG5ldyBUb29sYmFyRWRpdG9yU2V0dGluZ3MoKTtcclxuICAgICAgICBsZXQgcHVibGlzaCA9IG5ldyBUb29sYmFyUHVibGlzaCgpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHNjZW5lID0gbmV3IFRvb2xiYXJTY2VuZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZVwiO1xyXG5pbXBvcnQgeyBCdXR0b24sIFRvb2x0aXAgfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sYmFyQ29udHJvbCB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICAvLyB2YXIgdG9vbGJhciA9IFZlcnlFbmdpbmUudG9vbGJhcjtcclxuXHJcbiAgICAgICAgLy8gdmFyIGJ1dHRvbiA9IG5ldyBCdXR0b24oJyYjNTc2NTQ7Jyk7XHJcbiAgICAgICAgLy8gYnV0dG9uLmNsYXNzIS5hZGQoJ3BjLWljb24nLCAnaGVscC1jb250cm9scycsICdib3R0b20nKTtcclxuICAgICAgICAvLyB0b29sYmFyLmFwcGVuZChidXR0b24pO1xyXG5cclxuICAgICAgICAvLyBidXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICBlZGl0b3IuY2FsbCgnaGVscDpjb250cm9scycpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyBlZGl0b3Iub24oJ2hlbHA6Y29udHJvbHM6b3BlbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICAgYnV0dG9uLmNsYXNzIS5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyBlZGl0b3Iub24oJ2hlbHA6Y29udHJvbHM6Y2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIGJ1dHRvbi5jbGFzcyEucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgLy8gVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICAgIC8vICAgICB0YXJnZXQ6IGJ1dHRvbi5lbGVtZW50ISxcclxuICAgICAgICAvLyAgICAgdGV4dDogJ0NvbnRyb2xzJyxcclxuICAgICAgICAvLyAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgICAvLyAgICAgcm9vdDogZWRpdG9yLmNhbGwoJ2xheW91dC5yb290JylcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZVwiO1xyXG5pbXBvcnQgeyBCdXR0b24sIFRvb2x0aXAgfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sYmFyRWRpdG9yU2V0dGluZ3Mge1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHZhciB0b29sYmFyID0gVmVyeUVuZ2luZS50b29sYmFyO1xyXG5cclxuICAgICAgICAvLyBzZXR0aW5ncyBidXR0b25cclxuICAgICAgICB2YXIgYnV0dG9uID0gbmV3IEJ1dHRvbignJiM1NzY1MjsnKTtcclxuICAgICAgICBidXR0b24uY2xhc3MhLmFkZCgncGMtaWNvbicsICdlZGl0b3Itc2V0dGluZ3MnLCAnYm90dG9tJyk7XHJcbiAgICAgICAgdG9vbGJhci5hcHBlbmQoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzrorr7nva7mjInpkq7mjInkuItcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnNldCcsICdlZGl0b3JTZXR0aW5ncycsIFtlZGl0b3IuY2FsbCgnc2V0dGluZ3M6cHJvamVjdFVzZXInKV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2F0dHJpYnV0ZXM6Y2xlYXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzcyEucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdhdHRyaWJ1dGVzOmluc3BlY3RbZWRpdG9yU2V0dGluZ3NdJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnYXR0cmlidXRlcy5yb290UGFuZWwnKS5jb2xsYXBzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzcyEuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCd2aWV3cG9ydDpleHBhbmQnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBidXR0b24uZWxlbWVudCEsXHJcbiAgICAgICAgICAgIHRleHQ6ICforr7nva4nLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgICAgICByb290OiBlZGl0b3IuY2FsbCgnbGF5b3V0LnJvb3QnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQnV0dG9uLCBUb29sdGlwIH0gZnJvbSBcIi4uLy4uL3VpXCI7XHJcbmltcG9ydCB7IEdpem1vc0NlbnRlciB9IGZyb20gXCIuLi9naXptb3MvZ2l6bW8tY2VudGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVG9vbGJhckdpem1vcyB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICB2YXIgcm9vdCA9IGVkaXRvci5jYWxsKCdsYXlvdXQucm9vdCcpO1xyXG4gICAgICAgIHZhciB0b29sYmFyID0gZWRpdG9yLmNhbGwoJ2xheW91dC50b29sYmFyJyk7XHJcblxyXG4gICAgICAgIHZhciBhY3RpdmVHaXptbzogTnVsbGFibGU8QnV0dG9uPiA9IG51bGw7XHJcbiAgICAgICAgdmFyIGdpem1vQnV0dG9uczogeyBba2V5OiBzdHJpbmddOiBCdXR0b24gfSA9IHt9O1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgZ2l6bW8gdHlwZSBidXR0b25zXHJcbiAgICAgICAgW3tcclxuICAgICAgICAgICAgaWNvbjogJyYjNTc2MTc7JyxcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+enu+WKqCcsXHJcbiAgICAgICAgICAgIG9wOiAndHJhbnNsYXRlJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaWNvbjogJyYjNTc2MTk7JyxcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+aXi+i9rCcsXHJcbiAgICAgICAgICAgIG9wOiAncm90YXRlJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaWNvbjogJyYjNTc2MTg7JyxcclxuICAgICAgICAgICAgdG9vbHRpcDogJ+e8qeaUvicsXHJcbiAgICAgICAgICAgIG9wOiAnc2NhbGUnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICwge1xyXG4gICAgICAgIC8vICAgICBpY29uOiAnJiM1NzY2NjsnLFxyXG4gICAgICAgIC8vICAgICB0b29sdGlwOiAnUmVzaXplIEVsZW1lbnQgQ29tcG9uZW50JyxcclxuICAgICAgICAvLyAgICAgb3A6ICdyZXNpemUnXHJcbiAgICAgICAgLy8gfVxyXG4gICAgXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgYnV0dG9uID0gbmV3IEJ1dHRvbihpdGVtLmljb24pO1xyXG4gICAgICAgICAgICAvLyBidXR0b24uaGlkZGVuID0gIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpO1xyXG4gICAgICAgICAgICBidXR0b24ub3AgPSBpdGVtLm9wO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3MhLmFkZCgncGMtaWNvbicpO1xyXG5cclxuICAgICAgICAgICAgZ2l6bW9CdXR0b25zW2l0ZW0ub3BdID0gYnV0dG9uO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVHaXptbyEub3AgPT09IGJ1dHRvbi5vcClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgYWN0aXZlR2l6bW8hLmNsYXNzIS5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlR2l6bW8hLnRvb2x0aXAhLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlR2l6bW8gPSBidXR0b247XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVHaXptbyEuY2xhc3MhLmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVHaXptbyEudG9vbHRpcCEuY2xhc3MhLnJlbW92ZSgnaW5uYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2dpem1vOnR5cGUnLCBidXR0b24ub3ApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChidXR0b24ub3AgPT09ICd0cmFuc2xhdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgR2l6bW9zQ2VudGVyLnNldE1vZGUoMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbi5vcCA9PT0gJ3JvdGF0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBHaXptb3NDZW50ZXIuc2V0TW9kZSgxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgR2l6bW9zQ2VudGVyLnNldE1vZGUoMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdG9vbGJhci5hcHBlbmQoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi50b29sdGlwID0gVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBidXR0b24uZWxlbWVudCEsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtLnRvb2x0aXAsXHJcbiAgICAgICAgICAgICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgcm9vdDogcm9vdFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLm9wID09PSAndHJhbnNsYXRlJykge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlR2l6bW8gPSBidXR0b247XHJcbiAgICAgICAgICAgICAgICBidXR0b24uY2xhc3MhLmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidXR0b24udG9vbHRpcC5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY29vcmRpbmF0ZSBzeXN0ZW1cclxuICAgICAgICB2YXIgYnV0dG9uV29ybGQgPSBuZXcgQnV0dG9uKCcmIzU3NjI0OycpO1xyXG4gICAgICAgIC8vIGJ1dHRvbldvcmxkLmhpZGRlbiA9ICFlZGl0b3IuY2FsbCgncGVybWlzc2lvbnM6d3JpdGUnKTtcclxuICAgICAgICAvLyBidXR0b25Xb3JsZC5jbGFzcyEuYWRkKCdwYy1pY29uJywgJ2FjdGl2ZScpO1xyXG4gICAgICAgIGJ1dHRvbldvcmxkLmNsYXNzIS5hZGQoJ3BjLWljb24nKTtcclxuICAgICAgICB0b29sYmFyLmFwcGVuZChidXR0b25Xb3JsZCk7XHJcblxyXG4gICAgICAgIGJ1dHRvbldvcmxkLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbldvcmxkLmNsYXNzIS5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbldvcmxkLmNsYXNzIS5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcFdvcmxkLmh0bWwgPSAnPHNwYW4gc3R5bGU9XCJjb2xvcjojZmZmXCI+5bGA6YOo5Z2Q5qCHPC9zcGFuPiAvIOS4lueVjOWdkOaghyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidXR0b25Xb3JsZC5jbGFzcyEuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBXb3JsZC5odG1sID0gJ+WxgOmDqOWdkOaghyAvIDxzcGFuIHN0eWxlPVwiY29sb3I6I2ZmZlwiPuS4lueVjOWdkOaghzwvc3Bhbj4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVkaXRvci5lbWl0KCdnaXptbzpjb29yZFN5c3RlbScsIGJ1dHRvbldvcmxkLmNsYXNzIS5jb250YWlucygnYWN0aXZlJykgPyAnd29ybGQnIDogJ2xvY2FsJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0b29sdGlwV29ybGQgPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogYnV0dG9uV29ybGQuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICB9KTtcclxuICAgICAgICB0b29sdGlwV29ybGQuaHRtbCA9ICc8c3BhbiBzdHlsZT1cImNvbG9yOiNmZmZcIj7lsYDpg6jlnZDmoIc8L3NwYW4+IC8g5LiW55WM5Z2Q5qCHJztcclxuICAgICAgICB0b29sdGlwV29ybGQuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcblxyXG5cclxuICAgICAgICAvLyB0b2dnbGUgZ3JpZCBzbmFwXHJcbiAgICAgICAgLy8gdmFyIGJ1dHRvblNuYXAgPSBuZXcgQnV0dG9uKCcmIzU3NjIyOycpO1xyXG4gICAgICAgIC8vIC8vIGJ1dHRvblNuYXAuaGlkZGVuID0gIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpO1xyXG4gICAgICAgIC8vIGJ1dHRvblNuYXAuY2xhc3MhLmFkZCgncGMtaWNvbicpO1xyXG4gICAgICAgIC8vIGJ1dHRvblNuYXAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICBpZiAoYnV0dG9uU25hcC5jbGFzcyEuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBidXR0b25TbmFwLmNsYXNzIS5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIC8vICAgICAgICAgdG9vbHRpcFNuYXAuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBidXR0b25TbmFwLmNsYXNzIS5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIC8vICAgICAgICAgdG9vbHRpcFNuYXAuY2xhc3MhLnJlbW92ZSgnaW5uYWN0aXZlJyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgZWRpdG9yLmNhbGwoJ2dpem1vOnNuYXAnLCBidXR0b25TbmFwLmNsYXNzIS5jb250YWlucygnYWN0aXZlJykpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIHRvb2xiYXIuYXBwZW5kKGJ1dHRvblNuYXApO1xyXG5cclxuICAgICAgICAvLyB2YXIgdG9vbHRpcFNuYXAgPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAgICAgLy8gICAgIHRhcmdldDogYnV0dG9uU25hcC5lbGVtZW50ISxcclxuICAgICAgICAvLyAgICAgdGV4dDogJ1NuYXAnLFxyXG4gICAgICAgIC8vICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgIC8vICAgICByb290OiByb290XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gdG9vbHRpcFNuYXAuY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcblxyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ3Blcm1pc3Npb25zOndyaXRlU3RhdGUnLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGdpem1vQnV0dG9ucykge1xyXG4gICAgICAgICAgICAgICAgLy8gZ2l6bW9CdXR0b25zW2tleV0uaGlkZGVuID0gIXN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBidXR0b25Xb3JsZC5oaWRkZW4gPSAhc3RhdGU7XHJcbiAgICAgICAgICAgIC8vIGJ1dHRvblNuYXAuaGlkZGVuID0gIXN0YXRlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gZm9jdXMgb24gZW50aXR5XHJcbiAgICAgICAgdmFyIGJ1dHRvbkZvY3VzID0gbmV3IEJ1dHRvbignJiM1NzYyMzsnKTtcclxuICAgICAgICBidXR0b25Gb2N1cy5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgYnV0dG9uRm9jdXMuY2xhc3MhLmFkZCgncGMtaWNvbicpO1xyXG4gICAgICAgIGJ1dHRvbkZvY3VzLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3ZpZXdwb3J0OmZvY3VzJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdG9vbGJhci5hcHBlbmQoYnV0dG9uRm9jdXMpO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2F0dHJpYnV0ZXM6Y2xlYXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbkZvY3VzLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdG9vbHRpcEZvY3VzLmNsYXNzIS5hZGQoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVkaXRvci5vbignYXR0cmlidXRlczppbnNwZWN0WypdJywgZnVuY3Rpb24gKHR5cGU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBidXR0b25Gb2N1cy5kaXNhYmxlZCA9IHR5cGUgIT09ICdlbnRpdHknO1xyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2VudGl0eScpIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBGb2N1cy5jbGFzcyEucmVtb3ZlKCdpbm5hY3RpdmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBGb2N1cy5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdG9vbHRpcEZvY3VzID0gVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICAgICAgICB0YXJnZXQ6IGJ1dHRvbkZvY3VzLmVsZW1lbnQhLFxyXG4gICAgICAgICAgICB0ZXh0OiAn6IGa54Sm5b2T5YmN54mp5L2TJyxcclxuICAgICAgICAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgICAgICAgcm9vdDogcm9vdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRvb2x0aXBGb2N1cy5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZVwiO1xyXG5pbXBvcnQgeyBCdXR0b24sIFRvb2x0aXAgfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sYmFySGVscCB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8vIHZhciB0b29sYmFyID0gVmVyeUVuZ2luZS50b29sYmFyO1xyXG5cclxuICAgICAgICAvLyB2YXIgYnV0dG9uID0gbmV3IEJ1dHRvbignJiM1NzY1NjsnKTtcclxuICAgICAgICAvLyBidXR0b24uY2xhc3MhLmFkZCgncGMtaWNvbicsICdoZWxwLWhvd2RvaScsICdib3R0b20nLCAncHVzaC10b3AnKTtcclxuICAgICAgICAvLyB0b29sYmFyLmFwcGVuZChidXR0b24pO1xyXG5cclxuICAgICAgICAvLyBidXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICBlZGl0b3IuY2FsbCgnaGVscDpob3dkb2k6dG9nZ2xlJyk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIGVkaXRvci5vbignaGVscDpob3dkb2k6b3BlbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICAgYnV0dG9uLmNsYXNzIS5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyBlZGl0b3Iub24oJ2hlbHA6aG93ZG9pOmNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICBidXR0b24uY2xhc3MhLnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAvLyAgICAgdGFyZ2V0OiBidXR0b24uZWxlbWVudCEsXHJcbiAgICAgICAgLy8gICAgIHRleHQ6ICdIb3cgZG8gSS4uLj8nLFxyXG4gICAgICAgIC8vICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgIC8vICAgICByb290OiBlZGl0b3IuY2FsbCgnbGF5b3V0LnJvb3QnKVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZW5naW5lXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiwgVG9vbHRpcCB9IGZyb20gXCIuLi8uLi91aVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xiYXJIaXN0b3J5IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdmFyIHJvb3QgPSBWZXJ5RW5naW5lLnJvb3Q7XHJcbiAgICAgICAgdmFyIHRvb2xiYXIgPSBWZXJ5RW5naW5lLnRvb2xiYXI7XHJcblxyXG4gICAgICAgIC8vIHVuZG9cclxuICAgICAgICB2YXIgYnV0dG9uVW5kbyA9IG5ldyBCdXR0b24oJyYjNTc2MjA7Jyk7XHJcbiAgICAgICAgLy8gYnV0dG9uVW5kby5oaWRkZW4gPSAhZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOndyaXRlJyk7XHJcbiAgICAgICAgYnV0dG9uVW5kby5jbGFzcyEuYWRkKCdwYy1pY29uJyk7XHJcbiAgICAgICAgYnV0dG9uVW5kby5lbmFibGVkID0gZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6Y2FuVW5kbycpO1xyXG4gICAgICAgIHRvb2xiYXIuYXBwZW5kKGJ1dHRvblVuZG8pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2hpc3Rvcnk6Y2FuVW5kbycsIGZ1bmN0aW9uIChzdGF0ZTpib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvblVuZG8uZW5hYmxlZCA9IHN0YXRlO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBVbmRvLmNsYXNzIS5yZW1vdmUoJ2lubmFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcFVuZG8uY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBidXR0b25VbmRvLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6dW5kbycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdG9vbHRpcFVuZG8gPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogYnV0dG9uVW5kby5lbGVtZW50ISxcclxuICAgICAgICAgICAgdGV4dDogJ+aSpOmUgCcsXHJcbiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIWVkaXRvci5jYWxsKCdoaXN0b3J5OmNhblVuZG8nKSlcclxuICAgICAgICAgICAgdG9vbHRpcFVuZG8uY2xhc3MhLmFkZCgnaW5uYWN0aXZlJyk7XHJcblxyXG5cclxuICAgICAgICAvLyByZWRvXHJcbiAgICAgICAgdmFyIGJ1dHRvblJlZG8gPSBuZXcgQnV0dG9uKCcmIzU3NjIxOycpO1xyXG4gICAgICAgIC8vIGJ1dHRvblJlZG8uaGlkZGVuID0gIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczp3cml0ZScpO1xyXG4gICAgICAgIGJ1dHRvblJlZG8uY2xhc3MhLmFkZCgncGMtaWNvbicpO1xyXG4gICAgICAgIGJ1dHRvblJlZG8uZW5hYmxlZCA9IGVkaXRvci5jYWxsKCdoaXN0b3J5OmNhblJlZG8nKTtcclxuICAgICAgICB0b29sYmFyLmFwcGVuZChidXR0b25SZWRvKTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdoaXN0b3J5OmNhblJlZG8nLCBmdW5jdGlvbiAoc3RhdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgYnV0dG9uUmVkby5lbmFibGVkID0gc3RhdGU7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcFJlZG8uY2xhc3MhLnJlbW92ZSgnaW5uYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwUmVkby5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJ1dHRvblJlZG8ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgnaGlzdG9yeTpyZWRvJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciB0b29sdGlwUmVkbyA9IFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBidXR0b25SZWRvLmVsZW1lbnQhLFxyXG4gICAgICAgICAgICB0ZXh0OiAn6YeN5YGaJyxcclxuICAgICAgICAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgICAgICAgcm9vdDogcm9vdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghZWRpdG9yLmNhbGwoJ2hpc3Rvcnk6Y2FuVW5kbycpKVxyXG4gICAgICAgICAgICB0b29sdGlwUmVkby5jbGFzcyEuYWRkKCdpbm5hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdwZXJtaXNzaW9uczp3cml0ZVN0YXRlJywgZnVuY3Rpb24gKHN0YXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvblVuZG8uaGlkZGVuID0gYnV0dG9uUmVkby5oaWRkZW4gPSAhc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi91aVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xiYXJMb2dvIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHZhciByb290ID0gZWRpdG9yLmNhbGwoJ2xheW91dC5yb290Jyk7XHJcbiAgICAgICAgdmFyIHRvb2xiYXIgPSBlZGl0b3IuY2FsbCgnbGF5b3V0LnRvb2xiYXInKTtcclxuXHJcbiAgICAgICAgdmFyIGxvZ28gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgbG9nby5jbGFzcyEuYWRkKCdsb2dvJyk7XHJcbiAgICAgICAgbG9nby5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIG1lbnUub3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2dvIGNsaWNrJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdG9vbGJhci5hcHBlbmQobG9nbyk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG59XHJcbiIsImltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZW5naW5lXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiwgVG9vbHRpcCB9IGZyb20gXCIuLi8uLi91aVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xiYXJQdWJsaXNoIHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdmFyIHRvb2xiYXIgPSBWZXJ5RW5naW5lLnRvb2xiYXI7XHJcblxyXG4gICAgICAgIHZhciBidXR0b24gPSBuZXcgQnV0dG9uKCcmIzU3OTExOycpO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzcyEuYWRkKCdwYy1pY29uJywgJ3B1Ymxpc2gtZG93bmxvYWQnKTtcclxuICAgICAgICB0b29sYmFyLmFwcGVuZChidXR0b24pO1xyXG5cclxuICAgICAgICBidXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgncGlja2VyOnB1Ymxpc2gnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdwaWNrZXI6cHVibGlzaDpvcGVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3MhLmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbigncGlja2VyOnB1Ymxpc2g6Y2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzcyEucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgVG9vbHRpcC5hdHRhY2goe1xyXG4gICAgICAgICAgICB0YXJnZXQ6IGJ1dHRvbi5lbGVtZW50ISxcclxuICAgICAgICAgICAgdGV4dDogJ+WPkeW4gycsXHJcbiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgICAgIHJvb3Q6IGVkaXRvci5jYWxsKCdsYXlvdXQucm9vdCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZVwiO1xyXG5pbXBvcnQgeyBQYW5lbCwgTGFiZWwsIFRvb2x0aXAgfSBmcm9tIFwiLi4vLi4vdWlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sYmFyU2NlbmUge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdmFyIHJvb3QgPSBWZXJ5RW5naW5lLnJvb3Q7XHJcbiAgICAgICAgdmFyIHZpZXdwb3J0ID0gVmVyeUVuZ2luZS52aWV3cG9ydFBhbmVsO1xyXG5cclxuICAgICAgICB2YXIgcGFuZWwgPSBuZXcgUGFuZWwoKTtcclxuICAgICAgICBwYW5lbC5jbGFzcyEuYWRkKCd3aWRnZXQtdGl0bGUnKTtcclxuICAgICAgICB2aWV3cG9ydC5hcHBlbmQocGFuZWwpO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdsYXlvdXQudG9vbGJhci5zY2VuZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhbmVsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgcHJvamVjdE5hbWUgPSBuZXcgTGFiZWwoKTtcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgcHJvamVjdE5hbWUudGV4dCA9ICflvZPliY3pobnnm67lkI3np7AnO1xyXG4gICAgICAgIHByb2plY3ROYW1lLmNsYXNzIS5hZGQoJ3Byb2plY3QtbmFtZScpO1xyXG4gICAgICAgIHByb2plY3ROYW1lLnJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuICAgICAgICBwYW5lbC5hcHBlbmQocHJvamVjdE5hbWUpO1xyXG5cclxuICAgICAgICBwcm9qZWN0TmFtZS5vbignY2xpY2snLCBmdW5jdGlvbiAoYXJndW1lbnQ6IGFueSkge1xyXG4gICAgICAgICAgICAvLyB3aW5kb3cub3BlbignL3Byb2plY3QvJyArIGNvbmZpZy5wcm9qZWN0LmlkLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoXCJ0b29sYmFyLnByb2plY3Quc2V0XCIsIChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgcHJvamVjdE5hbWUudGV4dCA9IG5hbWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBwcm9qZWN0TmFtZS5lbGVtZW50ISxcclxuICAgICAgICAgICAgdGV4dDogJ+mhueebruWQjScsXHJcbiAgICAgICAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgICAgICAgcm9vdDogcm9vdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2NlbmVOYW1lID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIHNjZW5lTmFtZS50ZXh0ID0gJ+W9k+WJjVNjZW5lIE5hbWUnO1xyXG4gICAgICAgIHNjZW5lTmFtZS5jbGFzcyEuYWRkKCdzY2VuZS1uYW1lJyk7XHJcbiAgICAgICAgc2NlbmVOYW1lLnJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuICAgICAgICBwYW5lbC5hcHBlbmQoc2NlbmVOYW1lKTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZChcInRvb2xiYXIuc2NlbmUuc2V0XCIsIChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgc2NlbmVOYW1lLnRleHQgPSBuYW1lO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogc2NlbmVOYW1lLmVsZW1lbnQhLFxyXG4gICAgICAgICAgICB0ZXh0OiAn5Zy65pmv5ZCNJyxcclxuICAgICAgICAgICAgYWxpZ246ICd0b3AnLFxyXG4gICAgICAgICAgICByb290OiByb290XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignc2NlbmU6bmFtZScsIGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc2NlbmVOYW1lLnRleHQgPSBuYW1lO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzY2VuZU5hbWUub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgJ2VkaXRvclNldHRpbmdzJywgW2VkaXRvci5jYWxsKCdzZXR0aW5nczpwcm9qZWN0VXNlcicpXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbignYXR0cmlidXRlczpjbGVhcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2NlbmVOYW1lLmNsYXNzIS5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2F0dHJpYnV0ZXM6aW5zcGVjdFtlZGl0b3JTZXR0aW5nc10nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNjZW5lTmFtZS5jbGFzcyEuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm9uKCdzY2VuZTp1bmxvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNjZW5lTmFtZS50ZXh0ID0gJyc7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBpZiAoIWNvbmZpZy5wcm9qZWN0LnNldHRpbmdzLnVzZUxlZ2FjeVNjcmlwdHMpIHtcclxuICAgICAgICAvLyAgICAgdmFyIG5hbWUgPSBjb25maWcuc2VsZi5icmFuY2gubmFtZTtcclxuICAgICAgICAvLyAgICAgaWYgKG5hbWUubGVuZ3RoID4gMzMpIHtcclxuICAgICAgICAvLyAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygwLCAzMCkgKyAnLi4uJztcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICB2YXIgYnJhbmNoQnV0dG9uID0gbmV3IHVpLkxhYmVsKHtcclxuICAgICAgICAvLyAgICAgICAgIHRleHQ6IG5hbWVcclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIGJyYW5jaEJ1dHRvbi5jbGFzcy5hZGQoJ2JyYW5jaC1uYW1lJyk7XHJcbiAgICAgICAgLy8gICAgIHBhbmVsLmFwcGVuZChicmFuY2hCdXR0b24pO1xyXG4gICAgICAgIC8vICAgICBicmFuY2hCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2tlcjp2ZXJzaW9uY29udHJvbCcpO1xyXG4gICAgICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gICAgIFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAvLyAgICAgICAgIHRhcmdldDogYnJhbmNoQnV0dG9uLmVsZW1lbnQsXHJcbiAgICAgICAgLy8gICAgICAgICB0ZXh0OiAnVmVyc2lvbiBDb250cm9sJyxcclxuICAgICAgICAvLyAgICAgICAgIGFsaWduOiAndG9wJyxcclxuICAgICAgICAvLyAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICAgICAvLyBoaWRlIHZlcnNpb24gY29udHJvbCBwaWNrZXIgaWYgd2UgYXJlIG5vdCBwYXJ0IG9mIHRoZSB0ZWFtXHJcbiAgICAgICAgLy8gICAgIGlmICghZWRpdG9yLmNhbGwoJ3Blcm1pc3Npb25zOnJlYWQnKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgYnJhbmNoQnV0dG9uLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgZWRpdG9yLm9uKCdwZXJtaXNzaW9uczpzZXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBicmFuY2hCdXR0b24uaGlkZGVuID0gIWVkaXRvci5jYWxsKCdwZXJtaXNzaW9uczpyZWFkJyk7XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgdmFyIHNjZW5lTGlzdCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIHNjZW5lTGlzdC5jbGFzcyEuYWRkKCdzY2VuZS1saXN0Jyk7XHJcbiAgICAgICAgcGFuZWwuYXBwZW5kKHNjZW5lTGlzdCk7XHJcblxyXG4gICAgICAgIFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBzY2VuZUxpc3QuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIHRleHQ6ICflnLrmma/orr7nva4nLFxyXG4gICAgICAgICAgICBhbGlnbjogJ3RvcCcsXHJcbiAgICAgICAgICAgIHJvb3Q6IHJvb3RcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2NlbmVMaXN0Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ3BpY2tlcjpzY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ3BpY2tlcjpzY2VuZTpvcGVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzY2VuZUxpc3QuY2xhc3MhLmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbigncGlja2VyOnNjZW5lOmNsb3NlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzY2VuZUxpc3QuY2xhc3MhLnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IFBhbmVsLCBCdXR0b24sIFRvb2x0aXAgfSBmcm9tICcuLi8uLi91aSc7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tICcuLi8uLi9lbmdpbmUnO1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xiYXJUb3BDb250cm9sIHtcclxuXHJcblxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIC8vIHBhbmVsXHJcbiAgICAgICAgdmFyIHBhbmVsID0gbmV3IFBhbmVsKCk7XHJcbiAgICAgICAgcGFuZWwuY2xhc3MhLmFkZCgndG9wLWNvbnRyb2xzJyk7XHJcbiAgICAgICAgVmVyeUVuZ2luZS52aWV3cG9ydFBhbmVsLmFwcGVuZChwYW5lbCk7XHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2xheW91dC50b29sYmFyLmxhdW5jaCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhbmVsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBmdWxsc2NyZWVuIGJ1dHRvblxyXG4gICAgICAgIHZhciBidXR0b25FeHBhbmQgPSBuZXcgQnV0dG9uKCcmIzU3NjM5OycpO1xyXG4gICAgICAgIGJ1dHRvbkV4cGFuZC5jbGFzcyEuYWRkKCdpY29uJywgJ2V4cGFuZCcpO1xyXG4gICAgICAgIHBhbmVsLmFwcGVuZChidXR0b25FeHBhbmQpO1xyXG5cclxuICAgICAgICBidXR0b25FeHBhbmQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0b3IuY2FsbCgndmlld3BvcnQ6ZXhwYW5kJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVkaXRvci5vbigndmlld3BvcnQ6ZXhwYW5kJywgZnVuY3Rpb24gKHN0YXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcEV4cGFuZC50ZXh0ID0gJ+i/mOWOnyc7XHJcbiAgICAgICAgICAgICAgICBidXR0b25FeHBhbmQuY2xhc3MhLmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwRXhwYW5kLnRleHQgPSAn5pyA5aSn5YyWJztcclxuICAgICAgICAgICAgICAgIGJ1dHRvbkV4cGFuZC5jbGFzcyEucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdG9vbHRpcEV4cGFuZC5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdG9vbHRpcEV4cGFuZCA9IFRvb2x0aXAuYXR0YWNoKHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBidXR0b25FeHBhbmQuZWxlbWVudCEsXHJcbiAgICAgICAgICAgIHRleHQ6ICfmnIDlpKfljJYnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ3RvcCcsXHJcbiAgICAgICAgICAgIHJvb3Q6IFZlcnlFbmdpbmUucm9vdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBsYXVuY2hcclxuICAgICAgICB2YXIgbGF1bmNoID0gbmV3IFBhbmVsKCk7XHJcbiAgICAgICAgbGF1bmNoLmNsYXNzIS5hZGQoJ2xhdW5jaCcpO1xyXG4gICAgICAgIHBhbmVsLmFwcGVuZChsYXVuY2gpO1xyXG4gICAgICAgIGxhdW5jaC5zdHlsZSEubWFyZ2luUmlnaHQgPSAnMnB4JztcclxuICAgICAgICAvLyBsYXVuY2guZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICB2YXIgYnV0dG9uTGF1bmNoID0gbmV3IEJ1dHRvbignJiM1NzY0OTsnKTtcclxuICAgICAgICBidXR0b25MYXVuY2guY2xhc3MhLmFkZCgnaWNvbicpO1xyXG4gICAgICAgIGxhdW5jaC5hcHBlbmQoYnV0dG9uTGF1bmNoKTtcclxuXHJcbiAgICAgICAgYnV0dG9uTGF1bmNoLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93Lm9wZW4od2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgJy9wdWJsaXNoLycgKyBDb25maWcucHJvamVjdElEKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRvb2x0aXBMYXVuY2ggPSBUb29sdGlwLmF0dGFjaCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogYnV0dG9uTGF1bmNoLmVsZW1lbnQhLFxyXG4gICAgICAgICAgICB0ZXh0OiAn6L+Q6KGMJyxcclxuICAgICAgICAgICAgYWxpZ246ICd0b3AnLFxyXG4gICAgICAgICAgICByb290OiBWZXJ5RW5naW5lLnJvb3RcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi4vLi4vbGliXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWpheCB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFyZ3M6IG9iamVjdCB8IHN0cmluZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKGFyZ3MpID09PSAnc3RyaW5nJylcclxuICAgICAgICAgICAgYXJncyA9IHsgdXJsOiBhcmdzIH07XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgQWpheFJlcXVlc3QoYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQodXJsOiBzdHJpbmcpOiBBamF4UmVxdWVzdCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBamF4UmVxdWVzdCh7IHVybDogdXJsIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcG9zdCh1cmw6IHN0cmluZywgZGF0YTogYW55KTogQWpheFJlcXVlc3Qge1xyXG4gICAgICAgIHJldHVybiBuZXcgQWpheFJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHB1dCh1cmw6IHN0cmluZywgZGF0YTogYW55KTogQWpheFJlcXVlc3Qge1xyXG4gICAgICAgIHJldHVybiBuZXcgQWpheFJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKHVybDogc3RyaW5nKTogQWpheFJlcXVlc3Qge1xyXG4gICAgICAgIHJldHVybiBuZXcgQWpheFJlcXVlc3Qoe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICB1cmw6IHVybFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyYW1zOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJhbShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBBamF4LnBhcmFtc1tuYW1lXSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBamF4UmVxdWVzdCBleHRlbmRzIEV2ZW50cyB7XHJcblxyXG4gICAgcHJpdmF0ZSBfcHJvZ3Jlc3M6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBfeGhyOiBYTUxIdHRwUmVxdWVzdDtcclxuXHJcbiAgICBwdWJsaWMgbm90SnNvbjogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXJnczogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKCFhcmdzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYWpheOivt+axguaXoOWPguaVsO+8jOivt+ajgOafpe+8gScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IDAuMDtcclxuICAgICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgdGhpcy5fcHJvZ3Jlc3MpO1xyXG5cclxuICAgICAgICB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgICAgLy8gc2VuZCBjb29raWVzXHJcbiAgICAgICAgaWYgKGFyZ3MuY29va2llcylcclxuICAgICAgICAgICAgdGhpcy5feGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIGV2ZW50c1xyXG4gICAgICAgIHRoaXMuX3hoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fb25Mb2FkLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgICAgICAvLyB0aGlzLl94aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgICAgICB0aGlzLl94aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5feGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5feGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fb25BYm9ydC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIHVybFxyXG4gICAgICAgIGxldCB1cmw6IHN0cmluZyA9IGFyZ3MudXJsO1xyXG5cclxuICAgICAgICAvLyBxdWVyeVxyXG4gICAgICAgIGlmIChhcmdzLnF1ZXJ5ICYmIE9iamVjdC5rZXlzKGFyZ3MucXVlcnkpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHVybCArPSAnPyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJncy5xdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgcXVlcnkucHVzaChrZXkgKyAnPScgKyBhcmdzLnF1ZXJ5W2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1cmwgKz0gcXVlcnkuam9pbignJicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGVtcGxhdGluZ1xyXG4gICAgICAgIHZhciBwYXJ0cyA9IHVybC5zcGxpdCgne3snKTtcclxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kcyA9IHBhcnRzW2ldLmluZGV4T2YoJ319Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFydHNbaV0uc2xpY2UoMCwgZW5kcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFqYXgucGFyYW1zW2tleV0gPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlXHJcbiAgICAgICAgICAgICAgICBwYXJ0c1tpXSA9IEFqYXgucGFyYW1zW2tleV0gKyBwYXJ0c1tpXS5zbGljZShlbmRzICsgMik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHVybCA9IHBhcnRzLmpvaW4oJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb3BlbiByZXF1ZXN0XHJcbiAgICAgICAgdGhpcy5feGhyLm9wZW4oYXJncy5tZXRob2QgfHwgJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIOi/lOWbnuaVsOaNruaYr+WQpuS4umpzb27moLzlvI9cclxuICAgICAgICB0aGlzLm5vdEpzb24gPSBhcmdzLm5vdEpzb24gfHwgZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGhlYWRlciBmb3IgUFVUL1BPU1RcclxuICAgICAgICBpZiAoIWFyZ3MuaWdub3JlQ29udGVudFR5cGUgJiYgKGFyZ3MubWV0aG9kID09PSAnUFVUJyB8fCBhcmdzLm1ldGhvZCA9PT0gJ1BPU1QnIHx8IGFyZ3MubWV0aG9kID09PSAnREVMRVRFJykpXHJcbiAgICAgICAgICAgIHRoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiDmnYPpmZBoZWFkZXLlj4LmlbBcclxuICAgICAgICAvLyBpZiAoYXJncy5hdXRoICYmIGNvbmZpZy5hY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIC8vICAgICB0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGNvbmZpZy5hY2Nlc3NUb2tlbik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBpZiAoYXJncy5oZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmdzLmhlYWRlcnMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGFyZ3MuaGVhZGVyc1trZXldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHN0cmluZ2lmeSBkYXRhIGlmIG5lZWRlZFxyXG4gICAgICAgIGlmIChhcmdzLmRhdGEgJiYgdHlwZW9mIChhcmdzLmRhdGEpICE9PSAnc3RyaW5nJyAmJiAhKGFyZ3MuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhKSkge1xyXG4gICAgICAgICAgICBhcmdzLmRhdGEgPSBKU09OLnN0cmluZ2lmeShhcmdzLmRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbWFrZSByZXF1ZXN0XHJcbiAgICAgICAgdGhpcy5feGhyLnNlbmQoYXJncy5kYXRhIHx8IG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uTG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IDEuMDtcclxuICAgICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgMS4wKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3hoci5zdGF0dXMgPT09IDIwMCB8fCB0aGlzLl94aHIuc3RhdHVzID09PSAyMDEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubm90SnNvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkJywgdGhpcy5feGhyLnN0YXR1cywgdGhpcy5feGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZSh0aGlzLl94aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMuX3hoci5zdGF0dXMgfHwgMCwgbmV3IEVycm9yKCdpbnZhbGlkIGpzb24nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkJywgdGhpcy5feGhyLnN0YXR1cywganNvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHRoaXMuX3hoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IGpzb24ubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGlmICghbXNnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0ganNvbi5lcnJvciB8fCAoanNvbi5yZXNwb25zZSAmJiBqc29uLnJlc3BvbnNlLmVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIW1zZykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IHRoaXMuX3hoci5yZXNwb25zZVRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMuX3hoci5zdGF0dXMsIG1zZyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcy5feGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25FcnJvcihldnQ6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCAwLCBldnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uQWJvcnQoZXZ0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgMCwgZXZ0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vblByb2dyZXNzKGV2dDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFldnQubGVuZ3RoQ29tcHV0YWJsZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBldnQubG9hZGVkIC8gZXZ0LnRvdGFsO1xyXG5cclxuICAgICAgICBpZiAocHJvZ3Jlc3MgIT09IHRoaXMuX3Byb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCB0aGlzLl9wcm9ncmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYm9ydCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl94aHIuYWJvcnQoKTtcclxuICAgIH1cclxuXHJcblxyXG59IiwiZXhwb3J0IGNsYXNzIENvbXBvbmVudHNMb2dvcyB7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGVkaXRvci5tZXRob2QoJ2NvbXBvbmVudHM6bG9nb3MnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2FuaW1hdGlvbic6ICcmIzU3ODc1OycsXHJcbiAgICAgICAgJ2F1ZGlvbGlzdGVuZXInOiAnJiM1Nzc1MDsnLFxyXG4gICAgICAgICdhdWRpb3NvdXJjZSc6ICcmIzU3NzUxOycsXHJcbiAgICAgICAgJ3NvdW5kJzogJyYjNTc3NTE7JyxcclxuICAgICAgICAnY2FtZXJhJzogJyYjNTc4NzQ7JyxcclxuICAgICAgICAnY29sbGlzaW9uJzogJyYjNTc3MzU7JyxcclxuICAgICAgICAnZGlyZWN0aW9uYWwnOiAnJiM1Nzc0NjsnLFxyXG4gICAgICAgICdwb2ludCc6ICcmIzU3NzQ1OycsXHJcbiAgICAgICAgJ3Nwb3QnOiAnJiM1Nzc0NzsnLFxyXG4gICAgICAgICdsaWdodCc6ICcmIzU3NzQ4OycsXHJcbiAgICAgICAgJ21vZGVsJzogJyYjNTc3MzY7JyxcclxuICAgICAgICAncGFydGljbGVzeXN0ZW0nOiAnJiM1Nzc1MzsnLFxyXG4gICAgICAgICdyaWdpZGJvZHknOiAnJiM1NzczNzsnLFxyXG4gICAgICAgICdzY3JpcHQnOiAnJiM1NzkxMDsnLFxyXG4gICAgICAgICdzY3JlZW4nOiAnJiM1ODM3MTsnLFxyXG4gICAgICAgICdzcHJpdGUnOiAnJiM1ODI2MTsnLFxyXG4gICAgICAgICdlbGVtZW50JzogJyYjNTgyMzI7JyxcclxuICAgICAgICAnbGF5b3V0Z3JvdXAnOiAnJiM1NzY2NzsnLFxyXG4gICAgICAgICdsYXlvdXRjaGlsZCc6ICcmIzU3NjY3OycsXHJcbiAgICAgICAgJ3Njcm9sbHZpZXcnOiAnJiM1ODM3NjsnLFxyXG4gICAgICAgICdzY3JvbGxiYXInOiAnJiM1ODM3NzsnLFxyXG4gICAgICAgICdidXR0b24nOiAnJiM1ODM3MzsnLFxyXG4gICAgICAgICd6b25lJzogJyYjNTc5MTA7JyxcclxuICAgICAgICAnMmQtc2NyZWVuJzogJyYjNTgzNzE7JyxcclxuICAgICAgICAnM2Qtc2NyZWVuJzogJyYjNTgzNzI7JyxcclxuICAgICAgICAndGV4dC1lbGVtZW50JzogJyYjNTgzNzQ7JyxcclxuICAgICAgICAnaW1hZ2UtZWxlbWVudCc6ICcmIzU4MDA1OycsXHJcbiAgICAgICAgJ2dyb3VwLWVsZW1lbnQnOiAnJiM1ODM3NTsnLFxyXG4gICAgICAgICd1c2VyaW50ZXJmYWNlJzogJyYjNTgzNzA7J1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG59IiwiZXhwb3J0IGNsYXNzIENvbnRleHRNZW51IHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8g6Zi75q2i6buY6K6k6byg5qCH5Y+z6ZSu6I+c5Y2VXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgRGVidWcge1xyXG5cclxuICAgIHByaXZhdGUgYWxsb3c6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFsbG93OiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuYWxsb3cgPSBhbGxvdztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9nKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5hbGxvdykgcmV0dXJuO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UsIG9wdGlvbmFsUGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgd2FybihtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWxsb3cpIHJldHVybjtcclxuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlcnJvcihtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWxsb3cpIHJldHVybjtcclxuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIG9wdGlvbmFsUGFyYW1zKTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgRXZlbnRQcm94eSB7XHJcblxyXG4gICAgcHJpdmF0ZSBfY2FsbGJhY2tzOiB7IFtrZXk6IHN0cmluZ106IEZ1bmN0aW9uW10gfTtcclxuICAgIHByaXZhdGUgX2ZpcmVkOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgICBwcml2YXRlIF9hZnRlcjogYW55O1xyXG5cclxuICAgIHB1YmxpYyBkZWJ1ZzogRnVuY3Rpb247XHJcblxyXG4gICAgLyohXHJcbiAgICAgKiByZWZzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgU0xJQ0UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XHJcbiAgICBwcml2YXRlIENPTkNBVCA9IEFycmF5LnByb3RvdHlwZS5jb25jYXQ7XHJcbiAgICBwcml2YXRlIEFMTF9FVkVOVDogc3RyaW5nID0gJ19fYWxsX18nO1xyXG5cclxuICAgIHByaXZhdGUgbGF0ZXIgPSAodHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2V0SW1tZWRpYXRlKSB8fFxyXG4gICAgICAgICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5uZXh0VGljaykgfHwgZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkZWJ1Zz86ICgpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLmRlYnVnID0gZGVidWcgfHwgZnVuY3Rpb24gKCkgeyB9O1xyXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRMaXN0ZW5lcihldjogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pOiBFdmVudFByb3h5IHtcclxuICAgICAgICB0aGlzLmRlYnVnKCdBZGQgbGlzdGVuZXIgZm9yICVzJywgZXYpO1xyXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrc1tldl0gPSB0aGlzLl9jYWxsYmFja3NbZXZdIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrc1tldl0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmQoZXY6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKTogRXZlbnRQcm94eSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZXYsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb24oZXY6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKTogRXZlbnRQcm94eSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoZXYsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3Vic2NyaWJlKGV2OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZExpc3RlbmVyKGV2LCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhlYWRiaW5kKGV2OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHRoaXMuZGVidWcoJ0FkZCBsaXN0ZW5lciBmb3IgJXMnLCBldik7XHJcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2V2XSA9IHRoaXMuX2NhbGxiYWNrc1tldl0gfHwgW107XHJcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2V2XS51bnNoaWZ0KGNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnRuYW1lPzogc3RyaW5nLCBjYWxsYmFjaz86IE51bGxhYmxlPEZ1bmN0aW9uPik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHZhciBjYWxscyA9IHRoaXMuX2NhbGxiYWNrcztcclxuICAgICAgICBpZiAoIWV2ZW50bmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnKCdSZW1vdmUgYWxsIGxpc3RlbmVycycpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdSZW1vdmUgYWxsIGxpc3RlbmVycyBvZiAlcycsIGV2ZW50bmFtZSk7XHJcbiAgICAgICAgICAgICAgICBjYWxsc1tldmVudG5hbWVdID0gW107XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IGNhbGxzW2V2ZW50bmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsID0gbGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrID09PSBsaXN0W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdSZW1vdmUgYSBsaXN0ZW5lciBvZiAlcycsIGV2ZW50bmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdW5iaW5kKGV2ZW50bmFtZT86IHN0cmluZywgY2FsbGJhY2s/OiBOdWxsYWJsZTxGdW5jdGlvbj4pOiBFdmVudFByb3h5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudG5hbWUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQWxsTGlzdGVuZXJzKCk6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVuYmluZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kRm9yQWxsKGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYmluZCh0aGlzLkFMTF9FVkVOVCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1bmJpbmRGb3JBbGwoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy51bmJpbmQodGhpcy5BTExfRVZFTlQsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHRyaWdnZXIoZXZlbnRuYW1lOiBzdHJpbmcsIGRhdGE/OiBhbnksIC4uLmFyZ3M6IGFueVtdKTogRXZlbnRQcm94eSB7XHJcbiAgICAgICAgdmFyIGxpc3QsIGV2LCBjYWxsYmFjaywgaSwgbDtcclxuICAgICAgICB2YXIgYm90aCA9IDI7XHJcbiAgICAgICAgdmFyIGNhbGxzID0gdGhpcy5fY2FsbGJhY2tzO1xyXG4gICAgICAgIHRoaXMuZGVidWcoJ0VtaXQgZXZlbnQgJXMgd2l0aCBkYXRhICVqJywgZXZlbnRuYW1lLCBkYXRhKTtcclxuICAgICAgICAvLyDov5DooYzlvZPliY1lduWSjEFMTFxyXG4gICAgICAgIHdoaWxlIChib3RoLS0pIHtcclxuICAgICAgICAgICAgZXYgPSBib3RoID8gZXZlbnRuYW1lIDogdGhpcy5BTExfRVZFTlQ7XHJcbiAgICAgICAgICAgIGxpc3QgPSBjYWxsc1tldl07XHJcbiAgICAgICAgICAgIGlmIChsaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShjYWxsYmFjayA9IGxpc3RbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGwtLTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBib3RoID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBzdGFydDsgaiA8IGFyZ3VtZW50cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tqXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbWl0KGV2ZW50bmFtZTogc3RyaW5nLCBkYXRhPzogYW55KTogRXZlbnRQcm94eSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcihldmVudG5hbWUsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaXJlKGV2ZW50bmFtZTogc3RyaW5nLCBkYXRhPzogYW55KTogRXZlbnRQcm94eSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcihldmVudG5hbWUsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbmNlKGV2OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgd3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgc2VsZi51bmJpbmQoZXYsIHdyYXBwZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5iaW5kKGV2LCB3cmFwcGVyKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICAvLyBwdWJsaWMgZW1pdExhdGVyKCkge1xyXG4gICAgLy8gICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vICAgICB2YXIgYXJnczogYW55W10gPSBbXTtcclxuXHJcbiAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgdGhpcy5sYXRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgIHNlbGYudHJpZ2dlci5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vIH1cclxuXHJcblxyXG4gICAgcHVibGljIGltbWVkaWF0ZShldjogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIGRhdGE6IGFueSkge1xyXG4gICAgICAgIHRoaXMuYmluZChldiwgY2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcihldiwgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfYXNzaWduKGV2ZW50bmFtZXM6IHN0cmluZ1tdLCBjYjogRnVuY3Rpb24sIG9uY2U6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xyXG4gICAgICAgIC8vIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcclxuICAgICAgICB2YXIgdGltZXMgPSAwO1xyXG4gICAgICAgIHZhciBmbGFnOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuICAgICAgICAvLyBDaGVjayB0aGUgYXJndW1lbnRzIGxlbmd0aC5cclxuICAgICAgICAvLyBpZiAoYXJnc0xlbmd0aCA8IDMpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB2YXIgZXZlbnRzID0gZXZlbnRuYW1lcztcclxuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYjtcclxuICAgICAgICB2YXIgaXNPbmNlID0gb25jZTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgdGhlIGNhbGxiYWNrIHR5cGUuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZWJ1ZygnQXNzaWduIGxpc3RlbmVyIGZvciBldmVudHMgJWosIG9uY2UgaXMgJXMnLCBldmVudHMsICEhaXNPbmNlKTtcclxuXHJcbiAgICAgICAgdmFyIGJpbmQgPSBmdW5jdGlvbiAoa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKGlzT25jZSkge1xyXG4gICAgICAgICAgICAgICAgcHJveHkub25jZShrZXksIChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm94eS5fZmlyZWRba2V5XSA9IHByb3h5Ll9maXJlZFtrZXldIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3h5Ll9maXJlZFtrZXldLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZmxhZ1trZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm94eS5iaW5kKGtleSwgKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3h5Ll9maXJlZFtrZXldID0gcHJveHkuX2ZpcmVkW2tleV0gfHwge307XHJcbiAgICAgICAgICAgICAgICAgICAgcHJveHkuX2ZpcmVkW2tleV0uZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbGFnW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ1trZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXMrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGV2ZW50cy5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBiaW5kKGV2ZW50c1tpbmRleF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIF9hbGwgPSBmdW5jdGlvbiAoZXZlbnQ6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodGltZXMgPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWZsYWdbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHByb3h5Ll9maXJlZFtldmVudHNbaW5kZXhdXS5kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNPbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBwcm94eS51bmJpbmRGb3JBbGwoX2FsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJveHkuZGVidWcoJ0V2ZW50cyAlaiBhbGwgZW1pdGVkIHdpdGggZGF0YSAlaicsIGV2ZW50cywgZGF0YSk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGRhdGEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJveHkuYmluZEZvckFsbChfYWxsKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGFsbChldmVudG5hbWUxOiBzdHJpbmcgfCBzdHJpbmdbXSwgZXZlbnRuYW1lMjogc3RyaW5nIHwgc3RyaW5nW10sIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHZhciBuYW1lczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50bmFtZTEgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5hbWVzLnB1c2goZXZlbnRuYW1lMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmFtZXMgPSB0aGlzLkNPTkNBVC5hcHBseShuYW1lcywgPHN0cmluZ1tdPmV2ZW50bmFtZTEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50bmFtZTIgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5hbWVzLnB1c2goZXZlbnRuYW1lMik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmFtZXMgPSB0aGlzLkNPTkNBVC5hcHBseShuYW1lcywgPHN0cmluZ1tdPmV2ZW50bmFtZTIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9hc3NpZ24uYXBwbHkodGhpcywgW25hbWVzLCBjYWxsYmFjaywgdHJ1ZV0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3NpZ24oZXZlbnRuYW1lMTogc3RyaW5nIHwgc3RyaW5nW10sIGV2ZW50bmFtZTI6IHN0cmluZyB8IHN0cmluZ1tdLCBjYWxsYmFjazogRnVuY3Rpb24pOiBFdmVudFByb3h5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbGwoZXZlbnRuYW1lMSwgZXZlbnRuYW1lMiwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmYWlsKGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICB0aGF0Lm9uY2UoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGF0LnVuYmluZCgpO1xyXG4gICAgICAgICAgICAvLyBwdXQgYWxsIGFyZ3VtZW50cyB0byB0aGUgZXJyb3IgaGFuZGxlclxyXG4gICAgICAgICAgICAvLyBmYWlsKGZ1bmN0aW9uKGVyciwgYXJnczEsIGFyZ3MyLCAuLi4pe30pXHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRocm93KGVycjogRXJyb3IpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGFpbChldmVudG5hbWUxOiBzdHJpbmcgfCBzdHJpbmdbXSwgZXZlbnRuYW1lMjogc3RyaW5nIHwgc3RyaW5nW10sIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHZhciBuYW1lczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50bmFtZTEgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5hbWVzLnB1c2goZXZlbnRuYW1lMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmFtZXMgPSB0aGlzLkNPTkNBVC5hcHBseShuYW1lcywgPHN0cmluZ1tdPmV2ZW50bmFtZTEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50bmFtZTIgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5hbWVzLnB1c2goZXZlbnRuYW1lMik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmFtZXMgPSB0aGlzLkNPTkNBVC5hcHBseShuYW1lcywgPHN0cmluZ1tdPmV2ZW50bmFtZTIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9hc3NpZ24uYXBwbHkodGhpcywgW25hbWVzLCBjYWxsYmFjaywgZmFsc2VdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXNzaWduQWxsKGV2ZW50bmFtZTE6IHN0cmluZyB8IHN0cmluZ1tdLCBldmVudG5hbWUyOiBzdHJpbmcgfCBzdHJpbmdbXSwgY2FsbGJhY2s6IEZ1bmN0aW9uKTogRXZlbnRQcm94eSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFpbChldmVudG5hbWUxLCBldmVudG5hbWUyLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzc2lnbkFsd2F5cyhldmVudG5hbWUxOiBzdHJpbmcgfCBzdHJpbmdbXSwgZXZlbnRuYW1lMjogc3RyaW5nIHwgc3RyaW5nW10sIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhaWwoZXZlbnRuYW1lMSwgZXZlbnRuYW1lMiwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgYWZ0ZXIgdGhlIGV2ZW50IGJlIGZpcmVkIE4gdGltZXMuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRuYW1lIEV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGltZXMgTiB0aW1lcy5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrLCB0aGF0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIGV2ZW50IHdhcyBmaXJlZCBOIHRpbWVzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWZ0ZXIoZXZlbnRuYW1lOiBzdHJpbmcsIHRpbWVzOiBudW1iZXIsIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIGlmICh0aW1lcyA9PT0gMCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKG51bGwsIFtdKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcm94eSA9IHRoaXMsXHJcbiAgICAgICAgICAgIGZpcmVkRGF0YTogYW55W10gPSBbXTtcclxuICAgICAgICB0aGlzLl9hZnRlciA9IHRoaXMuX2FmdGVyIHx8IHt9O1xyXG4gICAgICAgIHZhciBncm91cCA9IGV2ZW50bmFtZSArICdfZ3JvdXAnO1xyXG4gICAgICAgIHRoaXMuX2FmdGVyW2dyb3VwXSA9IHtcclxuICAgICAgICAgICAgaW5kZXg6IDAsXHJcbiAgICAgICAgICAgIHJlc3VsdHM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmRlYnVnKCdBZnRlciBlbWl0ICVzIHRpbWVzLCBldmVudCAlc1xcJ3MgbGlzdGVubmVyIHdpbGwgZXhlY3V0ZScsIHRpbWVzLCBldmVudG5hbWUpO1xyXG4gICAgICAgIHZhciBhbGwgPSBmdW5jdGlvbiAobmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKG5hbWUgPT09IGV2ZW50bmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGltZXMtLTtcclxuICAgICAgICAgICAgICAgIGZpcmVkRGF0YS5wdXNoKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVzIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3h5LmRlYnVnKCdFdmVudCAlcyB3YXMgZW1pdCAlcywgYW5kIGV4ZWN1dGUgdGhlIGxpc3Rlbm5lcicsIGV2ZW50bmFtZSwgdGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3h5LnVuYmluZEZvckFsbChhbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIFtmaXJlZERhdGFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHRpbWVzLS07XHJcbiAgICAgICAgICAgICAgICBwcm94eS5fYWZ0ZXJbZ3JvdXBdLnJlc3VsdHNbZGF0YS5pbmRleF0gPSBkYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lcyA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm94eS5kZWJ1ZygnRXZlbnQgJXMgd2FzIGVtaXQgJXMsIGFuZCBleGVjdXRlIHRoZSBsaXN0ZW5uZXInLCBldmVudG5hbWUsIHRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm94eS51bmJpbmRGb3JBbGwoYWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKG51bGwsIHByb3h5Ll9hZnRlcltncm91cF0ucmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHByb3h5LmJpbmRGb3JBbGwoYWxsKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBgYWZ0ZXJgIG1ldGhvZCdzIGhlbHBlci4gVXNlIGl0IHdpbGwgcmV0dXJuIG9yZGVyZWQgcmVzdWx0cy5cclxuICAgICAqIElmIHlvdSBuZWVkIG1hbmlwdWxhdGUgcmVzdWx0LCB5b3UgbmVlZCBjYWxsYmFja1xyXG4gICAgICogRXhhbXBsZXM6XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogdmFyIGVwID0gbmV3IEV2ZW50UHJveHkoKTtcclxuICAgICAqIGVwLmFmdGVyKCdmaWxlJywgZmlsZXMubGVuZ3RoLCBmdW5jdGlvbiAobGlzdCkge1xyXG4gICAgICogICAvLyBPcmRlcmVkIHJlc3VsdHNcclxuICAgICAqIH0pO1xyXG4gICAgICogZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICogICBmcy5yZWFkRmlsZShmaWxlc1tpXSwgJ3V0Zi04JywgZXAuZ3JvdXAoJ2ZpbGUnKSk7XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudG5hbWUgRXZlbnQgbmFtZSwgc2hvdWxlIGtlZXAgY29uc2lzdGVudCB3aXRoIGBhZnRlcmAuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvbiwgc2hvdWxkIHJldHVybiB0aGUgZmluYWwgcmVzdWx0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ3JvdXAoZXZlbnRuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICB2YXIgZ3JvdXAgPSBldmVudG5hbWUgKyAnX2dyb3VwJztcclxuICAgICAgICB2YXIgaW5kZXggPSB0aGF0Ll9hZnRlcltncm91cF0uaW5kZXg7XHJcbiAgICAgICAgdGhhdC5fYWZ0ZXJbZ3JvdXBdLmluZGV4Kys7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnI6IEVycm9yLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgLy8gcHV0IGFsbCBhcmd1bWVudHMgdG8gdGhlIGVycm9yIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgIHRoYXQudGhyb3coZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGF0LmVtaXQoZ3JvdXAsIHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrKGVyciwgYXJnczEsIGFyZ3MyLCAuLi4pXHJcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGNhbGxiYWNrID8gY2FsbGJhY2suYXBwbHkobnVsbCwgdGhhdC5TTElDRS5jYWxsKGFyZ3VtZW50cywgMSkpIDogZGF0YVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgYWZ0ZXIgYW55IHJlZ2lzdGVyZWQgZXZlbnQgd2FzIGZpcmVkLiBJdCBvbmx5IGV4ZWN1dGVkIG9uY2UuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRuYW1lMSBFdmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50bmFtZTIgRXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayB3aWxsIGdldCBhIG1hcCB0aGF0IGhhcyBkYXRhIGFuZCBldmVudG5hbWUgYXR0cmlidXRlcy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFueShldmVudG5hbWUxOiBzdHJpbmcgfCBzdHJpbmdbXSwgZXZlbnRuYW1lMjogc3RyaW5nIHwgc3RyaW5nW10sIGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHZhciBwcm94eSA9IHRoaXMsXHJcbiAgICAgICAgICAgIGV2ZW50cyA9IHByb3h5LlNMSUNFLmNhbGwoYXJndW1lbnRzLCAwLCAtMSksXHJcbiAgICAgICAgICAgIF9ldmVudG5hbWUgPSBldmVudHMuam9pbihcIl9cIik7XHJcblxyXG4gICAgICAgIHByb3h5LmRlYnVnKCdBZGQgbGlzdGVubmVyIGZvciBBbnkgb2YgZXZlbnRzICVqIGVtaXQnLCBldmVudHMpO1xyXG4gICAgICAgIHByb3h5Lm9uY2UoX2V2ZW50bmFtZSwgY2FsbGJhY2spO1xyXG5cclxuICAgICAgICB2YXIgX2JpbmQgPSBmdW5jdGlvbiAoa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcHJveHkuYmluZChrZXksIGZ1bmN0aW9uIChkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIHByb3h5LmRlYnVnKCdPbmUgb2YgZXZlbnRzICVqIGVtaXRlZCwgZXhlY3V0ZSB0aGUgbGlzdGVubmVyJyk7XHJcbiAgICAgICAgICAgICAgICBwcm94eS50cmlnZ2VyKF9ldmVudG5hbWUsIHsgXCJkYXRhXCI6IGRhdGEsIGV2ZW50TmFtZToga2V5IH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZXZlbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBfYmluZChldmVudHNbaW5kZXhdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZCB3aGVuIHRoZSBldmVudCBuYW1lIG5vdCBlcXVhbHMgd2l0aCBhc3NpZ25lZCBldmVudC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudG5hbWUgRXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbm90KGV2ZW50bmFtZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pIHtcclxuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xyXG4gICAgICAgIHByb3h5LmRlYnVnKCdBZGQgbGlzdGVubmVyIGZvciBub3QgZXZlbnQgJXMnLCBldmVudG5hbWUpO1xyXG4gICAgICAgIHByb3h5LmJpbmRGb3JBbGwoZnVuY3Rpb24gKG5hbWU6IHN0cmluZywgZGF0YTogYW55KSB7XHJcbiAgICAgICAgICAgIGlmIChuYW1lICE9PSBldmVudG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHByb3h5LmRlYnVnKCdsaXN0ZW5uZXIgZXhlY3V0ZSBvZiBldmVudCAlcyBlbWl0LCBidXQgbm90IGV2ZW50ICVzLicsIG5hbWUsIGV2ZW50bmFtZSk7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3VjY2VzcyBjYWxsYmFjayB3cmFwcGVyLCB3aWxsIGhhbmRsZXIgZXJyIGZvciB5b3UuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGZzLnJlYWRGaWxlKCdmb28udHh0JywgZXAuZG9uZSgnY29udGVudCcpKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBlcXVhbCB0byA9PlxyXG4gICAgICpcclxuICAgICAqIGZzLnJlYWRGaWxlKCdmb28udHh0JywgZnVuY3Rpb24gKGVyciwgY29udGVudCkge1xyXG4gICAgICogICBpZiAoZXJyKSB7XHJcbiAgICAgKiAgICAgcmV0dXJuIGVwLmVtaXQoJ2Vycm9yJywgZXJyKTtcclxuICAgICAqICAgfVxyXG4gICAgICogICBlcC5lbWl0KCdjb250ZW50JywgY29udGVudCk7XHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBmcy5yZWFkRmlsZSgnZm9vLnR4dCcsIGVwLmRvbmUoJ2NvbnRlbnQnLCBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICogICByZXR1cm4gY29udGVudC50cmltKCk7XHJcbiAgICAgKiB9KSk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gZXF1YWwgdG8gPT5cclxuICAgICAqXHJcbiAgICAgKiBmcy5yZWFkRmlsZSgnZm9vLnR4dCcsIGZ1bmN0aW9uIChlcnIsIGNvbnRlbnQpIHtcclxuICAgICAqICAgaWYgKGVycikge1xyXG4gICAgICogICAgIHJldHVybiBlcC5lbWl0KCdlcnJvcicsIGVycik7XHJcbiAgICAgKiAgIH1cclxuICAgICAqICAgZXAuZW1pdCgnY29udGVudCcsIGNvbnRlbnQudHJpbSgpKTtcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gaGFuZGxlciwgc3VjY2VzcyBjYWxsYmFjayBvciBldmVudCBuYW1lIHdpbGwgYmUgZW1pdCBhZnRlciBjYWxsYmFjay5cclxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZG9uZShoYW5kbGVyOiBGdW5jdGlvbiB8IFN0cmluZywgY2FsbGJhY2s/OiBGdW5jdGlvbikge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVycjogRXJyb3IsIGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwdXQgYWxsIGFyZ3VtZW50cyB0byB0aGUgZXJyb3IgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuZW1pdC5hcHBseSh0aGF0LCBbJ2Vycm9yJywgZXJyXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrKGVyciwgYXJnczEsIGFyZ3MyLCAuLi4pXHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gdGhhdC5TTElDRS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHJlcGxhY2UgdGhlIGFyZ3Mgd2hlbiBpdCByZWFsbHkgcmV0dXJuIGEgcmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuZW1pdChoYW5kbGVyLCBjYWxsYmFjay5hcHBseShudWxsLCBhcmdzKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHB1dCBhbGwgYXJndW1lbnRzIHRvIHRoZSBkb25lIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgICAgICAvL2VwLmRvbmUoJ3NvbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2VwLm9uKCdzb21lJywgZnVuY3Rpb24oYXJnczEsIGFyZ3MyLCAuLi4pe30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LmVtaXQuYXBwbHkodGhhdCwgW2hhbmRsZXIsIGFyZ3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc3BlZWQgaW1wcm92ZSBmb3IgbW9zdGx5IGNhc2U6IGBjYWxsYmFjayhlcnIsIGRhdGEpYFxyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKDxGdW5jdGlvbj5oYW5kbGVyKShkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY2FsbGJhY2soZXJyLCBhcmdzMSwgYXJnczIsIC4uLilcclxuICAgICAgICAgICAgKDxGdW5jdGlvbj5oYW5kbGVyKS5hcHBseShudWxsLCBhcmdzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vICAgICAvKipcclxuICAgIC8vICAgICogbWFrZSBkb25lIGFzeW5jXHJcbiAgICAvLyAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBkZWxheSBkb25lXHJcbiAgICAvLyAgICAqL1xyXG4gICAgLy8gICAgIEV2ZW50UHJveHkucHJvdG90eXBlLmRvbmVMYXRlciA9IGZ1bmN0aW9uIChoYW5kbGVyLCBjYWxsYmFjaykge1xyXG4gICAgLy8gICAgICAgICB2YXIgX2RvbmVIYW5kbGVyID0gdGhpcy5kb25lKGhhbmRsZXIsIGNhbGxiYWNrKTtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgLy8gICAgICAgICAgICAgbGF0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIF9kb25lSGFuZGxlci5hcHBseShudWxsLCBhcmdzKTtcclxuICAgIC8vICAgICAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgICAgICB9O1xyXG4gICAgLy8gICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgRXZlbnRQcm94eVxyXG4gICAgICogRXhhbXBsZXM6XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogdmFyIGVwID0gRXZlbnRQcm94eS5jcmVhdGUoKTtcclxuICAgICAqIGVwLmFzc2lnbigndXNlcicsICdhcnRpY2xlcycsIGZ1bmN0aW9uKHVzZXIsIGFydGljbGVzKSB7XHJcbiAgICAgKiAgIC8vIGRvIHNvbWV0aGluZy4uLlxyXG4gICAgICogfSk7XHJcbiAgICAgKiAvLyBvciBvbmUgbGluZSB3YXlzOiBDcmVhdGUgRXZlbnRQcm94eSBhbmQgQXNzaWduXHJcbiAgICAgKiB2YXIgZXAgPSBFdmVudFByb3h5LmNyZWF0ZSgndXNlcicsICdhcnRpY2xlcycsIGZ1bmN0aW9uKHVzZXIsIGFydGljbGVzKSB7XHJcbiAgICAgKiAgIC8vIGRvIHNvbWV0aGluZy4uLlxyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqIEByZXR1cm4ge0V2ZW50UHJveHl9IEV2ZW50UHJveHkgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTogRXZlbnRQcm94eSB7XHJcbiAgICAgICAgdmFyIGVwID0gbmV3IEV2ZW50UHJveHkoKTtcclxuICAgICAgICByZXR1cm4gZXA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVXaXRoQXJncyhldmVudG5hbWUxOiBzdHJpbmcgfCBzdHJpbmdbXSwgZXZlbnRuYW1lMjogc3RyaW5nIHwgc3RyaW5nW10sIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50UHJveHkge1xyXG4gICAgICAgIHZhciBlcCA9IG5ldyBFdmVudFByb3h5KCk7XHJcbiAgICAgICAgdmFyIG5hbWVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnRuYW1lMSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbmFtZXMucHVzaChldmVudG5hbWUxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuYW1lcyA9IGVwLkNPTkNBVC5hcHBseShuYW1lcywgPHN0cmluZ1tdPmV2ZW50bmFtZTEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50bmFtZTIgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5hbWVzLnB1c2goZXZlbnRuYW1lMik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmFtZXMgPSBlcC5DT05DQVQuYXBwbHkobmFtZXMsIDxzdHJpbmdbXT5ldmVudG5hbWUyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXAuX2Fzc2lnbi5hcHBseSh0aGlzLCBbbmFtZXMsIGNhbGxiYWNrLCB0cnVlXSk7XHJcbiAgICAgICAgcmV0dXJuIGVwO1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgR1VJRCB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIm+W7ukdVSUTllK/kuIDmoIflv5fvvIzms6jmhI/vvJrph4fnlKjlpKfmlbDms5XvvIzmnInlvojlsI/nmoTlj6/og73mgKfkvJrph43lpI3vvIzkuIDoiKzlpJ/nlKjvvJtcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGM6IHN0cmluZykge1xyXG4gICAgICBsZXQgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsXHJcbiAgICAgICAgdiA9IChjID09PSAneCcpID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy1sb2dvcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY29udGV4dC1tZW51JztcclxuZXhwb3J0ICogZnJvbSAnLi9ndWlkJztcclxuZXhwb3J0ICogZnJvbSAnLi9ldmVudHByb3h5JztcclxuZXhwb3J0ICogZnJvbSAnLi9kZWJ1Zyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdG9vbHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2FqYXgnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NoYTEnO1xyXG4iLCJleHBvcnQgY2xhc3MgU0hBMSB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gU0hBMSAgXHJcbiAgICBwcml2YXRlIHN0YXRpYyBhZGQoeDogYW55LCB5OiBhbnkpIHtcclxuICAgICAgICByZXR1cm4gKCh4ICYgMHg3RkZGRkZGRikgKyAoeSAmIDB4N0ZGRkZGRkYpKSBeICh4ICYgMHg4MDAwMDAwMCkgXiAoeSAmIDB4ODAwMDAwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIFNIQTFoZXgobnVtOiBhbnkpIHtcclxuICAgICAgICB2YXIgc0hFWENoYXJzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XHJcbiAgICAgICAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDc7IGogPj0gMDsgai0tKVxyXG4gICAgICAgICAgICBzdHIgKz0gc0hFWENoYXJzLmNoYXJBdCgobnVtID4+IChqICogNCkpICYgMHgwRik7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBBbGlnblNIQTEoc0luOiBhbnkpIHtcclxuICAgICAgICB2YXIgbmJsayA9ICgoc0luLmxlbmd0aCArIDgpID4+IDYpICsgMSxcclxuICAgICAgICAgICAgYmxrcyA9IG5ldyBBcnJheShuYmxrICogMTYpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJsayAqIDE2OyBpKyspIGJsa3NbaV0gPSAwO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzSW4ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIGJsa3NbaSA+PiAyXSB8PSBzSW4uY2hhckNvZGVBdChpKSA8PCAoMjQgLSAoaSAmIDMpICogOCk7XHJcbiAgICAgICAgYmxrc1tpID4+IDJdIHw9IDB4ODAgPDwgKDI0IC0gKGkgJiAzKSAqIDgpO1xyXG4gICAgICAgIGJsa3NbbmJsayAqIDE2IC0gMV0gPSBzSW4ubGVuZ3RoICogODtcclxuICAgICAgICByZXR1cm4gYmxrcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByb2wobnVtOiBhbnksIGNudDogYW55KSB7XHJcbiAgICAgICAgcmV0dXJuIChudW0gPDwgY250KSB8IChudW0gPj4+ICgzMiAtIGNudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGZ0KHQ6IGFueSwgYjogYW55LCBjOiBhbnksIGQ6IGFueSkge1xyXG4gICAgICAgIGlmICh0IDwgMjApIHJldHVybiAoYiAmIGMpIHwgKCh+YikgJiBkKTtcclxuICAgICAgICBpZiAodCA8IDQwKSByZXR1cm4gYiBeIGMgXiBkO1xyXG4gICAgICAgIGlmICh0IDwgNjApIHJldHVybiAoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCk7XHJcbiAgICAgICAgcmV0dXJuIGIgXiBjIF4gZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBrdCh0OiBhbnkpIHtcclxuICAgICAgICByZXR1cm4gKHQgPCAyMCkgPyAxNTE4NTAwMjQ5IDogKHQgPCA0MCkgPyAxODU5Nzc1MzkzIDpcclxuICAgICAgICAgICAgKHQgPCA2MCkgPyAtMTg5NDAwNzU4OCA6IC04OTk0OTc1MTQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTSEExKHNJbjogYW55KSB7XHJcbiAgICAgICAgdmFyIHggPSBTSEExLkFsaWduU0hBMShzSW4pO1xyXG4gICAgICAgIHZhciB3ID0gbmV3IEFycmF5KDgwKTtcclxuICAgICAgICB2YXIgYSA9IDE3MzI1ODQxOTM7XHJcbiAgICAgICAgdmFyIGIgPSAtMjcxNzMzODc5O1xyXG4gICAgICAgIHZhciBjID0gLTE3MzI1ODQxOTQ7XHJcbiAgICAgICAgdmFyIGQgPSAyNzE3MzM4Nzg7XHJcbiAgICAgICAgdmFyIGUgPSAtMTAwOTU4OTc3NjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KSB7XHJcbiAgICAgICAgICAgIHZhciBvbGRhID0gYTtcclxuICAgICAgICAgICAgdmFyIG9sZGIgPSBiO1xyXG4gICAgICAgICAgICB2YXIgb2xkYyA9IGM7XHJcbiAgICAgICAgICAgIHZhciBvbGRkID0gZDtcclxuICAgICAgICAgICAgdmFyIG9sZGUgPSBlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDgwOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChqIDwgMTYpIHdbal0gPSB4W2kgKyBqXTtcclxuICAgICAgICAgICAgICAgIGVsc2Ugd1tqXSA9IFNIQTEucm9sKHdbaiAtIDNdIF4gd1tqIC0gOF0gXiB3W2ogLSAxNF0gXiB3W2ogLSAxNl0sIDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyICB0ID0gU0hBMS5hZGQoU0hBMS5hZGQoU0hBMS5yb2woYSwgNSksIFNIQTEuZnQoaiwgYiwgYywgZCkpLCBTSEExLmFkZChTSEExLmFkZChlLCB3W2pdKSwgU0hBMS5rdChqKSkpO1xyXG4gICAgICAgICAgICAgICAgZSA9IGQ7XHJcbiAgICAgICAgICAgICAgICBkID0gYztcclxuICAgICAgICAgICAgICAgIGMgPSBTSEExLnJvbChiLCAzMCk7XHJcbiAgICAgICAgICAgICAgICBiID0gYTtcclxuICAgICAgICAgICAgICAgIGEgPSB0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGEgPSBTSEExLmFkZChhLCBvbGRhKTtcclxuICAgICAgICAgICAgYiA9IFNIQTEuYWRkKGIsIG9sZGIpO1xyXG4gICAgICAgICAgICBjID0gU0hBMS5hZGQoYywgb2xkYyk7XHJcbiAgICAgICAgICAgIGQgPSBTSEExLmFkZChkLCBvbGRkKTtcclxuICAgICAgICAgICAgZSA9IFNIQTEuYWRkKGUsIG9sZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgU0hBMVZhbHVlID0gU0hBMS5TSEExaGV4KGEpICsgU0hBMS5TSEExaGV4KGIpICsgU0hBMS5TSEExaGV4KGMpICsgU0hBMS5TSEExaGV4KGQpICsgU0hBMS5TSEExaGV4KGUpO1xyXG4gICAgICAgIHJldHVybiBTSEExVmFsdWU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCIvLyBpbXBvcnQgeyBXZWJSZXF1ZXN0IH0gZnJvbSAnLi4vbWlkZGxld2FyZS9vZmZsaW5lL3dlYnJlcXVlc3QnO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSAnLi4vLi4vZW5naW5lJztcclxuaW1wb3J0IHsgU0hBMSB9IGZyb20gJy4vc2hhMSc7XHJcblxyXG5leHBvcnQgY2xhc3MgVG9vbHMge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQmFzZVVybCA9ICcnO1xyXG5cclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXVsZXJBbmdsZVRvUmFkaWFuKHZhbDogQkFCWUxPTi5WZWN0b3IzKTogQkFCWUxPTi5WZWN0b3IzIHtcclxuICAgICAgICBsZXQgcGFyYTogbnVtYmVyID0gTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICByZXR1cm4gdmFsLm11bHRpcGx5QnlGbG9hdHMocGFyYSwgcGFyYSwgcGFyYSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByYWRpYW5Ub0V1bGVyQW5nbGUodmFsOiBCQUJZTE9OLlZlY3RvcjMpOiBCQUJZTE9OLlZlY3RvcjMge1xyXG4gICAgICAgIGxldCBwYXJhOiBudW1iZXIgPSAxODAgLyBNYXRoLlBJO1xyXG4gICAgICAgIHJldHVybiB2YWwubXVsdGlwbHlCeUZsb2F0cyhwYXJhLCBwYXJhLCBwYXJhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHZlY3RvcjNUb0FycmF5KHZhbDogQkFCWUxPTi5WZWN0b3IzKTogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiBbdmFsLngsIHZhbC55LCB2YWwuel07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzaGExKHZhbDogYW55KTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gU0hBMS5TSEExKHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBHZXRGaWxlbmFtZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHZhciBpbmRleCA9IHBhdGgubGFzdEluZGV4T2YoJy8nKTtcclxuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBhdGguc3Vic3RyaW5nKGluZGV4ICsgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBHZXRGb2xkZXJQYXRoKHVyaTogc3RyaW5nLCByZXR1cm5VbmNoYW5nZWRJZk5vU2xhc2ggPSBmYWxzZSk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gdXJpLmxhc3RJbmRleE9mKCcvJyk7XHJcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICBpZiAocmV0dXJuVW5jaGFuZ2VkSWZOb1NsYXNoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVyaS5zdWJzdHJpbmcoMCwgaW5kZXggKyAxKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gVE9ET1xyXG4gICAgcHVibGljIHN0YXRpYyBFcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBkZWJ1Zy5lcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIENsZWFuVXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvIy9tZywgJyUyMycpO1xyXG4gICAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBQcmVwcm9jZXNzVXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsb2FkQmFieWxvbigpOiB2b2lkIHtcclxuICAgICAgICAvLyBheGlvcy5kZWZhdWx0cy5yZXNwb25zZVR5cGUgPSAnanNvbic7XHJcbiAgICAgICAgYXhpb3MuZ2V0KCdzY2VuZS9kdWRlLmpzb24nKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25lID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybih0eXBlb2YgcmVzcG9uZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbmUuZGF0YS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbmUuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25lLmRhdGEubWVzaGVzKTtcclxuICAgICAgICAgICAgICAgIC8vIHNjZW5l5pWw5o2uIC0+IG1lc2ggLT4gbmFtZSAtPiBiYWJ5bG9uLm1lc2hlcyBhcnJheSAtPiBpZCDvvJ8g6LKM5Ly85a+85Ye655qEaWTlupTor6XmmK/kuI3ph43lkIjnmoRcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDliqDovb1ibHVlXHJcbiAgICAgICAgICAgICAgICBUb29scy5sb2FkQmx1ZShyZXNwb25lLmRhdGEsICdzY2VuZS8nKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgc3VjY2VzcyA9IChkYXRhOiBzdHJpbmcgfCBBcnJheUJ1ZmZlciwgdXJsOiBzdHJpbmcgfCB1bmRlZmluZWQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihkYXRhKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihkYXRhKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcih1cmwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQkFCWUxPTi5Ub29scy5Mb2FkRmlsZSgnc2NlbmUvc2NlbmUuYmFieWxvbicsIHN1Y2Nlc3MpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdsZW5ndGg6ICcgKyBPYmplY3Qua2V5cyhCQUJZTE9OLkZpbGVzSW5wdXRTdG9yZS5GaWxlc1RvTG9hZCkubGVuZ3RoKTtcclxuICAgICAgICAvLyBmb3IgKGxldCBrZXkgaW4gQkFCWUxPTi5GaWxlc0lucHV0U3RvcmUuRmlsZXNUb0xvYWQpIHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5lcnJvcigna2V5OiAnICsga2V5KTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5lcnJvcihCQUJZTE9OLkZpbGVzSW5wdXRTdG9yZS5GaWxlc1RvTG9hZFtrZXldKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZEJsdWUoZGF0YTogYW55LCByb290VXJsOiBzdHJpbmcpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8g5qC55o2uSUTliqDovb3otYTmupAgLT4gbWVzaCAtPiBtYXRlcmlhbCAtPiBhbmltYXRpb25zXHJcbiAgICAgICAgLy8g5bGe5oCn6Z2i5p2/5ZKMQXNzZXRz5pi+56S65a6M5pW05qih5Z6LPyAtPiBjb250YWluZXLkuK3ljIXlkKvmqKHlnovvvIzkuKTovrnkvb/nlKggLT4g5L2G5piv5aaC5p6c5LiA6L655Yig6Zmk5LqG5qih5Z6L77yMY29udGFpbmVy5Lit5Lmf5rKh5LqGXHJcblxyXG4gICAgICAgIC8vID/lnKhuZXcgTWVzaOaXtu+8jG1lc2jlt7Lnu4/mt7vliqDliLDlr7nlupTnmoRzY2VuZe+8jOmavuWKnuS6hu+8jOWmguS9leWunueOsOe8k+WtmO+8n+WPquWunueOsOaVsOaNrueahOe8k+WtmO+8n1xyXG4gICAgICAgIC8vIOWGjeaQnuS4gOS4quS4remXtOe7k+aehOe8k+WtmOWOn+Wni+aVsOaNru+8n1xyXG4gICAgICAgIC8vIHNjZW5l5pWw5o2uIC0+IC5iYWJ5bG9u5pWw5o2u57yT5a2YIC0+IG1vZGVsIC0+IG1lc2ggfCDlh6DkvZUgKyBtYXRlcmlhbCArIHRleHR1cmUgLT4g6L+b6KGM5b+r6YCf5YWz6IGUIC0+IOWmguS9leaKinRleHR1cmXmj5DkuqTov5vljrtcclxuICAgICAgICAvLyB0ZXh0dXJl5pWw5o2u5aaC5L2V5a6e546w57yT5a2Y77yM55u05o6l5bCG5pWw5o2u5Lqk57uZZW5naW5l5Lit55qE5pWw5o2u57uT5p6E77yfXHJcblxyXG4gICAgICAgIC8vIExpZ2h0c1xyXG4gICAgICAgIGlmIChkYXRhLmxpZ2h0cyAhPT0gdW5kZWZpbmVkICYmIGRhdGEubGlnaHRzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgY2FjaGUgPSBkYXRhLmxpZ2h0cy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJzZWRMaWdodCA9IGRhdGEubGlnaHRzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIHZhciBsaWdodCA9IEJBQllMT04uTGlnaHQuUGFyc2UocGFyc2VkTGlnaHQsIFZlcnlFbmdpbmUudmlld1NjZW5lKTtcclxuICAgICAgICAgICAgICAgIGlmIChsaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5lci5saWdodHMucHVzaChsaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nICs9IChpbmRleCA9PT0gMCA/ICdcXG5cXHRMaWdodHM6JyA6ICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsb2cgKz0gJ1xcblxcdFxcdCcgKyBsaWdodC50b1N0cmluZyhmdWxsRGV0YWlscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFuaW1hdGlvbnNcclxuICAgICAgICBpZiAoZGF0YS5hbmltYXRpb25zICE9PSB1bmRlZmluZWQgJiYgZGF0YS5hbmltYXRpb25zICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgY2FjaGUgPSBkYXRhLmFuaW1hdGlvbnMubGVuZ3RoOyBpbmRleCA8IGNhY2hlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkQW5pbWF0aW9uID0gZGF0YS5hbmltYXRpb25zW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGludGVybmFsQ2xhc3MgPSBCQUJZTE9OLl9UeXBlU3RvcmUuR2V0Q2xhc3MoJ0JBQllMT04uQW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxDbGFzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmltYXRpb24gPSBpbnRlcm5hbENsYXNzLlBhcnNlKHBhcnNlZEFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgVmVyeUVuZ2luZS52aWV3U2NlbmUuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udGFpbmVyLmFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZyArPSAoaW5kZXggPT09IDAgPyAnXFxuXFx0QW5pbWF0aW9uczonIDogJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZyArPSAnXFxuXFx0XFx0JyArIGFuaW1hdGlvbi50b1N0cmluZyhmdWxsRGV0YWlscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hdGVyaWFsc1xyXG4gICAgICAgIGlmIChkYXRhLm1hdGVyaWFscyAhPT0gdW5kZWZpbmVkICYmIGRhdGEubWF0ZXJpYWxzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgY2FjaGUgPSBkYXRhLm1hdGVyaWFscy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJzZWRNYXRlcmlhbCA9IGRhdGEubWF0ZXJpYWxzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXQgPSBCQUJZTE9OLk1hdGVyaWFsLlBhcnNlKHBhcnNlZE1hdGVyaWFsLCBWZXJ5RW5naW5lLnZpZXdTY2VuZSwgcm9vdFVybCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb250YWluZXIubWF0ZXJpYWxzLnB1c2gobWF0KTtcclxuICAgICAgICAgICAgICAgIC8vIGxvZyArPSAoaW5kZXggPT09IDAgPyAnXFxuXFx0TWF0ZXJpYWxzOicgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBsb2cgKz0gJ1xcblxcdFxcdCcgKyBtYXQudG9TdHJpbmcoZnVsbERldGFpbHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5tdWx0aU1hdGVyaWFscyAhPT0gdW5kZWZpbmVkICYmIGRhdGEubXVsdGlNYXRlcmlhbHMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwLCBjYWNoZSA9IGRhdGEubXVsdGlNYXRlcmlhbHMubGVuZ3RoOyBpbmRleCA8IGNhY2hlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkTXVsdGlNYXRlcmlhbCA9IGRhdGEubXVsdGlNYXRlcmlhbHNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1tYXQgPSBCQUJZTE9OLk11bHRpTWF0ZXJpYWwuUGFyc2VNdWx0aU1hdGVyaWFsKHBhcnNlZE11bHRpTWF0ZXJpYWwsIFZlcnlFbmdpbmUudmlld1NjZW5lKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5lci5tdWx0aU1hdGVyaWFscy5wdXNoKG1tYXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gbG9nICs9IChpbmRleCA9PT0gMCA/ICdcXG5cXHRNdWx0aU1hdGVyaWFsczonIDogJycpO1xyXG4gICAgICAgICAgICAgICAgLy8gbG9nICs9ICdcXG5cXHRcXHQnICsgbW1hdC50b1N0cmluZyhmdWxsRGV0YWlscyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNrZWxldG9uc1xyXG4gICAgICAgIGlmIChkYXRhLnNrZWxldG9ucyAhPT0gdW5kZWZpbmVkICYmIGRhdGEuc2tlbGV0b25zICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgY2FjaGUgPSBkYXRhLnNrZWxldG9ucy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJzZWRTa2VsZXRvbiA9IGRhdGEuc2tlbGV0b25zW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIHZhciBza2VsZXRvbiA9IEJBQllMT04uU2tlbGV0b24uUGFyc2UocGFyc2VkU2tlbGV0b24sIFZlcnlFbmdpbmUudmlld1NjZW5lKTtcclxuICAgICAgICAgICAgICAgIHNrZWxldG9uLmJlZ2luQW5pbWF0aW9uKCdTa2VsZXRvbjAnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5lci5za2VsZXRvbnMucHVzaChza2VsZXRvbik7XHJcbiAgICAgICAgICAgICAgICAvLyBsb2cgKz0gKGluZGV4ID09PSAwID8gJ1xcblxcdFNrZWxldG9uczonIDogJycpO1xyXG4gICAgICAgICAgICAgICAgLy8gbG9nICs9ICdcXG5cXHRcXHQnICsgc2tlbGV0b24udG9TdHJpbmcoZnVsbERldGFpbHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZW9tZXRyaWVzXHJcbiAgICAgICAgdmFyIGdlb21ldHJpZXMgPSBkYXRhLmdlb21ldHJpZXM7XHJcbiAgICAgICAgaWYgKGdlb21ldHJpZXMgIT09IHVuZGVmaW5lZCAmJiBnZW9tZXRyaWVzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBhZGRlZEdlb21ldHJ5ID0gbmV3IEFycmF5PE51bGxhYmxlPEJBQllMT04uR2VvbWV0cnk+PigpO1xyXG5cclxuICAgICAgICAgICAgLy8gVmVydGV4RGF0YVxyXG4gICAgICAgICAgICB2YXIgdmVydGV4RGF0YSA9IGdlb21ldHJpZXMudmVydGV4RGF0YTtcclxuICAgICAgICAgICAgaWYgKHZlcnRleERhdGEgIT09IHVuZGVmaW5lZCAmJiB2ZXJ0ZXhEYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDAsIGNhY2hlID0gdmVydGV4RGF0YS5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkVmVydGV4RGF0YSA9IHZlcnRleERhdGFbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZGVkR2VvbWV0cnkucHVzaChCQUJZTE9OLkdlb21ldHJ5LlBhcnNlKHBhcnNlZFZlcnRleERhdGEsIFZlcnlFbmdpbmUudmlld1NjZW5lLCByb290VXJsKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFkZGVkR2VvbWV0cnkuZm9yRWFjaCgoZykgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKGcpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBjb250YWluZXIuZ2VvbWV0cmllcy5wdXNoKGcpO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1lc2hlc1xyXG4gICAgICAgIGlmIChkYXRhLm1lc2hlcyAhPT0gdW5kZWZpbmVkICYmIGRhdGEubWVzaGVzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgY2FjaGUgPSBkYXRhLm1lc2hlcy5sZW5ndGg7IGluZGV4IDwgY2FjaGU7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJzZWRNZXNoID0gZGF0YS5tZXNoZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lc2ggPSA8QkFCWUxPTi5BYnN0cmFjdE1lc2g+QkFCWUxPTi5NZXNoLlBhcnNlKHBhcnNlZE1lc2gsIFZlcnlFbmdpbmUudmlld1NjZW5lLCByb290VXJsKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5lci5tZXNoZXMucHVzaChtZXNoKTtcclxuICAgICAgICAgICAgICAgIC8vIGxvZyArPSAoaW5kZXggPT09IDAgPyAnXFxuXFx0TWVzaGVzOicgOiAnJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBsb2cgKz0gJ1xcblxcdFxcdCcgKyBtZXNoLnRvU3RyaW5nKGZ1bGxEZXRhaWxzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5Yib5bu65LmL5YmN5YWI5pCe5LiA5LiqYmxvYu+8n1xyXG4gICAgICAgIC8vIGxldCB0ZXggPSBuZXcgQkFCWUxPTi5UZXh0dXJlKCdzY2VuZS/lpLTlg48ucG5nJywgVmVyeUVuZ2luZS52aWV3U2NlbmUpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRleCk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFZlcnlFbmdpbmUudmlld0VuZ2luZS5faW50ZXJuYWxUZXh0dXJlc0NhY2hlKTtcclxuXHJcbiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIFZlcnlFbmdpbmUudmlld1NjZW5lLnJlbmRlcigpO1xyXG4gICAgICAgIC8vICAgICBCQUJZTE9OLlRvb2xzLkNyZWF0ZVNjcmVlbnNob3QoVmVyeUVuZ2luZS52aWV3RW5naW5lLCBWZXJ5RW5naW5lLnZpZXdTY2VuZS5hY3RpdmVDYW1lcmEhLCAxNjAwKTtcclxuICAgICAgICAvLyB9LCAyMDAwKTtcclxuICAgICAgICAvLyDkv6Hmga/kuqTmjaJcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIHN0YXRpYyBMb2FkRmlsZSh1cmw6IHN0cmluZywgb25TdWNjZXNzOiAoZGF0YTogc3RyaW5nIHwgQXJyYXlCdWZmZXIsIHJlc3BvbnNlVVJMPzogc3RyaW5nKSA9PiB2b2lkLCBvblByb2dyZXNzPzogKGRhdGE6IGFueSkgPT4gdm9pZCwgdXNlQXJyYXlCdWZmZXI/OiBib29sZWFuLCBvbkVycm9yPzogKHJlcXVlc3Q/OiBXZWJSZXF1ZXN0LCBleGNlcHRpb24/OiBhbnkpID0+IHZvaWQpOiBJRmlsZVJlcXVlc3Qge1xyXG4gICAgLy8gICAgIHVybCA9IFRvb2xzLkNsZWFuVXJsKHVybCk7XHJcblxyXG4gICAgLy8gICAgIHVybCA9IFRvb2xzLlByZXByb2Nlc3NVcmwodXJsKTtcclxuXHJcbiAgICAvLyAgICAgLy8g5Zyo5pys5Zyw57yT5a2Y5Lit5a2Y5Zyo5q2k5paH5Lu277yMIFRPRE86IOi/mOacieacrOWcsOS4iuS8oOeahOaDheWGteWkhOeQhlxyXG4gICAgLy8gICAgIGlmICh1cmwuaW5kZXhPZignZmlsZTonKSAhPT0gLTEpIHtcclxuICAgIC8vICAgICAgICAgLy8gY29uc3QgZmlsZU5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQodXJsLnN1YnN0cmluZyg1KS50b0xvd2VyQ2FzZSgpKTtcclxuICAgIC8vICAgICAgICAgLy8gaWYgKEZpbGVzSW5wdXRTdG9yZS5GaWxlc1RvTG9hZFtmaWxlTmFtZV0pIHtcclxuICAgIC8vICAgICAgICAgLy8gICAgIC8vIOe8k+WtmOaWh+S7tlxyXG4gICAgLy8gICAgICAgICAvLyAgICAgcmV0dXJuIFRvb2xzLlJlYWRGaWxlKEZpbGVzSW5wdXRTdG9yZS5GaWxlc1RvTG9hZFtmaWxlTmFtZV0sIG9uU3VjY2Vzcywgb25Qcm9ncmVzcywgdXNlQXJyYXlCdWZmZXIpO1xyXG4gICAgLy8gICAgICAgICAvLyB9XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBjb25zdCBsb2FkVXJsID0gVG9vbHMuQmFzZVVybCArIHVybDtcclxuXHJcbiAgICAvLyAgICAgbGV0IGFib3J0ZWQgPSBmYWxzZTtcclxuICAgIC8vICAgICBjb25zdCBmaWxlUmVxdWVzdDogSUZpbGVSZXF1ZXN0ID0ge1xyXG4gICAgLy8gICAgICAgICBvbkNvbXBsZXRlT2JzZXJ2YWJsZTogbmV3IE9ic2VydmFibGU8SUZpbGVSZXF1ZXN0PigpLFxyXG4gICAgLy8gICAgICAgICBhYm9ydDogKCkgPT4gYWJvcnRlZCA9IHRydWUsXHJcbiAgICAvLyAgICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbmFtZeWtl+espuS4suWQiOazleaAp+ajgOafpe+8jOS4jeWFgeiuuOWHuueOsCDigJxcXC8qPD4/fCcnOuKAnSDnrYnlrZfnrKbkuLLvvIzoi6XlrZjlnKjvvIzliJnov5Tlm55mYWxzZe+8m1xyXG4gICAgICogQHBhcmFtIG5hbWUg5b6F5qOA5p+l55qEbmFtZeWtl+espuS4su+8m1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzTGVnYWxOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIHZhciByZSA9IC9bXlxcdTRlMDAtXFx1OWZhNV0vOyAvLyDkuK3mlofmraPliJlcclxuICAgICAgICAvLyB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoJ1tgXFxcXC1+IUAjJF4mKigpPXx7fSc6OycsXFxcXFtcXFxcXS48PuOAiuOAiy8/fu+8gUAj77+l4oCm4oCmJirvvIjvvInigJTigJR8e33jgJDjgJHigJjvvJvvvJrigJ3igJwn44CC77yM44CB77yfMTIzNDU2Nzg5OTBdJyk7IC8vIOeJueauiuespuWPt1xyXG4gICAgICAgIGNvbnN0IGlsbGVnYWxQYXR0ZXJuID0gL1tcXFxcXFwvKjw+P3wnJzpdLztcclxuICAgICAgICBpZiAoaWxsZWdhbFBhdHRlcm4udGVzdChuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWtl+espuS4suaOkuW6j++8jOeJueauiuWtl+espuWcqOacgOWJjeWktO+8jOWFtuS9meaMieeFp+Wtl+avjemhuuW6j+i/m+ihjOaOkuWIl1xyXG4gICAgICogQHBhcmFtIGEg56ysMeS4quWtl+espuS4su+8m1xyXG4gICAgICogQHBhcmFtIGIg56ysMuS4quWtl+espuS4su+8m1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0cmluZ0NvbXBhcmUoYTogc3RyaW5nLCBiOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGEgPSBhLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgYiA9IGIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzog55uu5YmN6YeH55So5LqGanPpu5jorqTnmoTmr5TovoPlh73mlbDvvIznlLHkuo5TYWZhcmnnrYnmtY/op4jlmajkuI3mlK/mjIFsb2NhbHPlj4LmlbDvvIzoi7Hmlofpu5jorqTlnKjkuK3mlofkuYvlkI7vvIznibnmrorlrZfnrKblnKjmnIDliY1cclxuICAgICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFwcGVuZFF1ZXJ5KG9yaWdpbjogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgc2VwYXJhdG9yID0gb3JpZ2luLmluZGV4T2YoJz8nKSAhPT0gLTEgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgKyBzZXBhcmF0b3IgKyBxdWVyeTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL3ZpZXdwb3J0JztcclxuZXhwb3J0ICogZnJvbSAnLi92aWV3cG9ydC1leHBhbmQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZpZXdwb3J0LWFwcGxpY2F0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi92aWV3cG9ydC1lbnRpdGllcy1vYnNlcnZlci1iaW5kaW5nJztcclxuZXhwb3J0ICogZnJvbSAnLi92aWV3cG9ydC1pbnN0YW5jZS1jcmVhdGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZpZXdwb3J0LWRyb3AtbW9kZWwnOyIsImltcG9ydCB7IFZpZXdwb3J0QXBwbGljYXRpb24gfSBmcm9tIFwiLi92aWV3cG9ydC1hcHBsaWNhdGlvblwiO1xyXG5pbXBvcnQgeyBWaWV3cG9ydEluc3RhbmNlQ3JlYXRlIH0gZnJvbSBcIi4vdmlld3BvcnQtaW5zdGFuY2UtY3JlYXRlXCI7XHJcbmltcG9ydCB7IFZpZXdwb3J0RHJvcE1vZGVsIH0gZnJvbSBcIi4vdmlld3BvcnQtZHJvcC1tb2RlbFwiO1xyXG5pbXBvcnQgeyBWaWV3cG9ydEVudGl0aWVzT2JzZXJ2ZXJCaW5kaW5nIH0gZnJvbSBcIi4vdmlld3BvcnQtZW50aXRpZXMtb2JzZXJ2ZXItYmluZGluZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXdwb3J0S2VlcGVyIHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgbmV3IFZpZXdwb3J0QXBwbGljYXRpb24oKTtcclxuICAgICAgICBuZXcgVmlld3BvcnRFbnRpdGllc09ic2VydmVyQmluZGluZygpO1xyXG4gICAgICAgIG5ldyBWaWV3cG9ydEluc3RhbmNlQ3JlYXRlKCk7XHJcbiAgICAgICAgbmV3IFZpZXdwb3J0RHJvcE1vZGVsKCk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gJy4uLy4uL2VuZ2luZSc7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAnLi4vLi4vbGliJztcclxuaW1wb3J0IHsgQmFieWxvbkxvYWRlciB9IGZyb20gJy4uL21pZGRsZXdhcmUvbG9hZGVyL2JhYnlsb25Mb2FkZXInO1xyXG5pbXBvcnQgeyBBamF4UmVxdWVzdCwgQWpheCwgVG9vbHMgfSBmcm9tICcuLi91dGlsaXR5JztcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3cG9ydEFwcGxpY2F0aW9uIHtcclxuXHJcblxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIC8vIGVudGl0aWVzIGluZGV4ZXMgZm9yIHBhcmVudGluZ1xyXG4gICAgICAgIHZhciBjaGlsZEluZGV4OiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgICAgICAgdmFyIGVudGl0aWVzSW5kZXg6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuICAgICAgICB2YXIgdW5rbm93bnMgPSB7fTtcclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnY3JlYXRlOnNjZW5lOmVsZW1lbnQnLCAoZW50aXR5OiBPYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY3JlYXRlIHNjZW5lIGVsZW1lbnQnKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihlbnRpdHkpO1xyXG4gICAgICAgICAgICBpZiAoZW50aXR5LmdldCgndHlwZScpID09PSAnbGlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMaWdodHNcclxuICAgICAgICAgICAgICAgIHZhciBsaWdodCA9IEJBQllMT04uTGlnaHQuUGFyc2UoZW50aXR5LmdldCgnZGF0YScpLCBWZXJ5RW5naW5lLnZpZXdTY2VuZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnRpdGllc0luZGV4W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldID0gbGlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm5vZGUgPSBsaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBsaWdodC5pZCA9IGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRBbmRQYXJlbnQoZW50aXR5LCBsaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gKDxCQUJZTE9OLlNoYWRvd0xpZ2h0PmxpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihsaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xpZ2h05Yib5bu65aSx6LSl77yMbGlnaHTljp/lp4vkv6Hmga/vvJonKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVudGl0eS5nZXQoJ2RhdGEnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW50aXR5LmdldCgndHlwZScpID09PSAnY2FtZXJhJykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogY2FtZXJh6KaB54m55Yir5aSE55CGXHJcbiAgICAgICAgICAgICAgICAvLyBDYW1lcmFzXHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY2FtZXJhID0gQkFCWUxPTi5DYW1lcmEuUGFyc2UoZW50aXR5LmdldCgnZGF0YScpLCBWZXJ5RW5naW5lLnZpZXdTY2VuZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjYW1lcmEuYXR0YWNoQ29udHJvbChWZXJ5RW5naW5lLnZpZXdDYW52YXNFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIC8vIGVudGl0eS5ub2RlID0gY2FtZXJhO1xyXG4gICAgICAgICAgICAgICAgLy8gZW50aXRpZXNJbmRleFtlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpXSA9IGNhbWVyYTtcclxuICAgICAgICAgICAgICAgIC8vIGNhbWVyYSEuaWQgPSBlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gY2hpbGRBbmRQYXJlbnQoZW50aXR5LCBjYW1lcmEpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGNhbWVyYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW50aXR5LmdldCgndHlwZScpID09PSAnYm94Jykge1xyXG4gICAgICAgICAgICAgICAgLy8gYm94XHJcbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gQkFCWUxPTi5NZXNoLkNyZWF0ZUJveChlbnRpdHkuZ2V0KCduYW1lJyksIDEsIFZlcnlFbmdpbmUudmlld1NjZW5lKTtcclxuICAgICAgICAgICAgICAgIGVudGl0eS5ub2RlID0gYm94O1xyXG4gICAgICAgICAgICAgICAgZW50aXRpZXNJbmRleFtlbnRpdHkuZ2V0KCdyZXNvdXJjZV9pZCcpXSA9IGJveDtcclxuICAgICAgICAgICAgICAgIGJveC5pZCA9IGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcbiAgICAgICAgICAgICAgICBib3gucG9zaXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuRnJvbUFycmF5KGVudGl0eS5nZXQoJ3Bvc2l0aW9uJykpO1xyXG4gICAgICAgICAgICAgICAgYm94LnJvdGF0aW9uID0gVG9vbHMuZXVsZXJBbmdsZVRvUmFkaWFuKEJBQllMT04uVmVjdG9yMy5Gcm9tQXJyYXkoZW50aXR5LmdldCgncm90YXRpb24nKSkpO1xyXG4gICAgICAgICAgICAgICAgYm94LnNjYWxpbmcgPSBCQUJZTE9OLlZlY3RvcjMuRnJvbUFycmF5KGVudGl0eS5nZXQoJ3NjYWxlJykpO1xyXG4gICAgICAgICAgICAgICAgYm94LmlzRW5hYmxlZChlbnRpdHkuZ2V0KCdlbmFibGVkJykpO1xyXG4gICAgICAgICAgICAgICAgYm94LmNoZWNrQ29sbGlzaW9ucyA9IGVudGl0eS5nZXQoJ2NoZWNrQ29sbGlzaW9ucycpO1xyXG4gICAgICAgICAgICAgICAgYm94LmlzVmlzaWJsZSA9IGVudGl0eS5nZXQoJ2lzVmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgLy8g5Yqg6L296Ieq5a6a5LmJ5YWz6IGU5p2Q6LSoXHJcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LmdldCgnbWF0ZXJpYWxfaWQnKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoaWxkQW5kUGFyZW50KGVudGl0eSwgYm94KTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2Fybihib3gpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVudGl0eS5nZXQoJ3R5cGUnKSA9PT0gJ21lc2gnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDmqKHlnovlvILmraXliqDovb3vvIzlm6DkuLptZXNo6ZyA6KaB5YWI5Yqg6L29LmJhYnlsb27mlofku7bvvJtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2Fybignc2NlbmXliJvlu7ptZXNo77yaJyArIGVudGl0eS5nZXQoJ25hbWUnKSk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2NlbmU6bWVzaDpjcmVhdGUnLCBlbnRpdHkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBsZXQgY2hpbGRBbmRQYXJlbnQgPSAoZW50aXR5OiBPYnNlcnZlciwgbm9kZTogTnVsbGFibGU8QkFCWUxPTi5Ob2RlPikgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGlsZHJlblxyXG4gICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSBlbnRpdHkuZ2V0KCdjaGlsZHJlbicpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZEluZGV4W2NoaWxkcmVuW2ldXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG5vZGVcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVudGl0aWVzSW5kZXhbY2hpbGRyZW5baV1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0Q2hpbGQobm9kZSwgZW50aXRpZXNJbmRleFtjaGlsZHJlbltpXV0sIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwYXJlbnRpbmdcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkuZ2V0KCdwYXJlbnQnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYmFieWxvbiByb290XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGlsZFxyXG4gICAgICAgICAgICAgICAgdmFyIGRldGFpbHMgPSBjaGlsZEluZGV4W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRldGFpbHMgJiYgZGV0YWlscy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRDaGlsZChkZXRhaWxzLnBhcmVudCwgbm9kZSwgZGV0YWlscy5pbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbnNlcnRDaGlsZCA9IChwYXJlbnQ6IE51bGxhYmxlPEJBQllMT04uTm9kZT4sIG5vZGU6IE51bGxhYmxlPEJBQllMT04uTm9kZT4sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgLy8gdHJ5IHRvIGluc2VydCB0aGUgbm9kZSBhdCB0aGUgcmlnaHQgaW5kZXhcclxuICAgICAgICAgICAgLy8g5L2G5pivYmFieWxvbuS4jeaUr+aMgeebtOaOpeaTjeS9nGNoaWxkcmVu5YiX6KGo77yMX2NoaWxkcmVu5Li6cHJpdmF0Zeexu+Wei++8jOWPr+S7pemAmui/h+S/ruaUuS5kLnRz5paH5Lu26I635Y+W77yM5L2G5piv5Lmf5rKh5b+F6KaB77ybXHJcbiAgICAgICAgICAgIGlmIChub2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhcmVudC5fY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gICAgIHZhciBjaGlsZCA9IHBhcmVudC5fY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBwYy5FbnRpdHkgJiYgY2hpbGRJbmRleFtjaGlsZC5nZXRHdWlkKCldKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLy8gaWYgb3VyIGluZGV4IGlzIGxlc3MgdGhhbiB0aGlzIGNoaWxkJ3MgaW5kZXhcclxuICAgICAgICAgICAgLy8gICAgICAgICAvLyB0aGVuIHB1dCB0aGUgaXRlbSBoZXJlXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGluZGV4IDwgY2hpbGRJbmRleFtjaGlsZC5nZXRHdWlkKCldLmluZGV4KSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRDaGlsZChub2RlLCBpKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgLy8gLy8gdGhlIG5vZGUgY2FuIGJlIHNhZmVseSBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBjaGlsZCBsaXN0XHJcbiAgICAgICAgICAgIC8vIHBhcmVudC5hZGRDaGlsZChub2RlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnc2NlbmU6bWVzaDpjcmVhdGUnLCAoZW50aXR5OiBPYnNlcnZlcikgPT4ge1xyXG5cclxuICAgICAgICAgICAgbG9hZEJhYnlsb24oZW50aXR5KTtcclxuICAgICAgICAgICAgLy8gLy8g5Y+Y5oiQ5byC5q2l5LqL5Lu2XHJcbiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4geyB9LCAwKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGxldCBsb2FkaW5nQmFieWxvbkZsYWc6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XHJcbiAgICAgICAgbGV0IHRvTG9hZEVudGl0eTogeyBba2V5OiBzdHJpbmddOiBPYnNlcnZlcltdIH0gPSB7fTtcclxuICAgICAgICBsZXQgbG9hZEJhYnlsb24gPSAoZW50aXR5OiBPYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYXNzZXRJRDogc3RyaW5nID0gZW50aXR5LmdldCgnYXNzZXRfaWQnKTtcclxuICAgICAgICAgICAgbGV0IGRhdGFCYWJ5bG9uOiBhbnkgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKEJhYnlsb25Mb2FkZXIuaGFzQmFieWxvYkRhdGEoYXNzZXRJRCkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFCYWJ5bG9uID0gQmFieWxvbkxvYWRlci5nZXRQYXJzZWRCYWJ5bG9uRGF0YShhc3NldElEKTtcclxuICAgICAgICAgICAgICAgIC8vIEJhYnlsb25Mb2FkZXIuYXNzZW1ibGVCYWJ5bG9uKGFzc2V0SUQsIGRhdGFCYWJ5bG9uKTtcclxuICAgICAgICAgICAgICAgIC8vIOWFs+iBlG1lc2hcclxuICAgICAgICAgICAgICAgIGFzc2VtYmxlU2NlbmVNZXNoKGVudGl0eSwgZGF0YUJhYnlsb24pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0SUQgaW4gbG9hZGluZ0JhYnlsb25GbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9Mb2FkRW50aXR5W2Fzc2V0SURdLnB1c2goZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZ0JhYnlsb25GbGFnW2Fzc2V0SURdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0b0xvYWRFbnRpdHlbYXNzZXRJRF0gPSBbZW50aXR5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGExID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IEJhYnlsb25Mb2FkZXIucHJlZml4ICsgYXNzZXRJRCArICcvJyArIEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbYXNzZXRJRF0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlQ29udGVudFR5cGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOebtOaOpei/lOWbnmJhYnlsb24ganNvbuagvOW8j+WGheWuueaVsOaNrlxyXG4gICAgICAgICAgICAgICAgICAgICg8QWpheFJlcXVlc3Q+bmV3IEFqYXgoZGF0YTEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ2xvYWQnLCAoc3RhdHVzOiBhbnksIGRhdGE6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFCYWJ5bG9uID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIuYmFieWxvbkNhY2hlRGF0YVthc3NldElEXSA9IGRhdGFCYWJ5bG9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFieWxvbkxvYWRlci5wYXJzZUJhYnlsb24oYXNzZXRJRCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYWJ5bG9uTG9hZGVyLnBhcnNlQmFieWxvbihhc3NldElELCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFCYWJ5bG9uID0gQmFieWxvbkxvYWRlci5nZXRQYXJzZWRCYWJ5bG9uRGF0YShhc3NldElEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvTG9hZEVudGl0eVthc3NldElEXS5mb3JFYWNoKChpdGVtOiBPYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VtYmxlU2NlbmVNZXNoKGl0ZW0sIGRhdGFCYWJ5bG9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWz6IGUbWVzaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5vbignZXJyb3InLCAoZXZ0OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NjZW5l5pWw5o2u5Yy56YWNYmFieWxvbiBtZXNo5pWw5o2u6ZSZ6K+v77yBJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGV2dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxldCBhc3NlbWJsZVNjZW5lTWVzaCA9IChlbnRpdHk6IE9ic2VydmVyLCBwYXJzZWRCYWJ5bG9uOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgLy8gVE9ETzog5pqC5pe25pyq6ICD6JmRVHJhbnNmb3JtTm9kZeaVsOaNrueahOaDheWGtVxyXG4gICAgICAgICAgICBpZiAocGFyc2VkQmFieWxvbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFzc2V0SUQ6IHN0cmluZyA9IGVudGl0eS5nZXQoJ2Fzc2V0X2lkJyk7XHJcbiAgICAgICAgICAgICAgICAvLyDlhYjku44uYmFieWxvbuaPkOWPluWOn+Wni21lc2jmlbDmja5cclxuICAgICAgICAgICAgICAgIGxldCBtZXNoSUQ6IHN0cmluZyA9IGVudGl0eS5nZXQoJ2JhYnlsb25faWQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRCYWJ5bG9uLm1lc2hlc1ttZXNoSURdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc2hEYXRhID0gcGFyc2VkQmFieWxvbi5tZXNoZXNbbWVzaElEXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDnu5PlkIhzY2VuZeWSjGJhYnlsb27mlbDmja7vvIzmm7TmlrBtZXNo5L+h5oGvXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaERhdGEucG9zaXRpb24gPSBlbnRpdHkuaGFzKCdwb3NpdGlvbicpICYmIGVudGl0eS5nZXQoJ3Bvc2l0aW9uJykgPyBlbnRpdHkuZ2V0KCdwb3NpdGlvbicpIDogbWVzaERhdGEucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlY29yZFJvdGF0aW9uID0gZW50aXR5LmdldCgncm90YXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZWNvcmRSb3RhdGlvbiAmJiByZWNvcmRSb3RhdGlvbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZFJvdGF0aW9uID0gVG9vbHMudmVjdG9yM1RvQXJyYXkoVG9vbHMuZXVsZXJBbmdsZVRvUmFkaWFuKEJBQllMT04uVmVjdG9yMy5Gcm9tQXJyYXkocmVjb3JkUm90YXRpb24pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkUm90YXRpb24gPSBtZXNoRGF0YS5yb3RhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaERhdGEucm90YXRpb24gPSByZWNvcmRSb3RhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBtZXNoRGF0YS5zY2FsZSA9IGVudGl0eS5oYXMoJ3NjYWxlJykgJiYgZW50aXR5LmdldCgnc2NhbGUnKSA/IGVudGl0eS5nZXQoJ3NjYWxlJykgOiBtZXNoRGF0YS5zY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc2hEYXRhLm5hbWUgPSBlbnRpdHkuaGFzKCduYW1lJykgJiYgZW50aXR5LmdldCgnbmFtZScpID8gZW50aXR5LmdldCgnbmFtZScpIDogbWVzaERhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNoRGF0YS5pZCA9IGVudGl0eS5oYXMoJ3Jlc291cmNlX2lkJykgJiYgZW50aXR5LmdldCgncmVzb3VyY2VfaWQnKSA/IGVudGl0eS5nZXQoJ3Jlc291cmNlX2lkJykgOiBtZXNoRGF0YS5pZDtcclxuICAgICAgICAgICAgICAgICAgICBtZXNoRGF0YS5pc0VuYWJsZWQgPSBlbnRpdHkuaGFzKCdlbmFibGVkJykgPyBlbnRpdHkuZ2V0KCdlbmFibGVkJykgOiBtZXNoRGF0YS5pc0VuYWJsZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaERhdGEuaXNWaXNpYmxlID0gZW50aXR5LmhhcygnaXNWaXNpYmxlJykgPyBlbnRpdHkuZ2V0KCdpc1Zpc2libGUnKSA6IG1lc2hEYXRhLmlzVmlzaWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtZXNoRGF0YS5waWNrYWJsZSA9IGVudGl0eS5oYXMoJ3BpY2thYmxlJykgPyBlbnRpdHkuZ2V0KCdwaWNrYWJsZScpIDogbWVzaERhdGEucGlja2FibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ET++8mnNjZW5l57yW6L6R5p2h5Lu25LiL6buY6K6k5bCx5piv5Yqg6L2954q25oCB77ybXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaERhdGEucGlja2FibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc2hEYXRhLmNoZWNrQ29sbGlzaW9ucyA9IGVudGl0eS5oYXMoJ2NoZWNrQ29sbGlzaW9ucycpID8gZW50aXR5LmdldCgnY2hlY2tDb2xsaXNpb25zJykgOiBtZXNoRGF0YS5jaGVja0NvbGxpc2lvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaERhdGEubWF0ZXJpYWxJZCA9IGVudGl0eS5oYXMoJ21hdGVyaWFsX2lkJykgPyBlbnRpdHkuZ2V0KCdtYXRlcmlhbF9pZCcpIDogbWVzaERhdGEubWF0ZXJpYWxJZDtcclxuICAgICAgICAgICAgICAgICAgICAvLyDopoHms6jmhI/mmK/lkKbkuLpyb290IGlkXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaERhdGEucGFyZW50SWQgPSBlbnRpdHkuaGFzKCdwYXJlbnQnKSA/IGVudGl0eS5nZXQoJ3BhcmVudCcpIDogbWVzaERhdGEucGFyZW50SWQ7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDliKTmlq3mmK/lkKblhbPogZTkuoZnZW9tZXRyeVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNoRGF0YS5nZW9tZXRyeUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChWZXJ5RW5naW5lLnZpZXdTY2VuZS5nZXRHZW9tZXRyeUJ5SUQobWVzaERhdGEuZ2VvbWV0cnlJZCkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRCYWJ5bG9uLmdlb21ldHJpZXMgJiYgcGFyc2VkQmFieWxvbi5nZW9tZXRyaWVzW21lc2hEYXRhLmdlb21ldHJ5SWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZlcnRleERhdGEgPSBwYXJzZWRCYWJ5bG9uLmdlb21ldHJpZXNbbWVzaERhdGEuZ2VvbWV0cnlJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFieWxvbkxvYWRlci5sb2FkR2VvbWV0cnkodmVydGV4RGF0YSwgVmVyeUVuZ2luZS52aWV3U2NlbmUsICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyDnu4Too4VtYXRlcmlhbFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IobWVzaERhdGEubWF0ZXJpYWxJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc2hEYXRhLm1hdGVyaWFsSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFZlcnlFbmdpbmUudmlld1NjZW5lLmdldE1hdGVyaWFsQnlJRChtZXNoRGF0YS5tYXRlcmlhbElkKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYmFieWxvblthc3NldElEXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmJhYnlsb25bYXNzZXRJRF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0cyA9IEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5iYWJ5bG9uW2Fzc2V0SURdWydtYXRlcmlhbHMnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0cyAmJiBtYXRzW21lc2hEYXRhLm1hdGVyaWFsSWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRBc3NldElEID0gbWF0c1ttZXNoRGF0YS5tYXRlcmlhbElkXS5hc3NldF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbWF0QXNzZXRJRF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdNYXQgPSBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW21hdEFzc2V0SURdLmRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5qOA5rWLdGV4dHVyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld01hdC5kaWZmdXNlVGV4dHVyZSAmJiBuZXdNYXQuZGlmZnVzZVRleHR1cmUudGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hdC5kaWZmdXNlVGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQuZGlmZnVzZVRleHR1cmUudGV4dHVyZV9pZCArICcvJyArIEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbmV3TWF0LmRpZmZ1c2VUZXh0dXJlLnRleHR1cmVfaWRdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKG5ld01hdC5kaWZmdXNlVGV4dHVyZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQuc3BlY3VsYXJUZXh0dXJlICYmIG5ld01hdC5zcGVjdWxhclRleHR1cmUudGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hdC5zcGVjdWxhclRleHR1cmUubmFtZSA9IEJhYnlsb25Mb2FkZXIucHJlZml4ICsgbmV3TWF0LnNwZWN1bGFyVGV4dHVyZS50ZXh0dXJlX2lkICsgJy8nICsgQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmFzc2V0c1tuZXdNYXQuc3BlY3VsYXJUZXh0dXJlLnRleHR1cmVfaWRdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3TWF0LnJlZmxlY3Rpb25UZXh0dXJlICYmIG5ld01hdC5yZWZsZWN0aW9uVGV4dHVyZS50ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWF0LnJlZmxlY3Rpb25UZXh0dXJlLm5hbWUgPSBCYWJ5bG9uTG9hZGVyLnByZWZpeCArIG5ld01hdC5yZWZsZWN0aW9uVGV4dHVyZS50ZXh0dXJlX2lkICsgJy8nICsgQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmFzc2V0c1tuZXdNYXQucmVmbGVjdGlvblRleHR1cmUudGV4dHVyZV9pZF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQucmVmcmFjdGlvblRleHR1cmUgJiYgbmV3TWF0LnJlZnJhY3Rpb25UZXh0dXJlLnRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXQucmVmcmFjdGlvblRleHR1cmUubmFtZSA9IEJhYnlsb25Mb2FkZXIucHJlZml4ICsgbmV3TWF0LnJlZnJhY3Rpb25UZXh0dXJlLnRleHR1cmVfaWQgKyAnLycgKyBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW25ld01hdC5yZWZyYWN0aW9uVGV4dHVyZS50ZXh0dXJlX2lkXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld01hdC5lbWlzc2l2ZVRleHR1cmUgJiYgbmV3TWF0LmVtaXNzaXZlVGV4dHVyZS50ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWF0LmVtaXNzaXZlVGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQuZW1pc3NpdmVUZXh0dXJlLnRleHR1cmVfaWQgKyAnLycgKyBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW25ld01hdC5lbWlzc2l2ZVRleHR1cmUudGV4dHVyZV9pZF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQuYnVtcFRleHR1cmUgJiYgbmV3TWF0LmJ1bXBUZXh0dXJlLnRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdNYXQuYnVtcFRleHR1cmUubmFtZSA9IEJhYnlsb25Mb2FkZXIucHJlZml4ICsgbmV3TWF0LmJ1bXBUZXh0dXJlLnRleHR1cmVfaWQgKyAnLycgKyBCYWJ5bG9uTG9hZGVyLmFzc2V0c0RhdGEuYXNzZXRzW25ld01hdC5idW1wVGV4dHVyZS50ZXh0dXJlX2lkXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld01hdC5vcGFjaXR5VGV4dHVyZSAmJiBuZXdNYXQub3BhY2l0eVRleHR1cmUudGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hdC5vcGFjaXR5VGV4dHVyZS5uYW1lID0gQmFieWxvbkxvYWRlci5wcmVmaXggKyBuZXdNYXQub3BhY2l0eVRleHR1cmUudGV4dHVyZV9pZCArICcvJyArIEJhYnlsb25Mb2FkZXIuYXNzZXRzRGF0YS5hc3NldHNbbmV3TWF0Lm9wYWNpdHlUZXh0dXJlLnRleHR1cmVfaWRdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3TWF0LmFtYmllbnRUZXh0dXJlICYmIG5ld01hdC5hbWJpZW50VGV4dHVyZS50ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWF0LmFtYmllbnRUZXh0dXJlLm5hbWUgPSBCYWJ5bG9uTG9hZGVyLnByZWZpeCArIG5ld01hdC5hbWJpZW50VGV4dHVyZS50ZXh0dXJlX2lkICsgJy8nICsgQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmFzc2V0c1tuZXdNYXQuYW1iaWVudFRleHR1cmUudGV4dHVyZV9pZF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdNYXQubGlnaHRtYXBUZXh0dXJlICYmIG5ld01hdC5saWdodG1hcFRleHR1cmUudGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01hdC5saWdodG1hcFRleHR1cmUubmFtZSA9IEJhYnlsb25Mb2FkZXIucHJlZml4ICsgbmV3TWF0LmxpZ2h0bWFwVGV4dHVyZS50ZXh0dXJlX2lkICsgJy8nICsgQmFieWxvbkxvYWRlci5hc3NldHNEYXRhLmFzc2V0c1tuZXdNYXQubGlnaHRtYXBUZXh0dXJlLnRleHR1cmVfaWRdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKG5ld01hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYWJ5bG9uTG9hZGVyLmxvYWRNYXRlcmlhbChuZXdNYXQsIFZlcnlFbmdpbmUudmlld1NjZW5lLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NjZW5lIG1lc2ggd2FybicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NjZW5lIG1lc2ggd2FybicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDliqDovb1tZXNoXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc2ggPSBCYWJ5bG9uTG9hZGVyLmxvYWRNZXNoKG1lc2hEYXRhLCBWZXJ5RW5naW5lLnZpZXdTY2VuZSwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5ub2RlID0gbWVzaDtcclxuICAgICAgICAgICAgICAgICAgICBlbnRpdGllc0luZGV4W2VudGl0eS5nZXQoJ3Jlc291cmNlX2lkJyldID0gbWVzaDtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZEFuZFBhcmVudChlbnRpdHksIG1lc2gpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NjZW5lIG1lc2ggd2FybicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAnLi4vLi4vbGliJztcclxuaW1wb3J0IHsgVmVyeUVuZ2luZSB9IGZyb20gJy4uLy4uL2VuZ2luZSc7XHJcbmltcG9ydCB7IEJhYnlsb25Mb2FkZXIgfSBmcm9tICcuLi9taWRkbGV3YXJlL2xvYWRlci9iYWJ5bG9uTG9hZGVyJztcclxuaW1wb3J0IHsgR2l6bW9zQ2VudGVyIH0gZnJvbSAnLi4vZ2l6bW9zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3cG9ydERyb3BNb2RlbCB7XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcblxyXG4gICAgICAgIGVkaXRvci5tZXRob2QoJ2xvYWQ6ZnJvbTphc3NldCcsIChiYWJ5bG9uX2RhdGE6IE9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIubG9hZEJhYnlsb24oYmFieWxvbl9kYXRhKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Fzc2V0c+WKoOi9veaooeWeiycpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhiYWJ5bG9uX2RhdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdwaWNrJywgKG1lc2g6IE51bGxhYmxlPEJBQllMT04uQWJzdHJhY3RNZXNoPikgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWVzaCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgR2l6bW9zQ2VudGVyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xlYXIgZ2l6bW9zJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGljayBtZXNoJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBHaXptb3NDZW50ZXIuYXR0YWNoKG1lc2gpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpnZXQnLCBtZXNoLmlkKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnc2VsZWN0b3I6c2V0JywgJ2VudGl0eScsIFtlbnRpdHldKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5aSx6LSlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICBlZGl0b3IubWV0aG9kKCdsb2FkVGVtcE1vZGVsJywgKGJhYnlsb25fZGF0YTogT2JzZXJ2ZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIubG9hZEJhYnlsb24oYmFieWxvbl9kYXRhKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+WKoOi9veaooeWeiycpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhiYWJ5bG9uX2RhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciByb290VXJsID0gYmFieWxvbl9kYXRhLmdldCgnZmlsZS51cmwnKTtcclxuICAgICAgICAgICAgdmFyIG1vZGVsTmFtZSA9IGJhYnlsb25fZGF0YS5nZXQoJ2ZpbGUuZmlsZW5hbWUnKTtcclxuICAgICAgICAgICAgcm9vdFVybCA9IHJvb3RVcmwuc3Vic3RyaW5nKDAsIHJvb3RVcmwubGVuZ3RoIC0gbW9kZWxOYW1lLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICBCQUJZTE9OLlNjZW5lTG9hZGVyLkFwcGVuZChyb290VXJsLCBtb2RlbE5hbWUsIFZlcnlFbmdpbmUudmlld1NjZW5lLCBmdW5jdGlvbiAoc2NlbmUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnKioqKioqKioqKioqbWVzaOS4quaVsO+8micgKyBzY2VuZS5tZXNoZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NlbmUubWVzaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc2ggPSBzY2VuZS5tZXNoZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzaC5jaGVja0NvbGxpc2lvbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc2guaXNQaWNrYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudElEOiBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzaC5wYXJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50SUQgPSBtZXNoLnBhcmVudCEuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRzID0gbWVzaC5nZXRDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBteUNoaWxkcmVuID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY2hpbGRzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Q2hpbGRyZW4ucHVzaChjaGlsZHNba10uaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lc2gubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IG1lc2guaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50SUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbbWVzaC5wb3NpdGlvbi54LCBtZXNoLnBvc2l0aW9uLnksIG1lc2gucG9zaXRpb24uel0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBbbWVzaC5yb3RhdGlvbi54LCBtZXNoLnJvdGF0aW9uLnksIG1lc2gucm90YXRpb24uel0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBbbWVzaC5zY2FsaW5nLngsIG1lc2guc2NhbGluZy55LCBtZXNoLnNjYWxpbmcuel0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBteUNoaWxkcmVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBtZXNoLmlzRW5hYmxlZCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdNZXNoJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXQ6IHJvb3RVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0MjogbW9kZWxOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNjZW5lLm1lc2hlc1tpXS5pZCArICcgOiAnICsgc2NlbmUubWVzaGVzW2ldLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ2VudGl0eTpuZXc6YmFieWxvbicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NlbmUudHJhbnNmb3JtTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHNjZW5lLnRyYW5zZm9ybU5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRJRDogc3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUucGFyZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudElEID0gbm9kZS5wYXJlbnQhLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5vZGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfaWQ6IG5vZGUuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50SUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbbm9kZS5wb3NpdGlvbi54LCBub2RlLnBvc2l0aW9uLnksIG5vZGUucG9zaXRpb24uel0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBbbm9kZS5yb3RhdGlvbi54LCBub2RlLnJvdGF0aW9uLnksIG5vZGUucm90YXRpb24uel0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBbbm9kZS5zY2FsaW5nLngsIG5vZGUuc2NhbGluZy55LCBub2RlLnNjYWxpbmcuel0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBteUNoaWxkcmVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBub2RlLmlzRW5hYmxlZCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdUcmFuc2Zvcm1Ob2RlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXQ6IHJvb3RVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0MjogbW9kZWxOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNjZW5lLm1lc2hlc1tpXS5pZCArICcgOiAnICsgc2NlbmUubWVzaGVzW2ldLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdlbnRpdHk6bmV3OmJhYnlsb24nLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCfliqDovb0nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuZW1pdCgnZW50aXRpZXM6bG9hZCcsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCcqKioqKioqKioqKipub2Rl5Liq5pWw77yaJyArIHNjZW5lLnRyYW5zZm9ybU5vZGVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDwgc2NlbmUudHJhbnNmb3JtTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhzY2VuZS50cmFuc2Zvcm1Ob2Rlc1tpXS5pZCArICcgOiAnICsgc2NlbmUudHJhbnNmb3JtTm9kZXNbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnKioqKioqKioqKioqcm9vdOS4quaVsO+8micgKyBzY2VuZS5yb290Tm9kZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIC8vIGZvcihsZXQgaSA9IDA7IGkgPCBzY2VuZS5yb290Tm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhzY2VuZS5yb290Tm9kZXNbaV0uaWQgKyAnIDogJyArIHNjZW5lLnJvb3ROb2Rlc1tpXS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQocG9pbnRlckluZm8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocG9pbnRlckluZm8udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uUG9pbnRlckV2ZW50VHlwZXMuUE9JTlRFUkRPV046XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJJbmZvIS5waWNrSW5mbyEucGlja2VkTWVzaCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2snLCBwb2ludGVySW5mbyEucGlja0luZm8hLnBpY2tlZE1lc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGljaycsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9pbnRlckluZm8hLnBpY2tJbmZvIS5waWNrZWRNZXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g6buY6K6k5Yqg6L29XHJcblxyXG4gICAgICAgICAgICAvLyBlZGl0b3IubWV0aG9kKCdlbnRpdHk6bmV3Om1lc2gnLCApXHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgnbG9hZFRlbXBNb2RlbDInLCAocm9vdFVybDogc3RyaW5nLCBtb2RlbE5hbWU6IHN0cmluZykgPT4ge1xyXG5cclxuICAgICAgICAgICAgQkFCWUxPTi5TY2VuZUxvYWRlci5BcHBlbmQocm9vdFVybCwgbW9kZWxOYW1lLCBWZXJ5RW5naW5lLnZpZXdTY2VuZSwgZnVuY3Rpb24gKHNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCfliqDovb0yJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJyoqKioqKioqKioqKm1lc2jkuKrmlbDvvJonICsgc2NlbmUubWVzaGVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjZW5lLm1lc2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNoID0gc2NlbmUubWVzaGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc2guY2hlY2tDb2xsaXNpb25zID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNoLmlzUGlja2FibGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIG1lc2guaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm5vZGUgPSBtZXNoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgcGFyZW50SUQ6IHN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChtZXNoLnBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBwYXJlbnRJRCA9IG1lc2gucGFyZW50IS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBjaGlsZHMgPSBtZXNoLmdldENoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIG15Q2hpbGRyZW4gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIChsZXQgayA9IDA7IGsgPCBjaGlsZHMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbXlDaGlsZHJlbi5wdXNoKGNoaWxkc1trXS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogbWVzaC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXNvdXJjZV9pZDogbWVzaC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcGFyZW50OiBwYXJlbnRJRCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcG9zaXRpb246IFttZXNoLnBvc2l0aW9uLngsIG1lc2gucG9zaXRpb24ueSwgbWVzaC5wb3NpdGlvbi56XSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcm90YXRpb246IFttZXNoLnJvdGF0aW9uLngsIG1lc2gucm90YXRpb24ueSwgbWVzaC5yb3RhdGlvbi56XSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NhbGU6IFttZXNoLnNjYWxpbmcueCwgbWVzaC5zY2FsaW5nLnksIG1lc2guc2NhbGluZy56XSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2hpbGRyZW46IG15Q2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVuYWJsZWQ6IG1lc2guaXNFbmFibGVkKCksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByb290OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogJ01lc2gnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBhc3NldDogcm9vdFVybCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgYXNzZXQyOiBtb2RlbE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLy8gY29uc29sZS5sb2coc2NlbmUubWVzaGVzW2ldLmlkICsgJyA6ICcgKyBzY2VuZS5tZXNoZXNbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLy8gY29uc29sZS5lcnJvcihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgnZW50aXR5Om5ldzpiYWJ5bG9uJywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2VuZS50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gc2NlbmUudHJhbnNmb3JtTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudElEOiBzdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50SUQgPSBub2RlLnBhcmVudCEuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIG5vZGUuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm5vZGUgPSBub2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogbm9kZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXNvdXJjZV9pZDogbm9kZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcGFyZW50OiBwYXJlbnRJRCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcG9zaXRpb246IFtub2RlLnBvc2l0aW9uLngsIG5vZGUucG9zaXRpb24ueSwgbm9kZS5wb3NpdGlvbi56XSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcm90YXRpb246IFtub2RlLnJvdGF0aW9uLngsIG5vZGUucm90YXRpb24ueSwgbm9kZS5yb3RhdGlvbi56XSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NhbGU6IFtub2RlLnNjYWxpbmcueCwgbm9kZS5zY2FsaW5nLnksIG5vZGUuc2NhbGluZy56XSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2hpbGRyZW46IG15Q2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVuYWJsZWQ6IG5vZGUuaXNFbmFibGVkKCksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByb290OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogJ1RyYW5zZm9ybU5vZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBhc3NldDogcm9vdFVybCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgYXNzZXQyOiBtb2RlbE5hbWVcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLy8gY29uc29sZS5sb2coc2NlbmUubWVzaGVzW2ldLmlkICsgJyA6ICcgKyBzY2VuZS5tZXNoZXNbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2VudGl0eTpuZXc6YmFieWxvbicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBlZGl0b3IuZW1pdCgnZW50aXRpZXM6bG9hZCcsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCcqKioqKioqKioqKipub2Rl5Liq5pWw77yaJyArIHNjZW5lLnRyYW5zZm9ybU5vZGVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDwgc2NlbmUudHJhbnNmb3JtTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhzY2VuZS50cmFuc2Zvcm1Ob2Rlc1tpXS5pZCArICcgOiAnICsgc2NlbmUudHJhbnNmb3JtTm9kZXNbaV0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnKioqKioqKioqKioqcm9vdOS4quaVsO+8micgKyBzY2VuZS5yb290Tm9kZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIC8vIGZvcihsZXQgaSA9IDA7IGkgPCBzY2VuZS5yb290Tm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhzY2VuZS5yb290Tm9kZXNbaV0uaWQgKyAnIDogJyArIHNjZW5lLnJvb3ROb2Rlc1tpXS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5hZGQocG9pbnRlckluZm8gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocG9pbnRlckluZm8udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEJBQllMT04uUG9pbnRlckV2ZW50VHlwZXMuUE9JTlRFUkRPV046XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50ZXJJbmZvIS5waWNrSW5mbyEucGlja2VkTWVzaCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3BpY2snLCBwb2ludGVySW5mbyEucGlja0luZm8hLnBpY2tlZE1lc2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgncGljaycsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9pbnRlckluZm8hLnBpY2tJbmZvIS5waWNrZWRNZXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHZhciBjYW52YXMgPSBlZGl0b3IuY2FsbCgndmlld3BvcnQ6Y2FudmFzJyk7XHJcbiAgICAgICAgaWYgKCEgY2FudmFzKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBkcm9wUmVmID0gZWRpdG9yLmNhbGwoJ2Ryb3A6dGFyZ2V0Jywge1xyXG4gICAgICAgICAgICByZWY6IGNhbnZhcy5lbGVtZW50LFxyXG4gICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uICh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdhc3NldC5tb2RlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgYXNzZXQgPSBhcHAuYXNzZXRzLmdldChkYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoYXNzZXQpIGFwcC5hc3NldHMubG9hZChhc3NldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnYXNzZXRzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5pZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzc2V0ID0gZWRpdG9yLmNhbGwoJ2Fzc2V0czpnZXQnLCBkYXRhLmlkc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXNzZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXQuZ2V0KCd0eXBlJykgIT09ICdtb2RlbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuaWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBhc3NldCA9IGFwcC5hc3NldHMuZ2V0KGRhdGEuaWRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGFzc2V0KSBhcHAuYXNzZXRzLmxvYWQoYXNzZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkcm9wOiBmdW5jdGlvbiAodHlwZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmICghY29uZmlnLnNjZW5lLmlkKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybigndmlld3BvcnQgZHJvcDogJyArIHR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhc3NldHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Fzc2V0Lm1vZGVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3NldCA9IGVkaXRvci5jYWxsKCdhc3NldHM6Z2V0JywgZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0KSBhc3NldHMucHVzaChhc3NldCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhc3NldHMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNzZXQgPSBlZGl0b3IuY2FsbCgnYXNzZXRzOmdldCcsIGRhdGEuaWRzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0ICYmIGFzc2V0LmdldCgndHlwZScpID09PSAnbW9kZWwnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXRzLnB1c2goYXNzZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFzc2V0cy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBhcmVudFxyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnR5cGUnKSA9PT0gJ2VudGl0eScpXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJylbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOnJvb3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZW50aXRpZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhOiBhbnkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgYWFiYlxyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdmFyIGFzc2V0RW5naW5lID0gYXBwLmFzc2V0cy5nZXQoYXNzZXRzW2ldLmdldCgnaWQnKSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKCFhc3NldEVuZ2luZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlmIChhc3NldEVuZ2luZS5yZXNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB2YXIgbWVzaGVzID0gYXNzZXRFbmdpbmUucmVzb3VyY2UubWVzaEluc3RhbmNlcztcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBtZXNoZXMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgYWFiYi5jb3B5KG1lc2hlc1ttXS5hYWJiKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgYWFiYi5hZGQobWVzaGVzW21dLmFhYmIpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIChmaXJzdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGFhYmIuY2VudGVyLnNldCgwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBhYWJiLmhhbGZFeHRlbnRzLnNldCgxLCAxLCAxKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgcG9pbnRcclxuICAgICAgICAgICAgICAgIC8vIHZhciBjYW1lcmEgPSBlZGl0b3IuY2FsbCgnY2FtZXJhOmN1cnJlbnQnKTtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBkaXN0YW5jZSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHVpLlRyZWUuX2N0cmwgJiYgdWkuVHJlZS5fY3RybCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdmVjQS5jb3B5KGNhbWVyYS5mb3J3YXJkKS5zY2FsZShhYWJiLmhhbGZFeHRlbnRzLmxlbmd0aCgpICogMi4yKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB2ZWNCLmNvcHkoY2FtZXJhLmdldFBvc2l0aW9uKCkpLmFkZCh2ZWNBKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB2ZWNDLmNvcHkodmVjQikuc3ViKGFhYmIuY2VudGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHRtcCA9IG5ldyBwYy5FbnRpdHkoKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBwYXJlbnQuZW50aXR5LmFkZENoaWxkKHRtcCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdG1wLnNldFBvc2l0aW9uKHZlY0MpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHZlY0MuY29weSh0bXAuZ2V0TG9jYWxQb3NpdGlvbigpKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0bXAuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBmb2N1cyBkaXN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGRpc3RhbmNlID0gdmVjQS5jb3B5KGNhbWVyYS5nZXRQb3NpdGlvbigpKS5zdWIodmVjQikubGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHZlY0Muc2V0KDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHZlY0IuY29weShwYXJlbnQuZW50aXR5LmdldFBvc2l0aW9uKCkpLmFkZChhYWJiLmNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZGlzdGFuY2UgPSBhYWJiLmhhbGZFeHRlbnRzLmxlbmd0aCgpICogMi4yO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdmFyIGNvbXBvbmVudCA9IGVkaXRvci5jYWxsKCdjb21wb25lbnRzOmdldERlZmF1bHQnLCAnbW9kZWwnKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb21wb25lbnQudHlwZSA9ICdhc3NldCc7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY29tcG9uZW50LmFzc2V0ID0gcGFyc2VJbnQoYXNzZXRzW2ldLmdldCgnaWQnKSwgMTApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICB2YXIgbmFtZSA9IGFzc2V0c1tpXS5nZXQoJ25hbWUnKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBpZiAoL1xcLmpzb24kL2kudGVzdChuYW1lKSlcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgLTUpIHx8ICdVbnRpdGxlZCc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIG5ldyBlbnRpdHlcclxuICAgICAgICAgICAgICAgIC8vICAgICB2YXIgZW50aXR5ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOm5ldycsIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgcGFyZW50OiBwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBvc2l0aW9uOiBbdmVjQy54LCB2ZWNDLnksIHZlY0Muel0sXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1vZGVsOiBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbm9TZWxlY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIG5vSGlzdG9yeTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZGF0YS5wdXNoKGVudGl0eS5qc29uKCkpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoaXN0b3J5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnNldCcsICdlbnRpdHknLCBlbnRpdGllcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBlZGl0b3Iub25jZSgnc2VsZWN0b3I6Y2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoaXN0b3J5JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgc2VsZWN0b3JUeXBlID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnR5cGUnKTtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBzZWxlY3Rvckl0ZW1zID0gZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOml0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoc2VsZWN0b3JUeXBlID09PSAnZW50aXR5Jykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0b3JJdGVtcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2VsZWN0b3JJdGVtc1tpXSA9IHNlbGVjdG9ySXRlbXNbaV0uZ2V0KCdyZXNvdXJjZV9pZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHZhciBwYXJlbnRJZCA9IHBhcmVudC5nZXQoJ3Jlc291cmNlX2lkJyk7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgcmVzb3VyY2VJZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgZW50aXRpZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVzb3VyY2VJZHMucHVzaChlbnRpdGllc1tpXS5nZXQoJ3Jlc291cmNlX2lkJykpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCdoaXN0b3J5OmFkZCcsIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiAnbmV3IG1vZGVsIGVudGl0aWVzICcgKyBlbnRpdGllcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdW5kbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlSWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB2YXIgZW50aXR5ID0gZWRpdG9yLmNhbGwoJ2VudGl0aWVzOmdldCcsIHJlc291cmNlSWRzW2ldKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmICghZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdlbnRpdGllczpyZW1vdmVFbnRpdHknLCBlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoc2VsZWN0b3JUeXBlID09PSAnZW50aXR5JyAmJiBzZWxlY3Rvckl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdG9ySXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpnZXQnLCBzZWxlY3Rvckl0ZW1zW2ldKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAoaXRlbSlcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmhpc3RvcnknLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOnNldCcsIHNlbGVjdG9yVHlwZSwgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdzZWxlY3RvcjpjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpoaXN0b3J5JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHJlZG86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFyIHBhcmVudCA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpnZXQnLCBwYXJlbnRJZCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmICghcGFyZW50KVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFyIGVudGl0aWVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBuZXcgT2JzZXJ2ZXIoZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBlbnRpdGllcy5wdXNoKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6YWRkRW50aXR5JywgZW50aXR5LCBwYXJlbnQsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmhpc3RvcnknLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGVkaXRvci5jYWxsKCdzZWxlY3RvcjpzZXQnLCAnZW50aXR5JywgZW50aXRpZXMpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBlZGl0b3Iub25jZSgnc2VsZWN0b3I6Y2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZWRpdG9yLmNhbGwoJ3NlbGVjdG9yOmhpc3RvcnknLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBlZGl0b3IuY2FsbCgndmlld3BvcnQ6cmVuZGVyJyk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGVkaXRvci5jYWxsKCdjYW1lcmE6Zm9jdXMnLCB2ZWNCLCBkaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ3ZpZXdwb3J0OnJlbmRlcicpO1xyXG4gICAgICAgICAgICAgICAgLy8gZWRpdG9yLmNhbGwoJ2NhbWVyYTpmb2N1cycsIHZlY0IsIGRpc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZVwiO1xyXG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gXCIuLi8uLi9saWJcIjtcclxuaW1wb3J0IHsgQmFieWxvbkxvYWRlciB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2xvYWRlci9iYWJ5bG9uTG9hZGVyXCI7XHJcbmltcG9ydCB7IFRvb2xzIH0gZnJvbSBcIi4uL3V0aWxpdHlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3cG9ydEVudGl0aWVzT2JzZXJ2ZXJCaW5kaW5nIHtcclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyBsZXQgbm5ub2RlID0gbmV3IEJBQllMT04uTm9kZSgnc2RmJywgVmVyeUVuZ2luZS52aWV3U2NlbmUpO1xyXG4gICAgICAgIC8vIG5ubm9kZVxyXG4gICAgICAgIGVkaXRvci5vbignZW50aXRpZXM6YWRkJywgZnVuY3Rpb24gKG9iajogT2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKG9iaik7XHJcbiAgICAgICAgICAgIC8vIHN1YnNjcmliZSB0byBjaGFuZ2VzXHJcbiAgICAgICAgICAgIG9iai5vbignKjpzZXQnLCBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gb2JqLm5vZGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVudGl0eSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGggPT09ICduYW1lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5uYW1lID0gb2JqLmdldCgnbmFtZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5zdGFydHNXaXRoKCdwb3NpdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzog5pyJ5pWw5o2u5YC855qE5pyA5aW95o2i5LiA5Liq6YCa55So55qE5pa55byP6K6w5b2VXHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMyhvYmouZ2V0KCdwb3NpdGlvbi4wJyksIG9iai5nZXQoJ3Bvc2l0aW9uLjEnKSwgb2JqLmdldCgncG9zaXRpb24uMicpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguc3RhcnRzV2l0aCgncm90YXRpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5yb3RhdGlvbiA9IFRvb2xzLmV1bGVyQW5nbGVUb1JhZGlhbihuZXcgQkFCWUxPTi5WZWN0b3IzKG9iai5nZXQoJ3JvdGF0aW9uLjAnKSwgb2JqLmdldCgncm90YXRpb24uMScpLCBvYmouZ2V0KCdyb3RhdGlvbi4yJykpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguc3RhcnRzV2l0aCgnc2NhbGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5zY2FsaW5nID0gbmV3IEJBQllMT04uVmVjdG9yMyhvYmouZ2V0KCdzY2FsZS4wJyksIG9iai5nZXQoJ3NjYWxlLjEnKSwgb2JqLmdldCgnc2NhbGUuMicpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguc3RhcnRzV2l0aCgnZW5hYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldEVuYWJsZWQob2JqLmdldCgnZW5hYmxlZCcpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5zdGFydHNXaXRoKCdjaGVja0NvbGxpc2lvbnMnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5jaGVja0NvbGxpc2lvbnMgPSBvYmouZ2V0KCdjaGVja0NvbGxpc2lvbnMnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5zdGFydHNXaXRoKCdwaWNrYWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzog57yW6L6R5Zy65pmv5LiLZW50aXR55LiN5pS577yM5LiA55u05Li6dHJ1Ze+8jHB1Ymxpc2jliqDovb3miY3nnJ/mlLlcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkuaXNQaWNrYWJsZSA9IG9iai5nZXQoJ3BpY2thYmxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoLnN0YXJ0c1dpdGgoJ2lzVmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmlzVmlzaWJsZSA9IG9iai5nZXQoJ2lzVmlzaWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoLnN0YXJ0c1dpdGgoJ3BhcmVudCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g54i25a2Q5YWz57O76K6+5a6aXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVkaXRvci5jYWxsKCdlbnRpdGllczpnZXQnLCBvYmouZ2V0KCdwYXJlbnQnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwYXJlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4ocGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHBhcmVudCAmJiBwYXJlbnQubm9kZSAmJiBlbnRpdHkucGFyZW50ICE9PSBwYXJlbnQubm9kZSlcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZW50aXR5LnBhcmVudCA9IHBhcmVudC5ub2RlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoID09PSAnY29tcG9uZW50cy5tb2RlbC50eXBlJyAmJiB2YWx1ZSA9PT0gJ2Fzc2V0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdPUktBUk9VTkRcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkgZGVsZXRlcyBhc3NldCB3aGVuIHN3aXRjaGluZyB0byBwcmltaXRpdmUsIHJlc3RvcmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyB0aGlzIGluIGEgdGltZW91dCB0byBhbGxvdyB0aGUgbW9kZWwgdHlwZSB0byBjaGFuZ2UgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIGFzc2V0SWQgPSBvYmouZ2V0KCdjb21wb25lbnRzLm1vZGVsLmFzc2V0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGFzc2V0SWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVudGl0eS5tb2RlbC5hc3NldCA9IGFzc2V0SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIEJhYnlsb25Mb2FkZXIudXBkYXRlU2NlbmVEYXRhKG9iai5nZXQoJ3Jlc291cmNlX2lkJyksIG9iai5fZGF0YTIpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcihvYmouX2RhdGEyKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5jYWxsKCdtYWtlOnNjZW5lOmRpcnR5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAvLyByZW5kZXJcclxuICAgICAgICAgICAgICAgIC8vIGVkaXRvci5jYWxsKCd2aWV3cG9ydDpyZW5kZXInKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVwYXJlbnQgPSBmdW5jdGlvbiAoY2hpbGQ6IHN0cmluZywgaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdyZXBhcmVudCA6ICcgKyBjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRFbnRpdHkgPSBlZGl0b3IuY2FsbCgnZW50aXRpZXM6Z2V0JywgY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkRW50aXR5ICYmIGNoaWxkRW50aXR5Lm5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgb2xkUGFyZW50ID0gY2hpbGRFbnRpdHkubm9kZS5wYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTGlnaHTjgIFDYW1lcmHnrYnkuI3mmK9UcmFuc2Zvcm1Ob2Rl5a+56LGhXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkRW50aXR5Lm5vZGUgaW5zdGFuY2VvZiBCQUJZTE9OLlRyYW5zZm9ybU5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGNoaWxkRW50aXR5Lm5vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFic1BvcyA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCkuY29weUZyb20oKDxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+Y2hpbGRFbnRpdHkubm9kZSkuZ2V0QWJzb2x1dGVQb3NpdGlvbigpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGNoaWxkcmVu5Lit55qE5pWw5o2u6KaB5Yig6ZmkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDov5jmnInnga/lkozmkYTlg4/mnLrmgI7kuYjlip5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKDxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+Y2hpbGRFbnRpdHkubm9kZSkuc2V0QWJzb2x1dGVQb3NpdGlvbihhYnNQb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oY2hpbGRFbnRpdHkubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcnlFbmdpbmUudmlld1NjZW5lLnJlbmRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKDxCQUJZTE9OLlRyYW5zZm9ybU5vZGU+Y2hpbGRFbnRpdHkubm9kZSkuc2V0UGFyZW50KG9iai5ub2RlID8gb2JqLm5vZGUgOiBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICg8QkFCWUxPTi5UcmFuc2Zvcm1Ob2RlPmNoaWxkRW50aXR5Lm5vZGUpLnBhcmVudCA9KG9iai5ub2RlID8gb2JqLm5vZGUgOiBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFic1Bvcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoPEJBQllMT04uVHJhbnNmb3JtTm9kZT5jaGlsZEVudGl0eS5ub2RlKS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoNSw1LDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oY2hpbGRFbnRpdHkubm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb2NhbFBvc2l0aW9uID0gY2hpbGRFbnRpdHkubm9kZS5wb3NpdGlvbi5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9jYWxSb3RhdGlvbiA9IFRvb2xzLnJhZGlhblRvRXVsZXJBbmdsZShjaGlsZEVudGl0eS5ub2RlLnJvdGF0aW9uLmNsb25lKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEVudGl0eS5zZXQoJ3Bvc2l0aW9uLjAnLCBsb2NhbFBvc2l0aW9uLngpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEVudGl0eS5zZXQoJ3Bvc2l0aW9uLjEnLCBsb2NhbFBvc2l0aW9uLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEVudGl0eS5zZXQoJ3Bvc2l0aW9uLjInLCBsb2NhbFBvc2l0aW9uLnopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEVudGl0eS5zZXQoJ3JvdGF0aW9uLjAnLCBsb2NhbFJvdGF0aW9uLngpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEVudGl0eS5zZXQoJ3JvdGF0aW9uLjEnLCBsb2NhbFJvdGF0aW9uLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEVudGl0eS5zZXQoJ3JvdGF0aW9uLjInLCBsb2NhbFJvdGF0aW9uLnopO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+W9k+WJjeexu+Wei+i/mOacquiAg+iZkScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGNoaWxkRW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hpbGRFbnRpdHkubm9kZS5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoaWxkRW50aXR5Lm5vZGUucGFyZW50ID0gb2JqLm5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKG9sZFBhcmVudClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgb2xkUGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkRW50aXR5Lm5vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIGFueSBncmFwaCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChpbmRleCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIGNoaWxkcmVuID0gb2JqLm5vZGUuZ2V0Q2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbiAmJiBpbmRleCA+IDA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgQkFCWUxPTi5Ob2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaW5kZXgtLTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmUtaW5zZXJ0IFRPRE9cclxuICAgICAgICAgICAgICAgICAgICAvLyBvYmoubm9kZS5pbnNlcnRDaGlsZChjaGlsZEVudGl0eS5ub2RlLCBpbmRleCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBlcnNpc3QgdGhlIHBvc2l0aW9ucyBhbmQgc2l6ZXMgb2YgZWxlbWVudHMgaWYgdGhleSB3ZXJlIHByZXZpb3VzbHlcclxuICAgICAgICAgICAgICAgICAgICAvLyB1bmRlciBjb250cm9sIG9mIGEgbGF5b3V0IGdyb3VwIGJ1dCBoYXZlIG5vdyBiZWVuIHJlcGFyZW50ZWRcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAob2xkUGFyZW50ICYmIG9sZFBhcmVudC5sYXlvdXRncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBlZGl0b3IuY2FsbCgnZW50aXRpZXM6bGF5b3V0OnN0b3JlTGF5b3V0JywgW2NoaWxkRW50aXR5Lm5vZGUuZ2V0R3VpZCgpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgb2JqLm9uKCdjaGlsZHJlbjppbnNlcnQnLCByZXBhcmVudCk7XHJcbiAgICAgICAgICAgIG9iai5vbignY2hpbGRyZW46bW92ZScsIHJlcGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIG9iai5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoubm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5ub2RlLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY2FsbCgndmlld3BvcnQ6cmVuZGVyJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlZGl0b3Iub24oJ2VudGl0aWVzOnJlbW92ZScsIGZ1bmN0aW9uIChvYmo6IE9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBlbnRpdHkgPSBvYmoubm9kZTtcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBlbnRpdHkuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAvLyBlZGl0b3IuY2FsbCgndmlld3BvcnQ6cmVuZGVyJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBQYW5lbCwgVG9wRWxlbWVudFBhbmVsIH0gZnJvbSBcIi4uLy4uL3VpXCI7XHJcbmltcG9ydCB7IFZlcnlFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZW5naW5lXCI7XHJcblxyXG4vKiBcclxuKiAgdmlld3BvcnTnqpflj6PmnIDlpKfljJbmmL7npLrmjqfliLbvvJtcclxuKi9cclxuZXhwb3J0IGNsYXNzIFZpZXdwb3J0RXhwYW5kIHtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgbGV0IHBhbmVsczogVG9wRWxlbWVudFBhbmVsW10gPSBbXTtcclxuICAgIHBhbmVscy5wdXNoKFZlcnlFbmdpbmUuaGllcmFyY2h5KTtcclxuICAgIHBhbmVscy5wdXNoKFZlcnlFbmdpbmUuYXNzZXRzKTtcclxuICAgIHBhbmVscy5wdXNoKFZlcnlFbmdpbmUuYXR0cmlidXRlcyk7XHJcblxyXG4gICAgbGV0IGV4cGFuZGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgd2luZG93LmVkaXRvci5tZXRob2QoJ3ZpZXdwb3J0OmV4cGFuZCcsIGZ1bmN0aW9uIChzdGF0ZTogYm9vbGVhbikge1xyXG4gICAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICBzdGF0ZSA9ICFleHBhbmRlZDtcclxuXHJcbiAgICAgIGlmIChleHBhbmRlZCA9PT0gc3RhdGUpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgZXhwYW5kZWQgPSBzdGF0ZTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFuZWxzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHBhbmVsc1tpXS5oaWRkZW4gPSBleHBhbmRlZDtcclxuXHJcbiAgICAgIHdpbmRvdy5lZGl0b3IuZW1pdCgndmlld3BvcnQ6ZXhwYW5kJywgc3RhdGUpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHdpbmRvdy5lZGl0b3IubWV0aG9kKCd2aWV3cG9ydDpleHBhbmQ6c3RhdGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBleHBhbmRlZDtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBleHBhbmQgaG90a2V5XHJcbiAgICB3aW5kb3cuZWRpdG9yLmNhbGwoJ2hvdGtleTpyZWdpc3RlcicsICd2aWV3cG9ydDpleHBhbmQnLCB7XHJcbiAgICAgIGtleTogJ3NwYWNlJyxcclxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3aW5kb3cuZWRpdG9yLmNhbGwoJ3ZpZXdwb3J0OmV4cGFuZCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuXHJcblxyXG59XHJcblxyXG4iLCJleHBvcnQgY2xhc3MgVmlld3BvcnRJbnN0YW5jZUNyZWF0ZXtcclxuXHJcblxyXG4gICAgLy8g5rOo5YaM5LqL5Lu25Yiw55u45YWz6ISa5pysXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcHVibGljIGFkZEVudGl0eSgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIFxyXG59IiwiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnLi4vLi4vdWknO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSAnLi4vLi4vZW5naW5lJztcclxuaW1wb3J0IHsgVG9vbGJhclRvcENvbnRyb2x9IGZyb20gJy4uL3Rvb2xiYXInO1xyXG5pbXBvcnQgeyBWaWV3cG9ydEV4cGFuZCB9IGZyb20gJy4vdmlld3BvcnQtZXhwYW5kJztcclxuaW1wb3J0IHsgR2l6bW9zQ2VudGVyIH0gZnJvbSAnLi4vZ2l6bW9zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3cG9ydCB7XHJcblxyXG4gICAgcHVibGljIGNhbnZhcyE6IENhbnZhcztcclxuXHJcbiAgICBwcml2YXRlIF9lbmdpbmUhOiBCQUJZTE9OLkVuZ2luZTtcclxuICAgIHByaXZhdGUgX3NjZW5lITogQkFCWUxPTi5TY2VuZTtcclxuICAgIHByaXZhdGUgX2NhbnZhcyE6IEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhWZXJ5RW5naW5lLnZpZXdFbmdpbmUuX2ludGVybmFsVGV4dHVyZXNDYWNoZSk7XHJcbiAgICAgICAgLy8gbGV0IHRleCA9IFZlcnlFbmdpbmUudmlld0VuZ2luZS5jcmVhdGVUZXh0dXJlKCdzdGF0aWMvZWRpdG9yX2xvZ28ucG5nJywgZmFsc2UsIHRydWUsIFZlcnlFbmdpbmUudmlld1NjZW5lKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhWZXJ5RW5naW5lLnZpZXdFbmdpbmUuX2ludGVybmFsVGV4dHVyZXNDYWNoZSk7XHJcblxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgbGV0IGVuZ2luZSA9IHRoaXMuX2VuZ2luZTtcclxuXHJcblxyXG4gICAgICAgIC8vIFRPRE86IOiuvuWumuebuOaculxyXG4gICAgICAgIC8vIHRoaXMuX3NjZW5lLmNsZWFyQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjQoNDkgLyAyNTUsIDc3IC8gMjU1LCAxMjEgLyAyNTUsIDEpOyBcclxuICAgICAgICB0aGlzLl9zY2VuZS5jbGVhckNvbG9yID0gbmV3IEJBQllMT04uQ29sb3I0KDExNiAvIDI1NSwgMTE2IC8gMjU1LCAxMTYgLyAyNTUsIDEpO1xyXG5cclxuICAgICAgICB2YXIgY2FtZXJhID0gbmV3IEJBQllMT04uQXJjUm90YXRlQ2FtZXJhKCdEZWZhdWx0JywgMTAwLCA1MCwgNTAsIG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCksIHRoaXMuX3NjZW5lKTtcclxuICAgICAgICBjYW1lcmEuc2V0UG9zaXRpb24obmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAtMjApKTtcclxuICAgICAgICBjYW1lcmEuYXR0YWNoQ29udHJvbCh0aGlzLl9jYW52YXMsIHRydWUpO1xyXG4gICAgICAgIC8vIGNhbWVyYS5sb3dlckJldGFMaW1pdCA9IDAuMTtcclxuICAgICAgICAvLyBjYW1lcmEudXBwZXJCZXRhTGltaXQgPSAoTWF0aC5QSSAvIDIpICogMC45OTtcclxuICAgICAgICAvLyBjYW1lcmEubG93ZXJSYWRpdXNMaW1pdCA9IDE1MDtcclxuXHJcbiAgICAgICAgLy8gdmFyIGxpZ2h0MSA9IG5ldyBCQUJZTE9OLlBvaW50TGlnaHQoXCJvbW5pXCIsIG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNTAsIDApLCB0aGlzLl9zY2VuZSk7XHJcblxyXG5cclxuICAgICAgICAvLyDliqDovb3ov4fluqbliqjnlLvlvIBcclxuICAgICAgICAvLyBlbmdpbmUubG9hZGluZ1NjcmVlbi5oaWRlTG9hZGluZ1VJKCk7XHJcbiAgICAgICAgLy8gZW5naW5lLmRpc3BsYXlMb2FkaW5nVUkoKTtcclxuXHJcbiAgICAgICAgLy8gbGV0IGlucHV0TWFwOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuICAgICAgICAvLyBUT0RPOiDliqDovb1zY2VuZS5iYWJ5bG9u5Zy65pmv5paH5Lu277yM5b2T5YmN5Li66buY6K6kXHJcbiAgICAgICAgLy8g6buY6K6kRWRpdG9y5Zy65pmv77yM5Yqg6L295L+d5a2Y55qE5p+Q5LiA5Liq5Zy65pmv6LWE5rqQXHJcbiAgICAgICAgLy8g6LWE5rqQ55qE54i25a2Q5YWz57O75Lul5Y+K5qih5Z6LXHJcbiAgICAgICAgLypcclxuICAgICAgICBCQUJZTE9OLlNjZW5lTG9hZGVyLkFwcGVuZCgnLi9zY2VuZS8nLCAnc2NlbmUuYmFieWxvbicsIHRoaXMuX3NjZW5lLCBmdW5jdGlvbiAoc2NlbmUpIHtcclxuICAgICAgICAgIC8vIGRvIHNvbWV0aGluZyB3aXRoIHRoZSBzY2VuZVxyXG4gICAgICAgICAgLy8g5Yqg6L296L+H5bqm5Yqo55S75YWzXHJcbiAgICAgICAgICAvLyBlbmdpbmUuaGlkZUxvYWRpbmdVSSgpO1xyXG4gICAgXHJcbiAgICAgICAgICAvLyBLZXlib2FyZCBldmVudHNcclxuICAgICAgICAgIHZhciBibHVlID0gc2NlbmUuZ2V0TWVzaEJ5TmFtZSgnYmx1ZScpITtcclxuICAgIFxyXG4gICAgICAgICAgc2NlbmUuYWN0aW9uTWFuYWdlciA9IG5ldyBCQUJZTE9OLkFjdGlvbk1hbmFnZXIoc2NlbmUpO1xyXG4gICAgICAgICAgc2NlbmUuYWN0aW9uTWFuYWdlci5yZWdpc3RlckFjdGlvbihuZXcgQkFCWUxPTi5FeGVjdXRlQ29kZUFjdGlvbihCQUJZTE9OLkFjdGlvbk1hbmFnZXIuT25LZXlEb3duVHJpZ2dlciwgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICBpbnB1dE1hcFtldnQuc291cmNlRXZlbnQua2V5XSA9IGV2dC5zb3VyY2VFdmVudC50eXBlID09ICdrZXlkb3duJztcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICAgIHNjZW5lLmFjdGlvbk1hbmFnZXIucmVnaXN0ZXJBY3Rpb24obmV3IEJBQllMT04uRXhlY3V0ZUNvZGVBY3Rpb24oQkFCWUxPTi5BY3Rpb25NYW5hZ2VyLk9uS2V5VXBUcmlnZ2VyLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgIGlucHV0TWFwW2V2dC5zb3VyY2VFdmVudC5rZXldID0gZXZ0LnNvdXJjZUV2ZW50LnR5cGUgPT0gJ2tleWRvd24nO1xyXG4gICAgICAgICAgfSkpO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgIC8vIC8vIEdhbWUvUmVuZGVyIGxvb3BcclxuICAgICAgICAgIHNjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoKCkgPT4ge1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChpbnB1dE1hcFsndyddIHx8IGlucHV0TWFwWydBcnJvd1VwJ10pIHtcclxuICAgICAgICAgICAgICBibHVlLnBvc2l0aW9uLnogLT0gMTAwICogZW5naW5lLmdldERlbHRhVGltZSgpIC8gMTAwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRNYXBbJ2EnXSB8fCBpbnB1dE1hcFsnQXJyb3dMZWZ0J10pIHtcclxuICAgICAgICAgICAgICBibHVlLnBvc2l0aW9uLnggKz0gMTAwICogZW5naW5lLmdldERlbHRhVGltZSgpIC8gMTAwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRNYXBbJ3MnXSB8fCBpbnB1dE1hcFsnQXJyb3dEb3duJ10pIHtcclxuICAgICAgICAgICAgICBibHVlLnBvc2l0aW9uLnogKz0gMTAwICogZW5naW5lLmdldERlbHRhVGltZSgpIC8gMTAwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRNYXBbJ2QnXSB8fCBpbnB1dE1hcFsnQXJyb3dSaWdodCddKSB7XHJcbiAgICAgICAgICAgICAgYmx1ZS5wb3NpdGlvbi54IC09IDEwMCAqIGVuZ2luZS5nZXREZWx0YVRpbWUoKSAvIDEwMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICBcclxuICAgICAgICAgIC8vIHNwaGVyZVxyXG4gICAgICAgICAgdmFyIHNwaGVyZSA9IHNjZW5lLmdldE1lc2hCeU5hbWUoJ3NwaGVyZScpITtcclxuICAgICAgICAgIHNwaGVyZS5hY3Rpb25NYW5hZ2VyID0gbmV3IEJBQllMT04uQWN0aW9uTWFuYWdlcihzY2VuZSk7XHJcbiAgICBcclxuICAgICAgICAgIHNwaGVyZS5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKG5ldyBCQUJZTE9OLlNldFZhbHVlQWN0aW9uKFxyXG4gICAgICAgICAgICB7IHRyaWdnZXI6IEJBQllMT04uQWN0aW9uTWFuYWdlci5PbkludGVyc2VjdGlvbkVudGVyVHJpZ2dlciwgcGFyYW1ldGVyOiBibHVlIH0sXHJcbiAgICAgICAgICAgIHNwaGVyZSwgJ3NjYWxpbmcnLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDIsIDIsIDIpKSk7XHJcbiAgICBcclxuICAgICAgICAgIHNwaGVyZS5hY3Rpb25NYW5hZ2VyLnJlZ2lzdGVyQWN0aW9uKG5ldyBCQUJZTE9OLlNldFZhbHVlQWN0aW9uKFxyXG4gICAgICAgICAgICB7IHRyaWdnZXI6IEJBQllMT04uQWN0aW9uTWFuYWdlci5PbkludGVyc2VjdGlvbkV4aXRUcmlnZ2VyLCBwYXJhbWV0ZXI6IGJsdWUgfVxyXG4gICAgICAgICAgICAsIHNwaGVyZSwgJ3NjYWxpbmcnLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDEsIDEsIDEpKSk7XHJcbiAgICBcclxuICAgICAgICAgIGxldCBpOiBudW1iZXIgPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAvLyBXZWJTb2NrZXQg5rWL6K+VXHJcbiAgICAgICAgICAvLyBzY2VuZS5vbktleWJvYXJkT2JzZXJ2YWJsZS5hZGQoIGtiSW5mbyA9PiB7XHJcbiAgICAgICAgICAvLyAgIGlmKGtiSW5mby50eXBlID09PSBCQUJZTE9OLktleWJvYXJkRXZlbnRUeXBlcy5LRVlVUCkge1xyXG4gICAgICAgICAgLy8gICAgIGlmKGtiSW5mby5ldmVudC5rZXlDb2RlID09PSA2NSkge1xyXG4gICAgICAgICAgLy8gICAgICAgLy8gZWRpdG9yLmNhbGwoJ3NlbmQnLCAn5oyJ5LiL5qyh5pWw77yaJyArIChpKyspICsgJyEnKTtcclxuICAgICAgICAgIC8vICAgICAgIGVkaXRvci5jYWxsKCdzZW5kJywgJ3snZGF0YSc6IHsnYSc6IDEyMywgJ2InOiAncXdlJ319Jyk7XHJcbiAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAvLyB9KTtcclxuICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICovXHJcblxyXG5cclxuICAgICAgICB0aGlzLl9lbmdpbmUucnVuUmVuZGVyTG9vcCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW52YXMud2lkdGggIT09IHRoaXMuX2NhbnZhcy5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5naW5lLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY2VuZS5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgKHRoaXMuX3Nob3dGcHMpIHtcclxuICAgICAgICAgICAgLy8gXHR0aGlzLnVwZGF0ZUZwc1BvcygpO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyByZXR1cm4gdGhpcztcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZXhwYW5kQ29udHJvbCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoJ2NhbnZhcy12aWV3cG9ydCcpO1xyXG4gICAgICAgIFZlcnlFbmdpbmUudmlld0NhbnZhcyA9IHRoaXMuY2FudmFzO1xyXG5cclxuICAgICAgICB0aGlzLl9jYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5jYW52YXMuZWxlbWVudDtcclxuICAgICAgICBWZXJ5RW5naW5lLnZpZXdDYW52YXNFbGVtZW50ID0gdGhpcy5fY2FudmFzO1xyXG4gICAgICAgIC8vIOWOu+aOiUJhYnlsb27nmoTok53oibLovrnmoYZcclxuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUub3V0bGluZSA9ICdub25lJztcclxuICAgICAgICAvLyBhZGQgY2FudmFzXHJcbiAgICAgICAgZWRpdG9yLmNhbGwoJ2xheW91dC52aWV3cG9ydCcpLnByZXBlbmQodGhpcy5jYW52YXMpO1xyXG5cclxuICAgICAgICAvLyBnZXQgY2FudmFzXHJcbiAgICAgICAgZWRpdG9yLm1ldGhvZCgndmlld3BvcnQ6Y2FudmFzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jYW52YXM7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSB2aWV3cG90IOinhueql+Wkp+Wwj1xyXG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IHJlY3QgPSBWZXJ5RW5naW5lLnZpZXdwb3J0UGFuZWwuZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHNlbGYuY2FudmFzLnJlc2l6ZShNYXRoLmZsb29yKHJlY3Qud2lkdGgpLCBNYXRoLmZsb29yKHJlY3QuaGVpZ2h0KSk7XHJcbiAgICAgICAgfSwgMTAwIC8gNik7XHJcblxyXG4gICAgICAgIC8vIGlmKHRoaXMuX2VuZ2luZSkgdGhpcy5fZW5naW5lLmRpc3Bvc2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gbmV3IEJBQllMT04uRW5naW5lKHRoaXMuX2NhbnZhcywgdHJ1ZSk7XHJcbiAgICAgICAgVmVyeUVuZ2luZS52aWV3RW5naW5lID0gdGhpcy5fZW5naW5lO1xyXG4gICAgICAgIGxldCBlbmdpbmUgPSB0aGlzLl9lbmdpbmU7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVuZ2luZS5yZXNpemUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2NlbmUgPSBuZXcgQkFCWUxPTi5TY2VuZSh0aGlzLl9lbmdpbmUpO1xyXG4gICAgICAgIFZlcnlFbmdpbmUudmlld1NjZW5lID0gdGhpcy5fc2NlbmU7XHJcbiAgICAgICAgdGhpcy5fc2NlbmUuY2xlYXJDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLCAwLCAwLCAxKTtcclxuICAgICAgICBHaXptb3NDZW50ZXIuaW5pdCh0aGlzLl9zY2VuZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZXhwYW5kQ29udHJvbCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgY29udHJvbDogVG9vbGJhclRvcENvbnRyb2wgPSBuZXcgVG9vbGJhclRvcENvbnRyb2woKTtcclxuICAgICAgICBsZXQgZXhwYW5kVmlldzogVmlld3BvcnRFeHBhbmQgPSBuZXcgVmlld3BvcnRFeHBhbmQoKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgQXBwbGljYXRpb24ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQmFieWxvbkVuZ2luZSB7XHJcbiAgcHVibGljIHN0YXRpYyBDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHB1YmxpYyBzdGF0aWMgRW5naW5lOiBCQUJZTE9OLkVuZ2luZTtcclxuICBwdWJsaWMgc3RhdGljIFNjZW5lOiBCQUJZTE9OLlNjZW5lO1xyXG59IiwiZXhwb3J0ICogZnJvbSAnLi9iYWJ5bG9uLWVuZ2luZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdmVyeS1lbmdpbmUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2FwcGxpY2F0aW9uJzsiLCJpbXBvcnQgeyBWaWV3cG9ydCB9IGZyb20gXCIuLi9lZGl0b3JcIjtcclxuaW1wb3J0IHsgQ2FudmFzLCBQYW5lbCwgVHJlZSwgR3JpZCwgVG9wRWxlbWVudENvbnRhaW5lciwgVG9wRWxlbWVudFBhbmVsIH0gZnJvbSBcIi4uL3VpXCI7XHJcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIi4uL2VkaXRvci9taWRkbGV3YXJlL29mZmxpbmUvZGF0YWJhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWZXJ5RW5naW5lIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcm9vdDogVG9wRWxlbWVudENvbnRhaW5lcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgdG9vbGJhcjogVG9wRWxlbWVudENvbnRhaW5lcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgdmlld3BvcnRQYW5lbDogVG9wRWxlbWVudENvbnRhaW5lcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhdHVzQmFyOiBUb3BFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgcHVibGljIHN0YXRpYyBoaWVyYXJjaHk6IFRvcEVsZW1lbnRQYW5lbDtcclxuICAgIHB1YmxpYyBzdGF0aWMgYXNzZXRzOiBUb3BFbGVtZW50UGFuZWw7XHJcbiAgICBwdWJsaWMgc3RhdGljIGF0dHJpYnV0ZXM6IFRvcEVsZW1lbnRQYW5lbDtcclxuICAgIFxyXG5cclxuXHJcblxyXG4gICAgLy8gcHVibGljIHN0YXRpYyB2aWV3UGFuZWw6IFBhbmVsO1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyByb290UGFuZWw6IFBhbmVsO1xyXG4gICAgcHVibGljIHN0YXRpYyB0b29sYmFyUGFuZWw6IFBhbmVsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaGllcmFyY2h5UGFuZWw6IFBhbmVsO1xyXG4gICAgcHVibGljIHN0YXRpYyBoaWVyYXJjaHlUcmVlOiBUcmVlO1xyXG5cclxuICAgIC8vIHB1YmxpYyBzdGF0aWMgYXNzZXRQYW5lbDogUGFuZWw7XHJcbiAgICBwdWJsaWMgc3RhdGljIGF0dHJpYnV0ZXNQYW5lbDogUGFuZWw7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyB2aWV3cG9ydDogVmlld3BvcnQ7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyB2aWV3Q2FudmFzOiBDYW52YXM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHZpZXdDYW52YXNFbGVtZW50OiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHB1YmxpYyBzdGF0aWMgdmlld0VuZ2luZTogQkFCWUxPTi5FbmdpbmU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHZpZXdTY2VuZTogQkFCWUxPTi5TY2VuZTtcclxuXHJcbiAgICAvLyBhc3NldHNcclxuICAgIHB1YmxpYyBzdGF0aWMgYXNzZXRzR3JpZDogR3JpZDtcclxuXHJcblxyXG4gICAgLy8gVE9ET1xyXG4gICAgcHVibGljIHN0YXRpYyBkYXRhYmFzZTogRGF0YWJhc2U7XHJcblxyXG5cclxuICAgIC8vIHB1YmxpYyBzdGF0aWMgXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5cclxuLy8gZXhwb3J0IHZlcnljb25maWciLCJleHBvcnQgKiBmcm9tICcuL2xpYic7XHJcbmV4cG9ydCAqIGZyb20gJy4vZWRpdG9yJztcclxuZXhwb3J0ICogZnJvbSAnLi91aSc7XHJcblxyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9lbmdpbmUnO1xyXG4iLCJleHBvcnQgY2xhc3MgRXZlbnRzIHtcclxuXHJcbiAgLy8g55u46L6D5LqORWRpdG9y77yM5ZCM5LiA5Liq5Ye95pWw5ZCN5Y+v5YyF5ZCr5LiA57O75YiX5Ye95pWw77yM5LiN5LuF5LuF5piv5LiA5Liq77yM5LiU5pyJb25jZeWKn+iDve+8m1xyXG5cclxuICBwdWJsaWMgZ2V0IHN1c3BlbmRFdmVudHMoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3VzcGVuZEV2ZW50cztcclxuICB9XHJcbiAgcHVibGljIHNldCBzdXNwZW5kRXZlbnRzKHZhbDogYm9vbGVhbikge1xyXG4gICAgdGhpcy5fc3VzcGVuZEV2ZW50cyA9IHZhbDtcclxuICB9XHJcbiAgcHJpdmF0ZSBfc3VzcGVuZEV2ZW50czogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAvLyDmn5DkuKpuYW1l5a+55bqU55qE5LqL5Lu25pWw57uE77yMbmFtZeS4jkZ1bmN0aW9u5pivMeWvueWkmueahOWFs+ezu++8m1xyXG4gIHByaXZhdGUgX2V2ZW50czogeyBba2V5OiBzdHJpbmddOiBGdW5jdGlvbltdIH0gPSB7fTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOa3u+WKoOS6i+S7tuaVsOe7hO+8jOiLpW5hbWXnm7jlkIzvvIzliJnlnKjmlbDnu4TmnKvlsL7nu6fnu63mt7vliqDvvJtcclxuICAgKiBAcGFyYW0gbmFtZSDlh73mlbDlkI3vvJtcclxuICAgKiBAcGFyYW0gZm4g5Ye95pWw5pys5L2T77ybXHJcbiAgICovXHJcbiAgcHVibGljIG9uKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogRXZlbnRIYW5kbGUge1xyXG4gICAgbGV0IGV2ZW50czogRnVuY3Rpb25bXSA9IHRoaXMuX2V2ZW50c1tuYW1lXTtcclxuICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLl9ldmVudHNbbmFtZV0gPSBbZm5dO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGV2ZW50cy5pbmRleE9mKGZuKSA9PSAtMSkge1xyXG4gICAgICAgIGV2ZW50cy5wdXNoKGZuKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBFdmVudEhhbmRsZSh0aGlzLCBuYW1lLCBmbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBlbWl05ZCO5Y+q5omn6KGM5LiA5qyh77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGZuIOWHveaVsOacrOS9k++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBvbmNlKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogRXZlbnRIYW5kbGUge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgbGV0IGV2dDogRXZlbnRIYW5kbGUgPSB0aGlzLm9uKG5hbWUsIGZ1bmN0aW9uIChcclxuICAgICAgYXJnMDogYW55LFxyXG4gICAgICBhcmcxOiBhbnksXHJcbiAgICAgIGFyZzI6IGFueSxcclxuICAgICAgYXJnMzogYW55LFxyXG4gICAgICBhcmc0OiBhbnksXHJcbiAgICAgIGFyZzU6IGFueSxcclxuICAgICAgYXJnNjogYW55LFxyXG4gICAgICBhcmc3OiBhbnlcclxuICAgICkge1xyXG4gICAgICBmbi5jYWxsKHNlbGYsIGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUsIGFyZzYsIGFyZzcpO1xyXG4gICAgICBldnQudW5iaW5kKCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBldnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmiafooYzkuovku7bvvJtcclxuICAgKiBAcGFyYW0gbmFtZSDlh73mlbDlkI3vvJtcclxuICAgKiBAcGFyYW0gYXJnMCDlh73mlbDlj4LmlbAx77yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzEg5Ye95pWw5Y+C5pWwMu+8jOWPr+mAie+8m1xyXG4gICAqIEBwYXJhbSBhcmcyIOWHveaVsOWPguaVsDPvvIzlj6/pgInvvJtcclxuICAgKiBAcGFyYW0gYXJnMyDlh73mlbDlj4LmlbA077yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzQg5Ye95pWw5Y+C5pWwNe+8jOWPr+mAie+8m1xyXG4gICAqIEBwYXJhbSBhcmc1IOWHveaVsOWPguaVsDbvvIzlj6/pgInvvJtcclxuICAgKiBAcGFyYW0gYXJnNiDlh73mlbDlj4LmlbA377yM5Y+v6YCJ77ybXHJcbiAgICogQHBhcmFtIGFyZzcg5Ye95pWw5Y+C5pWwOO+8jOWPr+mAie+8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyBlbWl0KG5hbWU6IHN0cmluZyxcclxuICAgIGFyZzA/OiBhbnksXHJcbiAgICBhcmcxPzogYW55LFxyXG4gICAgYXJnMj86IGFueSxcclxuICAgIGFyZzM/OiBhbnksXHJcbiAgICBhcmc0PzogYW55LFxyXG4gICAgYXJnNT86IGFueSxcclxuICAgIGFyZzY/OiBhbnksXHJcbiAgICBhcmc3PzogYW55XHJcbiAgKTogRXZlbnRzIHtcclxuICAgIGlmICh0aGlzLl9zdXNwZW5kRXZlbnRzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgICBsZXQgZXZlbnRzOiBGdW5jdGlvbltdID0gdGhpcy5fZXZlbnRzW25hbWVdO1xyXG4gICAgaWYgKCFldmVudHMpIHJldHVybiB0aGlzO1xyXG5cclxuICAgIC8vIOi/lOWbnuaWsOaVsOe7hFxyXG4gICAgZXZlbnRzID0gZXZlbnRzLnNsaWNlKDApO1xyXG5cclxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFldmVudHNbaV0pIGNvbnRpbnVlO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGV2ZW50c1tpXS5jYWxsKHRoaXMsIGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUsIGFyZzYsIGFyZzcpO1xyXG4gICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbyhcIiVjJXMgJWMoZXZlbnQgZXJyb3IpXCIsIFwiY29sb3I6ICMwNmZcIiwgbmFtZSwgXCJjb2xvcjogI2YwMFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhleC5zdGFjayk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiDlj5bmtohFdmVudHPkuovku7bnu5HlrprvvIzoi6VuYW1l5Li656m677yM5YiZ5riF56m6ZXZlbnRz77ybXHJcbiAgICogQHBhcmFtIG5hbWUg5Ye95pWw5ZCN77ybXHJcbiAgICogQHBhcmFtIGZuIOWHveaVsOacrOS9k++8m1xyXG4gICAqL1xyXG4gIHB1YmxpYyB1bmJpbmQobmFtZT86IHN0cmluZywgZm4/OiBGdW5jdGlvbik6IEV2ZW50cyB7XHJcbiAgICBpZiAobmFtZSkge1xyXG4gICAgICBsZXQgZXZlbnRzOiBGdW5jdGlvbltdID0gdGhpcy5fZXZlbnRzW25hbWVdO1xyXG4gICAgICBpZiAoIWV2ZW50cykgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICBpZiAoZm4pIHtcclxuICAgICAgICBsZXQgaTogbnVtYmVyID0gZXZlbnRzLmluZGV4T2YoZm4pO1xyXG4gICAgICAgIGlmIChpICE9PSAtMSkge1xyXG4gICAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1tuYW1lXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbbmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlIHtcclxuXHJcbiAgcHVibGljIG5hbWU6IE51bGxhYmxlPHN0cmluZz47XHJcblxyXG4gIHB1YmxpYyBvd25lcjogTnVsbGFibGU8RXZlbnRzPjtcclxuXHJcbiAgcHVibGljIGZuOiBOdWxsYWJsZTxGdW5jdGlvbj47XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihvd25lcjogRXZlbnRzLCBuYW1lOiBzdHJpbmcsIGZuOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5vd25lciA9IG93bmVyO1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuZm4gPSBmbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1bmJpbmQoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMub3duZXIpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLm93bmVyLnVuYmluZCh0aGlzLm5hbWUhLCB0aGlzLmZuISk7XHJcblxyXG4gICAgdGhpcy5vd25lciA9IG51bGw7XHJcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xyXG4gICAgdGhpcy5mbiA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2FsbCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5mbikgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZm4uY2FsbChcclxuICAgICAgdGhpcy5vd25lciEsXHJcbiAgICAgIGFyZ3VtZW50c1swXSxcclxuICAgICAgYXJndW1lbnRzWzFdLFxyXG4gICAgICBhcmd1bWVudHNbMl0sXHJcbiAgICAgIGFyZ3VtZW50c1szXSxcclxuICAgICAgYXJndW1lbnRzWzRdLFxyXG4gICAgICBhcmd1bWVudHNbNV0sXHJcbiAgICAgIGFyZ3VtZW50c1s2XSxcclxuICAgICAgYXJndW1lbnRzWzddXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uKG5hbWU6IHN0cmluZywgZm46IEZ1bmN0aW9uKTogRXZlbnRIYW5kbGUge1xyXG4gICAgcmV0dXJuIHRoaXMub3duZXIhLm9uKG5hbWUsIGZuKTtcclxuICB9XHJcblxyXG59IiwiZXhwb3J0ICogZnJvbSAnLi9ldmVudHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL29ic2VydmVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9vYnNlcnZlci1saXN0JztcclxuZXhwb3J0ICogZnJvbSAnLi9vYnNlcnZlci1zeW5jJzsiLCJpbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuL2V2ZW50cyc7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSAnLi9vYnNlcnZlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgT2JzZXJ2ZXJMaXN0IGV4dGVuZHMgRXZlbnRzIHtcclxuXHJcbiAgICBwdWJsaWMgZGF0YTogT2JzZXJ2ZXJbXTtcclxuXHJcbiAgICBwdWJsaWMgaWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyBzb3J0ZWQ6IE51bGxhYmxlPEZ1bmN0aW9uPiA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9pbmRleGVkOiB7IFtrZXk6IHN0cmluZ106IE9ic2VydmVyIH07XHJcblxyXG4gICAgcHVibGljIHR5cGU6IHN0cmluZztcclxuXHJcblxyXG4gICAgcHVibGljIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBhbnkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gJyc7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gW107XHJcbiAgICAgICAgdGhpcy5faW5kZXhlZCA9IHt9O1xyXG4gICAgICAgIHRoaXMuc29ydGVkID0gb3B0aW9ucy5zb3J0ZWQgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLmlkID0gb3B0aW9ucy5pZCB8fCAnJztcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldChpbmRleDogbnVtYmVyIHwgc3RyaW5nKTogTnVsbGFibGU8T2JzZXJ2ZXI+IHtcclxuICAgICAgICBpZiAodGhpcy5pZCAmJiB0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmRleGVkW2luZGV4XSB8fCBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgaW5kZXggPT09ICdudW1iZXInID8gdGhpcy5kYXRhW2luZGV4XSB8fCBudWxsIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldChpbmRleDogbnVtYmVyIHwgc3RyaW5nLCB2YWw6IE9ic2VydmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXhlZFtpbmRleF0gPSB2YWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFbaW5kZXhdID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5kZXhvZihpdGVtOiBPYnNlcnZlcik6IG51bWJlciB7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuaWQpIHtcclxuICAgICAgICAvLyAgICAgbGV0IGluZGV4OiBzdHJpbmcgPSBpdGVtLmdldCh0aGlzLmlkKTtcclxuICAgICAgICAvLyAgICAgcmV0dXJuICh0aGlzLl9pbmRleGVkW2luZGV4XSAmJiBpbmRleCkgfHwgLTE7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmluZGV4T2YoaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvc2l0aW9uKGI6IGFueSwgZm46IEZ1bmN0aW9uKTogbnVtYmVyIHtcclxuICAgICAgICB2YXIgbCA9IHRoaXMuZGF0YTtcclxuICAgICAgICB2YXIgbWluID0gMDtcclxuICAgICAgICB2YXIgbWF4ID0gbC5sZW5ndGggLSAxO1xyXG4gICAgICAgIHZhciBjdXI7XHJcbiAgICAgICAgdmFyIGEsIGk7XHJcbiAgICAgICAgZm4gPSBmbiB8fCB0aGlzLnNvcnRlZDtcclxuXHJcbiAgICAgICAgd2hpbGUgKG1pbiA8PSBtYXgpIHtcclxuICAgICAgICAgICAgY3VyID0gTWF0aC5mbG9vcigobWluICsgbWF4KSAvIDIpO1xyXG4gICAgICAgICAgICBhID0gbFtjdXJdO1xyXG5cclxuICAgICAgICAgICAgaSA9IGZuKGEsIGIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IGN1ciAtIDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IGN1ciArIDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIDLliIbms5XmsYLmnIDov5Hot53nprvvvIzlr7nmlofku7bmmL7npLrov5vooYzmjpLluo9cclxuICAgIHB1YmxpYyBwb3NpdGlvbk5leHRDbG9zZXN0KGI6IGFueSwgZm46IGFueSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGwgPSB0aGlzLmRhdGE7XHJcbiAgICAgICAgbGV0IG1pbiA9IDA7XHJcbiAgICAgICAgbGV0IG1heCA9IGwubGVuZ3RoIC0gMTtcclxuICAgICAgICBsZXQgY3VyOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBhLCBpO1xyXG4gICAgICAgIGZuID0gZm4gfHwgdGhpcy5zb3J0ZWQ7XHJcblxyXG4gICAgICAgIGlmIChsLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xO1xyXG5cclxuICAgICAgICAvLyDlkI3lrZfkuI7nrKzkuIDkuKrlhYPntKDnm7jlkIznmoTmg4XlhrVcclxuICAgICAgICBpZiAoZm4obFswXSwgYikgPT09IDApIHJldHVybiAwO1xyXG5cclxuICAgICAgICB3aGlsZSAobWluIDw9IG1heCkge1xyXG4gICAgICAgICAgICBjdXIgPSBNYXRoLmZsb29yKChtaW4gKyBtYXgpIC8gMik7XHJcbiAgICAgICAgICAgIGEgPSBsW2N1cl07XHJcblxyXG4gICAgICAgICAgICBpID0gZm4oYSwgYik7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbWF4ID0gY3VyIC0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gY3VyICsgMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmbihhLCBiKSA9PT0gMSkgcmV0dXJuIGN1cjtcclxuXHJcbiAgICAgICAgaWYgKGN1ciEgKyAxID09PSBsLmxlbmd0aCkgcmV0dXJuIC0xO1xyXG5cclxuICAgICAgICByZXR1cm4gY3VyISArIDE7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgaGFzKGl0ZW06IE9ic2VydmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaXRlbS5nZXQodGhpcy5pZCk7XHJcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX2luZGV4ZWRbaW5kZXhdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuaW5kZXhPZihpdGVtKSAhPT0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgYWRkKGl0ZW06IE9ic2VydmVyKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5oYXMoaXRlbSkpIHJldHVybiAtMTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGluZGV4ID0gdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgICAgICBpZiAodGhpcy5pZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpdGVtLmdldCh0aGlzLmlkKTtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXhlZFtpbmRleF0gPSBpdGVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ZWRbdGhpcy5kYXRhLmxlbmd0aF0gPSBpdGVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBvcyA9IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNvcnRlZCkge1xyXG4gICAgICAgICAgICBwb3MgPSB0aGlzLnBvc2l0aW9uTmV4dENsb3Nlc3QoaXRlbSwgdGhpcy5zb3J0ZWQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCduYW1lOiAnICsgaXRlbS5nZXQoJ25hbWUnKSArICcgLCwsIHBvczogJyArIHBvcy50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKHBvcyAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcGxpY2UocG9zLCAwLCBpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIHBvcyA9IHRoaXMuZGF0YS5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5Zue6LCD5Ye95pWwXHJcbiAgICAgICAgdGhpcy5lbWl0KCdhZGQnLCBpdGVtKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBvcztcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG1vdmUoaXRlbTogT2JzZXJ2ZXIsIHBvczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGluZCA9IHRoaXMuZGF0YS5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgIHRoaXMuZGF0YS5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICBpZiAocG9zID09PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEucHVzaChpdGVtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuc3BsaWNlKHBvcywgMCwgaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgcHVibGljIHJlbW92ZShpdGVtOiBPYnNlcnZlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXMoaXRlbSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGluZCA9IHRoaXMuZGF0YS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pZCkge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBpdGVtLmdldCh0aGlzLmlkKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luZGV4ZWRbaW5kZXhdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kYXRhLnNwbGljZShpbmQsIDEpO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZScsIGl0ZW0sIGluZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyByZW1vdmVCeUtleShpbmRleDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWQpIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl9pbmRleGVkW2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IGluZCA9IHRoaXMuZGF0YS5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuc3BsaWNlKGluZCwgMSk7XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faW5kZXhlZFtpbmRleF07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZScsIGl0ZW0sIGluZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5sZW5ndGggPCBpbmRleCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmRhdGFbaW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZScsIGl0ZW0sIGluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyByZW1vdmVCeShmbjogRnVuY3Rpb24pIHtcclxuICAgICAgICBsZXQgaSA9IHRoaXMuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBpZiAoIWZuKHRoaXMuZGF0YVtpXSkpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaWQpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pbmRleGVkW3RoaXMuZGF0YVtpXS5nZXQodGhpcy5pZCldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcGxpY2UoaSwgMSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZScsIHRoaXMuZGF0YVtpXSwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5kYXRhLnNsaWNlKDApO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEgPSBbXTtcclxuICAgICAgICB0aGlzLl9pbmRleGVkID0ge307XHJcblxyXG4gICAgICAgIGxldCBpID0gaXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmUnLCBpdGVtc1tpXSwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgZm9yRWFjaChmbjogRnVuY3Rpb24pIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmbih0aGlzLmRhdGFbaV0sICh0aGlzLmlkICYmIHRoaXMuZGF0YVtpXS5nZXQodGhpcy5pZCkpIHx8IGkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGZpbmQoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCFmbih0aGlzLmRhdGFbaV0pKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlkKSBpbmRleCA9IHRoaXMuZGF0YVtpXS5nZXQodGhpcy5pZCk7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5wdXNoKFtpbmRleCwgdGhpcy5kYXRhW2ldXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpdGVtcztcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGZpbmRPbmUoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCFmbih0aGlzLmRhdGFbaV0pKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlkKSBpbmRleCA9IHRoaXMuZGF0YVtpXS5nZXQodGhpcy5pZCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gW2luZGV4LCB0aGlzLmRhdGFbaV1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG1hcChmbjogYW55KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5tYXAoZm4pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc29ydChmbjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLnNvcnQoZm4pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgYXJyYXkoKTogT2JzZXJ2ZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zbGljZSgwKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gcHVibGljIGpzb24oKSB7XHJcbiAgICAvLyAgICAgbGV0IGl0ZW1zID0gdGhpcy5hcnJheSgpO1xyXG4gICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgICAgICAgaWYgKGl0ZW1zW2ldIGluc3RhbmNlb2YgT2JzZXJ2ZXIpIHtcclxuICAgIC8vICAgICAgICAgICAgIGl0ZW1zW2ldID0gaXRlbXNbaV0uanNvbigpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHJldHVybiBpdGVtcztcclxuICAgIC8vIH07XHJcblxyXG59IiwiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi9ldmVudHMnO1xyXG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4vb2JzZXJ2ZXInO1xyXG5pbXBvcnQgeyBPYnNlcnZlckxpc3QgfSBmcm9tICcuL29ic2VydmVyLWxpc3QnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmVyU3luYyBleHRlbmRzIEV2ZW50cyB7XHJcblxyXG5cclxuICAgIHB1YmxpYyBpdGVtOiBPYnNlcnZlcjtcclxuXHJcbiAgICBwcml2YXRlIF9lbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHB1YmxpYyBnZXQgZW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9wcmVmaXg6IE51bGxhYmxlPHN0cmluZ1tdPjtcclxuICAgIHB1YmxpYyBnZXQgcHJlZml4KCk6IE51bGxhYmxlPHN0cmluZ1tdPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWZpeDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgcHJlZml4KHZhbHVlOiBOdWxsYWJsZTxzdHJpbmdbXT4pIHtcclxuICAgICAgICB0aGlzLl9wcmVmaXggPSB2YWx1ZSB8fCBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9wYXRoczogTnVsbGFibGU8c3RyaW5nW10+O1xyXG4gICAgcHVibGljIGdldCBwYXRocygpOiBOdWxsYWJsZTxzdHJpbmdbXT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRocztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgcGF0aHModmFsdWU6IE51bGxhYmxlPHN0cmluZ1tdPikge1xyXG4gICAgICAgIHRoaXMuX3BhdGhzID0gdmFsdWUgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzOiBhbnkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICBhcmdzID0gYXJncyB8fCB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5pdGVtID0gYXJncy5pdGVtO1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBhcmdzLmVuYWJsZWQgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLl9wcmVmaXggPSBhcmdzLnByZWZpeCB8fCBbXTtcclxuICAgICAgICB0aGlzLl9wYXRocyA9IGFyZ3MucGF0aHMgfHwgbnVsbDtcclxuICAgICAgICAvLyB0aGlzLl9zeW5jID0gYXJncy5zeW5jIHx8IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9pbml0aWFsaXplKCk6IHZvaWQge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbTtcclxuXHJcbiAgICAgICAgLy8gLy8gb2JqZWN0L2FycmF5IHNldFxyXG4gICAgICAgIC8vIGl0ZW0ub24oJyo6c2V0JywgZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgdmFsdWU6IGFueSwgdmFsdWVPbGQ6IGFueSkge1xyXG4gICAgICAgIC8vICAgICBpZiAoIXNlbGYuX2VuYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIGlmIHRoaXMgaGFwcGVucyBpdCdzIGEgYnVnXHJcbiAgICAgICAgLy8gICAgIGlmIChpdGVtLnN5bmMgIT09IHNlbGYpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dhcmJhZ2UgT2JzZXJ2ZXIgU3luYyBzdGlsbCBwb2ludGluZyB0byBpdGVtJywgaXRlbSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIC8vIGNoZWNrIGlmIHBhdGggaXMgYWxsb3dlZFxyXG4gICAgICAgIC8vICAgICBpZiAoc2VsZi5fcGF0aHMpIHtcclxuICAgICAgICAvLyAgICAgICAgIHZhciBhbGxvd2VkUGF0aCA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLl9wYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChwYXRoLmluZGV4T2Yoc2VsZi5fcGF0aHNbaV0pICE9PSAtMSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBhbGxvd2VkUGF0aCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICAvLyBwYXRoIGlzIG5vdCBhbGxvd2VkXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoIWFsbG93ZWRQYXRoKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgLy8gZnVsbCBwYXRoXHJcbiAgICAgICAgLy8gICAgIHZhciBwID0gc2VsZi5fcHJlZml4IS5jb25jYXQocGF0aC5zcGxpdCgnLicpKTtcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIG5lZWQganNvbmlmeVxyXG4gICAgICAgIC8vICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZlciB8fCB2YWx1ZSBpbnN0YW5jZW9mIE9ic2VydmVyTGlzdClcclxuICAgICAgICAvLyAgICAgICAgIHZhbHVlID0gdmFsdWUuanNvbigpO1xyXG5cclxuICAgICAgICAvLyAgICAgLy8gY2FuIGJlIGFycmF5IHZhbHVlXHJcbiAgICAgICAgLy8gICAgIHZhciBpbmQgPSBwYXRoLmxhc3RJbmRleE9mKCcuJyk7XHJcbiAgICAgICAgLy8gICAgIGlmIChpbmQgIT09IC0xICYmIChzZWxmLmdldChwYXRoLnNsaWNlKDAsIGluZCkpIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAvLyBhcnJheSBpbmRleCBzaG91bGQgYmUgaW50XHJcbiAgICAgICAgLy8gICAgICAgICBwW3AubGVuZ3RoIC0gMV0gPSBwYXJzZUludChwW3AubGVuZ3RoIC0gMV0sIDEwKTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAvLyBlbWl0IG9wZXJhdGlvbjogbGlzdCBpdGVtIHNldFxyXG4gICAgICAgIC8vICAgICAgICAgc2VsZi5lbWl0KCdvcCcsIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBwOiBwLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxpOiB2YWx1ZSxcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZDogdmFsdWVPbGRcclxuICAgICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgLy8gZW1pdCBvcGVyYXRpb246IG9iamVjdCBpdGVtIHNldFxyXG4gICAgICAgIC8vICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBwOiBwLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIG9pOiB2YWx1ZVxyXG4gICAgICAgIC8vICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodmFsdWVPbGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIG9iai5vZCA9IHZhbHVlT2xkO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAgICAgIHNlbGYuZW1pdCgnb3AnLCBvYmopO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIC8vIHVuc2V0XHJcbiAgICAgICAgLy8gaXRlbS5vbignKjp1bnNldCcsIGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcclxuICAgICAgICAvLyAgICAgaWYgKCFzZWxmLl9lbmFibGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vICAgICBzZWxmLmVtaXQoJ29wJywge1xyXG4gICAgICAgIC8vICAgICAgICAgcDogc2VsZi5fcHJlZml4IS5jb25jYXQocGF0aC5zcGxpdCgnLicpKSxcclxuICAgICAgICAvLyAgICAgICAgIG9kOiBudWxsXHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyAvLyBsaXN0IG1vdmVcclxuICAgICAgICAvLyBpdGVtLm9uKCcqOm1vdmUnLCBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCB2YWx1ZTogYW55LCBpbmQ6IHN0cmluZywgaW5kT2xkOiBzdHJpbmcpIHtcclxuICAgICAgICAvLyAgICAgaWYgKCFzZWxmLl9lbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgLy8gICAgIHNlbGYuZW1pdCgnb3AnLCB7XHJcbiAgICAgICAgLy8gICAgICAgICBwOiBzZWxmLl9wcmVmaXghLmNvbmNhdChwYXRoLnNwbGl0KCcuJykpLmNvbmNhdChbaW5kT2xkXSksXHJcbiAgICAgICAgLy8gICAgICAgICBsbTogaW5kXHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyAvLyBsaXN0IHJlbW92ZVxyXG4gICAgICAgIC8vIGl0ZW0ub24oJyo6cmVtb3ZlJywgZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgdmFsdWU6IGFueSwgaW5kOiBzdHJpbmcpIHtcclxuICAgICAgICAvLyAgICAgaWYgKCFzZWxmLl9lbmFibGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vICAgICAvLyBuZWVkIGpzb25pZnlcclxuICAgICAgICAvLyAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JzZXJ2ZXIgfHwgdmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZlckxpc3QpXHJcbiAgICAgICAgLy8gICAgICAgICB2YWx1ZSA9IHZhbHVlLmpzb24oKTtcclxuXHJcbiAgICAgICAgLy8gICAgIHNlbGYuZW1pdCgnb3AnLCB7XHJcbiAgICAgICAgLy8gICAgICAgICBwOiBzZWxmLl9wcmVmaXghLmNvbmNhdChwYXRoLnNwbGl0KCcuJykpLmNvbmNhdChbaW5kXSksXHJcbiAgICAgICAgLy8gICAgICAgICBsZDogdmFsdWVcclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIC8vIGxpc3QgaW5zZXJ0XHJcbiAgICAgICAgLy8gaXRlbS5vbignKjppbnNlcnQnLCBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCB2YWx1ZTogYW55LCBpbmQ6IHN0cmluZykge1xyXG4gICAgICAgIC8vICAgICBpZiAoIXNlbGYuX2VuYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIG5lZWQganNvbmlmeVxyXG4gICAgICAgIC8vICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZlciB8fCB2YWx1ZSBpbnN0YW5jZW9mIE9ic2VydmVyTGlzdClcclxuICAgICAgICAvLyAgICAgICAgIHZhbHVlID0gdmFsdWUuanNvbigpO1xyXG5cclxuICAgICAgICAvLyAgICAgc2VsZi5lbWl0KCdvcCcsIHtcclxuICAgICAgICAvLyAgICAgICAgIHA6IHNlbGYuX3ByZWZpeCEuY29uY2F0KHBhdGguc3BsaXQoJy4nKSkuY29uY2F0KFtpbmRdKSxcclxuICAgICAgICAvLyAgICAgICAgIGxpOiB2YWx1ZVxyXG4gICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHB1YmxpYyB3cml0ZShvcDogYW55KTogdm9pZCB7XHJcbiAgICAvLyAgICAgLy8gZGlzYWJsZSBoaXN0b3J5IGlmIGF2YWlsYWJsZVxyXG4gICAgLy8gICAgIHZhciBoaXN0b3J5UmVFbmFibGUgPSBmYWxzZTtcclxuICAgIC8vICAgICBpZiAodGhpcy5pdGVtLmhpc3RvcnkgJiYgdGhpcy5pdGVtLmhpc3RvcnkuZW5hYmxlZCkge1xyXG4gICAgLy8gICAgICAgICBoaXN0b3J5UmVFbmFibGUgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICB0aGlzLml0ZW0uaGlzdG9yeS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBpZiAob3AuaGFzT3duUHJvcGVydHkoJ29pJykpIHtcclxuICAgIC8vICAgICAgICAgLy8gc2V0IGtleSB2YWx1ZVxyXG4gICAgLy8gICAgICAgICB2YXIgcGF0aCA9IG9wLnAuc2xpY2UodGhpcy5fcHJlZml4IS5sZW5ndGgpLmpvaW4oJy4nKTtcclxuXHJcbiAgICAvLyAgICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgdGhpcy5pdGVtLnNldChwYXRoLCBvcC5vaSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAvLyAgICAgfSBlbHNlIGlmIChvcC5oYXNPd25Qcm9wZXJ0eSgnbGQnKSAmJiBvcC5oYXNPd25Qcm9wZXJ0eSgnbGknKSkge1xyXG4gICAgLy8gICAgICAgICAvLyBzZXQgYXJyYXkgdmFsdWVcclxuICAgIC8vICAgICAgICAgdmFyIHBhdGggPSBvcC5wLnNsaWNlKHRoaXMuX3ByZWZpeCEubGVuZ3RoKS5qb2luKCcuJyk7XHJcblxyXG4gICAgLy8gICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuaXRlbS5zZXQocGF0aCwgb3AubGkpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgLy8gICAgIH0gZWxzZSBpZiAob3AuaGFzT3duUHJvcGVydHkoJ2xkJykpIHtcclxuICAgIC8vICAgICAgICAgLy8gZGVsZXRlIGl0ZW1cclxuICAgIC8vICAgICAgICAgdmFyIHBhdGggPSBvcC5wLnNsaWNlKHRoaXMuX3ByZWZpeCEubGVuZ3RoLCAtMSkuam9pbignLicpO1xyXG5cclxuICAgIC8vICAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgLy8gICAgICAgICB0aGlzLml0ZW0ucmVtb3ZlKHBhdGgsIG9wLnBbb3AucC5sZW5ndGggLSAxXSwgZmFsc2UsIHRydWUpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgLy8gICAgIH0gZWxzZSBpZiAob3AuaGFzT3duUHJvcGVydHkoJ2xpJykpIHtcclxuICAgIC8vICAgICAgICAgLy8gYWRkIGl0ZW1cclxuICAgIC8vICAgICAgICAgdmFyIHBhdGggPSBvcC5wLnNsaWNlKHRoaXMuX3ByZWZpeCEubGVuZ3RoLCAtMSkuam9pbignLicpO1xyXG4gICAgLy8gICAgICAgICB2YXIgaW5kID0gb3AucFtvcC5wLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIC8vICAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgLy8gICAgICAgICB0aGlzLml0ZW0uaW5zZXJ0KHBhdGgsIG9wLmxpLCBpbmQsIGZhbHNlLCB0cnVlKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XHJcblxyXG5cclxuICAgIC8vICAgICB9IGVsc2UgaWYgKG9wLmhhc093blByb3BlcnR5KCdsbScpKSB7XHJcbiAgICAvLyAgICAgICAgIC8vIGl0ZW0gbW92ZWRcclxuICAgIC8vICAgICAgICAgdmFyIHBhdGggPSBvcC5wLnNsaWNlKHRoaXMuX3ByZWZpeCEubGVuZ3RoLCAtMSkuam9pbignLicpO1xyXG4gICAgLy8gICAgICAgICB2YXIgaW5kT2xkID0gb3AucFtvcC5wLmxlbmd0aCAtIDFdO1xyXG4gICAgLy8gICAgICAgICB2YXIgaW5kID0gb3AubG07XHJcblxyXG4gICAgLy8gICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuaXRlbS5tb3ZlKHBhdGgsIGluZE9sZCwgaW5kLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAvLyAgICAgfSBlbHNlIGlmIChvcC5oYXNPd25Qcm9wZXJ0eSgnb2QnKSkge1xyXG4gICAgLy8gICAgICAgICAvLyB1bnNldCBrZXkgdmFsdWVcclxuICAgIC8vICAgICAgICAgdmFyIHBhdGggPSBvcC5wLnNsaWNlKHRoaXMuX3ByZWZpeCEubGVuZ3RoKS5qb2luKCcuJyk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgdGhpcy5pdGVtLnVuc2V0KHBhdGgsIGZhbHNlLCB0cnVlKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XHJcblxyXG5cclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZygndW5rbm93biBvcGVyYXRpb24nLCBvcCk7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvLyByZWVuYWJsZSBoaXN0b3J5XHJcbiAgICAvLyAgICAgaWYgKGhpc3RvcnlSZUVuYWJsZSlcclxuICAgIC8vICAgICAgICAgdGhpcy5pdGVtLmhpc3RvcnkuZW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgLy8gICAgIHRoaXMuZW1pdCgnc3luYycsIG9wKTtcclxuICAgIC8vIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vZXZlbnRzJztcclxuaW1wb3J0IHsgR2FtZU9iamVjdCB9IGZyb20gJy4uL2VkaXRvcic7XHJcbmltcG9ydCB7IE9ic2VydmVyU3luYyB9IGZyb20gJy4vb2JzZXJ2ZXItc3luYyc7XHJcblxyXG4vLyAgVE9ET++8miDlvZPliY3mmoLkuI3ogIPomZHotYvlgLzkvJrotoXlh7rnjrDmnInnsbvlnovnmoTmg4XlhrXvvIzmr5TlpoLljp/mnaXmmK/kuKpudW1iZXLvvIzotYvlgLzkuLrkuoZhcnJhee+8m1xyXG5leHBvcnQgY2xhc3MgT2JzZXJ2ZXIgZXh0ZW5kcyBFdmVudHMge1xyXG5cclxuICAgIHB1YmxpYyBnZXQgY2xhc3NOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdPYnNlcnZlcic7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9yaWdpbjogYW55O1xyXG5cclxuICAgIHB1YmxpYyBlbnRpdHk6IE51bGxhYmxlPEdhbWVPYmplY3Q+ID0gbnVsbDtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBTRVBBUkFUT1I6IHN0cmluZyA9ICcuJztcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfZGVzdHJveWVkOiBib29sZWFuO1xyXG4gICAgcHVibGljIF9wYXRoOiBzdHJpbmc7XHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgX2tleXM6IHN0cmluZ1tdOyAvLyDorrDlvZXlr7nosaHnmoRrZXnjgIF2YWx1ZeWAvO+8m1xyXG5cclxuXHJcbiAgICBwdWJsaWMgX2RhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH07IC8vIOmHh+eUqOatpOWvueixoe+8jOWujOaVtOiusOW9leaJgOacieWAvO+8m1xyXG4gICAgcHVibGljIF9kYXRhMjogeyBba2V5OiBzdHJpbmddOiBhbnkgfTsgLy8g6YeH55So5q2k5a+56LGh77yM5a6M5pW06K6w5b2V5omA5pyJ5YC877ybXHJcbiAgICBwdWJsaWMgX2RhdGFUeXBlOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9OyAvLyDmmoLml7blj6rliKTmlq3mmK/lkKbkuLphcnJheeWIhuaLhuiAjOaIkOeahOexu+Wei++8m1xyXG4gICAgcHVibGljIF9kYXRhVHlwZTI6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307IC8vIOaaguaXtuWPquWIpOaWreaYr+WQpuS4umFycmF55YiG5ouG6ICM5oiQ55qE57G75Z6L77ybXHJcblxyXG5cclxuXHJcblxyXG4gICAgcHVibGljIF9wYXJlbnQ6IGFueTsgLy8g5b2T5YmN54i254mp5L2TXHJcbiAgICAvLyBwdWJsaWMgX3BhcmVudFBhdGg6IHN0cmluZztcclxuICAgIHByaXZhdGUgX3BhcmVudEZpZWxkOiBhbnk7XHJcbiAgICBwcml2YXRlIF9wYXJlbnRLZXk6IGFueTtcclxuXHJcbiAgICBwcml2YXRlIF9zaWxlbnQ6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGhpc3RvcnkhOiBIaXN0b3J5O1xyXG4gICAgcHVibGljIHN5bmM6IE51bGxhYmxlPE9ic2VydmVyU3luYz4gPSBudWxsO1xyXG4gICAgLy8gcHJpdmF0ZSBzeW5jITogSGlzdG9yeTtcclxuXHJcbiAgICBwdWJsaWMgbm9kZTogYW55ID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgcmVwYXJlbnRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX3BhdGhzV2l0aER1cGxpY2F0ZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XHJcblxyXG4gICAgLy8gZW50aXR5LCBhc3NldHMsIGNvbXBvbmVudHM6IHNjcmlwdCwg5LiA6IisY29tcG9uZW50cywgc2VsZWN0b3IsIGhpc3RvcnlcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkYXRhOiBhbnksIG9wdGlvbnM/OiBhbnkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLm9yaWdpbiA9IGRhdGE7XHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9wYXRoID0gJyc7XHJcbiAgICAgICAgdGhpcy5fa2V5cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5fZGF0YTIgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gYXJyYXkgcGF0aHMgd2hlcmUgZHVwbGljYXRlIGVudHJpZXMgYXJlIGFsbG93ZWQgLSBub3JtYWxseVxyXG4gICAgICAgIC8vIHdlIGNoZWNrIGlmIGFuIGFycmF5IGFscmVhZHkgaGFzIGEgdmFsdWUgYmVmb3JlIGluc2VydGluZyBpdFxyXG4gICAgICAgIC8vIGJ1dCBpZiB0aGUgYXJyYXkgcGF0aCBpcyBpbiBoZXJlIHdlJ2xsIGFsbG93IGl0XHJcbiAgICAgICAgaWYgKG9wdGlvbnMucGF0aHNXaXRoRHVwbGljYXRlcykge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXRoc1dpdGhEdXBsaWNhdGVzID0ge307XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5wYXRoc1dpdGhEdXBsaWNhdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXRoc1dpdGhEdXBsaWNhdGVzW29wdGlvbnMucGF0aHNXaXRoRHVwbGljYXRlc1tpXV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhdGNoRGF0YShkYXRhKTtcclxuXHJcbiAgICAgICAgLy8gZm9yIChsZXQga2UgaW4gdGhpcy5fZGF0YSkge1xyXG4gICAgICAgIC8vICAgZGVidWcubG9nKCdrZXk6ICcgKyBrZSk7XHJcbiAgICAgICAgLy8gICBkZWJ1Zy5sb2codGhpcy5fZGF0YVtrZV0pO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gdGhpcy5fcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQgfHwgbnVsbDtcclxuICAgICAgICAvLyB0aGlzLl9wYXJlbnRQYXRoID0gb3B0aW9ucy5wYXJlbnRQYXRoIHx8ICcnO1xyXG4gICAgICAgIC8vIHRoaXMuX3BhcmVudEZpZWxkID0gb3B0aW9ucy5wYXJlbnRGaWVsZCB8fCBudWxsO1xyXG4gICAgICAgIC8vIHRoaXMuX3BhcmVudEtleSA9IG9wdGlvbnMucGFyZW50S2V5IHx8IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuX3NpbGVudCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXRjaERhdGEoZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBkZWJ1Zy53YXJuKHRoaXMuY2xhc3NOYW1lICsgJzog5LiN5piv5q2j56Gu55qEanNvbuWvueixoe+8jOaJk+WNsO+8mlxcbicgKyBkYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2tleV0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlr7nosaHlsZ7mgKdcclxuICAgICAgICAgICAgICAgIC8vIGRlYnVnLmxvZygn5a+56LGh5bGe5oCn77yaJyArIGtleSk7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWJ1Zy5sb2coZGF0YVtrZXldKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuX3ByZXBhcmUodGhpcywga2V5LCBkYXRhW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZXJPYmplY3Qoa2V5LCBrZXksIGRhdGFba2V5XSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDkuIDoiKzlsZ7mgKdcclxuICAgICAgICAgICAgICAgIC8vIGRlYnVnLmxvZygn5LiA6Iis5bGe5oCn77yaJyArIGtleSk7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWJ1Zy5sb2coZGF0YVtrZXldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgZGF0YVtrZXldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFUeXBlW2tleV0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFUeXBlMltrZXldID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNldChrZXksIGRhdGFba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzog6Iul6K6+572u5YC85Li6b2JqZWN077yM6ZyA6KaB5YaNcGFyc2VcclxuICAgIHB1YmxpYyBzZXQocGF0aDogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKHBhdGggKyAnIDogJyArIHZhbHVlKTtcclxuICAgICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9kYXRhW3BhdGhdO1xyXG4gICAgICAgIC8vIGNvbnNvbGUud2FybihwYXRoKTtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4odmFsdWUpO1xyXG4gICAgICAgIGxldCBrZXlzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gICAgICAgIGxldCBwYXJlbnRJRCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudElEID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudElEICs9IHRoaXMuU0VQQVJBVE9SICsga2V5c1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmlbDnu4TlpITnkIbvvIzlhbbku5blvaLlvI/mmoLkuI3ogIPomZFcclxuICAgICAgICBpZiAoa2V5cy5sZW5ndGggPiAxICYmIHRoaXMuX2RhdGFUeXBlW3BhdGhdKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHBhcnNlSW50KGtleXNba2V5cy5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGFbcGF0aF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgLy8g5LiK5LiA57qn5pWw57uE5L+u5pS5XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGFbcGFyZW50SURdW2luZGV4XSA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIC8vICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGFbcGF0aF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDaGlsZERhdGEocGF0aCwgdmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhMltwYXRoXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLndhcm4odGhpcy5fZGF0YSk7XHJcblxyXG4gICAgICAgIC8vIGlmIChwYXJlbnRJRCAmJiB0aGlzLl9kYXRhVHlwZTJbcGFyZW50SURdICYmIHRoaXMuaXNOdW1iZXIoa2V5c1trZXlzLmxlbmd0aCAtIDFdKSkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9kYXRhMltwYXJlbnRJRF1bcGFyc2VJbnQoa2V5c1trZXlzLmxlbmd0aCAtIDFdKV0gPSB2YWx1ZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChwYXRoICsgJzpzZXQnLCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnKjpzZXQnLCBwYXRoLCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNOdW1iZXIoc3RyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgbiA9IE51bWJlcihzdHIpO1xyXG4gICAgICAgIHJldHVybiAhaXNOYU4obikgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDaGlsZERhdGEocGF0aDogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChwYXRoICsgdGhpcy5TRVBBUkFUT1IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZGF0YVR5cGVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbmV3UGF0aCA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdQYXRoID0gcGF0aCArIHRoaXMuU0VQQVJBVE9SICsgaS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YVtuZXdQYXRoXSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YVR5cGVbbmV3UGF0aF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE9cclxuICAgIHB1YmxpYyB1bnNldChwYXRoOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXRoICsgJyA6ICcgKyB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhwYXRoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBvbGRWYWx1ZSA9IHRoaXMuX2RhdGFbcGF0aF07XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFbcGF0aF07XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFUeXBlW3BhdGhdO1xyXG5cclxuICAgICAgICBkZWxldGUgdGhpcy5fZGF0YTJbcGF0aF07XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFUeXBlMltwYXRoXTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KHBhdGggKyAnOnNldCcsIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCcqOnNldCcsIHBhdGgsIHZhbHVlLCBvbGRWYWx1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWcqOaVsOe7hOeahOafkOS4quaMh+WumuS9jee9ruWinuWKoOWAvFxyXG4gICAgcHVibGljIGluc2VydChwYXRoOiBzdHJpbmcsIHZhbHVlOiBhbnksIGluZDogbnVtYmVyIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5lcnJvcihwYXRoICsgJzppbnNlcnQtdmFsdWU6ICcgKyB2YWx1ZSk7XHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKHRoaXMuX2RhdGEpO1xyXG4gICAgICAgIGlmICghdGhpcy5oYXMocGF0aCkgfHwgISh0aGlzLl9kYXRhW3BhdGhdIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuX2RhdGFbcGF0aF07XHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgKCF0aGlzLl9wYXRoc1dpdGhEdXBsaWNhdGVzIHx8ICF0aGlzLl9wYXRoc1dpdGhEdXBsaWNhdGVzW3BhdGhdKSB7XHJcbiAgICAgICAgLy8gICAgIGlmIChhcnIuaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKGluZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgaW5kID0gYXJyLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXJyLnNwbGljZShpbmQsIDAsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZERhdGEocGF0aCwgYXJyKTtcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gbGV0IGFycjIgPSB0aGlzLl9kYXRhMltwYXRoXTtcclxuICAgICAgICAvLyBjb25zb2xlLmVycm9yKGFycjIpO1xyXG4gICAgICAgIC8vIGlmIChhcnIyKSB7XHJcbiAgICAgICAgLy8gICAgIC8vIGlmICghdGhpcy5fcGF0aHNXaXRoRHVwbGljYXRlcyB8fCAhdGhpcy5fcGF0aHNXaXRoRHVwbGljYXRlc1twYXRoXSkge1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgaWYgKGFycjIuaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgLy8gICAgIC8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICAvLyB9XHJcbiAgICAgICAgLy8gICAgIGlmIChpbmQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgYXJyMi5wdXNoKHZhbHVlKTtcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIGFycjIuc3BsaWNlKGluZCwgMCwgdmFsdWUpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoYXJyMik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKHRoaXMuX2RhdGEpO1xyXG4gICAgICAgIHRoaXMuZW1pdChwYXRoICsgJzppbnNlcnQnLCB2YWx1ZSwgaW5kKTtcclxuICAgICAgICB0aGlzLmVtaXQoJyo6aW5zZXJ0JywgcGF0aCwgdmFsdWUsIGluZCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWIoOmZpOaVsOe7hOaMh+WumuafkOS4quW6j+WPt+eahOWAvFxyXG4gICAgcHVibGljIHJlbW92ZShwYXRoOiBzdHJpbmcsIGluZDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhwYXRoKSB8fCAhKHRoaXMuX2RhdGFbcGF0aF0gaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fZGF0YVtwYXRoXTtcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA8IGluZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IGFycltpbmRdO1xyXG4gICAgICAgIGFyci5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkRGF0YShwYXRoLCBhcnIpO1xyXG5cclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gbGV0IGFycjIgPSB0aGlzLl9kYXRhMltwYXRoXTtcclxuICAgICAgICAvLyBpZiAoYXJyMiAmJiBhcnIyLmxlbmd0aCA+PSBpbmQpIHtcclxuICAgICAgICAvLyAgICAgYXJyMi5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChwYXRoICsgJzpyZW1vdmUnLCB2YWx1ZSwgaW5kKTtcclxuICAgICAgICB0aGlzLmVtaXQoJyo6cmVtb3ZlJywgcGF0aCwgdmFsdWUsIGluZCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Yig6Zmk5pWw57uE5Lit55qE5p+Q5LiqdmFsdWXlgLxcclxuICAgIHB1YmxpYyByZW1vdmVWYWx1ZShwYXRoOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGFzKHBhdGgpIHx8ICEodGhpcy5fZGF0YVtwYXRoXSBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLl9kYXRhW3BhdGhdO1xyXG4gICAgICAgIGxldCBpbmQgPSBhcnIuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKGluZCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb2xkVmFsdWUgPSBhcnJbaW5kXTtcclxuICAgICAgICBhcnIuc3BsaWNlKGluZCwgMSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZERhdGEocGF0aCwgYXJyKTtcclxuXHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIC8vIGxldCBhcnIyID0gdGhpcy5fZGF0YTJbcGF0aF07XHJcbiAgICAgICAgLy8gaWYgKGFycjIgJiYgaW5kID49IDApIHtcclxuICAgICAgICAvLyAgICAgYXJyMi5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUud2Fybign5Yig6ZmkJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS53YXJuKHRoaXMuX2RhdGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUud2Fybih0aGlzLl9kYXRhMik7XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChwYXRoICsgJzpyZW1vdmUnLCBvbGRWYWx1ZSwgaW5kKTtcclxuICAgICAgICB0aGlzLmVtaXQoJyo6cmVtb3ZlJywgcGF0aCwgb2xkVmFsdWUsIGluZCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbW92ZShwYXRoOiBzdHJpbmcsIGluZE9sZDogbnVtYmVyLCBpbmROZXc6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghdGhpcy5oYXMocGF0aCkgfHwgISh0aGlzLl9kYXRhW3BhdGhdIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbmROZXcyID0gaW5kTmV3O1xyXG5cclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5fZGF0YVtwYXRoXTtcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA8IGluZE9sZCB8fCBhcnIubGVuZ3RoIDwgaW5kTmV3IHx8IGluZE9sZCA9PT0gaW5kTmV3KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gYXJyW2luZE9sZF1cclxuICAgICAgICBhcnIuc3BsaWNlKGluZE9sZCwgMSk7XHJcbiAgICAgICAgaWYgKGluZE5ldyA9PT0gLTEpIGluZE5ldyA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgYXJyLnNwbGljZShpbmROZXcsIDAsIG9sZFZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkRGF0YShwYXRoLCBhcnIpO1xyXG5cclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gbGV0IGFycjIgPSB0aGlzLl9kYXRhMltwYXRoXTtcclxuICAgICAgICAvLyBpZiAoYXJyMikge1xyXG4gICAgICAgIC8vICAgICBpZiAoYXJyMi5sZW5ndGggPCBpbmRPbGQgfHwgYXJyMi5sZW5ndGggPCBpbmROZXcyIHx8IGluZE9sZCA9PT0gaW5kTmV3Mikge1xyXG5cclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBvbGRWYWx1ZTIgPSBhcnIyW2luZE9sZF1cclxuICAgICAgICAvLyAgICAgICAgIGFycjIuc3BsaWNlKGluZE9sZCwgMSk7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoaW5kTmV3MiA9PT0gLTEpIGluZE5ldzIgPSBhcnIyLmxlbmd0aDtcclxuICAgICAgICAvLyAgICAgICAgIGFycjIuc3BsaWNlKGluZE5ldzIsIDAsIG9sZFZhbHVlMik7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChwYXRoICsgJzptb3ZlJywgb2xkVmFsdWUsIGluZE5ldywgaW5kT2xkKTtcclxuICAgICAgICB0aGlzLmVtaXQoJyo6bW92ZScsIHBhdGgsIG9sZFZhbHVlLCBpbmROZXcsIGluZE9sZCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhcnNlck9iamVjdChwcmVmaXg6IHN0cmluZywga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICAvLyDlhYjkv53lrZjkuIDku71cclxuICAgICAgICB0aGlzLnNldChwcmVmaXgsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9kYXRhVHlwZVtwcmVmaXhdID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCBwYXRoOiBzdHJpbmc7XHJcbiAgICAgICAgbGV0IHR5cGU6IHN0cmluZyA9IHR5cGVvZiB2YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YVR5cGUyW3ByZWZpeF0gPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gcHJlZml4ICsgdGhpcy5TRVBBUkFUT1IgKyBpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChwYXRoLCB2YWx1ZVtpXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhVHlwZVtwYXRoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyDmlbDnu4TlhYPntKDov5jmmK/lr7nosaHnmoTmg4XlhrXmmoLml7bkuI3lpITnkIZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleTIgaW4gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVba2V5Ml0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6YCS5b2S6Kej5p6QXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZXJPYmplY3QocHJlZml4ICsgdGhpcy5TRVBBUkFUT1IgKyBrZXkyLCBrZXkyLCB2YWx1ZVtrZXkyXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBwcmVmaXggKyB0aGlzLlNFUEFSQVRPUiArIGtleTI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQocGF0aCwgdmFsdWVba2V5Ml0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFUeXBlW3BhdGhdID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YVR5cGUyW3ByZWZpeF0gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDnm67liY3nnIvvvIxudWxs5ZKMdW5kZWZpbmVk5Lya57uP6L+H6L+Z6YeMXHJcbiAgICAgICAgICAgIC8vIGRlYnVnLndhcm4odGhpcy5jbGFzc05hbWUgKyAnLnBhcnNlck9iamVjdCwg5Li65q2i5pWw5o2u57G75Z6LOicgKyB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgaGFzKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBwYXRoIGluIHRoaXMuX2RhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldChwYXRoOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIGlmIChwYXRoIGluIHRoaXMuX2RhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbcGF0aF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcm9wYWdhdGUoZXZ0OiBhbnkpIHtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIGFyZzE6IGFueSwgYXJnMjogYW55LCBhcmczOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGF0Ll9wYXJlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGxldCBrZXkgPSB0aGF0Ll9wYXJlbnRLZXk7XHJcbiAgICAgICAgICAgIGlmICgha2V5ICYmIHRoYXQuX3BhcmVudEZpZWxkIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGtleSA9IHRoYXQuX3BhcmVudEZpZWxkLmluZGV4T2YodGhhdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gLTEpIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcGF0aCA9IHRoYXQuX3BhcmVudFBhdGggKyAnLicgKyBrZXkgKyAnLicgKyBwYXRoO1xyXG5cclxuICAgICAgICAgICAgbGV0IHN0YXRlO1xyXG4gICAgICAgICAgICBpZiAodGhhdC5fc2lsZW50KSBzdGF0ZSA9IHRoYXQuX3BhcmVudC5zaWxlbmNlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGF0Ll9wYXJlbnQuZW1pdChwYXRoICsgJzonICsgZXZ0LCBhcmcxLCBhcmcyLCBhcmczKTtcclxuICAgICAgICAgICAgdGhhdC5fcGFyZW50LmVtaXQoJyo6JyArIGV2dCwgcGF0aCwgYXJnMSwgYXJnMiwgYXJnMyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhhdC5fc2lsZW50KSB0aGF0Ll9wYXJlbnQuc2lsZW5jZVJlc3RvcmUoc3RhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8ga2V5ID0+IG9iamVjdFxyXG4gICAgcHJpdmF0ZSBfcHJlcGFyZSh0YXJnZXQ6IE9ic2VydmVyLCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSwgc2lsZW50PzogYm9vbGVhbiwgcmVtb3RlPzogYW55KSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGxldCBzdGF0ZTogYm9vbGVhbltdO1xyXG4gICAgICAgIGxldCBwYXRoID0gKHRhcmdldC5fcGF0aCA/IHRhcmdldC5fcGF0aCArICcuJyA6ICcnKSArIGtleTtcclxuICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcclxuXHJcbiAgICAgICAgdGFyZ2V0Ll9rZXlzLnB1c2goa2V5KTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgdGFyZ2V0Ll9kYXRhW2tleV0gPSB2YWx1ZS5zbGljZSgwKTsgLy8g5aSN5Yi25LiA5Lu95paw55qE5pWw57uEXHJcblxyXG4gICAgICAgICAgICAvLyDlrZDkuIDlsYLmlbDmja5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXQuX2RhdGFba2V5XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQuX2RhdGFba2V5XVtpXSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0Ll9kYXRhW2tleV1baV0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Ll9kYXRhW2tleV1baV0gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuX2RhdGFba2V5XVtpXS5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvYnNlcnZlcj8g6L+Z6YeM5LiN6ZyA6KaB6YCS5b2S5ZCX77yfXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5fZGF0YVtrZXldW2ldID0gbmV3IE9ic2VydmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Ll9kYXRhW2tleV1baV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFBhdGg6IHBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RmllbGQ6IHRhcmdldC5fZGF0YVtrZXldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEtleTogbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnNpbGVuY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQocGF0aCArICcuJyArIGkgKyAnOnNldCcsIHRhcmdldC5fZGF0YVtrZXldW2ldLCBudWxsLCByZW1vdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnKjpzZXQnLCBwYXRoICsgJy4nICsgaSwgdGFyZ2V0Ll9kYXRhW2tleV1baV0sIG51bGwsIHJlbW90ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWxlbmNlUmVzdG9yZShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzaWxlbnQpIHN0YXRlID0gdGhpcy5zaWxlbmNlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQocGF0aCArICc6c2V0JywgdGFyZ2V0Ll9kYXRhW2tleV0sIG51bGwsIHJlbW90ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnKjpzZXQnLCBwYXRoLCB0YXJnZXQuX2RhdGFba2V5XSwgbnVsbCwgcmVtb3RlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzaWxlbnQpIHRoaXMuc2lsZW5jZVJlc3RvcmUoc3RhdGUhKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmIHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0Ll9kYXRhW2tleV0gIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuX2RhdGFba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBfcGF0aDogcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBfa2V5czogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgX2RhdGE6IHt9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOmAkuW9klxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXBhcmUodGFyZ2V0Ll9kYXRhW2tleV0sIGksIHZhbHVlW2ldLCB0cnVlLCByZW1vdGUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuc2lsZW5jZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuX2RhdGFba2V5XS5fZGF0YVtpXSA9IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5fZGF0YVtrZXldLl9rZXlzLnB1c2goaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChwYXRoICsgJy4nICsgaSArICc6c2V0JywgdmFsdWVbaV0sIG51bGwsIHJlbW90ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCcqOnNldCcsIHBhdGggKyAnLicgKyBpLCB2YWx1ZVtpXSwgbnVsbCwgcmVtb3RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWxlbmNlUmVzdG9yZShzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzaWxlbnQpIHN0YXRlID0gdGhpcy5zaWxlbmNlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBwYXNzaW5nIHVuZGVmaW5lZCBhcyB2YWx1ZU9sZCBoZXJlXHJcbiAgICAgICAgICAgIC8vIGJ1dCB3ZSBzaG91bGQgZ2V0IHRoZSBvbGQgdmFsdWUgdG8gYmUgY29uc2lzdGVudFxyXG4gICAgICAgICAgICB0aGlzLmVtaXQocGF0aCArICc6c2V0JywgdmFsdWUsIHVuZGVmaW5lZCwgcmVtb3RlKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCcqOnNldCcsIHBhdGgsIHZhbHVlLCB1bmRlZmluZWQsIHJlbW90ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2lsZW50KSB0aGlzLnNpbGVuY2VSZXN0b3JlKHN0YXRlISk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHNpbGVudCkgc3RhdGUgPSB0aGlzLnNpbGVuY2UoKTtcclxuXHJcbiAgICAgICAgICAgIHRhcmdldC5fZGF0YVtrZXldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQocGF0aCArICc6c2V0JywgdmFsdWUsIHVuZGVmaW5lZCwgcmVtb3RlKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCcqOnNldCcsIHBhdGgsIHZhbHVlLCB1bmRlZmluZWQsIHJlbW90ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2lsZW50KSB0aGlzLnNpbGVuY2VSZXN0b3JlKHN0YXRlISk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2lsZW5jZSgpOiBib29sZWFuW10ge1xyXG4gICAgICAgIHRoaXMuX3NpbGVudCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIGhpc3RvcnkgaG9vayB0byBwcmV2ZW50IGFycmF5IHZhbHVlcyB0byBiZSByZWNvcmRlZFxyXG4gICAgICAgIGxldCBoaXN0b3J5U3RhdGU6IGJvb2xlYW4gPVxyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmhpc3RvcnkuZW5hYmxlZCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChoaXN0b3J5U3RhdGUpIHRoaXMuaGlzdG9yeS5lbmFibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHN5bmMgaG9vayB0byBwcmV2ZW50IGFycmF5IHZhbHVlcyB0byBiZSByZWNvcmRlZCBhcyBhcnJheSByb290IGFscmVhZHkgZGlkXHJcbiAgICAgICAgbGV0IHN5bmNTdGF0ZTogYm9vbGVhbiA9IHRoaXMuc3luYyAhPT0gbnVsbCAmJiB0aGlzLnN5bmMuZW5hYmxlZCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh0aGlzLnN5bmMgIT09IG51bGwgJiYgdGhpcy5zeW5jLmVuYWJsZWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5zeW5jLmVuYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtoaXN0b3J5U3RhdGUsIHN5bmNTdGF0ZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpbGVuY2VSZXN0b3JlKHN0YXRlOiBib29sZWFuW10pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9zaWxlbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHN0YXRlWzBdKSB0aGlzLmhpc3RvcnkuZW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChzdGF0ZVsxXSAmJiB0aGlzLnN5bmMgIT09IG51bGwgJiYgdGhpcy5zeW5jLmVuYWJsZWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5zeW5jIS5lbmFibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMganNvbih0YXJnZXQ/OiBPYnNlcnZlcik6IE9ic2VydmVyIHtcclxuICAgIC8vICAgbGV0IG9iajogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG4gICAgLy8gICBsZXQgbm9kZSA9IHRhcmdldCA9PT0gdW5kZWZpbmVkID8gdGhpcyA6IHRhcmdldDtcclxuICAgIC8vICAgbGV0IGxlbiwgbmxlbjtcclxuXHJcbiAgICAvLyAgIGlmIChub2RlIGluc3RhbmNlb2YgT2JqZWN0ICYmIG5vZGUuX2tleXMpIHtcclxuICAgIC8vICAgICBsZW4gPSBub2RlLl9rZXlzLmxlbmd0aDtcclxuICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAvLyAgICAgICBsZXQga2V5ID0gbm9kZS5fa2V5c1tpXTtcclxuICAgIC8vICAgICAgIGxldCB2YWx1ZSA9IG5vZGUuX2RhdGFba2V5XTtcclxuICAgIC8vICAgICAgIGxldCB0eXBlID0gdHlwZW9mICh2YWx1ZSk7XHJcblxyXG4gICAgLy8gICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgLy8gICAgICAgICBvYmpba2V5XSA9IHZhbHVlLnNsaWNlKDApO1xyXG5cclxuICAgIC8vICAgICAgICAgbmxlbiA9IG9ialtrZXldLmxlbmd0aDtcclxuICAgIC8vICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBubGVuOyBuKyspIHtcclxuICAgIC8vICAgICAgICAgICBpZiAodHlwZW9mIChvYmpba2V5XVtuXSkgPT09ICdvYmplY3QnKVxyXG4gICAgLy8gICAgICAgICAgICAgb2JqW2tleV1bbl0gPSB0aGlzLmpzb24ob2JqW2tleV1bbl0pO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmICh2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuICAgIC8vICAgICAgICAgb2JqW2tleV0gPSB0aGlzLmpzb24odmFsdWUpO1xyXG4gICAgLy8gICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcclxuICAgIC8vICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcclxuICAgIC8vICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gICAgIH0gZWxzZSBpZiAodHlwZW9mIChub2RlKSA9PT0gJ29iamVjdCcgJiYgKG5vZGUgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgIC8vICAgICAgIG9iaiA9IG5vZGUuc2xpY2UoMCk7XHJcblxyXG4gICAgLy8gICAgICAgbGVuID0gb2JqLmxlbmd0aDtcclxuICAgIC8vICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbGVuOyBuKyspIHtcclxuICAgIC8vICAgICAgICAgb2JqW25dID0gdGhpcy5qc29uKG9ialtuXSk7XHJcbiAgICAvLyAgICAgICB9XHJcbiAgICAvLyAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG5vZGUpID09PSAnb2JqZWN0Jykge1xyXG4gICAgLy8gICAgICAgZm9yIChsZXQga2V5IGluIG5vZGUpIHtcclxuICAgIC8vICAgICAgICAgaWYgKG5vZGUuaGFzT3duUHJvcGVydHkoa2V5KSlcclxuICAgIC8vICAgICAgICAgICBvYmpba2V5XSA9IG5vZGVba2V5XTtcclxuICAgIC8vICAgICAgIH1cclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgb2JqID0gbm9kZTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgcmV0dXJuIG9iajtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZm9yRWFjaChmbjogRnVuY3Rpb24sIHRhcmdldDogT2JzZXJ2ZXIsIHBhdGg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgLy8gICBsZXQgbm9kZSA9IHRhcmdldCB8fCB0aGlzO1xyXG4gICAgLy8gICBwYXRoID0gcGF0aCB8fCAnJztcclxuXHJcbiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5fa2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICAgIGxldCBrZXkgPSBub2RlLl9rZXlzW2ldO1xyXG4gICAgLy8gICAgIGxldCB2YWx1ZSA9IG5vZGUuX2RhdGFba2V5XTtcclxuICAgIC8vICAgICBsZXQgdHlwZSA9ICh0aGlzLnNjaGVtYSAmJiB0aGlzLnNjaGVtYS5oYXMocGF0aCArIGtleSkgJiYgdGhpcy5zY2hlbWEuZ2V0KHBhdGggKyBrZXkpLnR5cGUubmFtZS50b0xvd2VyQ2FzZSgpKSB8fCB0eXBlb2YgKHZhbHVlKTtcclxuXHJcbiAgICAvLyAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgLy8gICAgICAgZm4ocGF0aCArIGtleSwgJ2FycmF5JywgdmFsdWUsIGtleSk7XHJcbiAgICAvLyAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0JyAmJiAodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAvLyAgICAgICBmbihwYXRoICsga2V5LCAnb2JqZWN0JywgdmFsdWUsIGtleSk7XHJcbiAgICAvLyAgICAgICB0aGlzLmZvckVhY2goZm4sIHZhbHVlLCBwYXRoICsga2V5ICsgJy4nKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgZm4ocGF0aCArIGtleSwgdHlwZSwgdmFsdWUsIGtleSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHJldHVybjtcclxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnZGVzdHJveScpO1xyXG4gICAgICAgIHRoaXMudW5iaW5kKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGlzdG9yeSB7XHJcbiAgICBlbmFibGVkPzogYm9vbGVhbjtcclxufVxyXG4iLCJpbXBvcnQgeyBFZGl0b3IsIExheW91dCwgVmlld3BvcnQsIEhpZXJhcmNoeUtlZXBlciwgQXNzZXRzUGFuZWwsIEluaXRpYWxpemVCZWZvcmUsIEluaXRpYWxpemVBZnRlciwgRGVidWcsIFRvb2xzLCBBc3NldHNLZWVwZXIsIFNlYXJjaCwgRHJvcCwgSW5pdGlhbGl6ZURhdGEgfSBmcm9tICcuL2VkaXRvcic7XHJcbi8vIGltcG9ydCB7IEVsZW1lbnQsIENhbnZhcyB9IGZyb20gJy4vdWknO1xyXG5pbXBvcnQgeyBWZXJ5RW5naW5lIH0gZnJvbSAnLi9lbmdpbmUnO1xyXG4vLyBpbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4vZWRpdG9yL21pZGRsZXdhcmUvb2ZmbGluZS9kYXRhYmFzZSc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2luZGV4JztcclxuXHJcbi8vIOa3u+WKoOWIsOWFqOWxgOWPmOmHj1xyXG53aW5kb3cuZWRpdG9yID0gbmV3IEVkaXRvcigpO1xyXG5cclxuLy8g5YWo5bGA5rOo5YaMZGVidWfnsbtcclxud2luZG93LmRlYnVnID0gbmV3IERlYnVnKCk7XHJcblxyXG4vLyDliJ3lp4vljJblhajlsYDkv6Hmga/nsbtcclxubGV0IGluaXRpYWxpemU6IEluaXRpYWxpemVCZWZvcmUgPSBuZXcgSW5pdGlhbGl6ZUJlZm9yZSgpO1xyXG5cclxuLy8g5ZCO5pyf5Y+v5Lul5L+u5pS55Li6bG9hZOOAgXN0YXJ0562Jc3RyaW5n6KGo56S655qE5LqL5Lu277yM6YCa6L+HZXZlbnTmnaXlrp7njrBcclxuLy8g5omT5byAcHJvamVjdOaIluiAhXNjZW5l77yMMeWvueWkmueahOWFs+ezu++8jOiusOW9leS4gOS4i+m7mOiupOeahHNjZW5l77yI5LiK5LiA5qyh5omT5byA55qEc2NlbmXvvInvvIzkuIDlvIDlp4vlsLHmiZPlvIDpu5jorqTnmoRzY2VuZe+8m1xyXG4vLyDlvZPliY1wcm9qZWN055qE57yW6L6R5Zmo6K6+572u77yM5aaC5pGE5YOP5py6562J77yM5ZCE56eN6K6+572u5pWw5o2u77ybXHJcbi8vIGFzc2V0c+aVsOaNru+8m1xyXG4vLyBzY2VuZeeahOaVsOaNru+8jOWPr+iDveS8muWkmuS4qu+8jOW9k+WJjXNjZW5l77yM5LiN5ZCMc2NlbmXkuYvpl7Tov5jmnInpobrluo/lhbPns7vvvJtcclxuXHJcbi8vIOaVtOS9k+W4g+WxgFxyXG5sZXQgbGF5b3V0ID0gbmV3IExheW91dCgpO1xyXG5sYXlvdXQuaW5pdCgpO1xyXG5cclxubGV0IGRyb3AgPSBuZXcgRHJvcCgpO1xyXG5sZXQgc2VhcmNoID0gbmV3IFNlYXJjaCgpO1xyXG5cclxuLy8g5bGC57qn6I+c5Y2VXHJcbmxldCBoaWVyYXJjaHkgPSBuZXcgSGllcmFyY2h5S2VlcGVyKCk7XHJcblxyXG4vLyDotYTmupDoj5zljZVcclxubGV0IGFzc2V0c0tlZXBlciA9IG5ldyBBc3NldHNLZWVwZXIoKTtcclxuXHJcbi8vIOWIneWni+WMluWFqOWxgOS/oeaBr+exu1xyXG5sZXQgaW5pdGlhbGl6ZUFmdGVyOiBJbml0aWFsaXplQWZ0ZXIgPSBuZXcgSW5pdGlhbGl6ZUFmdGVyKCk7XHJcblxyXG4vLyDnvJbovpHop4bnqpdcclxubGV0IHZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KCk7XHJcblZlcnlFbmdpbmUudmlld3BvcnQgPSB2aWV3cG9ydDtcclxuXHJcbi8vIOWIneWni+aVsOaNrlxyXG5sZXQgaW5pdGlhbGl6ZURhdGE6IEluaXRpYWxpemVEYXRhID0gbmV3IEluaXRpYWxpemVEYXRhKCk7XHJcblxyXG4vLyBUT0RPXHJcbi8vIFRvb2xzLmxvYWRCYWJ5bG9uKCk7XHJcbi8vIOWKoOi9vei1hOa6kFxyXG5cclxuLy8g5YWz6IGU6LWE5rqQXHJcblxyXG4vLyDmnKzlnLDmlbDmja7lupPmtYvor5VcclxuLy8gVmVyeUVuZ2luZS5kYXRhYmFzZSA9IG5ldyBEYXRhYmFzZSgpO1xyXG4vLyBWZXJ5RW5naW5lLmRhdGFiYXNlLmNvbm5lY3QoJ3Rlc3QnLCAnc3RvcmUnLCAxLCBbJ3h4eCddKTtcclxuXHJcbi8vIGxldCBpbSA9IG5ldyBJbWFnZSgpO1xyXG4vLyBpbS5zcmMgPSBcInRlc3QuanBlZ1wiO1xyXG4vLyBpbS5vbmxvYWQgPSAoKSA9PiB7XHJcbi8vICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tJyk7XHJcbi8vICAgY29uc29sZS5sb2coaW0ubmFtZSk7XHJcbi8vICAgY29uc29sZS5sb2coaW0uc2l6ZXMpO1xyXG4vLyB9XHJcblxyXG4vKiBURVNUXHJcbmVkaXRvci5vbmNlKCdsb2FkJywgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdvbmNlJyk7XHJcbn0pO1xyXG5cclxuZWRpdG9yLm9uKCdhcnJheScsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnMScpO1xyXG59KTtcclxuZWRpdG9yLm9uKCdhcnJheScsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnMicpO1xyXG59KTtcclxuZWRpdG9yLm9uKCdhcnJheScsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnMycpO1xyXG59KTtcclxuXHJcbmVkaXRvci5vbignYXJyYXknLCAoYXJnczA6IGFueSwgYXJnczE6IGFueSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGFyZ3MwICsgJyArKysgJyArICBhcmdzMSk7XHJcbn0pO1xyXG5cclxuZWRpdG9yLm1ldGhvZCgnbWV0aG9kJywgKGE6IGFueSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGEpO1xyXG59KTtcclxuXHJcblxyXG5lZGl0b3IuZW1pdCgnbG9hZCcpO1xyXG5lZGl0b3IuZW1pdCgnbG9hZCcpO1xyXG5cclxuZWRpdG9yLmVtaXQoJ2FycmF5JywgJ2FiYycsICdkZmcnKTtcclxuZWRpdG9yLmVtaXQoJ2FycmF5Jyk7XHJcblxyXG5lZGl0b3IuY2FsbCgnbWV0aG9kJywgMTIzKTtcclxuKi9cclxuXHJcbi8vIGxldCBwYXJlbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3QnKSE7XHJcblxyXG4vLyBjb25zb2xlLmxvZygnY2hpbGRyZW4nKTtcclxuXHJcbi8vIGNvbnNvbGUubG9nKHBhcmVudCk7XHJcbi8vIGNvbnNvbGUubG9nKHBhcmVudC5jaGlsZE5vZGVzKTtcclxuXHJcbi8vIGZvcihsZXQgaTogbnVtYmVyID0gMDsgaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4vLyAgICg8SFRNTEVsZW1lbnQ+KHBhcmVudC5jaGlsZHJlbltpXSkpLnVpID0gbmV3IEVsZW1lbnQoKTtcclxuLy8gICBjb25zb2xlLndhcm4oKDxIVE1MRWxlbWVudD4ocGFyZW50LmNoaWxkcmVuW2ldKSkudWkgPT09IHVuZGVmaW5lZCk7XHJcbi8vICAgY29uc29sZS5sb2coKDxIVE1MRWxlbWVudD4ocGFyZW50LmNoaWxkcmVuW2ldKSkudWkpO1xyXG4vLyAgICg8SFRNTEVsZW1lbnQ+KHBhcmVudC5jaGlsZHJlbltpXSkpLnVpLmRlc3Ryb3koKTtcclxuLy8gICBjb25zb2xlLmxvZyhwYXJlbnQuY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk7XHJcbi8vIH1cclxuXHJcbi8vIGNvbnNvbGUubG9nKCdjaGlsZE5vZGVzJyk7XHJcblxyXG4vLyBmb3IobGV0IGk6IG51bWJlciA9IDA7IGkgPCBwYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4vLyAgIGNvbnNvbGUubG9nKHBhcmVudC5jaGlsZE5vZGVzW2ldIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xyXG4vLyB9XHJcbiIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnViYmxlIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoaWQ/OiBzdHJpbmcsIHRhYmluZGV4PzogbnVtYmVyKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLWJ1YmJsZScpO1xyXG5cclxuICAgIGxldCBwdWxzZUNpcmNsZTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHB1bHNlQ2lyY2xlLmNsYXNzTGlzdC5hZGQoJ3B1bHNlJyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQocHVsc2VDaXJjbGUpO1xyXG5cclxuICAgIGxldCBjZW50ZXJDaXJjbGU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjZW50ZXJDaXJjbGUuY2xhc3NMaXN0LmFkZCgnY2VudGVyJyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoY2VudGVyQ2lyY2xlKTtcclxuXHJcbiAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xyXG5cclxuICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICB0aGlzLmVsZW1lbnQuaWQgPSBpZDtcclxuXHJcbiAgICBpZiAodGFiaW5kZXggIT09IHVuZGVmaW5lZClcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCB0YWJpbmRleC50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uQ2xpY2soKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFjdGl2YXRlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGFzcyEuYWRkKCdhY3RpdmUnKTtcclxuICAgIHRoaXMuZW1pdCgnYWN0aXZhdGUnKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkZWFjdGl2YXRlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgIHRoaXMuZW1pdCgnZGVhY3RpdmF0ZScpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBsZXQgcmVjdCA9IHRoaXMuZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgbGV0IGxlZnQgPSB4IHx8IDA7XHJcbiAgICBsZXQgdG9wID0geSB8fCAwO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUubGVmdCA9ICh0eXBlb2YgbGVmdCA9PT0gJ251bWJlcicpID8gbGVmdCArICdweCcgOiBsZWZ0O1xyXG4gICAgdGhpcy5lbGVtZW50IS5zdHlsZS50b3AgPSAodHlwZW9mIHRvcCA9PT0gJ251bWJlcicpID8gdG9wICsgJ3B4JyA6IHRvcDtcclxuICB9XHJcblxyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuL2VsZW1lbnRcIjtcclxuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gXCIuL3Rvb2x0aXBcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBFbGVtZW50IHtcclxuXHJcblxyXG4gIHByaXZhdGUgX3RleHQ6IHN0cmluZztcclxuICBwdWJsaWMgZ2V0IHRleHQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl90ZXh0O1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLl90ZXh0ID09PSB2YWwpIHJldHVybjtcclxuICAgIHRoaXMuX3RleHQgPSB2YWw7XHJcbiAgICB0aGlzLmVsZW1lbnQhLmlubmVySFRNTCA9IHRoaXMuX3RleHQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9vbHRpcDogTnVsbGFibGU8VG9vbHRpcD4gPSBudWxsO1xyXG4gIHB1YmxpYyBvcDogc3RyaW5nID0gJyc7XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IodGV4dD86IHN0cmluZykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLl90ZXh0ID0gdGV4dCA/IHRleHQgOiAnJztcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1idXR0b24nKTtcclxuICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLl90ZXh0O1xyXG4gICAgdGhpcy5lbGVtZW50LnVpID0gdGhpcztcclxuICAgIHRoaXMuZWxlbWVudC50YWJJbmRleCA9IDA7XHJcblxyXG4gICAgLy8gc3BhY2UgPiBjbGlja1xyXG4gICAgLy8g6byg5qCH5oqs6LW35pe25a6M5oiQa2V5ZG93bu+8jOaJjeS8muinpuWPke+8m1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcclxuICAgIC8vIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBwcml2YXRlIF9vbktleURvd24oZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnYycpO1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSAyNykgIC8vIDI3OiBFc2NhcGVcclxuICAgICAgcmV0dXJuICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG5cclxuICAgIGlmIChldnQua2V5Q29kZSAhPT0gMzIgfHwgdGhpcy5kaXNhYmxlZCkgIC8vIDMyOiBTcGFjZVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLmVtaXQoJ2NsaWNrJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50IS5ibHVyKCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gVE9ET1xyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+dGhpcy5lbGVtZW50KS52YWx1ZSA9IHZhbHVlO1xyXG4gIH07XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbnZhcyBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50ID8gKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLndpZHRoIDogMDtcclxuICB9XHJcbiAgcHVibGljIHNldCB3aWR0aCh2YWw6IG51bWJlcikge1xyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcclxuICAgIGlmICgoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkud2lkdGggPT09IHZhbCkgcmV0dXJuO1xyXG5cclxuICAgICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS53aWR0aCA9IHZhbDtcclxuICAgIHRoaXMuZW1pdChcInJlc2l6ZVwiLCAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkud2lkdGgsICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS5oZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPyAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkuaGVpZ2h0IDogMDtcclxuICB9XHJcbiAgcHVibGljIHNldCBoZWlnaHQodmFsOiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcbiAgICBpZiAoKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLmhlaWdodCA9PT0gdmFsKSByZXR1cm47XHJcblxyXG4gICAgKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLmhlaWdodCA9IHZhbDtcclxuICAgIHRoaXMuZW1pdChcInJlc2l6ZVwiLCAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkud2lkdGgsICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS5oZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGlkPzogc3RyaW5nKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLWNhbnZhcycpO1xyXG5cclxuICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB0aGlzLmVsZW1lbnQuaWQgPSBpZDtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQub25zZWxlY3RzdGFydCA9IHRoaXMub25zZWxlY3RzdGFydDtcclxuXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uc2VsZWN0c3RhcnQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgcHVibGljIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKCg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS53aWR0aCA9PT0gd2lkdGggJiYgKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLmhlaWdodCA9PT0gaGVpZ2h0KSByZXR1cm47XHJcblxyXG4gICAgKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLndpZHRoID0gd2lkdGg7XHJcbiAgICAoPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuZWxlbWVudCkuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5lbWl0KFwicmVzaXplXCIsICg8SFRNTENhbnZhc0VsZW1lbnQ+dGhpcy5lbGVtZW50KS53aWR0aCwgKDxIVE1MQ2FudmFzRWxlbWVudD50aGlzLmVsZW1lbnQpLmhlaWdodCk7XHJcbiAgfTtcclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENoZWNrYm94IGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG5cclxuICAgIHByaXZhdGUgX3RleHQ6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9saW5rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgdmFsdWUodmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgICAgICAgdGhpcy5fbGluay5zZXQodGhpcy5wYXRoLCB2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5jb250YWlucygnY2hlY2tlZCcpICE9PSB2YWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkxpbmtDaGFuZ2UodmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHRleHQ/OiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dCB8fCAnJztcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLWNoZWNrYm94JywgJ25vU2VsZWN0Jyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnRhYkluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLm9uKCdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xyXG4gICAgICAgIHRoaXMub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25DbGljaygpOiB2b2lkIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hlY2tib3ggY2xpY2snKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gIXRoaXMudmFsdWU7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5ibHVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25DaGFuZ2UoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NoZWNrYm94IF9vbkNoYW5nZScpO1xyXG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJDaGFuZ2VzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuZmxhc2goKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vbktleURvd24oZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NoZWNrYm94IF9vbktleURvd24nKTtcclxuICAgICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDI3KSAgLy8gRXNjYXBlXHJcbiAgICAgICAgICAgIHJldHVybiAoPEhUTUxFbGVtZW50PmV2dC50YXJnZXQpLmJsdXIoKTtcclxuXHJcbiAgICAgICAgLy8gU3BhY2VcclxuICAgICAgICBpZiAoZXZ0LmtleUNvZGUgIT09IDMyIHx8IHRoaXMuZGlzYWJsZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSAhdGhpcy52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgX29uTGlua0NoYW5nZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2JveCBfb25MaW5rQ2hhbmdlJyk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoJ251bGwnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ251bGwnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnLCAnbnVsbCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gXCIuL2NvbnRhaW5lci1lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29kZSBleHRlbmRzIENvbnRhaW5lckVsZW1lbnQge1xyXG5cclxuICBwdWJsaWMgZ2V0IHRleHQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQhLnRleHRDb250ZW50IHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZWxlbWVudCEudGV4dENvbnRlbnQgPSB2YWw7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwcmUnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1jb2RlJyk7XHJcblxyXG4gIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbG9yRmllbGQgZXh0ZW5kcyBFbGVtZW50IHtcclxuXHJcbiAgcHVibGljIGVsZW1lbnRDb2xvcjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgX3ZhbHVlczogbnVtYmVyW107XHJcblxyXG4gIHB1YmxpYyBldnRMaW5rQ2hhbm5lbHM6IEV2ZW50SGFuZGxlW107XHJcblxyXG4gIHByaXZhdGUgX2NoYW5uZWxzOiBudW1iZXI7XHJcbiAgcHVibGljIGdldCBjaGFubmVscygpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxzO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGNoYW5uZWxzKHZhbDogbnVtYmVyKSB7XHJcbiAgICBpZiAodGhpcy5fY2hhbm5lbHMgPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2NoYW5uZWxzID0gdmFsO1xyXG4gICAgdGhpcy5lbWl0KCdjaGFubmVscycsIHRoaXMuX2NoYW5uZWxzKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcigpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5fbGluay5nZXQodGhpcy5wYXRoICsgJy4wJykgKiAyNTUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1swXTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCByKHZhbDogbnVtYmVyKSB7XHJcbiAgICB2YWwgPSBNYXRoLm1pbigwLCBNYXRoLm1heCgyNTUsIHZhbCkpO1xyXG5cclxuICAgIGlmICh0aGlzLl92YWx1ZXNbMF0gPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX3ZhbHVlc1swXSA9IHZhbDtcclxuICAgIHRoaXMuZW1pdCgncicsIHRoaXMuX3ZhbHVlc1swXSk7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuX3ZhbHVlcy5zbGljZSgwLCB0aGlzLl9jaGFubmVscykpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBnKCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5fbGluaykge1xyXG4gICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLl9saW5rLmdldCh0aGlzLnBhdGggKyAnLjEnKSAqIDI1NSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWVzWzFdO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgc2V0IGcodmFsOiBudW1iZXIpIHtcclxuICAgIHZhbCA9IE1hdGgubWluKDAsIE1hdGgubWF4KDI1NSwgdmFsKSk7XHJcblxyXG4gICAgaWYgKHRoaXMuX3ZhbHVlc1sxXSA9PT0gdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fdmFsdWVzWzFdID0gdmFsO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGFubmVscyA+PSAyKSB7XHJcbiAgICAgIHRoaXMuZW1pdCgnZycsIHRoaXMuX3ZhbHVlc1sxXSk7XHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWVzLnNsaWNlKDAsIHRoaXMuX2NoYW5uZWxzKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGIoKTogbnVtYmVyIHtcclxuICAgIGlmICh0aGlzLl9saW5rKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCArICcuMicpICogMjU1KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNbMl07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgYih2YWw6IG51bWJlcikge1xyXG4gICAgdmFsID0gTWF0aC5taW4oMCwgTWF0aC5tYXgoMjU1LCB2YWwpKTtcclxuXHJcbiAgICBpZiAodGhpcy5fdmFsdWVzWzJdID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl92YWx1ZXNbMl0gPSB2YWw7XHJcblxyXG4gICAgaWYgKHRoaXMuX2NoYW5uZWxzID49IDMpIHtcclxuICAgICAgdGhpcy5lbWl0KCdiJywgdGhpcy5fdmFsdWVzWzJdKTtcclxuICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLl92YWx1ZXMuc2xpY2UoMCwgdGhpcy5fY2hhbm5lbHMpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgYSgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5fbGluay5nZXQodGhpcy5wYXRoICsgJy4zJykgKiAyNTUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1szXTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCBhKHZhbDogbnVtYmVyKSB7XHJcbiAgICB2YWwgPSBNYXRoLm1pbigwLCBNYXRoLm1heCgyNTUsIHZhbCkpO1xyXG5cclxuICAgIGlmICh0aGlzLl92YWx1ZXNbM10gPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX3ZhbHVlc1szXSA9IHZhbDtcclxuXHJcbiAgICBpZiAodGhpcy5fY2hhbm5lbHMgPj0gNCkge1xyXG4gICAgICB0aGlzLmVtaXQoJ2EnLCB0aGlzLl92YWx1ZXNbM10pO1xyXG4gICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuX3ZhbHVlcy5zbGljZSgwLCB0aGlzLl9jaGFubmVscykpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBoZXgoKTogc3RyaW5nIHtcclxuICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XHJcblxyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgdmFsdWVzID0gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKS5tYXAoZnVuY3Rpb24gKGNoYW5uZWw6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKGNoYW5uZWwgKiAyNTUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaGV4ID0gJyc7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2NoYW5uZWxzOyBpKyspIHtcclxuICAgICAgaGV4ICs9ICgnMDAnICsgdmFsdWVzW2ldLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGhleDtcclxuICB9XHJcbiAgcHVibGljIHNldCBoZXgodmFsOiBzdHJpbmcpIHtcclxuICAgIGNvbnNvbGUubG9nKCd0b2RvIGNvbG9yLWZpZWxkOiAnICsgdmFsKTtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LnRhYkluZGV4ID0gMDtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1jb2xvci1maWVsZCcsICdyZ2InKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRDb2xvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHRoaXMuZWxlbWVudENvbG9yLmNsYXNzTGlzdC5hZGQoJ2NvbG9yJyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50Q29sb3IpO1xyXG5cclxuICAgIHRoaXMuX2NoYW5uZWxzID0gMztcclxuICAgIHRoaXMuX3ZhbHVlcyA9IFswLCAwLCAwLCAwXTtcclxuXHJcbiAgICAvLyBzcGFjZSA+IGNsaWNrXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgLy8gcmVuZGVyIGNvbG9yIGJhY2tcclxuICAgIHRoaXMub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlKTtcclxuXHJcbiAgICAvLyBsaW5rIHRvIGNoYW5uZWxzXHJcbiAgICB0aGlzLmV2dExpbmtDaGFubmVscyA9IFtdO1xyXG4gICAgdGhpcy5vbignbGluaycsIHRoaXMuX29uTGluayk7XHJcbiAgICB0aGlzLm9uKCd1bmxpbmsnLCB0aGlzLl9vblVubGluayk7XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgX29uS2V5RG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIGlmIChldnQua2V5Q29kZSA9PT0gMjcpIC8vIEVTQ+aMiemUrlxyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50IS5ibHVyKCk7XHJcblxyXG4gICAgaWYgKGV2dC5rZXlDb2RlICE9PSAxMyB8fCB0aGlzLmRpc2FibGVkKSAgLy8gRW50ZXLlm57ovabplK5cclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5lbWl0KCdjbGljaycpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uQ2hhbmdlKGNvbG9yOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLl9jaGFubmVscyA9PT0gMSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRDb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKCcgKyBbdGhpcy5yLCB0aGlzLnIsIHRoaXMucl0uam9pbignLCcpICsgJyknO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaGFubmVscyA9PT0gMykge1xyXG4gICAgICB0aGlzLmVsZW1lbnRDb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKCcgKyB0aGlzLl92YWx1ZXMuc2xpY2UoMCwgMykuam9pbignLCcpICsgJyknO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaGFubmVscyA9PT0gNCkge1xyXG4gICAgICB2YXIgcmdiYSA9IHRoaXMuX3ZhbHVlcy5zbGljZSgwLCA0KTtcclxuICAgICAgcmdiYVszXSAvPSAyNTU7XHJcbiAgICAgIHRoaXMuZWxlbWVudENvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKCcgKyByZ2JhLmpvaW4oJywnKSArICcpJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCd1bmtub3duIGNoYW5uZWxzJywgY29sb3IpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uTGluaygpOiB2b2lkIHtcclxuICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgIHRoaXMuZXZ0TGlua0NoYW5uZWxzW2ldID0gdGhpcy5fbGluayEub24odGhpcy5wYXRoICsgJy4nICsgaSArICc6c2V0JywgZnVuY3Rpb24gKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICB0aGF0Ll9zZXRWYWx1ZSh0aGF0Ll9saW5rIS5nZXQodGhhdC5wYXRoKSk7XHJcbiAgICAgIH0uYmluZCh0aGF0KSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25VbmxpbmsoKTogdm9pZCB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZXZ0TGlua0NoYW5uZWxzLmxlbmd0aDsgaSsrKVxyXG4gICAgICB0aGlzLmV2dExpbmtDaGFubmVsc1tpXS51bmJpbmQoKTtcclxuXHJcbiAgICB0aGlzLmV2dExpbmtDaGFubmVscyA9IFtdO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBudW1iZXJbXSkge1xyXG4gICAgaWYgKCF2YWx1ZSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX3NldFZhbHVlKHZhbHVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfc2V0VmFsdWUodmFsdWU6IG51bWJlcltdKSB7XHJcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgIGlmICghdmFsdWUpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsdWUubGVuZ3RoICE9PSB0aGlzLl9jaGFubmVscykge1xyXG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5jaGFubmVscyA9IHZhbHVlLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2NoYW5uZWxzOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMuX3ZhbHVlc1tpXSA9PT0gTWF0aC5mbG9vcih2YWx1ZVtpXSkpXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fdmFsdWVzW2ldID0gTWF0aC5mbG9vcih2YWx1ZVtpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZWQpXHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWVzLnNsaWNlKDAsIHRoaXMuX2NoYW5uZWxzKSk7XHJcbiAgfTtcclxuXHJcblxyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4vZWxlbWVudCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuXHJcbiAgICBwcml2YXRlIF9pbm5lckVsZW1lbnQ6IE51bGxhYmxlPEhUTUxFbGVtZW50PiA9IG51bGw7XHJcbiAgICBwdWJsaWMgZ2V0IGlubmVyRWxlbWVudCgpOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lckVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGlubmVyRWxlbWVudCh2YWw6IE51bGxhYmxlPEhUTUxFbGVtZW50Pikge1xyXG4gICAgICAgIGlmICh0aGlzLl9pbm5lckVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50ID0gdmFsO1xyXG5cclxuICAgICAgICB0aGlzLl9vYnNlcnZlci5vYnNlcnZlKHRoaXMuX2lubmVyRWxlbWVudCEsIHRoaXMuX29ic2VydmVyT3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb2JzZXJ2ZXJDaGFuZ2VkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBfb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBfb2JzZXJ2ZXJPcHRpb25zOiB7fSA9IHtcclxuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcclxuICAgICAgICBjaGFyYWN0ZXJEYXRhOiBmYWxzZSxcclxuICAgICAgICBzdWJ0cmVlOiB0cnVlLFxyXG4gICAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiBmYWxzZSxcclxuICAgICAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGZsZXhpYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPyB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbGV4aWJsZScpIDogZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGZsZXhpYmxlKHZhbDogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50IHx8IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsZXhpYmxlJykgPT09IHZhbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmbGV4aWJsZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmbGV4aWJsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGZsZXgoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudCA/IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsZXgnKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBmbGV4KHZhbDogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50IHx8IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsZXgnKSA9PT0gdmFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZsZXgnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZmxleCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGZsZXhEaXJlY3Rpb24oKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXJFbGVtZW50ID8gKHRoaXMuX2lubmVyRWxlbWVudCEuc3R5bGUuZmxleERpcmVjdGlvbiB8fCAnJykgOiAnJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZmxleERpcmVjdGlvbih2YWw6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh0aGlzLl9pbm5lckVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5zdHlsZS53ZWJraXRGbGV4RGlyZWN0aW9uID0gdmFsITtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBmbGV4V3JhcCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lckVsZW1lbnQgPyAodGhpcy5faW5uZXJFbGVtZW50IS5zdHlsZS5mbGV4V3JhcCB8fCAnJykgOiAnJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZmxleFdyYXAodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5faW5uZXJFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5zdHlsZS5mbGV4V3JhcCA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLndlYmtpdEZsZXhXcmFwID0gdmFsITtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBmbGV4R3JvdygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPyAodGhpcy5lbGVtZW50LnN0eWxlLmZsZXhHcm93IHx8ICcnKSA6ICcnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBmbGV4R3Jvdyh2YWw6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghIXZhbCkgdGhpcy5mbGV4ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZmxleEdyb3cgPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53ZWJraXRGbGV4R3JvdyA9IHZhbCE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5faW5uZXJFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5zdHlsZS5mbGV4R3JvdyA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLndlYmtpdEZsZXhHcm93ID0gdmFsITtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBmbGV4U2hyaW5rKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudCA/ICh0aGlzLmVsZW1lbnQuc3R5bGUuZmxleFNocmluayB8fCAnJykgOiAnJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZmxleFNocmluayh2YWw6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghIXZhbCkgdGhpcy5mbGV4ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZmxleFNocmluayA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndlYmtpdEZsZXhTaHJpbmsgPSB2YWwhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2lubmVyRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQuc3R5bGUuZmxleFNocmluayA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnN0eWxlLndlYmtpdEZsZXhTaHJpbmsgPSB2YWwhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHNjcm9sbCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbGFzcyA/IHRoaXMuY2xhc3MuY29udGFpbnMoJ3Njcm9sbGFibGUnKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBzY3JvbGwodmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xhc3MpIHRoaXMuY2xhc3MuYWRkKCdzY3JvbGxhYmxlJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGxldCBvYnNlcnZlclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX29ic2VydmVyQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLmVtaXQoJ25vZGVzQ2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ25vZGVzQ2hhbmdlZCcpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuX29ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fb2JzZXJ2ZXJDaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBzZWxmLl9vYnNlcnZlckNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KG9ic2VydmVyVGltZW91dCwgMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhcHBlbmQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGh0bWw6IGJvb2xlYW4gPSBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IG5vZGU6IEhUTUxFbGVtZW50ID0gaHRtbCA/IDxIVE1MRWxlbWVudD5lbGVtZW50IDogKDxFbGVtZW50PmVsZW1lbnQpLmVsZW1lbnQhO1xyXG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudCEuYXBwZW5kQ2hpbGQobm9kZSk7XHJcblxyXG4gICAgICAgIGlmICghaHRtbCkge1xyXG4gICAgICAgICAgICAoPEVsZW1lbnQ+ZWxlbWVudCkucGFyZW50ID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhcHBlbmQnLCBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhcHBlbmRCZWZvcmUoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50LCByZWZlcmVuY2U6IEhUTUxFbGVtZW50IHwgRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaHRtbDogYm9vbGVhbiA9IChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgIGxldCBub2RlOiBIVE1MRWxlbWVudCA9IGh0bWwgPyA8SFRNTEVsZW1lbnQ+ZWxlbWVudCA6ICg8RWxlbWVudD5lbGVtZW50KS5lbGVtZW50ITtcclxuXHJcbiAgICAgICAgaWYgKHJlZmVyZW5jZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHJlZmVyZW5jZSA9IHJlZmVyZW5jZS5lbGVtZW50O1xyXG5cclxuICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQhLmluc2VydEJlZm9yZShub2RlLCByZWZlcmVuY2UpO1xyXG5cclxuICAgICAgICBpZiAoIWh0bWwpIHtcclxuICAgICAgICAgICAgKDxFbGVtZW50PmVsZW1lbnQpLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYXBwZW5kJywgZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgYXBwZW5kQWZ0ZXIoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50LCByZWZlcmVuY2U6IEhUTUxFbGVtZW50IHwgRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaHRtbDogYm9vbGVhbiA9IChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgIGxldCBub2RlOiBIVE1MRWxlbWVudCA9IGh0bWwgPyA8SFRNTEVsZW1lbnQ+ZWxlbWVudCA6ICg8RWxlbWVudD5lbGVtZW50KS5lbGVtZW50ITtcclxuXHJcbiAgICAgICAgaWYgKHJlZmVyZW5jZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHJlZmVyZW5jZSA9IHJlZmVyZW5jZS5lbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAocmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lubmVyRWxlbWVudCEuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZmVyZW5jZS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50IS5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaHRtbCkge1xyXG4gICAgICAgICAgICAoPEVsZW1lbnQ+ZWxlbWVudCkucGFyZW50ID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhcHBlbmQnLCBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgcHJlcGVuZChlbGVtZW50OiBIVE1MRWxlbWVudCB8IEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZmlyc3QgPSB0aGlzLl9pbm5lckVsZW1lbnQhLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgbGV0IGh0bWw6IGJvb2xlYW4gPSAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcclxuICAgICAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQgPSBodG1sID8gPEhUTUxFbGVtZW50PmVsZW1lbnQgOiAoPEVsZW1lbnQ+ZWxlbWVudCkuZWxlbWVudCE7XHJcblxyXG4gICAgICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQhLmluc2VydEJlZm9yZShub2RlLCBmaXJzdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50IS5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaHRtbCkge1xyXG4gICAgICAgICAgICAoPEVsZW1lbnQ+ZWxlbWVudCkucGFyZW50ID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhcHBlbmQnLCBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyByZW1vdmUoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGh0bWw6IGJvb2xlYW4gPSAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcclxuICAgICAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQgPSBodG1sID8gPEhUTUxFbGVtZW50PmVsZW1lbnQgOiAoPEVsZW1lbnQ+ZWxlbWVudCkuZWxlbWVudCE7XHJcblxyXG4gICAgICAgIGlmICghbm9kZS5wYXJlbnRFbGVtZW50IHx8IG5vZGUucGFyZW50RWxlbWVudCAhPT0gdGhpcy5faW5uZXJFbGVtZW50KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5yZW1vdmVDaGlsZChub2RlKTtcclxuXHJcbiAgICAgICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICAgICAgICg8RWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZScsIGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gVE9ET++8muaAleS4jeWvuVxyXG4gICAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGVhcicpO1xyXG4gICAgICAgIGxldCBub2RlOiBIVE1MRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5faW5uZXJFbGVtZW50KTtcclxuICAgICAgICBsZXQgaTogbnVtYmVyID0gdGhpcy5faW5uZXJFbGVtZW50IS5jaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBub2RlID0gPEhUTUxFbGVtZW50Pih0aGlzLl9pbm5lckVsZW1lbnQhLmNoaWxkcmVuW2ldKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbm9kZS51aSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgbm9kZS51aS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudCEuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5faW5uZXJFbGVtZW50ISwgdGhpcy5fb2JzZXJ2ZXJPcHRpb25zKTtcclxuICAgIH07XHJcblxyXG5cclxufSIsImltcG9ydCB7IEV2ZW50cywgRXZlbnRIYW5kbGUgfSBmcm9tIFwiLi4vbGliXCI7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwiLi9saW5rXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRWxlbWVudCBleHRlbmRzIEV2ZW50cyB7XHJcblxyXG4gICAgcHJpdmF0ZSBfcGFyZW50OiBOdWxsYWJsZTxFbGVtZW50PiA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9kZXN0cm95ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgX2xpbms6IE51bGxhYmxlPExpbms+ID0gbnVsbDtcclxuICAgIC8qXHJcbiAgICAgIG9uIGdldCBzZXQgLnNjaGVtYS5oYXMgLnNjaGVtYS5nZXQgLmhpc3RvcnkgLmhpc3RvcnkuY29tYmluZSAuZW50aXR5XHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBfbGlua09uU2V0OiBOdWxsYWJsZTxFdmVudEhhbmRsZT4gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfbGlua09uVW5zZXQ6IE51bGxhYmxlPEV2ZW50SGFuZGxlPiA9IG51bGw7XHJcbiAgICBwdWJsaWMgcGF0aDogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgcHVibGljIHJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuICAgIC8vIFRPRE9cclxuICAgIC8vIC8vIHJlbmRlciBjaGFuZ2VzIG9ubHkgZnJvbSBuZXh0IHRpY2tzXHJcbiAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICBpZiAoc2VsZi5yZW5kZXJDaGFuZ2VzID09PSBudWxsKSBzZWxmLnJlbmRlckNoYW5nZXMgPSB0cnVlO1xyXG4gICAgLy8gfSwgMCk7XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVkQ2xpY2sgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2Rpc2FibGVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9kaXNhYmxlZFBhcmVudCA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgX2V2dFBhcmVudERlc3Ryb3k6IE51bGxhYmxlPEV2ZW50SGFuZGxlPiA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9ldnRQYXJlbnREaXNhYmxlOiBOdWxsYWJsZTxFdmVudEhhbmRsZT4gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfZXZ0UGFyZW50RW5hYmxlOiBOdWxsYWJsZTxFdmVudEhhbmRsZT4gPSBudWxsO1xyXG5cclxuICAgIC8vIHB1YmxpYyBnZXQgc2VsZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAvLyAgIHJldHVybiB0aGlzLmNsYXNzIS5jb250YWlucygnc2VsZWN0ZWQnKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBIVE1MRWxlbWVudCBcclxuICAgIHByaXZhdGUgX2VsZW1lbnQ6IE51bGxhYmxlPEhUTUxFbGVtZW50PiA9IG51bGw7XHJcbiAgICAvLyBwdWJsaWMgaW5uZXJFbGVtZW50OiBOdWxsYWJsZTxIVE1MRWxlbWVudD4gPSBudWxsO1xyXG4gICAgcHVibGljIGdldCBlbGVtZW50KCk6IE51bGxhYmxlPEhUTUxFbGVtZW50PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGVsZW1lbnQodmFsOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4pIHtcclxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdmFsO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQhLnVpID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICAvLyBjbGljayDkuovku7ZcclxuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5kaXNhYmxlZCAmJiAhc2VsZi5kaXNhYmxlZENsaWNrKSByZXR1cm47XHJcbiAgICAgICAgICAgIHNlbGYuZW1pdChcImNsaWNrXCIsIGV2dCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIC8vIGhvdmVyIOS6i+S7tlxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBzZWxmLmVtaXQoJ2hvdmVyJywgZXZ0KTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgLy8gYmx1ciDkuovku7bvvIxtb3VzZSBvdXRcclxuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBzZWxmLmVtaXQoJ2JsdXInLCBldnQpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gaWYgKCF0aGlzLmlubmVyRWxlbWVudCkgdGhpcy5pbm5lckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgcGFyZW50KCk6IE51bGxhYmxlPEVsZW1lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBwYXJlbnQodmFsOiBOdWxsYWJsZTxFbGVtZW50Pikge1xyXG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZXZ0UGFyZW50RGVzdHJveSEudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFBhcmVudERpc2FibGUhLnVuYmluZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9ldnRQYXJlbnRFbmFibGUhLnVuYmluZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFBhcmVudERlc3Ryb3kgPSB0aGlzLl9wYXJlbnQub25jZShcclxuICAgICAgICAgICAgICAgIFwiZGVzdHJveVwiLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50RGVzdHJveVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLl9ldnRQYXJlbnREaXNhYmxlID0gdGhpcy5fcGFyZW50Lm9uKFwiZGlzYWJsZVwiLCB0aGlzLl9wYXJlbnREaXNhYmxlKTtcclxuICAgICAgICAgICAgdGhpcy5fZXZ0UGFyZW50RW5hYmxlID0gdGhpcy5fcGFyZW50Lm9uKFwiZW5hYmxlXCIsIHRoaXMuX3BhcmVudEVuYWJsZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWRQYXJlbnQgIT09IHRoaXMuX3BhcmVudC5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZWRQYXJlbnQgPSB0aGlzLl9wYXJlbnQuZGlzYWJsZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZGlzYWJsZVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KFwiZW5hYmxlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KFwicGFyZW50XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkIHx8IHRoaXMuX2Rpc2FibGVkUGFyZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBkaXNhYmxlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQgPT09IHZhbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9kaXNhYmxlZCA9ICEhdmFsO1xyXG4gICAgICAgIHRoaXMuZW1pdCh0aGlzLl9kaXNhYmxlZCB8fCB0aGlzLl9kaXNhYmxlZFBhcmVudCA/ICdkaXNhYmxlJyA6ICdlbmFibGUnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkIHx8IHRoaXMuX2Rpc2FibGVkUGFyZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzKSB0aGlzLmNsYXNzLmFkZCgnZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGFzcykgdGhpcy5jbGFzcy5yZW1vdmUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgZGlzYWJsZWRTZWxmKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGVuYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLl9kaXNhYmxlZDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZW5hYmxlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLmRpc2FibGVkID0gIXZhbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhpZGRlbigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudCA/IHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBoaWRkZW4odmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgPT09ICEhdmFsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdoaWRlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdzaG93Jyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IGFueSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9saW5rKSByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgdmFsdWUodmFsOiBhbnkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2xpbmspIHJldHVybjtcclxuICAgICAgICB0aGlzLl9saW5rLnNldCh0aGlzLnBhdGgsIHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogRE9NIEVsZW1lbnQgKi9cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNsYXNzKCk6IE51bGxhYmxlPERPTVRva2VuTGlzdD4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzdHlsZSgpOiBOdWxsYWJsZTxDU1NTdHlsZURlY2xhcmF0aW9uPiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQuc3R5bGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZsZXgtZ3JvdyDlsZ7mgKfnlKjkuo7orr7nva7miJbmo4DntKLlvLnmgKfnm5LlrZDnmoTmianlsZXmr5TnjofvvIznlKjkvZxjc3PliqjnlLvmlYjmnpxcclxuICAgIHB1YmxpYyBnZXQgZmxleEdyb3coKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudCA/ICh0aGlzLl9lbGVtZW50LnN0eWxlLmZsZXhHcm93IHx8ICcnKSA6ICcnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBmbGV4R3Jvdyh2YWw6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZmxleEdyb3cgPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUud2Via2l0RmxleEdyb3cgPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGZsZXgtc2hyaW5rIOWxnuaAp+inhOWumumhueebruWwhuebuOWvueS6juWQjOS4gOWuueWZqOWGheWFtuS7lueBtea0u+eahOmhueebrui/m+ihjOaUtue8qeeahOmHj++8jOeUqOS9nGNzc+WKqOeUu+aViOaenFxyXG4gICAgcHVibGljIGdldCBmbGV4U2hyaW5rKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQgPyAodGhpcy5fZWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rIHx8ICcnKSA6ICcnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBmbGV4U2hyaW5rKHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5mbGV4U2hyaW5rID0gdmFsO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLndlYmtpdEZsZXhTaHJpbmsgPSB2YWwhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy8gdGhpcy5fZWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCApXHJcblxyXG4gICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XHJcbiAgICAgICAgLy8gbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vIHRoaXMuX3BhcmVudERlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICBzZWxmLmRlc3Ryb3koKTtcclxuICAgICAgICAvLyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOiuvue9ruWFg+e0oOmXqueDgeaViOaenFxyXG4gICAgcHVibGljIGZsYXNoKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmNsYXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MuYWRkKCdmbGFzaCcpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX29uRmxhc2hEZWxheSwgMjAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgX29uRmxhc2hEZWxheSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGFzcykge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzLnJlbW92ZSgnZmxhc2gnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpbmsobGluazogTGluaywgcGF0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fbGluaykgdGhpcy51bmxpbmsoKTtcclxuICAgICAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXQoXCJsaW5rXCIsIHBhdGgpO1xyXG5cclxuICAgICAgICAvLyBhZGQgOnNldCBsaW5rXHJcbiAgICAgICAgaWYgKHRoaXMuX29uTGlua0NoYW5nZSkge1xyXG4gICAgICAgICAgICBsZXQgcmVuZGVyQ2hhbmdlcyA9IHRoaXMucmVuZGVyQ2hhbmdlcztcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmtPblNldCA9IHRoaXMuX2xpbmsub24odGhpcy5wYXRoICsgXCI6c2V0XCIsIGZ1bmN0aW9uICh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9vbkxpbmtDaGFuZ2UodmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fbGlua09uVW5zZXQgPSB0aGlzLl9saW5rLm9uKHRoaXMucGF0aCArIFwiOnVuc2V0XCIsIGZ1bmN0aW9uICh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9vbkxpbmtDaGFuZ2UodmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fb25MaW5rQ2hhbmdlKHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNoYW5nZXMgPSByZW5kZXJDaGFuZ2VzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHB1YmxpYyB1bmxpbmsoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9saW5rKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChcInVubGlua1wiLCB0aGlzLnBhdGgpO1xyXG5cclxuICAgICAgICAvLyByZW1vdmUgOnNldCBsaW5rXHJcbiAgICAgICAgaWYgKHRoaXMuX2xpbmtPblNldCkge1xyXG4gICAgICAgICAgICB0aGlzLl9saW5rT25TZXQudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmtPblNldCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9saW5rT25VbnNldCEudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmtPblVuc2V0ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucGF0aCA9IFwiXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ldnRQYXJlbnREZXN0cm95IS51bmJpbmQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZXZ0UGFyZW50RGlzYWJsZSEudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFBhcmVudEVuYWJsZSEudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCAmJiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51bmxpbmsoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KCdkZXN0cm95Jyk7XHJcblxyXG4gICAgICAgIHRoaXMudW5iaW5kKCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ2Rlc3Ryb3knKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfcGFyZW50RGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfcGFyZW50RGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWRQYXJlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRQYXJlbnQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX2Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImRpc2FibGVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MhLmFkZChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfcGFyZW50RW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzYWJsZWRQYXJlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRQYXJlbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJlbmFibGVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uL2xpYlwiO1xyXG5pbXBvcnQgeyBUcmVlSXRlbSB9IGZyb20gXCIuL3RyZWUtaXRlbVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRJdGVtIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG4gICAgcHJpdmF0ZSBfY2xpY2tlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBfc2VsZWN0UGVuZGluZzogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgX3RvZ2dsZVNlbGVjdE9uQ2xpY2s6IGJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBfdGV4dDogc3RyaW5nO1xyXG4gICAgcHVibGljIGdldCB0ZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdmFsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHZhbDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLmlubmVySFRNTCA9IHRoaXMuX3RleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ET1xyXG4gICAgcHVibGljIGFzc2V0ITogT2JzZXJ2ZXI7XHJcbiAgICBwdWJsaWMgdHJlZSE6IFRyZWVJdGVtO1xyXG4gICAgcHVibGljIHRodW1ibmFpbD86IGFueTtcclxuICAgIHB1YmxpYyBsYWJlbEVsZW1lbnQ/OiBhbnk7XHJcbiAgICBwdWJsaWMgdXNlcnM/OiBhbnk7XHJcbiAgICBwdWJsaWMgc2NyaXB0PzogYW55O1xyXG5cclxuICAgIHByaXZhdGUgX3NlbGVjdGVkOiBib29sZWFuO1xyXG4gICAgcHVibGljIGdldCBzZWxlY3RlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IHNlbGVjdGVkKHZhbDogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZCA9PT0gdmFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuX3NlbGVjdFBlbmRpbmcgPSB2YWw7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLl9jbGlja2VkKVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdiZWZvcmUnICsgKHZhbCA/ICdTZWxlY3QnIDogJ0Rlc2VsZWN0JyksIHRoaXMsIHRoaXMuX2NsaWNrZWQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQgPT09IHRoaXMuX3NlbGVjdFBlbmRpbmcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWQgPSB0aGlzLl9zZWxlY3RQZW5kaW5nO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdCh0aGlzLnNlbGVjdGVkID8gJ3NlbGVjdCcgOiAnZGVzZWxlY3QnKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuc2VsZWN0ZWQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQodGhpcy5zZWxlY3RlZCA/ICdzZWxlY3QnIDogJ2Rlc2VsZWN0JywgdGhpcywgdGhpcy5fY2xpY2tlZCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzPzogR3JpZEl0ZW1BcmdzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBhcmdzID0gYXJncyB8fCB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IGFyZ3MudGV4dCB8fCAnJztcclxuICAgICAgICB0aGlzLl9zZWxlY3RQZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWQgPSBhcmdzLnNlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZVNlbGVjdE9uQ2xpY2sgPSBhcmdzICYmIGFyZ3MudG9nZ2xlU2VsZWN0T25DbGljayAhPT0gdW5kZWZpbmVkID8gYXJncy50b2dnbGVTZWxlY3RPbkNsaWNrIDogdHJ1ZTtcclxuICAgICAgICB0aGlzLl9jbGlja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnVpID0gdGhpcztcclxuICAgICAgICB0aGlzLmVsZW1lbnQudGFiSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1ncmlkLWl0ZW0nKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5fdGV4dDtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZXZ0Q2xpY2spO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSwgZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLm9uKCdzZWxlY3QnLCB0aGlzLl9vblNlbGVjdCk7XHJcbiAgICAgICAgdGhpcy5vbignZGVzZWxlY3QnLCB0aGlzLl9vbkRlc2VsZWN0KTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgX29uQ2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjbGljaycpO1xyXG4gICAgICAgIHRoaXMuX2NsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLl90b2dnbGVTZWxlY3RPbkNsaWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSAhdGhpcy5zZWxlY3RlZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vblNlbGVjdCgpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLmZvY3VzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX29uRGVzZWxlY3QoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5ibHVyKCk7XHJcbiAgICB9O1xyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkSXRlbUFyZ3Mge1xyXG4gICAgdGV4dD86IHN0cmluZztcclxuICAgIHNlbGVjdGVkPzogYm9vbGVhbjtcclxuICAgIHRvZ2dsZVNlbGVjdE9uQ2xpY2s/OiBib29sZWFuO1xyXG59IiwiaW1wb3J0IHsgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gXCIuL2NvbnRhaW5lci1lbGVtZW50XCI7XHJcbmltcG9ydCB7IEdyaWRJdGVtIH0gZnJvbSBcIi4vZ3JpZC1pdGVtXCI7XHJcbmltcG9ydCB7IEhvdGtleXMgfSBmcm9tIFwiLi4vZWRpdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZCBleHRlbmRzIENvbnRhaW5lckVsZW1lbnQge1xyXG5cclxuICAgIHB1YmxpYyBkcmFnT3ZlcjogYW55O1xyXG5cclxuICAgIHByaXZhdGUgX2xhc3RTZWxlY3Q6IE51bGxhYmxlPEdyaWRJdGVtPjtcclxuXHJcbiAgICBwcml2YXRlIF9zZWxlY3Rpbmc6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIF9tdWx0aVNlbGVjdDogYm9vbGVhbjtcclxuXHJcblxyXG4gICAgcHVibGljIGdldCBzZWxlY3RlZCgpOiBHcmlkSXRlbVtdIHtcclxuICAgICAgICB2YXIgaXRlbXM6IEdyaWRJdGVtW10gPSBbXTtcclxuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnQhLnF1ZXJ5U2VsZWN0b3JBbGwoJy51aS1ncmlkLWl0ZW0uc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgaXRlbXMucHVzaCg8R3JpZEl0ZW0+KCg8SFRNTEVsZW1lbnQ+ZWxlbWVudHNbaV0pLnVpKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBpdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IHNlbGVjdGVkKHZhbDogR3JpZEl0ZW1bXSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3RpbmcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fc2VsZWN0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gZGVzZWxlY3RpbmdcclxuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnNlbGVjdGVkO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHZhbCAmJiB2YWwuaW5kZXhPZihpdGVtc1tpXSkgIT09IC0xKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIGl0ZW1zW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXZhbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZWxlY3RpbmdcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIXZhbFtpXSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgdmFsW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NlbGVjdGluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihtdWx0aVNlbGVjdD86IGJvb2xlYW4pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC50YWJJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLWdyaWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbm5lckVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2xhc3RTZWxlY3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX211bHRpU2VsZWN0ID0gbXVsdGlTZWxlY3QgIT09IHVuZGVmaW5lZCA/IG11bHRpU2VsZWN0IDogdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5vbignc2VsZWN0JywgdGhpcy5fb25TZWxlY3QpO1xyXG4gICAgICAgIHRoaXMub24oJ2JlZm9yZURlc2VsZWN0JywgdGhpcy5fb25CZWZvcmVEZXNlbGVjdCk7XHJcblxyXG4gICAgICAgIHRoaXMub24oJ2FwcGVuZCcsIHRoaXMuX29uQXBwZW5kKTtcclxuICAgICAgICB0aGlzLm9uKCdyZW1vdmUnLCB0aGlzLl9vblJlbW92ZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgX2N0cmwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIEhvdGtleXMuY3RybDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIF9zaGlmdCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gSG90a2V5cy5zaGlmdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9vbkFwcGVuZCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25SZW1vdmUoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uU2VsZWN0KGl0ZW06IEdyaWRJdGVtKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGluZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fbXVsdGlTZWxlY3QgJiYgR3JpZC5fc2hpZnQgJiYgR3JpZC5fc2hpZnQoKSkge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmVsZW1lbnQhLmNoaWxkTm9kZXMsIDApO1xyXG5cclxuICAgICAgICAgICAgLy8gbXVsdGkgc2VsZWN0IGZyb20tdG9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2xhc3RTZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0SW5kID0gY2hpbGRyZW4uaW5kZXhPZih0aGlzLl9sYXN0U2VsZWN0LmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZEluZCA9IGNoaWxkcmVuLmluZGV4T2YoaXRlbS5lbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzd2FwIGlmIGJhY2t3YXJkc1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kID4gZW5kSW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBzdGFydEluZDtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydEluZCA9IGVuZEluZDtcclxuICAgICAgICAgICAgICAgICAgICBlbmRJbmQgPSB0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZDsgaSA8IGVuZEluZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbltpXSB8fCAhY2hpbGRyZW5baV0udWkgfHwgY2hpbGRyZW5baV0udWkuaGlkZGVuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5baV0udWkuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdFNlbGVjdCA9IGl0ZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX211bHRpU2VsZWN0ICYmIEdyaWQuX2N0cmwgJiYgR3JpZC5fY3RybCgpKSB7XHJcbiAgICAgICAgICAgIC8vIG11bHRpIHNlbGVjdFxyXG4gICAgICAgICAgICB0aGlzLl9sYXN0U2VsZWN0ID0gaXRlbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaW5nbGUgc2VsZWN0XHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZWxlbWVudCEucXVlcnlTZWxlY3RvckFsbCgnLnVpLWdyaWQtaXRlbS5zZWxlY3RlZCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5pdGVtc1tpXSkudWkgPT09IGl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAoPEdyaWRJdGVtPig8SFRNTEVsZW1lbnQ+aXRlbXNbaV0pLnVpKS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9sYXN0U2VsZWN0ID0gaXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX29uQmVmb3JlRGVzZWxlY3QoaXRlbTogR3JpZEl0ZW0pIHtcclxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0aW5nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuX3NlbGVjdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9tdWx0aVNlbGVjdCAmJiBHcmlkLl9zaGlmdCAmJiBHcmlkLl9zaGlmdCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RTZWxlY3QgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbXVsdGlTZWxlY3QgJiYgR3JpZC5fY3RybCAmJiBHcmlkLl9jdHJsKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdFNlbGVjdCA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5lbGVtZW50IS5xdWVyeVNlbGVjdG9yQWxsKCcudWktZ3JpZC1pdGVtLnNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+aXRlbXNbaV0pLnVpID09PSBpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAoPEdyaWRJdGVtPig8SFRNTEVsZW1lbnQ+aXRlbXNbaV0pLnVpKS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXRlbS5fc2VsZWN0UGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0U2VsZWN0ID0gaXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fc2VsZWN0aW5nID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBmaWx0ZXIoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICBpdGVtLmhpZGRlbiA9ICFmbihpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGZvckVhY2goZm46IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5lbGVtZW50IS5maXJzdENoaWxkO1xyXG4gICAgICAgIHdoaWxlIChjaGlsZCkge1xyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5jaGlsZCkudWkpXHJcbiAgICAgICAgICAgICAgICBmbigoPEhUTUxFbGVtZW50PmNoaWxkKS51aSk7XHJcblxyXG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuL2xhYmVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW1hZ2VGaWVsZCBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuICBwcml2YXRlIF92YWx1ZTogYW55O1xyXG5cclxuICBwdWJsaWMgZWxlbWVudEltYWdlOiBIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gIHB1YmxpYyBfbGFibGU6IE51bGxhYmxlPExhYmVsPiA9IG51bGw7XHJcblxyXG5cclxuICBwdWJsaWMgZ2V0IGltYWdlKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50SW1hZ2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKDxIVE1MSW1hZ2VFbGVtZW50PnRoaXMuZWxlbWVudEltYWdlKS5zcmM7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgaW1hZ2UodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnRJbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5lbGVtZW50SW1hZ2Uuc3JjID0gdmFsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBlbXB0eSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNsYXNzIS5jb250YWlucygnZW1wdHknKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBlbXB0eSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLmNsYXNzIS5jb250YWlucygnZW1wdHknKSA9PT0gISF2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLmFkZCgnZW1wdHknKTtcclxuICAgICAgdGhpcy5pbWFnZSA9ICcnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdlbXB0eScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2YWx1ZSgpOiBhbnkge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgdmFsdWUodmFsOiBhbnkpIHtcclxuICAgIHZhbCA9IHZhbCAmJiBwYXJzZUludCh2YWwpIHx8IG51bGw7XHJcblxyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgaWYgKCF0aGlzLl9saW5rLnNldCh0aGlzLnBhdGgsIHZhbCkpXHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuX3ZhbHVlID09PSB2YWwgJiYgIXRoaXMuY2xhc3MhLmNvbnRhaW5zKCdudWxsJykpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgdGhpcy5fdmFsdWUgPSB2YWw7XHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdmFsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoY2FudmFzPzogYm9vbGVhbikge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1pbWFnZS1maWVsZCcsICdlbXB0eScpO1xyXG5cclxuICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgdGhpcy5lbGVtZW50SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgdGhpcy5lbGVtZW50SW1hZ2Uud2lkdGggPSA2NDtcclxuICAgICAgdGhpcy5lbGVtZW50SW1hZ2UuaGVpZ2h0ID0gNjQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnRJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudEltYWdlLmNsYXNzTGlzdC5hZGQoJ3ByZXZpZXcnKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRJbWFnZSk7XHJcblxyXG4gICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG5cclxuICAgIC8vIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2V2dENsaWNrKTtcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgLy8gc3BhY2UgPiBjbGlja1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uQ2xpY2soZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICB0aGlzLmVtaXQoJ2NsaWNrJywgZXZ0KTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkNoYW5nZSgpIHtcclxuICAgIGlmICghdGhpcy5yZW5kZXJDaGFuZ2VzKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5mbGFzaCgpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uS2V5RG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIGlmIChldnQua2V5Q29kZSA9PT0gMjcpXHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQhLmJsdXIoKTtcclxuXHJcbiAgICBpZiAoZXZ0LmtleUNvZGUgIT09IDMyIHx8IHRoaXMuZGlzYWJsZWQpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuZW1pdCgncGljaycpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBhbnkpIHtcclxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbHVlKTtcclxuICB9O1xyXG5cclxufSIsImV4cG9ydCAqIGZyb20gJy4vdG9wL2luZGV4J1xyXG5leHBvcnQgKiBmcm9tICcuL2xpbmsnO1xyXG5leHBvcnQgKiBmcm9tICcuL2VsZW1lbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NvbnRhaW5lci1lbGVtZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi9wYW5lbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY2FudmFzJztcclxuZXhwb3J0ICogZnJvbSAnLi9idXR0b24nO1xyXG5leHBvcnQgKiBmcm9tICcuL2xhYmVsJztcclxuZXhwb3J0ICogZnJvbSAnLi90ZXh0LWZpZWxkJztcclxuZXhwb3J0ICogZnJvbSAnLi90ZXh0YXJlYS1maWVsZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHJlZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHJlZS1pdGVtJztcclxuZXhwb3J0ICogZnJvbSAnLi9saXN0JztcclxuZXhwb3J0ICogZnJvbSAnLi9saXN0LWl0ZW0nO1xyXG5leHBvcnQgKiBmcm9tICcuL2NoZWNrYm94JztcclxuZXhwb3J0ICogZnJvbSAnLi9idWJibGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL292ZXJsYXknO1xyXG5leHBvcnQgKiBmcm9tICcuL3Rvb2x0aXAnO1xyXG5leHBvcnQgKiBmcm9tICcuL3Byb2dyZXNzJztcclxuZXhwb3J0ICogZnJvbSAnLi9tZW51LWl0ZW0nO1xyXG5leHBvcnQgKiBmcm9tICcuL21lbnUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NvZGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NvbG9yLWZpZWxkJztcclxuZXhwb3J0ICogZnJvbSAnLi9ncmlkLWl0ZW0nO1xyXG5leHBvcnQgKiBmcm9tICcuL2dyaWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2ltYWdlLWZpZWxkJztcclxuZXhwb3J0ICogZnJvbSAnLi9udW1iZXItZmllbGQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NsaWRlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2VsZWN0LWZpZWxkJzsiLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSBcIi4vdG9vbHRpcFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExhYmVsIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG4gIHByaXZhdGUgX3RleHQ6IHN0cmluZztcclxuICBwdWJsaWMgZ2V0IHRleHQoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl9saW5rKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgdGV4dCh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgLy8gVE9ETyBcclxuICAgICAgdGhpcy5fbGluay5zZXQodGhpcy5wYXRoLCB2YWwpXHJcbiAgICAgIHZhbCA9IHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgICAgIHRoaXMuX3NldFRleHQodmFsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB2YWwpIHJldHVybjtcclxuXHJcbiAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwgPT09IG51bGwpIHtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gJyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHZhbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fc2V0VGV4dCh0aGlzLl90ZXh0KTtcclxuICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gaWYgdW5zYWZlIGlzIHRydWUgdGhlbiB1c2UgaW5uZXJIVE1MIGZvciB0aGVcclxuICAvLyBjb250ZW50c1xyXG4gIHByaXZhdGUgX3Vuc2FmZTogYm9vbGVhbjtcclxuXHJcbiAgcHVibGljIGdldCBwbGFjZWhvbGRlcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpIHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHBsYWNlaG9sZGVyKHZhbDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQhLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCB2YWwpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMudGV4dDtcclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgdGhpcy50ZXh0ID0gdmFsO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyB0b29sdGlwOiBOdWxsYWJsZTxUb29sdGlwPiA9IG51bGw7XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IodGV4dD86IHN0cmluZywgcGxhY2Vob2xkZXI/OiBzdHJpbmcsIHVuc2FmZT86IGJvb2xlYW4pIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5fdGV4dCA9IHRleHQgPyB0ZXh0IDogJyc7XHJcbiAgICB0aGlzLl91bnNhZmUgPSB1bnNhZmUgPyB1bnNhZmUgOiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndWktbGFiZWwnKTtcclxuXHJcbiAgICBpZiAodGhpcy5fdGV4dClcclxuICAgICAgdGhpcy5fc2V0VGV4dCh0aGlzLl90ZXh0KTtcclxuXHJcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZSk7XHJcblxyXG4gICAgaWYgKHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NldFRleHQodGV4dDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5fdW5zYWZlKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25DaGFuZ2UoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMucmVuZGVyQ2hhbmdlcylcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZmxhc2goKTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgX29uTGlua0NoYW5nZSh2YWx1ZTogYW55KSB7XHJcbiAgICB0aGlzLnRleHQgPSB2YWx1ZTtcclxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdmFsdWUpO1xyXG4gIH07XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vdWknO1xyXG5pbXBvcnQgeyBFdmVudEhhbmRsZSB9IGZyb20gJy4uL2xpYic7XHJcblxyXG4vLyBUT0RPXHJcbmV4cG9ydCBjbGFzcyBMaW5rIHtcclxuXHJcbiAgcHJpdmF0ZSBfZWxlbWVudDogRWxlbWVudDtcclxuXHJcbiAgcHJpdmF0ZSBfdmFsdWU6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuXHJcbiAgcHVibGljIGhpc3Rvcnk6IGFueTtcclxuXHJcbiAgcHVibGljIHNjaGVtYSE6IExpbmtTY2hlbWE7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihlbGU6IEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0KHBhdGg6IHN0cmluZyk6IGFueSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVbcGF0aF07XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPXHJcbiAgcHVibGljIHNldChwYXRoOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgIHRoaXMuX3ZhbHVlW3BhdGhdID0gdmFsdWU7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvbihuYW1lOiBzdHJpbmcsIGZuOiBGdW5jdGlvbik6IEV2ZW50SGFuZGxlIHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50Lm9uKG5hbWUsIGZuKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTGlua1NjaGVtYSB7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaGFzKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0KHBhdGg6IHN0cmluZyk6IGFueSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuL2VsZW1lbnRcIjtcclxuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vbGliXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdEl0ZW0gZXh0ZW5kcyBFbGVtZW50IHtcclxuXHJcbiAgICBwdWJsaWMgZW50aXR5PzogT2JzZXJ2ZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBfdGV4dDogc3RyaW5nO1xyXG4gICAgcHVibGljIGdldCB0ZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdmFsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHZhbDtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUZXh0LnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9zZWxlY3RlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBnZXQgc2VsZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBzZWxlY3RlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQgPT09IHZhbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9zZWxlY3RlZCA9IHZhbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVtaXQodGhpcy5zZWxlY3RlZCA/ICdzZWxlY3QnIDogJ2Rlc2VsZWN0Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCh0aGlzLnNlbGVjdGVkID8gJ3NlbGVjdCcgOiAnZGVzZWxlY3QnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLnNlbGVjdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9hbGxvd0Rlc2VsZWN0OiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyBlbGVtZW50VGV4dDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHRleHQ/OiBzdHJpbmcsIHNlbGVjdGVkPzogYm9vbGVhbiwgYWxsb3dEZXNlbGVjdD86IGJvb2xlYW4pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dCB8fCAnJztcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZCA9IHNlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2FsbG93RGVzZWxlY3QgPSBhbGxvd0Rlc2VsZWN0IHx8IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1saXN0LWl0ZW0nKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQudWkgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudFRleHQudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRUZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy5vbignY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfb25DbGljaygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hbGxvd0Rlc2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSBcIi4vY29udGFpbmVyLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgTGlzdEl0ZW0gfSBmcm9tIFwiLi9saXN0LWl0ZW1cIjtcclxuaW1wb3J0IHsgSG90a2V5cyB9IGZyb20gXCIuLi9lZGl0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0IGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XHJcblxyXG5cclxuICBwcml2YXRlIF9zZWxlY3RhYmxlOiBib29sZWFuO1xyXG4gIHB1YmxpYyBnZXQgc2VsZWN0YWJsZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RhYmxlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHNlbGVjdGFibGUodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5fc2VsZWN0YWJsZSA9PT0gISF2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9zZWxlY3RhYmxlID0gdmFsO1xyXG5cclxuICAgIGlmICh0aGlzLl9zZWxlY3RhYmxlKSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLmFkZCgnc2VsZWN0YWJsZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdzZWxlY3RhYmxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgX2NoYW5naW5nOiBib29sZWFuO1xyXG5cclxuICBwcml2YXRlIF9zZWxlY3RlZDogTGlzdEl0ZW1bXTtcclxuICBwdWJsaWMgZ2V0IHNlbGVjdGVkKCk6IExpc3RJdGVtW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkLnNsaWNlKDApO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHNlbGVjdGVkKHZhbDogTGlzdEl0ZW1bXSkge1xyXG4gICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlO1xyXG5cclxuICAgIC8vIGRlc2VsZWN0aW5nXHJcbiAgICBsZXQgaXRlbXM6IExpc3RJdGVtW10gPSB0aGlzLnNlbGVjdGVkO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodmFsLmluZGV4T2YoaXRlbXNbaV0pICE9PSAtMSlcclxuICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgIGl0ZW1zW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2VsZWN0aW5nXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YWxbaV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3Ioc2VsZWN0YWJsZT86IGJvb2xlYW4pIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1saXN0Jyk7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCA9IHRoaXMuZWxlbWVudDtcclxuXHJcbiAgICB0aGlzLl9zZWxlY3RhYmxlID0gc2VsZWN0YWJsZSB8fCB0cnVlO1xyXG5cclxuICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLl9zZWxlY3RlZCA9IFtdO1xyXG5cclxuICAgIHRoaXMub24oJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0KTtcclxuICAgIHRoaXMub24oJ2Rlc2VsZWN0JywgdGhpcy5fb25EZXNlbGVjdCk7XHJcbiAgICB0aGlzLm9uKCdhcHBlbmQnLCB0aGlzLl9vbkFwcGVuZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vblNlbGVjdChpdGVtOiBMaXN0SXRlbSk6IHZvaWQge1xyXG4gICAgbGV0IGluZDogbnVtYmVyID0gdGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmQgPT09IC0xKVxyXG4gICAgICB0aGlzLl9zZWxlY3RlZC5wdXNoKGl0ZW0pO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGFuZ2luZylcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmIChMaXN0Ll9jdHJsICYmIExpc3QuX2N0cmwoKSkge1xyXG5cclxuICAgIH0gZWxzZSBpZiAoTGlzdC5fc2hpZnQgJiYgTGlzdC5fc2hpZnQoKSAmJiB0aGlzLnNlbGVjdGVkLmxlbmd0aCkge1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2NoYW5naW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgIGxldCBpdGVtczogTGlzdEl0ZW1bXSA9IHRoaXMuc2VsZWN0ZWQ7XHJcblxyXG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChpdGVtc1tpXSA9PT0gaXRlbSlcclxuICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgaXRlbXNbaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBfb25EZXNlbGVjdChpdGVtOiBMaXN0SXRlbSk6IHZvaWQge1xyXG4gICAgbGV0IGluZDogbnVtYmVyID0gdGhpcy5fc2VsZWN0ZWQuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmQgIT09IC0xKSB0aGlzLl9zZWxlY3RlZC5zcGxpY2UoaW5kLCAxKTtcclxuXHJcbiAgICBpZiAodGhpcy5fY2hhbmdpbmcpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAoTGlzdC5fY3RybCAmJiBMaXN0Ll9jdHJsKCkpIHtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jaGFuZ2luZyA9IHRydWU7XHJcblxyXG4gICAgICBsZXQgaXRlbXM6IExpc3RJdGVtW10gPSB0aGlzLnNlbGVjdGVkO1xyXG5cclxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICBpdGVtc1tpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fY2hhbmdpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25BcHBlbmQoaXRlbTogTGlzdEl0ZW0pOiB2b2lkIHtcclxuICAgIGlmICghaXRlbS5zZWxlY3RlZClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGxldCBpbmQgPSB0aGlzLl9zZWxlY3RlZC5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZCA9PT0gLTEpIHRoaXMuX3NlbGVjdGVkLnB1c2goaXRlbSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9zZWxlY3RlZCA9IFtdO1xyXG4gICAgQ29udGFpbmVyRWxlbWVudC5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgX2N0cmwoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gSG90a2V5cy5jdHJsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBfc2hpZnQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gSG90a2V5cy5zaGlmdDtcclxuICB9XHJcblxyXG59IiwiaW1wb3J0IHsgQ29udGFpbmVyRWxlbWVudCB9IGZyb20gJy4vY29udGFpbmVyLWVsZW1lbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVJdGVtIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XHJcblxyXG5cclxuICBwcml2YXRlIF9oYXNDaGlsZHJlbjogYm9vbGVhbjtcclxuICBwcml2YXRlIF9jbGlja2FibGVTdWJtZW51czogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX2NvbnRhaW5lcjogYm9vbGVhbjtcclxuXHJcbiAgcHVibGljIF9pbmRleDogeyBba2V5OiBzdHJpbmddOiBNZW51SXRlbSB9ID0ge307XHJcblxyXG4gIHB1YmxpYyBlbGVtZW50VGl0bGU6IEhUTUxFbGVtZW50O1xyXG4gIHB1YmxpYyBlbGVtZW50SWNvbjogTnVsbGFibGU8SFRNTEVsZW1lbnQ+O1xyXG4gIHB1YmxpYyBlbGVtZW50VGV4dDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgX3ZhbHVlOiBzdHJpbmc7XHJcbiAgcHVibGljIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHZhbHVlKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5fdmFsdWUgPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGxldCB2YWx1ZU9sZCA9IHRoaXMuX3ZhbHVlO1xyXG4gICAgdGhpcy5fdmFsdWUgPSB2YWw7XHJcbiAgICB0aGlzLmVtaXQoJ3ZhbHVlJywgdmFsLCB2YWx1ZU9sZCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHRleHQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnRUZXh0LnRleHRDb250ZW50IHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnRUZXh0LnRleHRDb250ZW50ID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRUZXh0LnRleHRDb250ZW50ID0gdmFsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpY29uKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50SWNvbiAhPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50SWNvbi50ZXh0Q29udGVudCB8fCAnJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCBpY29uKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAoKCF2YWwgJiYgIXRoaXMuZWxlbWVudEljb24pIHx8ICh0aGlzLmVsZW1lbnRJY29uICYmIHRoaXMuZWxlbWVudEljb24udGV4dENvbnRlbnQgPT09IHZhbCkpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAoIXZhbCkge1xyXG4gICAgICBpZiAodGhpcy5lbGVtZW50SWNvbiAmJiB0aGlzLmVsZW1lbnRJY29uLnBhcmVudE5vZGUpXHJcbiAgICAgICAgdGhpcy5lbGVtZW50SWNvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudEljb24pO1xyXG4gICAgICB0aGlzLmVsZW1lbnRJY29uID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5lbGVtZW50SWNvbikge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50SWNvbi5jbGFzc0xpc3QuYWRkKCdpY29uJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudEljb24sIHRoaXMuZWxlbWVudFRleHQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmVsZW1lbnRJY29uLmlubmVySFRNTCA9IHZhbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzPzogTWVudUl0ZW1BcmdzKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG4gICAgdGhpcy5fdmFsdWUgPSBhcmdzLnZhbHVlIHx8ICcnO1xyXG4gICAgdGhpcy5faGFzQ2hpbGRyZW4gPSBhcmdzLmhhc0NoaWxkcmVuIHx8IGZhbHNlO1xyXG4gICAgdGhpcy5fY2xpY2thYmxlU3VibWVudXMgPSBhcmdzLmNsaWNrYWJsZVN1Ym1lbnVzIHx8IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLW1lbnUtaXRlbScpO1xyXG5cclxuICAgIGlmIChhcmdzLmNsYXNzTmFtZSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChhcmdzLmNsYXNzTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS51aSA9IHRoaXM7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50VGl0bGUpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudEljb24gPSBudWxsO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRUZXh0LmNsYXNzTGlzdC5hZGQoJ3RleHQnKTtcclxuICAgIHRoaXMuZWxlbWVudFRleHQudGV4dENvbnRlbnQgPSBhcmdzLnRleHQgfHwgJ1VudGl0bGVkJztcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudFRleHQpO1xyXG5cclxuICAgIHRoaXMuaW5uZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb250ZW50Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5pbm5lckVsZW1lbnQpO1xyXG5cclxuICAgIHRoaXMuX2luZGV4ID0ge307XHJcblxyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX29uTW91c2VFbnRlci5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQsIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5vbignb3ZlcicsIHRoaXMuX29uT3Zlci5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMub24oJ3NlbGVjdC1wcm9wYWdhdGUnLCB0aGlzLl9vblNlbGVjdFByb3BhZ2F0ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMub24oJ2FwcGVuZCcsIHRoaXMuX29uQXBwZW5kLmJpbmQodGhpcykpO1xyXG5cclxuICAgIGlmIChhcmdzLmljb24pXHJcbiAgICAgIHRoaXMuaWNvbiA9IGFyZ3MuaWNvbjtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBfb25Nb3VzZUVudGVyKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcbiAgICAoPE1lbnVJdGVtPihodG1sRWxlLnVpKSkucGFyZW50IS5lbWl0KCdvdmVyJywgW3RoaXMuX3ZhbHVlXSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vblRvdWNoU3RhcnQoZXZ0OiBUb3VjaEV2ZW50KTogdm9pZCB7XHJcbiAgICBsZXQgaXRlbTogTWVudUl0ZW0gPSAoPE1lbnVJdGVtPig8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkudWkpO1xyXG5cclxuICAgIGlmICghaXRlbS5wYXJlbnQgfHwgaXRlbS5kaXNhYmxlZClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICghaXRlbS5fY29udGFpbmVyIHx8IGl0ZW0uY2xhc3MhLmNvbnRhaW5zKCdob3ZlcicpKSB7XHJcbiAgICAgIGl0ZW0uZW1pdCgnc2VsZWN0JywgaXRlbS5fdmFsdWUsIGl0ZW0uX2hhc0NoaWxkcmVuKTtcclxuICAgICAgaXRlbS5wYXJlbnQuZW1pdCgnc2VsZWN0LXByb3BhZ2F0ZScsIFtpdGVtLl92YWx1ZV0sIGl0ZW0uX2hhc0NoaWxkcmVuKTtcclxuICAgICAgaXRlbS5jbGFzcyEucmVtb3ZlKCdob3ZlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaXRlbS5wYXJlbnQuZW1pdCgnb3ZlcicsIFtpdGVtLl92YWx1ZV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25Ub3VjaEVuZChldnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcclxuICAgIGxldCBpdGVtOiBNZW51SXRlbSA9ICg8TWVudUl0ZW0+KDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0KS51aSk7XHJcblxyXG4gICAgaWYgKCFpdGVtLnBhcmVudCB8fCBpdGVtLmRpc2FibGVkKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNsaWNrKCk6IHZvaWQge1xyXG5cclxuICAgIGlmICghdGhpcy5wYXJlbnQgfHwgdGhpcy5kaXNhYmxlZClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZW1pdCgnc2VsZWN0JywgdGhpcy5fdmFsdWUsIHRoaXMuX2hhc0NoaWxkcmVuKTtcclxuICAgIHRoaXMucGFyZW50LmVtaXQoJ3NlbGVjdC1wcm9wYWdhdGUnLCBbdGhpcy5fdmFsdWVdLCB0aGlzLl9oYXNDaGlsZHJlbik7XHJcblxyXG4gICAgaWYgKCF0aGlzLl9jbGlja2FibGVTdWJtZW51cyB8fCAhdGhpcy5faGFzQ2hpbGRyZW4pIHtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdob3ZlcicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25PdmVyKHBhdGg6IHN0cmluZ1tdKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMucGFyZW50KVxyXG4gICAgICByZXR1cm47XHJcbiAgICBwYXRoLnNwbGljZSgwLCAwLCB0aGlzLl92YWx1ZSk7XHJcbiAgICB0aGlzLnBhcmVudC5lbWl0KCdvdmVyJywgcGF0aCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vblNlbGVjdFByb3BhZ2F0ZShwYXRoOiBzdHJpbmdbXSwgc2VsZWN0ZWRJdGVtSGFzQ2hpbGRyZW46IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5wYXJlbnQpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBwYXRoLnNwbGljZSgwLCAwLCB0aGlzLl92YWx1ZSk7XHJcbiAgICB0aGlzLnBhcmVudC5lbWl0KCdzZWxlY3QtcHJvcGFnYXRlJywgcGF0aCwgc2VsZWN0ZWRJdGVtSGFzQ2hpbGRyZW4pO1xyXG5cclxuICAgIGlmICghdGhpcy5fY2xpY2thYmxlU3VibWVudXMgfHwgIXNlbGVjdGVkSXRlbUhhc0NoaWxkcmVuKSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnaG92ZXInKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uQXBwZW5kKGl0ZW06IE1lbnVJdGVtKSB7XHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5fY29udGFpbmVyID0gdHJ1ZTtcclxuICAgIHRoaXMuY2xhc3MhLmFkZCgnY29udGFpbmVyJyk7XHJcblxyXG4gICAgdGhpcy5faW5kZXhbaXRlbS52YWx1ZV0gPSBpdGVtO1xyXG5cclxuICAgIGl0ZW0ub24oJ3ZhbHVlJywgZnVuY3Rpb24gKHZhbHVlOiBzdHJpbmcsIHZhbHVlT2xkOiBzdHJpbmcpIHtcclxuICAgICAgZGVsZXRlIHNlbGYuX2luZGV4W3ZhbHVlT2xkXTtcclxuICAgICAgc2VsZi5faW5kZXhbdmFsdWVdID0gaXRlbTtcclxuICAgIH0pO1xyXG4gICAgaXRlbS5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBkZWxldGUgc2VsZi5faW5kZXhbaXRlbS52YWx1ZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZW51SXRlbUFyZ3Mge1xyXG4gIHRleHQ/OiBzdHJpbmc7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIHZhbHVlPzogc3RyaW5nO1xyXG4gIGljb24/OiBzdHJpbmc7XHJcbiAgaGFzQ2hpbGRyZW4/OiBib29sZWFuO1xyXG4gIGNsaWNrYWJsZVN1Ym1lbnVzPzogYm9vbGVhbjtcclxufSIsImltcG9ydCB7IENvbnRhaW5lckVsZW1lbnQgfSBmcm9tIFwiLi9jb250YWluZXItZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL21lbnUtaXRlbVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnUgZXh0ZW5kcyBDb250YWluZXJFbGVtZW50IHtcclxuXHJcblxyXG4gIHB1YmxpYyBlbGVtZW50T3ZlcmxheTogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBfY2xpY2thYmxlU3VibWVudXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIF9ob3ZlcmVkOiBNZW51SXRlbVtdID0gW107XHJcbiAgcHVibGljIF9pbmRleDogeyBba2V5OiBzdHJpbmddOiBNZW51SXRlbSB9ID0ge307XHJcblxyXG5cclxuICBwdWJsaWMgZ2V0IG9wZW4oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jbGFzcyEuY29udGFpbnMoJ29wZW4nKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBvcGVuKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdvcGVuJykgPT09ICEhdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ29wZW4nKTtcclxuICAgICAgdGhpcy5lbGVtZW50IS5mb2N1cygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbWl0KCdvcGVuJywgISF2YWwpO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzPzogYW55KSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LnRhYkluZGV4ID0gMTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS1tZW51Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheS51aSA9IHRoaXM7XHJcbiAgICB0aGlzLmVsZW1lbnRPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ292ZXJsYXknKTtcclxuICAgIHRoaXMuZWxlbWVudE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudE92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9vbkNvbnRleHRNZW51LmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRPdmVybGF5KTtcclxuXHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW5uZXInKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyRWxlbWVudCk7XHJcblxyXG4gICAgLy8gdGhpcy5faW5kZXggPSB7IH07XHJcbiAgICAvLyB0aGlzLl9ob3ZlcmVkID0gWyBdO1xyXG4gICAgdGhpcy5fY2xpY2thYmxlU3VibWVudXMgPSBhcmdzLmNsaWNrYWJsZVN1Ym1lbnVzO1xyXG5cclxuICAgIHRoaXMub24oJ3NlbGVjdC1wcm9wYWdhdGUnLCB0aGlzLl9vblNlbGVjdFByb3BhZ2F0ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMub24oJ2FwcGVuZCcsIHRoaXMuX29uQXBwZW5kLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5vbignb3ZlcicsIHRoaXMuX29uT3Zlci5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMub24oJ29wZW4nLCB0aGlzLl9vbk9wZW4uYmluZCh0aGlzKSk7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25DbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25Db250ZXh0TWVudSgpOiB2b2lkIHtcclxuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMub3BlbiAmJiBldnQua2V5Q29kZSA9PT0gMjcpXHJcbiAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25BcHBlbmQoaXRlbTogTWVudUl0ZW0pIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuX2luZGV4W2l0ZW0udmFsdWVdID0gaXRlbTtcclxuXHJcbiAgICBpdGVtLm9uKCd2YWx1ZScsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nLCB2YWx1ZU9sZDogc3RyaW5nKSB7XHJcbiAgICAgIGRlbGV0ZSBzZWxmLl9pbmRleFt2YWx1ZU9sZF07XHJcbiAgICAgIHNlbGYuX2luZGV4W3ZhbHVlXSA9IGl0ZW07XHJcbiAgICB9KTtcclxuICAgIGl0ZW0ub25jZSgnZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgZGVsZXRlIHNlbGYuX2luZGV4W2l0ZW0udmFsdWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbk92ZXIocGF0aDogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgIHRoaXMuX3VwZGF0ZVBhdGgocGF0aCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbk9wZW4oc3RhdGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGlmIChzdGF0ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5fdXBkYXRlUGF0aChbXSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vblNlbGVjdFByb3BhZ2F0ZShwYXRoOiBzdHJpbmdbXSwgc2VsZWN0ZWRJdGVtSGFzQ2hpbGRyZW46IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9jbGlja2FibGVTdWJtZW51cyAmJiBzZWxlY3RlZEl0ZW1IYXNDaGlsZHJlbikge1xyXG4gICAgICB0aGlzLl91cGRhdGVQYXRoKHBhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZW1pdChwYXRoLmpvaW4oJy4nKSArICc6c2VsZWN0JywgcGF0aCk7XHJcbiAgICAgIHRoaXMuZW1pdCgnc2VsZWN0JywgcGF0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZmluZEJ5UGF0aChwYXRoOiBzdHJpbmdbXSB8IHN0cmluZyk6IE51bGxhYmxlPE1lbnVJdGVtPiB7XHJcbiAgICBpZiAoIShwYXRoIGluc3RhbmNlb2YgQXJyYXkpKVxyXG4gICAgICBwYXRoID0gcGF0aC5zcGxpdCgnLicpO1xyXG5cclxuICAgIGxldCBpdGVtOiBOdWxsYWJsZTxNZW51SXRlbT4gPSBudWxsO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgIGl0ZW0gPSB0aGlzLl9pbmRleFtwYXRoW2ldXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpdGVtID0gaXRlbSEuX2luZGV4W3BhdGhbaV1dO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghaXRlbSlcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXRlbTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3VwZGF0ZVBhdGgocGF0aDogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgIGxldCBub2RlOiBOdWxsYWJsZTxNZW51SXRlbT47XHJcblxyXG4gICAgLy8g5oqK5LmL5YmNaG92ZXLnmoTlj5bmtohcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faG92ZXJlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBub2RlID0gdGhpcy5faG92ZXJlZFtpXTtcclxuICAgICAgaWYgKCFub2RlKSBjb250aW51ZTtcclxuICAgICAgLy8gaWYgKHBhdGgubGVuZ3RoIDw9IGkgfHwgcGF0aFtpXSAhPT0gdGhpcy5faG92ZXJlZFtpXSkge1xyXG4gICAgICBub2RlLmNsYXNzIS5yZW1vdmUoJ2hvdmVyJyk7XHJcbiAgICAgIG5vZGUuaW5uZXJFbGVtZW50IS5zdHlsZS50b3AgPSAnJztcclxuICAgICAgbm9kZS5pbm5lckVsZW1lbnQhLnN0eWxlLmxlZnQgPSAnJztcclxuICAgICAgbm9kZS5pbm5lckVsZW1lbnQhLnN0eWxlLnJpZ2h0ID0gJyc7XHJcbiAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9ob3ZlcmVkID0gW107XHJcbiAgICAvLyBub2RlID0gdGhpcztcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbm9kZSA9IHRoaXMuZmluZEJ5UGF0aChwYXRoLnNsaWNlKDAsIGkgKyAxKSk7XHJcblxyXG4gICAgICBpZiAoIW5vZGUpXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICB0aGlzLl9ob3ZlcmVkLnB1c2gobm9kZSk7XHJcblxyXG4gICAgICBub2RlLmNsYXNzIS5hZGQoJ2hvdmVyJyk7XHJcbiAgICAgIG5vZGUuaW5uZXJFbGVtZW50IS5zdHlsZS50b3AgPSAnJztcclxuICAgICAgbm9kZS5pbm5lckVsZW1lbnQhLnN0eWxlLmxlZnQgPSAnJztcclxuICAgICAgbm9kZS5pbm5lckVsZW1lbnQhLnN0eWxlLnJpZ2h0ID0gJyc7XHJcblxyXG4gICAgICBsZXQgcmVjdCA9IG5vZGUuaW5uZXJFbGVtZW50IS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgIC8vIGxpbWl0IHRvIGJvdHRvbSAvIHRvcCBvZiBzY3JlZW5cclxuICAgICAgaWYgKHJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgICAgbm9kZS5pbm5lckVsZW1lbnQhLnN0eWxlLnRvcCA9IC0ocmVjdC5ib3R0b20gLSB3aW5kb3cuaW5uZXJIZWlnaHQpICsgJ3B4JztcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVjdC5yaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoKSB7XHJcbiAgICAgICAgbm9kZS5pbm5lckVsZW1lbnQhLnN0eWxlLmxlZnQgPSAnYXV0byc7XHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIG5vZGUuaW5uZXJFbGVtZW50IS5zdHlsZS5yaWdodCA9IChub2RlLnBhcmVudCEuZWxlbWVudCEuY2xpZW50V2lkdGgpICsgJ3B4JztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBwb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCEuc3R5bGUud2lkdGggPSAnMTU4cHgnO1xyXG4gICAgbGV0IHJlY3QgPSB0aGlzLmlubmVyRWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgbGVmdCA9ICh4IHx8IDApO1xyXG4gICAgbGV0IHRvcCA9ICh5IHx8IDApO1xyXG5cclxuICAgIC8vIGxpbWl0IHRvIGJvdHRvbSAvIHRvcCBvZiBzY3JlZW5cclxuICAgIGlmICh0b3AgKyByZWN0LmhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xyXG4gICAgICB0b3AgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSByZWN0LmhlaWdodDtcclxuICAgIH0gZWxzZSBpZiAodG9wIDwgMCkge1xyXG4gICAgICB0b3AgPSAwO1xyXG4gICAgfVxyXG4gICAgaWYgKGxlZnQgKyByZWN0LndpZHRoID4gd2luZG93LmlubmVyV2lkdGgpIHtcclxuICAgICAgbGVmdCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC53aWR0aDtcclxuICAgIH0gZWxzZSBpZiAobGVmdCA8IDApIHtcclxuICAgICAgbGVmdCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQhLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcclxuICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNyZWF0ZUl0ZW0oa2V5OiBzdHJpbmcsIGRhdGE6IGFueSk6IE1lbnVJdGVtIHtcclxuICAgIGxldCBpdGVtID0gbmV3IE1lbnVJdGVtKHtcclxuICAgICAgdGV4dDogZGF0YS50aXRsZSB8fCBrZXksXHJcbiAgICAgIGNsYXNzTmFtZTogZGF0YS5jbGFzc05hbWUgfHwgbnVsbCxcclxuICAgICAgdmFsdWU6IGtleSxcclxuICAgICAgaWNvbjogZGF0YS5pY29uLFxyXG4gICAgICBoYXNDaGlsZHJlbjogISEoZGF0YS5pdGVtcyAmJiBPYmplY3Qua2V5cyhkYXRhLml0ZW1zKS5sZW5ndGggPiAwKSxcclxuICAgICAgY2xpY2thYmxlU3VibWVudXM6IHRoaXMuX2NsaWNrYWJsZVN1Ym1lbnVzXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZGF0YS5zZWxlY3QpIHtcclxuICAgICAgaXRlbS5vbignc2VsZWN0JywgZGF0YS5zZWxlY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhLmZpbHRlcikge1xyXG4gICAgICB0aGlzLm9uKCdvcGVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGl0ZW0uZW5hYmxlZCA9IGRhdGEuZmlsdGVyKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhLmhpZGUpIHtcclxuICAgICAgdGhpcy5vbignb3BlbicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpdGVtLmhpZGRlbiA9IGRhdGEuaGlkZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXRlbTtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgc3RhdGljIGZyb21EYXRhKGRhdGE6IGFueSwgYXJnczogYW55KSB7XHJcbiAgICBsZXQgbWVudSA9IG5ldyBNZW51KGFyZ3MpO1xyXG5cclxuICAgIGxldCBsaXN0SXRlbXMgPSBmdW5jdGlvbiAoZGF0YTogYW55LCBwYXJlbnQ6IENvbnRhaW5lckVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IG1lbnUuY3JlYXRlSXRlbShrZXksIGRhdGFba2V5XSk7XHJcbiAgICAgICAgcGFyZW50LmFwcGVuZChpdGVtKTtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oaXRlbS5wYXJlbnQpO1xyXG4gICAgICAgIGlmIChkYXRhW2tleV0uaXRlbXMpXHJcbiAgICAgICAgICBsaXN0SXRlbXMoZGF0YVtrZXldLml0ZW1zLCBpdGVtKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsaXN0SXRlbXMoZGF0YSwgbWVudSk7XHJcblxyXG4gICAgcmV0dXJuIG1lbnU7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTnVtYmVyRmllbGQgZXh0ZW5kcyBFbGVtZW50IHtcclxuXHJcbiAgcHVibGljIHByZWNpc2lvbjogTnVsbGFibGU8bnVtYmVyPjtcclxuICBwdWJsaWMgc3RlcDogTnVsbGFibGU8bnVtYmVyPjtcclxuICBwdWJsaWMgbWF4OiBOdWxsYWJsZTxudW1iZXI+O1xyXG4gIHB1YmxpYyBtaW46IE51bGxhYmxlPG51bWJlcj47XHJcblxyXG4gIHB1YmxpYyBhbGxvd051bGw6IGJvb2xlYW47XHJcblxyXG4gIHB1YmxpYyBlbGVtZW50SW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgX2xhc3RWYWx1ZTogbnVtYmVyID0gLTE7XHJcblxyXG4gIHB1YmxpYyBibHVyT25FbnRlcjogYm9vbGVhbjtcclxuICBwdWJsaWMgcmVmb2N1c2FibGU6IGJvb2xlYW47XHJcbiAgcHVibGljIF9kcmFnZ2luZzogYm9vbGVhbjtcclxuXHJcbiAgcHJpdmF0ZSBfZHJhZ0RpZmY6IG51bWJlcjtcclxuICBwcml2YXRlIF9kcmFnU3RhcnQ6IG51bWJlcjtcclxuXHJcbiAgcHVibGljIGdldCB2YWx1ZSgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50SW5wdXQudmFsdWUgIT09ICcnID8gcGFyc2VGbG9hdCh0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSkgOiAtMTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IG51bWJlcikge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgaWYgKCF0aGlzLl9saW5rLnNldCh0aGlzLnBhdGgsIHZhbCkpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9IHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh2YWwgIT09IG51bGwpIHtcclxuICAgICAgICBpZiAodGhpcy5tYXggIT09IG51bGwgJiYgdGhpcy5tYXggPCB2YWwpXHJcbiAgICAgICAgICB2YWwgPSB0aGlzLm1heDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWluICE9PSBudWxsICYmIHRoaXMubWluID4gdmFsKVxyXG4gICAgICAgICAgdmFsID0gdGhpcy5taW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhbCA9ICh2YWwgIT09IG51bGwgJiYgdmFsICE9PSB1bmRlZmluZWQgJiYgKHRoaXMucHJlY2lzaW9uICE9PSBudWxsKSA/IHBhcnNlRmxvYXQodmFsLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pKSA6IHZhbCk7XHJcbiAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZClcclxuICAgICAgICB2YWwgPSAtMTtcclxuXHJcbiAgICAgIGxldCBkaWZmZXJlbnQgPSB0aGlzLl9sYXN0VmFsdWUgIT09IHZhbDtcclxuICAgICAgdGhpcy5fbGFzdFZhbHVlID0gdmFsO1xyXG4gICAgICB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9IHZhbC50b1N0cmluZygpO1xyXG5cclxuICAgICAgaWYgKGRpZmZlcmVudCkge1xyXG4gICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdmFsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwbGFjZWhvbGRlcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpIHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHBsYWNlaG9sZGVyKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnJlbW92ZUF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHByb3h5KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50IS5nZXRBdHRyaWJ1dGUoJ3Byb3h5JykgfHwgJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgcHJveHkodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICghdmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEucmVtb3ZlQXR0cmlidXRlKCdwcm94eScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zZXRBdHRyaWJ1dGUoJ3Byb3h5JywgdmFsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoYXJncz86IE51bWJlckZpZWxkQXJncykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcclxuXHJcbiAgICB0aGlzLnByZWNpc2lvbiA9IChhcmdzLnByZWNpc2lvbiAhPT0gdW5kZWZpbmVkKSA/IGFyZ3MucHJlY2lzaW9uIDogbnVsbDtcclxuICAgIHRoaXMuc3RlcCA9IChhcmdzLnN0ZXAgIT0gdW5kZWZpbmVkKSA/IGFyZ3Muc3RlcCA6ICgoYXJncy5wcmVjaXNpb24gIT0gbnVsbCkgPyAxIC8gTWF0aC5wb3coMTAsIGFyZ3MucHJlY2lzaW9uKSA6IDEpO1xyXG5cclxuICAgIHRoaXMubWF4ID0gKGFyZ3MubWF4ICE9PSB1bmRlZmluZWQpID8gYXJncy5tYXggOiBudWxsO1xyXG4gICAgdGhpcy5taW4gPSAoYXJncy5taW4gIT09IHVuZGVmaW5lZCkgPyBhcmdzLm1pbiA6IG51bGw7XHJcblxyXG4gICAgdGhpcy5hbGxvd051bGwgPSAhIWFyZ3MuYWxsb3dOdWxsO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLW51bWJlci1maWVsZCcpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnVpID0gdGhpcztcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnRhYkluZGV4ID0gMDtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmNsYXNzTGlzdC5hZGQoJ2ZpZWxkJyk7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9vbklucHV0Rm9jdXMuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uSW5wdXRCbHVyLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLl9vbkZ1bGxTZWxlY3QuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9vbkZ1bGxTZWxlY3QuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudElucHV0KTtcclxuXHJcbiAgICBpZiAoYXJncy5kZWZhdWx0ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgIHRoaXMudmFsdWUgPSBhcmdzLmRlZmF1bHQ7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgLy8gdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAvLyB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5ibHVyT25FbnRlciA9IHRydWU7XHJcbiAgICB0aGlzLnJlZm9jdXNhYmxlID0gdHJ1ZTtcclxuXHJcbiAgICB0aGlzLl9sYXN0VmFsdWUgPSB0aGlzLnZhbHVlO1xyXG4gICAgLy8gdGhpcy5fbW91c2VNb3ZlID0gbnVsbDtcclxuICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLl9kcmFnRGlmZiA9IDA7XHJcbiAgICB0aGlzLl9kcmFnU3RhcnQgPSAwO1xyXG5cclxuICAgIHRoaXMub24oJ2Rpc2FibGUnLCB0aGlzLl9vbkRpc2FibGUpO1xyXG4gICAgdGhpcy5vbignZW5hYmxlJywgdGhpcy5fb25FbmFibGUpO1xyXG4gICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VGaWVsZCk7XHJcblxyXG4gICAgaWYgKGFyZ3MucGxhY2Vob2xkZXIpXHJcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBhcmdzLnBsYWNlaG9sZGVyO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgX29uTGlua0NoYW5nZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9IHZhbHVlIHx8ICcwJztcclxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdmFsdWUgfHwgJzAnKTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgX29uQ2hhbmdlKCk6IHZvaWQge1xyXG4gICAgbGV0IHZhbHVlID0gcGFyc2VGbG9hdCh0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSk7XHJcbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgIGlmICh0aGlzLmFsbG93TnVsbCkge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSAtMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9ICcwJztcclxuICAgICAgICB0aGlzLnZhbHVlID0gMDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gdGhpcy5lbGVtZW50SW5wdXQudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICBwdWJsaWMgZm9jdXMoc2VsZWN0PzogYm9vbGVhbikge1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuZm9jdXMoKTtcclxuICAgIGlmIChzZWxlY3QpIHRoaXMuZWxlbWVudElucHV0LnNlbGVjdCgpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uSW5wdXRGb2N1cygpIHtcclxuICAgIHRoaXMuY2xhc3MhLmFkZCgnZm9jdXMnKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbklucHV0Qmx1cigpIHtcclxuICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnZm9jdXMnKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbktleURvd24oZXZ0OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDI3KVxyXG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50SW5wdXQuYmx1cigpO1xyXG5cclxuICAgIGlmICh0aGlzLmJsdXJPbkVudGVyICYmIGV2dC5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICBsZXQgZm9jdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHBhcmVudC5lbGVtZW50ICYmIHBhcmVudC5lbGVtZW50LmZvY3VzKSB7XHJcbiAgICAgICAgICBwYXJlbnQuZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZm9jdXNlZClcclxuICAgICAgICB0aGlzLmVsZW1lbnRJbnB1dC5ibHVyKCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgWzM4LCA0MF0uaW5kZXhPZihldnQua2V5Q29kZSkgPT09IC0xKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IGluYyA9IGV2dC5rZXlDb2RlID09PSA0MCA/IC0xIDogMTtcclxuXHJcbiAgICBpZiAoZXZ0LnNoaWZ0S2V5KVxyXG4gICAgICBpbmMgKj0gMTA7XHJcblxyXG4gICAgbGV0IHZhbHVlID0gdGhpcy52YWx1ZSArICh0aGlzLnN0ZXAgfHwgMSkgKiBpbmM7XHJcblxyXG4gICAgaWYgKHRoaXMubWF4ICE9IG51bGwpXHJcbiAgICAgIHZhbHVlID0gTWF0aC5taW4odGhpcy5tYXgsIHZhbHVlKTtcclxuXHJcbiAgICBpZiAodGhpcy5taW4gIT0gbnVsbClcclxuICAgICAgdmFsdWUgPSBNYXRoLm1heCh0aGlzLm1pbiwgdmFsdWUpO1xyXG5cclxuICAgIGlmICh0aGlzLnByZWNpc2lvbiAhPSBudWxsKVxyXG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZCh0aGlzLnByZWNpc2lvbikpO1xyXG5cclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIC8vIHRoaXMudWkudmFsdWUgPSB2YWx1ZTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkZ1bGxTZWxlY3QoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5zZWxlY3QoKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkRpc2FibGUoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5yZWFkT25seSA9IHRydWU7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25FbmFibGUoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5yZWFkT25seSA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uQ2hhbmdlRmllbGQoKSB7XHJcbiAgICBpZiAoIXRoaXMucmVuZGVyQ2hhbmdlcylcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuZmxhc2goKTtcclxuICB9O1xyXG5cclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE51bWJlckZpZWxkQXJncyB7XHJcbiAgZGVmYXVsdD86IG51bWJlcjtcclxuICBwbGFjZWhvbGRlcj86IHN0cmluZztcclxuICBwcmVjaXNpb24/OiBudW1iZXI7XHJcbiAgc3RlcD86IG51bWJlcjtcclxuICBtaW4/OiBudW1iZXI7XHJcbiAgbWF4PzogbnVtYmVyO1xyXG4gIGFsbG93TnVsbD86IGJvb2xlYW47XHJcbn0iLCJpbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSBcIi4vY29udGFpbmVyLWVsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPdmVybGF5IGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XHJcblxyXG5cclxuICBwdWJsaWMgZWxlbWVudE92ZXJsYXk6IEhUTUxFbGVtZW50O1xyXG5cclxuXHJcbiAgcHVibGljIGdldCBjbGlja2FibGUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50T3ZlcmxheS5jbGFzc0xpc3QuY29udGFpbnMoJ2NsaWNrYWJsZScpO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGNsaWNrYWJsZSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50T3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdjbGlja2FibGUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudE92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnY2xpY2thYmxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHJlY3QoKTogQ2xpZW50UmVjdCB8IERPTVJlY3Qge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5uZXJFbGVtZW50IS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY2VudGVyKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmNvbnRhaW5zKCdjZW50ZXInKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBjZW50ZXIodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmFkZCgnY2VudGVyJyk7XHJcbiAgICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS5sZWZ0ID0gJyc7XHJcbiAgICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS50b3AgPSAnJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZSgnY2VudGVyJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHRyYW5zcGFyZW50KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmNvbnRhaW5zKCd0cmFuc3BhcmVudCcpO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHRyYW5zcGFyZW50KHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoJ3RyYW5zcGFyZW50Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zcGFyZW50Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLW92ZXJsYXknLCAnY2VudGVyJyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheS51aSA9IHRoaXM7XHJcbiAgICB0aGlzLmVsZW1lbnRPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ292ZXJsYXknLCAnY2xpY2thYmxlJyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50T3ZlcmxheSk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50T3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuaW5uZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQnKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyRWxlbWVudCk7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25Nb3VzZURvd24oZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuY2xpY2thYmxlKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIHNvbWUgZmllbGQgbWlnaHQgYmUgaW4gZm9jdXNcclxuICAgIGRvY3VtZW50LmJvZHkuYmx1cigpO1xyXG5cclxuICAgIC8vIHdhaXQgdGlsbCBibHVyIHRha2VzIGluIGFjY291bnRcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGhpZGUgb3ZlcmxheVxyXG4gICAgICBzZWxmLmhpZGRlbiA9IHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgbGV0IGFyZWEgPSB0aGlzLmVsZW1lbnRPdmVybGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IHJlY3QgPSB0aGlzLmlubmVyRWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGFyZWEud2lkdGggLSByZWN0LndpZHRoLCB4KSk7XHJcbiAgICB5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYXJlYS5oZWlnaHQgLSByZWN0LmhlaWdodCwgeSkpO1xyXG5cclxuICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS5sZWZ0ID0geCArICdweCc7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCEuc3R5bGUudG9wID0geSArICdweCc7XHJcbiAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSAnLi9jb250YWluZXItZWxlbWVudCc7XHJcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuL2VsZW1lbnQnO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gJy4vbGFiZWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhbmVsIGV4dGVuZHMgQ29udGFpbmVyRWxlbWVudCB7XHJcblxyXG4gIHB1YmxpYyBoZWFkZXJFbGVtZW50OiBOdWxsYWJsZTxIVE1MRWxlbWVudD4gPSBudWxsO1xyXG4gIHB1YmxpYyBoZWFkZXJFbGVtZW50VGl0bGU6IE51bGxhYmxlPEhUTUxFbGVtZW50PiA9IG51bGw7XHJcbiAgcHJpdmF0ZSBfaGFuZGxlRWxlbWVudDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+ID0gbnVsbDtcclxuXHJcbiAgcHJpdmF0ZSBfcmVzaXplRXZ0TW92ZTogYW55O1xyXG4gIHByaXZhdGUgX3Jlc2l6ZUV2dEVuZDogYW55O1xyXG4gIHByaXZhdGUgX3Jlc2l6ZUV2dFRvdWNoTW92ZTogYW55O1xyXG4gIHByaXZhdGUgX3Jlc2l6ZUV2dFRvdWNoRW5kOiBhbnk7XHJcblxyXG4gIHByaXZhdGUgX3Jlc2l6ZURhdGE6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7IGVuZDogMCB9O1xyXG4gIHByaXZhdGUgX3Jlc2l6ZUxpbWl0czogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHtcclxuICAgIG1pbjogMCxcclxuICAgIG1heDogSW5maW5pdHlcclxuICB9O1xyXG4gIHByaXZhdGUgX2hhbmRsZTogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIGhlYWRlclNpemU6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSBfcmVzaXplVG91Y2hJZDogbnVtYmVyID0gLTEwMDtcclxuXHJcbiAgcHVibGljIHRpdGxlOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgcHVibGljIF9sYWJsZTogTnVsbGFibGU8TGFiZWw+ID0gbnVsbDtcclxuXHJcbiAgcHVibGljIGdldCBmb2xkZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jbGFzcyA/IHRoaXMuY2xhc3MuY29udGFpbnMoJ2ZvbGRhYmxlJykgJiYgdGhpcy5jbGFzcy5jb250YWlucygnZm9sZGVkJykgOiBmYWxzZTtcclxuICB9XHJcbiAgcHVibGljIHNldCBmb2xkZWQodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5oaWRkZW4pXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ2ZvbGRlZCcpID09PSAhIXZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICh0aGlzLmhlYWRlckVsZW1lbnQgJiYgdGhpcy5oZWFkZXJTaXplID09PSAwKVxyXG4gICAgICB0aGlzLmhlYWRlclNpemUgPSB0aGlzLmhlYWRlckVsZW1lbnQuY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgdGhpcy5jbGFzcyEuYWRkKCdmb2xkZWQnKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmNsYXNzIS5jb250YWlucygnZm9sZGFibGUnKSlcclxuICAgICAgICB0aGlzLmVtaXQoJ2ZvbGQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnZm9sZGVkJyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ2ZvbGRhYmxlJykpXHJcbiAgICAgICAgdGhpcy5lbWl0KCd1bmZvbGQnKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9yZWZsb3coKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaG9yaXpvbnRhbCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNsYXNzID8gdGhpcy5jbGFzcy5jb250YWlucygnaG9yaXpvbnRhbCcpIDogZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgaG9yaXpvbnRhbCh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgdGhpcy5jbGFzcyEuYWRkKCdob3Jpem9udGFsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ2hvcml6b250YWwnKTtcclxuICAgIH1cclxuICAgIHRoaXMuX3JlZmxvdygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCByZXNpemFibGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9oYW5kbGU7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgcmVzaXphYmxlKHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy5faGFuZGxlID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB2YXIgb2xkSGFuZGxlID0gdGhpcy5faGFuZGxlO1xyXG4gICAgdGhpcy5faGFuZGxlID0gdmFsO1xyXG5cclxuICAgIGlmICh0aGlzLl9oYW5kbGUgIT09ICcnKSB7XHJcbiAgICAgIGlmICghdGhpcy5faGFuZGxlRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFbGVtZW50LnVpID0gdGhpcztcclxuICAgICAgICB0aGlzLl9oYW5kbGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hhbmRsZScpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fcmVzaXplU3RhcnQuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX3Jlc2l6ZVN0YXJ0LmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuX2hhbmRsZUVsZW1lbnQucGFyZW50Tm9kZSlcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLnJlbW92ZUNoaWxkKHRoaXMuX2hhbmRsZUVsZW1lbnQpO1xyXG4gICAgICAvLyBUT0RPXHJcbiAgICAgIC8vIGFwcGVuZCBpbiByaWdodCBwbGFjZVxyXG4gICAgICB0aGlzLmVsZW1lbnQhLmFwcGVuZENoaWxkKHRoaXMuX2hhbmRsZUVsZW1lbnQpO1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ3Jlc2l6YWJsZScsICdyZXNpemFibGUtJyArIHRoaXMuX2hhbmRsZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5faGFuZGxlRWxlbWVudCkgdGhpcy5lbGVtZW50IS5yZW1vdmVDaGlsZCh0aGlzLl9oYW5kbGVFbGVtZW50KTtcclxuXHJcbiAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgncmVzaXphYmxlJywgJ3Jlc2l6YWJsZS0nICsgb2xkSGFuZGxlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9yZWZsb3coKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcmVzaXplTWluKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVzaXplTGltaXRzLm1pbjtcclxuICB9XHJcbiAgcHVibGljIHNldCByZXNpemVNaW4odmFsOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX3Jlc2l6ZUxpbWl0cy5taW4gPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLl9yZXNpemVMaW1pdHMubWF4LCB2YWwpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcmVzaXplTWF4KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVzaXplTGltaXRzLm1heDtcclxuICB9XHJcbiAgcHVibGljIHNldCByZXNpemVNYXgodmFsOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX3Jlc2l6ZUxpbWl0cy5tYXggPSBNYXRoLm1heCh0aGlzLl9yZXNpemVMaW1pdHMubWluLCB2YWwpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBmb2xkYWJsZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNsYXNzID8gdGhpcy5jbGFzcy5jb250YWlucygnZm9sZGFibGUnKSA6IGZhbHNlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZvbGRhYmxlKHZhbDogYm9vbGVhbikge1xyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ2ZvbGRhYmxlJyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ2ZvbGRlZCcpKVxyXG4gICAgICAgIHRoaXMuZW1pdCgnZm9sZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdmb2xkYWJsZScpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdmb2xkZWQnKSlcclxuICAgICAgICB0aGlzLmVtaXQoJ3VuZm9sZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3JlZmxvdygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBoZWFkZXIoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmhlYWRlckVsZW1lbnRUaXRsZSA/ICh0aGlzLmhlYWRlckVsZW1lbnRUaXRsZS50ZXh0Q29udGVudCB8fCAnJykgOiAnJztcclxuICB9XHJcbiAgcHVibGljIHNldCBoZWFkZXIodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICghdGhpcy5oZWFkZXJFbGVtZW50ICYmIHZhbCkge1xyXG4gICAgICB0aGlzLmhlYWRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcclxuICAgICAgdGhpcy5oZWFkZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLWhlYWRlcicpO1xyXG5cclxuICAgICAgdGhpcy5oZWFkZXJFbGVtZW50VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgIHRoaXMuaGVhZGVyRWxlbWVudFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlJyk7XHJcbiAgICAgIHRoaXMuaGVhZGVyRWxlbWVudFRpdGxlLnRleHRDb250ZW50ID0gdmFsO1xyXG4gICAgICB0aGlzLmhlYWRlckVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5oZWFkZXJFbGVtZW50VGl0bGUpO1xyXG5cclxuICAgICAgbGV0IGZpcnN0ID0gdGhpcy5lbGVtZW50IS5maXJzdENoaWxkO1xyXG4gICAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLmluc2VydEJlZm9yZSh0aGlzLmhlYWRlckVsZW1lbnQsIGZpcnN0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLmFwcGVuZENoaWxkKHRoaXMuaGVhZGVyRWxlbWVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnbm9IZWFkZXInKTtcclxuXHJcbiAgICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIGZvbGRpbmdcclxuICAgICAgdGhpcy5oZWFkZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgIGlmICghc2VsZi5mb2xkYWJsZSB8fCAoZXZ0LnRhcmdldCAhPT0gc2VsZi5oZWFkZXJFbGVtZW50ICYmIGV2dC50YXJnZXQgIT09IHNlbGYuaGVhZGVyRWxlbWVudFRpdGxlKSlcclxuICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgc2VsZi5mb2xkZWQgPSAhc2VsZi5mb2xkZWQ7XHJcbiAgICAgIH0sIGZhbHNlKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5oZWFkZXJFbGVtZW50ICYmICF2YWwpIHtcclxuICAgICAgaWYgKHRoaXMuaGVhZGVyRWxlbWVudC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oZWFkZXJFbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmhlYWRlckVsZW1lbnQgPSBudWxsO1xyXG4gICAgICB0aGlzLmhlYWRlckVsZW1lbnRUaXRsZSA9IG51bGw7XHJcbiAgICAgIHRoaXMuY2xhc3MhLmFkZCgnbm9IZWFkZXInKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaGVhZGVyRWxlbWVudFRpdGxlIS50ZXh0Q29udGVudCA9IHZhbCB8fCAnJztcclxuICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdub0hlYWRlcicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHRpdGxlPzogc3RyaW5nKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLXBhbmVsJywgJ25vSGVhZGVyJywgJ25vQW5pbWF0aW9uJyk7XHJcblxyXG4gICAgLy8gdGhpcy5vbignbm9kZXNDaGFuZ2VkJywgdGhpcy5fb25Ob2Rlc0NoYW5nZWQpO1xyXG5cclxuICAgIC8vIGNvbnRlbnRcclxuICAgIHRoaXMuaW5uZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudC51aSA9IHRoaXM7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb250ZW50Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5pbm5lckVsZW1lbnQpO1xyXG5cclxuICAgIGlmICh0aXRsZSkge1xyXG4gICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgIHRoaXMuaGVhZGVyID0gdGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhpcy5pbm5lckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwsIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLl9yZXNpemVFdnRNb3ZlID0gZnVuY3Rpb24gKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBzZWxmLl9yZXNpemVNb3ZlKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX3Jlc2l6ZUV2dEVuZCA9IGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgc2VsZi5fcmVzaXplRW5kKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX3Jlc2l6ZUV2dFRvdWNoTW92ZSA9IGZ1bmN0aW9uIChldnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgdG91Y2ggPSBldnQuY2hhbmdlZFRvdWNoZXNbaV07XHJcblxyXG4gICAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyICE9PSBzZWxmLl9yZXNpemVUb3VjaElkKVxyXG4gICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBzZWxmLl9yZXNpemVNb3ZlKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5fcmVzaXplRXZ0VG91Y2hFbmQgPSBmdW5jdGlvbiAoZXZ0OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHRvdWNoID0gZXZ0LmNoYW5nZWRUb3VjaGVzW2ldO1xyXG5cclxuICAgICAgICBpZiAodG91Y2guaWRlbnRpZmllciAhPT0gc2VsZi5fcmVzaXplVG91Y2hJZClcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBzZWxmLl9yZXNpemVUb3VjaElkID0gLTEwMDtcclxuXHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHNlbGYuX3Jlc2l6ZUVuZCgpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gSEFDS1xyXG4gICAgLy8gc2tpcCAyIGZyYW1lcyBiZWZvcmUgZW5hYmxpbmcgdHJhbnNpdGlvbnNcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jbGFzcyEucmVtb3ZlKCdub0FuaW1hdGlvbicpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIG9uIHBhcmVudCBjaGFuZ2VcclxuICAgIHRoaXMub24oJ3BhcmVudCcsIHRoaXMuX29uUGFyZW50KTtcclxuXHJcblxyXG5cclxuICB9XHJcblxyXG5cclxuXHJcblxyXG4gIHByaXZhdGUgX3Jlc2l6ZU1vdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLl9yZXNpemVEYXRhLmVuZCA9PT0gMCkge1xyXG4gICAgICB0aGlzLl9yZXNpemVEYXRhID0ge1xyXG4gICAgICAgIHg6IHgsXHJcbiAgICAgICAgeTogeSxcclxuICAgICAgICB3aWR0aDogdGhpcy5pbm5lckVsZW1lbnQhLmNsaWVudFdpZHRoLFxyXG4gICAgICAgIGhlaWdodDogdGhpcy5pbm5lckVsZW1lbnQhLmNsaWVudEhlaWdodCxcclxuICAgICAgICBlbmQ6IDFcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLl9oYW5kbGUgPT09ICdsZWZ0JyB8fCB0aGlzLl9oYW5kbGUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAvLyBob3Jpem9udGFsXHJcbiAgICAgICAgbGV0IG9mZnNldFggPSB0aGlzLl9yZXNpemVEYXRhLnggLSB4O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faGFuZGxlID09PSAncmlnaHQnKVxyXG4gICAgICAgICAgb2Zmc2V0WCA9IC1vZmZzZXRYO1xyXG5cclxuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLm1heCh0aGlzLl9yZXNpemVMaW1pdHMubWluLCBNYXRoLm1pbih0aGlzLl9yZXNpemVMaW1pdHMubWF4LCAodGhpcy5fcmVzaXplRGF0YS53aWR0aCArIG9mZnNldFgpKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3R5bGUhLndpZHRoID0gKHdpZHRoICsgNCkgKyAncHgnO1xyXG4gICAgICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS53aWR0aCA9ICh3aWR0aCArIDQpICsgJ3B4JztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB2ZXJ0aWNhbFxyXG4gICAgICAgIGxldCBvZmZzZXRZID0gdGhpcy5fcmVzaXplRGF0YS55IC0geTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZSA9PT0gJ2JvdHRvbScpXHJcbiAgICAgICAgICBvZmZzZXRZID0gLW9mZnNldFk7XHJcblxyXG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLm1heCh0aGlzLl9yZXNpemVMaW1pdHMubWluLCBNYXRoLm1pbih0aGlzLl9yZXNpemVMaW1pdHMubWF4LCAodGhpcy5fcmVzaXplRGF0YS5oZWlnaHQgKyBvZmZzZXRZKSkpO1xyXG5cclxuICAgICAgICB0aGlzLnN0eWxlIS5oZWlnaHQgPSAoaGVpZ2h0ICsgKHRoaXMuaGVhZGVyU2l6ZSA9PT0gLTEgPyAwIDogdGhpcy5oZWFkZXJTaXplIHx8IDMyKSkgKyAncHgnO1xyXG4gICAgICAgIHRoaXMuaW5uZXJFbGVtZW50IS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbWl0KCdyZXNpemUnKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9yZXNpemVFbmQoKTogdm9pZCB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fcmVzaXplRXZ0TW92ZSwgZmFsc2UpO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9yZXNpemVFdnRFbmQsIGZhbHNlKTtcclxuXHJcbiAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fcmVzaXplRXZ0VG91Y2hNb3ZlLCBmYWxzZSk7XHJcbiAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9yZXNpemVFdnRUb3VjaEVuZCwgZmFsc2UpO1xyXG5cclxuICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnbm9BbmltYXRpb24nLCAncmVzaXppbmcnKTtcclxuICAgIHRoaXMuX3Jlc2l6ZURhdGEuZW5kID0gMDtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9yZXNpemVTdGFydChldnQ6IEV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5faGFuZGxlID09PSAnJylcclxuICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKCg8VG91Y2hFdmVudD5ldnQpLmNoYW5nZWRUb3VjaGVzKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKDxUb3VjaEV2ZW50PmV2dCkuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgdG91Y2ggPSAoPFRvdWNoRXZlbnQ+ZXZ0KS5jaGFuZ2VkVG91Y2hlc1tpXTtcclxuICAgICAgICBpZiAoPEhUTUxFbGVtZW50PnRvdWNoLnRhcmdldCAhPT0gdGhpcy5lbGVtZW50KVxyXG4gICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgIHRoaXMuX3Jlc2l6ZVRvdWNoSWQgPSB0b3VjaC5pZGVudGlmaWVyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jbGFzcyEuYWRkKCdub0FuaW1hdGlvbicsICdyZXNpemluZycpO1xyXG4gICAgdGhpcy5fcmVzaXplRGF0YS5lbmQgPSAwO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9yZXNpemVFdnRNb3ZlLCBmYWxzZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX3Jlc2l6ZUV2dEVuZCwgZmFsc2UpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9yZXNpemVFdnRUb3VjaE1vdmUsIGZhbHNlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX3Jlc2l6ZUV2dFRvdWNoRW5kLCBmYWxzZSk7XHJcblxyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25QYXJlbnQoKTogdm9pZCB7XHJcbiAgICAvLyBIQUNLXHJcbiAgICAvLyB3YWl0IHRpbGwgRE9NIHBhcnNlcywgdGhlbiByZWZsb3dcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9yZWZsb3cuYmluZCh0aGlzKSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfcmVmbG93KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaGlkZGVuKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHRoaXMuZm9sZGVkKSB7XHJcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcclxuICAgICAgICB0aGlzLnN0eWxlIS5oZWlnaHQgPSAnJztcclxuICAgICAgICB0aGlzLnN0eWxlIS53aWR0aCA9ICh0aGlzLmhlYWRlclNpemUgfHwgMzIpICsgJ3B4JztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnN0eWxlIS5oZWlnaHQgPSAodGhpcy5oZWFkZXJTaXplIHx8IDMyKSArICdweCc7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy5mb2xkYWJsZSkge1xyXG4gICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZSEuaGVpZ2h0ID0gJyc7XHJcbiAgICAgICAgdGhpcy5zdHlsZSEud2lkdGggPSB0aGlzLmlubmVyRWxlbWVudCEuY2xpZW50V2lkdGggKyAncHgnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc3R5bGUhLmhlaWdodCA9ICgodGhpcy5oZWFkZXJTaXplIHx8IDMyKSArIHRoaXMuaW5uZXJFbGVtZW50IS5jbGllbnRIZWlnaHQpICsgJ3B4JztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uTm9kZXNDaGFuZ2VkKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmZvbGRhYmxlIHx8IHRoaXMuZm9sZGVkIHx8IHRoaXMuaG9yaXpvbnRhbCB8fCB0aGlzLmhpZGRlbilcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuc3R5bGUhLmhlaWdodCA9IChNYXRoLm1heCgwLCAodGhpcy5oZWFkZXJTaXplIHx8IDMyKSkgKyB0aGlzLmlubmVyRWxlbWVudCEuY2xpZW50SGVpZ2h0KSArICdweCc7XHJcbiAgfTtcclxuXHJcbiAgcHVibGljIGhlYWRlckFwcGVuZChlbGVtZW50OiBIVE1MRWxlbWVudCB8IEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5oZWFkZXJFbGVtZW50KVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgbGV0IGh0bWw6IGJvb2xlYW4gPSAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcclxuICAgIGxldCBub2RlOiBIVE1MRWxlbWVudCA9IGh0bWwgPyA8SFRNTEVsZW1lbnQ+ZWxlbWVudCA6ICg8RWxlbWVudD5lbGVtZW50KS5lbGVtZW50ITtcclxuXHJcbiAgICB0aGlzLmhlYWRlckVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuaGVhZGVyRWxlbWVudFRpdGxlKTtcclxuXHJcbiAgICBpZiAoIWh0bWwpXHJcbiAgICAgICg8RWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8vIFRPRE9cclxuICBwcml2YXRlIF9vblNjcm9sbChldnQ6IGFueSkge1xyXG4gICAgdGhpcy5lbWl0KCdzY3JvbGwnLCBldnQpO1xyXG4gIH07XHJcblxyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuL2VsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9ncmVzcyBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfcHJvZ3Jlc3M6IG51bWJlcjtcclxuICBwcml2YXRlIF90YXJnZXRQcm9ncmVzczogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2xhc3RQcm9ncmVzczogbnVtYmVyO1xyXG4gIHByaXZhdGUgX3NwZWVkOiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgX2lubmVyOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgcHJpdmF0ZSBfbm93OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfYW5pbWF0aW5nOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2ZhaWxlZDogYm9vbGVhbjtcclxuXHJcbiAgcHVibGljIGdldCBwcm9ncmVzcygpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Byb2dyZXNzO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHByb2dyZXNzKHZhbDogbnVtYmVyKSB7XHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgdmFsID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdmFsKSk7XHJcblxyXG4gICAgaWYgKHRoaXMuX3RhcmdldFByb2dyZXNzID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl90YXJnZXRQcm9ncmVzcyA9IHZhbDtcclxuXHJcbiAgICBpZiAodGhpcy5fc3BlZWQgPT09IDAgfHwgdGhpcy5fc3BlZWQgPT09IDEpIHtcclxuICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSB0aGlzLl90YXJnZXRQcm9ncmVzcztcclxuICAgICAgdGhpcy5faW5uZXIuc3R5bGUud2lkdGggPSAodGhpcy5fcHJvZ3Jlc3MgKiAxMDApICsgJyUnO1xyXG5cclxuICAgICAgbGV0IHByb2dyZXNzOiBudW1iZXIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIE1hdGgucm91bmQodGhpcy5fcHJvZ3Jlc3MgKiAxMDApKSk7XHJcbiAgICAgIGlmIChwcm9ncmVzcyAhPT0gdGhpcy5fbGFzdFByb2dyZXNzKSB7XHJcbiAgICAgICAgdGhpcy5fbGFzdFByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdwcm9ncmVzczonICsgcHJvZ3Jlc3MpO1xyXG4gICAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuX2FuaW1hdGluZykge1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuX2FuaW1hdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGdldCBzcGVlZCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHNwZWVkKHZhbDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9zcGVlZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBmYWlsZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZmFpbGVkO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZhaWxlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuX2ZhaWxlZCA9IHZhbDtcclxuICAgIGlmICh0aGlzLl9mYWlsZWQpIHtcclxuICAgICAgdGhpcy5jbGFzcyEuYWRkKCdmYWlsZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnZmFpbGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByb2dyZXNzPzogbnVtYmVyLCBzcGVlZD86IG51bWJlcikge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLl9wcm9ncmVzcyA9IHByb2dyZXNzID8gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcHJvZ3Jlc3MpKSA6IDA7XHJcbiAgICB0aGlzLl90YXJnZXRQcm9ncmVzcyA9IHRoaXMuX3Byb2dyZXNzO1xyXG4gICAgdGhpcy5fbGFzdFByb2dyZXNzID0gTWF0aC5mbG9vcih0aGlzLl9wcm9ncmVzcyAqIDEwMCk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndWktcHJvZ3Jlc3MnKTtcclxuXHJcbiAgICB0aGlzLl9pbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5faW5uZXIuY2xhc3NMaXN0LmFkZCgnaW5uZXInKTtcclxuICAgIHRoaXMuX2lubmVyLnN0eWxlLndpZHRoID0gKHRoaXMuX3Byb2dyZXNzICogMTAwKSArICclJztcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9pbm5lcik7XHJcblxyXG4gICAgdGhpcy5fc3BlZWQgPSBzcGVlZCB8fCAxO1xyXG5cclxuICAgIHRoaXMuX25vdyA9IERhdGUubm93KCk7XHJcbiAgICB0aGlzLl9hbmltYXRpbmcgPSBmYWxzZTtcclxuIFxyXG4gICAgdGhpcy5fZmFpbGVkID0gZmFsc2U7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogIHdlYnNvY2tldCBsaW5rIC0+IGJlc3Qgd2F5O1xyXG4gICAqICBpbmZvcm1hdGlvbiBmb3JtYXQgLT4gbWFueSBraW5kcyBvZiBpbmZvcm1hdGlvbiB0byBiZSB0cmFuc2Zvcm1lZDtcclxuICAgKiBcclxuICAgKiAgdGhpbmsgYWJvdXQgdGhlIHByb2Nlc3M6XHJcbiAgICogICAgIDEuIGFjY2VzcyBwZXJtaXNzaW9uIGNoZWNrO1xyXG4gICAqICAgICAyLiBhIGRhdGEgc3RydWN0dXJlIG9mIHNjZW5lIGRldGFpbDtcclxuICAgKiAgICAgMy4gYSBkYXRhIHN0cnVjdHVyZSBmb3IgYXNzZXRzIGRldGFpbDtcclxuICAgKiAgICAgNC4ga2VlcCB0aGUgb3JpZ2luYWwgZmlsZSBubyBjaGFuZ2Ugc28gdGhlcmUgd2lsbCBiZSBvbmx5IG9uZSBzb3VyY2UgZmlsZTtcclxuICAgKiAgICAgNS4gbGluayB0byBhbnkgaW5mb3JtYXRpb247XHJcbiAgICogXHJcbiAgICogXHJcbiAgICogXHJcblxyXG4gICAqICBcclxuICAgKi9cclxuICBwcml2YXRlIF9hbmltYXRlKCk6IHZvaWQge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIGlmIChNYXRoLmFicyh0aGlzLl90YXJnZXRQcm9ncmVzcyAtIHRoaXMuX3Byb2dyZXNzKSA8IDAuMDEpIHtcclxuICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSB0aGlzLl90YXJnZXRQcm9ncmVzcztcclxuICAgICAgdGhpcy5fYW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoIXRoaXMuX2FuaW1hdGluZykge1xyXG4gICAgICAgIHRoaXMuX25vdyA9IERhdGUubm93KCkgLSAoMTAwMCAvIDYwKTtcclxuICAgICAgICB0aGlzLl9hbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5fYW5pbWF0ZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBkdDogbnVtYmVyID0gTWF0aC5tYXgoMC4xLCBNYXRoLm1pbigzLCAoRGF0ZS5ub3coKSAtIHRoaXMuX25vdykgLyAoMTAwMCAvIDYwKSkpO1xyXG4gICAgICB0aGlzLl9ub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICB0aGlzLl9wcm9ncmVzcyA9IHRoaXMuX3Byb2dyZXNzICsgKHRoaXMuX3RhcmdldFByb2dyZXNzIC0gdGhpcy5fcHJvZ3Jlc3MpICogKHRoaXMuX3NwZWVkICogZHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBwcm9ncmVzczogbnVtYmVyID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBNYXRoLnJvdW5kKHRoaXMuX3Byb2dyZXNzICogMTAwKSkpO1xyXG4gICAgaWYgKHByb2dyZXNzICE9PSB0aGlzLl9sYXN0UHJvZ3Jlc3MpIHtcclxuICAgICAgdGhpcy5fbGFzdFByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3M6JyArIHByb2dyZXNzKTtcclxuICAgICAgdGhpcy5lbWl0KCdwcm9ncmVzcycsIHByb2dyZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9pbm5lci5zdHlsZS53aWR0aCA9ICh0aGlzLl9wcm9ncmVzcyAqIDEwMCkgKyAnJSc7XHJcbiAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiXHJcblxyXG4vLyDkuIvmi4npgInmi6nliJfooahcclxuZXhwb3J0IGNsYXNzIFNlbGVjdEZpZWxkIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG5cclxuICBwdWJsaWMgZWxlbWVudFZhbHVlOiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgZWxlbWVudE9wdGlvbnM6IEhUTUxFbGVtZW50O1xyXG5cclxuICBwdWJsaWMgb3B0aW9uczogYW55O1xyXG4gIHB1YmxpYyBvcHRpb25zS2V5czogc3RyaW5nW107XHJcblxyXG4gIHByaXZhdGUgX29sZFZhbHVlOiBhbnk7XHJcbiAgcHJpdmF0ZSBfdmFsdWU6IGFueTtcclxuICBwcml2YXRlIF90eXBlOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfb3B0aW9uQ2xhc3NOYW1lUHJlZml4OiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSB0aW1lckNsaWNrQXdheTogYW55O1xyXG4gIHByaXZhdGUgZXZ0VG91Y2hJZDogbnVtYmVyO1xyXG4gIHByaXZhdGUgZXZ0VG91Y2hTZWNvbmQ6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBldnRNb3VzZURpc3Q6IG51bWJlcltdID0gWzAsIDBdO1xyXG5cclxuICBwcml2YXRlIG9wdGlvbkVsZW1lbnRzOiB7IFtrZXk6IHN0cmluZ106IEhUTUxFbGVtZW50IH07XHJcblxyXG5cclxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IGFueSB7XHJcbiAgICBpZiAodGhpcy5fbGluaykge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZShyYXc6IGFueSkge1xyXG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZVRvVHlwZShyYXcpO1xyXG5cclxuICAgIGlmICh0aGlzLl9saW5rKSB7XHJcbiAgICAgIHRoaXMuX29sZFZhbHVlID0gdGhpcy5fdmFsdWU7XHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlOmJlZm9yZScsIHZhbHVlKTtcclxuICAgICAgdGhpcy5fbGluay5zZXQodGhpcy5wYXRoLCB2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgcmF3ID09PSAnJykgJiYgdGhpcy5vcHRpb25FbGVtZW50c1snJ10pXHJcbiAgICAgICAgdmFsdWUgPSAnJztcclxuXHJcbiAgICAgIGlmICh0aGlzLl9vbGRWYWx1ZSA9PT0gdmFsdWUpIHJldHVybjtcclxuICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHRoaXMub3B0aW9uc1t2YWx1ZV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG5cclxuICAgICAgLy8gZGVzZWxlY3Qgb2xkIG9uZVxyXG4gICAgICBpZiAodGhpcy5vcHRpb25FbGVtZW50c1t0aGlzLl9vbGRWYWx1ZV0pXHJcbiAgICAgICAgdGhpcy5vcHRpb25FbGVtZW50c1t0aGlzLl9vbGRWYWx1ZV0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICAgIGlmICh2YWx1ZSAhPT0gJycpXHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLnZhbHVlVG9UeXBlKHRoaXMuX3ZhbHVlKTtcclxuXHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlOmJlZm9yZScsIHRoaXMuX3ZhbHVlKTtcclxuICAgICAgdGhpcy5fb2xkVmFsdWUgPSB0aGlzLl92YWx1ZTtcclxuICAgICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLl92YWx1ZV0pIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRWYWx1ZS50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9uc1t0aGlzLl92YWx1ZV07XHJcbiAgICAgICAgdGhpcy5vcHRpb25FbGVtZW50c1t0aGlzLl92YWx1ZV0uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRWYWx1ZS50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy5fdmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwbGFjZWhvbGRlcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFZhbHVlLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSB8fCAnJztcclxuICB9XHJcbiAgcHVibGljIHNldCBwbGFjZWhvbGRlcih2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKCF2YWwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50VmFsdWUucmVtb3ZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50VmFsdWUuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoYXJnczogYW55KSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIC8vIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcclxuICAgIHRoaXMub3B0aW9ucyA9IGFyZ3Mub3B0aW9ucyB8fCB7fTtcclxuICAgIHRoaXMub3B0aW9uc0tleXMgPSBbXTtcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgdmFyIG9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0tleXMucHVzaCh0aGlzLm9wdGlvbnNbaV0udik7XHJcbiAgICAgICAgb3B0aW9uc1t0aGlzLm9wdGlvbnNbaV0udl0gPSB0aGlzLm9wdGlvbnNbaV0udDtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcHRpb25zS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQudGFiSW5kZXggPSAwO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLXNlbGVjdC1maWVsZCcsICdub1NlbGVjdCcpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudFZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnRWYWx1ZS51aSA9IHRoaXM7XHJcbiAgICB0aGlzLmVsZW1lbnRWYWx1ZS5jbGFzc0xpc3QuYWRkKCd2YWx1ZScpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudFZhbHVlKTtcclxuXHJcbiAgICB0aGlzLl9vbGRWYWx1ZSA9IG51bGw7XHJcbiAgICB0aGlzLl92YWx1ZSA9IG51bGw7XHJcbiAgICB0aGlzLl90eXBlID0gYXJncy50eXBlIHx8ICdzdHJpbmcnO1xyXG5cclxuICAgIHRoaXMuX29wdGlvbkNsYXNzTmFtZVByZWZpeCA9IGFyZ3Mub3B0aW9uQ2xhc3NOYW1lUHJlZml4IHx8ICcnO1xyXG5cclxuICAgIHRoaXMudGltZXJDbGlja0F3YXkgPSBudWxsO1xyXG4gICAgdGhpcy5ldnRUb3VjaElkID0gLTk7XHJcbiAgICB0aGlzLmV2dFRvdWNoU2Vjb25kID0gZmFsc2U7XHJcbiAgICB0aGlzLmV2dE1vdXNlRGlzdCA9IFswLCAwXTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRWYWx1ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRWYWx1ZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LmJpbmQodGhpcyksIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRPcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRPcHRpb25zKTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbkVsZW1lbnRzID0ge307XHJcblxyXG4gICAgaWYgKGFyZ3MuZGVmYXVsdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9uc1thcmdzLmRlZmF1bHRdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLnZhbHVlVG9UeXBlKGFyZ3MuZGVmYXVsdCk7XHJcbiAgICAgIHRoaXMuX29sZFZhbHVlID0gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vbignbGluaycsIHRoaXMuX29uTGluayk7XHJcbiAgICB0aGlzLl91cGRhdGVPcHRpb25zKCk7XHJcblxyXG4gICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgLy8gYXJyb3dzIC0gY2hhbmdlXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgaWYgKGFyZ3MucGxhY2Vob2xkZXIpXHJcbiAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBhcmdzLnBsYWNlaG9sZGVyO1xyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgX29uSG9sZFNlbGVjdCh0YXJnZXQ6IEhUTUxFbGVtZW50LCB4OiBudW1iZXIsIHk6IG51bWJlciwgZXZ0PzogVG91Y2hFdmVudCkge1xyXG4gICAgaWYgKHRhcmdldCAmJiB0YXJnZXQudWlFbGVtZW50ICYmIHRhcmdldC51aUVsZW1lbnQgPT09IHRoaXMgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICgoTWF0aC5hYnMoeCAtIHRoaXMuZXZ0TW91c2VEaXN0WzBdKSArIE1hdGguYWJzKHkgLSB0aGlzLmV2dE1vdXNlRGlzdFsxXSkpIDwgOClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LnVpRWxlbWVudCAmJiB0YXJnZXQudWlFbGVtZW50ID09PSB0aGlzICYmIGV2dCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICB0aGlzLl9vbk9wdGlvblNlbGVjdC5jYWxsKHRhcmdldCwgZXZ0KTtcclxuXHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25Nb3VzZURvd24oZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5kaXNhYmxlZCAmJiAhdGhpcy5kaXNhYmxlZENsaWNrKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICB0aGlzLmV2dE1vdXNlRGlzdFswXSA9IGV2dC5wYWdlWDtcclxuICAgICAgdGhpcy5ldnRNb3VzZURpc3RbMV0gPSBldnQucGFnZVk7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuZm9jdXMoKTtcclxuICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5ldnRNb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uVG91Y2hTdGFydChldnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmRpc2FibGVkICYmICF0aGlzLmRpc2FibGVkQ2xpY2spXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodGhpcy5lbGVtZW50IS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICB2YXIgdG91Y2g7XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PihldnQuY2hhbmdlZFRvdWNoZXNbaV0udGFyZ2V0KSkudWlFbGVtZW50ICE9PSB0aGlzKVxyXG4gICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgIHRvdWNoID0gZXZ0LmNoYW5nZWRUb3VjaGVzW2ldO1xyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0b3VjaCkgcmV0dXJuO1xyXG5cclxuICAgICAgdGhpcy5ldnRUb3VjaElkID0gdG91Y2guaWRlbnRpZmllcjtcclxuICAgICAgdGhpcy5ldnRNb3VzZURpc3RbMF0gPSB0b3VjaC5wYWdlWDtcclxuICAgICAgdGhpcy5ldnRNb3VzZURpc3RbMV0gPSB0b3VjaC5wYWdlWTtcclxuICAgICAgdGhpcy5lbGVtZW50IS5mb2N1cygpO1xyXG4gICAgICB0aGlzLm9wZW4oKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5ldnRUb3VjaEVuZC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbkxpbmsocGF0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5fbGluayEuc2NoZW1hICYmIHRoaXMuX2xpbmshLnNjaGVtYS5oYXMocGF0aCkpIHtcclxuICAgICAgdmFyIGZpZWxkID0gdGhpcy5fbGluayEuc2NoZW1hLmdldChwYXRoKTtcclxuICAgICAgdmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zIHx8IHt9O1xyXG4gICAgICB0aGlzLl91cGRhdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uQ2hhbmdlKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnJlbmRlckNoYW5nZXMpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmZsYXNoKCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSAyNykge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCh0aGlzLmRpc2FibGVkICYmICF0aGlzLmRpc2FibGVkQ2xpY2spIHx8IFszOCwgNDBdLmluZGV4T2YoZXZ0LmtleUNvZGUpID09PSAtMSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5vcHRpb25zKTtcclxuICAgIHZhciBpbmQgPSBrZXlzLmluZGV4T2YodGhpcy52YWx1ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy52YWx1ZS50b1N0cmluZygpIDogbnVsbCk7XHJcblxyXG4gICAgdmFyIHkgPSBldnQua2V5Q29kZSA9PT0gMzggPyAtMSA6IDE7XHJcblxyXG4gICAgLy8gYWxyZWFkeSBmaXJzdCBpdGVtXHJcbiAgICBpZiAoeSA9PT0gLTEgJiYgaW5kIDw9IDApXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICAvLyBhbHJlYWR5IGxhc3QgaXRlbVxyXG4gICAgaWYgKHkgPT09IDEgJiYgaW5kID09PSAoa2V5cy5sZW5ndGggLSAxKSlcclxuICAgICAgcmV0dXJuXHJcblxyXG4gICAgLy8gc2V0IG5ldyBpdGVtXHJcbiAgICB0aGlzLnZhbHVlID0ga2V5c1tpbmQgKyB5XTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHZhbHVlVG9UeXBlKHZhbHVlOiBhbnkpOiBhbnkge1xyXG4gICAgc3dpdGNoICh0aGlzLl90eXBlKSB7XHJcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICAgIHJldHVybiAhIXZhbHVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgIHJldHVybiAnJyArIHZhbHVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG4gIHByaXZhdGUgZXZ0TW91c2VVcChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgdGhpcy5fb25Ib2xkU2VsZWN0KDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0LCBldnQucGFnZVgsIGV2dC5wYWdlWSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBldnRUb3VjaEVuZChldnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciB0b3VjaCA9IGV2dC5jaGFuZ2VkVG91Y2hlc1tpXTtcclxuICAgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgIT09IHRoaXMuZXZ0VG91Y2hJZClcclxuICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgIHRoaXMuZXZ0VG91Y2hJZCA9IC05O1xyXG5cclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoLnBhZ2VYLCB0b3VjaC5wYWdlWSk7XHJcblxyXG4gICAgICB0aGlzLl9vbkhvbGRTZWxlY3QoPEhUTUxFbGVtZW50PnRhcmdldCwgdG91Y2gucGFnZVgsIHRvdWNoLnBhZ2VZLCBldnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmV2dFRvdWNoU2Vjb25kKSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHNlbGYuY2xvc2UoKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50IS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIHRoaXMuZXZ0VG91Y2hTZWNvbmQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICBwcml2YXRlIG9wZW4oKTogdm9pZCB7XHJcbiAgICBpZiAoKHRoaXMuZGlzYWJsZWQgJiYgIXRoaXMuZGlzYWJsZWRDbGljaykgfHwgdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHJcbiAgICB2YXIgcmVjdCA9IHRoaXMuZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgLy8gbGVmdFxyXG4gICAgdmFyIGxlZnQgPSBNYXRoLnJvdW5kKHJlY3QubGVmdCkgKyAoKE1hdGgucm91bmQocmVjdC53aWR0aCkgLSB0aGlzLmVsZW1lbnQhLmNsaWVudFdpZHRoKSAvIDIpO1xyXG5cclxuICAgIC8vIHRvcFxyXG4gICAgdmFyIHRvcCA9IHJlY3QudG9wO1xyXG4gICAgaWYgKHRoaXMub3B0aW9uRWxlbWVudHNbdGhpcy5fdmFsdWVdKSB7XHJcbiAgICAgIHRvcCAtPSB0aGlzLm9wdGlvbkVsZW1lbnRzW3RoaXMuX3ZhbHVlXS5vZmZzZXRUb3A7XHJcbiAgICAgIHRvcCArPSAoTWF0aC5yb3VuZChyZWN0LmhlaWdodCkgLSB0aGlzLm9wdGlvbkVsZW1lbnRzW3RoaXMuX3ZhbHVlXS5jbGllbnRIZWlnaHQpIC8gMjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsaW1pdCB0byBib3R0b20gLyB0b3Agb2Ygc2NyZWVuXHJcbiAgICBpZiAodG9wICsgdGhpcy5lbGVtZW50T3B0aW9ucy5jbGllbnRIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgdG9wID0gd2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5lbGVtZW50T3B0aW9ucy5jbGllbnRIZWlnaHQgKyAxO1xyXG4gICAgfSBlbHNlIGlmICh0b3AgPCAwKSB7XHJcbiAgICAgIHRvcCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdG9wXHJcbiAgICB0aGlzLmVsZW1lbnRPcHRpb25zLnN0eWxlLnRvcCA9IE1hdGgubWF4KDAsIHRvcCkgKyAncHgnO1xyXG4gICAgLy8gbGVmdFxyXG4gICAgdGhpcy5lbGVtZW50T3B0aW9ucy5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XHJcbiAgICAvLyByaWdodFxyXG4gICAgdGhpcy5lbGVtZW50T3B0aW9ucy5zdHlsZS53aWR0aCA9IE1hdGgucm91bmQodGhpcy5lbGVtZW50IS5jbGllbnRXaWR0aCkgKyAncHgnO1xyXG4gICAgLy8gYm90dG9tXHJcbiAgICBpZiAodG9wIDw9IDAgJiYgdGhpcy5lbGVtZW50T3B0aW9ucy5vZmZzZXRIZWlnaHQgPj0gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudE9wdGlvbnMuc3R5bGUuYm90dG9tID0gJzAnO1xyXG4gICAgICB0aGlzLmVsZW1lbnRPcHRpb25zLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcclxuXHJcbiAgICAgIC8vIHNjcm9sbCB0byBpdGVtXHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbkVsZW1lbnRzW3RoaXMuX3ZhbHVlXSkge1xyXG4gICAgICAgIHZhciBvZmYgPSB0aGlzLm9wdGlvbkVsZW1lbnRzW3RoaXMuX3ZhbHVlXS5vZmZzZXRUb3AgLSByZWN0LnRvcDtcclxuICAgICAgICB0aGlzLmVsZW1lbnRPcHRpb25zLnNjcm9sbFRvcCA9IG9mZjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50T3B0aW9ucy5zdHlsZS5ib3R0b20gPSAnJztcclxuICAgICAgdGhpcy5lbGVtZW50T3B0aW9ucy5zdHlsZS5oZWlnaHQgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLnRpbWVyQ2xpY2tBd2F5ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBsb29zZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHNlbGYuZWxlbWVudCEuYmx1cigpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGxvb3NlQWN0aXZlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvb3NlQWN0aXZlKTtcclxuICAgIH0sIDMwMCk7XHJcblxyXG4gICAgdGhpcy5lbWl0KCdvcGVuJyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIHByaXZhdGUgY2xvc2UoKTogdm9pZCB7XHJcbiAgICBpZiAoKHRoaXMuZGlzYWJsZWQgJiYgIXRoaXMuZGlzYWJsZWRDbGljaykgfHwgIXRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5ldnRNb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5ldnRUb3VjaEVuZC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICBpZiAodGhpcy50aW1lckNsaWNrQXdheSkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lckNsaWNrQXdheSk7XHJcbiAgICAgIHRoaXMudGltZXJDbGlja0F3YXkgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50T3B0aW9ucy5zdHlsZS50b3AgPSAnJztcclxuICAgIHRoaXMuZWxlbWVudE9wdGlvbnMuc3R5bGUucmlnaHQgPSAnJztcclxuICAgIHRoaXMuZWxlbWVudE9wdGlvbnMuc3R5bGUuYm90dG9tID0gJyc7XHJcbiAgICB0aGlzLmVsZW1lbnRPcHRpb25zLnN0eWxlLmxlZnQgPSAnJztcclxuICAgIHRoaXMuZWxlbWVudE9wdGlvbnMuc3R5bGUud2lkdGggPSAnJztcclxuICAgIHRoaXMuZWxlbWVudE9wdGlvbnMuc3R5bGUuaGVpZ2h0ID0gJyc7XHJcblxyXG4gICAgdGhpcy5lbWl0KCdjbG9zZScpO1xyXG5cclxuICAgIHRoaXMuZXZ0VG91Y2hTZWNvbmQgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHRvZ2dsZSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnQhLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfdXBkYXRlT3B0aW9ucyhvcHRpb25zPzogYW55KSB7XHJcbiAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcclxuICAgICAgICB0aGlzLm9wdGlvbnNLZXlzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnNLZXlzLnB1c2gob3B0aW9uc1tpXS52KTtcclxuICAgICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25zW2ldLnZdID0gb3B0aW9uc1tpXS50O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0tleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9uRWxlbWVudHMgPSB7fTtcclxuICAgIHRoaXMuZWxlbWVudE9wdGlvbnMuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnNLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmhhc093blByb3BlcnR5KHRoaXMub3B0aW9uc0tleXNbaV0pKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zW3RoaXMub3B0aW9uc0tleXNbaV1dO1xyXG4gICAgICBlbGVtZW50LnVpRWxlbWVudCA9IHRoaXM7XHJcbiAgICAgIGVsZW1lbnQudWlWYWx1ZSA9IHRoaXMub3B0aW9uc0tleXNbaV07XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX29uT3B0aW9uU2VsZWN0LmJpbmQodGhpcykpO1xyXG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuX29uT3B0aW9uSG92ZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9vbk9wdGlvbk91dC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLl9vcHRpb25DbGFzc05hbWVQcmVmaXgpIHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fb3B0aW9uQ2xhc3NOYW1lUHJlZml4ICsgJy0nICsgZWxlbWVudC50ZXh0Q29udGVudCEudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudE9wdGlvbnMuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICAgIHRoaXMub3B0aW9uRWxlbWVudHNbdGhpcy5vcHRpb25zS2V5c1tpXV0gPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uT3B0aW9uU2VsZWN0KGV2dDogVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgdGhpcy52YWx1ZSA9ICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkudWlWYWx1ZTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vbk9wdGlvbkhvdmVyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QuYWRkKCdob3ZlcicpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uT3B0aW9uT3V0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50IS5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbkVsZW1lbnRzW3ZhbHVlXSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9uRWxlbWVudHNbdGhpcy5fb2xkVmFsdWVdKSB7XHJcbiAgICAgIHRoaXMub3B0aW9uRWxlbWVudHNbdGhpcy5fb2xkVmFsdWVdLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fdmFsdWUgPSB0aGlzLnZhbHVlVG9UeXBlKHZhbHVlKTtcclxuICAgIHRoaXMuZWxlbWVudFZhbHVlLnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zW3ZhbHVlXTtcclxuICAgIHRoaXMub3B0aW9uRWxlbWVudHNbdmFsdWVdLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbHVlKTtcclxuICB9O1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuICBwcml2YXRlIF92YWx1ZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2xhc3RWYWx1ZTogbnVtYmVyO1xyXG4gIHB1YmxpYyBwcmVjaXNpb246IG51bWJlcjtcclxuXHJcbiAgcHVibGljIGVsZW1lbnRCYXI6IEhUTUxFbGVtZW50O1xyXG4gIHB1YmxpYyBlbGVtZW50SGFuZGxlOiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgZXZ0VG91Y2hJZDogYW55O1xyXG5cclxuICBwcml2YXRlIF9taW46IG51bWJlcjtcclxuICBwdWJsaWMgZ2V0IG1pbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX21pbjtcclxuICB9XHJcbiAgcHVibGljIHNldCBtaW4odmFsOiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLl9taW4gPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX21pbiA9IHZhbDtcclxuICAgIHRoaXMuX3VwZGF0ZUhhbmRsZSh0aGlzLl92YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9tYXg6IG51bWJlcjtcclxuICBwdWJsaWMgZ2V0IG1heCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX21heDtcclxuICB9XHJcbiAgcHVibGljIHNldCBtYXgodmFsOiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLl9tYXggPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX21heCA9IHZhbDtcclxuICAgIHRoaXMuX3VwZGF0ZUhhbmRsZSh0aGlzLl92YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5fbGluaykge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IG51bWJlcikge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgaWYgKCF0aGlzLl9saW5rLnNldCh0aGlzLnBhdGgsIHZhbCkpXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlSGFuZGxlKHRoaXMuX2xpbmsuZ2V0KHRoaXMucGF0aCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuX21heCAhPT0gbnVsbCAmJiB0aGlzLl9tYXggPCB2YWwpXHJcbiAgICAgICAgdmFsID0gdGhpcy5fbWF4O1xyXG5cclxuICAgICAgaWYgKHRoaXMuX21pbiAhPT0gbnVsbCAmJiB0aGlzLl9taW4gPiB2YWwpXHJcbiAgICAgICAgdmFsID0gdGhpcy5fbWluO1xyXG5cclxuICAgICAgLy8gVE9ET1xyXG4gICAgICBpZiAodmFsID09PSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdudWxsJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKVxyXG4gICAgICAgICAgdmFsID0gMDtcclxuXHJcbiAgICAgICAgdmFsID0gKHZhbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucHJlY2lzaW9uICE9PSBudWxsKSA/IHBhcnNlRmxvYXQodmFsLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pKSA6IHZhbDtcclxuICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ251bGwnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fdXBkYXRlSGFuZGxlKHZhbCk7XHJcbiAgICAgIHRoaXMuX3ZhbHVlID0gdmFsO1xyXG5cclxuICAgICAgaWYgKHRoaXMuX2xhc3RWYWx1ZSAhPT0gdmFsKSB7XHJcbiAgICAgICAgdGhpcy5fbGFzdFZhbHVlID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdmFsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzPzogU2xpZGVyQXJncykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcclxuICAgIHRoaXMuX3ZhbHVlID0gMDtcclxuICAgIHRoaXMuX2xhc3RWYWx1ZSA9IDA7XHJcblxyXG4gICAgdGhpcy5wcmVjaXNpb24gPSAoYXJncy5wcmVjaXNpb24gPT09IHVuZGVmaW5lZCkgPyAyIDogYXJncy5wcmVjaXNpb247XHJcbiAgICB0aGlzLl9taW4gPSAoYXJncy5taW4gPT09IHVuZGVmaW5lZCkgPyAwIDogYXJncy5taW47XHJcbiAgICB0aGlzLl9tYXggPSAoYXJncy5tYXggPT09IHVuZGVmaW5lZCkgPyAxIDogYXJncy5tYXg7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndWktc2xpZGVyJyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50QmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnRCYXIudWkgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50QmFyLmNsYXNzTGlzdC5hZGQoJ2JhcicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudEJhcik7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50SGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnRIYW5kbGUudWkgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50SGFuZGxlLnRhYkluZGV4ID0gMDtcclxuICAgIHRoaXMuZWxlbWVudEhhbmRsZS5jbGFzc0xpc3QuYWRkKCdoYW5kbGUnKTtcclxuICAgIHRoaXMuZWxlbWVudEJhci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRIYW5kbGUpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX29uVG91Y2hTdGFydC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5ldnRUb3VjaElkID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZSk7XHJcblxyXG4gICAgLy8gYXJyb3dzIC0gY2hhbmdlXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgZXZ0TW91c2VNb3ZlKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgdGhpcy5fb25TbGlkZU1vdmUoZXZ0LnBhZ2VYKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIGV2dE1vdXNlVXAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICB0aGlzLl9vblNsaWRlRW5kKGV2dC5wYWdlWCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBldnRUb3VjaE1vdmUoZXZ0OiBUb3VjaEV2ZW50KSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdG91Y2ggPSBldnQuY2hhbmdlZFRvdWNoZXNbaV07XHJcblxyXG4gICAgICBpZiAodG91Y2guaWRlbnRpZmllciAhPT0gdGhpcy5ldnRUb3VjaElkKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHRoaXMuX29uU2xpZGVNb3ZlKHRvdWNoLnBhZ2VYKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBldnRUb3VjaEVuZChldnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCB0b3VjaCA9IGV2dC5jaGFuZ2VkVG91Y2hlc1tpXTtcclxuXHJcbiAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyICE9PSB0aGlzLmV2dFRvdWNoSWQpXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgdGhpcy5fb25TbGlkZUVuZCh0b3VjaC5wYWdlWCk7XHJcbiAgICAgIHRoaXMuZXZ0VG91Y2hJZCA9IG51bGw7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uQ2hhbmdlKCkge1xyXG4gICAgaWYgKCF0aGlzLnJlbmRlckNoYW5nZXMpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmZsYXNoKCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSAyNylcclxuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEhhbmRsZS5ibHVyKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgWzM3LCAzOV0uaW5kZXhPZihldnQua2V5Q29kZSkgPT09IC0xKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgbGV0IHggPSBldnQua2V5Q29kZSA9PT0gMzcgPyAtMSA6IDE7XHJcblxyXG4gICAgaWYgKGV2dC5zaGlmdEtleSlcclxuICAgICAgeCAqPSAxMDtcclxuXHJcbiAgICBsZXQgcmVjdCA9IHRoaXMuZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgc3RlcCA9ICh0aGlzLl9tYXggLSB0aGlzLl9taW4pIC8gcmVjdC53aWR0aDtcclxuICAgIGxldCB2YWx1ZSA9IE1hdGgubWF4KHRoaXMuX21pbiwgTWF0aC5taW4odGhpcy5fbWF4LCB0aGlzLnZhbHVlICsgeCAqIHN0ZXApKTtcclxuICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZS50b0ZpeGVkKHRoaXMucHJlY2lzaW9uKSk7XHJcblxyXG4gICAgdGhpcy5yZW5kZXJDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICB0aGlzLl91cGRhdGVIYW5kbGUodmFsdWUpO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgdGhpcy5yZW5kZXJDaGFuZ2VzID0gdHJ1ZTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgX29uTGlua0NoYW5nZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl91cGRhdGVIYW5kbGUodmFsdWUpO1xyXG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdmFsdWUgfHwgMCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfdXBkYXRlSGFuZGxlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZWxlbWVudEhhbmRsZS5zdHlsZS5sZWZ0ID0gKE1hdGgubWF4KDAsIE1hdGgubWluKDEsICgodmFsdWUgfHwgMCkgLSB0aGlzLl9taW4pIC8gKHRoaXMuX21heCAtIHRoaXMuX21pbikpKSAqIDEwMCkgKyAnJSc7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25Nb3VzZURvd24oZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICBpZiAoZXZ0LmJ1dHRvbiAhPT0gMCB8fCB0aGlzLmRpc2FibGVkKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fb25TbGlkZVN0YXJ0KGV2dC5wYWdlWCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25Ub3VjaFN0YXJ0KGV2dDogVG91Y2hFdmVudCkge1xyXG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdG91Y2ggPSBldnQuY2hhbmdlZFRvdWNoZXNbaV07XHJcbiAgICAgIGlmICghKDxIVE1MRWxlbWVudD4odG91Y2gudGFyZ2V0KSkudWkgfHwgKDxIVE1MRWxlbWVudD4odG91Y2gudGFyZ2V0KSkudWkgIT09IHRoaXMpXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICB0aGlzLmV2dFRvdWNoSWQgPSB0b3VjaC5pZGVudGlmaWVyO1xyXG4gICAgICB0aGlzLl9vblNsaWRlU3RhcnQodG91Y2gucGFnZVgpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIF9vblNsaWRlU3RhcnQocGFnZVg6IG51bWJlcikge1xyXG4gICAgdGhpcy5lbGVtZW50SGFuZGxlLmZvY3VzKCk7XHJcblxyXG4gICAgdGhpcy5yZW5kZXJDaGFuZ2VzID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHRoaXMuZXZ0VG91Y2hJZCA9PT0gbnVsbCkge1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5ldnRNb3VzZU1vdmUuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuZXZ0TW91c2VVcC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5ldnRUb3VjaE1vdmUuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmV2dFRvdWNoRW5kLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNsYXNzIS5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgIHRoaXMuZW1pdCgnc3RhcnQnLCB0aGlzLnZhbHVlKTtcclxuXHJcbiAgICB0aGlzLl9vblNsaWRlTW92ZShwYWdlWCk7XHJcblxyXG4gICAgaWYgKHRoaXMuX2xpbmsgJiYgdGhpcy5fbGluay5oaXN0b3J5KVxyXG4gICAgICB0aGlzLl9saW5rLmhpc3RvcnkuY29tYmluZSA9IHRydWU7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBfb25TbGlkZU1vdmUocGFnZVg6IG51bWJlcikge1xyXG4gICAgbGV0IHJlY3QgPSB0aGlzLmVsZW1lbnQhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAocGFnZVggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCkpO1xyXG5cclxuICAgIGxldCByYW5nZSA9IHRoaXMuX21heCAtIHRoaXMuX21pbjtcclxuICAgIGxldCB2YWx1ZSA9ICh4ICogcmFuZ2UpICsgdGhpcy5fbWluO1xyXG4gICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pKTtcclxuXHJcbiAgICB0aGlzLl91cGRhdGVIYW5kbGUodmFsdWUpO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgX29uU2xpZGVFbmQocGFnZVg6IG51bWJlcikge1xyXG4gICAgdGhpcy5fb25TbGlkZU1vdmUocGFnZVgpO1xyXG5cclxuICAgIHRoaXMucmVuZGVyQ2hhbmdlcyA9IHRydWU7XHJcblxyXG4gICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHJcbiAgICBpZiAodGhpcy5ldnRUb3VjaElkID09PSBudWxsKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmV2dE1vdXNlTW92ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmV2dE1vdXNlVXAuYmluZCh0aGlzKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5ldnRUb3VjaE1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuZXZ0VG91Y2hFbmQuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2xpbmsgJiYgdGhpcy5fbGluay5oaXN0b3J5KVxyXG4gICAgICB0aGlzLl9saW5rLmhpc3RvcnkuY29tYmluZSA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuZW1pdCgnZW5kJywgdGhpcy52YWx1ZSk7XHJcbiAgfTtcclxuXHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNsaWRlckFyZ3Mge1xyXG4gIHByZWNpc2lvbj86IG51bWJlcjtcclxuICBtaW4/OiBudW1iZXI7XHJcbiAgbWF4PzogbnVtYmVyO1xyXG59IiwiaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuL2VsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0RmllbGQgZXh0ZW5kcyBFbGVtZW50IHtcclxuXHJcbiAgcHVibGljIGVsZW1lbnRJbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgcHVibGljIGV2dEtleUNoYW5nZTogYm9vbGVhbjtcclxuICBwdWJsaWMgaWdub3JlQ2hhbmdlOiBib29sZWFuO1xyXG4gIHB1YmxpYyBibHVyT25FbnRlcjogYm9vbGVhbjtcclxuICBwdWJsaWMgcmVmb2N1c2FibGU6IGJvb2xlYW47XHJcblxyXG5cclxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5fbGluaykge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgLy8gVE9ET1xyXG4gICAgICAvLyBpZiAoIXRoaXMuX2xpbmsuc2V0KHRoaXMucGF0aCwgdmFsdWUpKSB7XHJcbiAgICAgIC8vICAgdGhpcy5lbGVtZW50SW5wdXQudmFsdWUgPSB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgICAvLyB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5lbGVtZW50SW5wdXQudmFsdWUgPT09IHZhbClcclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9IHZhbCB8fCAnJztcclxuICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBnZXQgcGxhY2Vob2xkZXIoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQhLmdldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKSB8fCAnJztcclxuICB9XHJcbiAgcHVibGljIHNldCBwbGFjZWhvbGRlcih2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKCF2YWwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5yZW1vdmVBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCB2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwcm94eSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudCEuZ2V0QXR0cmlidXRlKCdwcm94eScpIHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHByb3h5KHZhbDogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnJlbW92ZUF0dHJpYnV0ZSgncHJveHknKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc2V0QXR0cmlidXRlKCdwcm94eScsIHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGtleUNoYW5nZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmV2dEtleUNoYW5nZTtcclxuICB9XHJcbiAgcHVibGljIHNldCBrZXlDaGFuZ2UodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5ldnRLZXlDaGFuZ2UgPT09ICEhdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX29uQ2hhbmdlLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHBsYWNlaG9sZGVyPzogc3RyaW5nLCB2YWx1ZT86IHN0cmluZykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS10ZXh0LWZpZWxkJyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQudWkgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuY2xhc3NMaXN0LmFkZCgnZmllbGQnKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC50YWJJbmRleCA9IDA7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uSW5wdXRGb2N1cy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fb25JbnB1dEJsdXIuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudElucHV0KTtcclxuXHJcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcclxuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9vbkZ1bGxTZWxlY3QuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5ldnRLZXlDaGFuZ2UgPSBmYWxzZTtcclxuICAgIHRoaXMuaWdub3JlQ2hhbmdlID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5ibHVyT25FbnRlciA9IHRydWU7XHJcbiAgICB0aGlzLnJlZm9jdXNhYmxlID0gdHJ1ZTtcclxuXHJcbiAgICB0aGlzLm9uKCdkaXNhYmxlJywgdGhpcy5fb25EaXNhYmxlKTtcclxuICAgIHRoaXMub24oJ2VuYWJsZScsIHRoaXMuX29uRW5hYmxlKTtcclxuICAgIHRoaXMub24oJ2NoYW5nZScsIHRoaXMuX29uQ2hhbmdlRmllbGQpO1xyXG5cclxuICAgIGlmIChwbGFjZWhvbGRlcilcclxuICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xyXG5cclxuICB9XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uQ2hhbmdlKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaWdub3JlQ2hhbmdlKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgfHwgJyc7XHJcblxyXG4gICAgaWYgKCF0aGlzLl9saW5rKVxyXG4gICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25LZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSAyNykge1xyXG4gICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmJsdXJPbkVudGVyICYmIGV2dC5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICBsZXQgZm9jdXNlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgbGV0IHBhcmVudDogTnVsbGFibGU8RWxlbWVudD4gPSB0aGlzLnBhcmVudDtcclxuICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgIGlmIChwYXJlbnQuZWxlbWVudCAmJiBwYXJlbnQuZWxlbWVudC5mb2N1cykge1xyXG4gICAgICAgICAgcGFyZW50LmVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgIGZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZm9jdXNlZClcclxuICAgICAgICAoPEhUTUxFbGVtZW50PmV2dC50YXJnZXQpLmJsdXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uRnVsbFNlbGVjdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnNlbGVjdCgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGZvY3VzKHNlbGVjdD86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmZvY3VzKCk7XHJcbiAgICBpZiAoc2VsZWN0KSB0aGlzLmVsZW1lbnRJbnB1dC5zZWxlY3QoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uSW5wdXRGb2N1cygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xhc3MhLmFkZCgnZm9jdXMnKTtcclxuICAgIHRoaXMuZW1pdCgnaW5wdXQ6Zm9jdXMnKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uSW5wdXRCbHVyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdmb2N1cycpO1xyXG4gICAgdGhpcy5lbWl0KCdpbnB1dDpibHVyJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5yZWFkT25seSA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnJlYWRPbmx5ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkNoYW5nZUZpZWxkKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnJlbmRlckNoYW5nZXMpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmZsYXNoKCk7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7IEVsZW1lbnQgfSBmcm9tIFwiLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dEFyZWFGaWVsZCBleHRlbmRzIEVsZW1lbnQge1xyXG5cclxuICBwdWJsaWMgZWxlbWVudElucHV0OiBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gIHB1YmxpYyBldnRLZXlDaGFuZ2U6IGJvb2xlYW47XHJcbiAgcHVibGljIGlnbm9yZUNoYW5nZTogYm9vbGVhbjtcclxuICBwdWJsaWMgYmx1ck9uRW50ZXI6IGJvb2xlYW47XHJcbiAgcHVibGljIHJlZm9jdXNhYmxlOiBib29sZWFuO1xyXG5cclxuICBwdWJsaWMgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5fbGluaykge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuX2xpbmspIHtcclxuICAgICAgLy8gVE9ET1xyXG4gICAgICAvLyBpZiAoIXRoaXMuX2xpbmsuc2V0KHRoaXMucGF0aCwgdmFsdWUpKSB7XHJcbiAgICAgIC8vICAgdGhpcy5lbGVtZW50SW5wdXQudmFsdWUgPSB0aGlzLl9saW5rLmdldCh0aGlzLnBhdGgpO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgICB0aGlzLl9saW5rLnNldCh0aGlzLnBhdGgsIHZhbCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdGhpcy5fbGluay5nZXQodGhpcy5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRJbnB1dC52YWx1ZSA9PT0gdmFsKVxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdmFsIHx8ICcnO1xyXG4gICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYWNlaG9sZGVyKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50IS5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJykgfHwgJyc7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgcGxhY2Vob2xkZXIodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICghdmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEucmVtb3ZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgdmFsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQga2V5Q2hhbmdlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZXZ0S2V5Q2hhbmdlO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGtleUNoYW5nZSh2YWw6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLmV2dEtleUNoYW5nZSA9PT0gISF2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50SW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9vbkNoYW5nZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcHJveHkoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQhLmdldEF0dHJpYnV0ZSgncHJveHknKSB8fCAnJztcclxuICB9XHJcbiAgcHVibGljIHNldCBwcm94eSh2YWw6IHN0cmluZykge1xyXG4gICAgaWYgKCF2YWwpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5yZW1vdmVBdHRyaWJ1dGUoJ3Byb3h5Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnNldEF0dHJpYnV0ZSgncHJveHknLCB2YWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHBsYWNlaG9sZGVyPzogc3RyaW5nLCB2YWx1ZT86IHN0cmluZywgYmx1ck9uRW50ZXI/OiBib29sZWFuKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLXRleHRhcmVhLWZpZWxkJyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQudWkgPSB0aGlzO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuY2xhc3NMaXN0LmFkZCgnZmllbGQnKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnRhYkluZGV4ID0gMDtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25JbnB1dEZvY3VzLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9vbklucHV0Qmx1ci5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50SW5wdXQpO1xyXG5cclxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2UuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX29uRnVsbFNlbGVjdC5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmV2dEtleUNoYW5nZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5pZ25vcmVDaGFuZ2UgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLmJsdXJPbkVudGVyID0gYmx1ck9uRW50ZXIgIT09IHVuZGVmaW5lZCA/IGJsdXJPbkVudGVyIDogdHJ1ZTtcclxuICAgIHRoaXMucmVmb2N1c2FibGUgPSB0cnVlO1xyXG5cclxuICAgIHRoaXMub24oJ2Rpc2FibGUnLCB0aGlzLl9vbkRpc2FibGUpO1xyXG4gICAgdGhpcy5vbignZW5hYmxlJywgdGhpcy5fb25FbmFibGUpO1xyXG4gICAgdGhpcy5vbignY2hhbmdlJywgdGhpcy5fb25DaGFuZ2VGaWVsZCk7XHJcblxyXG4gICAgaWYgKHBsYWNlaG9sZGVyKVxyXG4gICAgICB0aGlzLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25DaGFuZ2UoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5pZ25vcmVDaGFuZ2UpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSB8fCAnJztcclxuXHJcbiAgICBpZiAoIXRoaXMuX2xpbmspXHJcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgdGhpcy52YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbktleURvd24oZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDI3KSB7XHJcbiAgICAgICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmJsdXJPbkVudGVyICYmIGV2dC5rZXlDb2RlID09PSAxMyAmJiAhZXZ0LnNoaWZ0S2V5KSB7XHJcbiAgICAgIGxldCBmb2N1c2VkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxFbGVtZW50PiA9IHRoaXMucGFyZW50O1xyXG4gICAgICB3aGlsZSAocGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHBhcmVudC5lbGVtZW50ICYmIHBhcmVudC5lbGVtZW50LmZvY3VzKSB7XHJcbiAgICAgICAgICBwYXJlbnQuZWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgZm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFmb2N1c2VkKVxyXG4gICAgICAgICg8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldCkuYmx1cigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25GdWxsU2VsZWN0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQuc2VsZWN0KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbklucHV0Rm9jdXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNsYXNzIS5hZGQoJ2ZvY3VzJyk7XHJcbiAgICB0aGlzLmVtaXQoJ2lucHV0OmZvY3VzJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbklucHV0Qmx1cigpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnZm9jdXMnKTtcclxuICAgIHRoaXMuZW1pdCgnaW5wdXQ6Ymx1cicpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5lbGVtZW50SW5wdXQucmVhZE9ubHkgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25FbmFibGUoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRJbnB1dC5yZWFkT25seSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25DaGFuZ2VGaWVsZCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5yZW5kZXJDaGFuZ2VzKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5mbGFzaCgpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBmb2N1cyhzZWxlY3Q6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LmZvY3VzKCk7XHJcbiAgICBpZiAoc2VsZWN0KSB0aGlzLmVsZW1lbnRJbnB1dC5zZWxlY3QoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBfb25MaW5rQ2hhbmdlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZWxlbWVudElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHZhbHVlKTtcclxuICB9XHJcblxyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBDb250YWluZXJFbGVtZW50IH0gZnJvbSBcIi4vY29udGFpbmVyLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgVG9wRWxlbWVudENvbnRhaW5lciB9IGZyb20gXCIuL3RvcFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBDb250YWluZXJFbGVtZW50IHtcclxuXHJcbiAgcHVibGljIGFycm93OiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgaG92ZXJhYmxlOiBib29sZWFuO1xyXG4gIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgcHVibGljIHk6IG51bWJlcjtcclxuXHJcbiAgcHJpdmF0ZSBfYWxpZ246IHN0cmluZztcclxuICBwdWJsaWMgZ2V0IGFsaWduKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5fYWxpZ247XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgYWxpZ24odmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLl9hbGlnbiA9PT0gdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdhbGlnbi0nICsgdGhpcy5fYWxpZ24pO1xyXG4gICAgdGhpcy5fYWxpZ24gPSB2YWw7XHJcbiAgICB0aGlzLmNsYXNzIS5hZGQoJ2FsaWduLScgKyB0aGlzLl9hbGlnbik7XHJcblxyXG4gICAgdGhpcy5fcmVmbG93KCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGh0bWwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmlubmVyRWxlbWVudCEuaW5uZXJIVE1MO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGh0bWwodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLmlubmVyRWxlbWVudCEuaW5uZXJIVE1MID09PSB2YWwpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCEuaW5uZXJIVE1MID0gdmFsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB0ZXh0KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5pbm5lckVsZW1lbnQhLnRleHRDb250ZW50IHx8ICcnO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLmlubmVyRWxlbWVudCEudGV4dENvbnRlbnQgPT09IHZhbClcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuaW5uZXJFbGVtZW50IS50ZXh0Q29udGVudCA9IHZhbDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZmxpcCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNsYXNzIS5jb250YWlucygnZmxpcCcpO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IGZsaXAodmFsOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ2ZsaXAnKSA9PT0gdmFsKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ2ZsaXAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnZmxpcCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3JlZmxvdygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGFyZ3M/OiBUb29sdGlwQXJncykge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3VpLXRvb2x0aXAnLCAnYWxpZ24tbGVmdCcpO1xyXG5cclxuICAgIHRoaXMuaW5uZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbm5lcicpO1xyXG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaW5uZXJFbGVtZW50KTtcclxuXHJcbiAgICB0aGlzLmFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLmFycm93LmNsYXNzTGlzdC5hZGQoJ2Fycm93Jyk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5hcnJvdyk7XHJcblxyXG4gICAgdGhpcy5ob3ZlcmFibGUgPSBhcmdzLmhvdmVyYWJsZSB8fCBmYWxzZTtcclxuICAgIHRoaXMueCA9IGFyZ3MueCB8fCAwO1xyXG4gICAgdGhpcy55ID0gYXJncy55IHx8IDA7XHJcbiAgICB0aGlzLl9hbGlnbiA9ICdsZWZ0JztcclxuICAgIHRoaXMuYWxpZ24gPSBhcmdzLmFsaWduIHx8ICdsZWZ0JztcclxuXHJcbiAgICB0aGlzLm9uKCdzaG93JywgdGhpcy5fcmVmbG93KTtcclxuICAgIHRoaXMuaGlkZGVuID0gYXJncy5oaWRkZW4gIT09IHVuZGVmaW5lZCA/IGFyZ3MuaGlkZGVuIDogdHJ1ZTtcclxuICAgIGlmIChhcmdzLmh0bWwpIHtcclxuICAgICAgdGhpcy5odG1sID0gYXJncy5odG1sO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50ZXh0ID0gYXJncy50ZXh0IHx8ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLl9vbk1vdXNlT3Zlci5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX29uTW91c2VMZWF2ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25Nb3VzZU92ZXIoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuaG92ZXJhYmxlKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcclxuICAgIHRoaXMuZW1pdCgnaG92ZXInLCBldnQpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25Nb3VzZUxlYXZlKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmhvdmVyYWJsZSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgeCA9IE1hdGguZmxvb3IoeCk7XHJcbiAgICB5ID0gTWF0aC5mbG9vcih5KTtcclxuXHJcbiAgICBpZiAodGhpcy54ID09PSB4ICYmIHRoaXMueSA9PT0geSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG5cclxuICAgIHRoaXMuX3JlZmxvdygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfcmVmbG93KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaGlkZGVuKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5lbGVtZW50IS5zdHlsZS50b3AgPSAnJztcclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUucmlnaHQgPSAnJztcclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUuYm90dG9tID0gJyc7XHJcbiAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmxlZnQgPSAnJztcclxuXHJcbiAgICB0aGlzLmFycm93LnN0eWxlLnRvcCA9ICcnO1xyXG4gICAgdGhpcy5hcnJvdy5zdHlsZS5yaWdodCA9ICcnO1xyXG4gICAgdGhpcy5hcnJvdy5zdHlsZS5ib3R0b20gPSAnJztcclxuICAgIHRoaXMuYXJyb3cuc3R5bGUubGVmdCA9ICcnO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgLy8gYWxpZ25tZW50XHJcbiAgICBzd2l0Y2ggKHRoaXMuX2FsaWduKSB7XHJcbiAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS50b3AgPSB0aGlzLnkgKyAncHgnO1xyXG4gICAgICAgIGlmICh0aGlzLmZsaXApIHtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUucmlnaHQgPSAnY2FsYygxMDAlIC0gJyArIHRoaXMueCArICdweCknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmxlZnQgPSB0aGlzLnggKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUudG9wID0gdGhpcy55ICsgJ3B4JztcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLnJpZ2h0ID0gJ2NhbGMoMTAwJSAtICcgKyB0aGlzLnggKyAncHgpJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmJvdHRvbSA9ICdjYWxjKDEwMCUgLSAnICsgdGhpcy55ICsgJ3B4KSc7XHJcbiAgICAgICAgaWYgKHRoaXMuZmxpcCkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5yaWdodCA9ICdjYWxjKDEwMCUgLSAnICsgdGhpcy54ICsgJ3B4KSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUubGVmdCA9IHRoaXMueCArICdweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLnRvcCA9IHRoaXMueSArICdweCc7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5sZWZ0ID0gdGhpcy54ICsgJ3B4JztcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICAvLyBsaW1pdCB0byBzY3JlZW4gYm91bmRzXHJcbiAgICBsZXQgcmVjdCA9IHRoaXMuZWxlbWVudCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgaWYgKHJlY3QubGVmdCA8IDApIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5sZWZ0ID0gJzBweCc7XHJcbiAgICAgIHRoaXMuZWxlbWVudCEuc3R5bGUucmlnaHQgPSAnJztcclxuICAgIH1cclxuICAgIGlmIChyZWN0LnRvcCA8IDApIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS50b3AgPSAnMHB4JztcclxuICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5ib3R0b20gPSAnJztcclxuICAgIH1cclxuICAgIGlmIChyZWN0LnJpZ2h0ID4gd2luZG93LmlubmVyV2lkdGgpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5yaWdodCA9ICcwcHgnO1xyXG4gICAgICB0aGlzLmVsZW1lbnQhLnN0eWxlLmxlZnQgPSAnJztcclxuICAgICAgdGhpcy5hcnJvdy5zdHlsZS5sZWZ0ID0gTWF0aC5mbG9vcihyZWN0LnJpZ2h0IC0gd2luZG93LmlubmVyV2lkdGggKyA4KSArICdweCc7XHJcbiAgICB9XHJcbiAgICBpZiAocmVjdC5ib3R0b20gPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS5ib3R0b20gPSAnMHB4JztcclxuICAgICAgdGhpcy5lbGVtZW50IS5zdHlsZS50b3AgPSAnJztcclxuICAgICAgdGhpcy5hcnJvdy5zdHlsZS50b3AgPSBNYXRoLmZsb29yKHJlY3QuYm90dG9tIC0gd2luZG93LmlubmVySGVpZ2h0ICsgOCkgKyAncHgnO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCEuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGV2dEhvdmVyKCk6IHZvaWQge1xyXG5cclxuICB9XHJcblxyXG4gIHB1YmxpYyBldnRCbHVyKCk6IHZvaWQge1xyXG5cclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgc3RhdGljIGF0dGFjaChhcmdzOiBUb29sdGlwQXJncyk6IFRvb2x0aXAge1xyXG4gICAgbGV0IGRhdGE6IFRvb2x0aXBBcmdzID0ge1xyXG4gICAgICBhbGlnbjogYXJncy5hbGlnbixcclxuICAgICAgaG92ZXJhYmxlOiBhcmdzLmhvdmVyYWJsZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmdzLmh0bWwpIHtcclxuICAgICAgZGF0YS5odG1sID0gYXJncy5odG1sO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGF0YS50ZXh0ID0gYXJncy50ZXh0IHx8ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpdGVtOiBUb29sdGlwID0gbmV3IFRvb2x0aXAoZGF0YSk7XHJcblxyXG4gICAgaXRlbS5ldnRIb3ZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgbGV0IHJlY3QgPSBhcmdzLnRhcmdldCEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGxldCBvZmYgPSAxNjtcclxuXHJcbiAgICAgIHN3aXRjaCAoaXRlbS5hbGlnbikge1xyXG4gICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgICBpZiAocmVjdC53aWR0aCA8IDY0KSBvZmYgPSByZWN0LndpZHRoIC8gMjtcclxuICAgICAgICAgIGl0ZW0uZmxpcCA9IHJlY3QubGVmdCArIG9mZiA+IHdpbmRvdy5pbm5lcldpZHRoIC8gMjtcclxuICAgICAgICAgIGlmIChpdGVtLmZsaXApIHtcclxuICAgICAgICAgICAgaXRlbS5wb3NpdGlvbihyZWN0LnJpZ2h0IC0gb2ZmLCByZWN0LmJvdHRvbSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpdGVtLnBvc2l0aW9uKHJlY3QubGVmdCArIG9mZiwgcmVjdC5ib3R0b20pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgaWYgKHJlY3QuaGVpZ2h0IDwgNjQpIG9mZiA9IHJlY3QuaGVpZ2h0IC8gMjtcclxuICAgICAgICAgIGl0ZW0uZmxpcCA9IGZhbHNlO1xyXG4gICAgICAgICAgaXRlbS5wb3NpdGlvbihyZWN0LmxlZnQsIHJlY3QudG9wICsgb2ZmKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICBpZiAocmVjdC53aWR0aCA8IDY0KSBvZmYgPSByZWN0LndpZHRoIC8gMjtcclxuICAgICAgICAgIGl0ZW0uZmxpcCA9IHJlY3QubGVmdCArIG9mZiA+IHdpbmRvdy5pbm5lcldpZHRoIC8gMjtcclxuICAgICAgICAgIGlmIChpdGVtLmZsaXApIHtcclxuICAgICAgICAgICAgaXRlbS5wb3NpdGlvbihyZWN0LnJpZ2h0IC0gb2ZmLCByZWN0LnRvcCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpdGVtLnBvc2l0aW9uKHJlY3QubGVmdCArIG9mZiwgcmVjdC50b3ApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICBpZiAocmVjdC5oZWlnaHQgPCA2NCkgb2ZmID0gcmVjdC5oZWlnaHQgLyAyO1xyXG4gICAgICAgICAgaXRlbS5mbGlwID0gZmFsc2U7XHJcbiAgICAgICAgICBpdGVtLnBvc2l0aW9uKHJlY3QucmlnaHQsIHJlY3QudG9wICsgb2ZmKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVtLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBpdGVtLmV2dEJsdXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGl0ZW0uaGlkZGVuID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgYXJncy50YXJnZXQhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGl0ZW0uZXZ0SG92ZXIsIGZhbHNlKTtcclxuICAgIGFyZ3MudGFyZ2V0IS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGl0ZW0uZXZ0Qmx1ciwgZmFsc2UpO1xyXG5cclxuICAgIGl0ZW0ub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGFyZ3MudGFyZ2V0IS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBpdGVtLmV2dEhvdmVyKTtcclxuICAgICAgYXJncy50YXJnZXQhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgaXRlbS5ldnRCbHVyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFyZ3Mucm9vdCEuYXBwZW5kKGl0ZW0pO1xyXG5cclxuICAgIHJldHVybiBpdGVtO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBhdHRhY2hSZWZlcmVuY2UoYXJnczogYW55KTogdm9pZCB7XHJcblxyXG4gIH1cclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9vbHRpcEFyZ3Mge1xyXG5cclxuICB0YXJnZXQ/OiBIVE1MRWxlbWVudDtcclxuICB0ZXh0Pzogc3RyaW5nO1xyXG4gIGFsaWduPzogc3RyaW5nO1xyXG4gIHJvb3Q/OiBUb3BFbGVtZW50Q29udGFpbmVyO1xyXG4gIGhvdmVyYWJsZT86IGJvb2xlYW47XHJcbiAgaHRtbD86IHN0cmluZztcclxuICB4PzogbnVtYmVyO1xyXG4gIHk/OiBudW1iZXI7XHJcbiAgaGlkZGVuPzogYm9vbGVhbjtcclxuXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL3RvcC1lbGVtZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi90b3AtZWxlbWVudC1jb250YWluZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3RvcC1lbGVtZW50LXBhbmVsJzsiLCJpbXBvcnQgeyBUb3BFbGVtZW50IH0gZnJvbSBcIi4vdG9wLWVsZW1lbnRcIjtcclxuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gXCIuLi9lbGVtZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVG9wRWxlbWVudENvbnRhaW5lciBleHRlbmRzIFRvcEVsZW1lbnQge1xyXG5cclxuXHJcbiAgICBwdWJsaWMgUkVTSVpFX0hBTkRMRV9TSVpFID0gNDtcclxuXHJcbiAgICBwdWJsaWMgVkFMSURfUkVTSVpBQkxFX1ZBTFVFUyA9IFtcclxuICAgICAgICBudWxsLFxyXG4gICAgICAgICd0b3AnLFxyXG4gICAgICAgICdyaWdodCcsXHJcbiAgICAgICAgJ2JvdHRvbScsXHJcbiAgICAgICAgJ2xlZnQnXHJcbiAgICBdO1xyXG5cclxuICAgIHByaXZhdGUgX2ZsZXg6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2dyaWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX3Njcm9sbGFibGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX3Jlc2l6YWJsZTogTnVsbGFibGU8c3RyaW5nPiA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9yZXNpemVNaW46IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF9yZXNpemVNYXg6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBfZG9tQ29udGVudDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+ID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIF9kb21FdmVudFNjcm9sbDogYW55O1xyXG4gICAgcHJpdmF0ZSBfZG9tUmVzaXplSGFuZGxlOiBhbnk7XHJcbiAgICBwcml2YXRlIF9yZXNpemVIb3Jpem9udGFsbHk6IGJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBfZG9tRXZlbnRSZXNpemVTdGFydDogYW55O1xyXG4gICAgcHJpdmF0ZSBfZG9tRXZlbnRSZXNpemVNb3ZlOiBhbnk7XHJcbiAgICBwcml2YXRlIF9kb21FdmVudFJlc2l6ZUVuZDogYW55O1xyXG4gICAgcHJpdmF0ZSBfZG9tRXZlbnRSZXNpemVUb3VjaFN0YXJ0OiBhbnk7XHJcbiAgICBwcml2YXRlIF9kb21FdmVudFJlc2l6ZVRvdWNoTW92ZTogYW55O1xyXG4gICAgcHJpdmF0ZSBfZG9tRXZlbnRSZXNpemVUb3VjaEVuZDogYW55O1xyXG4gICAgcHJpdmF0ZSBfcmVzaXplVG91Y2hJZDogYW55O1xyXG4gICAgcHJpdmF0ZSBfcmVzaXplRGF0YTogYW55O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGZsZXgoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsZXg7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGZsZXgodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX2ZsZXgpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fZmxleCA9IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdwY3VpLWZsZXgnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3BjdWktZmxleCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGdyaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyaWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGdyaWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX2dyaWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fZ3JpZCA9IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdwY3VpLWdyaWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3BjdWktZ3JpZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHNjcm9sbGFibGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbGFibGU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IHNjcm9sbGFibGUodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3Njcm9sbGFibGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fc2Nyb2xsYWJsZSA9IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdwY3VpLXNjcm9sbGFibGUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3BjdWktc2Nyb2xsYWJsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHJlc2l6YWJsZSgpOiBOdWxsYWJsZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXphYmxlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCByZXNpemFibGUodmFsdWU6IE51bGxhYmxlPHN0cmluZz4pIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3Jlc2l6YWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5WQUxJRF9SRVNJWkFCTEVfVkFMVUVTLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHJlc2l6YWJsZSB2YWx1ZTogbXVzdCBiZSBvbmUgb2YgJyArIHRoaXMuVkFMSURfUkVTSVpBQkxFX1ZBTFVFUy5qb2luKCcsJykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyByZW1vdmUgb2xkIGNsYXNzXHJcbiAgICAgICAgaWYgKHRoaXMuX3Jlc2l6YWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3BjdWktcmVzaXphYmxlLScgKyB0aGlzLl9yZXNpemFibGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcmVzaXphYmxlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fcmVzaXplSG9yaXpvbnRhbGx5ID0gKHZhbHVlID09PSAncmlnaHQnIHx8IHZhbHVlID09PSAnbGVmdCcpO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gYWRkIHJlc2l6ZSBjbGFzcyBhbmQgY3JlYXRlIC8gYXBwZW5kIHJlc2l6ZSBoYW5kbGVcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdwY3VpLXJlc2l6YWJsZScpO1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5hZGQoJ3BjdWktcmVzaXphYmxlLScgKyB2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RvbVJlc2l6ZUhhbmRsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlUmVzaXplSGFuZGxlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kb20hLmFwcGVuZENoaWxkKHRoaXMuX2RvbVJlc2l6ZUhhbmRsZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIHJlc2l6ZSBjbGFzcyBhbmQgcmVzaXplIGhhbmRsZVxyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3BjdWktcmVzaXphYmxlJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kb21SZXNpemVIYW5kbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG9tIS5yZW1vdmVDaGlsZCh0aGlzLl9kb21SZXNpemVIYW5kbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgcmVzaXplTWluKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZU1pbjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgcmVzaXplTWluKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9yZXNpemVNaW4gPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSwgdGhpcy5fcmVzaXplTWF4KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCByZXNpemVNYXgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplTWF4O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCByZXNpemVNYXgodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3Jlc2l6ZU1heCA9IE1hdGgubWF4KHRoaXMuX3Jlc2l6ZU1pbiwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgZG9tQ29udGVudCgpOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb21Db250ZW50O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBkb21Db250ZW50KHZhbHVlOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4pIHtcclxuICAgICAgICBpZiAodGhpcy5fZG9tQ29udGVudCA9PT0gdmFsdWUpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2RvbUNvbnRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZG9tQ29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9kb21FdmVudFNjcm9sbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9kb21Db250ZW50ID0gdmFsdWU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9kb21Db250ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RvbUNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fZG9tRXZlbnRTY3JvbGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGlubmVyRWxlbWVudCgpOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRvbUNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGlubmVyRWxlbWVudCh2YWx1ZTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+KSB7XHJcbiAgICAgICAgdGhpcy5kb21Db250ZW50ID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihhcmdzOiBhbnkpIHtcclxuICAgICAgICBzdXBlcihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgYXJncyk7XHJcblxyXG4gICAgICAgIGlmICghYXJncykgYXJncyA9IHt9XHJcblxyXG4gICAgICAgIHZhciBkb20gPSB0aGlzLmRvbSE7XHJcbiAgICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoJ3BjdWktY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50U2Nyb2xsID0gdGhpcy5fb25TY3JvbGwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmRvbUNvbnRlbnQgPSBkb207XHJcblxyXG4gICAgICAgIC8vIHBjdWkuRWxlbWVudC5jYWxsKHRoaXMsIGRvbSwgYXJncyk7XHJcbiAgICAgICAgLy8gcGN1aS5JQ29udGFpbmVyLmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gcGN1aS5JRmxleC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIHBjdWkuSUdyaWQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBwY3VpLklTY3JvbGxhYmxlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gcGN1aS5JUmVzaXphYmxlLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHNjcm9sbFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsYWJsZSA9IGFyZ3Muc2Nyb2xsYWJsZSAhPT0gdW5kZWZpbmVkID8gYXJncy5zY3JvbGxhYmxlIDogZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGZsZXhcclxuICAgICAgICB0aGlzLmZsZXggPSAhIWFyZ3MuZmxleDtcclxuXHJcbiAgICAgICAgLy8gZ3JpZFxyXG4gICAgICAgIHZhciBncmlkID0gISFhcmdzLmdyaWQ7XHJcbiAgICAgICAgaWYgKGdyaWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmxleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBwY3VpLkNvbnRhaW5lciBhcmd1bWVudHM6IFwiZ3JpZFwiIGFuZCBcImZsZXhcIiBjYW5ub3QgYm90aCBiZSB0cnVlLicpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XHJcblxyXG4gICAgICAgIC8vIHJlc2l6ZSByZWxhdGVkXHJcbiAgICAgICAgdGhpcy5fZG9tUmVzaXplSGFuZGxlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9kb21FdmVudFJlc2l6ZVN0YXJ0ID0gdGhpcy5fb25SZXNpemVTdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50UmVzaXplTW92ZSA9IHRoaXMuX29uUmVzaXplTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50UmVzaXplRW5kID0gdGhpcy5fb25SZXNpemVFbmQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9kb21FdmVudFJlc2l6ZVRvdWNoU3RhcnQgPSB0aGlzLl9vblJlc2l6ZVRvdWNoU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9kb21FdmVudFJlc2l6ZVRvdWNoTW92ZSA9IHRoaXMuX29uUmVzaXplVG91Y2hNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5fZG9tRXZlbnRSZXNpemVUb3VjaEVuZCA9IHRoaXMuX29uUmVzaXplVG91Y2hFbmQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9yZXNpemVUb3VjaElkID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9yZXNpemVEYXRhID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9yZXNpemVIb3Jpem9udGFsbHkgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2l6YWJsZSA9IGFyZ3MucmVzaXphYmxlIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5fcmVzaXplTWluID0gMTAwO1xyXG4gICAgICAgIHRoaXMuX3Jlc2l6ZU1heCA9IDMwMDtcclxuXHJcbiAgICAgICAgaWYgKGFyZ3MucmVzaXplTWluICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVNaW4gPSBhcmdzLnJlc2l6ZU1pbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZ3MucmVzaXplTWF4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVNYXggPSBhcmdzLnJlc2l6ZU1heDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhcHBlbmQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBUb3BFbGVtZW50IHwgRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBkb20gPSB0aGlzLl9nZXREb21Gcm9tRWxlbWVudChlbGVtZW50KTtcclxuICAgICAgICB0aGlzLl9kb21Db250ZW50IS5hcHBlbmRDaGlsZChkb20pO1xyXG4gICAgICAgIHRoaXMuX29uQXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBhcHBlbmRCZWZvcmUoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBUb3BFbGVtZW50IHwgRWxlbWVudCwgcmVmZXJlbmNlRWxlbWVudDogSFRNTEVsZW1lbnQgfCBUb3BFbGVtZW50IHwgRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBkb20gPSB0aGlzLl9nZXREb21Gcm9tRWxlbWVudChlbGVtZW50KTtcclxuICAgICAgICB0aGlzLl9kb21Db250ZW50IS5hcHBlbmRDaGlsZChkb20pO1xyXG4gICAgICAgIHZhciByZWZlcmVuY2VEb20gPSByZWZlcmVuY2VFbGVtZW50ICYmIHRoaXMuX2dldERvbUZyb21FbGVtZW50KHJlZmVyZW5jZUVsZW1lbnQpO1xyXG5cclxuICAgICAgICBpZiAoKHJlZmVyZW5jZURvbSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZG9tQ29udGVudCEuaW5zZXJ0QmVmb3JlKGRvbSwgcmVmZXJlbmNlRG9tKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9kb21Db250ZW50IS5hcHBlbmRDaGlsZChkb20pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fb25BcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGFwcGVuZEFmdGVyKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgVG9wRWxlbWVudCB8IEVsZW1lbnQsIHJlZmVyZW5jZUVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgVG9wRWxlbWVudCB8IEVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgZG9tID0gdGhpcy5fZ2V0RG9tRnJvbUVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgdmFyIHJlZmVyZW5jZURvbSA9IHJlZmVyZW5jZUVsZW1lbnQgJiYgdGhpcy5fZ2V0RG9tRnJvbUVsZW1lbnQocmVmZXJlbmNlRWxlbWVudCk7XHJcblxyXG4gICAgICAgIHZhciBlbGVtZW50QmVmb3JlID0gcmVmZXJlbmNlRG9tID8gcmVmZXJlbmNlRG9tLm5leHRTaWJsaW5nIDogbnVsbDtcclxuICAgICAgICBpZiAoZWxlbWVudEJlZm9yZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kb21Db250ZW50IS5pbnNlcnRCZWZvcmUoZG9tLCBlbGVtZW50QmVmb3JlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9kb21Db250ZW50IS5hcHBlbmRDaGlsZChkb20pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fb25BcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHByZXBlbmQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBUb3BFbGVtZW50IHwgRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBkb20gPSB0aGlzLl9nZXREb21Gcm9tRWxlbWVudChlbGVtZW50KTtcclxuICAgICAgICB2YXIgZmlyc3QgPSB0aGlzLl9kb21Db250ZW50IS5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kb21Db250ZW50IS5pbnNlcnRCZWZvcmUoZG9tLCBmaXJzdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZG9tQ29udGVudCEuYXBwZW5kQ2hpbGQoZG9tKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX29uQXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyByZW1vdmUoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBUb3BFbGVtZW50IHwgRWxlbWVudCkge1xyXG4gICAgICAgIGxldCBodG1sOiBib29sZWFuID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgaWYgKCFodG1sICYmICg8VG9wRWxlbWVudD5lbGVtZW50KS5wYXJlbnQgIT09IHRoaXMpIHJldHVybjtcclxuICAgICAgICB2YXIgZG9tID0gdGhpcy5fZ2V0RG9tRnJvbUVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fZG9tQ29udGVudCEucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICBpZiAoIWh0bWwpXHJcbiAgICAgICAgICAgICg8VG9wRWxlbWVudD5lbGVtZW50KS5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlJywgZWxlbWVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBjbGVhcigpIHtcclxuICAgICAgICBpZiAodGhpcy5fZG9tQ29udGVudCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuX2RvbUNvbnRlbnQuY2hpbGROb2Rlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5fZG9tQ29udGVudC5jaGlsZE5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+bm9kZSkudWkpIHtcclxuICAgICAgICAgICAgICAgICAgICAoPEhUTUxFbGVtZW50Pm5vZGUpLnVpLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fZG9tQ29udGVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX2dldERvbUZyb21FbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgVG9wRWxlbWVudCB8IEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgVG9wRWxlbWVudClcclxuICAgICAgICAgICAgcmV0dXJuICg8VG9wRWxlbWVudD5lbGVtZW50KS5kb20hO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuICg8RWxlbWVudD5lbGVtZW50KS5lbGVtZW50ITtcclxuICAgICAgICAvLyBpZiAoZWxlbWVudC5kb20pIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIGVsZW1lbnQuZG9tO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBpZiAoZWxlbWVudC5lbGVtZW50KSB7XHJcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKCdMZWdhY3kgdWkuRWxlbWVudCBwYXNzZWQgdG8gcGN1aS5Db250YWluZXInLCB0aGlzLmNsYXNzLCBlbGVtZW50LmNsYXNzKTtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIGVsZW1lbnQuZWxlbWVudDtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX29uQXBwZW5kQ2hpbGQoZWxlbWVudDogSFRNTEVsZW1lbnQgfCBUb3BFbGVtZW50IHwgRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgVG9wRWxlbWVudClcclxuICAgICAgICAgICAgKDxUb3BFbGVtZW50PmVsZW1lbnQpLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdhcHBlbmQnLCBlbGVtZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25TY3JvbGwoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdzY3JvbGwnLCBldnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9jcmVhdGVSZXNpemVIYW5kbGUoKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGhhbmRsZS5jbGFzc0xpc3QuYWRkKCdwY3VpLXJlc2l6YWJsZS1oYW5kbGUnKTtcclxuICAgICAgICBoYW5kbGUudWkgPSB0aGlzO1xyXG5cclxuICAgICAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fZG9tRXZlbnRSZXNpemVTdGFydCk7XHJcbiAgICAgICAgaGFuZGxlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9kb21FdmVudFJlc2l6ZVRvdWNoU3RhcnQpO1xyXG5cclxuICAgICAgICB0aGlzLl9kb21SZXNpemVIYW5kbGUgPSBoYW5kbGU7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX29uUmVzaXplU3RhcnQoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fZG9tRXZlbnRSZXNpemVNb3ZlKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2RvbUV2ZW50UmVzaXplRW5kKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVzaXplU3RhcnQoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25SZXNpemVNb3ZlKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVzaXplTW92ZShldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vblJlc2l6ZUVuZChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9kb21FdmVudFJlc2l6ZU1vdmUpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fZG9tRXZlbnRSZXNpemVFbmQpO1xyXG5cclxuICAgICAgICB0aGlzLl9yZXNpemVFbmQoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25SZXNpemVUb3VjaFN0YXJ0KGV2dDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZ0LmNoYW5nZWRUb3VjaGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAodG91Y2gudGFyZ2V0ID09PSB0aGlzLl9kb21SZXNpemVIYW5kbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvdWNoSWQgPSB0b3VjaC5pZGVudGlmaWVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fZG9tRXZlbnRSZXNpemVUb3VjaE1vdmUpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2RvbUV2ZW50UmVzaXplVG91Y2hFbmQpO1xyXG5cclxuICAgICAgICB0aGlzLl9yZXNpemVTdGFydCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vblJlc2l6ZVRvdWNoTW92ZShldnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdG91Y2ggPSBldnQuY2hhbmdlZFRvdWNoZXNbaV07XHJcbiAgICAgICAgICAgIGlmICh0b3VjaC5pZGVudGlmaWVyICE9PSB0aGlzLl9yZXNpemVUb3VjaElkKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZU1vdmUodG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WSk7XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX29uUmVzaXplVG91Y2hFbmQoZXZ0OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZ0LmNoYW5nZWRUb3VjaGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5fcmVzaXplVG91Y2hJZCkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvdWNoSWQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9kb21FdmVudFJlc2l6ZVRvdWNoTW92ZSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2RvbUV2ZW50UmVzaXplVG91Y2hFbmQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fcmVzaXplRW5kKCk7XHJcblxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX3Jlc2l6ZVN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuY2xhc3MhLmFkZCgncGN1aS1yZXNpemFibGUtcmVzaXppbmcnKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVzaXplTW92ZSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIC8vIGlmIHdlIGhhdmVuJ3QgaW5pdGlhbGl6ZWQgcmVzaXplRGF0YSBkbyBzbyBub3dcclxuICAgICAgICBpZiAoIXRoaXMuX3Jlc2l6ZURhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzaXplRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICB5OiB5LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuZG9tIS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5kb20hLmNsaWVudEhlaWdodFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZUhvcml6b250YWxseSkge1xyXG4gICAgICAgICAgICAvLyBob3Jpem9udGFsIHJlc2l6aW5nXHJcbiAgICAgICAgICAgIHZhciBvZmZzZXRYID0gdGhpcy5fcmVzaXplRGF0YS54IC0geDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNpemFibGUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldFggPSAtb2Zmc2V0WDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuUkVTSVpFX0hBTkRMRV9TSVpFICsgTWF0aC5tYXgodGhpcy5fcmVzaXplTWluLCBNYXRoLm1pbih0aGlzLl9yZXNpemVNYXgsICh0aGlzLl9yZXNpemVEYXRhLndpZHRoICsgb2Zmc2V0WCkpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB2ZXJ0aWNhbCByZXNpemluZ1xyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IHRoaXMuX3Jlc2l6ZURhdGEueSAtIHk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzaXphYmxlID09PSAnYm90dG9tJykge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0WSA9IC1vZmZzZXRZO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KHRoaXMuX3Jlc2l6ZU1pbiwgTWF0aC5taW4odGhpcy5fcmVzaXplTWF4LCAodGhpcy5fcmVzaXplRGF0YS5oZWlnaHQgKyBvZmZzZXRZKSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KCdyZXNpemUnKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVzaXplRW5kKCkge1xyXG4gICAgICAgIHRoaXMuX3Jlc2l6ZURhdGEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgncGN1aS1yZXNpemFibGUtcmVzaXppbmcnKTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5kb21Db250ZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2RvbVJlc2l6ZUhhbmRsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kb21SZXNpemVIYW5kbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fZG9tRXZlbnRSZXNpemVTdGFydCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9kb21FdmVudFJlc2l6ZU1vdmUpO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2RvbUV2ZW50UmVzaXplRW5kKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2RvbVJlc2l6ZUhhbmRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fZG9tRXZlbnRSZXNpemVUb3VjaFN0YXJ0KTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2RvbUV2ZW50UmVzaXplVG91Y2hNb3ZlKTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fZG9tRXZlbnRSZXNpemVUb3VjaEVuZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9kb21SZXNpemVIYW5kbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50UmVzaXplU3RhcnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50UmVzaXplTW92ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fZG9tRXZlbnRSZXNpemVFbmQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50UmVzaXplVG91Y2hTdGFydCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fZG9tRXZlbnRSZXNpemVUb3VjaE1vdmUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50UmVzaXplVG91Y2hFbmQgPSBudWxsO1xyXG5cclxuICAgICAgICBzdXBlci5kZXN0cm95LmNhbGwodGhpcyk7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgVG9wRWxlbWVudENvbnRhaW5lciB9IGZyb20gXCIuL3RvcC1lbGVtZW50LWNvbnRhaW5lclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvcEVsZW1lbnRQYW5lbCBleHRlbmRzIFRvcEVsZW1lbnRDb250YWluZXIge1xyXG5cclxuICAgIHByaXZhdGUgX3N1c3BlbmRSZWZsb3c6IGJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBfY29udGFpbmVySGVhZGVyOiBUb3BFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSBfZG9tSGVhZGVyVGl0bGU6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfaGVhZGVyU2l6ZTogbnVtYmVyID0gMFxyXG5cclxuICAgIHByaXZhdGUgX2NvbnRhaW5lckNvbnRlbnQ6IFRvcEVsZW1lbnRDb250YWluZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBfY29sbGFwc2libGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2NvbGxhcHNlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfY29sbGFwc2VIb3Jpem9udGFsbHk6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIF9yZWZsb3dUaW1lb3V0OiBOdWxsYWJsZTxudW1iZXI+ID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3dpZHRoQmVmb3JlQ29sbGFwc2U6IE51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfaGVpZ2h0QmVmb3JlQ29sbGFwc2U6IE51bGxhYmxlPG51bWJlcj4gPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX2V2dEFwcGVuZDogTnVsbGFibGU8RXZlbnRIYW5kbGU+O1xyXG4gICAgcHJpdmF0ZSBfZXZ0UmVtb3ZlOiBOdWxsYWJsZTxFdmVudEhhbmRsZT47XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXQgY29sbGFwc2libGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxhcHNpYmxlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBjb2xsYXBzaWJsZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fY29sbGFwc2libGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fY29sbGFwc2libGUgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2V2dEFwcGVuZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ldnRBcHBlbmQudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dEFwcGVuZCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fZXZ0UmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFJlbW92ZS51bmJpbmQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZXZ0UmVtb3ZlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAvLyBsaXN0ZW4gdG8gYXBwZW5kIC8gcmVtb3ZlIGV2ZW50cyBzbyB3ZSBjYW4gY2hhbmdlIG91ciBoZWlnaHRcclxuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gdGhpcy5fb25DaGlsZHJlbkNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLl9ldnRBcHBlbmQgPSB0aGlzLl9jb250YWluZXJDb250ZW50Lm9uKCdhcHBlbmQnLCBvbkNoYW5nZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFJlbW92ZSA9IHRoaXMuX2NvbnRhaW5lckNvbnRlbnQub24oJ3JlbW92ZScsIG9uQ2hhbmdlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MhLmFkZCgncGN1aS1jb2xsYXBzaWJsZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgncGN1aS1jb2xsYXBzaWJsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcmVmbG93KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbGxhcHNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQodmFsdWUgPyAnY29sbGFwc2UnIDogJ2V4cGFuZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNvbGxhcHNlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29sbGFwc2VkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBjb2xsYXBzZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fY29sbGFwc2VkID09PSB2YWx1ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9jb2xsYXBzZWQgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MhLmFkZCgncGN1aS1jb2xsYXBzZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3BjdWktY29sbGFwc2VkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9yZWZsb3coKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29sbGFwc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KHZhbHVlID8gJ2NvbGxhcHNlJyA6ICdleHBhbmQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBjb2xsYXBzZUhvcml6b250YWxseSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29sbGFwc2VIb3Jpem9udGFsbHk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGNvbGxhcHNlSG9yaXpvbnRhbGx5KHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbGxhcHNlSG9yaXpvbnRhbGx5ID09PSB2YWx1ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9jb2xsYXBzZUhvcml6b250YWxseSA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5hZGQoJ3BjdWktcGFuZWwtaG9yaXpvbnRhbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgncGN1aS1wYW5lbC1ob3Jpem9udGFsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9yZWZsb3coKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGNvbnRlbnQoKTogVG9wRWxlbWVudENvbnRhaW5lciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lckNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWFkZXIoKTogVG9wRWxlbWVudENvbnRhaW5lciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lckhlYWRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlYWRlclRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZG9tSGVhZGVyVGl0bGUudGV4dENvbnRlbnQgfHwgJyc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGhlYWRlclRleHQodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX2RvbUhlYWRlclRpdGxlLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWFkZXJTaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWRlclNpemU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGhlYWRlclNpemUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2hlYWRlclNpemUgPSB2YWx1ZTtcclxuICAgICAgICBsZXQgc3R5bGUgPSB0aGlzLl9jb250YWluZXJIZWFkZXIuZG9tIS5zdHlsZTtcclxuICAgICAgICBzdHlsZS5oZWlnaHQgPSBNYXRoLm1heCgwLCB2YWx1ZSkgKyAncHgnO1xyXG4gICAgICAgIHN0eWxlLmxpbmVIZWlnaHQgPSBzdHlsZS5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fcmVmbG93KCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXJnczogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoYXJncyk7XHJcblxyXG4gICAgICAgIGlmICghYXJncykgYXJncyA9IHt9O1xyXG5cclxuICAgICAgICB2YXIgcGFuZWxBcmdzID0gT2JqZWN0LmFzc2lnbih7fSwgYXJncyk7XHJcbiAgICAgICAgcGFuZWxBcmdzLmZsZXggPSB0cnVlO1xyXG4gICAgICAgIGRlbGV0ZSBwYW5lbEFyZ3MuZmxleERpcmVjdGlvbjtcclxuICAgICAgICBkZWxldGUgcGFuZWxBcmdzLnNjcm9sbGFibGU7XHJcblxyXG4gICAgICAgIHRoaXMuY2xhc3MhLmFkZCgncGN1aS1wYW5lbCcpO1xyXG5cclxuICAgICAgICBpZiAoYXJncy5wYW5lbFR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdwY3VpLXBhbmVsLScgKyBhcmdzLnBhbmVsVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkbyBub3QgY2FsbCByZWZsb3cgb24gZXZlcnkgdXBkYXRlIHdoaWxlXHJcbiAgICAgICAgLy8gd2UgYXJlIGluaXRpYWxpemluZ1xyXG4gICAgICAgIHRoaXMuX3N1c3BlbmRSZWZsb3cgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBpbml0aWFsaXplIGhlYWRlciBjb250YWluZXJcclxuICAgICAgICAvLyB0aGlzLl9pbml0aWFsaXplSGVhZGVyKGFyZ3MpO1xyXG4gICAgICAgIC8vIGhlYWRlciBjb250YWluZXJcclxuICAgICAgICB0aGlzLl9jb250YWluZXJIZWFkZXIgPSBuZXcgVG9wRWxlbWVudENvbnRhaW5lcih7XHJcbiAgICAgICAgICAgIGZsZXg6IHRydWUsXHJcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVySGVhZGVyLmNsYXNzIS5hZGQoJ3BjdWktcGFuZWwtaGVhZGVyJyk7XHJcblxyXG4gICAgICAgIC8vIGhlYWRlciB0aXRsZVxyXG4gICAgICAgIHRoaXMuX2RvbUhlYWRlclRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHRoaXMuX2RvbUhlYWRlclRpdGxlLnRleHRDb250ZW50ID0gYXJncy5oZWFkZXJUZXh0IHx8ICcnO1xyXG4gICAgICAgIHRoaXMuX2RvbUhlYWRlclRpdGxlLmNsYXNzTGlzdC5hZGQoJ3BjdWktcGFuZWwtaGVhZGVyLXRpdGxlJyk7XHJcbiAgICAgICAgdGhpcy5fZG9tSGVhZGVyVGl0bGUudWkgPSB0aGlzLl9jb250YWluZXJIZWFkZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVySGVhZGVyLmRvbSEuYXBwZW5kQ2hpbGQodGhpcy5fZG9tSGVhZGVyVGl0bGUpO1xyXG5cclxuICAgICAgICAvLyB1c2UgbmF0aXZlIGNsaWNrIGxpc3RlbmVyIGJlY2F1c2UgdGhlIHBjdWkuRWxlbWVudCNjbGljayBldmVudCBpcyBvbmx5IGZpcmVkXHJcbiAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgaXMgZW5hYmxlZC4gSG93ZXZlciB3ZSBzdGlsbCB3YW50IHRvIGNhdGNoIGhlYWRlciBjbGljayBldmVudHMgaW4gb3JkZXJcclxuICAgICAgICAvLyB0byBjb2xsYXBzZSB0aGVtXHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVySGVhZGVyLmRvbSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkhlYWRlckNsaWNrLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLl9jb250YWluZXJIZWFkZXIpO1xyXG5cclxuICAgICAgICAvLyBpbml0aWFsaXplIGNvbnRlbnQgY29udGFpbmVyXHJcbiAgICAgICAgLy8gdGhpcy5faW5pdGlhbGl6ZUNvbnRlbnQoYXJncyk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyQ29udGVudCA9IG5ldyBUb3BFbGVtZW50Q29udGFpbmVyKHtcclxuICAgICAgICAgICAgZmxleDogYXJncy5mbGV4LFxyXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBhcmdzLmZsZXhEaXJlY3Rpb24sXHJcbiAgICAgICAgICAgIHNjcm9sbGFibGU6IGFyZ3Muc2Nyb2xsYWJsZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckNvbnRlbnQuY2xhc3MhLmFkZCgncGN1aS1wYW5lbC1jb250ZW50Jyk7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyQ29udGVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcblxyXG4gICAgICAgIHRoaXMuYXBwZW5kQWZ0ZXIodGhpcy5fY29udGFpbmVyQ29udGVudCwgdGhpcy5fY29udGFpbmVySGVhZGVyKTtcclxuXHJcbiAgICAgICAgLy8gZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLl9ldnRBcHBlbmQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2V2dFJlbW92ZSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIGhlYWRlciBzaXplXHJcbiAgICAgICAgdGhpcy5oZWFkZXJTaXplID0gYXJncy5oZWFkZXJTaXplICE9PSB1bmRlZmluZWQgPyBhcmdzLmhlYWRlclNpemUgOiAzMjtcclxuXHJcbiAgICAgICAgLy8gY29sbGFwc2UgcmVsYXRlZFxyXG4gICAgICAgIHRoaXMuX3JlZmxvd1RpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3dpZHRoQmVmb3JlQ29sbGFwc2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2hlaWdodEJlZm9yZUNvbGxhcHNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gaWYgd2UgaW5pdGlhbGl6ZSB0aGUgcGFuZWwgY29sbGFwc2VkXHJcbiAgICAgICAgLy8gdGhlbiB1c2UgdGhlIHdpZHRoIC8gaGVpZ2h0IHBhc3NlZCBpbiB0aGUgYXJndW1lbnRzXHJcbiAgICAgICAgLy8gYXMgdGhlIHNpemUgdG8gZXhwYW5kIHRvXHJcbiAgICAgICAgaWYgKGFyZ3MuY29sbGFwc2VkKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmdzLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93aWR0aEJlZm9yZUNvbGxhcHNlID0gYXJncy53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJncy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hlaWdodEJlZm9yZUNvbGxhcHNlID0gYXJncy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGFwc2libGUgPSBhcmdzLmNvbGxhcHNpYmxlIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29sbGFwc2VkID0gYXJncy5jb2xsYXBzZWQgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb2xsYXBzZUhvcml6b250YWxseSA9IGFyZ3MuY29sbGFwc2VIb3Jpem9udGFsbHkgfHwgZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNldCB0aGUgY29udGVudHMgY29udGFpbmVyIHRvIGJlIHRoZSBjb250ZW50IERPTSBlbGVtZW50XHJcbiAgICAgICAgLy8gZnJvbSBub3cgb24gY2FsbGluZyBhcHBlbmQgZnVuY3Rpb25zIG9uIHRoZSBwYW5lbCB3aWxsIGFwcGVuZCB0aGVtblxyXG4gICAgICAgIC8vIGVsZW1lbnRzIHRvIHRoZSBjb250ZW50cyBjb250YWluZXJcclxuICAgICAgICB0aGlzLmRvbUNvbnRlbnQgPSB0aGlzLl9jb250YWluZXJDb250ZW50LmRvbTtcclxuXHJcbiAgICAgICAgLy8gZXhlY3V0ZSByZWZsb3cgbm93IGFmdGVyIGFsbCBmaWVsZHMgaGF2ZSBiZWVuIGluaXRpYWxpemVkXHJcbiAgICAgICAgdGhpcy5fc3VzcGVuZFJlZmxvdyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3JlZmxvdygpO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfb25IZWFkZXJDbGljayhldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NvbGxhcHNpYmxlKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGV2dC50YXJnZXQgIT09IHRoaXMuaGVhZGVyLmRvbSAmJiBldnQudGFyZ2V0ICE9PSB0aGlzLl9kb21IZWFkZXJUaXRsZSkgcmV0dXJuO1xyXG4gICAgICAgIC8vIHRvZ2dsZSBjb2xsYXBzZWRcclxuICAgICAgICB0aGlzLmNvbGxhcHNlZCA9ICF0aGlzLmNvbGxhcHNlZDtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25DaGlsZHJlbkNoYW5nZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2libGUgfHwgdGhpcy5jb2xsYXBzZWQgfHwgdGhpcy5fY29sbGFwc2VIb3Jpem9udGFsbHkgfHwgdGhpcy5oaWRkZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVhZGVyU2l6ZSArIHRoaXMuX2NvbnRhaW5lckNvbnRlbnQuZG9tIS5jbGllbnRIZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENvbGxhcHNlcyBvciBleHBhbmRzIHRoZSBwYW5lbCBhcyBuZWVkZWRcclxuICAgIHByaXZhdGUgX3JlZmxvdygpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zdXNwZW5kUmVmbG93KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9yZWZsb3dUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlZmxvd1RpbWVvdXQpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZWZsb3dUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhpZGRlbiB8fCAhdGhpcy5jb2xsYXBzaWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb2xsYXBzZWQgJiYgdGhpcy5jb2xsYXBzZUhvcml6b250YWxseSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJIZWFkZXIuc3R5bGUudG9wID0gLXRoaXMuaGVhZGVyU2l6ZSArICdweCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVySGVhZGVyLnN0eWxlLnRvcCA9ICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gd2UgcmVseSBvbiB0aGUgY29udGVudCB3aWR0aCAvIGhlaWdodCBhbmQgd2UgaGF2ZSB0b1xyXG4gICAgICAgIC8vIHdhaXQgZm9yIDEgZnJhbWUgYmVmb3JlIHdlIGNhbiBnZXQgdGhlIGZpbmFsIHZhbHVlcyBiYWNrXHJcbiAgICAgICAgdGhpcy5fcmVmbG93VGltZW91dCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3JlZmxvd1RpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGYuY29sbGFwc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1lbWJlciBzaXplIGJlZm9yZSBjb2xsYXBzZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLl93aWR0aEJlZm9yZUNvbGxhcHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fd2lkdGhCZWZvcmVDb2xsYXBzZSA9IHNlbGYuZG9tIS5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghc2VsZi5faGVpZ2h0QmVmb3JlQ29sbGFwc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9oZWlnaHRCZWZvcmVDb2xsYXBzZSA9IHNlbGYuZG9tIS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2NvbGxhcHNlSG9yaXpvbnRhbGx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5oZWlnaHQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLndpZHRoID0gc2VsZi5oZWFkZXJTaXplO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmhlaWdodCA9IHNlbGYuaGVhZGVyU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9jb2xsYXBzZUhvcml6b250YWxseSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGVpZ2h0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuX3dpZHRoQmVmb3JlQ29sbGFwc2UgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi53aWR0aCA9IHNlbGYuX3dpZHRoQmVmb3JlQ29sbGFwc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5faGVpZ2h0QmVmb3JlQ29sbGFwc2UgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oZWlnaHQgPSBzZWxmLl9oZWlnaHRCZWZvcmVDb2xsYXBzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgYmVmb3JlIGNvbGxhcHNlIHZhcnNcclxuICAgICAgICAgICAgICAgIHNlbGYuX3dpZHRoQmVmb3JlQ29sbGFwc2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5faGVpZ2h0QmVmb3JlQ29sbGFwc2UgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHNlbGYpKTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlZmxvd1RpbWVvdXQpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVmbG93VGltZW91dCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlZmxvd1RpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3VwZXIuZGVzdHJveS5jYWxsKHRoaXMpO1xyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4uLy4uL2xpYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvcEVsZW1lbnQgZXh0ZW5kcyBFdmVudHMge1xyXG5cclxuICAgIHB1YmxpYyBTSU1QTEVfQ1NTX1BST1BFUlRJRVM6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xyXG4gICAgICAgICdmbGV4RGlyZWN0aW9uJzogJ2ZsZXgtZGlyZWN0aW9uJyxcclxuICAgICAgICAnZmxleEdyb3cnOiAnZmxleC1ncm93JyxcclxuICAgICAgICAnZmxleEJhc2lzJzogJ2ZsZXgtYmFzaXMnLFxyXG4gICAgICAgICdmbGV4U2hyaW5rJzogJ2ZsZXgtc2hyaW5rJyxcclxuICAgICAgICAnZmxleFdyYXAnOiAnZmxleC13cmFwJyxcclxuICAgICAgICAnYWxpZ25JdGVtcyc6ICdhbGlnbi1pdGVtcycsXHJcbiAgICAgICAgJ2p1c3RpZnlDb250ZW50JzogJ2p1c3RpZnktY29udGVudCdcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfZGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9lbmFibGVkID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgX2hpZGRlbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfcGFyZW50OiBOdWxsYWJsZTxUb3BFbGVtZW50PiA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfZG9tRXZlbnRDbGljazogYW55O1xyXG4gICAgcHJpdmF0ZSBfZG9tRXZlbnRNb3VzZU92ZXI6IGFueTtcclxuICAgIHByaXZhdGUgX2RvbUV2ZW50TW91c2VPdXQ6IGFueTtcclxuXHJcbiAgICBwcml2YXRlIF9ldnRQYXJlbnREZXN0cm95OiBOdWxsYWJsZTxFdmVudEhhbmRsZT4gPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfZXZ0UGFyZW50RGlzYWJsZTogTnVsbGFibGU8RXZlbnRIYW5kbGU+ID0gbnVsbDtcclxuICAgIHByaXZhdGUgX2V2dFBhcmVudEVuYWJsZTogTnVsbGFibGU8RXZlbnRIYW5kbGU+ID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIF9kb206IE51bGxhYmxlPEhUTUxFbGVtZW50PjtcclxuICAgIC8vIHByaXZhdGUgZG9tQ29udGVudDogTnVsbGFibGU8SFRNTEVsZW1lbnQ+ID0gbnVsbDtcclxuXHJcblxyXG4gICAgcHVibGljIGdldCBlbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkICYmICghdGhpcy5fcGFyZW50IHx8IHRoaXMuX3BhcmVudC5lbmFibGVkKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9lbmFibGVkID09PSB2YWx1ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyByZW1lbWJlciBpZiBlbmFibGVkIGluIGhpZXJhcmNoeVxyXG4gICAgICAgIGxldCBlbmFibGVkID0gdGhpcy5lbmFibGVkO1xyXG5cclxuICAgICAgICB0aGlzLl9lbmFibGVkID0gdmFsdWU7XHJcblxyXG4gICAgICAgIC8vIG9ubHkgZmlyZSBldmVudCBpZiBoaWVyYXJjaHkgc3RhdGUgY2hhbmdlZFxyXG4gICAgICAgIGlmIChlbmFibGVkICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vbkVuYWJsZWRDaGFuZ2UodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGRvbSgpOiBOdWxsYWJsZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb207XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGRvbSh2YWx1ZTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+KSB7XHJcbiAgICAgICAgdGhpcy5fZG9tID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBwYXJlbnQoKTogTnVsbGFibGU8VG9wRWxlbWVudD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IHBhcmVudCh2YWx1ZTogTnVsbGFibGU8VG9wRWxlbWVudD4pIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3BhcmVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgb2xkRW5hYmxlZCA9IHRoaXMuZW5hYmxlZDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ldnRQYXJlbnREZXN0cm95IS51bmJpbmQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZXZ0UGFyZW50RGlzYWJsZSEudW5iaW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFBhcmVudEVuYWJsZSEudW5iaW5kKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9wYXJlbnQgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ldnRQYXJlbnREZXN0cm95ID0gdGhpcy5fcGFyZW50Lm9uY2UoJ2Rlc3Ryb3knLCB0aGlzLl9vblBhcmVudERlc3Ryb3kuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFBhcmVudERpc2FibGUgPSB0aGlzLl9wYXJlbnQub24oJ2Rpc2FibGUnLCB0aGlzLl9vblBhcmVudERpc2FibGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2dFBhcmVudEVuYWJsZSA9IHRoaXMuX3BhcmVudC5vbignZW5hYmxlJywgdGhpcy5fb25QYXJlbnRFbmFibGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVtaXQoJ3BhcmVudCcsIHRoaXMuX3BhcmVudCk7XHJcblxyXG4gICAgICAgIHZhciBuZXdFbmFibGVkID0gdGhpcy5lbmFibGVkO1xyXG4gICAgICAgIGlmIChuZXdFbmFibGVkICE9PSBvbGRFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uRW5hYmxlZENoYW5nZShuZXdFbmFibGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoaWRkZW4oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpZGRlbjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgaGlkZGVuKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9oaWRkZW4pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5faGlkZGVuID0gdmFsdWU7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5hZGQoJ3BjdWktaGlkZGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEucmVtb3ZlKCdwY3VpLWhpZGRlbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbWl0KHZhbHVlID8gJ2hpZGUnIDogJ3Nob3cnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHN0eWxlKCk6IENTU1N0eWxlRGVjbGFyYXRpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb20hLnN0eWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgY2xhc3MoKTogTnVsbGFibGU8RE9NVG9rZW5MaXN0PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvbSEuY2xhc3NMaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHwgc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZG9tIS5jbGllbnRXaWR0aDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlciB8IHN0cmluZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKSArICdweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpOiBudW1iZXIgfCBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb20hLmNsaWVudEhlaWdodDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgaGVpZ2h0KHZhbHVlOiBudW1iZXIgfCBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmVuYWJsZWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGRpc2FibGVkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5lbmFibGVkID0gIXZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGVsZW1lbnQoKTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kb207XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IGVsZW1lbnQodmFsdWU6IE51bGxhYmxlPEhUTUxFbGVtZW50Pikge1xyXG4gICAgICAgIHRoaXMuZG9tID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldCBpbm5lckVsZW1lbnQoKTogTnVsbGFibGU8SFRNTEVsZW1lbnQ+IHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5kb21Db250ZW50O1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHVibGljIHNldCBpbm5lckVsZW1lbnQodmFsdWU6IE51bGxhYmxlPEhUTUxFbGVtZW50Pikge1xyXG4gICAgLy8gICAgIHRoaXMuZG9tQ29udGVudCA9IHZhbHVlO1xyXG4gICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRvbTogSFRNTEVsZW1lbnQsIGFyZ3M6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIGlmICghYXJncykgYXJncyA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLl9kb21FdmVudENsaWNrID0gdGhpcy5fb25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX2RvbUV2ZW50TW91c2VPdmVyID0gdGhpcy5fb25Nb3VzZU92ZXIuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLl9kb21FdmVudE1vdXNlT3V0ID0gdGhpcy5fb25Nb3VzZU91dC5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLl9ldnRQYXJlbnREZXN0cm95ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9ldnRQYXJlbnREaXNhYmxlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9ldnRQYXJlbnRFbmFibGUgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLl9kb20gPSBkb207XHJcblxyXG4gICAgICAgIGlmIChhcmdzLmlkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZG9tLmlkID0gYXJncy5pZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGFkZCB1aSByZWZlcmVuY2VcclxuICAgICAgICB0aGlzLl9kb20udWkgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5fZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZG9tRXZlbnRDbGljayk7XHJcbiAgICAgICAgdGhpcy5fZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuX2RvbUV2ZW50TW91c2VPdmVyKTtcclxuICAgICAgICB0aGlzLl9kb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9kb21FdmVudE1vdXNlT3V0KTtcclxuXHJcbiAgICAgICAgLy8gYWRkIGVsZW1lbnQgY2xhc3NcclxuICAgICAgICB0aGlzLl9kb20uY2xhc3NMaXN0LmFkZCgncGN1aS1lbGVtZW50Jyk7XHJcblxyXG4gICAgICAgIGlmIChhcmdzLmVuYWJsZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSBhcmdzLmVuYWJsZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmdzLmhpZGRlbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuID0gYXJncy5oaWRkZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmdzLndpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGFyZ3Mud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcmdzLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gYXJncy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjb3B5IENTUyBwcm9wZXJ0aWVzIGZyb20gYXJnc1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmdzW2tleV0gPT09IHVuZGVmaW5lZCkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLlNJTVBMRV9DU1NfUFJPUEVSVElFU1trZXldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KHRoaXMuU0lNUExFX0NTU19QUk9QRVJUSUVTW2tleV0sIGFyZ3Nba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHBvc2VDc3NQcm9wZXJ0eShuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9wRWxlbWVudC5wcm90b3R5cGUsIG5hbWUsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdHlsZVtuYW1lXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbGluayhvYnNlcnZlcjogYW55LCBwYXRoOiBhbnkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgdW5saW5rKCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBmbGFzaCgpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdmbGFzaCcpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmNsYXNzIS5yZW1vdmUoJ2ZsYXNoJyk7XHJcbiAgICAgICAgfS5iaW5kKHNlbGYpLCAyMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vbkNsaWNrKGV2dDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjbGljaycsIGV2dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vbk1vdXNlT3ZlcihldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLmVtaXQoJ2hvdmVyJywgZXZ0KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25Nb3VzZU91dChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLmVtaXQoJ2hvdmVyZW5kJywgZXZ0KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25FbmFibGVkQ2hhbmdlKGVuYWJsZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoZW5hYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3BjdWktZGlzYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5hZGQoJ3BjdWktZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdChlbmFibGVkID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vblBhcmVudERlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgX29uUGFyZW50RGlzYWJsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZW5hYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9vbkVuYWJsZWRDaGFuZ2UoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25QYXJlbnRFbmFibGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fb25FbmFibGVkQ2hhbmdlKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBhcmVudC5lbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2RvbSkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgIHRoaXMuX2RvbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2RvbUV2ZW50Q2xpY2spO1xyXG4gICAgICAgICAgICB0aGlzLl9kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5fZG9tRXZlbnRNb3VzZU92ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9kb21FdmVudE1vdXNlT3V0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSB1aSByZWZlcmVuY2VcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RvbS51aTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2RvbSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9kb21FdmVudENsaWNrID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9kb21FdmVudE1vdXNlT3ZlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fZG9tRXZlbnRNb3VzZU91dCA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBUcmVlIH0gZnJvbSBcIi4vdHJlZVwiO1xyXG5pbXBvcnQgeyBUZXh0RmllbGQgfSBmcm9tIFwiLi90ZXh0LWZpZWxkXCI7XHJcbmltcG9ydCB7IE9ic2VydmVyIH0gZnJvbSBcIi4uL2xpYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVJdGVtIGV4dGVuZHMgRWxlbWVudCB7XHJcblxyXG4gICAgcHVibGljIHRyZWU6IE51bGxhYmxlPFRyZWU+O1xyXG5cclxuICAgIHB1YmxpYyBlbGVtZW50VGl0bGU6IEhUTUxFbGVtZW50O1xyXG4gICAgcHVibGljIGVsZW1lbnRJY29uOiBIVE1MRWxlbWVudDtcclxuICAgIHB1YmxpYyBlbGVtZW50VGV4dDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgcHVibGljIF9jaGlsZHJlbjogbnVtYmVyO1xyXG4gICAgcHVibGljIHNlbGVjdGFibGU6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIF9vbk1vdXNlVXA6IGFueTtcclxuICAgIHByaXZhdGUgX2RyYWdSZWxlYXNlOiBhbnk7XHJcblxyXG4gICAgcHJpdmF0ZSBfZHJhZ2dpbmc6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIF9hbGxvd0Ryb3A6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIF9kcmFnSWQ6IG51bWJlciA9IC0xO1xyXG5cclxuICAgIHB1YmxpYyBlbnRpdHkhOiBPYnNlcnZlcjtcclxuXHJcbiAgICBwdWJsaWMgYXNzZXQ6IGFueTtcclxuICAgIHB1YmxpYyB1c2VyczogYW55O1xyXG5cclxuICAgIHB1YmxpYyBnZXQgc2VsZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdzZWxlY3RlZCcpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBzZWxlY3RlZCh2YWw6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5jbGFzcyEuY29udGFpbnMoJ3NlbGVjdGVkJykgPT09ICEhdmFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdzZWxlY3RlZCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCd0cmVlIHNlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3NlbGVjdCcpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50cmVlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmVlLmVtaXQoJ3NlbGVjdCcsIHRoaXMpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Rlc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyZWUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWUuZW1pdCgnZGVzZWxlY3QnLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB0ZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFRleHQudGV4dENvbnRlbnQgfHwgJyc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50VGV4dC50ZXh0Q29udGVudCA9PT0gdmFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGV4dC50ZXh0Q29udGVudCA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IG9wZW4oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdvcGVuJyk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0IG9wZW4odmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xhc3MhLmNvbnRhaW5zKCdvcGVuJykgPT09ICEhdmFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdvcGVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnb3BlbicpO1xyXG4gICAgICAgICAgICB0aGlzLnRyZWUhLmVtaXQoJ29wZW4nLCB0aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ29wZW4nKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjbG9zZScpO1xyXG4gICAgICAgICAgICB0aGlzLnRyZWUhLmVtaXQoJ2Nsb3NlJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgcHJldigpOiBOdWxsYWJsZTxUcmVlSXRlbT4ge1xyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCkucHJldmlvdXNFbGVtZW50U2libGluZyAmJiAoPEhUTUxFbGVtZW50Pig8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50KS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS51aSAmJiAoPEhUTUxFbGVtZW50Pig8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50KS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS51aSBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+KDxIVE1MRWxlbWVudD50aGlzLmVsZW1lbnQpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpLnVpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBuZXh0KCk6IE51bGxhYmxlPFRyZWVJdGVtPiB7XHJcbiAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50KS5uZXh0RWxlbWVudFNpYmxpbmcgJiYgKDxIVE1MRWxlbWVudD4oPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCkubmV4dEVsZW1lbnRTaWJsaW5nKS51aSAmJiAoPEhUTUxFbGVtZW50Pig8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50KS5uZXh0RWxlbWVudFNpYmxpbmcpLnVpIGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD4oPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCkubmV4dEVsZW1lbnRTaWJsaW5nKS51aSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFsbG93RHJvcCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWxsb3dEcm9wO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCBhbGxvd0Ryb3AodmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fYWxsb3dEcm9wID0gdmFsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXJnczogVHJlZUl0ZW1BcmdzKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG5cclxuICAgICAgICB0aGlzLnRyZWUgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndWktdHJlZS1pdGVtJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnVpID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKGFyZ3MuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgIGFyZ3MuY2xhc3NMaXN0LmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS50YWJJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUudWkgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRUaXRsZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50SWNvbi5jbGFzc0xpc3QuYWRkKCdpY29uJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50SWNvbik7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGV4dC50ZXh0Q29udGVudCA9IGFyZ3MudGV4dCB8fCAnJztcclxuICAgICAgICB0aGlzLmVsZW1lbnRUZXh0LmNsYXNzTGlzdC5hZGQoJ3RleHQnKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRUZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSAwO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0YWJsZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuX29uTW91c2VVcCA9IGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzZWxmLl9kcmFnUmVsZWFzZSk7XHJcbiAgICAgICAgICAgIHNlbGYuX2RyYWdSZWxlYXNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICBzZWxmLl9kcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLmVtaXQoJ2RyYWdlbmQnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2ssIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuX29uRGJsQ2xpY2ssIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZHJhZ1JlbGVhc2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYWxsb3dEcm9wID0gKGFyZ3MuYWxsb3dEcm9wICE9PSB1bmRlZmluZWQgPyAhIWFyZ3MuYWxsb3dEcm9wIDogdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLl9vbk1vdXNlT3ZlciwgZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLm9uKCdkZXN0cm95JywgdGhpcy5fb25EZXN0cm95KTtcclxuICAgICAgICB0aGlzLm9uKCdhcHBlbmQnLCB0aGlzLl9vbkFwcGVuZCk7XHJcbiAgICAgICAgdGhpcy5vbigncmVtb3ZlJywgdGhpcy5fb25SZW1vdmUpO1xyXG4gICAgICAgIHRoaXMub24oJ3NlbGVjdCcsIHRoaXMuX29uU2VsZWN0KTtcclxuICAgICAgICB0aGlzLm9uKCdkZXNlbGVjdCcsIHRoaXMuX29uRGVzZWxlY3QpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgY2hpbGQoaW5kZXg6IG51bWJlcik6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudCEuY2hpbGRyZW5baW5kZXggKyAxXTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25DbGljayhldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaHRtbEVsZTogSFRNTEVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldDtcclxuXHJcbiAgICAgICAgLy8g5Y+v6IO954K55Ye7dGl0bGXmiJbogIV0aXRsZeWtkOmhuVxyXG4gICAgICAgIGlmICghKDxUcmVlSXRlbT5odG1sRWxlLnVpKSkge1xyXG4gICAgICAgICAgICBpZiAoaHRtbEVsZS5wYXJlbnRFbGVtZW50ICYmIDxUcmVlSXRlbT4oaHRtbEVsZS5wYXJlbnRFbGVtZW50KS51aSkge1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZSA9IGh0bWxFbGUucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2dC5idXR0b24gIT09IDAgfHwgISg8VHJlZUl0ZW0+aHRtbEVsZS51aSkuc2VsZWN0YWJsZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgcmVjdCA9IGh0bWxFbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGlmICgoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9jaGlsZHJlbiAmJiAoZXZ0LmNsaWVudFggLSByZWN0LmxlZnQpIDwgMCkge1xyXG4gICAgICAgICAgICAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLm9wZW4gPSAhKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5vcGVuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICg8VHJlZUl0ZW0+aHRtbEVsZS51aSkudHJlZSEuX29uSXRlbUNsaWNrKCg8VHJlZUl0ZW0+aHRtbEVsZS51aSkpO1xyXG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vbkRibENsaWNrKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBodG1sRWxlOiBIVE1MRWxlbWVudCA9IDxIVE1MRWxlbWVudD5ldnQudGFyZ2V0O1xyXG5cclxuICAgICAgICAvLyDlj6/og73ngrnlh7t0aXRsZeaIluiAhXRpdGxl5a2Q6aG5XHJcbiAgICAgICAgaWYgKCEoPFRyZWVJdGVtPmh0bWxFbGUudWkpKSB7XHJcbiAgICAgICAgICAgIGlmIChodG1sRWxlLnBhcmVudEVsZW1lbnQgJiYgPFRyZWVJdGVtPihodG1sRWxlLnBhcmVudEVsZW1lbnQpLnVpKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlID0gaHRtbEVsZS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISg8VHJlZUl0ZW0+aHRtbEVsZS51aSkudHJlZSEuYWxsb3dSZW5hbWluZyB8fCBldnQuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBsZXQgcmVjdCA9IGh0bWxFbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGlmICgoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9jaGlsZHJlbiAmJiAoZXZ0LmNsaWVudFggLSByZWN0LmxlZnQpIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5fb25SZW5hbWUodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9vbk1vdXNlRG93bihldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaHRtbEVsZTogSFRNTEVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+ZXZ0LnRhcmdldDtcclxuXHJcbiAgICAgICAgLy8g5Y+v6IO954K55Ye7dGl0bGXmiJbogIV0aXRsZeWtkOmhuVxyXG4gICAgICAgIGlmICghKDxUcmVlSXRlbT5odG1sRWxlLnVpKSkge1xyXG4gICAgICAgICAgICBpZiAoaHRtbEVsZS5wYXJlbnRFbGVtZW50ICYmIDxUcmVlSXRlbT4oaHRtbEVsZS5wYXJlbnRFbGVtZW50KS51aSkge1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZSA9IGh0bWxFbGUucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCg8VHJlZUl0ZW0+aHRtbEVsZS51aSkudHJlZSAmJiAhKDxUcmVlSXRlbT5odG1sRWxlLnVpKS50cmVlIS5kcmFnZ2FibGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25EcmFnU3RhcnQgPSBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgICAgIC8vIOWPr+iDveeCueWHu3RpdGxl5oiW6ICFdGl0bGXlrZDpoblcclxuICAgICAgICBpZiAoISg8VHJlZUl0ZW0+aHRtbEVsZS51aSkpIHtcclxuICAgICAgICAgICAgaWYgKGh0bWxFbGUucGFyZW50RWxlbWVudCAmJiA8VHJlZUl0ZW0+KGh0bWxFbGUucGFyZW50RWxlbWVudCkudWkpIHtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGUgPSBodG1sRWxlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghKDxUcmVlSXRlbT5odG1sRWxlLnVpKS50cmVlIS5kcmFnZ2FibGUpIHtcclxuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5fZHJhZ2dpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5fZHJhZ1JlbGVhc2UpXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5fZHJhZ1JlbGVhc2UpO1xyXG5cclxuICAgICAgICAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLl9kcmFnUmVsZWFzZSA9ICg8VHJlZUl0ZW0+aHRtbEVsZS51aSkuX29uTW91c2VVcDtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICg8VHJlZUl0ZW0+aHRtbEVsZS51aSkuX2RyYWdSZWxlYXNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RyYWcgc3RhcnQnKTtcclxuXHJcbiAgICAgICAgKDxUcmVlSXRlbT5odG1sRWxlLnVpKS5lbWl0KCdkcmFnc3RhcnQnKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25Nb3VzZU92ZXIoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgICAgIC8vIOWPr+iDveeCueWHu3RpdGxl5oiW6ICFdGl0bGXlrZDpoblcclxuICAgICAgICBpZiAoISg8VHJlZUl0ZW0+aHRtbEVsZS51aSkpIHtcclxuICAgICAgICAgICAgaWYgKGh0bWxFbGUucGFyZW50RWxlbWVudCAmJiA8VHJlZUl0ZW0+KGh0bWxFbGUucGFyZW50RWxlbWVudCkudWkpIHtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGUgPSBodG1sRWxlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAoPFRyZWVJdGVtPmh0bWxFbGUudWkpLmVtaXQoJ21vdXNlb3ZlcicsIGV2dCk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfb25TZWxlY3QoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUuZm9jdXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBfb25EZXNlbGVjdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5ibHVyKCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBwcml2YXRlIF9vbktleURvd24oZXZ0OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGh0bWxFbGU6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmV2dC50YXJnZXQ7XHJcblxyXG4gICAgICAgIGlmICghKDxUcmVlSXRlbT5odG1sRWxlLnVpKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgY3VycmVudEl0ZW06IFRyZWVJdGVtID0gPFRyZWVJdGVtPmh0bWxFbGUudWk7XHJcblxyXG4gICAgICAgIGlmIChldnQudGFyZ2V0ICYmIGh0bWxFbGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChbOSwgMzgsIDQwLCAzNywgMzldLmluZGV4T2YoZXZ0LmtleUNvZGUpID09PSAtMSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGxldCBzZWxlY3RlZEl0ZW06IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgbGV0IGl0ZW06IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgc3dpdGNoIChldnQua2V5Q29kZSkge1xyXG4gICAgICAgICAgICBjYXNlIDk6IC8vIHRhYlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDA6IC8vIGRvd25cclxuICAgICAgICAgICAgICAgIGxldCBkb3duSXRlbSA9IGN1cnJlbnRJdGVtLmVsZW1lbnQhLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgICAgIGlmIChkb3duSXRlbSlcclxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+ZG93bkl0ZW0pLnVpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SXRlbS5fY2hpbGRyZW4gJiYgY3VycmVudEl0ZW0ub3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaXJzdCA9IGN1cnJlbnRJdGVtLmVsZW1lbnQhLmZpcnN0RWxlbWVudENoaWxkIS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0ICYmICg8SFRNTEVsZW1lbnQ+Zmlyc3QpLnVpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PmZpcnN0KS51aTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QudWkuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SXRlbS5wYXJlbnQgJiYgY3VycmVudEl0ZW0ucGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBjdXJyZW50SXRlbS5wYXJlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaW5kTmV4dCA9IGZ1bmN0aW9uIChmcm9tOiBUcmVlSXRlbSk6IE51bGxhYmxlPFRyZWVJdGVtPiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gZnJvbS5uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0gbmV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZyb20ucGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGZpbmROZXh0KHBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBmaW5kTmV4dChwYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM4OiAvLyB1cFxyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1VcCA9IGN1cnJlbnRJdGVtLmVsZW1lbnQhLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbVVwKVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSA8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD5pdGVtVXApLnVpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uX2NoaWxkcmVuICYmIGl0ZW0ub3BlbiAmJiBpdGVtICE9PSBjdXJyZW50SXRlbS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RJdGVtID0gaXRlbS5lbGVtZW50IS5sYXN0RWxlbWVudENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdDogTnVsbGFibGU8VHJlZUl0ZW0+ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RJdGVtICYmICg8SFRNTEVsZW1lbnQ+bGFzdEl0ZW0pLnVpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50Pmxhc3RJdGVtKS51aTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmluZExhc3QgPSBmdW5jdGlvbiAoaW5zaWRlOiBUcmVlSXRlbSk6IE51bGxhYmxlPFRyZWVJdGVtPiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2lkZS5fY2hpbGRyZW4gJiYgaW5zaWRlLm9wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2lkZS5lbGVtZW50IS5sYXN0RWxlbWVudENoaWxkICYmICg8SFRNTEVsZW1lbnQ+aW5zaWRlLmVsZW1lbnQhLmxhc3RFbGVtZW50Q2hpbGQpLnVpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+aW5zaWRlLmVsZW1lbnQhLmxhc3RFbGVtZW50Q2hpbGQpLnVpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVlcGVyOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBmaW5kTGFzdChsYXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVlcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBkZWVwZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IGxhc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXN0LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEl0ZW0ucGFyZW50ICYmIGN1cnJlbnRJdGVtLnBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0gY3VycmVudEl0ZW0ucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudWkucGFyZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzNzogLy8gbGVmdCAoY2xvc2UpXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEl0ZW0ucGFyZW50ICE9PSBjdXJyZW50SXRlbS50cmVlICYmIGN1cnJlbnRJdGVtLm9wZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW0ub3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzk6IC8vIHJpZ2h0IChvcGVuKVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJdGVtLl9jaGlsZHJlbiAmJiAhY3VycmVudEl0ZW0ub3BlbilcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbS5vcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkSXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoIShUcmVlLl9jdHJsICYmIFRyZWUuX2N0cmwoKSkgJiYgIShUcmVlLl9zaGlmdCAmJiBUcmVlLl9zaGlmdCgpKSlcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtLnRyZWUhLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86bGluayB0byB0aGUgb2JzZXJ2ZXIgXHJcbiAgICBwcml2YXRlIF9vblJlbmFtZShzZWxlY3Q6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAoc2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJlZSEuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy50cmVlIS5fb25JdGVtQ2xpY2sodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdyZW5hbWUnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygndHJlZSBpdGVtIHJlbmFtZScpO1xyXG4gICAgICAgIC8vIGFkZCByZW1hbmluZyBmaWVsZFxyXG4gICAgICAgIHZhciBmaWVsZCA9IG5ldyBUZXh0RmllbGQoKTtcclxuICAgICAgICBmaWVsZC5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIGZpZWxkLnJlbmRlckNoYW5nZXMgPSBmYWxzZTtcclxuICAgICAgICBmaWVsZC52YWx1ZSA9IHRoaXMudGV4dDtcclxuICAgICAgICBmaWVsZC5lbGVtZW50SW5wdXQucmVhZE9ubHkgPSAhdGhpcy50cmVlIS5hbGxvd1JlbmFtaW5nO1xyXG4gICAgICAgIGZpZWxkLmVsZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmaWVsZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHNlbGYuY2xhc3MhLnJlbW92ZSgncmVuYW1lJyk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIGZpZWxkLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpZWxkLmVsZW1lbnQhLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZmllbGQub24oJ2NoYW5nZScsIGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgICAgIC8vIGlmIChzZWxmLmVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICBzZWxmLmVudGl0eS5zZXQoJ25hbWUnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5lbWl0KCdyZW5hbWUnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpZWxkLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgc2VsZi5jbGFzcyEucmVtb3ZlKCdyZW5hbWUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5hcHBlbmRDaGlsZChmaWVsZC5lbGVtZW50ISk7XHJcbiAgICAgICAgZmllbGQuZWxlbWVudElucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgZmllbGQuZWxlbWVudElucHV0LnNlbGVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2spO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudFRpdGxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5fb25EYmxDbGljayk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd24pO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudFRpdGxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRUaXRsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLl9vbk1vdXNlT3Zlcik7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VGl0bGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfb25BcHBlbmQoaXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ2FwcGVuZCcsIGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX29uUmVtb3ZlKGl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdyZW1vdmUnLCBpdGVtKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGZvY3VzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudFRpdGxlLmZvY3VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFwcGVuZChpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQhLmNoaWxkcmVuWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ3NpbmdsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXRlbS5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCEuYXBwZW5kQ2hpbGQoaXRlbS5lbGVtZW50ISk7XHJcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4rKztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NoaWxkcmVuID09PSAxKSB7XHJcbiAgICAgICAgICAgIGl0ZW0uY2xhc3MhLmFkZCgnc2luZ2xlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3MhLmFkZCgnY29udGFpbmVyJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jaGlsZHJlbiA+IDEpIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzcyEucmVtb3ZlKCdzaW5nbGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhcHBlbmRDaGlsZHJlbiA9IGZ1bmN0aW9uICh0cmVlSXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgICAgICAgICAgdHJlZUl0ZW0uZW1pdCgnYXBwZW5kJywgdHJlZUl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRyZWVJdGVtLl9jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0cmVlSXRlbS5lbGVtZW50IS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZENoaWxkcmVuKDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PnRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuW2ldKS51aSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGFwcGVuZENoaWxkcmVuKGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhcHBlbmRCZWZvcmUoaXRlbTogVHJlZUl0ZW0sIHJlZmVyZW5jZUl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NoaWxkcmVuID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCEuY2hpbGRyZW5bMV0uY2xhc3NMaXN0LnJlbW92ZSgnc2luZ2xlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpdGVtLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50IS5pbnNlcnRCZWZvcmUoaXRlbS5lbGVtZW50ISwgcmVmZXJlbmNlSXRlbS5lbGVtZW50KTtcclxuICAgICAgICB0aGlzLl9jaGlsZHJlbisrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY2hpbGRyZW4gPT09IDEpIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzcyEuYWRkKCdzaW5nbGUnKTtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdjb250YWluZXInKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NoaWxkcmVuID4gMSkge1xyXG4gICAgICAgICAgICBpdGVtLmNsYXNzIS5yZW1vdmUoJ3NpbmdsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGFwcGVuZENoaWxkcmVuID0gZnVuY3Rpb24gKHRyZWVJdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0cmVlSXRlbS5lbWl0KCdhcHBlbmQnLCB0cmVlSXRlbSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHJlZUl0ZW0uX2NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kQ2hpbGRyZW4oPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+dHJlZUl0ZW0uZWxlbWVudCEuY2hpbGRyZW5baV0pLnVpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXBwZW5kQ2hpbGRyZW4oaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFwcGVuZEFmdGVyKGl0ZW06IFRyZWVJdGVtLCByZWZlcmVuY2VJdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgICAgIGl0ZW0ucGFyZW50ID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8gbWlnaHQgYmUgbGFzdFxyXG4gICAgICAgIGlmICghcmVmZXJlbmNlSXRlbSlcclxuICAgICAgICAgICAgdGhpcy5hcHBlbmQoaXRlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudCEuaW5zZXJ0QmVmb3JlKGl0ZW0uZWxlbWVudCEsIHJlZmVyZW5jZUl0ZW0uZWxlbWVudCEubmV4dEVsZW1lbnRTaWJsaW5nKTtcclxuICAgICAgICB0aGlzLl9jaGlsZHJlbisrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY2hpbGRyZW4gPT09IDEpIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzcyEuYWRkKCdzaW5nbGUnKTtcclxuICAgICAgICAgICAgdGhpcy5jbGFzcyEuYWRkKCdjb250YWluZXInKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NoaWxkcmVuID09PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCEuY2hpbGRyZW5bMV0uY2xhc3NMaXN0LnJlbW92ZSgnc2luZ2xlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYXBwZW5kQ2hpbGRyZW4gPSBmdW5jdGlvbiAodHJlZUl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRyZWVJdGVtLmVtaXQoJ2FwcGVuZCcsIHRyZWVJdGVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0cmVlSXRlbS5fY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdHJlZUl0ZW0uZWxlbWVudCEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZHJlbig8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD50cmVlSXRlbS5lbGVtZW50IS5jaGlsZHJlbltpXSkudWkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhcHBlbmRDaGlsZHJlbihpdGVtKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHJlbW92ZShpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5fY2hpbGRyZW4gfHwgIXRoaXMuZWxlbWVudCEuY29udGFpbnMoaXRlbS5lbGVtZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQhLnJlbW92ZUNoaWxkKGl0ZW0uZWxlbWVudCEpO1xyXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLS07XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzIS5yZW1vdmUoJ2NvbnRhaW5lcicpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY2hpbGRyZW4gPT09IDEgJiYgdGhpcy5lbGVtZW50IS5jaGlsZHJlbi5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCEuY2hpbGRyZW5bMV0uY2xhc3NMaXN0LmFkZCgnc2luZ2xlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVtb3ZlQ2hpbGRyZW4gPSBmdW5jdGlvbiAodHJlZUl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRyZWVJdGVtLmVtaXQoJ3JlbW92ZScsIHRyZWVJdGVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0cmVlSXRlbS5fY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDE7IGkgPCB0cmVlSXRlbS5lbGVtZW50IS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PnRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuW2ldKS51aSAmJiAoPEhUTUxFbGVtZW50PnRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuW2ldKS51aSBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNoaWxkcmVuKDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PnRyZWVJdGVtLmVsZW1lbnQhLmNoaWxkcmVuW2ldKS51aSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZW1vdmVDaGlsZHJlbihpdGVtKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRhaW5lckVsZW1lbnQgfSBmcm9tIFwiLi9jb250YWluZXItZWxlbWVudFwiO1xyXG5pbXBvcnQgeyBUcmVlSXRlbSB9IGZyb20gXCIuL3RyZWUtaXRlbVwiO1xyXG5pbXBvcnQgeyBIb3RrZXlzIH0gZnJvbSBcIi4uL2VkaXRvclwiO1xyXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSBcIi4vZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWUgZXh0ZW5kcyBDb250YWluZXJFbGVtZW50IHtcclxuXHJcbiAgcHJpdmF0ZSBlbGVtZW50RHJhZzogSFRNTEVsZW1lbnQ7XHJcbiAgcHVibGljIGRyYWdnYWJsZTogYm9vbGVhbjtcclxuICBwdWJsaWMgX2RyYWdnaW5nOiBib29sZWFuO1xyXG4gIHB1YmxpYyBfZHJhZ0l0ZW1zOiBUcmVlSXRlbVtdID0gW107XHJcbiAgcHVibGljIF9kcmFnT3ZlcjogTnVsbGFibGU8VHJlZUl0ZW0+O1xyXG4gIHByaXZhdGUgX2RyYWdBcmVhOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfZXZ0RHJhZ01vdmU6IGFueTtcclxuICBwdWJsaWMgcmVvcmRlcmluZzogYm9vbGVhbjtcclxuICBwdWJsaWMgZHJhZ0luc3RhbnQ6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWQ6IFRyZWVJdGVtW10gPSBbXTtcclxuXHJcbiAgcHVibGljIGFsbG93UmVuYW1pbmc6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICBwdWJsaWMgZ2V0IHNlbGVjdGVkKCk6IFRyZWVJdGVtW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkLnNsaWNlKDApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1aS10cmVlJyk7XHJcblxyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XHJcblxyXG5cclxuICAgIHRoaXMuZWxlbWVudERyYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuZWxlbWVudERyYWcuY2xhc3NMaXN0LmFkZCgnZHJhZy1oYW5kbGUnKTtcclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnREcmFnKTtcclxuXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmVsZW1lbnREcmFnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgIHNlbGYuX29uRHJhZ01vdmUoZXZ0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgIHNlbGYuX29uRHJhZ091dCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5vbignc2VsZWN0JywgdGhpcy5fb25TZWxlY3QpO1xyXG4gICAgdGhpcy5vbignZGVzZWxlY3QnLCB0aGlzLl9vbkRlc2VsZWN0KTtcclxuICAgIHRoaXMub24oJ2FwcGVuZCcsIHRoaXMuX29uQXBwZW5kKTtcclxuICAgIHRoaXMub24oJ3JlbW92ZScsIHRoaXMuX29uUmVtb3ZlKTtcclxuXHJcbiAgICB0aGlzLmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICB0aGlzLl9kcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5fZHJhZ0l0ZW1zID0gW107XHJcbiAgICB0aGlzLl9kcmFnT3ZlciA9IG51bGw7XHJcbiAgICB0aGlzLl9kcmFnQXJlYSA9ICdpbnNpZGUnO1xyXG4gICAgdGhpcy5fZXZ0RHJhZ01vdmUgPSBudWxsO1xyXG4gICAgdGhpcy5yZW9yZGVyaW5nID0gdHJ1ZTtcclxuICAgIHRoaXMuZHJhZ0luc3RhbnQgPSB0cnVlO1xyXG5cclxuICAgIHRoaXMuX3NlbGVjdGVkID0gW107XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBfY3RybCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBIb3RrZXlzLmN0cmw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIF9zaGlmdCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBIb3RrZXlzLnNoaWZ0O1xyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgX29uRHJhZ01vdmUoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZHJhZ2dhYmxlKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5faG92ZXJDYWxjdWxhdGUoZXZ0KTtcclxuICAgIHRoaXMuZW1pdCgnZHJhZ21vdmUnLCBldnQpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaG92ZXJDYWxjdWxhdGUoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZHJhZ2dhYmxlIHx8ICF0aGlzLl9kcmFnT3ZlcilcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGxldCByZWN0ID0gdGhpcy5lbGVtZW50RHJhZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGxldCBhcmVhOiBudW1iZXIgPSBNYXRoLmZsb29yKChldnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIHJlY3QuaGVpZ2h0ICogNSk7XHJcblxyXG4gICAgbGV0IG9sZEFyZWEgPSB0aGlzLl9kcmFnQXJlYTtcclxuICAgIGxldCBvbGREcmFnT3ZlciA9IHRoaXMuX2RyYWdPdmVyO1xyXG5cclxuICAgIGlmICh0aGlzLl9kcmFnT3Zlci5wYXJlbnQgPT09IHRoaXMpIHtcclxuICAgICAgbGV0IHBhcmVudCA9IGZhbHNlO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RyYWdJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLl9kcmFnSXRlbXNbaV0ucGFyZW50ID09PSB0aGlzLl9kcmFnT3Zlcikge1xyXG4gICAgICAgICAgcGFyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuX2RyYWdPdmVyID0gbnVsbDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoIXBhcmVudClcclxuICAgICAgICB0aGlzLl9kcmFnQXJlYSA9ICdpbnNpZGUnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gY2hlY2sgaWYgd2UgYXJlIHRyeWluZyB0byBkcmFnIGl0ZW0gaW5zaWRlIGFueSBvZiBpdHMgY2hpbGRyZW5cclxuICAgICAgbGV0IGludmFsaWQgPSBmYWxzZTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9kcmFnSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5fZHJhZ092ZXIucGFyZW50O1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgIGlmIChwYXJlbnQgPT09IHRoaXMuX2RyYWdJdGVtc1tpXSkge1xyXG4gICAgICAgICAgICBpbnZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpbnZhbGlkKSB7XHJcbiAgICAgICAgdGhpcy5fZHJhZ092ZXIgPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMucmVvcmRlcmluZyAmJiBhcmVhIDw9IDEgJiYgdGhpcy5fZHJhZ0l0ZW1zLmluZGV4T2YodGhpcy5fZHJhZ092ZXIucHJldiEpID09PSAtMSkge1xyXG4gICAgICAgIHRoaXMuX2RyYWdBcmVhID0gJ2JlZm9yZSc7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZW9yZGVyaW5nICYmIGFyZWEgPj0gNCAmJiB0aGlzLl9kcmFnSXRlbXMuaW5kZXhPZih0aGlzLl9kcmFnT3Zlci5uZXh0ISkgPT09IC0xICYmICh0aGlzLl9kcmFnT3Zlci5fY2hpbGRyZW4gPT09IDAgfHwgIXRoaXMuX2RyYWdPdmVyLm9wZW4pKSB7XHJcbiAgICAgICAgdGhpcy5fZHJhZ0FyZWEgPSAnYWZ0ZXInO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBwYXJlbnQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5yZW9yZGVyaW5nICYmIHRoaXMuX2RyYWdPdmVyLm9wZW4pIHtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZHJhZ0l0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnSXRlbXNbaV0ucGFyZW50ID09PSB0aGlzLl9kcmFnT3Zlcikge1xyXG4gICAgICAgICAgICAgIHBhcmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgdGhpcy5fZHJhZ0FyZWEgPSAnYmVmb3JlJztcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXBhcmVudClcclxuICAgICAgICAgIHRoaXMuX2RyYWdBcmVhID0gJ2luc2lkZSc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAob2xkQXJlYSAhPT0gdGhpcy5fZHJhZ0FyZWEgfHwgb2xkRHJhZ092ZXIgIT09IHRoaXMuX2RyYWdPdmVyKVxyXG4gICAgICB0aGlzLl91cGRhdGVEcmFnSGFuZGxlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIF9vbkl0ZW1DbGljayhpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgaWYgKFRyZWUuX2N0cmwgJiYgVHJlZS5fY3RybCgpKSB7XHJcbiAgICAgIC8vIOaMieS9j2N0cmzplK7vvIzpkojlr7nmn5DkuKppdGVt77yM5oyJ56ysMeasoemAieS4re+8jOaMieesrDLmrKHlj5bmtojpgInkuK1cclxuICAgICAgaXRlbS5zZWxlY3RlZCA9ICFpdGVtLnNlbGVjdGVkO1xyXG4gICAgfSBlbHNlIGlmIChUcmVlLl9zaGlmdCAmJiBUcmVlLl9zaGlmdCgpICYmIHRoaXMuX3NlbGVjdGVkLmxlbmd0aCkge1xyXG4gICAgICAvLyBzaGlmdOaMieS9j+S7peWQju+8jOW+gOS4iuW+gOS4i+mDveWPr+i/m+ihjOmAieaLqe+8jOS4jeaWrea3u+WKoOmAieaLqemhue+8jOS4jeWHj+WwkVxyXG4gICAgICBjb25zb2xlLmxvZygnc2hpZnTmjInpkq4nKVxyXG4gICAgICBsZXQgZnJvbTogVHJlZUl0ZW0gPSB0aGlzLl9zZWxlY3RlZFt0aGlzLl9zZWxlY3RlZC5sZW5ndGggLSAxXTtcclxuICAgICAgbGV0IHRvOiBUcmVlSXRlbSA9IGl0ZW07XHJcblxyXG4gICAgICBsZXQgdXA6IFRyZWVJdGVtW10gPSBbXTtcclxuICAgICAgbGV0IGRvd246IFRyZWVJdGVtW10gPSBbXTtcclxuXHJcbiAgICAgIGxldCBwcmV2ID0gZnVuY3Rpb24gKHJlZkl0ZW06IFRyZWVJdGVtKTogTnVsbGFibGU8VHJlZUl0ZW0+IHtcclxuICAgICAgICBpZiAoIXJlZkl0ZW0pIHJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCByZXN1bHQ6IE51bGxhYmxlPFRyZWVJdGVtPiA9IG51bGw7XHJcbiAgICAgICAgbGV0IHByZXZJdGVtID0gcmVmSXRlbS5lbGVtZW50IS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgIGxldCBpdGVtOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG4gICAgICAgIGlmIChwcmV2SXRlbSkgaXRlbSA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50PnByZXZJdGVtKS51aTtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgIGlmIChyZWZJdGVtLnBhcmVudCAmJiByZWZJdGVtLnBhcmVudCA9PT0gaXRlbSAmJiByZWZJdGVtLnBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlZkl0ZW0ucGFyZW50O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpdGVtLm9wZW4gJiYgaXRlbS5fY2hpbGRyZW4pIHsgIC8vIOayoeaciW9wZW7osozkvLzlsLHmsqHmnInpgInkuK1cclxuICAgICAgICAgICAgLy8gZWxlbWVudCBhYm92ZSBpcyBvcGVuLCBmaW5kIGxhc3QgYXZhaWxhYmxlIGVsZW1lbnRcclxuICAgICAgICAgICAgbGV0IGxhc3RJdGVtID0gaXRlbS5lbGVtZW50IS5sYXN0RWxlbWVudENoaWxkO1xyXG4gICAgICAgICAgICBsZXQgbGFzdDogTnVsbGFibGU8VHJlZUl0ZW0+ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGxhc3RJdGVtICYmICg8SFRNTEVsZW1lbnQ+bGFzdEl0ZW0pLnVpKVxyXG4gICAgICAgICAgICAgIGxhc3QgPSA8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD5sYXN0SXRlbSkudWk7XHJcblxyXG4gICAgICAgICAgICBpZiAobGFzdCkge1xyXG4gICAgICAgICAgICAgIGxldCBmaW5kTGFzdCA9IGZ1bmN0aW9uIChpbnNpZGU6IE51bGxhYmxlPFRyZWVJdGVtPikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc2lkZSAmJiBpbnNpZGUub3BlbiAmJiBpbnNpZGUuX2NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChpbnNpZGUuZWxlbWVudCEubGFzdEVsZW1lbnRDaGlsZCAmJiAoPEhUTUxFbGVtZW50Pmluc2lkZS5lbGVtZW50IS5sYXN0Q2hpbGQpLnVpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50Pmluc2lkZS5lbGVtZW50IS5sYXN0Q2hpbGQpLnVpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGxldCBmb3VuZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHdoaWxlICghZm91bmQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkZWVwZXI6IE51bGxhYmxlPFRyZWVJdGVtPiA9IGZpbmRMYXN0KGxhc3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZXBlcikge1xyXG4gICAgICAgICAgICAgICAgICBsYXN0ID0gZGVlcGVyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGFzdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxldCBuZXh0ID0gZnVuY3Rpb24gKHJlZkl0ZW06IFRyZWVJdGVtKTogTnVsbGFibGU8VHJlZUl0ZW0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0OiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG4gICAgICAgIGxldCBuZXh0SXRlbSA9IHJlZkl0ZW0uZWxlbWVudCEubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgIGxldCBpdGVtOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG4gICAgICAgIGlmIChuZXh0SXRlbSkgaXRlbSA9IDxUcmVlSXRlbT4oPEhUTUxFbGVtZW50Pm5leHRJdGVtKS51aTtcclxuXHJcbiAgICAgICAgaWYgKHJlZkl0ZW0ub3BlbiAmJiByZWZJdGVtLl9jaGlsZHJlbikge1xyXG4gICAgICAgICAgLy8gc2VsZWN0IGEgY2hpbGRcclxuICAgICAgICAgIGxldCBmaXJzdCA9IHJlZkl0ZW0uZWxlbWVudCEuZmlyc3RFbGVtZW50Q2hpbGQhLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgIGlmIChmaXJzdCAmJiAoPEhUTUxFbGVtZW50PmZpcnN0KS51aSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSA8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD5maXJzdCkudWk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gaXRlbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgIC8vIHNlbGVjdCBuZXh0IGl0ZW1cclxuICAgICAgICAgIHJlc3VsdCA9IGl0ZW07XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZWZJdGVtLnBhcmVudCAmJiByZWZJdGVtLnBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAvLyBubyBuZXh0IGVsZW1lbnQsIGdvIHRvIHBhcmVudFxyXG4gICAgICAgICAgbGV0IHBhcmVudDogTnVsbGFibGU8VHJlZUl0ZW0+ID0gcmVmSXRlbS5wYXJlbnQ7XHJcblxyXG4gICAgICAgICAgbGV0IGZpbmROZXh0ID0gZnVuY3Rpb24gKGZyb206IFRyZWVJdGVtKTogTnVsbGFibGU8VHJlZUl0ZW0+IHtcclxuICAgICAgICAgICAgbGV0IG5leHQ6IE51bGxhYmxlPFRyZWVJdGVtPiA9IGZyb20ubmV4dDtcclxuICAgICAgICAgICAgaWYgKG5leHQpIHtcclxuICAgICAgICAgICAgICByZXN1bHQgPSBuZXh0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZyb20ucGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZnJvbS5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBwYXJlbnQgPSBmaW5kTmV4dChwYXJlbnQpO1xyXG4gICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQgPSBmaW5kTmV4dChwYXJlbnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGxldCBkb25lOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgIGxldCBwYXRoOiBUcmVlSXRlbVtdID0gW107XHJcbiAgICAgIGxldCBsb29rVXA6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICBsZXQgbG9va0Rvd246IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICBsZXQgbG9va2luZ1VwOiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgLy8gVE9ET1xyXG4gICAgICB3aGlsZSAoIWRvbmUpIHtcclxuICAgICAgICBsb29raW5nVXAgPSAhbG9va2luZ1VwO1xyXG5cclxuICAgICAgICBsZXQgaXRlbTogTnVsbGFibGU8VHJlZUl0ZW0+ID0gbnVsbDtcclxuICAgICAgICBsZXQgbG9va0Zyb206IFRyZWVJdGVtID0gZnJvbTtcclxuICAgICAgICBpZiAoKCFsb29rRG93biB8fCBsb29raW5nVXApICYmIGxvb2tVcCkge1xyXG4gICAgICAgICAgLy8gdXBcclxuICAgICAgICAgIGlmICh1cC5sZW5ndGgpXHJcbiAgICAgICAgICAgIGxvb2tGcm9tID0gdXBbdXAubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgICAgaXRlbSA9IHByZXYobG9va0Zyb20pO1xyXG4gICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgdXAucHVzaChpdGVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtID09PSB0bykge1xyXG4gICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHBhdGggPSB1cDtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbG9va1VwID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChsb29rRG93bikge1xyXG4gICAgICAgICAgLy8gZG93blxyXG4gICAgICAgICAgaWYgKGRvd24ubGVuZ3RoKVxyXG4gICAgICAgICAgICBsb29rRnJvbSA9IGRvd25bZG93bi5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAgICAgICBpdGVtID0gbmV4dChsb29rRnJvbSk7XHJcbiAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICBkb3duLnB1c2goaXRlbSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbSA9PT0gdG8pIHtcclxuICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBwYXRoID0gZG93bjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbG9va0Rvd24gPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocGF0aCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgcGF0aFtpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBzZWxlY3RlZDogYm9vbGVhbiA9IGl0ZW0uc2VsZWN0ZWQgJiYgKCh0aGlzLl9zZWxlY3RlZC5pbmRleE9mKGl0ZW0pID09PSAtMSkgfHwgKHRoaXMuX3NlbGVjdGVkLmxlbmd0aCA9PT0gMSAmJiB0aGlzLl9zZWxlY3RlZFswXSA9PT0gaXRlbSkpO1xyXG4gICAgICB0aGlzLmNsZWFyKCk7XHJcblxyXG4gICAgICBpZiAoIXNlbGVjdGVkKVxyXG4gICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25TZWxlY3QoaXRlbTogVHJlZUl0ZW0pOiB2b2lkIHtcclxuICAgIHRoaXMuX3NlbGVjdGVkLnB1c2goaXRlbSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkRlc2VsZWN0KGl0ZW06IFRyZWVJdGVtKTogdm9pZCB7XHJcbiAgICBsZXQgaW5kZXg6IG51bWJlciA9IHRoaXMuX3NlbGVjdGVkLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggPT09IC0xKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5fc2VsZWN0ZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcblxyXG5cclxuICBwcml2YXRlIF9vbkRyYWdTdGFydChpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmRyYWdnYWJsZSB8fCB0aGlzLl9kcmFnZ2luZylcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2RyYWdJdGVtcyA9IFtdO1xyXG5cclxuICAgIGlmICh0aGlzLl9zZWxlY3RlZCAmJiB0aGlzLl9zZWxlY3RlZC5sZW5ndGggPiAxICYmIHRoaXMuX3NlbGVjdGVkLmluZGV4T2YoaXRlbSkgIT09IC0xKSB7XHJcbiAgICAgIGxldCBpdGVtczogVHJlZUl0ZW1bXSA9IFtdO1xyXG4gICAgICBsZXQgaW5kZXg6IHsgW2tleTogbnVtYmVyXTogVHJlZUl0ZW0gfSA9IHt9O1xyXG4gICAgICBsZXQgZGVmYXVsdExldmVsID0gLTE7XHJcblxyXG4gICAgICAvLyBidWlsZCBpbmRleFxyXG4gICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgdGhpcy5fc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBjYW50IGRyYWcgcGFyZW50XHJcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkW2ldLnBhcmVudCA9PT0gdGhpcylcclxuICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRbaV0uX2RyYWdJZCA9IGkgKyAxO1xyXG4gICAgICAgIGluZGV4W3RoaXMuX3NlbGVjdGVkW2ldLl9kcmFnSWRdID0gdGhpcy5fc2VsZWN0ZWRbaV07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLl9zZWxlY3RlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBzOiBUcmVlSXRlbSA9IHRoaXMuX3NlbGVjdGVkW2ldO1xyXG4gICAgICAgIGxldCBsZXZlbDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgY2hpbGQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBsZXQgcGFyZW50OiBOdWxsYWJsZTxFbGVtZW50PiA9IHRoaXMuX3NlbGVjdGVkW2ldLnBhcmVudDtcclxuICAgICAgICBpZiAoIXBhcmVudCB8fCAhKHBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSlcclxuICAgICAgICAgIHBhcmVudCA9IG51bGw7XHJcblxyXG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgIGlmIChwYXJlbnQuX2RyYWdJZCAmJiBpbmRleFtwYXJlbnQuX2RyYWdJZF0pIHtcclxuICAgICAgICAgICAgLy8gY2hpbGQsIHRvIGJlIGlnbm9yZWRcclxuICAgICAgICAgICAgY2hpbGQgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgICAgaWYgKCEocGFyZW50IGluc3RhbmNlb2YgVHJlZUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGxldmVsKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoaWxkKSB7XHJcbiAgICAgICAgICBpZiAoZGVmYXVsdExldmVsID09PSAtMSkge1xyXG4gICAgICAgICAgICBkZWZhdWx0TGV2ZWwgPSBsZXZlbDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZGVmYXVsdExldmVsICE9PSBsZXZlbCkge1xyXG4gICAgICAgICAgICAvLyBtdWx0aS1sZXZlbCBkcmFnIG5vIGFsbG93ZWRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGl0ZW1zLnB1c2godGhpcy5fc2VsZWN0ZWRbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY2xlYW4gaWRzXHJcbiAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLl9zZWxlY3RlZC5sZW5ndGg7IGkrKylcclxuICAgICAgICB0aGlzLl9zZWxlY3RlZFtpXS5fZHJhZ0lkID0gLTE7XHJcblxyXG4gICAgICB0aGlzLl9kcmFnSXRlbXMgPSBpdGVtcztcclxuXHJcbiAgICAgIC8vIHNvcnQgaXRlbXMgYnkgdGhlaXIgbnVtYmVyIG9mIGFwcGVyYW5jZSBpbiBoaWVyYXJjaHlcclxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBsZXQgY29tbW9uUGFyZW50OiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBmaW5kIGNvbW1vbiBwYXJlbnRcclxuICAgICAgICBsZXQgZmluZENvbW1vblBhcmVudCA9IGZ1bmN0aW9uIChpdGVtczogVHJlZUl0ZW1bXSk6IFRyZWVJdGVtW10ge1xyXG4gICAgICAgICAgbGV0IHBhcmVudHM6IFRyZWVJdGVtW10gPSBbXTtcclxuICAgICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaXRlbXNbaV0ucGFyZW50ICYmIGl0ZW1zW2ldLnBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHBhcmVudHMuaW5kZXhPZig8VHJlZUl0ZW0+aXRlbXNbaV0ucGFyZW50KSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goPFRyZWVJdGVtPml0ZW1zW2ldLnBhcmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChwYXJlbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBjb21tb25QYXJlbnQgPSBwYXJlbnRzWzBdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHBhcmVudHM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgcGFyZW50czogVHJlZUl0ZW1bXSA9IGl0ZW1zO1xyXG4gICAgICAgIHdoaWxlICghY29tbW9uUGFyZW50ICYmIHBhcmVudHMpXHJcbiAgICAgICAgICBwYXJlbnRzID0gZmluZENvbW1vblBhcmVudChwYXJlbnRzKTtcclxuXHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIGluZCBudW1iZXJcclxuICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGxldCBpbmQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgICAgbGV0IGNvdW50Q2hpbGRyZW4gPSBmdW5jdGlvbiAoaXRlbTogVHJlZUl0ZW0pOiBudW1iZXIge1xyXG4gICAgICAgICAgICBpZiAoIWl0ZW0uX2NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbGV0IGNvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IGl0ZW0uZWxlbWVudCEuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5jaGlsZHJlbltpXSkudWkgJiYgKDxIVE1MRWxlbWVudD5jaGlsZHJlbltpXSkudWkgaW5zdGFuY2VvZiBUcmVlSXRlbSlcclxuICAgICAgICAgICAgICAgICAgY291bnQgKz0gY291bnRDaGlsZHJlbig8VHJlZUl0ZW0+KDxIVE1MRWxlbWVudD5jaGlsZHJlbltpXSkudWkpICsgMTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGxldCBzY2FuVXBGb3JJbmRleCA9IGZ1bmN0aW9uIChpdGVtOiBUcmVlSXRlbSk6IE51bGxhYmxlPFRyZWVJdGVtPiB7XHJcbiAgICAgICAgICAgIGluZCsrO1xyXG4gICAgICAgICAgICBsZXQgc2libGluZyA9IGl0ZW0uZWxlbWVudCEucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgbGV0IHNpYmxpbmdJdGVtOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoc2libGluZyAmJiAoPEhUTUxFbGVtZW50PnNpYmxpbmcpLnVpICYmICg8SFRNTEVsZW1lbnQ+c2libGluZykudWkgaW5zdGFuY2VvZiBUcmVlSXRlbSkge1xyXG4gICAgICAgICAgICAgIHNpYmxpbmdJdGVtID0gPFRyZWVJdGVtPig8SFRNTEVsZW1lbnQ+c2libGluZykudWk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzaWJsaW5nSXRlbSkge1xyXG4gICAgICAgICAgICAgIGluZCArPSBjb3VudENoaWxkcmVuKHNpYmxpbmdJdGVtKTtcclxuICAgICAgICAgICAgICByZXR1cm4gc2libGluZ0l0ZW07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5wYXJlbnQgPT09IGNvbW1vblBhcmVudCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudCBpbnN0YW5jZW9mIFRyZWVJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPFRyZWVJdGVtPml0ZW0ucGFyZW50O1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgbGV0IHByZXY6IE51bGxhYmxlPFRyZWVJdGVtPiA9IHNjYW5VcEZvckluZGV4KGl0ZW1zW2ldKTtcclxuICAgICAgICAgIHdoaWxlIChwcmV2KVxyXG4gICAgICAgICAgICBwcmV2ID0gc2NhblVwRm9ySW5kZXgocHJldik7XHJcblxyXG4gICAgICAgICAgaXRlbXNbaV0uX2RyYWdJZCA9IGluZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGl0ZW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgIHJldHVybiBhLl9kcmFnSWQgLSBiLl9kcmFnSWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHNpbmdsZSBkcmFnXHJcbiAgICAgIHRoaXMuX2RyYWdJdGVtcyA9IFtpdGVtXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5fZHJhZ0l0ZW1zLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLl9kcmFnZ2luZyA9IHRydWU7XHJcblxyXG4gICAgICB0aGlzLmNsYXNzIS5hZGQoJ2RyYWdnaW5nJyk7XHJcbiAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLl9kcmFnSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLl9kcmFnSXRlbXNbaV0uY2xhc3MhLmFkZCgnZHJhZ2dlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLl91cGRhdGVEcmFnSGFuZGxlKCk7XHJcbiAgICAgIHRoaXMuZW1pdCgnZHJhZ3N0YXJ0Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkRyYWdPdmVyKGl0ZW06IFRyZWVJdGVtLCBldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5kcmFnZ2FibGUgfHwgIXRoaXMuX2RyYWdnaW5nIHx8ICh0aGlzLl9kcmFnSXRlbXMuaW5kZXhPZihpdGVtKSAhPT0gLTEgJiYgIXRoaXMuX2RyYWdPdmVyKSB8fCB0aGlzLl9kcmFnT3ZlciA9PT0gaXRlbSlcclxuICAgICAgcmV0dXJuO1xyXG5cclxuICAgIGxldCBkcmFnT3ZlciA9IG51bGw7XHJcblxyXG4gICAgaWYgKGl0ZW0uYWxsb3dEcm9wKSB7XHJcbiAgICAgIGlmICh0aGlzLl9kcmFnSXRlbXMuaW5kZXhPZihpdGVtKSA9PT0gLTEpXHJcbiAgICAgICAgZHJhZ092ZXIgPSBpdGVtO1xyXG5cclxuICAgICAgaWYgKHRoaXMuX2RyYWdPdmVyID09PSBudWxsICYmIGRyYWdPdmVyKVxyXG4gICAgICAgIHRoaXMuZW1pdCgnZHJhZ2luJyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICB0aGlzLl9kcmFnT3ZlciA9IGRyYWdPdmVyO1xyXG5cclxuICAgIHRoaXMuX3VwZGF0ZURyYWdIYW5kbGUoKTtcclxuICAgIHRoaXMuX29uRHJhZ01vdmUoZXZ0KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uRHJhZ0VuZCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5kcmFnZ2FibGUgfHwgIXRoaXMuX2RyYWdnaW5nKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgLy8gVE9ET1xyXG4gICAgbGV0IHJlcGFyZW50ZWRJdGVtczogUmVwYXJlbnREcmFnSXRlbXNbXSA9IFtdO1xyXG4gICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuY2xhc3MhLnJlbW92ZSgnZHJhZ2dpbmcnKTtcclxuXHJcbiAgICBsZXQgbGFzdERyYWdnZWRJdGVtOiBOdWxsYWJsZTxUcmVlSXRlbT4gPSB0aGlzLl9kcmFnT3ZlcjtcclxuXHJcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgdGhpcy5fZHJhZ0l0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRoaXMuX2RyYWdJdGVtc1tpXS5jbGFzcyEucmVtb3ZlKCdkcmFnZ2VkJyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5fZHJhZ092ZXIgJiYgdGhpcy5fZHJhZ092ZXIgIT09IHRoaXMuX2RyYWdJdGVtc1tpXSkge1xyXG5cclxuICAgICAgICBsZXQgb2xkUGFyZW50OiBOdWxsYWJsZTxFbGVtZW50PiA9IHRoaXMuX2RyYWdJdGVtc1tpXS5wYXJlbnQ7XHJcblxyXG4gICAgICAgIGlmIChvbGRQYXJlbnQgIT09IHRoaXMuX2RyYWdPdmVyIHx8IHRoaXMuX2RyYWdBcmVhICE9PSAnaW5zaWRlJykge1xyXG4gICAgICAgICAgbGV0IG5ld1BhcmVudDogTnVsbGFibGU8RWxlbWVudD4gPSBudWxsO1xyXG5cclxuICAgICAgICAgIGlmICh0aGlzLmRyYWdJbnN0YW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnSXRlbXNbaV0ucGFyZW50KVxyXG4gICAgICAgICAgICAgICg8VHJlZUl0ZW0+KHRoaXMuX2RyYWdJdGVtc1tpXS5wYXJlbnQhKSkucmVtb3ZlKHRoaXMuX2RyYWdJdGVtc1tpXSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuX2RyYWdBcmVhID09PSAnYmVmb3JlJykge1xyXG4gICAgICAgICAgICBuZXdQYXJlbnQgPSB0aGlzLl9kcmFnT3Zlci5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdJbnN0YW50KVxyXG4gICAgICAgICAgICAgICg8VHJlZUl0ZW0+dGhpcy5fZHJhZ092ZXIucGFyZW50KS5hcHBlbmRCZWZvcmUodGhpcy5fZHJhZ0l0ZW1zW2ldLCB0aGlzLl9kcmFnT3Zlcik7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2RyYWdBcmVhID09PSAnaW5zaWRlJykge1xyXG4gICAgICAgICAgICBuZXdQYXJlbnQgPSB0aGlzLl9kcmFnT3ZlcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ0luc3RhbnQpIHtcclxuICAgICAgICAgICAgICB0aGlzLl9kcmFnT3Zlci5vcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB0aGlzLl9kcmFnT3Zlci5hcHBlbmQodGhpcy5fZHJhZ0l0ZW1zW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9kcmFnQXJlYSA9PT0gJ2FmdGVyJykge1xyXG4gICAgICAgICAgICBuZXdQYXJlbnQgPSB0aGlzLl9kcmFnT3Zlci5wYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdJbnN0YW50KSB7XHJcbiAgICAgICAgICAgICAgKDxUcmVlSXRlbT50aGlzLl9kcmFnT3Zlci5wYXJlbnQpLmFwcGVuZEFmdGVyKHRoaXMuX2RyYWdJdGVtc1tpXSwgbGFzdERyYWdnZWRJdGVtISk7XHJcbiAgICAgICAgICAgICAgbGFzdERyYWdnZWRJdGVtID0gdGhpcy5fZHJhZ0l0ZW1zW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVwYXJlbnRlZEl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICBpdGVtOiB0aGlzLl9kcmFnSXRlbXNbaV0sXHJcbiAgICAgICAgICAgIG9sZDogb2xkUGFyZW50LFxyXG4gICAgICAgICAgICBuZXc6IG5ld1BhcmVudFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbWl0KCdyZXBhcmVudCcsIHJlcGFyZW50ZWRJdGVtcyk7XHJcblxyXG4gICAgdGhpcy5fZHJhZ0l0ZW1zID0gW107XHJcblxyXG4gICAgaWYgKHRoaXMuX2RyYWdPdmVyKVxyXG4gICAgICB0aGlzLl9kcmFnT3ZlciA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5lbWl0KCdkcmFnZW5kJyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkRyYWdPdXQoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZHJhZ2dhYmxlIHx8ICF0aGlzLl9kcmFnZ2luZyB8fCAhdGhpcy5fZHJhZ092ZXIpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9kcmFnT3ZlciA9IG51bGw7XHJcbiAgICB0aGlzLl91cGRhdGVEcmFnSGFuZGxlKCk7XHJcbiAgICB0aGlzLmVtaXQoJ2RyYWdvdXQnKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBfdXBkYXRlRHJhZ0hhbmRsZSgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5kcmFnZ2FibGUgfHwgIXRoaXMuX2RyYWdnaW5nKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgaWYgKCF0aGlzLl9kcmFnT3Zlcikge1xyXG4gICAgICB0aGlzLmVsZW1lbnREcmFnLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHJlY3QgPSB0aGlzLl9kcmFnT3Zlci5lbGVtZW50VGl0bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICB0aGlzLmVsZW1lbnREcmFnLmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScsICdpbnNpZGUnLCAnYWZ0ZXInLCAnaGlkZGVuJylcclxuICAgICAgdGhpcy5lbGVtZW50RHJhZy5jbGFzc0xpc3QuYWRkKHRoaXMuX2RyYWdBcmVhKTtcclxuXHJcbiAgICAgIHRoaXMuZWxlbWVudERyYWcuc3R5bGUudG9wID0gcmVjdC50b3AgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW1lbnREcmFnLnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyAncHgnO1xyXG4gICAgICB0aGlzLmVsZW1lbnREcmFnLnN0eWxlLndpZHRoID0gKHJlY3Qud2lkdGggLSA0KSArICdweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vbkFwcGVuZChpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgLy8gY29uc29sZS5lcnJvcignX29uQXBwZW5kJyk7XHJcbiAgICBpdGVtLnRyZWUgPSB0aGlzO1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICBpdGVtLm9uKCdkcmFnc3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGNhbid0IGRyYWcgcm9vdCAgVE9ET1xyXG4gICAgICBpZiAoaXRlbS5wYXJlbnQgPT09IHNlbGYpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgc2VsZi5fb25EcmFnU3RhcnQoaXRlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdGVtLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgIHNlbGYuX29uRHJhZ092ZXIoaXRlbSwgZXZ0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0ZW0ub24oJ2RyYWdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNlbGYuX29uRHJhZ0VuZCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vblJlbW92ZShpdGVtOiBUcmVlSXRlbSk6IHZvaWQge1xyXG4gICAgaXRlbS50cmVlID0gbnVsbDtcclxuICAgIGl0ZW0udW5iaW5kKCdkcmFnc3RhcnQnKTtcclxuICAgIGl0ZW0udW5iaW5kKCdtb3VzZW92ZXInKTtcclxuICAgIGl0ZW0udW5iaW5kKCdkcmFnZW5kJyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLl9zZWxlY3RlZC5sZW5ndGgpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICBsZXQgaTogbnVtYmVyID0gdGhpcy5fc2VsZWN0ZWQubGVuZ3RoO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB0aGlzLl9zZWxlY3RlZFtpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fc2VsZWN0ZWQgPSBbXTtcclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlcGFyZW50RHJhZ0l0ZW1zIHtcclxuICBpdGVtOiBUcmVlSXRlbTtcclxuICBvbGQ6IE51bGxhYmxlPEVsZW1lbnQ+O1xyXG4gIG5ldzogTnVsbGFibGU8RWxlbWVudD47XHJcbn0iXX0="}